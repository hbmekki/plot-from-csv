(function(){const ae=document.createElement("link").relList;if(ae&&ae.supports&&ae.supports("modulepreload"))return;for(const ot of document.querySelectorAll('link[rel="modulepreload"]'))Ne(ot);new MutationObserver(ot=>{for(const mt of ot)if(mt.type==="childList")for(const Y of mt.addedNodes)Y.tagName==="LINK"&&Y.rel==="modulepreload"&&Ne(Y)}).observe(document,{childList:!0,subtree:!0});function me(ot){const mt={};return ot.integrity&&(mt.integrity=ot.integrity),ot.referrerPolicy&&(mt.referrerPolicy=ot.referrerPolicy),ot.crossOrigin==="use-credentials"?mt.credentials="include":ot.crossOrigin==="anonymous"?mt.credentials="omit":mt.credentials="same-origin",mt}function Ne(ot){if(ot.ep)return;ot.ep=!0;const mt=me(ot);fetch(ot.href,mt)}})();function w0(H){return H&&H.__esModule&&Object.prototype.hasOwnProperty.call(H,"default")?H.default:H}var Qx={exports:{}},T0={},$x={exports:{}},vi={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ud=Symbol.for("react.element"),LT=Symbol.for("react.portal"),PT=Symbol.for("react.fragment"),RT=Symbol.for("react.strict_mode"),DT=Symbol.for("react.profiler"),IT=Symbol.for("react.provider"),kT=Symbol.for("react.context"),_T=Symbol.for("react.forward_ref"),zT=Symbol.for("react.suspense"),FT=Symbol.for("react.memo"),OT=Symbol.for("react.lazy"),Hm=Symbol.iterator;function BT(H){return H===null||typeof H!="object"?null:(H=Hm&&H[Hm]||H["@@iterator"],typeof H=="function"?H:null)}var qx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},e3=Object.assign,t3={};function Dv(H,ae,me){this.props=H,this.context=ae,this.refs=t3,this.updater=me||qx}Dv.prototype.isReactComponent={};Dv.prototype.setState=function(H,ae){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ae,"setState")};Dv.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function r3(){}r3.prototype=Dv.prototype;function zy(H,ae,me){this.props=H,this.context=ae,this.refs=t3,this.updater=me||qx}var Fy=zy.prototype=new r3;Fy.constructor=zy;e3(Fy,Dv.prototype);Fy.isPureReactComponent=!0;var Gm=Array.isArray,n3=Object.prototype.hasOwnProperty,Oy={current:null},a3={key:!0,ref:!0,__self:!0,__source:!0};function i3(H,ae,me){var Ne,ot={},mt=null,Y=null;if(ae!=null)for(Ne in ae.ref!==void 0&&(Y=ae.ref),ae.key!==void 0&&(mt=""+ae.key),ae)n3.call(ae,Ne)&&!a3.hasOwnProperty(Ne)&&(ot[Ne]=ae[Ne]);var V=arguments.length-2;if(V===1)ot.children=me;else if(1<V){for(var e=Array(V),b=0;b<V;b++)e[b]=arguments[b+2];ot.children=e}if(H&&H.defaultProps)for(Ne in V=H.defaultProps,V)ot[Ne]===void 0&&(ot[Ne]=V[Ne]);return{$$typeof:Ud,type:H,key:mt,ref:Y,props:ot,_owner:Oy.current}}function NT(H,ae){return{$$typeof:Ud,type:H.type,key:ae,ref:H.ref,props:H.props,_owner:H._owner}}function By(H){return typeof H=="object"&&H!==null&&H.$$typeof===Ud}function UT(H){var ae={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(me){return ae[me]})}var Wm=/\/+/g;function pg(H,ae){return typeof H=="object"&&H!==null&&H.key!=null?UT(""+H.key):ae.toString(36)}function Fp(H,ae,me,Ne,ot){var mt=typeof H;(mt==="undefined"||mt==="boolean")&&(H=null);var Y=!1;if(H===null)Y=!0;else switch(mt){case"string":case"number":Y=!0;break;case"object":switch(H.$$typeof){case Ud:case LT:Y=!0}}if(Y)return Y=H,ot=ot(Y),H=Ne===""?"."+pg(Y,0):Ne,Gm(ot)?(me="",H!=null&&(me=H.replace(Wm,"$&/")+"/"),Fp(ot,ae,me,"",function(b){return b})):ot!=null&&(By(ot)&&(ot=NT(ot,me+(!ot.key||Y&&Y.key===ot.key?"":(""+ot.key).replace(Wm,"$&/")+"/")+H)),ae.push(ot)),1;if(Y=0,Ne=Ne===""?".":Ne+":",Gm(H))for(var V=0;V<H.length;V++){mt=H[V];var e=Ne+pg(mt,V);Y+=Fp(mt,ae,me,e,ot)}else if(e=BT(H),typeof e=="function")for(H=e.call(H),V=0;!(mt=H.next()).done;)mt=mt.value,e=Ne+pg(mt,V++),Y+=Fp(mt,ae,me,e,ot);else if(mt==="object")throw ae=String(H),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.");return Y}function xp(H,ae,me){if(H==null)return H;var Ne=[],ot=0;return Fp(H,Ne,"","",function(mt){return ae.call(me,mt,ot++)}),Ne}function VT(H){if(H._status===-1){var ae=H._result;ae=ae(),ae.then(function(me){(H._status===0||H._status===-1)&&(H._status=1,H._result=me)},function(me){(H._status===0||H._status===-1)&&(H._status=2,H._result=me)}),H._status===-1&&(H._status=0,H._result=ae)}if(H._status===1)return H._result.default;throw H._result}var Os={current:null},Op={transition:null},HT={ReactCurrentDispatcher:Os,ReactCurrentBatchConfig:Op,ReactCurrentOwner:Oy};function o3(){throw Error("act(...) is not supported in production builds of React.")}vi.Children={map:xp,forEach:function(H,ae,me){xp(H,function(){ae.apply(this,arguments)},me)},count:function(H){var ae=0;return xp(H,function(){ae++}),ae},toArray:function(H){return xp(H,function(ae){return ae})||[]},only:function(H){if(!By(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};vi.Component=Dv;vi.Fragment=PT;vi.Profiler=DT;vi.PureComponent=zy;vi.StrictMode=RT;vi.Suspense=zT;vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HT;vi.act=o3;vi.cloneElement=function(H,ae,me){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var Ne=e3({},H.props),ot=H.key,mt=H.ref,Y=H._owner;if(ae!=null){if(ae.ref!==void 0&&(mt=ae.ref,Y=Oy.current),ae.key!==void 0&&(ot=""+ae.key),H.type&&H.type.defaultProps)var V=H.type.defaultProps;for(e in ae)n3.call(ae,e)&&!a3.hasOwnProperty(e)&&(Ne[e]=ae[e]===void 0&&V!==void 0?V[e]:ae[e])}var e=arguments.length-2;if(e===1)Ne.children=me;else if(1<e){V=Array(e);for(var b=0;b<e;b++)V[b]=arguments[b+2];Ne.children=V}return{$$typeof:Ud,type:H.type,key:ot,ref:mt,props:Ne,_owner:Y}};vi.createContext=function(H){return H={$$typeof:kT,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:IT,_context:H},H.Consumer=H};vi.createElement=i3;vi.createFactory=function(H){var ae=i3.bind(null,H);return ae.type=H,ae};vi.createRef=function(){return{current:null}};vi.forwardRef=function(H){return{$$typeof:_T,render:H}};vi.isValidElement=By;vi.lazy=function(H){return{$$typeof:OT,_payload:{_status:-1,_result:H},_init:VT}};vi.memo=function(H,ae){return{$$typeof:FT,type:H,compare:ae===void 0?null:ae}};vi.startTransition=function(H){var ae=Op.transition;Op.transition={};try{H()}finally{Op.transition=ae}};vi.unstable_act=o3;vi.useCallback=function(H,ae){return Os.current.useCallback(H,ae)};vi.useContext=function(H){return Os.current.useContext(H)};vi.useDebugValue=function(){};vi.useDeferredValue=function(H){return Os.current.useDeferredValue(H)};vi.useEffect=function(H,ae){return Os.current.useEffect(H,ae)};vi.useId=function(){return Os.current.useId()};vi.useImperativeHandle=function(H,ae,me){return Os.current.useImperativeHandle(H,ae,me)};vi.useInsertionEffect=function(H,ae){return Os.current.useInsertionEffect(H,ae)};vi.useLayoutEffect=function(H,ae){return Os.current.useLayoutEffect(H,ae)};vi.useMemo=function(H,ae){return Os.current.useMemo(H,ae)};vi.useReducer=function(H,ae,me){return Os.current.useReducer(H,ae,me)};vi.useRef=function(H){return Os.current.useRef(H)};vi.useState=function(H){return Os.current.useState(H)};vi.useSyncExternalStore=function(H,ae,me){return Os.current.useSyncExternalStore(H,ae,me)};vi.useTransition=function(){return Os.current.useTransition()};vi.version="18.3.1";$x.exports=vi;var Wa=$x.exports;const GT=w0(Wa);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WT=Wa,YT=Symbol.for("react.element"),XT=Symbol.for("react.fragment"),jT=Object.prototype.hasOwnProperty,ZT=WT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KT={key:!0,ref:!0,__self:!0,__source:!0};function s3(H,ae,me){var Ne,ot={},mt=null,Y=null;me!==void 0&&(mt=""+me),ae.key!==void 0&&(mt=""+ae.key),ae.ref!==void 0&&(Y=ae.ref);for(Ne in ae)jT.call(ae,Ne)&&!KT.hasOwnProperty(Ne)&&(ot[Ne]=ae[Ne]);if(H&&H.defaultProps)for(Ne in ae=H.defaultProps,ae)ot[Ne]===void 0&&(ot[Ne]=ae[Ne]);return{$$typeof:YT,type:H,key:mt,ref:Y,props:ot,_owner:ZT.current}}T0.Fragment=XT;T0.jsx=s3;T0.jsxs=s3;Qx.exports=T0;var Ha=Qx.exports,Vg={},l3={exports:{}},Al={},u3={exports:{}},f3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(H){function ae(A,i){var E=A.length;A.push(i);e:for(;0<E;){var m=E-1>>>1,k=A[m];if(0<ot(k,i))A[m]=i,A[E]=k,E=m;else break e}}function me(A){return A.length===0?null:A[0]}function Ne(A){if(A.length===0)return null;var i=A[0],E=A.pop();if(E!==i){A[0]=E;e:for(var m=0,k=A.length,I=k>>>1;m<I;){var O=2*(m+1)-1,_=A[O],B=O+1,F=A[B];if(0>ot(_,E))B<k&&0>ot(F,_)?(A[m]=F,A[B]=E,m=B):(A[m]=_,A[O]=E,m=O);else if(B<k&&0>ot(F,E))A[m]=F,A[B]=E,m=B;else break e}}return i}function ot(A,i){var E=A.sortIndex-i.sortIndex;return E!==0?E:A.id-i.id}if(typeof performance=="object"&&typeof performance.now=="function"){var mt=performance;H.unstable_now=function(){return mt.now()}}else{var Y=Date,V=Y.now();H.unstable_now=function(){return Y.now()-V}}var e=[],b=[],P=1,s=null,L=3,M=!1,v=!1,p=!1,r=typeof setTimeout=="function"?setTimeout:null,t=typeof clearTimeout=="function"?clearTimeout:null,o=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function n(A){for(var i=me(b);i!==null;){if(i.callback===null)Ne(b);else if(i.startTime<=A)Ne(b),i.sortIndex=i.expirationTime,ae(e,i);else break;i=me(b)}}function l(A){if(p=!1,n(A),!v)if(me(e)!==null)v=!0,y(u);else{var i=me(b);i!==null&&S(l,i.startTime-A)}}function u(A,i){v=!1,p&&(p=!1,t(h),h=-1),M=!0;var E=L;try{for(n(i),s=me(e);s!==null&&(!(s.expirationTime>i)||A&&!a());){var m=s.callback;if(typeof m=="function"){s.callback=null,L=s.priorityLevel;var k=m(s.expirationTime<=i);i=H.unstable_now(),typeof k=="function"?s.callback=k:s===me(e)&&Ne(e),n(i)}else Ne(e);s=me(e)}if(s!==null)var I=!0;else{var O=me(b);O!==null&&S(l,O.startTime-i),I=!1}return I}finally{s=null,L=E,M=!1}}var f=!1,g=null,h=-1,w=5,c=-1;function a(){return!(H.unstable_now()-c<w)}function d(){if(g!==null){var A=H.unstable_now();c=A;var i=!0;try{i=g(!0,A)}finally{i?x():(f=!1,g=null)}}else f=!1}var x;if(typeof o=="function")x=function(){o(d)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,C=T.port2;T.port1.onmessage=d,x=function(){C.postMessage(null)}}else x=function(){r(d,0)};function y(A){g=A,f||(f=!0,x())}function S(A,i){h=r(function(){A(H.unstable_now())},i)}H.unstable_IdlePriority=5,H.unstable_ImmediatePriority=1,H.unstable_LowPriority=4,H.unstable_NormalPriority=3,H.unstable_Profiling=null,H.unstable_UserBlockingPriority=2,H.unstable_cancelCallback=function(A){A.callback=null},H.unstable_continueExecution=function(){v||M||(v=!0,y(u))},H.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<A?Math.floor(1e3/A):5},H.unstable_getCurrentPriorityLevel=function(){return L},H.unstable_getFirstCallbackNode=function(){return me(e)},H.unstable_next=function(A){switch(L){case 1:case 2:case 3:var i=3;break;default:i=L}var E=L;L=i;try{return A()}finally{L=E}},H.unstable_pauseExecution=function(){},H.unstable_requestPaint=function(){},H.unstable_runWithPriority=function(A,i){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var E=L;L=A;try{return i()}finally{L=E}},H.unstable_scheduleCallback=function(A,i,E){var m=H.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?m+E:m):E=m,A){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=E+k,A={id:P++,callback:i,priorityLevel:A,startTime:E,expirationTime:k,sortIndex:-1},E>m?(A.sortIndex=E,ae(b,A),me(e)===null&&A===me(b)&&(p?(t(h),h=-1):p=!0,S(l,E-m))):(A.sortIndex=k,ae(e,A),v||M||(v=!0,y(u))),A},H.unstable_shouldYield=a,H.unstable_wrapCallback=function(A){var i=L;return function(){var E=L;L=i;try{return A.apply(this,arguments)}finally{L=E}}}})(f3);u3.exports=f3;var JT=u3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QT=Wa,Tl=JT;function ga(H){for(var ae="https://reactjs.org/docs/error-decoder.html?invariant="+H,me=1;me<arguments.length;me++)ae+="&args[]="+encodeURIComponent(arguments[me]);return"Minified React error #"+H+"; visit "+ae+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c3=new Set,Ad={};function Rh(H,ae){Mv(H,ae),Mv(H+"Capture",ae)}function Mv(H,ae){for(Ad[H]=ae,H=0;H<ae.length;H++)c3.add(ae[H])}var Of=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hg=Object.prototype.hasOwnProperty,$T=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ym={},Xm={};function qT(H){return Hg.call(Xm,H)?!0:Hg.call(Ym,H)?!1:$T.test(H)?Xm[H]=!0:(Ym[H]=!0,!1)}function e5(H,ae,me,Ne){if(me!==null&&me.type===0)return!1;switch(typeof ae){case"function":case"symbol":return!0;case"boolean":return Ne?!1:me!==null?!me.acceptsBooleans:(H=H.toLowerCase().slice(0,5),H!=="data-"&&H!=="aria-");default:return!1}}function t5(H,ae,me,Ne){if(ae===null||typeof ae>"u"||e5(H,ae,me,Ne))return!0;if(Ne)return!1;if(me!==null)switch(me.type){case 3:return!ae;case 4:return ae===!1;case 5:return isNaN(ae);case 6:return isNaN(ae)||1>ae}return!1}function Bs(H,ae,me,Ne,ot,mt,Y){this.acceptsBooleans=ae===2||ae===3||ae===4,this.attributeName=Ne,this.attributeNamespace=ot,this.mustUseProperty=me,this.propertyName=H,this.type=ae,this.sanitizeURL=mt,this.removeEmptyString=Y}var ss={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(H){ss[H]=new Bs(H,0,!1,H,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(H){var ae=H[0];ss[ae]=new Bs(ae,1,!1,H[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(H){ss[H]=new Bs(H,2,!1,H.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(H){ss[H]=new Bs(H,2,!1,H,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(H){ss[H]=new Bs(H,3,!1,H.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(H){ss[H]=new Bs(H,3,!0,H,null,!1,!1)});["capture","download"].forEach(function(H){ss[H]=new Bs(H,4,!1,H,null,!1,!1)});["cols","rows","size","span"].forEach(function(H){ss[H]=new Bs(H,6,!1,H,null,!1,!1)});["rowSpan","start"].forEach(function(H){ss[H]=new Bs(H,5,!1,H.toLowerCase(),null,!1,!1)});var Ny=/[\-:]([a-z])/g;function Uy(H){return H[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(H){var ae=H.replace(Ny,Uy);ss[ae]=new Bs(ae,1,!1,H,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(H){var ae=H.replace(Ny,Uy);ss[ae]=new Bs(ae,1,!1,H,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(H){var ae=H.replace(Ny,Uy);ss[ae]=new Bs(ae,1,!1,H,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(H){ss[H]=new Bs(H,1,!1,H.toLowerCase(),null,!1,!1)});ss.xlinkHref=new Bs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(H){ss[H]=new Bs(H,1,!1,H.toLowerCase(),null,!0,!0)});function Vy(H,ae,me,Ne){var ot=ss.hasOwnProperty(ae)?ss[ae]:null;(ot!==null?ot.type!==0:Ne||!(2<ae.length)||ae[0]!=="o"&&ae[0]!=="O"||ae[1]!=="n"&&ae[1]!=="N")&&(t5(ae,me,ot,Ne)&&(me=null),Ne||ot===null?qT(ae)&&(me===null?H.removeAttribute(ae):H.setAttribute(ae,""+me)):ot.mustUseProperty?H[ot.propertyName]=me===null?ot.type===3?!1:"":me:(ae=ot.attributeName,Ne=ot.attributeNamespace,me===null?H.removeAttribute(ae):(ot=ot.type,me=ot===3||ot===4&&me===!0?"":""+me,Ne?H.setAttributeNS(Ne,ae,me):H.setAttribute(ae,me))))}var Hf=QT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bp=Symbol.for("react.element"),iv=Symbol.for("react.portal"),ov=Symbol.for("react.fragment"),Hy=Symbol.for("react.strict_mode"),Gg=Symbol.for("react.profiler"),h3=Symbol.for("react.provider"),v3=Symbol.for("react.context"),Gy=Symbol.for("react.forward_ref"),Wg=Symbol.for("react.suspense"),Yg=Symbol.for("react.suspense_list"),Wy=Symbol.for("react.memo"),Ec=Symbol.for("react.lazy"),d3=Symbol.for("react.offscreen"),jm=Symbol.iterator;function rd(H){return H===null||typeof H!="object"?null:(H=jm&&H[jm]||H["@@iterator"],typeof H=="function"?H:null)}var co=Object.assign,gg;function fd(H){if(gg===void 0)try{throw Error()}catch(me){var ae=me.stack.trim().match(/\n( *(at )?)/);gg=ae&&ae[1]||""}return`
`+gg+H}var yg=!1;function mg(H,ae){if(!H||yg)return"";yg=!0;var me=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(ae)if(ae=function(){throw Error()},Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(b){var Ne=b}Reflect.construct(H,[],ae)}else{try{ae.call()}catch(b){Ne=b}H.call(ae.prototype)}else{try{throw Error()}catch(b){Ne=b}H()}}catch(b){if(b&&Ne&&typeof b.stack=="string"){for(var ot=b.stack.split(`
`),mt=Ne.stack.split(`
`),Y=ot.length-1,V=mt.length-1;1<=Y&&0<=V&&ot[Y]!==mt[V];)V--;for(;1<=Y&&0<=V;Y--,V--)if(ot[Y]!==mt[V]){if(Y!==1||V!==1)do if(Y--,V--,0>V||ot[Y]!==mt[V]){var e=`
`+ot[Y].replace(" at new "," at ");return H.displayName&&e.includes("<anonymous>")&&(e=e.replace("<anonymous>",H.displayName)),e}while(1<=Y&&0<=V);break}}}finally{yg=!1,Error.prepareStackTrace=me}return(H=H?H.displayName||H.name:"")?fd(H):""}function r5(H){switch(H.tag){case 5:return fd(H.type);case 16:return fd("Lazy");case 13:return fd("Suspense");case 19:return fd("SuspenseList");case 0:case 2:case 15:return H=mg(H.type,!1),H;case 11:return H=mg(H.type.render,!1),H;case 1:return H=mg(H.type,!0),H;default:return""}}function Xg(H){if(H==null)return null;if(typeof H=="function")return H.displayName||H.name||null;if(typeof H=="string")return H;switch(H){case ov:return"Fragment";case iv:return"Portal";case Gg:return"Profiler";case Hy:return"StrictMode";case Wg:return"Suspense";case Yg:return"SuspenseList"}if(typeof H=="object")switch(H.$$typeof){case v3:return(H.displayName||"Context")+".Consumer";case h3:return(H._context.displayName||"Context")+".Provider";case Gy:var ae=H.render;return H=H.displayName,H||(H=ae.displayName||ae.name||"",H=H!==""?"ForwardRef("+H+")":"ForwardRef"),H;case Wy:return ae=H.displayName||null,ae!==null?ae:Xg(H.type)||"Memo";case Ec:ae=H._payload,H=H._init;try{return Xg(H(ae))}catch{}}return null}function n5(H){var ae=H.type;switch(H.tag){case 24:return"Cache";case 9:return(ae.displayName||"Context")+".Consumer";case 10:return(ae._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return H=ae.render,H=H.displayName||H.name||"",ae.displayName||(H!==""?"ForwardRef("+H+")":"ForwardRef");case 7:return"Fragment";case 5:return ae;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xg(ae);case 8:return ae===Hy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof ae=="function")return ae.displayName||ae.name||null;if(typeof ae=="string")return ae}return null}function Uc(H){switch(typeof H){case"boolean":case"number":case"string":case"undefined":return H;case"object":return H;default:return""}}function p3(H){var ae=H.type;return(H=H.nodeName)&&H.toLowerCase()==="input"&&(ae==="checkbox"||ae==="radio")}function a5(H){var ae=p3(H)?"checked":"value",me=Object.getOwnPropertyDescriptor(H.constructor.prototype,ae),Ne=""+H[ae];if(!H.hasOwnProperty(ae)&&typeof me<"u"&&typeof me.get=="function"&&typeof me.set=="function"){var ot=me.get,mt=me.set;return Object.defineProperty(H,ae,{configurable:!0,get:function(){return ot.call(this)},set:function(Y){Ne=""+Y,mt.call(this,Y)}}),Object.defineProperty(H,ae,{enumerable:me.enumerable}),{getValue:function(){return Ne},setValue:function(Y){Ne=""+Y},stopTracking:function(){H._valueTracker=null,delete H[ae]}}}}function wp(H){H._valueTracker||(H._valueTracker=a5(H))}function g3(H){if(!H)return!1;var ae=H._valueTracker;if(!ae)return!0;var me=ae.getValue(),Ne="";return H&&(Ne=p3(H)?H.checked?"true":"false":H.value),H=Ne,H!==me?(ae.setValue(H),!0):!1}function Zp(H){if(H=H||(typeof document<"u"?document:void 0),typeof H>"u")return null;try{return H.activeElement||H.body}catch{return H.body}}function jg(H,ae){var me=ae.checked;return co({},ae,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:me??H._wrapperState.initialChecked})}function Zm(H,ae){var me=ae.defaultValue==null?"":ae.defaultValue,Ne=ae.checked!=null?ae.checked:ae.defaultChecked;me=Uc(ae.value!=null?ae.value:me),H._wrapperState={initialChecked:Ne,initialValue:me,controlled:ae.type==="checkbox"||ae.type==="radio"?ae.checked!=null:ae.value!=null}}function y3(H,ae){ae=ae.checked,ae!=null&&Vy(H,"checked",ae,!1)}function Zg(H,ae){y3(H,ae);var me=Uc(ae.value),Ne=ae.type;if(me!=null)Ne==="number"?(me===0&&H.value===""||H.value!=me)&&(H.value=""+me):H.value!==""+me&&(H.value=""+me);else if(Ne==="submit"||Ne==="reset"){H.removeAttribute("value");return}ae.hasOwnProperty("value")?Kg(H,ae.type,me):ae.hasOwnProperty("defaultValue")&&Kg(H,ae.type,Uc(ae.defaultValue)),ae.checked==null&&ae.defaultChecked!=null&&(H.defaultChecked=!!ae.defaultChecked)}function Km(H,ae,me){if(ae.hasOwnProperty("value")||ae.hasOwnProperty("defaultValue")){var Ne=ae.type;if(!(Ne!=="submit"&&Ne!=="reset"||ae.value!==void 0&&ae.value!==null))return;ae=""+H._wrapperState.initialValue,me||ae===H.value||(H.value=ae),H.defaultValue=ae}me=H.name,me!==""&&(H.name=""),H.defaultChecked=!!H._wrapperState.initialChecked,me!==""&&(H.name=me)}function Kg(H,ae,me){(ae!=="number"||Zp(H.ownerDocument)!==H)&&(me==null?H.defaultValue=""+H._wrapperState.initialValue:H.defaultValue!==""+me&&(H.defaultValue=""+me))}var cd=Array.isArray;function yv(H,ae,me,Ne){if(H=H.options,ae){ae={};for(var ot=0;ot<me.length;ot++)ae["$"+me[ot]]=!0;for(me=0;me<H.length;me++)ot=ae.hasOwnProperty("$"+H[me].value),H[me].selected!==ot&&(H[me].selected=ot),ot&&Ne&&(H[me].defaultSelected=!0)}else{for(me=""+Uc(me),ae=null,ot=0;ot<H.length;ot++){if(H[ot].value===me){H[ot].selected=!0,Ne&&(H[ot].defaultSelected=!0);return}ae!==null||H[ot].disabled||(ae=H[ot])}ae!==null&&(ae.selected=!0)}}function Jg(H,ae){if(ae.dangerouslySetInnerHTML!=null)throw Error(ga(91));return co({},ae,{value:void 0,defaultValue:void 0,children:""+H._wrapperState.initialValue})}function Jm(H,ae){var me=ae.value;if(me==null){if(me=ae.children,ae=ae.defaultValue,me!=null){if(ae!=null)throw Error(ga(92));if(cd(me)){if(1<me.length)throw Error(ga(93));me=me[0]}ae=me}ae==null&&(ae=""),me=ae}H._wrapperState={initialValue:Uc(me)}}function m3(H,ae){var me=Uc(ae.value),Ne=Uc(ae.defaultValue);me!=null&&(me=""+me,me!==H.value&&(H.value=me),ae.defaultValue==null&&H.defaultValue!==me&&(H.defaultValue=me)),Ne!=null&&(H.defaultValue=""+Ne)}function Qm(H){var ae=H.textContent;ae===H._wrapperState.initialValue&&ae!==""&&ae!==null&&(H.value=ae)}function x3(H){switch(H){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qg(H,ae){return H==null||H==="http://www.w3.org/1999/xhtml"?x3(ae):H==="http://www.w3.org/2000/svg"&&ae==="foreignObject"?"http://www.w3.org/1999/xhtml":H}var Tp,b3=function(H){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(ae,me,Ne,ot){MSApp.execUnsafeLocalFunction(function(){return H(ae,me,Ne,ot)})}:H}(function(H,ae){if(H.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in H)H.innerHTML=ae;else{for(Tp=Tp||document.createElement("div"),Tp.innerHTML="<svg>"+ae.valueOf().toString()+"</svg>",ae=Tp.firstChild;H.firstChild;)H.removeChild(H.firstChild);for(;ae.firstChild;)H.appendChild(ae.firstChild)}});function Md(H,ae){if(ae){var me=H.firstChild;if(me&&me===H.lastChild&&me.nodeType===3){me.nodeValue=ae;return}}H.textContent=ae}var dd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i5=["Webkit","ms","Moz","O"];Object.keys(dd).forEach(function(H){i5.forEach(function(ae){ae=ae+H.charAt(0).toUpperCase()+H.substring(1),dd[ae]=dd[H]})});function w3(H,ae,me){return ae==null||typeof ae=="boolean"||ae===""?"":me||typeof ae!="number"||ae===0||dd.hasOwnProperty(H)&&dd[H]?(""+ae).trim():ae+"px"}function T3(H,ae){H=H.style;for(var me in ae)if(ae.hasOwnProperty(me)){var Ne=me.indexOf("--")===0,ot=w3(me,ae[me],Ne);me==="float"&&(me="cssFloat"),Ne?H.setProperty(me,ot):H[me]=ot}}var o5=co({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $g(H,ae){if(ae){if(o5[H]&&(ae.children!=null||ae.dangerouslySetInnerHTML!=null))throw Error(ga(137,H));if(ae.dangerouslySetInnerHTML!=null){if(ae.children!=null)throw Error(ga(60));if(typeof ae.dangerouslySetInnerHTML!="object"||!("__html"in ae.dangerouslySetInnerHTML))throw Error(ga(61))}if(ae.style!=null&&typeof ae.style!="object")throw Error(ga(62))}}function qg(H,ae){if(H.indexOf("-")===-1)return typeof ae.is=="string";switch(H){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ey=null;function Yy(H){return H=H.target||H.srcElement||window,H.correspondingUseElement&&(H=H.correspondingUseElement),H.nodeType===3?H.parentNode:H}var ty=null,mv=null,xv=null;function $m(H){if(H=Gd(H)){if(typeof ty!="function")throw Error(ga(280));var ae=H.stateNode;ae&&(ae=C0(ae),ty(H.stateNode,H.type,ae))}}function A3(H){mv?xv?xv.push(H):xv=[H]:mv=H}function M3(){if(mv){var H=mv,ae=xv;if(xv=mv=null,$m(H),ae)for(H=0;H<ae.length;H++)$m(ae[H])}}function S3(H,ae){return H(ae)}function E3(){}var xg=!1;function C3(H,ae,me){if(xg)return H(ae,me);xg=!0;try{return S3(H,ae,me)}finally{xg=!1,(mv!==null||xv!==null)&&(E3(),M3())}}function Sd(H,ae){var me=H.stateNode;if(me===null)return null;var Ne=C0(me);if(Ne===null)return null;me=Ne[ae];e:switch(ae){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Ne=!Ne.disabled)||(H=H.type,Ne=!(H==="button"||H==="input"||H==="select"||H==="textarea")),H=!Ne;break e;default:H=!1}if(H)return null;if(me&&typeof me!="function")throw Error(ga(231,ae,typeof me));return me}var ry=!1;if(Of)try{var nd={};Object.defineProperty(nd,"passive",{get:function(){ry=!0}}),window.addEventListener("test",nd,nd),window.removeEventListener("test",nd,nd)}catch{ry=!1}function s5(H,ae,me,Ne,ot,mt,Y,V,e){var b=Array.prototype.slice.call(arguments,3);try{ae.apply(me,b)}catch(P){this.onError(P)}}var pd=!1,Kp=null,Jp=!1,ny=null,l5={onError:function(H){pd=!0,Kp=H}};function u5(H,ae,me,Ne,ot,mt,Y,V,e){pd=!1,Kp=null,s5.apply(l5,arguments)}function f5(H,ae,me,Ne,ot,mt,Y,V,e){if(u5.apply(this,arguments),pd){if(pd){var b=Kp;pd=!1,Kp=null}else throw Error(ga(198));Jp||(Jp=!0,ny=b)}}function Dh(H){var ae=H,me=H;if(H.alternate)for(;ae.return;)ae=ae.return;else{H=ae;do ae=H,ae.flags&4098&&(me=ae.return),H=ae.return;while(H)}return ae.tag===3?me:null}function L3(H){if(H.tag===13){var ae=H.memoizedState;if(ae===null&&(H=H.alternate,H!==null&&(ae=H.memoizedState)),ae!==null)return ae.dehydrated}return null}function qm(H){if(Dh(H)!==H)throw Error(ga(188))}function c5(H){var ae=H.alternate;if(!ae){if(ae=Dh(H),ae===null)throw Error(ga(188));return ae!==H?null:H}for(var me=H,Ne=ae;;){var ot=me.return;if(ot===null)break;var mt=ot.alternate;if(mt===null){if(Ne=ot.return,Ne!==null){me=Ne;continue}break}if(ot.child===mt.child){for(mt=ot.child;mt;){if(mt===me)return qm(ot),H;if(mt===Ne)return qm(ot),ae;mt=mt.sibling}throw Error(ga(188))}if(me.return!==Ne.return)me=ot,Ne=mt;else{for(var Y=!1,V=ot.child;V;){if(V===me){Y=!0,me=ot,Ne=mt;break}if(V===Ne){Y=!0,Ne=ot,me=mt;break}V=V.sibling}if(!Y){for(V=mt.child;V;){if(V===me){Y=!0,me=mt,Ne=ot;break}if(V===Ne){Y=!0,Ne=mt,me=ot;break}V=V.sibling}if(!Y)throw Error(ga(189))}}if(me.alternate!==Ne)throw Error(ga(190))}if(me.tag!==3)throw Error(ga(188));return me.stateNode.current===me?H:ae}function P3(H){return H=c5(H),H!==null?R3(H):null}function R3(H){if(H.tag===5||H.tag===6)return H;for(H=H.child;H!==null;){var ae=R3(H);if(ae!==null)return ae;H=H.sibling}return null}var D3=Tl.unstable_scheduleCallback,ex=Tl.unstable_cancelCallback,h5=Tl.unstable_shouldYield,v5=Tl.unstable_requestPaint,So=Tl.unstable_now,d5=Tl.unstable_getCurrentPriorityLevel,Xy=Tl.unstable_ImmediatePriority,I3=Tl.unstable_UserBlockingPriority,Qp=Tl.unstable_NormalPriority,p5=Tl.unstable_LowPriority,k3=Tl.unstable_IdlePriority,A0=null,af=null;function g5(H){if(af&&typeof af.onCommitFiberRoot=="function")try{af.onCommitFiberRoot(A0,H,void 0,(H.current.flags&128)===128)}catch{}}var Iu=Math.clz32?Math.clz32:x5,y5=Math.log,m5=Math.LN2;function x5(H){return H>>>=0,H===0?32:31-(y5(H)/m5|0)|0}var Ap=64,Mp=4194304;function hd(H){switch(H&-H){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return H&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return H&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return H}}function $p(H,ae){var me=H.pendingLanes;if(me===0)return 0;var Ne=0,ot=H.suspendedLanes,mt=H.pingedLanes,Y=me&268435455;if(Y!==0){var V=Y&~ot;V!==0?Ne=hd(V):(mt&=Y,mt!==0&&(Ne=hd(mt)))}else Y=me&~ot,Y!==0?Ne=hd(Y):mt!==0&&(Ne=hd(mt));if(Ne===0)return 0;if(ae!==0&&ae!==Ne&&!(ae&ot)&&(ot=Ne&-Ne,mt=ae&-ae,ot>=mt||ot===16&&(mt&4194240)!==0))return ae;if(Ne&4&&(Ne|=me&16),ae=H.entangledLanes,ae!==0)for(H=H.entanglements,ae&=Ne;0<ae;)me=31-Iu(ae),ot=1<<me,Ne|=H[me],ae&=~ot;return Ne}function b5(H,ae){switch(H){case 1:case 2:case 4:return ae+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ae+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function w5(H,ae){for(var me=H.suspendedLanes,Ne=H.pingedLanes,ot=H.expirationTimes,mt=H.pendingLanes;0<mt;){var Y=31-Iu(mt),V=1<<Y,e=ot[Y];e===-1?(!(V&me)||V&Ne)&&(ot[Y]=b5(V,ae)):e<=ae&&(H.expiredLanes|=V),mt&=~V}}function ay(H){return H=H.pendingLanes&-1073741825,H!==0?H:H&1073741824?1073741824:0}function _3(){var H=Ap;return Ap<<=1,!(Ap&4194240)&&(Ap=64),H}function bg(H){for(var ae=[],me=0;31>me;me++)ae.push(H);return ae}function Vd(H,ae,me){H.pendingLanes|=ae,ae!==536870912&&(H.suspendedLanes=0,H.pingedLanes=0),H=H.eventTimes,ae=31-Iu(ae),H[ae]=me}function T5(H,ae){var me=H.pendingLanes&~ae;H.pendingLanes=ae,H.suspendedLanes=0,H.pingedLanes=0,H.expiredLanes&=ae,H.mutableReadLanes&=ae,H.entangledLanes&=ae,ae=H.entanglements;var Ne=H.eventTimes;for(H=H.expirationTimes;0<me;){var ot=31-Iu(me),mt=1<<ot;ae[ot]=0,Ne[ot]=-1,H[ot]=-1,me&=~mt}}function jy(H,ae){var me=H.entangledLanes|=ae;for(H=H.entanglements;me;){var Ne=31-Iu(me),ot=1<<Ne;ot&ae|H[Ne]&ae&&(H[Ne]|=ae),me&=~ot}}var Ri=0;function z3(H){return H&=-H,1<H?4<H?H&268435455?16:536870912:4:1}var F3,Zy,O3,B3,N3,iy=!1,Sp=[],Ic=null,kc=null,_c=null,Ed=new Map,Cd=new Map,Lc=[],A5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tx(H,ae){switch(H){case"focusin":case"focusout":Ic=null;break;case"dragenter":case"dragleave":kc=null;break;case"mouseover":case"mouseout":_c=null;break;case"pointerover":case"pointerout":Ed.delete(ae.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cd.delete(ae.pointerId)}}function ad(H,ae,me,Ne,ot,mt){return H===null||H.nativeEvent!==mt?(H={blockedOn:ae,domEventName:me,eventSystemFlags:Ne,nativeEvent:mt,targetContainers:[ot]},ae!==null&&(ae=Gd(ae),ae!==null&&Zy(ae)),H):(H.eventSystemFlags|=Ne,ae=H.targetContainers,ot!==null&&ae.indexOf(ot)===-1&&ae.push(ot),H)}function M5(H,ae,me,Ne,ot){switch(ae){case"focusin":return Ic=ad(Ic,H,ae,me,Ne,ot),!0;case"dragenter":return kc=ad(kc,H,ae,me,Ne,ot),!0;case"mouseover":return _c=ad(_c,H,ae,me,Ne,ot),!0;case"pointerover":var mt=ot.pointerId;return Ed.set(mt,ad(Ed.get(mt)||null,H,ae,me,Ne,ot)),!0;case"gotpointercapture":return mt=ot.pointerId,Cd.set(mt,ad(Cd.get(mt)||null,H,ae,me,Ne,ot)),!0}return!1}function U3(H){var ae=bh(H.target);if(ae!==null){var me=Dh(ae);if(me!==null){if(ae=me.tag,ae===13){if(ae=L3(me),ae!==null){H.blockedOn=ae,N3(H.priority,function(){O3(me)});return}}else if(ae===3&&me.stateNode.current.memoizedState.isDehydrated){H.blockedOn=me.tag===3?me.stateNode.containerInfo:null;return}}}H.blockedOn=null}function Bp(H){if(H.blockedOn!==null)return!1;for(var ae=H.targetContainers;0<ae.length;){var me=oy(H.domEventName,H.eventSystemFlags,ae[0],H.nativeEvent);if(me===null){me=H.nativeEvent;var Ne=new me.constructor(me.type,me);ey=Ne,me.target.dispatchEvent(Ne),ey=null}else return ae=Gd(me),ae!==null&&Zy(ae),H.blockedOn=me,!1;ae.shift()}return!0}function rx(H,ae,me){Bp(H)&&me.delete(ae)}function S5(){iy=!1,Ic!==null&&Bp(Ic)&&(Ic=null),kc!==null&&Bp(kc)&&(kc=null),_c!==null&&Bp(_c)&&(_c=null),Ed.forEach(rx),Cd.forEach(rx)}function id(H,ae){H.blockedOn===ae&&(H.blockedOn=null,iy||(iy=!0,Tl.unstable_scheduleCallback(Tl.unstable_NormalPriority,S5)))}function Ld(H){function ae(ot){return id(ot,H)}if(0<Sp.length){id(Sp[0],H);for(var me=1;me<Sp.length;me++){var Ne=Sp[me];Ne.blockedOn===H&&(Ne.blockedOn=null)}}for(Ic!==null&&id(Ic,H),kc!==null&&id(kc,H),_c!==null&&id(_c,H),Ed.forEach(ae),Cd.forEach(ae),me=0;me<Lc.length;me++)Ne=Lc[me],Ne.blockedOn===H&&(Ne.blockedOn=null);for(;0<Lc.length&&(me=Lc[0],me.blockedOn===null);)U3(me),me.blockedOn===null&&Lc.shift()}var bv=Hf.ReactCurrentBatchConfig,qp=!0;function E5(H,ae,me,Ne){var ot=Ri,mt=bv.transition;bv.transition=null;try{Ri=1,Ky(H,ae,me,Ne)}finally{Ri=ot,bv.transition=mt}}function C5(H,ae,me,Ne){var ot=Ri,mt=bv.transition;bv.transition=null;try{Ri=4,Ky(H,ae,me,Ne)}finally{Ri=ot,bv.transition=mt}}function Ky(H,ae,me,Ne){if(qp){var ot=oy(H,ae,me,Ne);if(ot===null)Rg(H,ae,Ne,e0,me),tx(H,Ne);else if(M5(ot,H,ae,me,Ne))Ne.stopPropagation();else if(tx(H,Ne),ae&4&&-1<A5.indexOf(H)){for(;ot!==null;){var mt=Gd(ot);if(mt!==null&&F3(mt),mt=oy(H,ae,me,Ne),mt===null&&Rg(H,ae,Ne,e0,me),mt===ot)break;ot=mt}ot!==null&&Ne.stopPropagation()}else Rg(H,ae,Ne,null,me)}}var e0=null;function oy(H,ae,me,Ne){if(e0=null,H=Yy(Ne),H=bh(H),H!==null)if(ae=Dh(H),ae===null)H=null;else if(me=ae.tag,me===13){if(H=L3(ae),H!==null)return H;H=null}else if(me===3){if(ae.stateNode.current.memoizedState.isDehydrated)return ae.tag===3?ae.stateNode.containerInfo:null;H=null}else ae!==H&&(H=null);return e0=H,null}function V3(H){switch(H){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(d5()){case Xy:return 1;case I3:return 4;case Qp:case p5:return 16;case k3:return 536870912;default:return 16}default:return 16}}var Rc=null,Jy=null,Np=null;function H3(){if(Np)return Np;var H,ae=Jy,me=ae.length,Ne,ot="value"in Rc?Rc.value:Rc.textContent,mt=ot.length;for(H=0;H<me&&ae[H]===ot[H];H++);var Y=me-H;for(Ne=1;Ne<=Y&&ae[me-Ne]===ot[mt-Ne];Ne++);return Np=ot.slice(H,1<Ne?1-Ne:void 0)}function Up(H){var ae=H.keyCode;return"charCode"in H?(H=H.charCode,H===0&&ae===13&&(H=13)):H=ae,H===10&&(H=13),32<=H||H===13?H:0}function Ep(){return!0}function nx(){return!1}function Ml(H){function ae(me,Ne,ot,mt,Y){this._reactName=me,this._targetInst=ot,this.type=Ne,this.nativeEvent=mt,this.target=Y,this.currentTarget=null;for(var V in H)H.hasOwnProperty(V)&&(me=H[V],this[V]=me?me(mt):mt[V]);return this.isDefaultPrevented=(mt.defaultPrevented!=null?mt.defaultPrevented:mt.returnValue===!1)?Ep:nx,this.isPropagationStopped=nx,this}return co(ae.prototype,{preventDefault:function(){this.defaultPrevented=!0;var me=this.nativeEvent;me&&(me.preventDefault?me.preventDefault():typeof me.returnValue!="unknown"&&(me.returnValue=!1),this.isDefaultPrevented=Ep)},stopPropagation:function(){var me=this.nativeEvent;me&&(me.stopPropagation?me.stopPropagation():typeof me.cancelBubble!="unknown"&&(me.cancelBubble=!0),this.isPropagationStopped=Ep)},persist:function(){},isPersistent:Ep}),ae}var Iv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(H){return H.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qy=Ml(Iv),Hd=co({},Iv,{view:0,detail:0}),L5=Ml(Hd),wg,Tg,od,M0=co({},Hd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$y,button:0,buttons:0,relatedTarget:function(H){return H.relatedTarget===void 0?H.fromElement===H.srcElement?H.toElement:H.fromElement:H.relatedTarget},movementX:function(H){return"movementX"in H?H.movementX:(H!==od&&(od&&H.type==="mousemove"?(wg=H.screenX-od.screenX,Tg=H.screenY-od.screenY):Tg=wg=0,od=H),wg)},movementY:function(H){return"movementY"in H?H.movementY:Tg}}),ax=Ml(M0),P5=co({},M0,{dataTransfer:0}),R5=Ml(P5),D5=co({},Hd,{relatedTarget:0}),Ag=Ml(D5),I5=co({},Iv,{animationName:0,elapsedTime:0,pseudoElement:0}),k5=Ml(I5),_5=co({},Iv,{clipboardData:function(H){return"clipboardData"in H?H.clipboardData:window.clipboardData}}),z5=Ml(_5),F5=co({},Iv,{data:0}),ix=Ml(F5),O5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U5(H){var ae=this.nativeEvent;return ae.getModifierState?ae.getModifierState(H):(H=N5[H])?!!ae[H]:!1}function $y(){return U5}var V5=co({},Hd,{key:function(H){if(H.key){var ae=O5[H.key]||H.key;if(ae!=="Unidentified")return ae}return H.type==="keypress"?(H=Up(H),H===13?"Enter":String.fromCharCode(H)):H.type==="keydown"||H.type==="keyup"?B5[H.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$y,charCode:function(H){return H.type==="keypress"?Up(H):0},keyCode:function(H){return H.type==="keydown"||H.type==="keyup"?H.keyCode:0},which:function(H){return H.type==="keypress"?Up(H):H.type==="keydown"||H.type==="keyup"?H.keyCode:0}}),H5=Ml(V5),G5=co({},M0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ox=Ml(G5),W5=co({},Hd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$y}),Y5=Ml(W5),X5=co({},Iv,{propertyName:0,elapsedTime:0,pseudoElement:0}),j5=Ml(X5),Z5=co({},M0,{deltaX:function(H){return"deltaX"in H?H.deltaX:"wheelDeltaX"in H?-H.wheelDeltaX:0},deltaY:function(H){return"deltaY"in H?H.deltaY:"wheelDeltaY"in H?-H.wheelDeltaY:"wheelDelta"in H?-H.wheelDelta:0},deltaZ:0,deltaMode:0}),K5=Ml(Z5),J5=[9,13,27,32],qy=Of&&"CompositionEvent"in window,gd=null;Of&&"documentMode"in document&&(gd=document.documentMode);var Q5=Of&&"TextEvent"in window&&!gd,G3=Of&&(!qy||gd&&8<gd&&11>=gd),sx=" ",lx=!1;function W3(H,ae){switch(H){case"keyup":return J5.indexOf(ae.keyCode)!==-1;case"keydown":return ae.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Y3(H){return H=H.detail,typeof H=="object"&&"data"in H?H.data:null}var sv=!1;function $5(H,ae){switch(H){case"compositionend":return Y3(ae);case"keypress":return ae.which!==32?null:(lx=!0,sx);case"textInput":return H=ae.data,H===sx&&lx?null:H;default:return null}}function q5(H,ae){if(sv)return H==="compositionend"||!qy&&W3(H,ae)?(H=H3(),Np=Jy=Rc=null,sv=!1,H):null;switch(H){case"paste":return null;case"keypress":if(!(ae.ctrlKey||ae.altKey||ae.metaKey)||ae.ctrlKey&&ae.altKey){if(ae.char&&1<ae.char.length)return ae.char;if(ae.which)return String.fromCharCode(ae.which)}return null;case"compositionend":return G3&&ae.locale!=="ko"?null:ae.data;default:return null}}var e6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ux(H){var ae=H&&H.nodeName&&H.nodeName.toLowerCase();return ae==="input"?!!e6[H.type]:ae==="textarea"}function X3(H,ae,me,Ne){A3(Ne),ae=t0(ae,"onChange"),0<ae.length&&(me=new Qy("onChange","change",null,me,Ne),H.push({event:me,listeners:ae}))}var yd=null,Pd=null;function t6(H){nb(H,0)}function S0(H){var ae=fv(H);if(g3(ae))return H}function r6(H,ae){if(H==="change")return ae}var j3=!1;if(Of){var Mg;if(Of){var Sg="oninput"in document;if(!Sg){var fx=document.createElement("div");fx.setAttribute("oninput","return;"),Sg=typeof fx.oninput=="function"}Mg=Sg}else Mg=!1;j3=Mg&&(!document.documentMode||9<document.documentMode)}function cx(){yd&&(yd.detachEvent("onpropertychange",Z3),Pd=yd=null)}function Z3(H){if(H.propertyName==="value"&&S0(Pd)){var ae=[];X3(ae,Pd,H,Yy(H)),C3(t6,ae)}}function n6(H,ae,me){H==="focusin"?(cx(),yd=ae,Pd=me,yd.attachEvent("onpropertychange",Z3)):H==="focusout"&&cx()}function a6(H){if(H==="selectionchange"||H==="keyup"||H==="keydown")return S0(Pd)}function i6(H,ae){if(H==="click")return S0(ae)}function o6(H,ae){if(H==="input"||H==="change")return S0(ae)}function s6(H,ae){return H===ae&&(H!==0||1/H===1/ae)||H!==H&&ae!==ae}var _u=typeof Object.is=="function"?Object.is:s6;function Rd(H,ae){if(_u(H,ae))return!0;if(typeof H!="object"||H===null||typeof ae!="object"||ae===null)return!1;var me=Object.keys(H),Ne=Object.keys(ae);if(me.length!==Ne.length)return!1;for(Ne=0;Ne<me.length;Ne++){var ot=me[Ne];if(!Hg.call(ae,ot)||!_u(H[ot],ae[ot]))return!1}return!0}function hx(H){for(;H&&H.firstChild;)H=H.firstChild;return H}function vx(H,ae){var me=hx(H);H=0;for(var Ne;me;){if(me.nodeType===3){if(Ne=H+me.textContent.length,H<=ae&&Ne>=ae)return{node:me,offset:ae-H};H=Ne}e:{for(;me;){if(me.nextSibling){me=me.nextSibling;break e}me=me.parentNode}me=void 0}me=hx(me)}}function K3(H,ae){return H&&ae?H===ae?!0:H&&H.nodeType===3?!1:ae&&ae.nodeType===3?K3(H,ae.parentNode):"contains"in H?H.contains(ae):H.compareDocumentPosition?!!(H.compareDocumentPosition(ae)&16):!1:!1}function J3(){for(var H=window,ae=Zp();ae instanceof H.HTMLIFrameElement;){try{var me=typeof ae.contentWindow.location.href=="string"}catch{me=!1}if(me)H=ae.contentWindow;else break;ae=Zp(H.document)}return ae}function e1(H){var ae=H&&H.nodeName&&H.nodeName.toLowerCase();return ae&&(ae==="input"&&(H.type==="text"||H.type==="search"||H.type==="tel"||H.type==="url"||H.type==="password")||ae==="textarea"||H.contentEditable==="true")}function l6(H){var ae=J3(),me=H.focusedElem,Ne=H.selectionRange;if(ae!==me&&me&&me.ownerDocument&&K3(me.ownerDocument.documentElement,me)){if(Ne!==null&&e1(me)){if(ae=Ne.start,H=Ne.end,H===void 0&&(H=ae),"selectionStart"in me)me.selectionStart=ae,me.selectionEnd=Math.min(H,me.value.length);else if(H=(ae=me.ownerDocument||document)&&ae.defaultView||window,H.getSelection){H=H.getSelection();var ot=me.textContent.length,mt=Math.min(Ne.start,ot);Ne=Ne.end===void 0?mt:Math.min(Ne.end,ot),!H.extend&&mt>Ne&&(ot=Ne,Ne=mt,mt=ot),ot=vx(me,mt);var Y=vx(me,Ne);ot&&Y&&(H.rangeCount!==1||H.anchorNode!==ot.node||H.anchorOffset!==ot.offset||H.focusNode!==Y.node||H.focusOffset!==Y.offset)&&(ae=ae.createRange(),ae.setStart(ot.node,ot.offset),H.removeAllRanges(),mt>Ne?(H.addRange(ae),H.extend(Y.node,Y.offset)):(ae.setEnd(Y.node,Y.offset),H.addRange(ae)))}}for(ae=[],H=me;H=H.parentNode;)H.nodeType===1&&ae.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof me.focus=="function"&&me.focus(),me=0;me<ae.length;me++)H=ae[me],H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}var u6=Of&&"documentMode"in document&&11>=document.documentMode,lv=null,sy=null,md=null,ly=!1;function dx(H,ae,me){var Ne=me.window===me?me.document:me.nodeType===9?me:me.ownerDocument;ly||lv==null||lv!==Zp(Ne)||(Ne=lv,"selectionStart"in Ne&&e1(Ne)?Ne={start:Ne.selectionStart,end:Ne.selectionEnd}:(Ne=(Ne.ownerDocument&&Ne.ownerDocument.defaultView||window).getSelection(),Ne={anchorNode:Ne.anchorNode,anchorOffset:Ne.anchorOffset,focusNode:Ne.focusNode,focusOffset:Ne.focusOffset}),md&&Rd(md,Ne)||(md=Ne,Ne=t0(sy,"onSelect"),0<Ne.length&&(ae=new Qy("onSelect","select",null,ae,me),H.push({event:ae,listeners:Ne}),ae.target=lv)))}function Cp(H,ae){var me={};return me[H.toLowerCase()]=ae.toLowerCase(),me["Webkit"+H]="webkit"+ae,me["Moz"+H]="moz"+ae,me}var uv={animationend:Cp("Animation","AnimationEnd"),animationiteration:Cp("Animation","AnimationIteration"),animationstart:Cp("Animation","AnimationStart"),transitionend:Cp("Transition","TransitionEnd")},Eg={},Q3={};Of&&(Q3=document.createElement("div").style,"AnimationEvent"in window||(delete uv.animationend.animation,delete uv.animationiteration.animation,delete uv.animationstart.animation),"TransitionEvent"in window||delete uv.transitionend.transition);function E0(H){if(Eg[H])return Eg[H];if(!uv[H])return H;var ae=uv[H],me;for(me in ae)if(ae.hasOwnProperty(me)&&me in Q3)return Eg[H]=ae[me];return H}var $3=E0("animationend"),q3=E0("animationiteration"),eb=E0("animationstart"),tb=E0("transitionend"),rb=new Map,px="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hc(H,ae){rb.set(H,ae),Rh(ae,[H])}for(var Cg=0;Cg<px.length;Cg++){var Lg=px[Cg],f6=Lg.toLowerCase(),c6=Lg[0].toUpperCase()+Lg.slice(1);Hc(f6,"on"+c6)}Hc($3,"onAnimationEnd");Hc(q3,"onAnimationIteration");Hc(eb,"onAnimationStart");Hc("dblclick","onDoubleClick");Hc("focusin","onFocus");Hc("focusout","onBlur");Hc(tb,"onTransitionEnd");Mv("onMouseEnter",["mouseout","mouseover"]);Mv("onMouseLeave",["mouseout","mouseover"]);Mv("onPointerEnter",["pointerout","pointerover"]);Mv("onPointerLeave",["pointerout","pointerover"]);Rh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h6=new Set("cancel close invalid load scroll toggle".split(" ").concat(vd));function gx(H,ae,me){var Ne=H.type||"unknown-event";H.currentTarget=me,f5(Ne,ae,void 0,H),H.currentTarget=null}function nb(H,ae){ae=(ae&4)!==0;for(var me=0;me<H.length;me++){var Ne=H[me],ot=Ne.event;Ne=Ne.listeners;e:{var mt=void 0;if(ae)for(var Y=Ne.length-1;0<=Y;Y--){var V=Ne[Y],e=V.instance,b=V.currentTarget;if(V=V.listener,e!==mt&&ot.isPropagationStopped())break e;gx(ot,V,b),mt=e}else for(Y=0;Y<Ne.length;Y++){if(V=Ne[Y],e=V.instance,b=V.currentTarget,V=V.listener,e!==mt&&ot.isPropagationStopped())break e;gx(ot,V,b),mt=e}}}if(Jp)throw H=ny,Jp=!1,ny=null,H}function Yi(H,ae){var me=ae[vy];me===void 0&&(me=ae[vy]=new Set);var Ne=H+"__bubble";me.has(Ne)||(ab(ae,H,2,!1),me.add(Ne))}function Pg(H,ae,me){var Ne=0;ae&&(Ne|=4),ab(me,H,Ne,ae)}var Lp="_reactListening"+Math.random().toString(36).slice(2);function Dd(H){if(!H[Lp]){H[Lp]=!0,c3.forEach(function(me){me!=="selectionchange"&&(h6.has(me)||Pg(me,!1,H),Pg(me,!0,H))});var ae=H.nodeType===9?H:H.ownerDocument;ae===null||ae[Lp]||(ae[Lp]=!0,Pg("selectionchange",!1,ae))}}function ab(H,ae,me,Ne){switch(V3(ae)){case 1:var ot=E5;break;case 4:ot=C5;break;default:ot=Ky}me=ot.bind(null,ae,me,H),ot=void 0,!ry||ae!=="touchstart"&&ae!=="touchmove"&&ae!=="wheel"||(ot=!0),Ne?ot!==void 0?H.addEventListener(ae,me,{capture:!0,passive:ot}):H.addEventListener(ae,me,!0):ot!==void 0?H.addEventListener(ae,me,{passive:ot}):H.addEventListener(ae,me,!1)}function Rg(H,ae,me,Ne,ot){var mt=Ne;if(!(ae&1)&&!(ae&2)&&Ne!==null)e:for(;;){if(Ne===null)return;var Y=Ne.tag;if(Y===3||Y===4){var V=Ne.stateNode.containerInfo;if(V===ot||V.nodeType===8&&V.parentNode===ot)break;if(Y===4)for(Y=Ne.return;Y!==null;){var e=Y.tag;if((e===3||e===4)&&(e=Y.stateNode.containerInfo,e===ot||e.nodeType===8&&e.parentNode===ot))return;Y=Y.return}for(;V!==null;){if(Y=bh(V),Y===null)return;if(e=Y.tag,e===5||e===6){Ne=mt=Y;continue e}V=V.parentNode}}Ne=Ne.return}C3(function(){var b=mt,P=Yy(me),s=[];e:{var L=rb.get(H);if(L!==void 0){var M=Qy,v=H;switch(H){case"keypress":if(Up(me)===0)break e;case"keydown":case"keyup":M=H5;break;case"focusin":v="focus",M=Ag;break;case"focusout":v="blur",M=Ag;break;case"beforeblur":case"afterblur":M=Ag;break;case"click":if(me.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=ax;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=R5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=Y5;break;case $3:case q3:case eb:M=k5;break;case tb:M=j5;break;case"scroll":M=L5;break;case"wheel":M=K5;break;case"copy":case"cut":case"paste":M=z5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=ox}var p=(ae&4)!==0,r=!p&&H==="scroll",t=p?L!==null?L+"Capture":null:L;p=[];for(var o=b,n;o!==null;){n=o;var l=n.stateNode;if(n.tag===5&&l!==null&&(n=l,t!==null&&(l=Sd(o,t),l!=null&&p.push(Id(o,l,n)))),r)break;o=o.return}0<p.length&&(L=new M(L,v,null,me,P),s.push({event:L,listeners:p}))}}if(!(ae&7)){e:{if(L=H==="mouseover"||H==="pointerover",M=H==="mouseout"||H==="pointerout",L&&me!==ey&&(v=me.relatedTarget||me.fromElement)&&(bh(v)||v[Bf]))break e;if((M||L)&&(L=P.window===P?P:(L=P.ownerDocument)?L.defaultView||L.parentWindow:window,M?(v=me.relatedTarget||me.toElement,M=b,v=v?bh(v):null,v!==null&&(r=Dh(v),v!==r||v.tag!==5&&v.tag!==6)&&(v=null)):(M=null,v=b),M!==v)){if(p=ax,l="onMouseLeave",t="onMouseEnter",o="mouse",(H==="pointerout"||H==="pointerover")&&(p=ox,l="onPointerLeave",t="onPointerEnter",o="pointer"),r=M==null?L:fv(M),n=v==null?L:fv(v),L=new p(l,o+"leave",M,me,P),L.target=r,L.relatedTarget=n,l=null,bh(P)===b&&(p=new p(t,o+"enter",v,me,P),p.target=n,p.relatedTarget=r,l=p),r=l,M&&v)t:{for(p=M,t=v,o=0,n=p;n;n=av(n))o++;for(n=0,l=t;l;l=av(l))n++;for(;0<o-n;)p=av(p),o--;for(;0<n-o;)t=av(t),n--;for(;o--;){if(p===t||t!==null&&p===t.alternate)break t;p=av(p),t=av(t)}p=null}else p=null;M!==null&&yx(s,L,M,p,!1),v!==null&&r!==null&&yx(s,r,v,p,!0)}}e:{if(L=b?fv(b):window,M=L.nodeName&&L.nodeName.toLowerCase(),M==="select"||M==="input"&&L.type==="file")var u=r6;else if(ux(L))if(j3)u=o6;else{u=a6;var f=n6}else(M=L.nodeName)&&M.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(u=i6);if(u&&(u=u(H,b))){X3(s,u,me,P);break e}f&&f(H,L,b),H==="focusout"&&(f=L._wrapperState)&&f.controlled&&L.type==="number"&&Kg(L,"number",L.value)}switch(f=b?fv(b):window,H){case"focusin":(ux(f)||f.contentEditable==="true")&&(lv=f,sy=b,md=null);break;case"focusout":md=sy=lv=null;break;case"mousedown":ly=!0;break;case"contextmenu":case"mouseup":case"dragend":ly=!1,dx(s,me,P);break;case"selectionchange":if(u6)break;case"keydown":case"keyup":dx(s,me,P)}var g;if(qy)e:{switch(H){case"compositionstart":var h="onCompositionStart";break e;case"compositionend":h="onCompositionEnd";break e;case"compositionupdate":h="onCompositionUpdate";break e}h=void 0}else sv?W3(H,me)&&(h="onCompositionEnd"):H==="keydown"&&me.keyCode===229&&(h="onCompositionStart");h&&(G3&&me.locale!=="ko"&&(sv||h!=="onCompositionStart"?h==="onCompositionEnd"&&sv&&(g=H3()):(Rc=P,Jy="value"in Rc?Rc.value:Rc.textContent,sv=!0)),f=t0(b,h),0<f.length&&(h=new ix(h,H,null,me,P),s.push({event:h,listeners:f}),g?h.data=g:(g=Y3(me),g!==null&&(h.data=g)))),(g=Q5?$5(H,me):q5(H,me))&&(b=t0(b,"onBeforeInput"),0<b.length&&(P=new ix("onBeforeInput","beforeinput",null,me,P),s.push({event:P,listeners:b}),P.data=g))}nb(s,ae)})}function Id(H,ae,me){return{instance:H,listener:ae,currentTarget:me}}function t0(H,ae){for(var me=ae+"Capture",Ne=[];H!==null;){var ot=H,mt=ot.stateNode;ot.tag===5&&mt!==null&&(ot=mt,mt=Sd(H,me),mt!=null&&Ne.unshift(Id(H,mt,ot)),mt=Sd(H,ae),mt!=null&&Ne.push(Id(H,mt,ot))),H=H.return}return Ne}function av(H){if(H===null)return null;do H=H.return;while(H&&H.tag!==5);return H||null}function yx(H,ae,me,Ne,ot){for(var mt=ae._reactName,Y=[];me!==null&&me!==Ne;){var V=me,e=V.alternate,b=V.stateNode;if(e!==null&&e===Ne)break;V.tag===5&&b!==null&&(V=b,ot?(e=Sd(me,mt),e!=null&&Y.unshift(Id(me,e,V))):ot||(e=Sd(me,mt),e!=null&&Y.push(Id(me,e,V)))),me=me.return}Y.length!==0&&H.push({event:ae,listeners:Y})}var v6=/\r\n?/g,d6=/\u0000|\uFFFD/g;function mx(H){return(typeof H=="string"?H:""+H).replace(v6,`
`).replace(d6,"")}function Pp(H,ae,me){if(ae=mx(ae),mx(H)!==ae&&me)throw Error(ga(425))}function r0(){}var uy=null,fy=null;function cy(H,ae){return H==="textarea"||H==="noscript"||typeof ae.children=="string"||typeof ae.children=="number"||typeof ae.dangerouslySetInnerHTML=="object"&&ae.dangerouslySetInnerHTML!==null&&ae.dangerouslySetInnerHTML.__html!=null}var hy=typeof setTimeout=="function"?setTimeout:void 0,p6=typeof clearTimeout=="function"?clearTimeout:void 0,xx=typeof Promise=="function"?Promise:void 0,g6=typeof queueMicrotask=="function"?queueMicrotask:typeof xx<"u"?function(H){return xx.resolve(null).then(H).catch(y6)}:hy;function y6(H){setTimeout(function(){throw H})}function Dg(H,ae){var me=ae,Ne=0;do{var ot=me.nextSibling;if(H.removeChild(me),ot&&ot.nodeType===8)if(me=ot.data,me==="/$"){if(Ne===0){H.removeChild(ot),Ld(ae);return}Ne--}else me!=="$"&&me!=="$?"&&me!=="$!"||Ne++;me=ot}while(me);Ld(ae)}function zc(H){for(;H!=null;H=H.nextSibling){var ae=H.nodeType;if(ae===1||ae===3)break;if(ae===8){if(ae=H.data,ae==="$"||ae==="$!"||ae==="$?")break;if(ae==="/$")return null}}return H}function bx(H){H=H.previousSibling;for(var ae=0;H;){if(H.nodeType===8){var me=H.data;if(me==="$"||me==="$!"||me==="$?"){if(ae===0)return H;ae--}else me==="/$"&&ae++}H=H.previousSibling}return null}var kv=Math.random().toString(36).slice(2),nf="__reactFiber$"+kv,kd="__reactProps$"+kv,Bf="__reactContainer$"+kv,vy="__reactEvents$"+kv,m6="__reactListeners$"+kv,x6="__reactHandles$"+kv;function bh(H){var ae=H[nf];if(ae)return ae;for(var me=H.parentNode;me;){if(ae=me[Bf]||me[nf]){if(me=ae.alternate,ae.child!==null||me!==null&&me.child!==null)for(H=bx(H);H!==null;){if(me=H[nf])return me;H=bx(H)}return ae}H=me,me=H.parentNode}return null}function Gd(H){return H=H[nf]||H[Bf],!H||H.tag!==5&&H.tag!==6&&H.tag!==13&&H.tag!==3?null:H}function fv(H){if(H.tag===5||H.tag===6)return H.stateNode;throw Error(ga(33))}function C0(H){return H[kd]||null}var dy=[],cv=-1;function Gc(H){return{current:H}}function Xi(H){0>cv||(H.current=dy[cv],dy[cv]=null,cv--)}function Ni(H,ae){cv++,dy[cv]=H.current,H.current=ae}var Vc={},Ts=Gc(Vc),rl=Gc(!1),Sh=Vc;function Sv(H,ae){var me=H.type.contextTypes;if(!me)return Vc;var Ne=H.stateNode;if(Ne&&Ne.__reactInternalMemoizedUnmaskedChildContext===ae)return Ne.__reactInternalMemoizedMaskedChildContext;var ot={},mt;for(mt in me)ot[mt]=ae[mt];return Ne&&(H=H.stateNode,H.__reactInternalMemoizedUnmaskedChildContext=ae,H.__reactInternalMemoizedMaskedChildContext=ot),ot}function nl(H){return H=H.childContextTypes,H!=null}function n0(){Xi(rl),Xi(Ts)}function wx(H,ae,me){if(Ts.current!==Vc)throw Error(ga(168));Ni(Ts,ae),Ni(rl,me)}function ib(H,ae,me){var Ne=H.stateNode;if(ae=ae.childContextTypes,typeof Ne.getChildContext!="function")return me;Ne=Ne.getChildContext();for(var ot in Ne)if(!(ot in ae))throw Error(ga(108,n5(H)||"Unknown",ot));return co({},me,Ne)}function a0(H){return H=(H=H.stateNode)&&H.__reactInternalMemoizedMergedChildContext||Vc,Sh=Ts.current,Ni(Ts,H),Ni(rl,rl.current),!0}function Tx(H,ae,me){var Ne=H.stateNode;if(!Ne)throw Error(ga(169));me?(H=ib(H,ae,Sh),Ne.__reactInternalMemoizedMergedChildContext=H,Xi(rl),Xi(Ts),Ni(Ts,H)):Xi(rl),Ni(rl,me)}var kf=null,L0=!1,Ig=!1;function ob(H){kf===null?kf=[H]:kf.push(H)}function b6(H){L0=!0,ob(H)}function Wc(){if(!Ig&&kf!==null){Ig=!0;var H=0,ae=Ri;try{var me=kf;for(Ri=1;H<me.length;H++){var Ne=me[H];do Ne=Ne(!0);while(Ne!==null)}kf=null,L0=!1}catch(ot){throw kf!==null&&(kf=kf.slice(H+1)),D3(Xy,Wc),ot}finally{Ri=ae,Ig=!1}}return null}var hv=[],vv=0,i0=null,o0=0,Kl=[],Jl=0,Eh=null,_f=1,zf="";function mh(H,ae){hv[vv++]=o0,hv[vv++]=i0,i0=H,o0=ae}function sb(H,ae,me){Kl[Jl++]=_f,Kl[Jl++]=zf,Kl[Jl++]=Eh,Eh=H;var Ne=_f;H=zf;var ot=32-Iu(Ne)-1;Ne&=~(1<<ot),me+=1;var mt=32-Iu(ae)+ot;if(30<mt){var Y=ot-ot%5;mt=(Ne&(1<<Y)-1).toString(32),Ne>>=Y,ot-=Y,_f=1<<32-Iu(ae)+ot|me<<ot|Ne,zf=mt+H}else _f=1<<mt|me<<ot|Ne,zf=H}function t1(H){H.return!==null&&(mh(H,1),sb(H,1,0))}function r1(H){for(;H===i0;)i0=hv[--vv],hv[vv]=null,o0=hv[--vv],hv[vv]=null;for(;H===Eh;)Eh=Kl[--Jl],Kl[Jl]=null,zf=Kl[--Jl],Kl[Jl]=null,_f=Kl[--Jl],Kl[Jl]=null}var wl=null,bl=null,$i=!1,Du=null;function lb(H,ae){var me=Ql(5,null,null,0);me.elementType="DELETED",me.stateNode=ae,me.return=H,ae=H.deletions,ae===null?(H.deletions=[me],H.flags|=16):ae.push(me)}function Ax(H,ae){switch(H.tag){case 5:var me=H.type;return ae=ae.nodeType!==1||me.toLowerCase()!==ae.nodeName.toLowerCase()?null:ae,ae!==null?(H.stateNode=ae,wl=H,bl=zc(ae.firstChild),!0):!1;case 6:return ae=H.pendingProps===""||ae.nodeType!==3?null:ae,ae!==null?(H.stateNode=ae,wl=H,bl=null,!0):!1;case 13:return ae=ae.nodeType!==8?null:ae,ae!==null?(me=Eh!==null?{id:_f,overflow:zf}:null,H.memoizedState={dehydrated:ae,treeContext:me,retryLane:1073741824},me=Ql(18,null,null,0),me.stateNode=ae,me.return=H,H.child=me,wl=H,bl=null,!0):!1;default:return!1}}function py(H){return(H.mode&1)!==0&&(H.flags&128)===0}function gy(H){if($i){var ae=bl;if(ae){var me=ae;if(!Ax(H,ae)){if(py(H))throw Error(ga(418));ae=zc(me.nextSibling);var Ne=wl;ae&&Ax(H,ae)?lb(Ne,me):(H.flags=H.flags&-4097|2,$i=!1,wl=H)}}else{if(py(H))throw Error(ga(418));H.flags=H.flags&-4097|2,$i=!1,wl=H}}}function Mx(H){for(H=H.return;H!==null&&H.tag!==5&&H.tag!==3&&H.tag!==13;)H=H.return;wl=H}function Rp(H){if(H!==wl)return!1;if(!$i)return Mx(H),$i=!0,!1;var ae;if((ae=H.tag!==3)&&!(ae=H.tag!==5)&&(ae=H.type,ae=ae!=="head"&&ae!=="body"&&!cy(H.type,H.memoizedProps)),ae&&(ae=bl)){if(py(H))throw ub(),Error(ga(418));for(;ae;)lb(H,ae),ae=zc(ae.nextSibling)}if(Mx(H),H.tag===13){if(H=H.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(ga(317));e:{for(H=H.nextSibling,ae=0;H;){if(H.nodeType===8){var me=H.data;if(me==="/$"){if(ae===0){bl=zc(H.nextSibling);break e}ae--}else me!=="$"&&me!=="$!"&&me!=="$?"||ae++}H=H.nextSibling}bl=null}}else bl=wl?zc(H.stateNode.nextSibling):null;return!0}function ub(){for(var H=bl;H;)H=zc(H.nextSibling)}function Ev(){bl=wl=null,$i=!1}function n1(H){Du===null?Du=[H]:Du.push(H)}var w6=Hf.ReactCurrentBatchConfig;function sd(H,ae,me){if(H=me.ref,H!==null&&typeof H!="function"&&typeof H!="object"){if(me._owner){if(me=me._owner,me){if(me.tag!==1)throw Error(ga(309));var Ne=me.stateNode}if(!Ne)throw Error(ga(147,H));var ot=Ne,mt=""+H;return ae!==null&&ae.ref!==null&&typeof ae.ref=="function"&&ae.ref._stringRef===mt?ae.ref:(ae=function(Y){var V=ot.refs;Y===null?delete V[mt]:V[mt]=Y},ae._stringRef=mt,ae)}if(typeof H!="string")throw Error(ga(284));if(!me._owner)throw Error(ga(290,H))}return H}function Dp(H,ae){throw H=Object.prototype.toString.call(ae),Error(ga(31,H==="[object Object]"?"object with keys {"+Object.keys(ae).join(", ")+"}":H))}function Sx(H){var ae=H._init;return ae(H._payload)}function fb(H){function ae(t,o){if(H){var n=t.deletions;n===null?(t.deletions=[o],t.flags|=16):n.push(o)}}function me(t,o){if(!H)return null;for(;o!==null;)ae(t,o),o=o.sibling;return null}function Ne(t,o){for(t=new Map;o!==null;)o.key!==null?t.set(o.key,o):t.set(o.index,o),o=o.sibling;return t}function ot(t,o){return t=Nc(t,o),t.index=0,t.sibling=null,t}function mt(t,o,n){return t.index=n,H?(n=t.alternate,n!==null?(n=n.index,n<o?(t.flags|=2,o):n):(t.flags|=2,o)):(t.flags|=1048576,o)}function Y(t){return H&&t.alternate===null&&(t.flags|=2),t}function V(t,o,n,l){return o===null||o.tag!==6?(o=Ng(n,t.mode,l),o.return=t,o):(o=ot(o,n),o.return=t,o)}function e(t,o,n,l){var u=n.type;return u===ov?P(t,o,n.props.children,l,n.key):o!==null&&(o.elementType===u||typeof u=="object"&&u!==null&&u.$$typeof===Ec&&Sx(u)===o.type)?(l=ot(o,n.props),l.ref=sd(t,o,n),l.return=t,l):(l=jp(n.type,n.key,n.props,null,t.mode,l),l.ref=sd(t,o,n),l.return=t,l)}function b(t,o,n,l){return o===null||o.tag!==4||o.stateNode.containerInfo!==n.containerInfo||o.stateNode.implementation!==n.implementation?(o=Ug(n,t.mode,l),o.return=t,o):(o=ot(o,n.children||[]),o.return=t,o)}function P(t,o,n,l,u){return o===null||o.tag!==7?(o=Mh(n,t.mode,l,u),o.return=t,o):(o=ot(o,n),o.return=t,o)}function s(t,o,n){if(typeof o=="string"&&o!==""||typeof o=="number")return o=Ng(""+o,t.mode,n),o.return=t,o;if(typeof o=="object"&&o!==null){switch(o.$$typeof){case bp:return n=jp(o.type,o.key,o.props,null,t.mode,n),n.ref=sd(t,null,o),n.return=t,n;case iv:return o=Ug(o,t.mode,n),o.return=t,o;case Ec:var l=o._init;return s(t,l(o._payload),n)}if(cd(o)||rd(o))return o=Mh(o,t.mode,n,null),o.return=t,o;Dp(t,o)}return null}function L(t,o,n,l){var u=o!==null?o.key:null;if(typeof n=="string"&&n!==""||typeof n=="number")return u!==null?null:V(t,o,""+n,l);if(typeof n=="object"&&n!==null){switch(n.$$typeof){case bp:return n.key===u?e(t,o,n,l):null;case iv:return n.key===u?b(t,o,n,l):null;case Ec:return u=n._init,L(t,o,u(n._payload),l)}if(cd(n)||rd(n))return u!==null?null:P(t,o,n,l,null);Dp(t,n)}return null}function M(t,o,n,l,u){if(typeof l=="string"&&l!==""||typeof l=="number")return t=t.get(n)||null,V(o,t,""+l,u);if(typeof l=="object"&&l!==null){switch(l.$$typeof){case bp:return t=t.get(l.key===null?n:l.key)||null,e(o,t,l,u);case iv:return t=t.get(l.key===null?n:l.key)||null,b(o,t,l,u);case Ec:var f=l._init;return M(t,o,n,f(l._payload),u)}if(cd(l)||rd(l))return t=t.get(n)||null,P(o,t,l,u,null);Dp(o,l)}return null}function v(t,o,n,l){for(var u=null,f=null,g=o,h=o=0,w=null;g!==null&&h<n.length;h++){g.index>h?(w=g,g=null):w=g.sibling;var c=L(t,g,n[h],l);if(c===null){g===null&&(g=w);break}H&&g&&c.alternate===null&&ae(t,g),o=mt(c,o,h),f===null?u=c:f.sibling=c,f=c,g=w}if(h===n.length)return me(t,g),$i&&mh(t,h),u;if(g===null){for(;h<n.length;h++)g=s(t,n[h],l),g!==null&&(o=mt(g,o,h),f===null?u=g:f.sibling=g,f=g);return $i&&mh(t,h),u}for(g=Ne(t,g);h<n.length;h++)w=M(g,t,h,n[h],l),w!==null&&(H&&w.alternate!==null&&g.delete(w.key===null?h:w.key),o=mt(w,o,h),f===null?u=w:f.sibling=w,f=w);return H&&g.forEach(function(a){return ae(t,a)}),$i&&mh(t,h),u}function p(t,o,n,l){var u=rd(n);if(typeof u!="function")throw Error(ga(150));if(n=u.call(n),n==null)throw Error(ga(151));for(var f=u=null,g=o,h=o=0,w=null,c=n.next();g!==null&&!c.done;h++,c=n.next()){g.index>h?(w=g,g=null):w=g.sibling;var a=L(t,g,c.value,l);if(a===null){g===null&&(g=w);break}H&&g&&a.alternate===null&&ae(t,g),o=mt(a,o,h),f===null?u=a:f.sibling=a,f=a,g=w}if(c.done)return me(t,g),$i&&mh(t,h),u;if(g===null){for(;!c.done;h++,c=n.next())c=s(t,c.value,l),c!==null&&(o=mt(c,o,h),f===null?u=c:f.sibling=c,f=c);return $i&&mh(t,h),u}for(g=Ne(t,g);!c.done;h++,c=n.next())c=M(g,t,h,c.value,l),c!==null&&(H&&c.alternate!==null&&g.delete(c.key===null?h:c.key),o=mt(c,o,h),f===null?u=c:f.sibling=c,f=c);return H&&g.forEach(function(d){return ae(t,d)}),$i&&mh(t,h),u}function r(t,o,n,l){if(typeof n=="object"&&n!==null&&n.type===ov&&n.key===null&&(n=n.props.children),typeof n=="object"&&n!==null){switch(n.$$typeof){case bp:e:{for(var u=n.key,f=o;f!==null;){if(f.key===u){if(u=n.type,u===ov){if(f.tag===7){me(t,f.sibling),o=ot(f,n.props.children),o.return=t,t=o;break e}}else if(f.elementType===u||typeof u=="object"&&u!==null&&u.$$typeof===Ec&&Sx(u)===f.type){me(t,f.sibling),o=ot(f,n.props),o.ref=sd(t,f,n),o.return=t,t=o;break e}me(t,f);break}else ae(t,f);f=f.sibling}n.type===ov?(o=Mh(n.props.children,t.mode,l,n.key),o.return=t,t=o):(l=jp(n.type,n.key,n.props,null,t.mode,l),l.ref=sd(t,o,n),l.return=t,t=l)}return Y(t);case iv:e:{for(f=n.key;o!==null;){if(o.key===f)if(o.tag===4&&o.stateNode.containerInfo===n.containerInfo&&o.stateNode.implementation===n.implementation){me(t,o.sibling),o=ot(o,n.children||[]),o.return=t,t=o;break e}else{me(t,o);break}else ae(t,o);o=o.sibling}o=Ug(n,t.mode,l),o.return=t,t=o}return Y(t);case Ec:return f=n._init,r(t,o,f(n._payload),l)}if(cd(n))return v(t,o,n,l);if(rd(n))return p(t,o,n,l);Dp(t,n)}return typeof n=="string"&&n!==""||typeof n=="number"?(n=""+n,o!==null&&o.tag===6?(me(t,o.sibling),o=ot(o,n),o.return=t,t=o):(me(t,o),o=Ng(n,t.mode,l),o.return=t,t=o),Y(t)):me(t,o)}return r}var Cv=fb(!0),cb=fb(!1),s0=Gc(null),l0=null,dv=null,a1=null;function i1(){a1=dv=l0=null}function o1(H){var ae=s0.current;Xi(s0),H._currentValue=ae}function yy(H,ae,me){for(;H!==null;){var Ne=H.alternate;if((H.childLanes&ae)!==ae?(H.childLanes|=ae,Ne!==null&&(Ne.childLanes|=ae)):Ne!==null&&(Ne.childLanes&ae)!==ae&&(Ne.childLanes|=ae),H===me)break;H=H.return}}function wv(H,ae){l0=H,a1=dv=null,H=H.dependencies,H!==null&&H.firstContext!==null&&(H.lanes&ae&&(tl=!0),H.firstContext=null)}function ql(H){var ae=H._currentValue;if(a1!==H)if(H={context:H,memoizedValue:ae,next:null},dv===null){if(l0===null)throw Error(ga(308));dv=H,l0.dependencies={lanes:0,firstContext:H}}else dv=dv.next=H;return ae}var wh=null;function s1(H){wh===null?wh=[H]:wh.push(H)}function hb(H,ae,me,Ne){var ot=ae.interleaved;return ot===null?(me.next=me,s1(ae)):(me.next=ot.next,ot.next=me),ae.interleaved=me,Nf(H,Ne)}function Nf(H,ae){H.lanes|=ae;var me=H.alternate;for(me!==null&&(me.lanes|=ae),me=H,H=H.return;H!==null;)H.childLanes|=ae,me=H.alternate,me!==null&&(me.childLanes|=ae),me=H,H=H.return;return me.tag===3?me.stateNode:null}var Cc=!1;function l1(H){H.updateQueue={baseState:H.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vb(H,ae){H=H.updateQueue,ae.updateQueue===H&&(ae.updateQueue={baseState:H.baseState,firstBaseUpdate:H.firstBaseUpdate,lastBaseUpdate:H.lastBaseUpdate,shared:H.shared,effects:H.effects})}function Ff(H,ae){return{eventTime:H,lane:ae,tag:0,payload:null,callback:null,next:null}}function Fc(H,ae,me){var Ne=H.updateQueue;if(Ne===null)return null;if(Ne=Ne.shared,wi&2){var ot=Ne.pending;return ot===null?ae.next=ae:(ae.next=ot.next,ot.next=ae),Ne.pending=ae,Nf(H,me)}return ot=Ne.interleaved,ot===null?(ae.next=ae,s1(Ne)):(ae.next=ot.next,ot.next=ae),Ne.interleaved=ae,Nf(H,me)}function Vp(H,ae,me){if(ae=ae.updateQueue,ae!==null&&(ae=ae.shared,(me&4194240)!==0)){var Ne=ae.lanes;Ne&=H.pendingLanes,me|=Ne,ae.lanes=me,jy(H,me)}}function Ex(H,ae){var me=H.updateQueue,Ne=H.alternate;if(Ne!==null&&(Ne=Ne.updateQueue,me===Ne)){var ot=null,mt=null;if(me=me.firstBaseUpdate,me!==null){do{var Y={eventTime:me.eventTime,lane:me.lane,tag:me.tag,payload:me.payload,callback:me.callback,next:null};mt===null?ot=mt=Y:mt=mt.next=Y,me=me.next}while(me!==null);mt===null?ot=mt=ae:mt=mt.next=ae}else ot=mt=ae;me={baseState:Ne.baseState,firstBaseUpdate:ot,lastBaseUpdate:mt,shared:Ne.shared,effects:Ne.effects},H.updateQueue=me;return}H=me.lastBaseUpdate,H===null?me.firstBaseUpdate=ae:H.next=ae,me.lastBaseUpdate=ae}function u0(H,ae,me,Ne){var ot=H.updateQueue;Cc=!1;var mt=ot.firstBaseUpdate,Y=ot.lastBaseUpdate,V=ot.shared.pending;if(V!==null){ot.shared.pending=null;var e=V,b=e.next;e.next=null,Y===null?mt=b:Y.next=b,Y=e;var P=H.alternate;P!==null&&(P=P.updateQueue,V=P.lastBaseUpdate,V!==Y&&(V===null?P.firstBaseUpdate=b:V.next=b,P.lastBaseUpdate=e))}if(mt!==null){var s=ot.baseState;Y=0,P=b=e=null,V=mt;do{var L=V.lane,M=V.eventTime;if((Ne&L)===L){P!==null&&(P=P.next={eventTime:M,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var v=H,p=V;switch(L=ae,M=me,p.tag){case 1:if(v=p.payload,typeof v=="function"){s=v.call(M,s,L);break e}s=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,L=typeof v=="function"?v.call(M,s,L):v,L==null)break e;s=co({},s,L);break e;case 2:Cc=!0}}V.callback!==null&&V.lane!==0&&(H.flags|=64,L=ot.effects,L===null?ot.effects=[V]:L.push(V))}else M={eventTime:M,lane:L,tag:V.tag,payload:V.payload,callback:V.callback,next:null},P===null?(b=P=M,e=s):P=P.next=M,Y|=L;if(V=V.next,V===null){if(V=ot.shared.pending,V===null)break;L=V,V=L.next,L.next=null,ot.lastBaseUpdate=L,ot.shared.pending=null}}while(!0);if(P===null&&(e=s),ot.baseState=e,ot.firstBaseUpdate=b,ot.lastBaseUpdate=P,ae=ot.shared.interleaved,ae!==null){ot=ae;do Y|=ot.lane,ot=ot.next;while(ot!==ae)}else mt===null&&(ot.shared.lanes=0);Lh|=Y,H.lanes=Y,H.memoizedState=s}}function Cx(H,ae,me){if(H=ae.effects,ae.effects=null,H!==null)for(ae=0;ae<H.length;ae++){var Ne=H[ae],ot=Ne.callback;if(ot!==null){if(Ne.callback=null,Ne=me,typeof ot!="function")throw Error(ga(191,ot));ot.call(Ne)}}}var Wd={},of=Gc(Wd),_d=Gc(Wd),zd=Gc(Wd);function Th(H){if(H===Wd)throw Error(ga(174));return H}function u1(H,ae){switch(Ni(zd,ae),Ni(_d,H),Ni(of,Wd),H=ae.nodeType,H){case 9:case 11:ae=(ae=ae.documentElement)?ae.namespaceURI:Qg(null,"");break;default:H=H===8?ae.parentNode:ae,ae=H.namespaceURI||null,H=H.tagName,ae=Qg(ae,H)}Xi(of),Ni(of,ae)}function Lv(){Xi(of),Xi(_d),Xi(zd)}function db(H){Th(zd.current);var ae=Th(of.current),me=Qg(ae,H.type);ae!==me&&(Ni(_d,H),Ni(of,me))}function f1(H){_d.current===H&&(Xi(of),Xi(_d))}var uo=Gc(0);function f0(H){for(var ae=H;ae!==null;){if(ae.tag===13){var me=ae.memoizedState;if(me!==null&&(me=me.dehydrated,me===null||me.data==="$?"||me.data==="$!"))return ae}else if(ae.tag===19&&ae.memoizedProps.revealOrder!==void 0){if(ae.flags&128)return ae}else if(ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===H)break;for(;ae.sibling===null;){if(ae.return===null||ae.return===H)return null;ae=ae.return}ae.sibling.return=ae.return,ae=ae.sibling}return null}var kg=[];function c1(){for(var H=0;H<kg.length;H++)kg[H]._workInProgressVersionPrimary=null;kg.length=0}var Hp=Hf.ReactCurrentDispatcher,_g=Hf.ReactCurrentBatchConfig,Ch=0,fo=null,Fo=null,Go=null,c0=!1,xd=!1,Fd=0,T6=0;function xs(){throw Error(ga(321))}function h1(H,ae){if(ae===null)return!1;for(var me=0;me<ae.length&&me<H.length;me++)if(!_u(H[me],ae[me]))return!1;return!0}function v1(H,ae,me,Ne,ot,mt){if(Ch=mt,fo=ae,ae.memoizedState=null,ae.updateQueue=null,ae.lanes=0,Hp.current=H===null||H.memoizedState===null?E6:C6,H=me(Ne,ot),xd){mt=0;do{if(xd=!1,Fd=0,25<=mt)throw Error(ga(301));mt+=1,Go=Fo=null,ae.updateQueue=null,Hp.current=L6,H=me(Ne,ot)}while(xd)}if(Hp.current=h0,ae=Fo!==null&&Fo.next!==null,Ch=0,Go=Fo=fo=null,c0=!1,ae)throw Error(ga(300));return H}function d1(){var H=Fd!==0;return Fd=0,H}function rf(){var H={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Go===null?fo.memoizedState=Go=H:Go=Go.next=H,Go}function eu(){if(Fo===null){var H=fo.alternate;H=H!==null?H.memoizedState:null}else H=Fo.next;var ae=Go===null?fo.memoizedState:Go.next;if(ae!==null)Go=ae,Fo=H;else{if(H===null)throw Error(ga(310));Fo=H,H={memoizedState:Fo.memoizedState,baseState:Fo.baseState,baseQueue:Fo.baseQueue,queue:Fo.queue,next:null},Go===null?fo.memoizedState=Go=H:Go=Go.next=H}return Go}function Od(H,ae){return typeof ae=="function"?ae(H):ae}function zg(H){var ae=eu(),me=ae.queue;if(me===null)throw Error(ga(311));me.lastRenderedReducer=H;var Ne=Fo,ot=Ne.baseQueue,mt=me.pending;if(mt!==null){if(ot!==null){var Y=ot.next;ot.next=mt.next,mt.next=Y}Ne.baseQueue=ot=mt,me.pending=null}if(ot!==null){mt=ot.next,Ne=Ne.baseState;var V=Y=null,e=null,b=mt;do{var P=b.lane;if((Ch&P)===P)e!==null&&(e=e.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),Ne=b.hasEagerState?b.eagerState:H(Ne,b.action);else{var s={lane:P,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};e===null?(V=e=s,Y=Ne):e=e.next=s,fo.lanes|=P,Lh|=P}b=b.next}while(b!==null&&b!==mt);e===null?Y=Ne:e.next=V,_u(Ne,ae.memoizedState)||(tl=!0),ae.memoizedState=Ne,ae.baseState=Y,ae.baseQueue=e,me.lastRenderedState=Ne}if(H=me.interleaved,H!==null){ot=H;do mt=ot.lane,fo.lanes|=mt,Lh|=mt,ot=ot.next;while(ot!==H)}else ot===null&&(me.lanes=0);return[ae.memoizedState,me.dispatch]}function Fg(H){var ae=eu(),me=ae.queue;if(me===null)throw Error(ga(311));me.lastRenderedReducer=H;var Ne=me.dispatch,ot=me.pending,mt=ae.memoizedState;if(ot!==null){me.pending=null;var Y=ot=ot.next;do mt=H(mt,Y.action),Y=Y.next;while(Y!==ot);_u(mt,ae.memoizedState)||(tl=!0),ae.memoizedState=mt,ae.baseQueue===null&&(ae.baseState=mt),me.lastRenderedState=mt}return[mt,Ne]}function pb(){}function gb(H,ae){var me=fo,Ne=eu(),ot=ae(),mt=!_u(Ne.memoizedState,ot);if(mt&&(Ne.memoizedState=ot,tl=!0),Ne=Ne.queue,p1(xb.bind(null,me,Ne,H),[H]),Ne.getSnapshot!==ae||mt||Go!==null&&Go.memoizedState.tag&1){if(me.flags|=2048,Bd(9,mb.bind(null,me,Ne,ot,ae),void 0,null),Wo===null)throw Error(ga(349));Ch&30||yb(me,ae,ot)}return ot}function yb(H,ae,me){H.flags|=16384,H={getSnapshot:ae,value:me},ae=fo.updateQueue,ae===null?(ae={lastEffect:null,stores:null},fo.updateQueue=ae,ae.stores=[H]):(me=ae.stores,me===null?ae.stores=[H]:me.push(H))}function mb(H,ae,me,Ne){ae.value=me,ae.getSnapshot=Ne,bb(ae)&&wb(H)}function xb(H,ae,me){return me(function(){bb(ae)&&wb(H)})}function bb(H){var ae=H.getSnapshot;H=H.value;try{var me=ae();return!_u(H,me)}catch{return!0}}function wb(H){var ae=Nf(H,1);ae!==null&&ku(ae,H,1,-1)}function Lx(H){var ae=rf();return typeof H=="function"&&(H=H()),ae.memoizedState=ae.baseState=H,H={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Od,lastRenderedState:H},ae.queue=H,H=H.dispatch=S6.bind(null,fo,H),[ae.memoizedState,H]}function Bd(H,ae,me,Ne){return H={tag:H,create:ae,destroy:me,deps:Ne,next:null},ae=fo.updateQueue,ae===null?(ae={lastEffect:null,stores:null},fo.updateQueue=ae,ae.lastEffect=H.next=H):(me=ae.lastEffect,me===null?ae.lastEffect=H.next=H:(Ne=me.next,me.next=H,H.next=Ne,ae.lastEffect=H)),H}function Tb(){return eu().memoizedState}function Gp(H,ae,me,Ne){var ot=rf();fo.flags|=H,ot.memoizedState=Bd(1|ae,me,void 0,Ne===void 0?null:Ne)}function P0(H,ae,me,Ne){var ot=eu();Ne=Ne===void 0?null:Ne;var mt=void 0;if(Fo!==null){var Y=Fo.memoizedState;if(mt=Y.destroy,Ne!==null&&h1(Ne,Y.deps)){ot.memoizedState=Bd(ae,me,mt,Ne);return}}fo.flags|=H,ot.memoizedState=Bd(1|ae,me,mt,Ne)}function Px(H,ae){return Gp(8390656,8,H,ae)}function p1(H,ae){return P0(2048,8,H,ae)}function Ab(H,ae){return P0(4,2,H,ae)}function Mb(H,ae){return P0(4,4,H,ae)}function Sb(H,ae){if(typeof ae=="function")return H=H(),ae(H),function(){ae(null)};if(ae!=null)return H=H(),ae.current=H,function(){ae.current=null}}function Eb(H,ae,me){return me=me!=null?me.concat([H]):null,P0(4,4,Sb.bind(null,ae,H),me)}function g1(){}function Cb(H,ae){var me=eu();ae=ae===void 0?null:ae;var Ne=me.memoizedState;return Ne!==null&&ae!==null&&h1(ae,Ne[1])?Ne[0]:(me.memoizedState=[H,ae],H)}function Lb(H,ae){var me=eu();ae=ae===void 0?null:ae;var Ne=me.memoizedState;return Ne!==null&&ae!==null&&h1(ae,Ne[1])?Ne[0]:(H=H(),me.memoizedState=[H,ae],H)}function Pb(H,ae,me){return Ch&21?(_u(me,ae)||(me=_3(),fo.lanes|=me,Lh|=me,H.baseState=!0),ae):(H.baseState&&(H.baseState=!1,tl=!0),H.memoizedState=me)}function A6(H,ae){var me=Ri;Ri=me!==0&&4>me?me:4,H(!0);var Ne=_g.transition;_g.transition={};try{H(!1),ae()}finally{Ri=me,_g.transition=Ne}}function Rb(){return eu().memoizedState}function M6(H,ae,me){var Ne=Bc(H);if(me={lane:Ne,action:me,hasEagerState:!1,eagerState:null,next:null},Db(H))Ib(ae,me);else if(me=hb(H,ae,me,Ne),me!==null){var ot=zs();ku(me,H,Ne,ot),kb(me,ae,Ne)}}function S6(H,ae,me){var Ne=Bc(H),ot={lane:Ne,action:me,hasEagerState:!1,eagerState:null,next:null};if(Db(H))Ib(ae,ot);else{var mt=H.alternate;if(H.lanes===0&&(mt===null||mt.lanes===0)&&(mt=ae.lastRenderedReducer,mt!==null))try{var Y=ae.lastRenderedState,V=mt(Y,me);if(ot.hasEagerState=!0,ot.eagerState=V,_u(V,Y)){var e=ae.interleaved;e===null?(ot.next=ot,s1(ae)):(ot.next=e.next,e.next=ot),ae.interleaved=ot;return}}catch{}finally{}me=hb(H,ae,ot,Ne),me!==null&&(ot=zs(),ku(me,H,Ne,ot),kb(me,ae,Ne))}}function Db(H){var ae=H.alternate;return H===fo||ae!==null&&ae===fo}function Ib(H,ae){xd=c0=!0;var me=H.pending;me===null?ae.next=ae:(ae.next=me.next,me.next=ae),H.pending=ae}function kb(H,ae,me){if(me&4194240){var Ne=ae.lanes;Ne&=H.pendingLanes,me|=Ne,ae.lanes=me,jy(H,me)}}var h0={readContext:ql,useCallback:xs,useContext:xs,useEffect:xs,useImperativeHandle:xs,useInsertionEffect:xs,useLayoutEffect:xs,useMemo:xs,useReducer:xs,useRef:xs,useState:xs,useDebugValue:xs,useDeferredValue:xs,useTransition:xs,useMutableSource:xs,useSyncExternalStore:xs,useId:xs,unstable_isNewReconciler:!1},E6={readContext:ql,useCallback:function(H,ae){return rf().memoizedState=[H,ae===void 0?null:ae],H},useContext:ql,useEffect:Px,useImperativeHandle:function(H,ae,me){return me=me!=null?me.concat([H]):null,Gp(4194308,4,Sb.bind(null,ae,H),me)},useLayoutEffect:function(H,ae){return Gp(4194308,4,H,ae)},useInsertionEffect:function(H,ae){return Gp(4,2,H,ae)},useMemo:function(H,ae){var me=rf();return ae=ae===void 0?null:ae,H=H(),me.memoizedState=[H,ae],H},useReducer:function(H,ae,me){var Ne=rf();return ae=me!==void 0?me(ae):ae,Ne.memoizedState=Ne.baseState=ae,H={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:H,lastRenderedState:ae},Ne.queue=H,H=H.dispatch=M6.bind(null,fo,H),[Ne.memoizedState,H]},useRef:function(H){var ae=rf();return H={current:H},ae.memoizedState=H},useState:Lx,useDebugValue:g1,useDeferredValue:function(H){return rf().memoizedState=H},useTransition:function(){var H=Lx(!1),ae=H[0];return H=A6.bind(null,H[1]),rf().memoizedState=H,[ae,H]},useMutableSource:function(){},useSyncExternalStore:function(H,ae,me){var Ne=fo,ot=rf();if($i){if(me===void 0)throw Error(ga(407));me=me()}else{if(me=ae(),Wo===null)throw Error(ga(349));Ch&30||yb(Ne,ae,me)}ot.memoizedState=me;var mt={value:me,getSnapshot:ae};return ot.queue=mt,Px(xb.bind(null,Ne,mt,H),[H]),Ne.flags|=2048,Bd(9,mb.bind(null,Ne,mt,me,ae),void 0,null),me},useId:function(){var H=rf(),ae=Wo.identifierPrefix;if($i){var me=zf,Ne=_f;me=(Ne&~(1<<32-Iu(Ne)-1)).toString(32)+me,ae=":"+ae+"R"+me,me=Fd++,0<me&&(ae+="H"+me.toString(32)),ae+=":"}else me=T6++,ae=":"+ae+"r"+me.toString(32)+":";return H.memoizedState=ae},unstable_isNewReconciler:!1},C6={readContext:ql,useCallback:Cb,useContext:ql,useEffect:p1,useImperativeHandle:Eb,useInsertionEffect:Ab,useLayoutEffect:Mb,useMemo:Lb,useReducer:zg,useRef:Tb,useState:function(){return zg(Od)},useDebugValue:g1,useDeferredValue:function(H){var ae=eu();return Pb(ae,Fo.memoizedState,H)},useTransition:function(){var H=zg(Od)[0],ae=eu().memoizedState;return[H,ae]},useMutableSource:pb,useSyncExternalStore:gb,useId:Rb,unstable_isNewReconciler:!1},L6={readContext:ql,useCallback:Cb,useContext:ql,useEffect:p1,useImperativeHandle:Eb,useInsertionEffect:Ab,useLayoutEffect:Mb,useMemo:Lb,useReducer:Fg,useRef:Tb,useState:function(){return Fg(Od)},useDebugValue:g1,useDeferredValue:function(H){var ae=eu();return Fo===null?ae.memoizedState=H:Pb(ae,Fo.memoizedState,H)},useTransition:function(){var H=Fg(Od)[0],ae=eu().memoizedState;return[H,ae]},useMutableSource:pb,useSyncExternalStore:gb,useId:Rb,unstable_isNewReconciler:!1};function Pu(H,ae){if(H&&H.defaultProps){ae=co({},ae),H=H.defaultProps;for(var me in H)ae[me]===void 0&&(ae[me]=H[me]);return ae}return ae}function my(H,ae,me,Ne){ae=H.memoizedState,me=me(Ne,ae),me=me==null?ae:co({},ae,me),H.memoizedState=me,H.lanes===0&&(H.updateQueue.baseState=me)}var R0={isMounted:function(H){return(H=H._reactInternals)?Dh(H)===H:!1},enqueueSetState:function(H,ae,me){H=H._reactInternals;var Ne=zs(),ot=Bc(H),mt=Ff(Ne,ot);mt.payload=ae,me!=null&&(mt.callback=me),ae=Fc(H,mt,ot),ae!==null&&(ku(ae,H,ot,Ne),Vp(ae,H,ot))},enqueueReplaceState:function(H,ae,me){H=H._reactInternals;var Ne=zs(),ot=Bc(H),mt=Ff(Ne,ot);mt.tag=1,mt.payload=ae,me!=null&&(mt.callback=me),ae=Fc(H,mt,ot),ae!==null&&(ku(ae,H,ot,Ne),Vp(ae,H,ot))},enqueueForceUpdate:function(H,ae){H=H._reactInternals;var me=zs(),Ne=Bc(H),ot=Ff(me,Ne);ot.tag=2,ae!=null&&(ot.callback=ae),ae=Fc(H,ot,Ne),ae!==null&&(ku(ae,H,Ne,me),Vp(ae,H,Ne))}};function Rx(H,ae,me,Ne,ot,mt,Y){return H=H.stateNode,typeof H.shouldComponentUpdate=="function"?H.shouldComponentUpdate(Ne,mt,Y):ae.prototype&&ae.prototype.isPureReactComponent?!Rd(me,Ne)||!Rd(ot,mt):!0}function _b(H,ae,me){var Ne=!1,ot=Vc,mt=ae.contextType;return typeof mt=="object"&&mt!==null?mt=ql(mt):(ot=nl(ae)?Sh:Ts.current,Ne=ae.contextTypes,mt=(Ne=Ne!=null)?Sv(H,ot):Vc),ae=new ae(me,mt),H.memoizedState=ae.state!==null&&ae.state!==void 0?ae.state:null,ae.updater=R0,H.stateNode=ae,ae._reactInternals=H,Ne&&(H=H.stateNode,H.__reactInternalMemoizedUnmaskedChildContext=ot,H.__reactInternalMemoizedMaskedChildContext=mt),ae}function Dx(H,ae,me,Ne){H=ae.state,typeof ae.componentWillReceiveProps=="function"&&ae.componentWillReceiveProps(me,Ne),typeof ae.UNSAFE_componentWillReceiveProps=="function"&&ae.UNSAFE_componentWillReceiveProps(me,Ne),ae.state!==H&&R0.enqueueReplaceState(ae,ae.state,null)}function xy(H,ae,me,Ne){var ot=H.stateNode;ot.props=me,ot.state=H.memoizedState,ot.refs={},l1(H);var mt=ae.contextType;typeof mt=="object"&&mt!==null?ot.context=ql(mt):(mt=nl(ae)?Sh:Ts.current,ot.context=Sv(H,mt)),ot.state=H.memoizedState,mt=ae.getDerivedStateFromProps,typeof mt=="function"&&(my(H,ae,mt,me),ot.state=H.memoizedState),typeof ae.getDerivedStateFromProps=="function"||typeof ot.getSnapshotBeforeUpdate=="function"||typeof ot.UNSAFE_componentWillMount!="function"&&typeof ot.componentWillMount!="function"||(ae=ot.state,typeof ot.componentWillMount=="function"&&ot.componentWillMount(),typeof ot.UNSAFE_componentWillMount=="function"&&ot.UNSAFE_componentWillMount(),ae!==ot.state&&R0.enqueueReplaceState(ot,ot.state,null),u0(H,me,ot,Ne),ot.state=H.memoizedState),typeof ot.componentDidMount=="function"&&(H.flags|=4194308)}function Pv(H,ae){try{var me="",Ne=ae;do me+=r5(Ne),Ne=Ne.return;while(Ne);var ot=me}catch(mt){ot=`
Error generating stack: `+mt.message+`
`+mt.stack}return{value:H,source:ae,stack:ot,digest:null}}function Og(H,ae,me){return{value:H,source:null,stack:me??null,digest:ae??null}}function by(H,ae){try{console.error(ae.value)}catch(me){setTimeout(function(){throw me})}}var P6=typeof WeakMap=="function"?WeakMap:Map;function zb(H,ae,me){me=Ff(-1,me),me.tag=3,me.payload={element:null};var Ne=ae.value;return me.callback=function(){d0||(d0=!0,Ry=Ne),by(H,ae)},me}function Fb(H,ae,me){me=Ff(-1,me),me.tag=3;var Ne=H.type.getDerivedStateFromError;if(typeof Ne=="function"){var ot=ae.value;me.payload=function(){return Ne(ot)},me.callback=function(){by(H,ae)}}var mt=H.stateNode;return mt!==null&&typeof mt.componentDidCatch=="function"&&(me.callback=function(){by(H,ae),typeof Ne!="function"&&(Oc===null?Oc=new Set([this]):Oc.add(this));var Y=ae.stack;this.componentDidCatch(ae.value,{componentStack:Y!==null?Y:""})}),me}function Ix(H,ae,me){var Ne=H.pingCache;if(Ne===null){Ne=H.pingCache=new P6;var ot=new Set;Ne.set(ae,ot)}else ot=Ne.get(ae),ot===void 0&&(ot=new Set,Ne.set(ae,ot));ot.has(me)||(ot.add(me),H=G6.bind(null,H,ae,me),ae.then(H,H))}function kx(H){do{var ae;if((ae=H.tag===13)&&(ae=H.memoizedState,ae=ae!==null?ae.dehydrated!==null:!0),ae)return H;H=H.return}while(H!==null);return null}function _x(H,ae,me,Ne,ot){return H.mode&1?(H.flags|=65536,H.lanes=ot,H):(H===ae?H.flags|=65536:(H.flags|=128,me.flags|=131072,me.flags&=-52805,me.tag===1&&(me.alternate===null?me.tag=17:(ae=Ff(-1,1),ae.tag=2,Fc(me,ae,1))),me.lanes|=1),H)}var R6=Hf.ReactCurrentOwner,tl=!1;function _s(H,ae,me,Ne){ae.child=H===null?cb(ae,null,me,Ne):Cv(ae,H.child,me,Ne)}function zx(H,ae,me,Ne,ot){me=me.render;var mt=ae.ref;return wv(ae,ot),Ne=v1(H,ae,me,Ne,mt,ot),me=d1(),H!==null&&!tl?(ae.updateQueue=H.updateQueue,ae.flags&=-2053,H.lanes&=~ot,Uf(H,ae,ot)):($i&&me&&t1(ae),ae.flags|=1,_s(H,ae,Ne,ot),ae.child)}function Fx(H,ae,me,Ne,ot){if(H===null){var mt=me.type;return typeof mt=="function"&&!M1(mt)&&mt.defaultProps===void 0&&me.compare===null&&me.defaultProps===void 0?(ae.tag=15,ae.type=mt,Ob(H,ae,mt,Ne,ot)):(H=jp(me.type,null,Ne,ae,ae.mode,ot),H.ref=ae.ref,H.return=ae,ae.child=H)}if(mt=H.child,!(H.lanes&ot)){var Y=mt.memoizedProps;if(me=me.compare,me=me!==null?me:Rd,me(Y,Ne)&&H.ref===ae.ref)return Uf(H,ae,ot)}return ae.flags|=1,H=Nc(mt,Ne),H.ref=ae.ref,H.return=ae,ae.child=H}function Ob(H,ae,me,Ne,ot){if(H!==null){var mt=H.memoizedProps;if(Rd(mt,Ne)&&H.ref===ae.ref)if(tl=!1,ae.pendingProps=Ne=mt,(H.lanes&ot)!==0)H.flags&131072&&(tl=!0);else return ae.lanes=H.lanes,Uf(H,ae,ot)}return wy(H,ae,me,Ne,ot)}function Bb(H,ae,me){var Ne=ae.pendingProps,ot=Ne.children,mt=H!==null?H.memoizedState:null;if(Ne.mode==="hidden")if(!(ae.mode&1))ae.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ni(gv,xl),xl|=me;else{if(!(me&1073741824))return H=mt!==null?mt.baseLanes|me:me,ae.lanes=ae.childLanes=1073741824,ae.memoizedState={baseLanes:H,cachePool:null,transitions:null},ae.updateQueue=null,Ni(gv,xl),xl|=H,null;ae.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne=mt!==null?mt.baseLanes:me,Ni(gv,xl),xl|=Ne}else mt!==null?(Ne=mt.baseLanes|me,ae.memoizedState=null):Ne=me,Ni(gv,xl),xl|=Ne;return _s(H,ae,ot,me),ae.child}function Nb(H,ae){var me=ae.ref;(H===null&&me!==null||H!==null&&H.ref!==me)&&(ae.flags|=512,ae.flags|=2097152)}function wy(H,ae,me,Ne,ot){var mt=nl(me)?Sh:Ts.current;return mt=Sv(ae,mt),wv(ae,ot),me=v1(H,ae,me,Ne,mt,ot),Ne=d1(),H!==null&&!tl?(ae.updateQueue=H.updateQueue,ae.flags&=-2053,H.lanes&=~ot,Uf(H,ae,ot)):($i&&Ne&&t1(ae),ae.flags|=1,_s(H,ae,me,ot),ae.child)}function Ox(H,ae,me,Ne,ot){if(nl(me)){var mt=!0;a0(ae)}else mt=!1;if(wv(ae,ot),ae.stateNode===null)Wp(H,ae),_b(ae,me,Ne),xy(ae,me,Ne,ot),Ne=!0;else if(H===null){var Y=ae.stateNode,V=ae.memoizedProps;Y.props=V;var e=Y.context,b=me.contextType;typeof b=="object"&&b!==null?b=ql(b):(b=nl(me)?Sh:Ts.current,b=Sv(ae,b));var P=me.getDerivedStateFromProps,s=typeof P=="function"||typeof Y.getSnapshotBeforeUpdate=="function";s||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(V!==Ne||e!==b)&&Dx(ae,Y,Ne,b),Cc=!1;var L=ae.memoizedState;Y.state=L,u0(ae,Ne,Y,ot),e=ae.memoizedState,V!==Ne||L!==e||rl.current||Cc?(typeof P=="function"&&(my(ae,me,P,Ne),e=ae.memoizedState),(V=Cc||Rx(ae,me,V,Ne,L,e,b))?(s||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount()),typeof Y.componentDidMount=="function"&&(ae.flags|=4194308)):(typeof Y.componentDidMount=="function"&&(ae.flags|=4194308),ae.memoizedProps=Ne,ae.memoizedState=e),Y.props=Ne,Y.state=e,Y.context=b,Ne=V):(typeof Y.componentDidMount=="function"&&(ae.flags|=4194308),Ne=!1)}else{Y=ae.stateNode,vb(H,ae),V=ae.memoizedProps,b=ae.type===ae.elementType?V:Pu(ae.type,V),Y.props=b,s=ae.pendingProps,L=Y.context,e=me.contextType,typeof e=="object"&&e!==null?e=ql(e):(e=nl(me)?Sh:Ts.current,e=Sv(ae,e));var M=me.getDerivedStateFromProps;(P=typeof M=="function"||typeof Y.getSnapshotBeforeUpdate=="function")||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(V!==s||L!==e)&&Dx(ae,Y,Ne,e),Cc=!1,L=ae.memoizedState,Y.state=L,u0(ae,Ne,Y,ot);var v=ae.memoizedState;V!==s||L!==v||rl.current||Cc?(typeof M=="function"&&(my(ae,me,M,Ne),v=ae.memoizedState),(b=Cc||Rx(ae,me,b,Ne,L,v,e)||!1)?(P||typeof Y.UNSAFE_componentWillUpdate!="function"&&typeof Y.componentWillUpdate!="function"||(typeof Y.componentWillUpdate=="function"&&Y.componentWillUpdate(Ne,v,e),typeof Y.UNSAFE_componentWillUpdate=="function"&&Y.UNSAFE_componentWillUpdate(Ne,v,e)),typeof Y.componentDidUpdate=="function"&&(ae.flags|=4),typeof Y.getSnapshotBeforeUpdate=="function"&&(ae.flags|=1024)):(typeof Y.componentDidUpdate!="function"||V===H.memoizedProps&&L===H.memoizedState||(ae.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||V===H.memoizedProps&&L===H.memoizedState||(ae.flags|=1024),ae.memoizedProps=Ne,ae.memoizedState=v),Y.props=Ne,Y.state=v,Y.context=e,Ne=b):(typeof Y.componentDidUpdate!="function"||V===H.memoizedProps&&L===H.memoizedState||(ae.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||V===H.memoizedProps&&L===H.memoizedState||(ae.flags|=1024),Ne=!1)}return Ty(H,ae,me,Ne,mt,ot)}function Ty(H,ae,me,Ne,ot,mt){Nb(H,ae);var Y=(ae.flags&128)!==0;if(!Ne&&!Y)return ot&&Tx(ae,me,!1),Uf(H,ae,mt);Ne=ae.stateNode,R6.current=ae;var V=Y&&typeof me.getDerivedStateFromError!="function"?null:Ne.render();return ae.flags|=1,H!==null&&Y?(ae.child=Cv(ae,H.child,null,mt),ae.child=Cv(ae,null,V,mt)):_s(H,ae,V,mt),ae.memoizedState=Ne.state,ot&&Tx(ae,me,!0),ae.child}function Ub(H){var ae=H.stateNode;ae.pendingContext?wx(H,ae.pendingContext,ae.pendingContext!==ae.context):ae.context&&wx(H,ae.context,!1),u1(H,ae.containerInfo)}function Bx(H,ae,me,Ne,ot){return Ev(),n1(ot),ae.flags|=256,_s(H,ae,me,Ne),ae.child}var Ay={dehydrated:null,treeContext:null,retryLane:0};function My(H){return{baseLanes:H,cachePool:null,transitions:null}}function Vb(H,ae,me){var Ne=ae.pendingProps,ot=uo.current,mt=!1,Y=(ae.flags&128)!==0,V;if((V=Y)||(V=H!==null&&H.memoizedState===null?!1:(ot&2)!==0),V?(mt=!0,ae.flags&=-129):(H===null||H.memoizedState!==null)&&(ot|=1),Ni(uo,ot&1),H===null)return gy(ae),H=ae.memoizedState,H!==null&&(H=H.dehydrated,H!==null)?(ae.mode&1?H.data==="$!"?ae.lanes=8:ae.lanes=1073741824:ae.lanes=1,null):(Y=Ne.children,H=Ne.fallback,mt?(Ne=ae.mode,mt=ae.child,Y={mode:"hidden",children:Y},!(Ne&1)&&mt!==null?(mt.childLanes=0,mt.pendingProps=Y):mt=k0(Y,Ne,0,null),H=Mh(H,Ne,me,null),mt.return=ae,H.return=ae,mt.sibling=H,ae.child=mt,ae.child.memoizedState=My(me),ae.memoizedState=Ay,H):y1(ae,Y));if(ot=H.memoizedState,ot!==null&&(V=ot.dehydrated,V!==null))return D6(H,ae,Y,Ne,V,ot,me);if(mt){mt=Ne.fallback,Y=ae.mode,ot=H.child,V=ot.sibling;var e={mode:"hidden",children:Ne.children};return!(Y&1)&&ae.child!==ot?(Ne=ae.child,Ne.childLanes=0,Ne.pendingProps=e,ae.deletions=null):(Ne=Nc(ot,e),Ne.subtreeFlags=ot.subtreeFlags&14680064),V!==null?mt=Nc(V,mt):(mt=Mh(mt,Y,me,null),mt.flags|=2),mt.return=ae,Ne.return=ae,Ne.sibling=mt,ae.child=Ne,Ne=mt,mt=ae.child,Y=H.child.memoizedState,Y=Y===null?My(me):{baseLanes:Y.baseLanes|me,cachePool:null,transitions:Y.transitions},mt.memoizedState=Y,mt.childLanes=H.childLanes&~me,ae.memoizedState=Ay,Ne}return mt=H.child,H=mt.sibling,Ne=Nc(mt,{mode:"visible",children:Ne.children}),!(ae.mode&1)&&(Ne.lanes=me),Ne.return=ae,Ne.sibling=null,H!==null&&(me=ae.deletions,me===null?(ae.deletions=[H],ae.flags|=16):me.push(H)),ae.child=Ne,ae.memoizedState=null,Ne}function y1(H,ae){return ae=k0({mode:"visible",children:ae},H.mode,0,null),ae.return=H,H.child=ae}function Ip(H,ae,me,Ne){return Ne!==null&&n1(Ne),Cv(ae,H.child,null,me),H=y1(ae,ae.pendingProps.children),H.flags|=2,ae.memoizedState=null,H}function D6(H,ae,me,Ne,ot,mt,Y){if(me)return ae.flags&256?(ae.flags&=-257,Ne=Og(Error(ga(422))),Ip(H,ae,Y,Ne)):ae.memoizedState!==null?(ae.child=H.child,ae.flags|=128,null):(mt=Ne.fallback,ot=ae.mode,Ne=k0({mode:"visible",children:Ne.children},ot,0,null),mt=Mh(mt,ot,Y,null),mt.flags|=2,Ne.return=ae,mt.return=ae,Ne.sibling=mt,ae.child=Ne,ae.mode&1&&Cv(ae,H.child,null,Y),ae.child.memoizedState=My(Y),ae.memoizedState=Ay,mt);if(!(ae.mode&1))return Ip(H,ae,Y,null);if(ot.data==="$!"){if(Ne=ot.nextSibling&&ot.nextSibling.dataset,Ne)var V=Ne.dgst;return Ne=V,mt=Error(ga(419)),Ne=Og(mt,Ne,void 0),Ip(H,ae,Y,Ne)}if(V=(Y&H.childLanes)!==0,tl||V){if(Ne=Wo,Ne!==null){switch(Y&-Y){case 4:ot=2;break;case 16:ot=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ot=32;break;case 536870912:ot=268435456;break;default:ot=0}ot=ot&(Ne.suspendedLanes|Y)?0:ot,ot!==0&&ot!==mt.retryLane&&(mt.retryLane=ot,Nf(H,ot),ku(Ne,H,ot,-1))}return A1(),Ne=Og(Error(ga(421))),Ip(H,ae,Y,Ne)}return ot.data==="$?"?(ae.flags|=128,ae.child=H.child,ae=W6.bind(null,H),ot._reactRetry=ae,null):(H=mt.treeContext,bl=zc(ot.nextSibling),wl=ae,$i=!0,Du=null,H!==null&&(Kl[Jl++]=_f,Kl[Jl++]=zf,Kl[Jl++]=Eh,_f=H.id,zf=H.overflow,Eh=ae),ae=y1(ae,Ne.children),ae.flags|=4096,ae)}function Nx(H,ae,me){H.lanes|=ae;var Ne=H.alternate;Ne!==null&&(Ne.lanes|=ae),yy(H.return,ae,me)}function Bg(H,ae,me,Ne,ot){var mt=H.memoizedState;mt===null?H.memoizedState={isBackwards:ae,rendering:null,renderingStartTime:0,last:Ne,tail:me,tailMode:ot}:(mt.isBackwards=ae,mt.rendering=null,mt.renderingStartTime=0,mt.last=Ne,mt.tail=me,mt.tailMode=ot)}function Hb(H,ae,me){var Ne=ae.pendingProps,ot=Ne.revealOrder,mt=Ne.tail;if(_s(H,ae,Ne.children,me),Ne=uo.current,Ne&2)Ne=Ne&1|2,ae.flags|=128;else{if(H!==null&&H.flags&128)e:for(H=ae.child;H!==null;){if(H.tag===13)H.memoizedState!==null&&Nx(H,me,ae);else if(H.tag===19)Nx(H,me,ae);else if(H.child!==null){H.child.return=H,H=H.child;continue}if(H===ae)break e;for(;H.sibling===null;){if(H.return===null||H.return===ae)break e;H=H.return}H.sibling.return=H.return,H=H.sibling}Ne&=1}if(Ni(uo,Ne),!(ae.mode&1))ae.memoizedState=null;else switch(ot){case"forwards":for(me=ae.child,ot=null;me!==null;)H=me.alternate,H!==null&&f0(H)===null&&(ot=me),me=me.sibling;me=ot,me===null?(ot=ae.child,ae.child=null):(ot=me.sibling,me.sibling=null),Bg(ae,!1,ot,me,mt);break;case"backwards":for(me=null,ot=ae.child,ae.child=null;ot!==null;){if(H=ot.alternate,H!==null&&f0(H)===null){ae.child=ot;break}H=ot.sibling,ot.sibling=me,me=ot,ot=H}Bg(ae,!0,me,null,mt);break;case"together":Bg(ae,!1,null,null,void 0);break;default:ae.memoizedState=null}return ae.child}function Wp(H,ae){!(ae.mode&1)&&H!==null&&(H.alternate=null,ae.alternate=null,ae.flags|=2)}function Uf(H,ae,me){if(H!==null&&(ae.dependencies=H.dependencies),Lh|=ae.lanes,!(me&ae.childLanes))return null;if(H!==null&&ae.child!==H.child)throw Error(ga(153));if(ae.child!==null){for(H=ae.child,me=Nc(H,H.pendingProps),ae.child=me,me.return=ae;H.sibling!==null;)H=H.sibling,me=me.sibling=Nc(H,H.pendingProps),me.return=ae;me.sibling=null}return ae.child}function I6(H,ae,me){switch(ae.tag){case 3:Ub(ae),Ev();break;case 5:db(ae);break;case 1:nl(ae.type)&&a0(ae);break;case 4:u1(ae,ae.stateNode.containerInfo);break;case 10:var Ne=ae.type._context,ot=ae.memoizedProps.value;Ni(s0,Ne._currentValue),Ne._currentValue=ot;break;case 13:if(Ne=ae.memoizedState,Ne!==null)return Ne.dehydrated!==null?(Ni(uo,uo.current&1),ae.flags|=128,null):me&ae.child.childLanes?Vb(H,ae,me):(Ni(uo,uo.current&1),H=Uf(H,ae,me),H!==null?H.sibling:null);Ni(uo,uo.current&1);break;case 19:if(Ne=(me&ae.childLanes)!==0,H.flags&128){if(Ne)return Hb(H,ae,me);ae.flags|=128}if(ot=ae.memoizedState,ot!==null&&(ot.rendering=null,ot.tail=null,ot.lastEffect=null),Ni(uo,uo.current),Ne)break;return null;case 22:case 23:return ae.lanes=0,Bb(H,ae,me)}return Uf(H,ae,me)}var Gb,Sy,Wb,Yb;Gb=function(H,ae){for(var me=ae.child;me!==null;){if(me.tag===5||me.tag===6)H.appendChild(me.stateNode);else if(me.tag!==4&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===ae)break;for(;me.sibling===null;){if(me.return===null||me.return===ae)return;me=me.return}me.sibling.return=me.return,me=me.sibling}};Sy=function(){};Wb=function(H,ae,me,Ne){var ot=H.memoizedProps;if(ot!==Ne){H=ae.stateNode,Th(of.current);var mt=null;switch(me){case"input":ot=jg(H,ot),Ne=jg(H,Ne),mt=[];break;case"select":ot=co({},ot,{value:void 0}),Ne=co({},Ne,{value:void 0}),mt=[];break;case"textarea":ot=Jg(H,ot),Ne=Jg(H,Ne),mt=[];break;default:typeof ot.onClick!="function"&&typeof Ne.onClick=="function"&&(H.onclick=r0)}$g(me,Ne);var Y;me=null;for(b in ot)if(!Ne.hasOwnProperty(b)&&ot.hasOwnProperty(b)&&ot[b]!=null)if(b==="style"){var V=ot[b];for(Y in V)V.hasOwnProperty(Y)&&(me||(me={}),me[Y]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(Ad.hasOwnProperty(b)?mt||(mt=[]):(mt=mt||[]).push(b,null));for(b in Ne){var e=Ne[b];if(V=ot!=null?ot[b]:void 0,Ne.hasOwnProperty(b)&&e!==V&&(e!=null||V!=null))if(b==="style")if(V){for(Y in V)!V.hasOwnProperty(Y)||e&&e.hasOwnProperty(Y)||(me||(me={}),me[Y]="");for(Y in e)e.hasOwnProperty(Y)&&V[Y]!==e[Y]&&(me||(me={}),me[Y]=e[Y])}else me||(mt||(mt=[]),mt.push(b,me)),me=e;else b==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,V=V?V.__html:void 0,e!=null&&V!==e&&(mt=mt||[]).push(b,e)):b==="children"?typeof e!="string"&&typeof e!="number"||(mt=mt||[]).push(b,""+e):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(Ad.hasOwnProperty(b)?(e!=null&&b==="onScroll"&&Yi("scroll",H),mt||V===e||(mt=[])):(mt=mt||[]).push(b,e))}me&&(mt=mt||[]).push("style",me);var b=mt;(ae.updateQueue=b)&&(ae.flags|=4)}};Yb=function(H,ae,me,Ne){me!==Ne&&(ae.flags|=4)};function ld(H,ae){if(!$i)switch(H.tailMode){case"hidden":ae=H.tail;for(var me=null;ae!==null;)ae.alternate!==null&&(me=ae),ae=ae.sibling;me===null?H.tail=null:me.sibling=null;break;case"collapsed":me=H.tail;for(var Ne=null;me!==null;)me.alternate!==null&&(Ne=me),me=me.sibling;Ne===null?ae||H.tail===null?H.tail=null:H.tail.sibling=null:Ne.sibling=null}}function bs(H){var ae=H.alternate!==null&&H.alternate.child===H.child,me=0,Ne=0;if(ae)for(var ot=H.child;ot!==null;)me|=ot.lanes|ot.childLanes,Ne|=ot.subtreeFlags&14680064,Ne|=ot.flags&14680064,ot.return=H,ot=ot.sibling;else for(ot=H.child;ot!==null;)me|=ot.lanes|ot.childLanes,Ne|=ot.subtreeFlags,Ne|=ot.flags,ot.return=H,ot=ot.sibling;return H.subtreeFlags|=Ne,H.childLanes=me,ae}function k6(H,ae,me){var Ne=ae.pendingProps;switch(r1(ae),ae.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bs(ae),null;case 1:return nl(ae.type)&&n0(),bs(ae),null;case 3:return Ne=ae.stateNode,Lv(),Xi(rl),Xi(Ts),c1(),Ne.pendingContext&&(Ne.context=Ne.pendingContext,Ne.pendingContext=null),(H===null||H.child===null)&&(Rp(ae)?ae.flags|=4:H===null||H.memoizedState.isDehydrated&&!(ae.flags&256)||(ae.flags|=1024,Du!==null&&(ky(Du),Du=null))),Sy(H,ae),bs(ae),null;case 5:f1(ae);var ot=Th(zd.current);if(me=ae.type,H!==null&&ae.stateNode!=null)Wb(H,ae,me,Ne,ot),H.ref!==ae.ref&&(ae.flags|=512,ae.flags|=2097152);else{if(!Ne){if(ae.stateNode===null)throw Error(ga(166));return bs(ae),null}if(H=Th(of.current),Rp(ae)){Ne=ae.stateNode,me=ae.type;var mt=ae.memoizedProps;switch(Ne[nf]=ae,Ne[kd]=mt,H=(ae.mode&1)!==0,me){case"dialog":Yi("cancel",Ne),Yi("close",Ne);break;case"iframe":case"object":case"embed":Yi("load",Ne);break;case"video":case"audio":for(ot=0;ot<vd.length;ot++)Yi(vd[ot],Ne);break;case"source":Yi("error",Ne);break;case"img":case"image":case"link":Yi("error",Ne),Yi("load",Ne);break;case"details":Yi("toggle",Ne);break;case"input":Zm(Ne,mt),Yi("invalid",Ne);break;case"select":Ne._wrapperState={wasMultiple:!!mt.multiple},Yi("invalid",Ne);break;case"textarea":Jm(Ne,mt),Yi("invalid",Ne)}$g(me,mt),ot=null;for(var Y in mt)if(mt.hasOwnProperty(Y)){var V=mt[Y];Y==="children"?typeof V=="string"?Ne.textContent!==V&&(mt.suppressHydrationWarning!==!0&&Pp(Ne.textContent,V,H),ot=["children",V]):typeof V=="number"&&Ne.textContent!==""+V&&(mt.suppressHydrationWarning!==!0&&Pp(Ne.textContent,V,H),ot=["children",""+V]):Ad.hasOwnProperty(Y)&&V!=null&&Y==="onScroll"&&Yi("scroll",Ne)}switch(me){case"input":wp(Ne),Km(Ne,mt,!0);break;case"textarea":wp(Ne),Qm(Ne);break;case"select":case"option":break;default:typeof mt.onClick=="function"&&(Ne.onclick=r0)}Ne=ot,ae.updateQueue=Ne,Ne!==null&&(ae.flags|=4)}else{Y=ot.nodeType===9?ot:ot.ownerDocument,H==="http://www.w3.org/1999/xhtml"&&(H=x3(me)),H==="http://www.w3.org/1999/xhtml"?me==="script"?(H=Y.createElement("div"),H.innerHTML="<script><\/script>",H=H.removeChild(H.firstChild)):typeof Ne.is=="string"?H=Y.createElement(me,{is:Ne.is}):(H=Y.createElement(me),me==="select"&&(Y=H,Ne.multiple?Y.multiple=!0:Ne.size&&(Y.size=Ne.size))):H=Y.createElementNS(H,me),H[nf]=ae,H[kd]=Ne,Gb(H,ae,!1,!1),ae.stateNode=H;e:{switch(Y=qg(me,Ne),me){case"dialog":Yi("cancel",H),Yi("close",H),ot=Ne;break;case"iframe":case"object":case"embed":Yi("load",H),ot=Ne;break;case"video":case"audio":for(ot=0;ot<vd.length;ot++)Yi(vd[ot],H);ot=Ne;break;case"source":Yi("error",H),ot=Ne;break;case"img":case"image":case"link":Yi("error",H),Yi("load",H),ot=Ne;break;case"details":Yi("toggle",H),ot=Ne;break;case"input":Zm(H,Ne),ot=jg(H,Ne),Yi("invalid",H);break;case"option":ot=Ne;break;case"select":H._wrapperState={wasMultiple:!!Ne.multiple},ot=co({},Ne,{value:void 0}),Yi("invalid",H);break;case"textarea":Jm(H,Ne),ot=Jg(H,Ne),Yi("invalid",H);break;default:ot=Ne}$g(me,ot),V=ot;for(mt in V)if(V.hasOwnProperty(mt)){var e=V[mt];mt==="style"?T3(H,e):mt==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,e!=null&&b3(H,e)):mt==="children"?typeof e=="string"?(me!=="textarea"||e!=="")&&Md(H,e):typeof e=="number"&&Md(H,""+e):mt!=="suppressContentEditableWarning"&&mt!=="suppressHydrationWarning"&&mt!=="autoFocus"&&(Ad.hasOwnProperty(mt)?e!=null&&mt==="onScroll"&&Yi("scroll",H):e!=null&&Vy(H,mt,e,Y))}switch(me){case"input":wp(H),Km(H,Ne,!1);break;case"textarea":wp(H),Qm(H);break;case"option":Ne.value!=null&&H.setAttribute("value",""+Uc(Ne.value));break;case"select":H.multiple=!!Ne.multiple,mt=Ne.value,mt!=null?yv(H,!!Ne.multiple,mt,!1):Ne.defaultValue!=null&&yv(H,!!Ne.multiple,Ne.defaultValue,!0);break;default:typeof ot.onClick=="function"&&(H.onclick=r0)}switch(me){case"button":case"input":case"select":case"textarea":Ne=!!Ne.autoFocus;break e;case"img":Ne=!0;break e;default:Ne=!1}}Ne&&(ae.flags|=4)}ae.ref!==null&&(ae.flags|=512,ae.flags|=2097152)}return bs(ae),null;case 6:if(H&&ae.stateNode!=null)Yb(H,ae,H.memoizedProps,Ne);else{if(typeof Ne!="string"&&ae.stateNode===null)throw Error(ga(166));if(me=Th(zd.current),Th(of.current),Rp(ae)){if(Ne=ae.stateNode,me=ae.memoizedProps,Ne[nf]=ae,(mt=Ne.nodeValue!==me)&&(H=wl,H!==null))switch(H.tag){case 3:Pp(Ne.nodeValue,me,(H.mode&1)!==0);break;case 5:H.memoizedProps.suppressHydrationWarning!==!0&&Pp(Ne.nodeValue,me,(H.mode&1)!==0)}mt&&(ae.flags|=4)}else Ne=(me.nodeType===9?me:me.ownerDocument).createTextNode(Ne),Ne[nf]=ae,ae.stateNode=Ne}return bs(ae),null;case 13:if(Xi(uo),Ne=ae.memoizedState,H===null||H.memoizedState!==null&&H.memoizedState.dehydrated!==null){if($i&&bl!==null&&ae.mode&1&&!(ae.flags&128))ub(),Ev(),ae.flags|=98560,mt=!1;else if(mt=Rp(ae),Ne!==null&&Ne.dehydrated!==null){if(H===null){if(!mt)throw Error(ga(318));if(mt=ae.memoizedState,mt=mt!==null?mt.dehydrated:null,!mt)throw Error(ga(317));mt[nf]=ae}else Ev(),!(ae.flags&128)&&(ae.memoizedState=null),ae.flags|=4;bs(ae),mt=!1}else Du!==null&&(ky(Du),Du=null),mt=!0;if(!mt)return ae.flags&65536?ae:null}return ae.flags&128?(ae.lanes=me,ae):(Ne=Ne!==null,Ne!==(H!==null&&H.memoizedState!==null)&&Ne&&(ae.child.flags|=8192,ae.mode&1&&(H===null||uo.current&1?Oo===0&&(Oo=3):A1())),ae.updateQueue!==null&&(ae.flags|=4),bs(ae),null);case 4:return Lv(),Sy(H,ae),H===null&&Dd(ae.stateNode.containerInfo),bs(ae),null;case 10:return o1(ae.type._context),bs(ae),null;case 17:return nl(ae.type)&&n0(),bs(ae),null;case 19:if(Xi(uo),mt=ae.memoizedState,mt===null)return bs(ae),null;if(Ne=(ae.flags&128)!==0,Y=mt.rendering,Y===null)if(Ne)ld(mt,!1);else{if(Oo!==0||H!==null&&H.flags&128)for(H=ae.child;H!==null;){if(Y=f0(H),Y!==null){for(ae.flags|=128,ld(mt,!1),Ne=Y.updateQueue,Ne!==null&&(ae.updateQueue=Ne,ae.flags|=4),ae.subtreeFlags=0,Ne=me,me=ae.child;me!==null;)mt=me,H=Ne,mt.flags&=14680066,Y=mt.alternate,Y===null?(mt.childLanes=0,mt.lanes=H,mt.child=null,mt.subtreeFlags=0,mt.memoizedProps=null,mt.memoizedState=null,mt.updateQueue=null,mt.dependencies=null,mt.stateNode=null):(mt.childLanes=Y.childLanes,mt.lanes=Y.lanes,mt.child=Y.child,mt.subtreeFlags=0,mt.deletions=null,mt.memoizedProps=Y.memoizedProps,mt.memoizedState=Y.memoizedState,mt.updateQueue=Y.updateQueue,mt.type=Y.type,H=Y.dependencies,mt.dependencies=H===null?null:{lanes:H.lanes,firstContext:H.firstContext}),me=me.sibling;return Ni(uo,uo.current&1|2),ae.child}H=H.sibling}mt.tail!==null&&So()>Rv&&(ae.flags|=128,Ne=!0,ld(mt,!1),ae.lanes=4194304)}else{if(!Ne)if(H=f0(Y),H!==null){if(ae.flags|=128,Ne=!0,me=H.updateQueue,me!==null&&(ae.updateQueue=me,ae.flags|=4),ld(mt,!0),mt.tail===null&&mt.tailMode==="hidden"&&!Y.alternate&&!$i)return bs(ae),null}else 2*So()-mt.renderingStartTime>Rv&&me!==1073741824&&(ae.flags|=128,Ne=!0,ld(mt,!1),ae.lanes=4194304);mt.isBackwards?(Y.sibling=ae.child,ae.child=Y):(me=mt.last,me!==null?me.sibling=Y:ae.child=Y,mt.last=Y)}return mt.tail!==null?(ae=mt.tail,mt.rendering=ae,mt.tail=ae.sibling,mt.renderingStartTime=So(),ae.sibling=null,me=uo.current,Ni(uo,Ne?me&1|2:me&1),ae):(bs(ae),null);case 22:case 23:return T1(),Ne=ae.memoizedState!==null,H!==null&&H.memoizedState!==null!==Ne&&(ae.flags|=8192),Ne&&ae.mode&1?xl&1073741824&&(bs(ae),ae.subtreeFlags&6&&(ae.flags|=8192)):bs(ae),null;case 24:return null;case 25:return null}throw Error(ga(156,ae.tag))}function _6(H,ae){switch(r1(ae),ae.tag){case 1:return nl(ae.type)&&n0(),H=ae.flags,H&65536?(ae.flags=H&-65537|128,ae):null;case 3:return Lv(),Xi(rl),Xi(Ts),c1(),H=ae.flags,H&65536&&!(H&128)?(ae.flags=H&-65537|128,ae):null;case 5:return f1(ae),null;case 13:if(Xi(uo),H=ae.memoizedState,H!==null&&H.dehydrated!==null){if(ae.alternate===null)throw Error(ga(340));Ev()}return H=ae.flags,H&65536?(ae.flags=H&-65537|128,ae):null;case 19:return Xi(uo),null;case 4:return Lv(),null;case 10:return o1(ae.type._context),null;case 22:case 23:return T1(),null;case 24:return null;default:return null}}var kp=!1,ws=!1,z6=typeof WeakSet=="function"?WeakSet:Set,Ia=null;function pv(H,ae){var me=H.ref;if(me!==null)if(typeof me=="function")try{me(null)}catch(Ne){mo(H,ae,Ne)}else me.current=null}function Ey(H,ae,me){try{me()}catch(Ne){mo(H,ae,Ne)}}var Ux=!1;function F6(H,ae){if(uy=qp,H=J3(),e1(H)){if("selectionStart"in H)var me={start:H.selectionStart,end:H.selectionEnd};else e:{me=(me=H.ownerDocument)&&me.defaultView||window;var Ne=me.getSelection&&me.getSelection();if(Ne&&Ne.rangeCount!==0){me=Ne.anchorNode;var ot=Ne.anchorOffset,mt=Ne.focusNode;Ne=Ne.focusOffset;try{me.nodeType,mt.nodeType}catch{me=null;break e}var Y=0,V=-1,e=-1,b=0,P=0,s=H,L=null;t:for(;;){for(var M;s!==me||ot!==0&&s.nodeType!==3||(V=Y+ot),s!==mt||Ne!==0&&s.nodeType!==3||(e=Y+Ne),s.nodeType===3&&(Y+=s.nodeValue.length),(M=s.firstChild)!==null;)L=s,s=M;for(;;){if(s===H)break t;if(L===me&&++b===ot&&(V=Y),L===mt&&++P===Ne&&(e=Y),(M=s.nextSibling)!==null)break;s=L,L=s.parentNode}s=M}me=V===-1||e===-1?null:{start:V,end:e}}else me=null}me=me||{start:0,end:0}}else me=null;for(fy={focusedElem:H,selectionRange:me},qp=!1,Ia=ae;Ia!==null;)if(ae=Ia,H=ae.child,(ae.subtreeFlags&1028)!==0&&H!==null)H.return=ae,Ia=H;else for(;Ia!==null;){ae=Ia;try{var v=ae.alternate;if(ae.flags&1024)switch(ae.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,r=v.memoizedState,t=ae.stateNode,o=t.getSnapshotBeforeUpdate(ae.elementType===ae.type?p:Pu(ae.type,p),r);t.__reactInternalSnapshotBeforeUpdate=o}break;case 3:var n=ae.stateNode.containerInfo;n.nodeType===1?n.textContent="":n.nodeType===9&&n.documentElement&&n.removeChild(n.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ga(163))}}catch(l){mo(ae,ae.return,l)}if(H=ae.sibling,H!==null){H.return=ae.return,Ia=H;break}Ia=ae.return}return v=Ux,Ux=!1,v}function bd(H,ae,me){var Ne=ae.updateQueue;if(Ne=Ne!==null?Ne.lastEffect:null,Ne!==null){var ot=Ne=Ne.next;do{if((ot.tag&H)===H){var mt=ot.destroy;ot.destroy=void 0,mt!==void 0&&Ey(ae,me,mt)}ot=ot.next}while(ot!==Ne)}}function D0(H,ae){if(ae=ae.updateQueue,ae=ae!==null?ae.lastEffect:null,ae!==null){var me=ae=ae.next;do{if((me.tag&H)===H){var Ne=me.create;me.destroy=Ne()}me=me.next}while(me!==ae)}}function Cy(H){var ae=H.ref;if(ae!==null){var me=H.stateNode;switch(H.tag){case 5:H=me;break;default:H=me}typeof ae=="function"?ae(H):ae.current=H}}function Xb(H){var ae=H.alternate;ae!==null&&(H.alternate=null,Xb(ae)),H.child=null,H.deletions=null,H.sibling=null,H.tag===5&&(ae=H.stateNode,ae!==null&&(delete ae[nf],delete ae[kd],delete ae[vy],delete ae[m6],delete ae[x6])),H.stateNode=null,H.return=null,H.dependencies=null,H.memoizedProps=null,H.memoizedState=null,H.pendingProps=null,H.stateNode=null,H.updateQueue=null}function jb(H){return H.tag===5||H.tag===3||H.tag===4}function Vx(H){e:for(;;){for(;H.sibling===null;){if(H.return===null||jb(H.return))return null;H=H.return}for(H.sibling.return=H.return,H=H.sibling;H.tag!==5&&H.tag!==6&&H.tag!==18;){if(H.flags&2||H.child===null||H.tag===4)continue e;H.child.return=H,H=H.child}if(!(H.flags&2))return H.stateNode}}function Ly(H,ae,me){var Ne=H.tag;if(Ne===5||Ne===6)H=H.stateNode,ae?me.nodeType===8?me.parentNode.insertBefore(H,ae):me.insertBefore(H,ae):(me.nodeType===8?(ae=me.parentNode,ae.insertBefore(H,me)):(ae=me,ae.appendChild(H)),me=me._reactRootContainer,me!=null||ae.onclick!==null||(ae.onclick=r0));else if(Ne!==4&&(H=H.child,H!==null))for(Ly(H,ae,me),H=H.sibling;H!==null;)Ly(H,ae,me),H=H.sibling}function Py(H,ae,me){var Ne=H.tag;if(Ne===5||Ne===6)H=H.stateNode,ae?me.insertBefore(H,ae):me.appendChild(H);else if(Ne!==4&&(H=H.child,H!==null))for(Py(H,ae,me),H=H.sibling;H!==null;)Py(H,ae,me),H=H.sibling}var is=null,Ru=!1;function Sc(H,ae,me){for(me=me.child;me!==null;)Zb(H,ae,me),me=me.sibling}function Zb(H,ae,me){if(af&&typeof af.onCommitFiberUnmount=="function")try{af.onCommitFiberUnmount(A0,me)}catch{}switch(me.tag){case 5:ws||pv(me,ae);case 6:var Ne=is,ot=Ru;is=null,Sc(H,ae,me),is=Ne,Ru=ot,is!==null&&(Ru?(H=is,me=me.stateNode,H.nodeType===8?H.parentNode.removeChild(me):H.removeChild(me)):is.removeChild(me.stateNode));break;case 18:is!==null&&(Ru?(H=is,me=me.stateNode,H.nodeType===8?Dg(H.parentNode,me):H.nodeType===1&&Dg(H,me),Ld(H)):Dg(is,me.stateNode));break;case 4:Ne=is,ot=Ru,is=me.stateNode.containerInfo,Ru=!0,Sc(H,ae,me),is=Ne,Ru=ot;break;case 0:case 11:case 14:case 15:if(!ws&&(Ne=me.updateQueue,Ne!==null&&(Ne=Ne.lastEffect,Ne!==null))){ot=Ne=Ne.next;do{var mt=ot,Y=mt.destroy;mt=mt.tag,Y!==void 0&&(mt&2||mt&4)&&Ey(me,ae,Y),ot=ot.next}while(ot!==Ne)}Sc(H,ae,me);break;case 1:if(!ws&&(pv(me,ae),Ne=me.stateNode,typeof Ne.componentWillUnmount=="function"))try{Ne.props=me.memoizedProps,Ne.state=me.memoizedState,Ne.componentWillUnmount()}catch(V){mo(me,ae,V)}Sc(H,ae,me);break;case 21:Sc(H,ae,me);break;case 22:me.mode&1?(ws=(Ne=ws)||me.memoizedState!==null,Sc(H,ae,me),ws=Ne):Sc(H,ae,me);break;default:Sc(H,ae,me)}}function Hx(H){var ae=H.updateQueue;if(ae!==null){H.updateQueue=null;var me=H.stateNode;me===null&&(me=H.stateNode=new z6),ae.forEach(function(Ne){var ot=Y6.bind(null,H,Ne);me.has(Ne)||(me.add(Ne),Ne.then(ot,ot))})}}function Lu(H,ae){var me=ae.deletions;if(me!==null)for(var Ne=0;Ne<me.length;Ne++){var ot=me[Ne];try{var mt=H,Y=ae,V=Y;e:for(;V!==null;){switch(V.tag){case 5:is=V.stateNode,Ru=!1;break e;case 3:is=V.stateNode.containerInfo,Ru=!0;break e;case 4:is=V.stateNode.containerInfo,Ru=!0;break e}V=V.return}if(is===null)throw Error(ga(160));Zb(mt,Y,ot),is=null,Ru=!1;var e=ot.alternate;e!==null&&(e.return=null),ot.return=null}catch(b){mo(ot,ae,b)}}if(ae.subtreeFlags&12854)for(ae=ae.child;ae!==null;)Kb(ae,H),ae=ae.sibling}function Kb(H,ae){var me=H.alternate,Ne=H.flags;switch(H.tag){case 0:case 11:case 14:case 15:if(Lu(ae,H),tf(H),Ne&4){try{bd(3,H,H.return),D0(3,H)}catch(p){mo(H,H.return,p)}try{bd(5,H,H.return)}catch(p){mo(H,H.return,p)}}break;case 1:Lu(ae,H),tf(H),Ne&512&&me!==null&&pv(me,me.return);break;case 5:if(Lu(ae,H),tf(H),Ne&512&&me!==null&&pv(me,me.return),H.flags&32){var ot=H.stateNode;try{Md(ot,"")}catch(p){mo(H,H.return,p)}}if(Ne&4&&(ot=H.stateNode,ot!=null)){var mt=H.memoizedProps,Y=me!==null?me.memoizedProps:mt,V=H.type,e=H.updateQueue;if(H.updateQueue=null,e!==null)try{V==="input"&&mt.type==="radio"&&mt.name!=null&&y3(ot,mt),qg(V,Y);var b=qg(V,mt);for(Y=0;Y<e.length;Y+=2){var P=e[Y],s=e[Y+1];P==="style"?T3(ot,s):P==="dangerouslySetInnerHTML"?b3(ot,s):P==="children"?Md(ot,s):Vy(ot,P,s,b)}switch(V){case"input":Zg(ot,mt);break;case"textarea":m3(ot,mt);break;case"select":var L=ot._wrapperState.wasMultiple;ot._wrapperState.wasMultiple=!!mt.multiple;var M=mt.value;M!=null?yv(ot,!!mt.multiple,M,!1):L!==!!mt.multiple&&(mt.defaultValue!=null?yv(ot,!!mt.multiple,mt.defaultValue,!0):yv(ot,!!mt.multiple,mt.multiple?[]:"",!1))}ot[kd]=mt}catch(p){mo(H,H.return,p)}}break;case 6:if(Lu(ae,H),tf(H),Ne&4){if(H.stateNode===null)throw Error(ga(162));ot=H.stateNode,mt=H.memoizedProps;try{ot.nodeValue=mt}catch(p){mo(H,H.return,p)}}break;case 3:if(Lu(ae,H),tf(H),Ne&4&&me!==null&&me.memoizedState.isDehydrated)try{Ld(ae.containerInfo)}catch(p){mo(H,H.return,p)}break;case 4:Lu(ae,H),tf(H);break;case 13:Lu(ae,H),tf(H),ot=H.child,ot.flags&8192&&(mt=ot.memoizedState!==null,ot.stateNode.isHidden=mt,!mt||ot.alternate!==null&&ot.alternate.memoizedState!==null||(b1=So())),Ne&4&&Hx(H);break;case 22:if(P=me!==null&&me.memoizedState!==null,H.mode&1?(ws=(b=ws)||P,Lu(ae,H),ws=b):Lu(ae,H),tf(H),Ne&8192){if(b=H.memoizedState!==null,(H.stateNode.isHidden=b)&&!P&&H.mode&1)for(Ia=H,P=H.child;P!==null;){for(s=Ia=P;Ia!==null;){switch(L=Ia,M=L.child,L.tag){case 0:case 11:case 14:case 15:bd(4,L,L.return);break;case 1:pv(L,L.return);var v=L.stateNode;if(typeof v.componentWillUnmount=="function"){Ne=L,me=L.return;try{ae=Ne,v.props=ae.memoizedProps,v.state=ae.memoizedState,v.componentWillUnmount()}catch(p){mo(Ne,me,p)}}break;case 5:pv(L,L.return);break;case 22:if(L.memoizedState!==null){Wx(s);continue}}M!==null?(M.return=L,Ia=M):Wx(s)}P=P.sibling}e:for(P=null,s=H;;){if(s.tag===5){if(P===null){P=s;try{ot=s.stateNode,b?(mt=ot.style,typeof mt.setProperty=="function"?mt.setProperty("display","none","important"):mt.display="none"):(V=s.stateNode,e=s.memoizedProps.style,Y=e!=null&&e.hasOwnProperty("display")?e.display:null,V.style.display=w3("display",Y))}catch(p){mo(H,H.return,p)}}}else if(s.tag===6){if(P===null)try{s.stateNode.nodeValue=b?"":s.memoizedProps}catch(p){mo(H,H.return,p)}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===H)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===H)break e;for(;s.sibling===null;){if(s.return===null||s.return===H)break e;P===s&&(P=null),s=s.return}P===s&&(P=null),s.sibling.return=s.return,s=s.sibling}}break;case 19:Lu(ae,H),tf(H),Ne&4&&Hx(H);break;case 21:break;default:Lu(ae,H),tf(H)}}function tf(H){var ae=H.flags;if(ae&2){try{e:{for(var me=H.return;me!==null;){if(jb(me)){var Ne=me;break e}me=me.return}throw Error(ga(160))}switch(Ne.tag){case 5:var ot=Ne.stateNode;Ne.flags&32&&(Md(ot,""),Ne.flags&=-33);var mt=Vx(H);Py(H,mt,ot);break;case 3:case 4:var Y=Ne.stateNode.containerInfo,V=Vx(H);Ly(H,V,Y);break;default:throw Error(ga(161))}}catch(e){mo(H,H.return,e)}H.flags&=-3}ae&4096&&(H.flags&=-4097)}function O6(H,ae,me){Ia=H,Jb(H)}function Jb(H,ae,me){for(var Ne=(H.mode&1)!==0;Ia!==null;){var ot=Ia,mt=ot.child;if(ot.tag===22&&Ne){var Y=ot.memoizedState!==null||kp;if(!Y){var V=ot.alternate,e=V!==null&&V.memoizedState!==null||ws;V=kp;var b=ws;if(kp=Y,(ws=e)&&!b)for(Ia=ot;Ia!==null;)Y=Ia,e=Y.child,Y.tag===22&&Y.memoizedState!==null?Yx(ot):e!==null?(e.return=Y,Ia=e):Yx(ot);for(;mt!==null;)Ia=mt,Jb(mt),mt=mt.sibling;Ia=ot,kp=V,ws=b}Gx(H)}else ot.subtreeFlags&8772&&mt!==null?(mt.return=ot,Ia=mt):Gx(H)}}function Gx(H){for(;Ia!==null;){var ae=Ia;if(ae.flags&8772){var me=ae.alternate;try{if(ae.flags&8772)switch(ae.tag){case 0:case 11:case 15:ws||D0(5,ae);break;case 1:var Ne=ae.stateNode;if(ae.flags&4&&!ws)if(me===null)Ne.componentDidMount();else{var ot=ae.elementType===ae.type?me.memoizedProps:Pu(ae.type,me.memoizedProps);Ne.componentDidUpdate(ot,me.memoizedState,Ne.__reactInternalSnapshotBeforeUpdate)}var mt=ae.updateQueue;mt!==null&&Cx(ae,mt,Ne);break;case 3:var Y=ae.updateQueue;if(Y!==null){if(me=null,ae.child!==null)switch(ae.child.tag){case 5:me=ae.child.stateNode;break;case 1:me=ae.child.stateNode}Cx(ae,Y,me)}break;case 5:var V=ae.stateNode;if(me===null&&ae.flags&4){me=V;var e=ae.memoizedProps;switch(ae.type){case"button":case"input":case"select":case"textarea":e.autoFocus&&me.focus();break;case"img":e.src&&(me.src=e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(ae.memoizedState===null){var b=ae.alternate;if(b!==null){var P=b.memoizedState;if(P!==null){var s=P.dehydrated;s!==null&&Ld(s)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ga(163))}ws||ae.flags&512&&Cy(ae)}catch(L){mo(ae,ae.return,L)}}if(ae===H){Ia=null;break}if(me=ae.sibling,me!==null){me.return=ae.return,Ia=me;break}Ia=ae.return}}function Wx(H){for(;Ia!==null;){var ae=Ia;if(ae===H){Ia=null;break}var me=ae.sibling;if(me!==null){me.return=ae.return,Ia=me;break}Ia=ae.return}}function Yx(H){for(;Ia!==null;){var ae=Ia;try{switch(ae.tag){case 0:case 11:case 15:var me=ae.return;try{D0(4,ae)}catch(e){mo(ae,me,e)}break;case 1:var Ne=ae.stateNode;if(typeof Ne.componentDidMount=="function"){var ot=ae.return;try{Ne.componentDidMount()}catch(e){mo(ae,ot,e)}}var mt=ae.return;try{Cy(ae)}catch(e){mo(ae,mt,e)}break;case 5:var Y=ae.return;try{Cy(ae)}catch(e){mo(ae,Y,e)}}}catch(e){mo(ae,ae.return,e)}if(ae===H){Ia=null;break}var V=ae.sibling;if(V!==null){V.return=ae.return,Ia=V;break}Ia=ae.return}}var B6=Math.ceil,v0=Hf.ReactCurrentDispatcher,m1=Hf.ReactCurrentOwner,$l=Hf.ReactCurrentBatchConfig,wi=0,Wo=null,Io=null,os=0,xl=0,gv=Gc(0),Oo=0,Nd=null,Lh=0,I0=0,x1=0,wd=null,el=null,b1=0,Rv=1/0,If=null,d0=!1,Ry=null,Oc=null,_p=!1,Dc=null,p0=0,Td=0,Dy=null,Yp=-1,Xp=0;function zs(){return wi&6?So():Yp!==-1?Yp:Yp=So()}function Bc(H){return H.mode&1?wi&2&&os!==0?os&-os:w6.transition!==null?(Xp===0&&(Xp=_3()),Xp):(H=Ri,H!==0||(H=window.event,H=H===void 0?16:V3(H.type)),H):1}function ku(H,ae,me,Ne){if(50<Td)throw Td=0,Dy=null,Error(ga(185));Vd(H,me,Ne),(!(wi&2)||H!==Wo)&&(H===Wo&&(!(wi&2)&&(I0|=me),Oo===4&&Pc(H,os)),al(H,Ne),me===1&&wi===0&&!(ae.mode&1)&&(Rv=So()+500,L0&&Wc()))}function al(H,ae){var me=H.callbackNode;w5(H,ae);var Ne=$p(H,H===Wo?os:0);if(Ne===0)me!==null&&ex(me),H.callbackNode=null,H.callbackPriority=0;else if(ae=Ne&-Ne,H.callbackPriority!==ae){if(me!=null&&ex(me),ae===1)H.tag===0?b6(Xx.bind(null,H)):ob(Xx.bind(null,H)),g6(function(){!(wi&6)&&Wc()}),me=null;else{switch(z3(Ne)){case 1:me=Xy;break;case 4:me=I3;break;case 16:me=Qp;break;case 536870912:me=k3;break;default:me=Qp}me=aw(me,Qb.bind(null,H))}H.callbackPriority=ae,H.callbackNode=me}}function Qb(H,ae){if(Yp=-1,Xp=0,wi&6)throw Error(ga(327));var me=H.callbackNode;if(Tv()&&H.callbackNode!==me)return null;var Ne=$p(H,H===Wo?os:0);if(Ne===0)return null;if(Ne&30||Ne&H.expiredLanes||ae)ae=g0(H,Ne);else{ae=Ne;var ot=wi;wi|=2;var mt=qb();(Wo!==H||os!==ae)&&(If=null,Rv=So()+500,Ah(H,ae));do try{V6();break}catch(V){$b(H,V)}while(!0);i1(),v0.current=mt,wi=ot,Io!==null?ae=0:(Wo=null,os=0,ae=Oo)}if(ae!==0){if(ae===2&&(ot=ay(H),ot!==0&&(Ne=ot,ae=Iy(H,ot))),ae===1)throw me=Nd,Ah(H,0),Pc(H,Ne),al(H,So()),me;if(ae===6)Pc(H,Ne);else{if(ot=H.current.alternate,!(Ne&30)&&!N6(ot)&&(ae=g0(H,Ne),ae===2&&(mt=ay(H),mt!==0&&(Ne=mt,ae=Iy(H,mt))),ae===1))throw me=Nd,Ah(H,0),Pc(H,Ne),al(H,So()),me;switch(H.finishedWork=ot,H.finishedLanes=Ne,ae){case 0:case 1:throw Error(ga(345));case 2:xh(H,el,If);break;case 3:if(Pc(H,Ne),(Ne&130023424)===Ne&&(ae=b1+500-So(),10<ae)){if($p(H,0)!==0)break;if(ot=H.suspendedLanes,(ot&Ne)!==Ne){zs(),H.pingedLanes|=H.suspendedLanes&ot;break}H.timeoutHandle=hy(xh.bind(null,H,el,If),ae);break}xh(H,el,If);break;case 4:if(Pc(H,Ne),(Ne&4194240)===Ne)break;for(ae=H.eventTimes,ot=-1;0<Ne;){var Y=31-Iu(Ne);mt=1<<Y,Y=ae[Y],Y>ot&&(ot=Y),Ne&=~mt}if(Ne=ot,Ne=So()-Ne,Ne=(120>Ne?120:480>Ne?480:1080>Ne?1080:1920>Ne?1920:3e3>Ne?3e3:4320>Ne?4320:1960*B6(Ne/1960))-Ne,10<Ne){H.timeoutHandle=hy(xh.bind(null,H,el,If),Ne);break}xh(H,el,If);break;case 5:xh(H,el,If);break;default:throw Error(ga(329))}}}return al(H,So()),H.callbackNode===me?Qb.bind(null,H):null}function Iy(H,ae){var me=wd;return H.current.memoizedState.isDehydrated&&(Ah(H,ae).flags|=256),H=g0(H,ae),H!==2&&(ae=el,el=me,ae!==null&&ky(ae)),H}function ky(H){el===null?el=H:el.push.apply(el,H)}function N6(H){for(var ae=H;;){if(ae.flags&16384){var me=ae.updateQueue;if(me!==null&&(me=me.stores,me!==null))for(var Ne=0;Ne<me.length;Ne++){var ot=me[Ne],mt=ot.getSnapshot;ot=ot.value;try{if(!_u(mt(),ot))return!1}catch{return!1}}}if(me=ae.child,ae.subtreeFlags&16384&&me!==null)me.return=ae,ae=me;else{if(ae===H)break;for(;ae.sibling===null;){if(ae.return===null||ae.return===H)return!0;ae=ae.return}ae.sibling.return=ae.return,ae=ae.sibling}}return!0}function Pc(H,ae){for(ae&=~x1,ae&=~I0,H.suspendedLanes|=ae,H.pingedLanes&=~ae,H=H.expirationTimes;0<ae;){var me=31-Iu(ae),Ne=1<<me;H[me]=-1,ae&=~Ne}}function Xx(H){if(wi&6)throw Error(ga(327));Tv();var ae=$p(H,0);if(!(ae&1))return al(H,So()),null;var me=g0(H,ae);if(H.tag!==0&&me===2){var Ne=ay(H);Ne!==0&&(ae=Ne,me=Iy(H,Ne))}if(me===1)throw me=Nd,Ah(H,0),Pc(H,ae),al(H,So()),me;if(me===6)throw Error(ga(345));return H.finishedWork=H.current.alternate,H.finishedLanes=ae,xh(H,el,If),al(H,So()),null}function w1(H,ae){var me=wi;wi|=1;try{return H(ae)}finally{wi=me,wi===0&&(Rv=So()+500,L0&&Wc())}}function Ph(H){Dc!==null&&Dc.tag===0&&!(wi&6)&&Tv();var ae=wi;wi|=1;var me=$l.transition,Ne=Ri;try{if($l.transition=null,Ri=1,H)return H()}finally{Ri=Ne,$l.transition=me,wi=ae,!(wi&6)&&Wc()}}function T1(){xl=gv.current,Xi(gv)}function Ah(H,ae){H.finishedWork=null,H.finishedLanes=0;var me=H.timeoutHandle;if(me!==-1&&(H.timeoutHandle=-1,p6(me)),Io!==null)for(me=Io.return;me!==null;){var Ne=me;switch(r1(Ne),Ne.tag){case 1:Ne=Ne.type.childContextTypes,Ne!=null&&n0();break;case 3:Lv(),Xi(rl),Xi(Ts),c1();break;case 5:f1(Ne);break;case 4:Lv();break;case 13:Xi(uo);break;case 19:Xi(uo);break;case 10:o1(Ne.type._context);break;case 22:case 23:T1()}me=me.return}if(Wo=H,Io=H=Nc(H.current,null),os=xl=ae,Oo=0,Nd=null,x1=I0=Lh=0,el=wd=null,wh!==null){for(ae=0;ae<wh.length;ae++)if(me=wh[ae],Ne=me.interleaved,Ne!==null){me.interleaved=null;var ot=Ne.next,mt=me.pending;if(mt!==null){var Y=mt.next;mt.next=ot,Ne.next=Y}me.pending=Ne}wh=null}return H}function $b(H,ae){do{var me=Io;try{if(i1(),Hp.current=h0,c0){for(var Ne=fo.memoizedState;Ne!==null;){var ot=Ne.queue;ot!==null&&(ot.pending=null),Ne=Ne.next}c0=!1}if(Ch=0,Go=Fo=fo=null,xd=!1,Fd=0,m1.current=null,me===null||me.return===null){Oo=1,Nd=ae,Io=null;break}e:{var mt=H,Y=me.return,V=me,e=ae;if(ae=os,V.flags|=32768,e!==null&&typeof e=="object"&&typeof e.then=="function"){var b=e,P=V,s=P.tag;if(!(P.mode&1)&&(s===0||s===11||s===15)){var L=P.alternate;L?(P.updateQueue=L.updateQueue,P.memoizedState=L.memoizedState,P.lanes=L.lanes):(P.updateQueue=null,P.memoizedState=null)}var M=kx(Y);if(M!==null){M.flags&=-257,_x(M,Y,V,mt,ae),M.mode&1&&Ix(mt,b,ae),ae=M,e=b;var v=ae.updateQueue;if(v===null){var p=new Set;p.add(e),ae.updateQueue=p}else v.add(e);break e}else{if(!(ae&1)){Ix(mt,b,ae),A1();break e}e=Error(ga(426))}}else if($i&&V.mode&1){var r=kx(Y);if(r!==null){!(r.flags&65536)&&(r.flags|=256),_x(r,Y,V,mt,ae),n1(Pv(e,V));break e}}mt=e=Pv(e,V),Oo!==4&&(Oo=2),wd===null?wd=[mt]:wd.push(mt),mt=Y;do{switch(mt.tag){case 3:mt.flags|=65536,ae&=-ae,mt.lanes|=ae;var t=zb(mt,e,ae);Ex(mt,t);break e;case 1:V=e;var o=mt.type,n=mt.stateNode;if(!(mt.flags&128)&&(typeof o.getDerivedStateFromError=="function"||n!==null&&typeof n.componentDidCatch=="function"&&(Oc===null||!Oc.has(n)))){mt.flags|=65536,ae&=-ae,mt.lanes|=ae;var l=Fb(mt,V,ae);Ex(mt,l);break e}}mt=mt.return}while(mt!==null)}tw(me)}catch(u){ae=u,Io===me&&me!==null&&(Io=me=me.return);continue}break}while(!0)}function qb(){var H=v0.current;return v0.current=h0,H===null?h0:H}function A1(){(Oo===0||Oo===3||Oo===2)&&(Oo=4),Wo===null||!(Lh&268435455)&&!(I0&268435455)||Pc(Wo,os)}function g0(H,ae){var me=wi;wi|=2;var Ne=qb();(Wo!==H||os!==ae)&&(If=null,Ah(H,ae));do try{U6();break}catch(ot){$b(H,ot)}while(!0);if(i1(),wi=me,v0.current=Ne,Io!==null)throw Error(ga(261));return Wo=null,os=0,Oo}function U6(){for(;Io!==null;)ew(Io)}function V6(){for(;Io!==null&&!h5();)ew(Io)}function ew(H){var ae=nw(H.alternate,H,xl);H.memoizedProps=H.pendingProps,ae===null?tw(H):Io=ae,m1.current=null}function tw(H){var ae=H;do{var me=ae.alternate;if(H=ae.return,ae.flags&32768){if(me=_6(me,ae),me!==null){me.flags&=32767,Io=me;return}if(H!==null)H.flags|=32768,H.subtreeFlags=0,H.deletions=null;else{Oo=6,Io=null;return}}else if(me=k6(me,ae,xl),me!==null){Io=me;return}if(ae=ae.sibling,ae!==null){Io=ae;return}Io=ae=H}while(ae!==null);Oo===0&&(Oo=5)}function xh(H,ae,me){var Ne=Ri,ot=$l.transition;try{$l.transition=null,Ri=1,H6(H,ae,me,Ne)}finally{$l.transition=ot,Ri=Ne}return null}function H6(H,ae,me,Ne){do Tv();while(Dc!==null);if(wi&6)throw Error(ga(327));me=H.finishedWork;var ot=H.finishedLanes;if(me===null)return null;if(H.finishedWork=null,H.finishedLanes=0,me===H.current)throw Error(ga(177));H.callbackNode=null,H.callbackPriority=0;var mt=me.lanes|me.childLanes;if(T5(H,mt),H===Wo&&(Io=Wo=null,os=0),!(me.subtreeFlags&2064)&&!(me.flags&2064)||_p||(_p=!0,aw(Qp,function(){return Tv(),null})),mt=(me.flags&15990)!==0,me.subtreeFlags&15990||mt){mt=$l.transition,$l.transition=null;var Y=Ri;Ri=1;var V=wi;wi|=4,m1.current=null,F6(H,me),Kb(me,H),l6(fy),qp=!!uy,fy=uy=null,H.current=me,O6(me),v5(),wi=V,Ri=Y,$l.transition=mt}else H.current=me;if(_p&&(_p=!1,Dc=H,p0=ot),mt=H.pendingLanes,mt===0&&(Oc=null),g5(me.stateNode),al(H,So()),ae!==null)for(Ne=H.onRecoverableError,me=0;me<ae.length;me++)ot=ae[me],Ne(ot.value,{componentStack:ot.stack,digest:ot.digest});if(d0)throw d0=!1,H=Ry,Ry=null,H;return p0&1&&H.tag!==0&&Tv(),mt=H.pendingLanes,mt&1?H===Dy?Td++:(Td=0,Dy=H):Td=0,Wc(),null}function Tv(){if(Dc!==null){var H=z3(p0),ae=$l.transition,me=Ri;try{if($l.transition=null,Ri=16>H?16:H,Dc===null)var Ne=!1;else{if(H=Dc,Dc=null,p0=0,wi&6)throw Error(ga(331));var ot=wi;for(wi|=4,Ia=H.current;Ia!==null;){var mt=Ia,Y=mt.child;if(Ia.flags&16){var V=mt.deletions;if(V!==null){for(var e=0;e<V.length;e++){var b=V[e];for(Ia=b;Ia!==null;){var P=Ia;switch(P.tag){case 0:case 11:case 15:bd(8,P,mt)}var s=P.child;if(s!==null)s.return=P,Ia=s;else for(;Ia!==null;){P=Ia;var L=P.sibling,M=P.return;if(Xb(P),P===b){Ia=null;break}if(L!==null){L.return=M,Ia=L;break}Ia=M}}}var v=mt.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var r=p.sibling;p.sibling=null,p=r}while(p!==null)}}Ia=mt}}if(mt.subtreeFlags&2064&&Y!==null)Y.return=mt,Ia=Y;else e:for(;Ia!==null;){if(mt=Ia,mt.flags&2048)switch(mt.tag){case 0:case 11:case 15:bd(9,mt,mt.return)}var t=mt.sibling;if(t!==null){t.return=mt.return,Ia=t;break e}Ia=mt.return}}var o=H.current;for(Ia=o;Ia!==null;){Y=Ia;var n=Y.child;if(Y.subtreeFlags&2064&&n!==null)n.return=Y,Ia=n;else e:for(Y=o;Ia!==null;){if(V=Ia,V.flags&2048)try{switch(V.tag){case 0:case 11:case 15:D0(9,V)}}catch(u){mo(V,V.return,u)}if(V===Y){Ia=null;break e}var l=V.sibling;if(l!==null){l.return=V.return,Ia=l;break e}Ia=V.return}}if(wi=ot,Wc(),af&&typeof af.onPostCommitFiberRoot=="function")try{af.onPostCommitFiberRoot(A0,H)}catch{}Ne=!0}return Ne}finally{Ri=me,$l.transition=ae}}return!1}function jx(H,ae,me){ae=Pv(me,ae),ae=zb(H,ae,1),H=Fc(H,ae,1),ae=zs(),H!==null&&(Vd(H,1,ae),al(H,ae))}function mo(H,ae,me){if(H.tag===3)jx(H,H,me);else for(;ae!==null;){if(ae.tag===3){jx(ae,H,me);break}else if(ae.tag===1){var Ne=ae.stateNode;if(typeof ae.type.getDerivedStateFromError=="function"||typeof Ne.componentDidCatch=="function"&&(Oc===null||!Oc.has(Ne))){H=Pv(me,H),H=Fb(ae,H,1),ae=Fc(ae,H,1),H=zs(),ae!==null&&(Vd(ae,1,H),al(ae,H));break}}ae=ae.return}}function G6(H,ae,me){var Ne=H.pingCache;Ne!==null&&Ne.delete(ae),ae=zs(),H.pingedLanes|=H.suspendedLanes&me,Wo===H&&(os&me)===me&&(Oo===4||Oo===3&&(os&130023424)===os&&500>So()-b1?Ah(H,0):x1|=me),al(H,ae)}function rw(H,ae){ae===0&&(H.mode&1?(ae=Mp,Mp<<=1,!(Mp&130023424)&&(Mp=4194304)):ae=1);var me=zs();H=Nf(H,ae),H!==null&&(Vd(H,ae,me),al(H,me))}function W6(H){var ae=H.memoizedState,me=0;ae!==null&&(me=ae.retryLane),rw(H,me)}function Y6(H,ae){var me=0;switch(H.tag){case 13:var Ne=H.stateNode,ot=H.memoizedState;ot!==null&&(me=ot.retryLane);break;case 19:Ne=H.stateNode;break;default:throw Error(ga(314))}Ne!==null&&Ne.delete(ae),rw(H,me)}var nw;nw=function(H,ae,me){if(H!==null)if(H.memoizedProps!==ae.pendingProps||rl.current)tl=!0;else{if(!(H.lanes&me)&&!(ae.flags&128))return tl=!1,I6(H,ae,me);tl=!!(H.flags&131072)}else tl=!1,$i&&ae.flags&1048576&&sb(ae,o0,ae.index);switch(ae.lanes=0,ae.tag){case 2:var Ne=ae.type;Wp(H,ae),H=ae.pendingProps;var ot=Sv(ae,Ts.current);wv(ae,me),ot=v1(null,ae,Ne,H,ot,me);var mt=d1();return ae.flags|=1,typeof ot=="object"&&ot!==null&&typeof ot.render=="function"&&ot.$$typeof===void 0?(ae.tag=1,ae.memoizedState=null,ae.updateQueue=null,nl(Ne)?(mt=!0,a0(ae)):mt=!1,ae.memoizedState=ot.state!==null&&ot.state!==void 0?ot.state:null,l1(ae),ot.updater=R0,ae.stateNode=ot,ot._reactInternals=ae,xy(ae,Ne,H,me),ae=Ty(null,ae,Ne,!0,mt,me)):(ae.tag=0,$i&&mt&&t1(ae),_s(null,ae,ot,me),ae=ae.child),ae;case 16:Ne=ae.elementType;e:{switch(Wp(H,ae),H=ae.pendingProps,ot=Ne._init,Ne=ot(Ne._payload),ae.type=Ne,ot=ae.tag=j6(Ne),H=Pu(Ne,H),ot){case 0:ae=wy(null,ae,Ne,H,me);break e;case 1:ae=Ox(null,ae,Ne,H,me);break e;case 11:ae=zx(null,ae,Ne,H,me);break e;case 14:ae=Fx(null,ae,Ne,Pu(Ne.type,H),me);break e}throw Error(ga(306,Ne,""))}return ae;case 0:return Ne=ae.type,ot=ae.pendingProps,ot=ae.elementType===Ne?ot:Pu(Ne,ot),wy(H,ae,Ne,ot,me);case 1:return Ne=ae.type,ot=ae.pendingProps,ot=ae.elementType===Ne?ot:Pu(Ne,ot),Ox(H,ae,Ne,ot,me);case 3:e:{if(Ub(ae),H===null)throw Error(ga(387));Ne=ae.pendingProps,mt=ae.memoizedState,ot=mt.element,vb(H,ae),u0(ae,Ne,null,me);var Y=ae.memoizedState;if(Ne=Y.element,mt.isDehydrated)if(mt={element:Ne,isDehydrated:!1,cache:Y.cache,pendingSuspenseBoundaries:Y.pendingSuspenseBoundaries,transitions:Y.transitions},ae.updateQueue.baseState=mt,ae.memoizedState=mt,ae.flags&256){ot=Pv(Error(ga(423)),ae),ae=Bx(H,ae,Ne,me,ot);break e}else if(Ne!==ot){ot=Pv(Error(ga(424)),ae),ae=Bx(H,ae,Ne,me,ot);break e}else for(bl=zc(ae.stateNode.containerInfo.firstChild),wl=ae,$i=!0,Du=null,me=cb(ae,null,Ne,me),ae.child=me;me;)me.flags=me.flags&-3|4096,me=me.sibling;else{if(Ev(),Ne===ot){ae=Uf(H,ae,me);break e}_s(H,ae,Ne,me)}ae=ae.child}return ae;case 5:return db(ae),H===null&&gy(ae),Ne=ae.type,ot=ae.pendingProps,mt=H!==null?H.memoizedProps:null,Y=ot.children,cy(Ne,ot)?Y=null:mt!==null&&cy(Ne,mt)&&(ae.flags|=32),Nb(H,ae),_s(H,ae,Y,me),ae.child;case 6:return H===null&&gy(ae),null;case 13:return Vb(H,ae,me);case 4:return u1(ae,ae.stateNode.containerInfo),Ne=ae.pendingProps,H===null?ae.child=Cv(ae,null,Ne,me):_s(H,ae,Ne,me),ae.child;case 11:return Ne=ae.type,ot=ae.pendingProps,ot=ae.elementType===Ne?ot:Pu(Ne,ot),zx(H,ae,Ne,ot,me);case 7:return _s(H,ae,ae.pendingProps,me),ae.child;case 8:return _s(H,ae,ae.pendingProps.children,me),ae.child;case 12:return _s(H,ae,ae.pendingProps.children,me),ae.child;case 10:e:{if(Ne=ae.type._context,ot=ae.pendingProps,mt=ae.memoizedProps,Y=ot.value,Ni(s0,Ne._currentValue),Ne._currentValue=Y,mt!==null)if(_u(mt.value,Y)){if(mt.children===ot.children&&!rl.current){ae=Uf(H,ae,me);break e}}else for(mt=ae.child,mt!==null&&(mt.return=ae);mt!==null;){var V=mt.dependencies;if(V!==null){Y=mt.child;for(var e=V.firstContext;e!==null;){if(e.context===Ne){if(mt.tag===1){e=Ff(-1,me&-me),e.tag=2;var b=mt.updateQueue;if(b!==null){b=b.shared;var P=b.pending;P===null?e.next=e:(e.next=P.next,P.next=e),b.pending=e}}mt.lanes|=me,e=mt.alternate,e!==null&&(e.lanes|=me),yy(mt.return,me,ae),V.lanes|=me;break}e=e.next}}else if(mt.tag===10)Y=mt.type===ae.type?null:mt.child;else if(mt.tag===18){if(Y=mt.return,Y===null)throw Error(ga(341));Y.lanes|=me,V=Y.alternate,V!==null&&(V.lanes|=me),yy(Y,me,ae),Y=mt.sibling}else Y=mt.child;if(Y!==null)Y.return=mt;else for(Y=mt;Y!==null;){if(Y===ae){Y=null;break}if(mt=Y.sibling,mt!==null){mt.return=Y.return,Y=mt;break}Y=Y.return}mt=Y}_s(H,ae,ot.children,me),ae=ae.child}return ae;case 9:return ot=ae.type,Ne=ae.pendingProps.children,wv(ae,me),ot=ql(ot),Ne=Ne(ot),ae.flags|=1,_s(H,ae,Ne,me),ae.child;case 14:return Ne=ae.type,ot=Pu(Ne,ae.pendingProps),ot=Pu(Ne.type,ot),Fx(H,ae,Ne,ot,me);case 15:return Ob(H,ae,ae.type,ae.pendingProps,me);case 17:return Ne=ae.type,ot=ae.pendingProps,ot=ae.elementType===Ne?ot:Pu(Ne,ot),Wp(H,ae),ae.tag=1,nl(Ne)?(H=!0,a0(ae)):H=!1,wv(ae,me),_b(ae,Ne,ot),xy(ae,Ne,ot,me),Ty(null,ae,Ne,!0,H,me);case 19:return Hb(H,ae,me);case 22:return Bb(H,ae,me)}throw Error(ga(156,ae.tag))};function aw(H,ae){return D3(H,ae)}function X6(H,ae,me,Ne){this.tag=H,this.key=me,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=ae,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Ne,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ql(H,ae,me,Ne){return new X6(H,ae,me,Ne)}function M1(H){return H=H.prototype,!(!H||!H.isReactComponent)}function j6(H){if(typeof H=="function")return M1(H)?1:0;if(H!=null){if(H=H.$$typeof,H===Gy)return 11;if(H===Wy)return 14}return 2}function Nc(H,ae){var me=H.alternate;return me===null?(me=Ql(H.tag,ae,H.key,H.mode),me.elementType=H.elementType,me.type=H.type,me.stateNode=H.stateNode,me.alternate=H,H.alternate=me):(me.pendingProps=ae,me.type=H.type,me.flags=0,me.subtreeFlags=0,me.deletions=null),me.flags=H.flags&14680064,me.childLanes=H.childLanes,me.lanes=H.lanes,me.child=H.child,me.memoizedProps=H.memoizedProps,me.memoizedState=H.memoizedState,me.updateQueue=H.updateQueue,ae=H.dependencies,me.dependencies=ae===null?null:{lanes:ae.lanes,firstContext:ae.firstContext},me.sibling=H.sibling,me.index=H.index,me.ref=H.ref,me}function jp(H,ae,me,Ne,ot,mt){var Y=2;if(Ne=H,typeof H=="function")M1(H)&&(Y=1);else if(typeof H=="string")Y=5;else e:switch(H){case ov:return Mh(me.children,ot,mt,ae);case Hy:Y=8,ot|=8;break;case Gg:return H=Ql(12,me,ae,ot|2),H.elementType=Gg,H.lanes=mt,H;case Wg:return H=Ql(13,me,ae,ot),H.elementType=Wg,H.lanes=mt,H;case Yg:return H=Ql(19,me,ae,ot),H.elementType=Yg,H.lanes=mt,H;case d3:return k0(me,ot,mt,ae);default:if(typeof H=="object"&&H!==null)switch(H.$$typeof){case h3:Y=10;break e;case v3:Y=9;break e;case Gy:Y=11;break e;case Wy:Y=14;break e;case Ec:Y=16,Ne=null;break e}throw Error(ga(130,H==null?H:typeof H,""))}return ae=Ql(Y,me,ae,ot),ae.elementType=H,ae.type=Ne,ae.lanes=mt,ae}function Mh(H,ae,me,Ne){return H=Ql(7,H,Ne,ae),H.lanes=me,H}function k0(H,ae,me,Ne){return H=Ql(22,H,Ne,ae),H.elementType=d3,H.lanes=me,H.stateNode={isHidden:!1},H}function Ng(H,ae,me){return H=Ql(6,H,null,ae),H.lanes=me,H}function Ug(H,ae,me){return ae=Ql(4,H.children!==null?H.children:[],H.key,ae),ae.lanes=me,ae.stateNode={containerInfo:H.containerInfo,pendingChildren:null,implementation:H.implementation},ae}function Z6(H,ae,me,Ne,ot){this.tag=ae,this.containerInfo=H,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bg(0),this.expirationTimes=bg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bg(0),this.identifierPrefix=Ne,this.onRecoverableError=ot,this.mutableSourceEagerHydrationData=null}function S1(H,ae,me,Ne,ot,mt,Y,V,e){return H=new Z6(H,ae,me,V,e),ae===1?(ae=1,mt===!0&&(ae|=8)):ae=0,mt=Ql(3,null,null,ae),H.current=mt,mt.stateNode=H,mt.memoizedState={element:Ne,isDehydrated:me,cache:null,transitions:null,pendingSuspenseBoundaries:null},l1(mt),H}function K6(H,ae,me){var Ne=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:iv,key:Ne==null?null:""+Ne,children:H,containerInfo:ae,implementation:me}}function iw(H){if(!H)return Vc;H=H._reactInternals;e:{if(Dh(H)!==H||H.tag!==1)throw Error(ga(170));var ae=H;do{switch(ae.tag){case 3:ae=ae.stateNode.context;break e;case 1:if(nl(ae.type)){ae=ae.stateNode.__reactInternalMemoizedMergedChildContext;break e}}ae=ae.return}while(ae!==null);throw Error(ga(171))}if(H.tag===1){var me=H.type;if(nl(me))return ib(H,me,ae)}return ae}function ow(H,ae,me,Ne,ot,mt,Y,V,e){return H=S1(me,Ne,!0,H,ot,mt,Y,V,e),H.context=iw(null),me=H.current,Ne=zs(),ot=Bc(me),mt=Ff(Ne,ot),mt.callback=ae??null,Fc(me,mt,ot),H.current.lanes=ot,Vd(H,ot,Ne),al(H,Ne),H}function _0(H,ae,me,Ne){var ot=ae.current,mt=zs(),Y=Bc(ot);return me=iw(me),ae.context===null?ae.context=me:ae.pendingContext=me,ae=Ff(mt,Y),ae.payload={element:H},Ne=Ne===void 0?null:Ne,Ne!==null&&(ae.callback=Ne),H=Fc(ot,ae,Y),H!==null&&(ku(H,ot,Y,mt),Vp(H,ot,Y)),Y}function y0(H){if(H=H.current,!H.child)return null;switch(H.child.tag){case 5:return H.child.stateNode;default:return H.child.stateNode}}function Zx(H,ae){if(H=H.memoizedState,H!==null&&H.dehydrated!==null){var me=H.retryLane;H.retryLane=me!==0&&me<ae?me:ae}}function E1(H,ae){Zx(H,ae),(H=H.alternate)&&Zx(H,ae)}function J6(){return null}var sw=typeof reportError=="function"?reportError:function(H){console.error(H)};function C1(H){this._internalRoot=H}z0.prototype.render=C1.prototype.render=function(H){var ae=this._internalRoot;if(ae===null)throw Error(ga(409));_0(H,ae,null,null)};z0.prototype.unmount=C1.prototype.unmount=function(){var H=this._internalRoot;if(H!==null){this._internalRoot=null;var ae=H.containerInfo;Ph(function(){_0(null,H,null,null)}),ae[Bf]=null}};function z0(H){this._internalRoot=H}z0.prototype.unstable_scheduleHydration=function(H){if(H){var ae=B3();H={blockedOn:null,target:H,priority:ae};for(var me=0;me<Lc.length&&ae!==0&&ae<Lc[me].priority;me++);Lc.splice(me,0,H),me===0&&U3(H)}};function L1(H){return!(!H||H.nodeType!==1&&H.nodeType!==9&&H.nodeType!==11)}function F0(H){return!(!H||H.nodeType!==1&&H.nodeType!==9&&H.nodeType!==11&&(H.nodeType!==8||H.nodeValue!==" react-mount-point-unstable "))}function Kx(){}function Q6(H,ae,me,Ne,ot){if(ot){if(typeof Ne=="function"){var mt=Ne;Ne=function(){var b=y0(Y);mt.call(b)}}var Y=ow(ae,Ne,H,0,null,!1,!1,"",Kx);return H._reactRootContainer=Y,H[Bf]=Y.current,Dd(H.nodeType===8?H.parentNode:H),Ph(),Y}for(;ot=H.lastChild;)H.removeChild(ot);if(typeof Ne=="function"){var V=Ne;Ne=function(){var b=y0(e);V.call(b)}}var e=S1(H,0,!1,null,null,!1,!1,"",Kx);return H._reactRootContainer=e,H[Bf]=e.current,Dd(H.nodeType===8?H.parentNode:H),Ph(function(){_0(ae,e,me,Ne)}),e}function O0(H,ae,me,Ne,ot){var mt=me._reactRootContainer;if(mt){var Y=mt;if(typeof ot=="function"){var V=ot;ot=function(){var e=y0(Y);V.call(e)}}_0(ae,Y,H,ot)}else Y=Q6(me,ae,H,ot,Ne);return y0(Y)}F3=function(H){switch(H.tag){case 3:var ae=H.stateNode;if(ae.current.memoizedState.isDehydrated){var me=hd(ae.pendingLanes);me!==0&&(jy(ae,me|1),al(ae,So()),!(wi&6)&&(Rv=So()+500,Wc()))}break;case 13:Ph(function(){var Ne=Nf(H,1);if(Ne!==null){var ot=zs();ku(Ne,H,1,ot)}}),E1(H,1)}};Zy=function(H){if(H.tag===13){var ae=Nf(H,134217728);if(ae!==null){var me=zs();ku(ae,H,134217728,me)}E1(H,134217728)}};O3=function(H){if(H.tag===13){var ae=Bc(H),me=Nf(H,ae);if(me!==null){var Ne=zs();ku(me,H,ae,Ne)}E1(H,ae)}};B3=function(){return Ri};N3=function(H,ae){var me=Ri;try{return Ri=H,ae()}finally{Ri=me}};ty=function(H,ae,me){switch(ae){case"input":if(Zg(H,me),ae=me.name,me.type==="radio"&&ae!=null){for(me=H;me.parentNode;)me=me.parentNode;for(me=me.querySelectorAll("input[name="+JSON.stringify(""+ae)+'][type="radio"]'),ae=0;ae<me.length;ae++){var Ne=me[ae];if(Ne!==H&&Ne.form===H.form){var ot=C0(Ne);if(!ot)throw Error(ga(90));g3(Ne),Zg(Ne,ot)}}}break;case"textarea":m3(H,me);break;case"select":ae=me.value,ae!=null&&yv(H,!!me.multiple,ae,!1)}};S3=w1;E3=Ph;var $6={usingClientEntryPoint:!1,Events:[Gd,fv,C0,A3,M3,w1]},ud={findFiberByHostInstance:bh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},q6={bundleType:ud.bundleType,version:ud.version,rendererPackageName:ud.rendererPackageName,rendererConfig:ud.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hf.ReactCurrentDispatcher,findHostInstanceByFiber:function(H){return H=P3(H),H===null?null:H.stateNode},findFiberByHostInstance:ud.findFiberByHostInstance||J6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zp.isDisabled&&zp.supportsFiber)try{A0=zp.inject(q6),af=zp}catch{}}Al.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$6;Al.createPortal=function(H,ae){var me=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!L1(ae))throw Error(ga(200));return K6(H,ae,null,me)};Al.createRoot=function(H,ae){if(!L1(H))throw Error(ga(299));var me=!1,Ne="",ot=sw;return ae!=null&&(ae.unstable_strictMode===!0&&(me=!0),ae.identifierPrefix!==void 0&&(Ne=ae.identifierPrefix),ae.onRecoverableError!==void 0&&(ot=ae.onRecoverableError)),ae=S1(H,1,!1,null,null,me,!1,Ne,ot),H[Bf]=ae.current,Dd(H.nodeType===8?H.parentNode:H),new C1(ae)};Al.findDOMNode=function(H){if(H==null)return null;if(H.nodeType===1)return H;var ae=H._reactInternals;if(ae===void 0)throw typeof H.render=="function"?Error(ga(188)):(H=Object.keys(H).join(","),Error(ga(268,H)));return H=P3(ae),H=H===null?null:H.stateNode,H};Al.flushSync=function(H){return Ph(H)};Al.hydrate=function(H,ae,me){if(!F0(ae))throw Error(ga(200));return O0(null,H,ae,!0,me)};Al.hydrateRoot=function(H,ae,me){if(!L1(H))throw Error(ga(405));var Ne=me!=null&&me.hydratedSources||null,ot=!1,mt="",Y=sw;if(me!=null&&(me.unstable_strictMode===!0&&(ot=!0),me.identifierPrefix!==void 0&&(mt=me.identifierPrefix),me.onRecoverableError!==void 0&&(Y=me.onRecoverableError)),ae=ow(ae,null,H,1,me??null,ot,!1,mt,Y),H[Bf]=ae.current,Dd(H),Ne)for(H=0;H<Ne.length;H++)me=Ne[H],ot=me._getVersion,ot=ot(me._source),ae.mutableSourceEagerHydrationData==null?ae.mutableSourceEagerHydrationData=[me,ot]:ae.mutableSourceEagerHydrationData.push(me,ot);return new z0(ae)};Al.render=function(H,ae,me){if(!F0(ae))throw Error(ga(200));return O0(null,H,ae,!1,me)};Al.unmountComponentAtNode=function(H){if(!F0(H))throw Error(ga(40));return H._reactRootContainer?(Ph(function(){O0(null,null,H,!1,function(){H._reactRootContainer=null,H[Bf]=null})}),!0):!1};Al.unstable_batchedUpdates=w1;Al.unstable_renderSubtreeIntoContainer=function(H,ae,me,Ne){if(!F0(me))throw Error(ga(200));if(H==null||H._reactInternals===void 0)throw Error(ga(38));return O0(H,ae,me,!1,Ne)};Al.version="18.3.1-next-f1338f8080-20240426";function lw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lw)}catch(H){console.error(H)}}lw(),l3.exports=Al;var eA=l3.exports,Jx=eA;Vg.createRoot=Jx.createRoot,Vg.hydrateRoot=Jx.hydrateRoot;var uw={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(H){(function(){var ae={}.hasOwnProperty;function me(){for(var mt="",Y=0;Y<arguments.length;Y++){var V=arguments[Y];V&&(mt=ot(mt,Ne(V)))}return mt}function Ne(mt){if(typeof mt=="string"||typeof mt=="number")return mt;if(typeof mt!="object")return"";if(Array.isArray(mt))return me.apply(null,mt);if(mt.toString!==Object.prototype.toString&&!mt.toString.toString().includes("[native code]"))return mt.toString();var Y="";for(var V in mt)ae.call(mt,V)&&mt[V]&&(Y=ot(Y,V));return Y}function ot(mt,Y){return Y?mt?mt+" "+Y:mt+Y:mt}H.exports?(me.default=me,H.exports=me):window.classNames=me})()})(uw);var tA=uw.exports;const ls=w0(tA),rA=["xxl","xl","lg","md","sm","xs"],nA="xs",P1=Wa.createContext({prefixes:{},breakpoints:rA,minBreakpoint:nA});function Fs(H,ae){const{prefixes:me}=Wa.useContext(P1);return H||me[ae]||ae}function fw(){const{breakpoints:H}=Wa.useContext(P1);return H}function cw(){const{minBreakpoint:H}=Wa.useContext(P1);return H}const hw=Wa.forwardRef(({bsPrefix:H,fluid:ae=!1,as:me="div",className:Ne,...ot},mt)=>{const Y=Fs(H,"container"),V=typeof ae=="string"?`-${ae}`:"-fluid";return Ha.jsx(me,{ref:mt,...ot,className:ls(Ne,ae?`${Y}${V}`:Y)})});hw.displayName="Container";const _y=Wa.forwardRef(({bsPrefix:H,className:ae,as:me="div",...Ne},ot)=>{const mt=Fs(H,"row"),Y=fw(),V=cw(),e=`${mt}-cols`,b=[];return Y.forEach(P=>{const s=Ne[P];delete Ne[P];let L;s!=null&&typeof s=="object"?{cols:L}=s:L=s;const M=P!==V?`-${P}`:"";L!=null&&b.push(`${e}${M}-${L}`)}),Ha.jsx(me,{ref:ot,...Ne,className:ls(ae,mt,...b)})});_y.displayName="Row";function aA({as:H,bsPrefix:ae,className:me,...Ne}){ae=Fs(ae,"col");const ot=fw(),mt=cw(),Y=[],V=[];return ot.forEach(e=>{const b=Ne[e];delete Ne[e];let P,s,L;typeof b=="object"&&b!=null?{span:P,offset:s,order:L}=b:P=b;const M=e!==mt?`-${e}`:"";P&&Y.push(P===!0?`${ae}${M}`:`${ae}${M}-${P}`),L!=null&&V.push(`order${M}-${L}`),s!=null&&V.push(`offset${M}-${s}`)}),[{...Ne,className:ls(me,...Y,...V)},{as:H,bsPrefix:ae,spans:Y}]}const m0=Wa.forwardRef((H,ae)=>{const[{className:me,...Ne},{as:ot="div",bsPrefix:mt,spans:Y}]=aA(H);return Ha.jsx(ot,{...Ne,ref:ae,className:ls(me,!Y.length&&mt)})});m0.displayName="Col";var vw={},dw={},pw={exports:{}},iA="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",oA=iA,sA=oA;function gw(){}function yw(){}yw.resetWarningCache=gw;var lA=function(){function H(Ne,ot,mt,Y,V,e){if(e!==sA){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}H.isRequired=H;function ae(){return H}var me={array:H,bigint:H,bool:H,func:H,number:H,object:H,string:H,symbol:H,any:H,arrayOf:ae,element:H,elementType:H,instanceOf:ae,node:H,objectOf:ae,oneOf:ae,oneOfType:ae,shape:ae,exact:ae,checkPropTypes:yw,resetWarningCache:gw};return me.PropTypes=me,me};pw.exports=lA();var mw=pw.exports;const Av=w0(mw);(function(H){function ae(u){"@babel/helpers - typeof";return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},ae(u)}Object.defineProperty(H,"__esModule",{value:!0}),H.default=l;var me=Y(Wa),Ne=ot(mw);function ot(u){return u&&u.__esModule?u:{default:u}}function mt(u){if(typeof WeakMap!="function")return null;var f=new WeakMap,g=new WeakMap;return(mt=function(w){return w?g:f})(u)}function Y(u,f){if(u&&u.__esModule)return u;if(u===null||ae(u)!=="object"&&typeof u!="function")return{default:u};var g=mt(f);if(g&&g.has(u))return g.get(u);var h={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in u)if(c!=="default"&&Object.prototype.hasOwnProperty.call(u,c)){var a=w?Object.getOwnPropertyDescriptor(u,c):null;a&&(a.get||a.set)?Object.defineProperty(h,c,a):h[c]=u[c]}return h.default=u,g&&g.set(u,h),h}function V(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}function e(u,f){for(var g=0;g<f.length;g++){var h=f[g];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}function b(u,f,g){return f&&e(u.prototype,f),Object.defineProperty(u,"prototype",{writable:!1}),u}function P(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(f&&f.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),f&&s(u,f)}function s(u,f){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,w){return h.__proto__=w,h},s(u,f)}function L(u){var f=p();return function(){var h=r(u),w;if(f){var c=r(this).constructor;w=Reflect.construct(h,arguments,c)}else w=h.apply(this,arguments);return M(this,w)}}function M(u,f){if(f&&(ae(f)==="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(u)}function v(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function r(u){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},r(u)}var t=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover","WebGlContextLost"],o=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],n=typeof window<"u";function l(u){var f=function(g){P(w,g);var h=L(w);function w(c){var a;return V(this,w),a=h.call(this,c),a.p=Promise.resolve(),a.resizeHandler=null,a.handlers={},a.syncWindowResize=a.syncWindowResize.bind(v(a)),a.syncEventHandlers=a.syncEventHandlers.bind(v(a)),a.attachUpdateEvents=a.attachUpdateEvents.bind(v(a)),a.getRef=a.getRef.bind(v(a)),a.handleUpdate=a.handleUpdate.bind(v(a)),a.figureCallback=a.figureCallback.bind(v(a)),a.updatePlotly=a.updatePlotly.bind(v(a)),a}return b(w,[{key:"updatePlotly",value:function(a,d,x){var T=this;this.p=this.p.then(function(){if(!T.unmounting){if(!T.el)throw new Error("Missing element reference");return u.react(T.el,{data:T.props.data,layout:T.props.layout,config:T.props.config,frames:T.props.frames})}}).then(function(){T.unmounting||(T.syncWindowResize(a),T.syncEventHandlers(),T.figureCallback(d),x&&T.attachUpdateEvents())}).catch(function(C){T.props.onError&&T.props.onError(C)})}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(a){this.unmounting=!1;var d=a.frames&&a.frames.length?a.frames.length:0,x=this.props.frames&&this.props.frames.length?this.props.frames.length:0,T=!(a.layout===this.props.layout&&a.data===this.props.data&&a.config===this.props.config&&x===d),C=a.revision!==void 0,y=a.revision!==this.props.revision;!T&&(!C||C&&!y)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&n&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),u.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var a=this;!this.el||!this.el.removeListener||o.forEach(function(d){a.el.on(d,a.handleUpdate)})}},{key:"removeUpdateEvents",value:function(){var a=this;!this.el||!this.el.removeListener||o.forEach(function(d){a.el.removeListener(d,a.handleUpdate)})}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(a){if(typeof a=="function"){var d=this.el,x=d.data,T=d.layout,C=this.el._transitionData?this.el._transitionData._frames:null,y={data:x,layout:T,frames:C};a(y,this.el)}}},{key:"syncWindowResize",value:function(a){var d=this;n&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return u.Plots.resize(d.el)},window.addEventListener("resize",this.resizeHandler),a&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(a){this.el=a,this.props.debug&&n&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var a=this;t.forEach(function(d){var x=a.props["on"+d],T=a.handlers[d],C=!!T;x&&!C?a.addEventHandler(d,x):!x&&C?a.removeEventHandler(d):x&&C&&x!==T&&(a.removeEventHandler(d),a.addEventHandler(d,x))})}},{key:"addEventHandler",value:function(a,d){this.handlers[a]=d,this.el.on(this.getPlotlyEventName(a),this.handlers[a])}},{key:"removeEventHandler",value:function(a){this.el.removeListener(this.getPlotlyEventName(a),this.handlers[a]),delete this.handlers[a]}},{key:"getPlotlyEventName",value:function(a){return"plotly_"+a.toLowerCase()}},{key:"render",value:function(){return me.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),w}(me.Component);return f.propTypes={data:Ne.default.arrayOf(Ne.default.object),config:Ne.default.object,layout:Ne.default.object,frames:Ne.default.arrayOf(Ne.default.object),revision:Ne.default.number,onInitialized:Ne.default.func,onPurge:Ne.default.func,onError:Ne.default.func,onUpdate:Ne.default.func,debug:Ne.default.bool,style:Ne.default.object,className:Ne.default.string,useResizeHandler:Ne.default.bool,divId:Ne.default.string},t.forEach(function(g){f.propTypes["on"+g]=Ne.default.func}),f.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},f}})(dw);var xw={exports:{}};(function(H,ae){(function(Ne,ot){H.exports=ot()})(self,function(){return function(){var me={79288:function(Y,V,e){var b=e(3400),P={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var s in P){var L=s.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");b.addStyleRule(L,P[s])}},86712:function(Y,V,e){Y.exports=e(84224)},37240:function(Y,V,e){Y.exports=e(51132)},29744:function(Y,V,e){Y.exports=e(94456)},29352:function(Y,V,e){Y.exports=e(67244)},96144:function(Y,V,e){Y.exports=e(97776)},53219:function(Y,V,e){Y.exports=e(61712)},4624:function(Y,V,e){Y.exports=e(95856)},54543:function(Y,V,e){Y.exports=e(54272)},45e3:function(Y,V,e){Y.exports=e(85404)},62300:function(Y,V,e){Y.exports=e(26048)},6920:function(Y,V,e){Y.exports=e(66240)},10264:function(Y,V,e){Y.exports=e(40448)},32016:function(Y,V,e){Y.exports=e(64884)},27528:function(Y,V,e){Y.exports=e(15088)},75556:function(Y,V,e){Y.exports=e(76744)},39204:function(Y,V,e){Y.exports=e(94704)},73996:function(Y,V,e){Y.exports=e(62396)},16489:function(Y,V,e){Y.exports=e(32028)},5e3:function(Y,V,e){Y.exports=e(81932)},77280:function(Y,V,e){Y.exports=e(45536)},33992:function(Y,V,e){Y.exports=e(42600)},17600:function(Y,V,e){Y.exports=e(21536)},49116:function(Y,V,e){Y.exports=e(65664)},46808:function(Y,V,e){Y.exports=e(29044)},36168:function(Y,V,e){Y.exports=e(48928)},13792:function(Y,V,e){var b=e(32016);b.register([e(37240),e(29352),e(5e3),e(33992),e(17600),e(49116),e(6920),e(67484),e(79440),e(39204),e(83096),e(36168),e(20260),e(63560),e(65832),e(46808),e(73996),e(48824),e(89904),e(25120),e(13752),e(4340),e(62300),e(29800),e(8363),e(54543),e(86636),e(42192),e(32140),e(77280),e(89296),e(56816),e(70192),e(45e3),e(27528),e(84764),e(3920),e(50248),e(4624),e(69967),e(10264),e(86152),e(53219),e(81604),e(63796),e(29744),e(89336),e(86712),e(75556),e(16489),e(97312),e(96144)]),Y.exports=b},3920:function(Y,V,e){Y.exports=e(43480)},25120:function(Y,V,e){Y.exports=e(6296)},4340:function(Y,V,e){Y.exports=e(7404)},86152:function(Y,V,e){Y.exports=e(65456)},56816:function(Y,V,e){Y.exports=e(22020)},89296:function(Y,V,e){Y.exports=e(29928)},20260:function(Y,V,e){Y.exports=e(75792)},32140:function(Y,V,e){Y.exports=e(156)},84764:function(Y,V,e){Y.exports=e(45499)},48824:function(Y,V,e){Y.exports=e(3296)},69967:function(Y,V,e){Y.exports=e(4184)},8363:function(Y,V,e){Y.exports=e(36952)},86636:function(Y,V,e){Y.exports=e(38983)},70192:function(Y,V,e){Y.exports=e(11572)},81604:function(Y,V,e){Y.exports=e(76924)},63796:function(Y,V,e){Y.exports=e(62944)},89336:function(Y,V,e){Y.exports=e(95443)},67484:function(Y,V,e){Y.exports=e(34864)},97312:function(Y,V,e){Y.exports=e(76272)},42192:function(Y,V,e){Y.exports=e(97924)},29800:function(Y,V,e){Y.exports=e(15436)},63560:function(Y,V,e){Y.exports=e(5621)},89904:function(Y,V,e){Y.exports=e(91304)},50248:function(Y,V,e){Y.exports=e(41724)},65832:function(Y,V,e){Y.exports=e(31991)},79440:function(Y,V,e){Y.exports=e(22869)},13752:function(Y,V,e){Y.exports=e(67776)},83096:function(Y,V,e){Y.exports=e(95952)},72196:function(Y){Y.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},13916:function(Y,V,e){var b=e(72196),P=e(25376),s=e(33816),L=e(31780).templatedArray;e(36208),Y.exports=L("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:P({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:b.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:b.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",s.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",s.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",s.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",s.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:P({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},90272:function(Y,V,e){var b=e(3400),P=e(54460),s=e(23816).draw;Y.exports=function(p){var r=p._fullLayout,t=b.filterVisible(r.annotations);if(t.length&&p._fullData.length)return b.syncOrAsync([s,L],p)};function L(v){var p=v._fullLayout;b.filterVisible(p.annotations).forEach(function(r){var t=P.getFromId(v,r.xref),o=P.getFromId(v,r.yref),n=P.getRefType(r.xref),l=P.getRefType(r.yref);r._extremes={},n==="range"&&M(r,t),l==="range"&&M(r,o)})}function M(v,p){var r=p._id,t=r.charAt(0),o=v[t],n=v["a"+t],l=v[t+"ref"],u=v["a"+t+"ref"],f=v["_"+t+"padplus"],g=v["_"+t+"padminus"],h={x:1,y:-1}[t]*v[t+"shift"],w=3*v.arrowsize*v.arrowwidth||0,c=w+h,a=w-h,d=3*v.startarrowsize*v.arrowwidth||0,x=d+h,T=d-h,C;if(u===l){var y=P.findExtremes(p,[p.r2c(o)],{ppadplus:c,ppadminus:a}),S=P.findExtremes(p,[p.r2c(n)],{ppadplus:Math.max(f,x),ppadminus:Math.max(g,T)});C={min:[y.min[0],S.min[0]],max:[y.max[0],S.max[0]]}}else x=n?x+n:x,T=n?T-n:T,C=P.findExtremes(p,[p.r2c(o)],{ppadplus:Math.max(f,c,x),ppadminus:Math.max(g,a,T)});v._extremes[r]=C}},42300:function(Y,V,e){var b=e(3400),P=e(24040),s=e(31780).arrayEditor;Y.exports={hasClickToShow:L,onClick:M};function L(r,t){var o=v(r,t);return o.on.length>0||o.explicitOff.length>0}function M(r,t){var o=v(r,t),n=o.on,l=o.off.concat(o.explicitOff),u={},f=r._fullLayout.annotations,g,h;if(n.length||l.length){for(g=0;g<n.length;g++)h=s(r.layout,"annotations",f[n[g]]),h.modifyItem("visible",!0),b.extendFlat(u,h.getUpdateObj());for(g=0;g<l.length;g++)h=s(r.layout,"annotations",f[l[g]]),h.modifyItem("visible",!1),b.extendFlat(u,h.getUpdateObj());return P.call("update",r,{},u)}}function v(r,t){var o=r._fullLayout.annotations,n=[],l=[],u=[],f=(t||[]).length,g,h,w,c,a,d,x,T;for(g=0;g<o.length;g++)if(w=o[g],c=w.clicktoshow,c){for(h=0;h<f;h++)if(a=t[h],d=a.xaxis,x=a.yaxis,d._id===w.xref&&x._id===w.yref&&d.d2r(a.x)===p(w._xclick,d)&&x.d2r(a.y)===p(w._yclick,x)){w.visible?c==="onout"?T=l:T=u:T=n,T.push(g);break}h===f&&w.visible&&c==="onout"&&l.push(g)}return{on:n,off:l,explicitOff:u}}function p(r,t){return t.type==="log"?t.l2r(r):t.d2r(r)}},87192:function(Y,V,e){var b=e(3400),P=e(76308);Y.exports=function(L,M,v,p){p("opacity");var r=p("bgcolor"),t=p("bordercolor"),o=P.opacity(t);p("borderpad");var n=p("borderwidth"),l=p("showarrow");p("text",l?" ":v._dfltTitle.annotation),p("textangle"),b.coerceFont(p,"font",v.font),p("width"),p("align");var u=p("height");if(u&&p("valign"),l){var f=p("arrowside"),g,h;f.indexOf("end")!==-1&&(g=p("arrowhead"),h=p("arrowsize")),f.indexOf("start")!==-1&&(p("startarrowhead",g),p("startarrowsize",h)),p("arrowcolor",o?M.bordercolor:P.defaultLine),p("arrowwidth",(o&&n||1)*2),p("standoff"),p("startstandoff")}var w=p("hovertext"),c=v.hoverlabel||{};if(w){var a=p("hoverlabel.bgcolor",c.bgcolor||(P.opacity(r)?P.rgb(r):P.defaultLine)),d=p("hoverlabel.bordercolor",c.bordercolor||P.contrast(a)),x=b.extendFlat({},c.font);x.color||(x.color=d),b.coerceFont(p,"hoverlabel.font",x)}p("captureevents",!!w)}},26828:function(Y,V,e){var b=e(38248),P=e(36896);Y.exports=function(L,M,v,p){M=M||{};var r=v==="log"&&M.type==="linear",t=v==="linear"&&M.type==="log";if(!(r||t))return;var o=L._fullLayout.annotations,n=M._id.charAt(0),l,u;function f(h){var w=l[h],c=null;r?c=P(w,M.range):c=Math.pow(10,w),b(c)||(c=null),p(u+h,c)}for(var g=0;g<o.length;g++)l=o[g],u="annotations["+g+"].",l[n+"ref"]===M._id&&f(n),l["a"+n+"ref"]===M._id&&f("a"+n)}},45216:function(Y,V,e){var b=e(3400),P=e(54460),s=e(51272),L=e(87192),M=e(13916);Y.exports=function(r,t){s(r,t,{name:"annotations",handleItemDefaults:v})};function v(p,r,t){function o(A,i){return b.coerce(p,r,M,A,i)}var n=o("visible"),l=o("clicktoshow");if(n||l){L(p,r,t,o);for(var u=r.showarrow,f=["x","y"],g=[-10,-30],h={_fullLayout:t},w=0;w<2;w++){var c=f[w],a=P.coerceRef(p,r,h,c,"","paper");if(a!=="paper"){var d=P.getFromId(h,a);d._annIndices.push(r._index)}if(P.coercePosition(r,h,o,a,c,.5),u){var x="a"+c,T=P.coerceRef(p,r,h,x,"pixel",["pixel","paper"]);T!=="pixel"&&T!==a&&(T=r[x]="pixel");var C=T==="pixel"?g[w]:.4;P.coercePosition(r,h,o,T,x,C)}o(c+"anchor"),o(c+"shift")}if(b.noneOrAll(p,r,["x","y"]),u&&b.noneOrAll(p,r,["ax","ay"]),l){var y=o("xclick"),S=o("yclick");r._xclick=y===void 0?r.x:P.cleanPosition(y,h,r.xref),r._yclick=S===void 0?r.y:P.cleanPosition(S,h,r.yref)}}}},23816:function(Y,V,e){var b=e(33428),P=e(24040),s=e(7316),L=e(3400),M=L.strTranslate,v=e(54460),p=e(76308),r=e(43616),t=e(93024),o=e(72736),n=e(93972),l=e(86476),u=e(31780).arrayEditor,f=e(33652);Y.exports={draw:g,drawOne:h,drawRaw:c};function g(a){var d=a._fullLayout;d._infolayer.selectAll(".annotation").remove();for(var x=0;x<d.annotations.length;x++)d.annotations[x].visible&&h(a,x);return s.previousPromises(a)}function h(a,d){var x=a._fullLayout,T=x.annotations[d]||{},C=v.getFromId(a,T.xref),y=v.getFromId(a,T.yref);C&&C.setScale(),y&&y.setScale(),c(a,T,d,!1,C,y)}function w(a,d,x,T,C){var y=C[x],S=C[x+"ref"],A=x.indexOf("y")!==-1,i=v.getRefType(S)==="domain",E=A?T.h:T.w;return a?i?y+(A?-d:d)/a._length:a.p2r(a.r2p(y)+d):y+(A?-d:d)/E}function c(a,d,x,T,C,y){var S=a._fullLayout,A=a._fullLayout._size,i=a._context.edits,E,m;T?(E="annotation-"+T,m=T+".annotations"):(E="annotation",m="annotations");var k=u(a.layout,m,d),I=k.modifyBase,O=k.modifyItem,_=k.getUpdateObj;S._infolayer.selectAll("."+E+'[data-index="'+x+'"]').remove();var B="clip"+S._uid+"_ann"+x;if(!d._input||d.visible===!1){b.selectAll("#"+B).remove();return}var F={x:{},y:{}},z=+d.textangle||0,N=S._infolayer.append("g").classed(E,!0).attr("data-index",String(x)).style("opacity",d.opacity),W=N.append("g").classed("annotation-text-g",!0),Z=i[d.showarrow?"annotationTail":"annotationPosition"],q=d.captureevents||i.annotationText||Z;function re(ge){var we={index:x,annotation:d._input,fullAnnotation:d,event:ge};return T&&(we.subplotId=T),we}var le=W.append("g").style("pointer-events",q?"all":null).call(n,"pointer").on("click",function(){a._dragging=!1,a.emit("plotly_clickannotation",re(b.event))});d.hovertext&&le.on("mouseover",function(){var ge=d.hoverlabel,we=ge.font,xe=this.getBoundingClientRect(),Ce=a.getBoundingClientRect();t.loneHover({x0:xe.left-Ce.left,x1:xe.right-Ce.left,y:(xe.top+xe.bottom)/2-Ce.top,text:d.hovertext,color:ge.bgcolor,borderColor:ge.bordercolor,fontFamily:we.family,fontSize:we.size,fontColor:we.color,fontWeight:we.weight,fontStyle:we.style,fontVariant:we.variant,fontShadow:we.fontShadow,fontLineposition:we.fontLineposition,fontTextcase:we.fontTextcase},{container:S._hoverlayer.node(),outerContainer:S._paper.node(),gd:a})}).on("mouseout",function(){t.loneUnhover(S._hoverlayer.node())});var ie=d.borderwidth,K=d.borderpad,$=ie+K,X=le.append("rect").attr("class","bg").style("stroke-width",ie+"px").call(p.stroke,d.bordercolor).call(p.fill,d.bgcolor),Q=d.width||d.height,se=S._topclips.selectAll("#"+B).data(Q?[0]:[]);se.enter().append("clipPath").classed("annclip",!0).attr("id",B).append("rect"),se.exit().remove();var J=d.font,G=S._meta?L.templateString(d.text,S._meta):d.text,oe=le.append("text").classed("annotation-text",!0).text(G);function te(ge){return ge.call(r.font,J).attr({"text-anchor":{left:"start",right:"end"}[d.align]||"middle"}),o.convertToTspans(ge,a,fe),ge}function fe(){var ge=oe.selectAll("a");if(ge.size()===1&&ge.text()===oe.text()){var we=le.insert("a",":first-child").attr({"xlink:xlink:href":ge.attr("xlink:href"),"xlink:xlink:show":ge.attr("xlink:show")}).style({cursor:"pointer"});we.node().appendChild(X.node())}var xe=le.select(".annotation-text-math-group"),Ce=!xe.empty(),De=r.bBox((Ce?xe:oe).node()),Oe=De.width,Te=De.height,Re=d.width||Oe,Me=d.height||Te,ke=Math.round(Re+2*$),Se=Math.round(Me+2*$);function He(mr,or){return or==="auto"&&(mr<.3333333333333333?or="left":mr>.6666666666666666?or="right":or="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[or]}for(var je=!1,at=["x","y"],Ze=0;Ze<at.length;Ze++){var $e=at[Ze],ut=d[$e+"ref"]||$e,ht=d["a"+$e+"ref"],vt={x:C,y}[$e],xt=(z+($e==="x"?0:-90))*Math.PI/180,St=ke*Math.cos(xt),tt=Se*Math.sin(xt),Ie=Math.abs(St)+Math.abs(tt),Ve=d[$e+"anchor"],Ge=d[$e+"shift"]*($e==="x"?1:-1),Xe=F[$e],Le,Fe,Ue,Ee,he,ye=v.getRefType(ut);if(vt&&ye!=="domain"){var _e=vt.r2fraction(d[$e]);(_e<0||_e>1)&&(ht===ut?(_e=vt.r2fraction(d["a"+$e]),(_e<0||_e>1)&&(je=!0)):je=!0),Le=vt._offset+vt.r2p(d[$e]),Ee=.5}else{var We=ye==="domain";$e==="x"?(Ue=d[$e],Le=We?vt._offset+vt._length*Ue:Le=A.l+A.w*Ue):(Ue=1-d[$e],Le=We?vt._offset+vt._length*Ue:Le=A.t+A.h*Ue),Ee=d.showarrow?.5:Ue}if(d.showarrow){Xe.head=Le;var rt=d["a"+$e];if(he=St*He(.5,d.xanchor)-tt*He(.5,d.yanchor),ht===ut){var st=v.getRefType(ht);st==="domain"?($e==="y"&&(rt=1-rt),Xe.tail=vt._offset+vt._length*rt):st==="paper"?$e==="y"?(rt=1-rt,Xe.tail=A.t+A.h*rt):Xe.tail=A.l+A.w*rt:Xe.tail=vt._offset+vt.r2p(rt),Fe=he}else Xe.tail=Le+rt,Fe=he+rt;Xe.text=Xe.tail+he;var Vt=S[$e==="x"?"width":"height"];if(ut==="paper"&&(Xe.head=L.constrain(Xe.head,1,Vt-1)),ht==="pixel"){var Xt=-Math.max(Xe.tail-3,Xe.text),Tt=Math.min(Xe.tail+3,Xe.text)-Vt;Xt>0?(Xe.tail+=Xt,Xe.text+=Xt):Tt>0&&(Xe.tail-=Tt,Xe.text-=Tt)}Xe.tail+=Ge,Xe.head+=Ge}else he=Ie*He(Ee,Ve),Fe=he,Xe.text=Le+he;Xe.text+=Ge,he+=Ge,Fe+=Ge,d["_"+$e+"padplus"]=Ie/2+Fe,d["_"+$e+"padminus"]=Ie/2-Fe,d["_"+$e+"size"]=Ie,d["_"+$e+"shift"]=he}if(je){le.remove();return}var Lt=0,Kt=0;if(d.align!=="left"&&(Lt=(Re-Oe)*(d.align==="center"?.5:1)),d.valign!=="top"&&(Kt=(Me-Te)*(d.valign==="middle"?.5:1)),Ce)xe.select("svg").attr({x:$+Lt-1,y:$+Kt}).call(r.setClipUrl,Q?B:null,a);else{var vr=$+Kt-De.top,pt=$+Lt-De.left;oe.call(o.positionText,pt,vr).call(r.setClipUrl,Q?B:null,a)}se.select("rect").call(r.setRect,$,$,Re,Me),X.call(r.setRect,ie/2,ie/2,ke-ie,Se-ie),le.call(r.setTranslate,Math.round(F.x.text-ke/2),Math.round(F.y.text-Se/2)),W.attr({transform:"rotate("+z+","+F.x.text+","+F.y.text+")"});var jt=function(mr,or){N.selectAll(".annotation-arrow-g").remove();var gt=F.x.head,lt=F.y.head,bt=F.x.tail+mr,Et=F.y.tail+or,kt=F.x.text+mr,Ot=F.y.text+or,Ft=L.rotationXYMatrix(z,kt,Ot),Bt=L.apply2DTransform(Ft),Jt=L.apply2DTransform2(Ft),hr=+X.attr("width"),cr=+X.attr("height"),dr=kt-.5*hr,fr=dr+hr,Lr=Ot-.5*cr,xr=Lr+cr,Ke=[[dr,Lr,dr,xr],[dr,xr,fr,xr],[fr,xr,fr,Lr],[fr,Lr,dr,Lr]].map(Jt);if(!Ke.reduce(function(Tr,vn){return Tr^!!L.segmentsIntersect(gt,lt,gt+1e6,lt+1e6,vn[0],vn[1],vn[2],vn[3])},!1)){Ke.forEach(function(Tr){var vn=L.segmentsIntersect(bt,Et,gt,lt,Tr[0],Tr[1],Tr[2],Tr[3]);vn&&(bt=vn.x,Et=vn.y)});var et=d.arrowwidth,er=d.arrowcolor,tr=d.arrowside,Yt=N.append("g").style({opacity:p.opacity(er)}).classed("annotation-arrow-g",!0),Pt=Yt.append("path").attr("d","M"+bt+","+Et+"L"+gt+","+lt).style("stroke-width",et+"px").call(p.stroke,p.rgb(er));if(f(Pt,tr,d),i.annotationPosition&&Pt.node().parentNode&&!T){var Zt=gt,nr=lt;if(d.standoff){var Qt=Math.sqrt(Math.pow(gt-bt,2)+Math.pow(lt-Et,2));Zt+=d.standoff*(bt-gt)/Qt,nr+=d.standoff*(Et-lt)/Qt}var Wt=Yt.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(bt-Zt)+","+(Et-nr),transform:M(Zt,nr)}).style("stroke-width",et+6+"px").call(p.stroke,"rgba(0,0,0,0)").call(p.fill,"rgba(0,0,0,0)"),yr,Ir;l.init({element:Wt.node(),gd:a,prepFn:function(){var Tr=r.getTranslate(le);yr=Tr.x,Ir=Tr.y,C&&C.autorange&&I(C._name+".autorange",!0),y&&y.autorange&&I(y._name+".autorange",!0)},moveFn:function(Tr,vn){var Or=Bt(yr,Ir),En=Or[0]+Tr,nn=Or[1]+vn;le.call(r.setTranslate,En,nn),O("x",w(C,Tr,"x",A,d)),O("y",w(y,vn,"y",A,d)),d.axref===d.xref&&O("ax",w(C,Tr,"ax",A,d)),d.ayref===d.yref&&O("ay",w(y,vn,"ay",A,d)),Yt.attr("transform",M(Tr,vn)),W.attr({transform:"rotate("+z+","+En+","+nn+")"})},doneFn:function(){P.call("_guiRelayout",a,_());var Tr=document.querySelector(".js-notes-box-panel");Tr&&Tr.redraw(Tr.selectedObj)}})}}};if(d.showarrow&&jt(0,0),Z){var $t;l.init({element:le.node(),gd:a,prepFn:function(){$t=W.attr("transform")},moveFn:function(mr,or){var gt="pointer";if(d.showarrow)d.axref===d.xref?O("ax",w(C,mr,"ax",A,d)):O("ax",d.ax+mr),d.ayref===d.yref?O("ay",w(y,or,"ay",A.w,d)):O("ay",d.ay+or),jt(mr,or);else{if(T)return;var lt,bt;if(C)lt=w(C,mr,"x",A,d);else{var Et=d._xsize/A.w,kt=d.x+(d._xshift-d.xshift)/A.w-Et/2;lt=l.align(kt+mr/A.w,Et,0,1,d.xanchor)}if(y)bt=w(y,or,"y",A,d);else{var Ot=d._ysize/A.h,Ft=d.y-(d._yshift+d.yshift)/A.h-Ot/2;bt=l.align(Ft-or/A.h,Ot,0,1,d.yanchor)}O("x",lt),O("y",bt),(!C||!y)&&(gt=l.getCursor(C?.5:lt,y?.5:bt,d.xanchor,d.yanchor))}W.attr({transform:M(mr,or)+$t}),n(le,gt)},clickFn:function(mr,or){d.captureevents&&a.emit("plotly_clickannotation",re(or))},doneFn:function(){n(le),P.call("_guiRelayout",a,_());var mr=document.querySelector(".js-notes-box-panel");mr&&mr.redraw(mr.selectedObj)}})}}i.annotationText?oe.call(o.makeEditable,{delegate:le,gd:a}).call(te).on("edit",function(ge){d.text=ge,this.call(te),O("text",ge),C&&C.autorange&&I(C._name+".autorange",!0),y&&y.autorange&&I(y._name+".autorange",!0),P.call("_guiRelayout",a,_())}):oe.call(te)}},33652:function(Y,V,e){var b=e(33428),P=e(76308),s=e(72196),L=e(3400),M=L.strScale,v=L.strRotate,p=L.strTranslate;Y.exports=function(t,o,n){var l=t.node(),u=s[n.arrowhead||0],f=s[n.startarrowhead||0],g=(n.arrowwidth||1)*(n.arrowsize||1),h=(n.arrowwidth||1)*(n.startarrowsize||1),w=o.indexOf("start")>=0,c=o.indexOf("end")>=0,a=u.backoff*g+n.standoff,d=f.backoff*h+n.startstandoff,x,T,C,y;if(l.nodeName==="line"){x={x:+t.attr("x1"),y:+t.attr("y1")},T={x:+t.attr("x2"),y:+t.attr("y2")};var S=x.x-T.x,A=x.y-T.y;if(C=Math.atan2(A,S),y=C+Math.PI,a&&d&&a+d>Math.sqrt(S*S+A*A)){W();return}if(a){if(a*a>S*S+A*A){W();return}var i=a*Math.cos(C),E=a*Math.sin(C);T.x+=i,T.y+=E,t.attr({x2:T.x,y2:T.y})}if(d){if(d*d>S*S+A*A){W();return}var m=d*Math.cos(C),k=d*Math.sin(C);x.x-=m,x.y-=k,t.attr({x1:x.x,y1:x.y})}}else if(l.nodeName==="path"){var I=l.getTotalLength(),O="";if(I<a+d){W();return}var _=l.getPointAtLength(0),B=l.getPointAtLength(.1);C=Math.atan2(_.y-B.y,_.x-B.x),x=l.getPointAtLength(Math.min(d,I)),O="0px,"+d+"px,";var F=l.getPointAtLength(I),z=l.getPointAtLength(I-.1);y=Math.atan2(F.y-z.y,F.x-z.x),T=l.getPointAtLength(Math.max(0,I-a));var N=O?d+a:a;O+=I-N+"px,"+I+"px",t.style("stroke-dasharray",O)}function W(){t.style("stroke-dasharray","0px,100px")}function Z(q,re,le,ie){q.path&&(q.noRotate&&(le=0),b.select(l.parentNode).append("path").attr({class:t.attr("class"),d:q.path,transform:p(re.x,re.y)+v(le*180/Math.PI)+M(ie)}).style({fill:P.rgb(n.arrowcolor),"stroke-width":0}))}w&&Z(f,x,C,h),c&&Z(u,T,y,g)}},79180:function(Y,V,e){var b=e(23816),P=e(42300);Y.exports={moduleType:"component",name:"annotations",layoutAttributes:e(13916),supplyLayoutDefaults:e(45216),includeBasePlot:e(36632)("annotations"),calcAutorange:e(90272),draw:b.draw,drawOne:b.drawOne,drawRaw:b.drawRaw,hasClickToShow:P.hasClickToShow,onClick:P.onClick,convertCoords:e(26828)}},45899:function(Y,V,e){var b=e(13916),P=e(67824).overrideAll,s=e(31780).templatedArray;Y.exports=P(s("annotation",{visible:b.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:b.xanchor,xshift:b.xshift,yanchor:b.yanchor,yshift:b.yshift,text:b.text,textangle:b.textangle,font:b.font,width:b.width,height:b.height,opacity:b.opacity,align:b.align,valign:b.valign,bgcolor:b.bgcolor,bordercolor:b.bordercolor,borderpad:b.borderpad,borderwidth:b.borderwidth,showarrow:b.showarrow,arrowcolor:b.arrowcolor,arrowhead:b.arrowhead,startarrowhead:b.startarrowhead,arrowside:b.arrowside,arrowsize:b.arrowsize,startarrowsize:b.startarrowsize,arrowwidth:b.arrowwidth,standoff:b.standoff,startstandoff:b.startstandoff,hovertext:b.hovertext,hoverlabel:b.hoverlabel,captureevents:b.captureevents}),"calc","from-root")},42456:function(Y,V,e){var b=e(3400),P=e(54460);Y.exports=function(M){for(var v=M.fullSceneLayout,p=v.annotations,r=0;r<p.length;r++)s(p[r],M);M.fullLayout._infolayer.selectAll(".annotation-"+M.id).remove()};function s(L,M){var v=M.fullSceneLayout,p=v.domain,r=M.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};L._xa={},b.extendFlat(L._xa,t),P.setConvert(L._xa),L._xa._offset=r.l+p.x[0]*r.w,L._xa.l2p=function(){return .5*(1+L._pdata[0]/L._pdata[3])*r.w*(p.x[1]-p.x[0])},L._ya={},b.extendFlat(L._ya,t),P.setConvert(L._ya),L._ya._offset=r.t+(1-p.y[1])*r.h,L._ya.l2p=function(){return .5*(1-L._pdata[1]/L._pdata[3])*r.h*(p.y[1]-p.y[0])}}},52808:function(Y,V,e){var b=e(3400),P=e(54460),s=e(51272),L=e(87192),M=e(45899);Y.exports=function(r,t,o){s(r,t,{name:"annotations",handleItemDefaults:v,fullLayout:o.fullLayout})};function v(p,r,t,o){function n(f,g){return b.coerce(p,r,M,f,g)}function l(f){var g=f+"axis",h={_fullLayout:{}};return h._fullLayout[g]=t[g],P.coercePosition(r,h,n,f,f,.5)}var u=n("visible");u&&(L(p,r,o.fullLayout,n),l("x"),l("y"),l("z"),b.noneOrAll(p,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",n("ax",-10),n("ay",-30),b.noneOrAll(p,r,["ax","ay"])))}},71836:function(Y,V,e){var b=e(23816).drawRaw,P=e(94424),s=["x","y","z"];Y.exports=function(M){for(var v=M.fullSceneLayout,p=M.dataScale,r=v.annotations,t=0;t<r.length;t++){for(var o=r[t],n=!1,l=0;l<3;l++){var u=s[l],f=o[u],g=v[u+"axis"],h=g.r2fraction(f);if(h<0||h>1){n=!0;break}}n?M.fullLayout._infolayer.select(".annotation-"+M.id+'[data-index="'+t+'"]').remove():(o._pdata=P(M.glplot.cameraParams,[v.xaxis.r2l(o.x)*p[0],v.yaxis.r2l(o.y)*p[1],v.zaxis.r2l(o.z)*p[2]]),b(M.graphDiv,o,t,M.id,o._xa,o._ya))}}},56864:function(Y,V,e){var b=e(24040),P=e(3400);Y.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(45899)}}},layoutAttributes:e(45899),handleDefaults:e(52808),includeBasePlot:s,convert:e(42456),draw:e(71836)};function s(L,M){var v=b.subplotsRegistry.gl3d;if(v)for(var p=v.attrRegex,r=Object.keys(L),t=0;t<r.length;t++){var o=r[t];p.test(o)&&(L[o].annotations||[]).length&&(P.pushUnique(M._basePlotModules,v),P.pushUnique(M._subplots.gl3d,o))}}},54976:function(Y,V,e){Y.exports=e(38700),e(15168),e(67020),e(89792),e(55668),e(65168),e(2084),e(26368),e(24747),e(65616),e(30632),e(73040),e(1104),e(51456),e(4592),e(45348)},97776:function(Y,V,e){var b=e(54976),P=e(3400),s=e(39032),L=s.EPOCHJD,M=s.ONEDAY,v={valType:"enumerated",values:P.sortObjectKeys(b.calendars),editType:"calc",dflt:"gregorian"},p=function(C,y,S,A){var i={};return i[S]=v,P.coerce(C,y,i,S,A)},r=function(C,y,S,A){for(var i=0;i<S.length;i++)p(C,y,S[i]+"calendar",A.calendar)},t={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},o={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},n={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},l="##",u={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:l,w:l,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function f(C,y,S){for(var A=Math.floor((y+.05)/M)+L,i=h(S).fromJD(A),E=0,m,k,I,O,_;(E=C.indexOf("%",E))!==-1;)m=C.charAt(E+1),m==="0"||m==="-"||m==="_"?(I=3,k=C.charAt(E+2),m==="_"&&(m="-")):(k=m,m="0",I=2),O=u[k],O?(O===l?_=l:_=i.formatDate(O[m]),C=C.substr(0,E)+_+C.substr(E+I),E+=_.length):E+=I;return C}var g={};function h(C){var y=g[C];return y||(y=g[C]=b.instance(C),y)}function w(C){return P.extendFlat({},v,{description:C})}function c(C){return"Sets the calendar system to use with `"+C+"` date data."}var a={xcalendar:w(c("x"))},d=P.extendFlat({},a,{ycalendar:w(c("y"))}),x=P.extendFlat({},d,{zcalendar:w(c("z"))}),T=w(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));Y.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:d,bar:d,box:d,heatmap:d,contour:d,histogram:d,histogram2d:d,histogram2dcontour:d,scatter3d:x,surface:x,mesh3d:x,scattergl:d,ohlc:a,candlestick:a},layout:{calendar:w(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:T},yaxis:{calendar:T},scene:{xaxis:{calendar:T},yaxis:{calendar:T},zaxis:{calendar:T}},polar:{radialaxis:{calendar:T}}},transforms:{filter:{valuecalendar:w(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:w(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:p,handleTraceDefaults:r,CANONICAL_SUNDAY:o,CANONICAL_TICK:t,DFLTRANGE:n,getCal:h,worldCalFmt:f}},22548:function(Y,V){V.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],V.defaultLine="#444",V.lightLine="#eee",V.background="#fff",V.borderLine="#BEC8D9",V.lightFraction=90.9090909090909},76308:function(Y,V,e){var b=e(49760),P=e(38248),s=e(38116).isTypedArray,L=Y.exports={},M=e(22548);L.defaults=M.defaults;var v=L.defaultLine=M.defaultLine;L.lightLine=M.lightLine;var p=L.background=M.background;L.tinyRGB=function(t){var o=t.toRgb();return"rgb("+Math.round(o.r)+", "+Math.round(o.g)+", "+Math.round(o.b)+")"},L.rgb=function(t){return L.tinyRGB(b(t))},L.opacity=function(t){return t?b(t).getAlpha():0},L.addOpacity=function(t,o){var n=b(t).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+o+")"},L.combine=function(t,o){var n=b(t).toRgb();if(n.a===1)return b(t).toRgbString();var l=b(o||p).toRgb(),u=l.a===1?l:{r:255*(1-l.a)+l.r*l.a,g:255*(1-l.a)+l.g*l.a,b:255*(1-l.a)+l.b*l.a},f={r:u.r*(1-n.a)+n.r*n.a,g:u.g*(1-n.a)+n.g*n.a,b:u.b*(1-n.a)+n.b*n.a};return b(f).toRgbString()},L.interpolate=function(t,o,n){var l=b(t).toRgb(),u=b(o).toRgb(),f={r:n*l.r+(1-n)*u.r,g:n*l.g+(1-n)*u.g,b:n*l.b+(1-n)*u.b};return b(f).toRgbString()},L.contrast=function(t,o,n){var l=b(t);l.getAlpha()!==1&&(l=b(L.combine(t,p)));var u=l.isDark()?o?l.lighten(o):p:n?l.darken(n):v;return u.toString()},L.stroke=function(t,o){var n=b(o);t.style({stroke:L.tinyRGB(n),"stroke-opacity":n.getAlpha()})},L.fill=function(t,o){var n=b(o);t.style({fill:L.tinyRGB(n),"fill-opacity":n.getAlpha()})},L.clean=function(t){if(!(!t||typeof t!="object")){var o=Object.keys(t),n,l,u,f;for(n=0;n<o.length;n++)if(u=o[n],f=t[u],u.substr(u.length-5)==="color")if(Array.isArray(f))for(l=0;l<f.length;l++)f[l]=r(f[l]);else t[u]=r(f);else if(u.substr(u.length-10)==="colorscale"&&Array.isArray(f))for(l=0;l<f.length;l++)Array.isArray(f[l])&&(f[l][1]=r(f[l][1]));else if(Array.isArray(f)){var g=f[0];if(!Array.isArray(g)&&g&&typeof g=="object")for(l=0;l<f.length;l++)L.clean(f[l])}else f&&typeof f=="object"&&!s(f)&&L.clean(f)}};function r(t){if(P(t)||typeof t!="string")return t;var o=t.trim();if(o.substr(0,3)!=="rgb")return t;var n=o.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return t;var l=n[1].trim().split(/\s*[\s,]\s*/),u=o.charAt(3)==="a"&&l.length===4;if(!u&&l.length!==3)return t;for(var f=0;f<l.length;f++){if(!l[f].length||(l[f]=Number(l[f]),!(l[f]>=0)))return t;if(f===3)l[f]>1&&(l[f]=1);else if(l[f]>=1)return t}var g=Math.round(l[0]*255)+", "+Math.round(l[1]*255)+", "+Math.round(l[2]*255);return u?"rgba("+g+", "+l[3]+")":"rgb("+g+")"}},42996:function(Y,V,e){var b=e(94724),P=e(25376),s=e(92880).extendFlat,L=e(67824).overrideAll;Y.exports=L({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:b.linecolor,outlinewidth:b.linewidth,bordercolor:b.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:b.minor.tickmode,nticks:b.nticks,tick0:b.tick0,dtick:b.dtick,tickvals:b.tickvals,ticktext:b.ticktext,ticks:s({},b.ticks,{dflt:""}),ticklabeloverflow:s({},b.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:b.ticklen,tickwidth:b.tickwidth,tickcolor:b.tickcolor,ticklabelstep:b.ticklabelstep,showticklabels:b.showticklabels,labelalias:b.labelalias,tickfont:P({}),tickangle:b.tickangle,tickformat:b.tickformat,tickformatstops:b.tickformatstops,tickprefix:b.tickprefix,showtickprefix:b.showtickprefix,ticksuffix:b.ticksuffix,showticksuffix:b.showticksuffix,separatethousands:b.separatethousands,exponentformat:b.exponentformat,minexponent:b.minexponent,showexponent:b.showexponent,title:{text:{valType:"string"},font:P({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:P({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},63964:function(Y){Y.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},64013:function(Y,V,e){var b=e(3400),P=e(31780),s=e(26332),L=e(25404),M=e(95936),v=e(42568),p=e(42996);Y.exports=function(t,o,n){var l=P.newContainer(o,"colorbar"),u=t.colorbar||{};function f(F,z){return b.coerce(u,l,p,F,z)}var g=n.margin||{t:0,b:0,l:0,r:0},h=n.width-g.l-g.r,w=n.height-g.t-g.b,c=f("orientation"),a=c==="v",d=f("thicknessmode");f("thickness",d==="fraction"?30/(a?h:w):30);var x=f("lenmode");f("len",x==="fraction"?1:a?w:h);var T=f("yref"),C=f("xref"),y=T==="paper",S=C==="paper",A,i,E,m="left";a?(E="middle",m=S?"left":"right",A=S?1.02:1,i=.5):(E=y?"bottom":"top",m="center",A=.5,i=y?1.02:1),b.coerce(u,l,{x:{valType:"number",min:S?-2:0,max:S?3:1,dflt:A}},"x"),b.coerce(u,l,{y:{valType:"number",min:y?-2:0,max:y?3:1,dflt:i}},"y"),f("xanchor",m),f("xpad"),f("yanchor",E),f("ypad"),b.noneOrAll(u,l,["x","y"]),f("outlinecolor"),f("outlinewidth"),f("bordercolor"),f("borderwidth"),f("bgcolor");var k=b.coerce(u,l,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:a?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");f("ticklabeloverflow",k.indexOf("inside")!==-1?"hide past domain":"hide past div"),s(u,l,f,"linear");var I=n.font,O={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,outerTicks:!1,font:I};k.indexOf("inside")!==-1&&(O.bgColor="black"),v(u,l,f,"linear",O),M(u,l,f,"linear",O),L(u,l,f,"linear",O),f("title.text",n._dfltTitle.colorbar);var _=l.showticklabels?l.tickfont:I,B=b.extendFlat({},I,{family:_.family,size:b.bigFont(_.size)});b.coerceFont(f,"title.font",B),f("title.side",a?"top":"right")}},37848:function(Y,V,e){var b=e(33428),P=e(49760),s=e(7316),L=e(24040),M=e(54460),v=e(86476),p=e(3400),r=p.strTranslate,t=e(92880).extendFlat,o=e(93972),n=e(43616),l=e(76308),u=e(81668),f=e(72736),g=e(94288).flipScale,h=e(28336),w=e(37668),c=e(94724),a=e(84284),d=a.LINE_SPACING,x=a.FROM_TL,T=a.FROM_BR,C=e(63964).cn;function y(k){var I=k._fullLayout,O=I._infolayer.selectAll("g."+C.colorbar).data(S(k),function(_){return _._id});O.enter().append("g").attr("class",function(_){return _._id}).classed(C.colorbar,!0),O.each(function(_){var B=b.select(this);p.ensureSingle(B,"rect",C.cbbg),p.ensureSingle(B,"g",C.cbfills),p.ensureSingle(B,"g",C.cblines),p.ensureSingle(B,"g",C.cbaxis,function(z){z.classed(C.crisp,!0)}),p.ensureSingle(B,"g",C.cbtitleunshift,function(z){z.append("g").classed(C.cbtitle,!0)}),p.ensureSingle(B,"rect",C.cboutline);var F=A(B,_,k);F&&F.then&&(k._promises||[]).push(F),k._context.edits.colorbarPosition&&i(B,_,k)}),O.exit().each(function(_){s.autoMargin(k,_._id)}).remove(),O.order()}function S(k){var I=k._fullLayout,O=k.calcdata,_=[],B,F,z,N;function W(J){return t(J,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function Z(){typeof N.calc=="function"?N.calc(k,z,B):(B._fillgradient=F.reversescale?g(F.colorscale):F.colorscale,B._zrange=[F[N.min],F[N.max]])}for(var q=0;q<O.length;q++){var re=O[q];if(z=re[0].trace,!!z._module){var le=z._module.colorbar;if(z.visible===!0&&le)for(var ie=Array.isArray(le),K=ie?le:[le],$=0;$<K.length;$++){N=K[$];var X=N.container;F=X?z[X]:z,F&&F.showscale&&(B=W(F.colorbar),B._id="cb"+z.uid+(ie&&X?"-"+X:""),B._traceIndex=z.index,B._propPrefix=(X?X+".":"")+"colorbar.",B._meta=z._meta,Z(),_.push(B))}}}for(var Q in I._colorAxes)if(F=I[Q],F.showscale){var se=I._colorAxes[Q];B=W(F.colorbar),B._id="cb"+Q,B._propPrefix=Q+".colorbar.",B._meta=I._meta,N={min:"cmin",max:"cmax"},se[0]!=="heatmap"&&(z=se[1],N.calc=z._module.colorbar.calc),Z(),_.push(B)}return _}function A(k,I,O){var _=I.orientation==="v",B=I.len,F=I.lenmode,z=I.thickness,N=I.thicknessmode,W=I.outlinewidth,Z=I.borderwidth,q=I.bgcolor,re=I.xanchor,le=I.yanchor,ie=I.xpad,K=I.ypad,$=I.x,X=_?I.y:1-I.y,Q=I.yref==="paper",se=I.xref==="paper",J=O._fullLayout,G=J._size,oe=I._fillcolor,te=I._line,fe=I.title,ge=fe.side,we=I._zrange||b.extent((typeof oe=="function"?oe:te.color).domain()),xe=typeof te.color=="function"?te.color:function(){return te.color},Ce=typeof oe=="function"?oe:function(){return oe},De=I._levels,Oe=E(O,I,we),Te=Oe.fill,Re=Oe.line,Me=Math.round(z*(N==="fraction"?_?G.w:G.h:1)),ke=Me/(_?G.w:G.h),Se=Math.round(B*(F==="fraction"?_?G.h:G.w:1)),He=Se/(_?G.h:G.w),je=se?G.w:O._fullLayout.width,at=Q?G.h:O._fullLayout.height,Ze=Math.round(_?$*je+ie:X*at+K),$e={center:.5,right:1}[re]||0,ut={top:1,middle:.5}[le]||0,ht=_?$-$e*ke:X-ut*ke,vt=_?X-ut*He:$-$e*He,xt=Math.round(_?at*(1-vt):je*vt);I._lenFrac=He,I._thickFrac=ke,I._uFrac=ht,I._vFrac=vt;var St=I._axis=m(O,I,we);St.position=ke+(_?$+ie/G.w:X+K/G.h);var tt=["top","bottom"].indexOf(ge)!==-1;if(_&&tt&&(St.title.side=ge,St.titlex=$+ie/G.w,St.titley=vt+(fe.side==="top"?He-K/G.h:K/G.h)),!_&&!tt&&(St.title.side=ge,St.titley=X+K/G.h,St.titlex=vt+ie/G.w),te.color&&I.tickmode==="auto"){St.tickmode="linear",St.tick0=De.start;var Ie=De.size,Ve=p.constrain(Se/50,4,15)+1,Ge=(we[1]-we[0])/((I.nticks||Ve)*Ie);if(Ge>1){var Xe=Math.pow(10,Math.floor(Math.log(Ge)/Math.LN10));Ie*=Xe*p.roundUp(Ge/Xe,[2,5,10]),(Math.abs(De.start)/De.size+1e-6)%1<2e-6&&(St.tick0=0)}St.dtick=Ie}St.domain=_?[vt+K/G.h,vt+He-K/G.h]:[vt+ie/G.w,vt+He-ie/G.w],St.setScale(),k.attr("transform",r(Math.round(G.l),Math.round(G.t)));var Le=k.select("."+C.cbtitleunshift).attr("transform",r(-Math.round(G.l),-Math.round(G.t))),Fe=St.ticklabelposition,Ue=St.title.font.size,Ee=k.select("."+C.cbaxis),he,ye=0,_e=0;function We(Tt,Lt){var Kt={propContainer:St,propName:I._propPrefix+"title",traceIndex:I._traceIndex,_meta:I._meta,placeholder:J._dfltTitle.colorbar,containerGroup:k.select("."+C.cbtitle)},vr=Tt.charAt(0)==="h"?Tt.substr(1):"h"+Tt;k.selectAll("."+vr+",."+vr+"-math-group").remove(),u.draw(O,Tt,t(Kt,Lt||{}))}function rt(){if(_&&tt||!_&&!tt){var Tt,Lt;ge==="top"&&(Tt=ie+G.l+je*$,Lt=K+G.t+at*(1-vt-He)+3+Ue*.75),ge==="bottom"&&(Tt=ie+G.l+je*$,Lt=K+G.t+at*(1-vt)-3-Ue*.25),ge==="right"&&(Lt=K+G.t+at*X+3+Ue*.75,Tt=ie+G.l+je*vt),We(St._id+"title",{attributes:{x:Tt,y:Lt,"text-anchor":_?"start":"middle"}})}}function st(){if(_&&!tt||!_&&tt){var Tt=St.position||0,Lt=St._offset+St._length/2,Kt,vr;if(ge==="right")vr=Lt,Kt=G.l+je*Tt+10+Ue*(St.showticklabels?1:.5);else if(Kt=Lt,ge==="bottom"&&(vr=G.t+at*Tt+10+(Fe.indexOf("inside")===-1?St.tickfont.size:0)+(St.ticks!=="intside"&&I.ticklen||0)),ge==="top"){var pt=fe.text.split("<br>").length;vr=G.t+at*Tt+10-Me-d*Ue*pt}We((_?"h":"v")+St._id+"title",{avoid:{selection:b.select(O).selectAll("g."+St._id+"tick"),side:ge,offsetTop:_?0:G.t,offsetLeft:_?G.l:0,maxShift:_?J.width:J.height},attributes:{x:Kt,y:vr,"text-anchor":"middle"},transform:{rotate:_?-90:0,offset:0}})}}function Vt(){if(!_&&!tt||_&&tt){var Tt=k.select("."+C.cbtitle),Lt=Tt.select("text"),Kt=[-W/2,W/2],vr=Tt.select(".h"+St._id+"title-math-group").node(),pt=15.6;Lt.node()&&(pt=parseInt(Lt.node().style.fontSize,10)*d);var jt;if(vr?(jt=n.bBox(vr),_e=jt.width,ye=jt.height,ye>pt&&(Kt[1]-=(ye-pt)/2)):Lt.node()&&!Lt.classed(C.jsPlaceholder)&&(jt=n.bBox(Lt.node()),_e=jt.width,ye=jt.height),_){if(ye){if(ye+=5,ge==="top")St.domain[1]-=ye/G.h,Kt[1]*=-1;else{St.domain[0]+=ye/G.h;var $t=f.lineCount(Lt);Kt[1]+=(1-$t)*pt}Tt.attr("transform",r(Kt[0],Kt[1])),St.setScale()}}else _e&&(ge==="right"&&(St.domain[0]+=(_e+Ue/2)/G.w),Tt.attr("transform",r(Kt[0],Kt[1])),St.setScale())}k.selectAll("."+C.cbfills+",."+C.cblines).attr("transform",_?r(0,Math.round(G.h*(1-St.domain[1]))):r(Math.round(G.w*St.domain[0]),0)),Ee.attr("transform",_?r(0,Math.round(-G.t)):r(Math.round(-G.l),0));var mr=k.select("."+C.cbfills).selectAll("rect."+C.cbfill).attr("style","").data(Te);mr.enter().append("rect").classed(C.cbfill,!0).attr("style",""),mr.exit().remove();var or=we.map(St.c2p).map(Math.round).sort(function(kt,Ot){return kt-Ot});mr.each(function(kt,Ot){var Ft=[Ot===0?we[0]:(Te[Ot]+Te[Ot-1])/2,Ot===Te.length-1?we[1]:(Te[Ot]+Te[Ot+1])/2].map(St.c2p).map(Math.round);_&&(Ft[1]=p.constrain(Ft[1]+(Ft[1]>Ft[0])?1:-1,or[0],or[1]));var Bt=b.select(this).attr(_?"x":"y",Ze).attr(_?"y":"x",b.min(Ft)).attr(_?"width":"height",Math.max(Me,2)).attr(_?"height":"width",Math.max(b.max(Ft)-b.min(Ft),2));if(I._fillgradient)n.gradient(Bt,O,I._id,_?"vertical":"horizontalreversed",I._fillgradient,"fill");else{var Jt=Ce(kt).replace("e-","");Bt.attr("fill",P(Jt).toHexString())}});var gt=k.select("."+C.cblines).selectAll("path."+C.cbline).data(te.color&&te.width?Re:[]);gt.enter().append("path").classed(C.cbline,!0),gt.exit().remove(),gt.each(function(kt){var Ot=Ze,Ft=Math.round(St.c2p(kt))+te.width/2%1;b.select(this).attr("d","M"+(_?Ot+","+Ft:Ft+","+Ot)+(_?"h":"v")+Me).call(n.lineGroupStyle,te.width,xe(kt),te.dash)}),Ee.selectAll("g."+St._id+"tick,path").remove();var lt=Ze+Me+(W||0)/2-(I.ticks==="outside"?1:0),bt=M.calcTicks(St),Et=M.getTickSigns(St)[2];return M.drawTicks(O,St,{vals:St.ticks==="inside"?M.clipEnds(St,bt):bt,layer:Ee,path:M.makeTickPath(St,lt,Et),transFn:M.makeTransTickFn(St)}),M.drawLabels(O,St,{vals:bt,layer:Ee,transFn:M.makeTransTickLabelFn(St),labelFns:M.makeLabelFns(St,lt)})}function Xt(){var Tt,Lt=Me+W/2;Fe.indexOf("inside")===-1&&(Tt=n.bBox(Ee.node()),Lt+=_?Tt.width:Tt.height),he=Le.select("text");var Kt=0,vr=_&&ge==="top",pt=!_&&ge==="right",jt=0;if(he.node()&&!he.classed(C.jsPlaceholder)){var $t,mr=Le.select(".h"+St._id+"title-math-group").node();mr&&(_&&tt||!_&&!tt)?(Tt=n.bBox(mr),Kt=Tt.width,$t=Tt.height):(Tt=n.bBox(Le.node()),Kt=Tt.right-G.l-(_?Ze:xt),$t=Tt.bottom-G.t-(_?xt:Ze),!_&&ge==="top"&&(Lt+=Tt.height,jt=Tt.height)),pt&&(he.attr("transform",r(Kt/2+Ue/2,0)),Kt*=2),Lt=Math.max(Lt,_?Kt:$t)}var or=(_?ie:K)*2+Lt+Z+W/2,gt=0;!_&&fe.text&&le==="bottom"&&X<=0&&(gt=or/2,or+=gt,jt+=gt),J._hColorbarMoveTitle=gt,J._hColorbarMoveCBTitle=jt;var lt=Z+W,bt=(_?Ze:xt)-lt/2-(_?ie:0),Et=(_?xt:Ze)-(_?Se:K+jt-gt);k.select("."+C.cbbg).attr("x",bt).attr("y",Et).attr(_?"width":"height",Math.max(or-gt,2)).attr(_?"height":"width",Math.max(Se+lt,2)).call(l.fill,q).call(l.stroke,I.bordercolor).style("stroke-width",Z);var kt=pt?Math.max(Kt-10,0):0;k.selectAll("."+C.cboutline).attr("x",(_?Ze:xt+ie)+kt).attr("y",(_?xt+K-Se:Ze)+(vr?ye:0)).attr(_?"width":"height",Math.max(Me,2)).attr(_?"height":"width",Math.max(Se-(_?2*K+ye:2*ie+kt),2)).call(l.stroke,I.outlinecolor).style({fill:"none","stroke-width":W});var Ot=_?$e*or:0,Ft=_?0:(1-ut)*or-jt;if(Ot=se?G.l-Ot:-Ot,Ft=Q?G.t-Ft:-Ft,k.attr("transform",r(Ot,Ft)),!_&&(Z||P(q).getAlpha()&&!P.equals(J.paper_bgcolor,q))){var Bt=Ee.selectAll("text"),Jt=Bt[0].length,hr=k.select("."+C.cbbg).node(),cr=n.bBox(hr),dr=n.getTranslate(k),fr=2;Bt.each(function(nr,Qt){var Wt=0,yr=Jt-1;if(Qt===Wt||Qt===yr){var Ir=n.bBox(this),Tr=n.getTranslate(this),vn;if(Qt===yr){var Or=Ir.right+Tr.x,En=cr.right+dr.x+xt-Z-fr+$;vn=En-Or,vn>0&&(vn=0)}else if(Qt===Wt){var nn=Ir.left+Tr.x,gr=cr.left+dr.x+xt+Z+fr;vn=gr-nn,vn<0&&(vn=0)}vn&&(Jt<3?this.setAttribute("transform","translate("+vn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Lr={},xr=x[re],Ke=T[re],et=x[le],er=T[le],tr=or-Me;_?(F==="pixels"?(Lr.y=X,Lr.t=Se*et,Lr.b=Se*er):(Lr.t=Lr.b=0,Lr.yt=X+B*et,Lr.yb=X-B*er),N==="pixels"?(Lr.x=$,Lr.l=or*xr,Lr.r=or*Ke):(Lr.l=tr*xr,Lr.r=tr*Ke,Lr.xl=$-z*xr,Lr.xr=$+z*Ke)):(F==="pixels"?(Lr.x=$,Lr.l=Se*xr,Lr.r=Se*Ke):(Lr.l=Lr.r=0,Lr.xl=$+B*xr,Lr.xr=$-B*Ke),N==="pixels"?(Lr.y=1-X,Lr.t=or*et,Lr.b=or*er):(Lr.t=tr*et,Lr.b=tr*er,Lr.yt=X-z*et,Lr.yb=X+z*er));var Yt=I.y<.5?"b":"t",Pt=I.x<.5?"l":"r";O._fullLayout._reservedMargin[I._id]={};var Zt={r:J.width-bt-Ot,l:bt+Lr.r,b:J.height-Et-Ft,t:Et+Lr.b};se&&Q?s.autoMargin(O,I._id,Lr):se?O._fullLayout._reservedMargin[I._id][Yt]=Zt[Yt]:Q||_?O._fullLayout._reservedMargin[I._id][Pt]=Zt[Pt]:O._fullLayout._reservedMargin[I._id][Yt]=Zt[Yt]}return p.syncOrAsync([s.previousPromises,rt,Vt,st,s.previousPromises,Xt],O)}function i(k,I,O){var _=I.orientation==="v",B=O._fullLayout,F=B._size,z,N,W;v.init({element:k.node(),gd:O,prepFn:function(){z=k.attr("transform"),o(k)},moveFn:function(Z,q){k.attr("transform",z+r(Z,q)),N=v.align((_?I._uFrac:I._vFrac)+Z/F.w,_?I._thickFrac:I._lenFrac,0,1,I.xanchor),W=v.align((_?I._vFrac:1-I._uFrac)-q/F.h,_?I._lenFrac:I._thickFrac,0,1,I.yanchor);var re=v.getCursor(N,W,I.xanchor,I.yanchor);o(k,re)},doneFn:function(){if(o(k),N!==void 0&&W!==void 0){var Z={};Z[I._propPrefix+"x"]=N,Z[I._propPrefix+"y"]=W,I._traceIndex!==void 0?L.call("_guiRestyle",O,Z,I._traceIndex):L.call("_guiRelayout",O,Z)}}})}function E(k,I,O){var _=I._levels,B=[],F=[],z,N,W=_.end+_.size/100,Z=_.size,q=1.001*O[0]-.001*O[1],re=1.001*O[1]-.001*O[0];for(N=0;N<1e5&&(z=_.start+N*Z,!(Z>0?z>=W:z<=W));N++)z>q&&z<re&&B.push(z);if(I._fillgradient)F=[0];else if(typeof I._fillcolor=="function"){var le=I._filllevels;if(le)for(W=le.end+le.size/100,Z=le.size,N=0;N<1e5&&(z=le.start+N*Z,!(Z>0?z>=W:z<=W));N++)z>O[0]&&z<O[1]&&F.push(z);else F=B.map(function(ie){return ie-_.size/2}),F.push(F[F.length-1]+_.size)}else I._fillcolor&&typeof I._fillcolor=="string"&&(F=[0]);return _.size<0&&(B.reverse(),F.reverse()),{line:B,fill:F}}function m(k,I,O){var _=k._fullLayout,B=I.orientation==="v",F={type:"linear",range:O,tickmode:I.tickmode,nticks:I.nticks,tick0:I.tick0,dtick:I.dtick,tickvals:I.tickvals,ticktext:I.ticktext,ticks:I.ticks,ticklen:I.ticklen,tickwidth:I.tickwidth,tickcolor:I.tickcolor,showticklabels:I.showticklabels,labelalias:I.labelalias,ticklabelposition:I.ticklabelposition,ticklabeloverflow:I.ticklabeloverflow,ticklabelstep:I.ticklabelstep,tickfont:I.tickfont,tickangle:I.tickangle,tickformat:I.tickformat,exponentformat:I.exponentformat,minexponent:I.minexponent,separatethousands:I.separatethousands,showexponent:I.showexponent,showtickprefix:I.showtickprefix,tickprefix:I.tickprefix,showticksuffix:I.showticksuffix,ticksuffix:I.ticksuffix,title:I.title,showline:!0,anchor:"free",side:B?"right":"bottom",position:1},z=B?"y":"x",N={type:"linear",_id:z+I._id},W={letter:z,font:_.font,noAutotickangles:z==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:_.calendar};function Z(q,re){return p.coerce(F,N,c,q,re)}return h(F,N,Z,W,_),w(F,N,Z,W),N}Y.exports={draw:y}},90553:function(Y,V,e){var b=e(3400);Y.exports=function(s){return b.isPlainObject(s.colorbar)}},55080:function(Y,V,e){Y.exports={moduleType:"component",name:"colorbar",attributes:e(42996),supplyDefaults:e(64013),draw:e(37848).draw,hasColorbar:e(90553)}},49084:function(Y,V,e){var b=e(42996),P=e(53756).counter,s=e(95376),L=e(88304).scales;s(L),Y.exports=function(v,p){v=v||"",p=p||{};var r=p.cLetter||"c";"onlyIfNumerical"in p&&p.onlyIfNumerical;var t="noScale"in p?p.noScale:v==="marker.line",o="showScaleDflt"in p?p.showScaleDflt:r==="z",n=typeof p.colorscaleDflt=="string"?L[p.colorscaleDflt]:null,l=p.editTypeOverride||"",u;"colorAttr"in p?(u=p.colorAttr,p.colorAttr):u={z:"z",c:"color"}[r];var f=r+"auto",g=r+"min",h=r+"max",w=r+"mid",c={};c[g]=c[h]=void 0;var a={};a[f]=!1;var d={};return u==="color"&&(d.color={valType:"color",arrayOk:!0,editType:l||"style"},p.anim&&(d.color.anim=!0)),d[f]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:c},d[g]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:a},d[h]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:a},d[w]={valType:"number",dflt:null,editType:"calc",impliedEdits:c},d.colorscale={valType:"colorscale",editType:"calc",dflt:n,impliedEdits:{autocolorscale:!1}},d.autocolorscale={valType:"boolean",dflt:p.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},d.reversescale={valType:"boolean",dflt:!1,editType:"plot"},t||(d.showscale={valType:"boolean",dflt:o,editType:"calc"},d.colorbar=b),p.noColorAxis||(d.coloraxis={valType:"subplotid",regex:P("coloraxis"),dflt:null,editType:"calc"}),d}},47128:function(Y,V,e){var b=e(38248),P=e(3400),s=e(94288).extractOpts;Y.exports=function(M,v,p){var r=M._fullLayout,t=p.vals,o=p.containerStr,n=o?P.nestedProperty(v,o).get():v,l=s(n),u=l.auto!==!1,f=l.min,g=l.max,h=l.mid,w=function(){return P.aggNums(Math.min,null,t)},c=function(){return P.aggNums(Math.max,null,t)};if(f===void 0?f=w():u&&(n._colorAx&&b(f)?f=Math.min(f,w()):f=w()),g===void 0?g=c():u&&(n._colorAx&&b(g)?g=Math.max(g,c()):g=c()),u&&h!==void 0&&(g-h>h-f?f=h-(g-h):g-h<h-f&&(g=h+(h-f))),f===g&&(f-=.5,g+=.5),l._sync("min",f),l._sync("max",g),l.autocolorscale){var a;f*g<0?a=r.colorscale.diverging:f>=0?a=r.colorscale.sequential:a=r.colorscale.sequentialminus,l._sync("colorscale",a)}}},95504:function(Y,V,e){var b=e(3400),P=e(94288).hasColorscale,s=e(94288).extractOpts;Y.exports=function(M,v){function p(f,g){var h=f["_"+g];h!==void 0&&(f[g]=h)}function r(f,g){var h=g.container?b.nestedProperty(f,g.container).get():f;if(h)if(h.coloraxis)h._colorAx=v[h.coloraxis];else{var w=s(h),c=w.auto;(c||w.min===void 0)&&p(h,g.min),(c||w.max===void 0)&&p(h,g.max),w.autocolorscale&&p(h,"colorscale")}}for(var t=0;t<M.length;t++){var o=M[t],n=o._module.colorbar;if(n)if(Array.isArray(n))for(var l=0;l<n.length;l++)r(o,n[l]);else r(o,n);P(o,"marker.line")&&r(o,{container:"marker.line",min:"cmin",max:"cmax"})}for(var u in v._colorAxes)r(v[u],{min:"cmin",max:"cmax"})}},27260:function(Y,V,e){var b=e(38248),P=e(3400),s=e(90553),L=e(64013),M=e(88304).isValid,v=e(24040).traceIs;function p(r,t){var o=t.slice(0,t.length-1);return t?P.nestedProperty(r,o).get()||{}:r}Y.exports=function r(t,o,n,l,u){var f=u.prefix,g=u.cLetter,h="_module"in o,w=p(t,f),c=p(o,f),a=p(o._template||{},f)||{},d=function(){return delete t.coloraxis,delete o.coloraxis,r(t,o,n,l,u)};if(h){var x=n._colorAxes||{},T=l(f+"coloraxis");if(T){var C=v(o,"contour")&&P.nestedProperty(o,"contours.coloring").get()||"heatmap",y=x[T];y?(y[2].push(d),y[0]!==C&&(y[0]=!1,P.warn(["Ignoring coloraxis:",T,"setting","as it is linked to incompatible colorscales."].join(" ")))):x[T]=[C,o,[d]];return}}var S=w[g+"min"],A=w[g+"max"],i=b(S)&&b(A)&&S<A,E=l(f+g+"auto",!i);E?l(f+g+"mid"):(l(f+g+"min"),l(f+g+"max"));var m=w.colorscale,k=a.colorscale,I;if(m!==void 0&&(I=!M(m)),k!==void 0&&(I=!M(k)),l(f+"autocolorscale",I),l(f+"colorscale"),l(f+"reversescale"),f!=="marker.line."){var O;f&&h&&(O=s(w));var _=l(f+"showscale",O);_&&(f&&a&&(c._template=a),L(w,c,n))}}},94288:function(Y,V,e){var b=e(33428),P=e(49760),s=e(38248),L=e(3400),M=e(76308),v=e(88304).isValid;function p(h,w,c){var a=w?L.nestedProperty(h,w).get()||{}:h,d=a[c||"color"];d&&d._inputArray&&(d=d._inputArray);var x=!1;if(L.isArrayOrTypedArray(d)){for(var T=0;T<d.length;T++)if(s(d[T])){x=!0;break}}return L.isPlainObject(a)&&(x||a.showscale===!0||s(a.cmin)&&s(a.cmax)||v(a.colorscale)||L.isPlainObject(a.colorbar))}var r=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function o(h){var w=h._colorAx,c=w||h,a={},d,x,T;for(x=0;x<r.length;x++)T=r[x],a[T]=c[T];if(w)for(d="c",x=0;x<t.length;x++)T=t[x],a[T]=c["c"+T];else{var C;for(x=0;x<t.length;x++){if(T=t[x],C="c"+T,C in c){a[T]=c[C];continue}C="z"+T,C in c&&(a[T]=c[C])}d=C.charAt(0)}return a._sync=function(y,S){var A=t.indexOf(y)!==-1?d+y:y;c[A]=c["_"+A]=S},a}function n(h){for(var w=o(h),c=w.min,a=w.max,d=w.reversescale?l(w.colorscale):w.colorscale,x=d.length,T=new Array(x),C=new Array(x),y=0;y<x;y++){var S=d[y];T[y]=c+S[0]*(a-c),C[y]=S[1]}return{domain:T,range:C}}function l(h){for(var w=h.length,c=new Array(w),a=w-1,d=0;a>=0;a--,d++){var x=h[a];c[d]=[1-x[0],x[1]]}return c}function u(h,w){w=w||{};for(var c=h.domain,a=h.range,d=a.length,x=new Array(d),T=0;T<d;T++){var C=P(a[T]).toRgb();x[T]=[C.r,C.g,C.b,C.a]}var y=b.scale.linear().domain(c).range(x).clamp(!0),S=w.noNumericCheck,A=w.returnArray,i;return S&&A?i=y:S?i=function(E){return g(y(E))}:A?i=function(E){return s(E)?y(E):P(E).isValid()?E:M.defaultLine}:i=function(E){return s(E)?g(y(E)):P(E).isValid()?E:M.defaultLine},i.domain=y.domain,i.range=function(){return a},i}function f(h,w){return u(n(h),w)}function g(h){var w={r:h[0],g:h[1],b:h[2],a:h[3]};return P(w).toRgbString()}Y.exports={hasColorscale:p,extractOpts:o,extractScale:n,flipScale:l,makeColorScaleFunc:u,makeColorScaleFuncFromTrace:f}},8932:function(Y,V,e){var b=e(88304),P=e(94288);Y.exports={moduleType:"component",name:"colorscale",attributes:e(49084),layoutAttributes:e(92332),supplyLayoutDefaults:e(51608),handleDefaults:e(27260),crossTraceDefaults:e(95504),calc:e(47128),scales:b.scales,defaultScale:b.defaultScale,getScale:b.get,isValidScale:b.isValid,hasColorscale:P.hasColorscale,extractOpts:P.extractOpts,extractScale:P.extractScale,flipScale:P.flipScale,makeColorScaleFunc:P.makeColorScaleFunc,makeColorScaleFuncFromTrace:P.makeColorScaleFuncFromTrace}},92332:function(Y,V,e){var b=e(92880).extendFlat,P=e(49084),s=e(88304).scales;Y.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:s.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:s.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:s.RdBu,editType:"calc"}},coloraxis:b({_isSubplotObj:!0,editType:"calc"},P("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},51608:function(Y,V,e){var b=e(3400),P=e(31780),s=e(92332),L=e(27260);Y.exports=function(v,p){function r(h,w){return b.coerce(v,p,s,h,w)}r("colorscale.sequential"),r("colorscale.sequentialminus"),r("colorscale.diverging");var t=p._colorAxes,o,n;function l(h,w){return b.coerce(o,n,s.coloraxis,h,w)}for(var u in t){var f=t[u];if(f[0])o=v[u]||{},n=P.newContainer(p,u,"coloraxis"),n._name=u,L(o,n,p,l,{prefix:"",cLetter:"c"});else{for(var g=0;g<f[2].length;g++)f[2][g]();delete p._colorAxes[u]}}}},88304:function(Y,V,e){var b=e(49760),P={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},s=P.RdBu;function L(p,r){if(r||(r=s),!p)return r;function t(){try{p=P[p]||JSON.parse(p)}catch{p=r}}return typeof p=="string"&&(t(),typeof p=="string"&&t()),M(p)?p:r}function M(p){var r=0;if(!Array.isArray(p)||p.length<2||!p[0]||!p[p.length-1]||+p[0][0]!=0||+p[p.length-1][0]!=1)return!1;for(var t=0;t<p.length;t++){var o=p[t];if(o.length!==2||+o[0]<r||!b(o[1]).isValid())return!1;r=+o[0]}return!0}function v(p){return P[p]!==void 0?!0:M(p)}Y.exports={scales:P,defaultScale:s,get:L,isValid:v}},78316:function(Y){Y.exports=function(e,b,P,s,L){var M=(e-P)/(s-P),v=M+b/(s-P),p=(M+v)/2;return L==="left"||L==="bottom"?M:L==="center"||L==="middle"?p:L==="right"||L==="top"?v:M<.6666666666666666-p?M:v>1.3333333333333333-p?v:p}},67416:function(Y,V,e){var b=e(3400),P=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];Y.exports=function(L,M,v,p){return v==="left"?L=0:v==="center"?L=1:v==="right"?L=2:L=b.constrain(Math.floor(L*3),0,2),p==="bottom"?M=0:p==="middle"?M=1:p==="top"?M=2:M=b.constrain(Math.floor(M*3),0,2),P[M][L]}},72760:function(Y,V){V.selectMode=function(e){return e==="lasso"||e==="select"},V.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},V.openMode=function(e){return e==="drawline"||e==="drawopenpath"},V.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},V.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},V.selectingOrDrawing=function(e){return V.freeMode(e)||V.rectMode(e)}},86476:function(Y,V,e){var b=e(29128),P=e(52264),s=e(89184),L=e(3400).removeElement,M=e(33816),v=Y.exports={};v.align=e(78316),v.getCursor=e(67416);var p=e(2616);v.unhover=p.wrapped,v.unhoverRaw=p.raw,v.init=function(n){var l=n.gd,u=1,f=l._context.doubleClickDelay,g=n.element,h,w,c,a,d,x,T,C;l._mouseDownTime||(l._mouseDownTime=0),g.style.pointerEvents="all",g.onmousedown=A,s?(g._ontouchstart&&g.removeEventListener("touchstart",g._ontouchstart),g._ontouchstart=A,g.addEventListener("touchstart",A,{passive:!1})):g.ontouchstart=A;function y(m,k,I){return Math.abs(m)<I&&(m=0),Math.abs(k)<I&&(k=0),[m,k]}var S=n.clampFn||y;function A(m){l._dragged=!1,l._dragging=!0;var k=t(m);h=k[0],w=k[1],T=m.target,x=m,C=m.buttons===2||m.ctrlKey,typeof m.clientX>"u"&&typeof m.clientY>"u"&&(m.clientX=h,m.clientY=w),c=new Date().getTime(),c-l._mouseDownTime<f?u+=1:(u=1,l._mouseDownTime=c),n.prepFn&&n.prepFn(m,h,w),P&&!C?(d=r(),d.style.cursor=window.getComputedStyle(g).cursor):P||(d=document,a=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(g).cursor),document.addEventListener("mouseup",E),document.addEventListener("touchend",E),n.dragmode!==!1&&(m.preventDefault(),document.addEventListener("mousemove",i),document.addEventListener("touchmove",i,{passive:!1}))}function i(m){m.preventDefault();var k=t(m),I=n.minDrag||M.MINDRAG,O=S(k[0]-h,k[1]-w,I),_=O[0],B=O[1];(_||B)&&(l._dragged=!0,v.unhover(l,m)),l._dragged&&n.moveFn&&!C&&(l._dragdata={element:g,dx:_,dy:B},n.moveFn(_,B))}function E(m){if(delete l._dragdata,n.dragmode!==!1&&(m.preventDefault(),document.removeEventListener("mousemove",i),document.removeEventListener("touchmove",i)),document.removeEventListener("mouseup",E),document.removeEventListener("touchend",E),P?L(d):a&&(d.documentElement.style.cursor=a,a=null),!l._dragging){l._dragged=!1;return}if(l._dragging=!1,new Date().getTime()-l._mouseDownTime>f&&(u=Math.max(u-1,1)),l._dragged)n.doneFn&&n.doneFn();else if(n.clickFn&&n.clickFn(u,x),!C){var k;try{k=new MouseEvent("click",m)}catch{var I=t(m);k=document.createEvent("MouseEvents"),k.initMouseEvent("click",m.bubbles,m.cancelable,m.view,m.detail,m.screenX,m.screenY,I[0],I[1],m.ctrlKey,m.altKey,m.shiftKey,m.metaKey,m.button,m.relatedTarget)}T.dispatchEvent(k)}l._dragging=!1,l._dragged=!1}};function r(){var o=document.createElement("div");o.className="dragcover";var n=o.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(o),o}v.coverSlip=r;function t(o){return b(o.changedTouches?o.changedTouches[0]:o,document.body)}},2616:function(Y,V,e){var b=e(95924),P=e(91200),s=e(52200).getGraphDiv,L=e(92456),M=Y.exports={};M.wrapped=function(v,p,r){v=s(v),v._fullLayout&&P.clear(v._fullLayout._uid+L.HOVERID),M.raw(v,p,r)},M.raw=function(p,r){var t=p._fullLayout,o=p._hoverdata;r||(r={}),!(r.target&&!p._dragged&&b.triggerHandler(p,"plotly_beforehover",r)===!1)&&(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),p._hoverdata=void 0,r.target&&o&&p.emit("plotly_unhover",{event:r,points:o}))}},98192:function(Y,V){V.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},V.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},43616:function(Y,V,e){var b=e(33428),P=e(3400),s=P.numberFormat,L=e(38248),M=e(49760),v=e(24040),p=e(76308),r=e(8932),t=P.strTranslate,o=e(72736),n=e(9616),l=e(84284),u=l.LINE_SPACING,f=e(13448).DESELECTDIM,g=e(43028),h=e(7152),w=e(10624).appendArrayPointValue,c=Y.exports={};c.font=function(Me,ke){var Se=ke.variant,He=ke.style,je=ke.weight,at=ke.color,Ze=ke.size,$e=ke.family,ut=ke.shadow,ht=ke.lineposition,vt=ke.textcase;$e&&Me.style("font-family",$e),Ze+1&&Me.style("font-size",Ze+"px"),at&&Me.call(p.fill,at),je&&Me.style("font-weight",je),He&&Me.style("font-style",He),Se&&Me.style("font-variant",Se),vt&&Me.style("text-transform",a(x(vt))),ut&&Me.style("text-shadow",ut==="auto"?o.makeTextShadow(p.contrast(at)):a(ut)),ht&&Me.style("text-decoration-line",a(T(ht)))};function a(Me){return Me==="none"?void 0:Me}var d={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function x(Me){return d[Me]}function T(Me){return Me.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}c.setPosition=function(Me,ke,Se){Me.attr("x",ke).attr("y",Se)},c.setSize=function(Me,ke,Se){Me.attr("width",ke).attr("height",Se)},c.setRect=function(Me,ke,Se,He,je){Me.call(c.setPosition,ke,Se).call(c.setSize,He,je)},c.translatePoint=function(Me,ke,Se,He){var je=Se.c2p(Me.x),at=He.c2p(Me.y);if(L(je)&&L(at)&&ke.node())ke.node().nodeName==="text"?ke.attr("x",je).attr("y",at):ke.attr("transform",t(je,at));else return!1;return!0},c.translatePoints=function(Me,ke,Se){Me.each(function(He){var je=b.select(this);c.translatePoint(He,je,ke,Se)})},c.hideOutsideRangePoint=function(Me,ke,Se,He,je,at){ke.attr("display",Se.isPtWithinRange(Me,je)&&He.isPtWithinRange(Me,at)?null:"none")},c.hideOutsideRangePoints=function(Me,ke){if(ke._hasClipOnAxisFalse){var Se=ke.xaxis,He=ke.yaxis;Me.each(function(je){var at=je[0].trace,Ze=at.xcalendar,$e=at.ycalendar,ut=v.traceIs(at,"bar-like")?".bartext":".point,.textpoint";Me.selectAll(ut).each(function(ht){c.hideOutsideRangePoint(ht,b.select(this),Se,He,Ze,$e)})})}},c.crispRound=function(Me,ke,Se){return!ke||!L(ke)?Se||0:Me._context.staticPlot?ke:ke<1?1:Math.round(ke)},c.singleLineStyle=function(Me,ke,Se,He,je){ke.style("fill","none");var at=(((Me||[])[0]||{}).trace||{}).line||{},Ze=Se||at.width||0,$e=je||at.dash||"";p.stroke(ke,He||at.color),c.dashLine(ke,$e,Ze)},c.lineGroupStyle=function(Me,ke,Se,He){Me.style("fill","none").each(function(je){var at=(((je||[])[0]||{}).trace||{}).line||{},Ze=ke||at.width||0,$e=He||at.dash||"";b.select(this).call(p.stroke,Se||at.color).call(c.dashLine,$e,Ze)})},c.dashLine=function(Me,ke,Se){Se=+Se||0,ke=c.dashStyle(ke,Se),Me.style({"stroke-dasharray":ke,"stroke-width":Se+"px"})},c.dashStyle=function(Me,ke){ke=+ke||1;var Se=Math.max(ke,3);return Me==="solid"?Me="":Me==="dot"?Me=Se+"px,"+Se+"px":Me==="dash"?Me=3*Se+"px,"+3*Se+"px":Me==="longdash"?Me=5*Se+"px,"+5*Se+"px":Me==="dashdot"?Me=3*Se+"px,"+Se+"px,"+Se+"px,"+Se+"px":Me==="longdashdot"&&(Me=5*Se+"px,"+2*Se+"px,"+Se+"px,"+2*Se+"px"),Me};function C(Me,ke,Se,He){var je=ke.fillpattern,at=ke.fillgradient,Ze=je&&c.getPatternAttr(je.shape,0,"");if(Ze){var $e=c.getPatternAttr(je.bgcolor,0,null),ut=c.getPatternAttr(je.fgcolor,0,null),ht=je.fgopacity,vt=c.getPatternAttr(je.size,0,8),xt=c.getPatternAttr(je.solidity,0,.3),St=ke.uid;c.pattern(Me,"point",Se,St,Ze,vt,xt,void 0,je.fillmode,$e,ut,ht)}else if(at&&at.type!=="none"){var tt=at.type,Ie="scatterfill-"+ke.uid;if(He&&(Ie="legendfill-"+ke.uid),!He&&(at.start!==void 0||at.stop!==void 0)){var Ve,Ge;tt==="horizontal"?(Ve={x:at.start,y:0},Ge={x:at.stop,y:0}):tt==="vertical"&&(Ve={x:0,y:at.start},Ge={x:0,y:at.stop}),Ve.x=ke._xA.c2p(Ve.x===void 0?ke._extremes.x.min[0].val:Ve.x,!0),Ve.y=ke._yA.c2p(Ve.y===void 0?ke._extremes.y.min[0].val:Ve.y,!0),Ge.x=ke._xA.c2p(Ge.x===void 0?ke._extremes.x.max[0].val:Ge.x,!0),Ge.y=ke._yA.c2p(Ge.y===void 0?ke._extremes.y.max[0].val:Ge.y,!0),Me.call(k,Se,Ie,"linear",at.colorscale,"fill",Ve,Ge,!0,!1)}else tt==="horizontal"&&(tt=tt+"reversed"),Me.call(c.gradient,Se,Ie,tt,at.colorscale,"fill")}else ke.fillcolor&&Me.call(p.fill,ke.fillcolor)}c.singleFillStyle=function(Me,ke){var Se=b.select(Me.node()),He=Se.data(),je=((He[0]||[])[0]||{}).trace||{};C(Me,je,ke,!1)},c.fillGroupStyle=function(Me,ke,Se){Me.style("stroke-width",0).each(function(He){var je=b.select(this);He[0].trace&&C(je,He[0].trace,ke,Se)})};var y=e(71984);c.symbolNames=[],c.symbolFuncs=[],c.symbolBackOffs=[],c.symbolNeedLines={},c.symbolNoDot={},c.symbolNoFill={},c.symbolList=[],Object.keys(y).forEach(function(Me){var ke=y[Me],Se=ke.n;c.symbolList.push(Se,String(Se),Me,Se+100,String(Se+100),Me+"-open"),c.symbolNames[Se]=Me,c.symbolFuncs[Se]=ke.f,c.symbolBackOffs[Se]=ke.backoff||0,ke.needLine&&(c.symbolNeedLines[Se]=!0),ke.noDot?c.symbolNoDot[Se]=!0:c.symbolList.push(Se+200,String(Se+200),Me+"-dot",Se+300,String(Se+300),Me+"-open-dot"),ke.noFill&&(c.symbolNoFill[Se]=!0)});var S=c.symbolNames.length,A="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";c.symbolNumber=function(Me){if(L(Me))Me=+Me;else if(typeof Me=="string"){var ke=0;Me.indexOf("-open")>0&&(ke=100,Me=Me.replace("-open","")),Me.indexOf("-dot")>0&&(ke+=200,Me=Me.replace("-dot","")),Me=c.symbolNames.indexOf(Me),Me>=0&&(Me+=ke)}return Me%100>=S||Me>=400?0:Math.floor(Math.max(Me,0))};function i(Me,ke,Se,He){var je=Me%100;return c.symbolFuncs[je](ke,Se,He)+(Me>=200?A:"")}var E=s("~f"),m={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};c.gradient=function(Me,ke,Se,He,je,at){var Ze=m[He];return k(Me,ke,Se,Ze.type,je,at,Ze.start,Ze.stop,!1,Ze.reversed)};function k(Me,ke,Se,He,je,at,Ze,$e,ut,ht){var vt=je.length,xt;He==="linear"?xt={node:"linearGradient",attrs:{x1:Ze.x,y1:Ze.y,x2:$e.x,y2:$e.y,gradientUnits:ut?"userSpaceOnUse":"objectBoundingBox"},reversed:ht}:He==="radial"&&(xt={node:"radialGradient",reversed:ht});for(var St=new Array(vt),tt=0;tt<vt;tt++)xt.reversed?St[vt-1-tt]=[E((1-je[tt][0])*100),je[tt][1]]:St[tt]=[E(je[tt][0]*100),je[tt][1]];var Ie=ke._fullLayout,Ve="g"+Ie._uid+"-"+Se,Ge=Ie._defs.select(".gradients").selectAll("#"+Ve).data([He+St.join(";")],P.identity);Ge.exit().remove(),Ge.enter().append(xt.node).each(function(){var Xe=b.select(this);xt.attrs&&Xe.attr(xt.attrs),Xe.attr("id",Ve);var Le=Xe.selectAll("stop").data(St);Le.exit().remove(),Le.enter().append("stop"),Le.each(function(Fe){var Ue=M(Fe[1]);b.select(this).attr({offset:Fe[0]+"%","stop-color":p.tinyRGB(Ue),"stop-opacity":Ue.getAlpha()})})}),Me.style(at,Q(Ve,ke)).style(at+"-opacity",null),Me.classed("gradient_filled",!0)}c.pattern=function(Me,ke,Se,He,je,at,Ze,$e,ut,ht,vt,xt){var St=ke==="legend";$e&&(ut==="overlay"?(ht=$e,vt=p.contrast(ht)):(ht=void 0,vt=$e));var tt=Se._fullLayout,Ie="p"+tt._uid+"-"+He,Ve,Ge,Xe=function(Xt,Tt,Lt,Kt,vr){return Kt+(vr-Kt)*(Xt-Tt)/(Lt-Tt)},Le,Fe,Ue,Ee,he={},ye=M(vt),_e=p.tinyRGB(ye),We=ye.getAlpha(),rt=xt*We;switch(je){case"/":Ve=at*Math.sqrt(2),Ge=at*Math.sqrt(2),Le="M-"+Ve/4+","+Ge/4+"l"+Ve/2+",-"+Ge/2+"M0,"+Ge+"L"+Ve+",0M"+Ve/4*3+","+Ge/4*5+"l"+Ve/2+",-"+Ge/2,Fe=Ze*at,Ee="path",he={d:Le,opacity:rt,stroke:_e,"stroke-width":Fe+"px"};break;case"\\":Ve=at*Math.sqrt(2),Ge=at*Math.sqrt(2),Le="M"+Ve/4*3+",-"+Ge/4+"l"+Ve/2+","+Ge/2+"M0,0L"+Ve+","+Ge+"M-"+Ve/4+","+Ge/4*3+"l"+Ve/2+","+Ge/2,Fe=Ze*at,Ee="path",he={d:Le,opacity:rt,stroke:_e,"stroke-width":Fe+"px"};break;case"x":Ve=at*Math.sqrt(2),Ge=at*Math.sqrt(2),Le="M-"+Ve/4+","+Ge/4+"l"+Ve/2+",-"+Ge/2+"M0,"+Ge+"L"+Ve+",0M"+Ve/4*3+","+Ge/4*5+"l"+Ve/2+",-"+Ge/2+"M"+Ve/4*3+",-"+Ge/4+"l"+Ve/2+","+Ge/2+"M0,0L"+Ve+","+Ge+"M-"+Ve/4+","+Ge/4*3+"l"+Ve/2+","+Ge/2,Fe=at-at*Math.sqrt(1-Ze),Ee="path",he={d:Le,opacity:rt,stroke:_e,"stroke-width":Fe+"px"};break;case"|":Ve=at,Ge=at,Ee="path",Le="M"+Ve/2+",0L"+Ve/2+","+Ge,Fe=Ze*at,Ee="path",he={d:Le,opacity:rt,stroke:_e,"stroke-width":Fe+"px"};break;case"-":Ve=at,Ge=at,Ee="path",Le="M0,"+Ge/2+"L"+Ve+","+Ge/2,Fe=Ze*at,Ee="path",he={d:Le,opacity:rt,stroke:_e,"stroke-width":Fe+"px"};break;case"+":Ve=at,Ge=at,Ee="path",Le="M"+Ve/2+",0L"+Ve/2+","+Ge+"M0,"+Ge/2+"L"+Ve+","+Ge/2,Fe=at-at*Math.sqrt(1-Ze),Ee="path",he={d:Le,opacity:rt,stroke:_e,"stroke-width":Fe+"px"};break;case".":Ve=at,Ge=at,Ze<Math.PI/4?Ue=Math.sqrt(Ze*at*at/Math.PI):Ue=Xe(Ze,Math.PI/4,1,at/2,at/Math.sqrt(2)),Ee="circle",he={cx:Ve/2,cy:Ge/2,r:Ue,opacity:rt,fill:_e};break}var st=[je||"noSh",ht||"noBg",vt||"noFg",at,Ze].join(";"),Vt=tt._defs.select(".patterns").selectAll("#"+Ie).data([st],P.identity);Vt.exit().remove(),Vt.enter().append("pattern").each(function(){var Xt=b.select(this);if(Xt.attr({id:Ie,width:Ve+"px",height:Ge+"px",patternUnits:"userSpaceOnUse",patternTransform:St?"scale(0.8)":""}),ht){var Tt=M(ht),Lt=p.tinyRGB(Tt),Kt=Tt.getAlpha(),vr=Xt.selectAll("rect").data([0]);vr.exit().remove(),vr.enter().append("rect").attr({width:Ve+"px",height:Ge+"px",fill:Lt,"fill-opacity":Kt})}var pt=Xt.selectAll(Ee).data([0]);pt.exit().remove(),pt.enter().append(Ee).attr(he)}),Me.style("fill",Q(Ie,Se)).style("fill-opacity",null),Me.classed("pattern_filled",!0)},c.initGradients=function(Me){var ke=Me._fullLayout,Se=P.ensureSingle(ke._defs,"g","gradients");Se.selectAll("linearGradient,radialGradient").remove(),b.select(Me).selectAll(".gradient_filled").classed("gradient_filled",!1)},c.initPatterns=function(Me){var ke=Me._fullLayout,Se=P.ensureSingle(ke._defs,"g","patterns");Se.selectAll("pattern").remove(),b.select(Me).selectAll(".pattern_filled").classed("pattern_filled",!1)},c.getPatternAttr=function(Me,ke,Se){return Me&&P.isArrayOrTypedArray(Me)?ke<Me.length?Me[ke]:Se:Me},c.pointStyle=function(Me,ke,Se,He){if(Me.size()){var je=c.makePointStyleFns(ke);Me.each(function(at){c.singlePointStyle(at,b.select(this),ke,je,Se,He)})}},c.singlePointStyle=function(Me,ke,Se,He,je,at){var Ze=Se.marker,$e=Ze.line;if(at&&at.i>=0&&Me.i===void 0&&(Me.i=at.i),ke.style("opacity",He.selectedOpacityFn?He.selectedOpacityFn(Me):Me.mo===void 0?Ze.opacity:Me.mo),He.ms2mrc){var ut;Me.ms==="various"||Ze.size==="various"?ut=3:ut=He.ms2mrc(Me.ms),Me.mrc=ut,He.selectedSizeFn&&(ut=Me.mrc=He.selectedSizeFn(Me));var ht=c.symbolNumber(Me.mx||Ze.symbol)||0;Me.om=ht%200>=100;var vt=Re(Me,Se),xt=G(Me,Se);ke.attr("d",i(ht,ut,vt,xt))}var St=!1,tt,Ie,Ve;if(Me.so)Ve=$e.outlierwidth,Ie=$e.outliercolor,tt=Ze.outliercolor;else{var Ge=($e||{}).width;Ve=(Me.mlw+1||Ge+1||(Me.trace?(Me.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Me?Ie=Me.mlcc=He.lineScale(Me.mlc):P.isArrayOrTypedArray($e.color)?Ie=p.defaultLine:Ie=$e.color,P.isArrayOrTypedArray(Ze.color)&&(tt=p.defaultLine,St=!0),"mc"in Me?tt=Me.mcc=He.markerScale(Me.mc):tt=Ze.color||Ze.colors||"rgba(0,0,0,0)",He.selectedColorFn&&(tt=He.selectedColorFn(Me))}if(Me.om)ke.call(p.stroke,tt).style({"stroke-width":(Ve||1)+"px",fill:"none"});else{ke.style("stroke-width",(Me.isBlank?0:Ve)+"px");var Xe=Ze.gradient,Le=Me.mgt;Le?St=!0:Le=Xe&&Xe.type,P.isArrayOrTypedArray(Le)&&(Le=Le[0],m[Le]||(Le=0));var Fe=Ze.pattern,Ue=Fe&&c.getPatternAttr(Fe.shape,Me.i,"");if(Le&&Le!=="none"){var Ee=Me.mgc;Ee?St=!0:Ee=Xe.color;var he=Se.uid;St&&(he+="-"+Me.i),c.gradient(ke,je,he,Le,[[0,Ee],[1,tt]],"fill")}else if(Ue){var ye=!1,_e=Fe.fgcolor;!_e&&at&&at.color&&(_e=at.color,ye=!0);var We=c.getPatternAttr(_e,Me.i,at&&at.color||null),rt=c.getPatternAttr(Fe.bgcolor,Me.i,null),st=Fe.fgopacity,Vt=c.getPatternAttr(Fe.size,Me.i,8),Xt=c.getPatternAttr(Fe.solidity,Me.i,.3);ye=ye||Me.mcc||P.isArrayOrTypedArray(Fe.shape)||P.isArrayOrTypedArray(Fe.bgcolor)||P.isArrayOrTypedArray(Fe.fgcolor)||P.isArrayOrTypedArray(Fe.size)||P.isArrayOrTypedArray(Fe.solidity);var Tt=Se.uid;ye&&(Tt+="-"+Me.i),c.pattern(ke,"point",je,Tt,Ue,Vt,Xt,Me.mcc,Fe.fillmode,rt,We,st)}else P.isArrayOrTypedArray(tt)?p.fill(ke,tt[Me.i]):p.fill(ke,tt);Ve&&p.stroke(ke,Ie)}},c.makePointStyleFns=function(Me){var ke={},Se=Me.marker;return ke.markerScale=c.tryColorscale(Se,""),ke.lineScale=c.tryColorscale(Se,"line"),v.traceIs(Me,"symbols")&&(ke.ms2mrc=g.isBubble(Me)?h(Me):function(){return(Se.size||6)/2}),Me.selectedpoints&&P.extendFlat(ke,c.makeSelectedPointStyleFns(Me)),ke},c.makeSelectedPointStyleFns=function(Me){var ke={},Se=Me.selected||{},He=Me.unselected||{},je=Me.marker||{},at=Se.marker||{},Ze=He.marker||{},$e=je.opacity,ut=at.opacity,ht=Ze.opacity,vt=ut!==void 0,xt=ht!==void 0;(P.isArrayOrTypedArray($e)||vt||xt)&&(ke.selectedOpacityFn=function(Ue){var Ee=Ue.mo===void 0?je.opacity:Ue.mo;return Ue.selected?vt?ut:Ee:xt?ht:f*Ee});var St=je.color,tt=at.color,Ie=Ze.color;(tt||Ie)&&(ke.selectedColorFn=function(Ue){var Ee=Ue.mcc||St;return Ue.selected?tt||Ee:Ie||Ee});var Ve=je.size,Ge=at.size,Xe=Ze.size,Le=Ge!==void 0,Fe=Xe!==void 0;return v.traceIs(Me,"symbols")&&(Le||Fe)&&(ke.selectedSizeFn=function(Ue){var Ee=Ue.mrc||Ve/2;return Ue.selected?Le?Ge/2:Ee:Fe?Xe/2:Ee}),ke},c.makeSelectedTextStyleFns=function(Me){var ke={},Se=Me.selected||{},He=Me.unselected||{},je=Me.textfont||{},at=Se.textfont||{},Ze=He.textfont||{},$e=je.color,ut=at.color,ht=Ze.color;return ke.selectedTextColorFn=function(vt){var xt=vt.tc||$e;return vt.selected?ut||xt:ht||(ut?xt:p.addOpacity(xt,f))},ke},c.selectedPointStyle=function(Me,ke){if(!(!Me.size()||!ke.selectedpoints)){var Se=c.makeSelectedPointStyleFns(ke),He=ke.marker||{},je=[];Se.selectedOpacityFn&&je.push(function(at,Ze){at.style("opacity",Se.selectedOpacityFn(Ze))}),Se.selectedColorFn&&je.push(function(at,Ze){p.fill(at,Se.selectedColorFn(Ze))}),Se.selectedSizeFn&&je.push(function(at,Ze){var $e=Ze.mx||He.symbol||0,ut=Se.selectedSizeFn(Ze);at.attr("d",i(c.symbolNumber($e),ut,Re(Ze,ke),G(Ze,ke))),Ze.mrc2=ut}),je.length&&Me.each(function(at){for(var Ze=b.select(this),$e=0;$e<je.length;$e++)je[$e](Ze,at)})}},c.tryColorscale=function(Me,ke){var Se=ke?P.nestedProperty(Me,ke).get():Me;if(Se){var He=Se.color;if((Se.colorscale||Se._colorAx)&&P.isArrayOrTypedArray(He))return r.makeColorScaleFuncFromTrace(Se)}return P.identity};var I={start:1,end:-1,middle:0,bottom:1,top:-1};function O(Me,ke,Se,He,je){var at=b.select(Me.node().parentNode),Ze=ke.indexOf("top")!==-1?"top":ke.indexOf("bottom")!==-1?"bottom":"middle",$e=ke.indexOf("left")!==-1?"end":ke.indexOf("right")!==-1?"start":"middle",ut=He?He/.8+1:0,ht=(o.lineCount(Me)-1)*u+1,vt=I[$e]*ut,xt=Se*.75+I[Ze]*ut+(I[Ze]-1)*ht*Se/2;Me.attr("text-anchor",$e),je||at.attr("transform",t(vt,xt))}function _(Me,ke){var Se=Me.ts||ke.textfont.size;return L(Se)&&Se>0?Se:0}c.textPointStyle=function(Me,ke,Se){if(Me.size()){var He;if(ke.selectedpoints){var je=c.makeSelectedTextStyleFns(ke);He=je.selectedTextColorFn}var at=ke.texttemplate,Ze=Se._fullLayout;Me.each(function($e){var ut=b.select(this),ht=at?P.extractOption($e,ke,"txt","texttemplate"):P.extractOption($e,ke,"tx","text");if(!ht&&ht!==0){ut.remove();return}if(at){var vt=ke._module.formatLabels,xt=vt?vt($e,ke,Ze):{},St={};w(St,ke,$e.i);var tt=ke._meta||{};ht=P.texttemplateString(ht,xt,Ze._d3locale,St,$e,tt)}var Ie=$e.tp||ke.textposition,Ve=_($e,ke),Ge=He?He($e):$e.tc||ke.textfont.color;ut.call(c.font,{family:$e.tf||ke.textfont.family,weight:$e.tw||ke.textfont.weight,style:$e.ty||ke.textfont.style,variant:$e.tv||ke.textfont.variant,textcase:$e.tC||ke.textfont.textcase,lineposition:$e.tE||ke.textfont.lineposition,shadow:$e.tS||ke.textfont.shadow,size:Ve,color:Ge}).text(ht).call(o.convertToTspans,Se).call(O,Ie,Ve,$e.mrc)})}},c.selectedTextStyle=function(Me,ke){if(!(!Me.size()||!ke.selectedpoints)){var Se=c.makeSelectedTextStyleFns(ke);Me.each(function(He){var je=b.select(this),at=Se.selectedTextColorFn(He),Ze=He.tp||ke.textposition,$e=_(He,ke);p.fill(je,at);var ut=v.traceIs(ke,"bar-like");O(je,Ze,$e,He.mrc2||He.mrc,ut)})}};var B=.5;c.smoothopen=function(Me,ke){if(Me.length<3)return"M"+Me.join("L");var Se="M"+Me[0],He=[],je;for(je=1;je<Me.length-1;je++)He.push(q(Me[je-1],Me[je],Me[je+1],ke));for(Se+="Q"+He[0][0]+" "+Me[1],je=2;je<Me.length-1;je++)Se+="C"+He[je-2][1]+" "+He[je-1][0]+" "+Me[je];return Se+="Q"+He[Me.length-3][1]+" "+Me[Me.length-1],Se},c.smoothclosed=function(Me,ke){if(Me.length<3)return"M"+Me.join("L")+"Z";var Se="M"+Me[0],He=Me.length-1,je=[q(Me[He],Me[0],Me[1],ke)],at;for(at=1;at<He;at++)je.push(q(Me[at-1],Me[at],Me[at+1],ke));for(je.push(q(Me[He-1],Me[He],Me[0],ke)),at=1;at<=He;at++)Se+="C"+je[at-1][1]+" "+je[at][0]+" "+Me[at];return Se+="C"+je[He][1]+" "+je[0][0]+" "+Me[0]+"Z",Se};var F,z;function N(Me,ke,Se){return Se&&(Me=ie(Me)),ke?Z(Me[1]):W(Me[0])}function W(Me){var ke=b.round(Me,2);return F=ke,ke}function Z(Me){var ke=b.round(Me,2);return z=ke,ke}function q(Me,ke,Se,He){var je=Me[0]-ke[0],at=Me[1]-ke[1],Ze=Se[0]-ke[0],$e=Se[1]-ke[1],ut=Math.pow(je*je+at*at,B/2),ht=Math.pow(Ze*Ze+$e*$e,B/2),vt=(ht*ht*je-ut*ut*Ze)*He,xt=(ht*ht*at-ut*ut*$e)*He,St=3*ht*(ut+ht),tt=3*ut*(ut+ht);return[[W(ke[0]+(St&&vt/St)),Z(ke[1]+(St&&xt/St))],[W(ke[0]-(tt&&vt/tt)),Z(ke[1]-(tt&&xt/tt))]]}var re={hv:function(Me,ke,Se){return"H"+W(ke[0])+"V"+N(ke,1,Se)},vh:function(Me,ke,Se){return"V"+Z(ke[1])+"H"+N(ke,0,Se)},hvh:function(Me,ke,Se){return"H"+W((Me[0]+ke[0])/2)+"V"+Z(ke[1])+"H"+N(ke,0,Se)},vhv:function(Me,ke,Se){return"V"+Z((Me[1]+ke[1])/2)+"H"+W(ke[0])+"V"+N(ke,1,Se)}},le=function(Me,ke,Se){return"L"+N(ke,0,Se)+","+N(ke,1,Se)};c.steps=function(Me){var ke=re[Me]||le;return function(Se){for(var He="M"+W(Se[0][0])+","+Z(Se[0][1]),je=Se.length,at=1;at<je;at++)He+=ke(Se[at-1],Se[at],at===je-1);return He}};function ie(Me,ke){var Se=Me.backoff,He=Me.trace,je=Me.d,at=Me.i;if(Se&&He&&He.marker&&He.marker.angle%360===0&&He.line&&He.line.shape!=="spline"){var Ze=P.isArrayOrTypedArray(Se),$e=Me,ut=ke?ke[0]:F||0,ht=ke?ke[1]:z||0,vt=$e[0],xt=$e[1],St=vt-ut,tt=xt-ht,Ie=Math.atan2(tt,St),Ve=Ze?Se[at]:Se;if(Ve==="auto"){var Ge=$e.i;He.type==="scatter"&&Ge--;var Xe=$e.marker,Le=Xe.symbol;P.isArrayOrTypedArray(Le)&&(Le=Le[Ge]);var Fe=Xe.size;P.isArrayOrTypedArray(Fe)&&(Fe=Fe[Ge]),Ve=Xe?c.symbolBackOffs[c.symbolNumber(Le)]*Fe:0,Ve+=c.getMarkerStandoff(je[Ge],He)||0}var Ue=vt-Ve*Math.cos(Ie),Ee=xt-Ve*Math.sin(Ie);(Ue<=vt&&Ue>=ut||Ue>=vt&&Ue<=ut)&&(Ee<=xt&&Ee>=ht||Ee>=xt&&Ee<=ht)&&(Me=[Ue,Ee])}return Me}c.applyBackoff=ie,c.makeTester=function(){var Me=P.ensureSingleById(b.select("body"),"svg","js-plotly-tester",function(Se){Se.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),ke=P.ensureSingle(Me,"path","js-reference-point",function(Se){Se.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});c.tester=Me,c.testref=ke},c.savedBBoxes={};var K=0,$=1e4;c.bBox=function(Me,ke,Se){Se||(Se=X(Me));var He;if(Se){if(He=c.savedBBoxes[Se],He)return P.extendFlat({},He)}else if(Me.childNodes.length===1){var je=Me.childNodes[0];if(Se=X(je),Se){var at=+je.getAttribute("x")||0,Ze=+je.getAttribute("y")||0,$e=je.getAttribute("transform");if(!$e){var ut=c.bBox(je,!1,Se);return at&&(ut.left+=at,ut.right+=at),Ze&&(ut.top+=Ze,ut.bottom+=Ze),ut}if(Se+="~"+at+"~"+Ze+"~"+$e,He=c.savedBBoxes[Se],He)return P.extendFlat({},He)}}var ht,vt;ke?ht=Me:(vt=c.tester.node(),ht=Me.cloneNode(!0),vt.appendChild(ht)),b.select(ht).attr("transform",null).call(o.positionText,0,0);var xt=ht.getBoundingClientRect(),St=c.testref.node().getBoundingClientRect();ke||vt.removeChild(ht);var tt={height:xt.height,width:xt.width,left:xt.left-St.left,top:xt.top-St.top,right:xt.right-St.left,bottom:xt.bottom-St.top};return K>=$&&(c.savedBBoxes={},K=0),Se&&(c.savedBBoxes[Se]=tt),K++,P.extendFlat({},tt)};function X(Me){var ke=Me.getAttribute("data-unformatted");if(ke!==null)return ke+Me.getAttribute("data-math")+Me.getAttribute("text-anchor")+Me.getAttribute("style")}c.setClipUrl=function(Me,ke,Se){Me.attr("clip-path",Q(ke,Se))};function Q(Me,ke){if(!Me)return null;var Se=ke._context,He=Se._exportedPlot?"":Se._baseUrl||"";return He?"url('"+He+"#"+Me+"')":"url(#"+Me+")"}c.getTranslate=function(Me){var ke=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,Se=Me.attr?"attr":"getAttribute",He=Me[Se]("transform")||"",je=He.replace(ke,function(at,Ze,$e){return[Ze,$e].join(" ")}).split(" ");return{x:+je[0]||0,y:+je[1]||0}},c.setTranslate=function(Me,ke,Se){var He=/(\btranslate\(.*?\);?)/,je=Me.attr?"attr":"getAttribute",at=Me.attr?"attr":"setAttribute",Ze=Me[je]("transform")||"";return ke=ke||0,Se=Se||0,Ze=Ze.replace(He,"").trim(),Ze+=t(ke,Se),Ze=Ze.trim(),Me[at]("transform",Ze),Ze},c.getScale=function(Me){var ke=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,Se=Me.attr?"attr":"getAttribute",He=Me[Se]("transform")||"",je=He.replace(ke,function(at,Ze,$e){return[Ze,$e].join(" ")}).split(" ");return{x:+je[0]||1,y:+je[1]||1}},c.setScale=function(Me,ke,Se){var He=/(\bscale\(.*?\);?)/,je=Me.attr?"attr":"getAttribute",at=Me.attr?"attr":"setAttribute",Ze=Me[je]("transform")||"";return ke=ke||1,Se=Se||1,Ze=Ze.replace(He,"").trim(),Ze+="scale("+ke+","+Se+")",Ze=Ze.trim(),Me[at]("transform",Ze),Ze};var se=/\s*sc.*/;c.setPointGroupScale=function(Me,ke,Se){if(ke=ke||1,Se=Se||1,!!Me){var He=ke===1&&Se===1?"":"scale("+ke+","+Se+")";Me.each(function(){var je=(this.getAttribute("transform")||"").replace(se,"");je+=He,je=je.trim(),this.setAttribute("transform",je)})}};var J=/translate\([^)]*\)\s*$/;c.setTextPointsScale=function(Me,ke,Se){Me&&Me.each(function(){var He,je=b.select(this),at=je.select("text");if(at.node()){var Ze=parseFloat(at.attr("x")||0),$e=parseFloat(at.attr("y")||0),ut=(je.attr("transform")||"").match(J);ke===1&&Se===1?He=[]:He=[t(Ze,$e),"scale("+ke+","+Se+")",t(-Ze,-$e)],ut&&He.push(ut),je.attr("transform",He.join(""))}})};function G(Me,ke){var Se;return Me&&(Se=Me.mf),Se===void 0&&(Se=ke.marker&&ke.marker.standoff||0),!ke._geo&&!ke._xA?-Se:Se}c.getMarkerStandoff=G;var oe=Math.atan2,te=Math.cos,fe=Math.sin;function ge(Me,ke){var Se=ke[0],He=ke[1];return[Se*te(Me)-He*fe(Me),Se*fe(Me)+He*te(Me)]}var we,xe,Ce,De,Oe,Te;function Re(Me,ke){var Se=Me.ma;Se===void 0&&(Se=ke.marker.angle,(!Se||P.isArrayOrTypedArray(Se))&&(Se=0));var He,je,at=ke.marker.angleref;if(at==="previous"||at==="north"){if(ke._geo){var Ze=ke._geo.project(Me.lonlat);He=Ze[0],je=Ze[1]}else{var $e=ke._xA,ut=ke._yA;if($e&&ut)He=$e.c2p(Me.x),je=ut.c2p(Me.y);else return 90}if(ke._geo){var ht=Me.lonlat[0],vt=Me.lonlat[1],xt=ke._geo.project([ht,vt+1e-5]),St=ke._geo.project([ht+1e-5,vt]),tt=oe(St[1]-je,St[0]-He),Ie=oe(xt[1]-je,xt[0]-He),Ve;if(at==="north")Ve=Se/180*Math.PI;else if(at==="previous"){var Ge=ht/180*Math.PI,Xe=vt/180*Math.PI,Le=we/180*Math.PI,Fe=xe/180*Math.PI,Ue=Le-Ge,Ee=te(Fe)*fe(Ue),he=fe(Fe)*te(Xe)-te(Fe)*fe(Xe)*te(Ue);Ve=-oe(Ee,he)-Math.PI,we=ht,xe=vt}var ye=ge(tt,[te(Ve),0]),_e=ge(Ie,[fe(Ve),0]);Se=oe(ye[1]+_e[1],ye[0]+_e[0])/Math.PI*180,at==="previous"&&!(Te===ke.uid&&Me.i===Oe+1)&&(Se=null)}if(at==="previous"&&!ke._geo)if(Te===ke.uid&&Me.i===Oe+1&&L(He)&&L(je)){var We=He-Ce,rt=je-De,st=ke.line&&ke.line.shape||"",Vt=st.slice(st.length-1);Vt==="h"&&(rt=0),Vt==="v"&&(We=0),Se+=oe(rt,We)/Math.PI*180+90}else Se=null}return Ce=He,De=je,Oe=Me.i,Te=ke.uid,Se}c.getMarkerAngle=Re},71984:function(Y,V,e){var b=e(21984),P=e(33428).round,s="M0,0Z",L=Math.sqrt(2),M=Math.sqrt(3),v=Math.PI,p=Math.cos,r=Math.sin;Y.exports={circle:{n:0,f:function(g,h,w){if(t(h))return s;var c=P(g,2),a="M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z";return w?f(h,w,a):a}},square:{n:1,f:function(g,h,w){if(t(h))return s;var c=P(g,2);return f(h,w,"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")}},diamond:{n:2,f:function(g,h,w){if(t(h))return s;var c=P(g*1.3,2);return f(h,w,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"Z")}},cross:{n:3,f:function(g,h,w){if(t(h))return s;var c=P(g*.4,2),a=P(g*1.2,2);return f(h,w,"M"+a+","+c+"H"+c+"V"+a+"H-"+c+"V"+c+"H-"+a+"V-"+c+"H-"+c+"V-"+a+"H"+c+"V-"+c+"H"+a+"Z")}},x:{n:4,f:function(g,h,w){if(t(h))return s;var c=P(g*.8/L,2),a="l"+c+","+c,d="l"+c+",-"+c,x="l-"+c+",-"+c,T="l-"+c+","+c;return f(h,w,"M0,"+c+a+d+x+d+x+T+x+T+a+T+a+"Z")}},"triangle-up":{n:5,f:function(g,h,w){if(t(h))return s;var c=P(g*2/M,2),a=P(g/2,2),d=P(g,2);return f(h,w,"M-"+c+","+a+"H"+c+"L0,-"+d+"Z")}},"triangle-down":{n:6,f:function(g,h,w){if(t(h))return s;var c=P(g*2/M,2),a=P(g/2,2),d=P(g,2);return f(h,w,"M-"+c+",-"+a+"H"+c+"L0,"+d+"Z")}},"triangle-left":{n:7,f:function(g,h,w){if(t(h))return s;var c=P(g*2/M,2),a=P(g/2,2),d=P(g,2);return f(h,w,"M"+a+",-"+c+"V"+c+"L-"+d+",0Z")}},"triangle-right":{n:8,f:function(g,h,w){if(t(h))return s;var c=P(g*2/M,2),a=P(g/2,2),d=P(g,2);return f(h,w,"M-"+a+",-"+c+"V"+c+"L"+d+",0Z")}},"triangle-ne":{n:9,f:function(g,h,w){if(t(h))return s;var c=P(g*.6,2),a=P(g*1.2,2);return f(h,w,"M-"+a+",-"+c+"H"+c+"V"+a+"Z")}},"triangle-se":{n:10,f:function(g,h,w){if(t(h))return s;var c=P(g*.6,2),a=P(g*1.2,2);return f(h,w,"M"+c+",-"+a+"V"+c+"H-"+a+"Z")}},"triangle-sw":{n:11,f:function(g,h,w){if(t(h))return s;var c=P(g*.6,2),a=P(g*1.2,2);return f(h,w,"M"+a+","+c+"H-"+c+"V-"+a+"Z")}},"triangle-nw":{n:12,f:function(g,h,w){if(t(h))return s;var c=P(g*.6,2),a=P(g*1.2,2);return f(h,w,"M-"+c+","+a+"V-"+c+"H"+a+"Z")}},pentagon:{n:13,f:function(g,h,w){if(t(h))return s;var c=P(g*.951,2),a=P(g*.588,2),d=P(-g,2),x=P(g*-.309,2),T=P(g*.809,2);return f(h,w,"M"+c+","+x+"L"+a+","+T+"H-"+a+"L-"+c+","+x+"L0,"+d+"Z")}},hexagon:{n:14,f:function(g,h,w){if(t(h))return s;var c=P(g,2),a=P(g/2,2),d=P(g*M/2,2);return f(h,w,"M"+d+",-"+a+"V"+a+"L0,"+c+"L-"+d+","+a+"V-"+a+"L0,-"+c+"Z")}},hexagon2:{n:15,f:function(g,h,w){if(t(h))return s;var c=P(g,2),a=P(g/2,2),d=P(g*M/2,2);return f(h,w,"M-"+a+","+d+"H"+a+"L"+c+",0L"+a+",-"+d+"H-"+a+"L-"+c+",0Z")}},octagon:{n:16,f:function(g,h,w){if(t(h))return s;var c=P(g*.924,2),a=P(g*.383,2);return f(h,w,"M-"+a+",-"+c+"H"+a+"L"+c+",-"+a+"V"+a+"L"+a+","+c+"H-"+a+"L-"+c+","+a+"V-"+a+"Z")}},star:{n:17,f:function(g,h,w){if(t(h))return s;var c=g*1.4,a=P(c*.225,2),d=P(c*.951,2),x=P(c*.363,2),T=P(c*.588,2),C=P(-c,2),y=P(c*-.309,2),S=P(c*.118,2),A=P(c*.809,2),i=P(c*.382,2);return f(h,w,"M"+a+","+y+"H"+d+"L"+x+","+S+"L"+T+","+A+"L0,"+i+"L-"+T+","+A+"L-"+x+","+S+"L-"+d+","+y+"H-"+a+"L0,"+C+"Z")}},hexagram:{n:18,f:function(g,h,w){if(t(h))return s;var c=P(g*.66,2),a=P(g*.38,2),d=P(g*.76,2);return f(h,w,"M-"+d+",0l-"+a+",-"+c+"h"+d+"l"+a+",-"+c+"l"+a+","+c+"h"+d+"l-"+a+","+c+"l"+a+","+c+"h-"+d+"l-"+a+","+c+"l-"+a+",-"+c+"h-"+d+"Z")}},"star-triangle-up":{n:19,f:function(g,h,w){if(t(h))return s;var c=P(g*M*.8,2),a=P(g*.8,2),d=P(g*1.6,2),x=P(g*4,2),T="A "+x+","+x+" 0 0 1 ";return f(h,w,"M-"+c+","+a+T+c+","+a+T+"0,-"+d+T+"-"+c+","+a+"Z")}},"star-triangle-down":{n:20,f:function(g,h,w){if(t(h))return s;var c=P(g*M*.8,2),a=P(g*.8,2),d=P(g*1.6,2),x=P(g*4,2),T="A "+x+","+x+" 0 0 1 ";return f(h,w,"M"+c+",-"+a+T+"-"+c+",-"+a+T+"0,"+d+T+c+",-"+a+"Z")}},"star-square":{n:21,f:function(g,h,w){if(t(h))return s;var c=P(g*1.1,2),a=P(g*2,2),d="A "+a+","+a+" 0 0 1 ";return f(h,w,"M-"+c+",-"+c+d+"-"+c+","+c+d+c+","+c+d+c+",-"+c+d+"-"+c+",-"+c+"Z")}},"star-diamond":{n:22,f:function(g,h,w){if(t(h))return s;var c=P(g*1.4,2),a=P(g*1.9,2),d="A "+a+","+a+" 0 0 1 ";return f(h,w,"M-"+c+",0"+d+"0,"+c+d+c+",0"+d+"0,-"+c+d+"-"+c+",0Z")}},"diamond-tall":{n:23,f:function(g,h,w){if(t(h))return s;var c=P(g*.7,2),a=P(g*1.4,2);return f(h,w,"M0,"+a+"L"+c+",0L0,-"+a+"L-"+c+",0Z")}},"diamond-wide":{n:24,f:function(g,h,w){if(t(h))return s;var c=P(g*1.4,2),a=P(g*.7,2);return f(h,w,"M0,"+a+"L"+c+",0L0,-"+a+"L-"+c+",0Z")}},hourglass:{n:25,f:function(g,h,w){if(t(h))return s;var c=P(g,2);return f(h,w,"M"+c+","+c+"H-"+c+"L"+c+",-"+c+"H-"+c+"Z")},noDot:!0},bowtie:{n:26,f:function(g,h,w){if(t(h))return s;var c=P(g,2);return f(h,w,"M"+c+","+c+"V-"+c+"L-"+c+","+c+"V-"+c+"Z")},noDot:!0},"circle-cross":{n:27,f:function(g,h,w){if(t(h))return s;var c=P(g,2);return f(h,w,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(g,h,w){if(t(h))return s;var c=P(g,2),a=P(g/L,2);return f(h,w,"M"+a+","+a+"L-"+a+",-"+a+"M"+a+",-"+a+"L-"+a+","+a+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(g,h,w){if(t(h))return s;var c=P(g,2);return f(h,w,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(g,h,w){if(t(h))return s;var c=P(g,2);return f(h,w,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(g,h,w){if(t(h))return s;var c=P(g*1.3,2);return f(h,w,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM0,-"+c+"V"+c+"M-"+c+",0H"+c)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(g,h,w){if(t(h))return s;var c=P(g*1.3,2),a=P(g*.65,2);return f(h,w,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM-"+a+",-"+a+"L"+a+","+a+"M-"+a+","+a+"L"+a+",-"+a)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(g,h,w){if(t(h))return s;var c=P(g*1.4,2);return f(h,w,"M0,"+c+"V-"+c+"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(g,h,w){if(t(h))return s;var c=P(g,2);return f(h,w,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(g,h,w){if(t(h))return s;var c=P(g*1.2,2),a=P(g*.85,2);return f(h,w,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+a+","+a+"L-"+a+",-"+a+"M"+a+",-"+a+"L-"+a+","+a)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(g,h,w){if(t(h))return s;var c=P(g/2,2),a=P(g,2);return f(h,w,"M"+c+","+a+"V-"+a+"M"+(c-a)+",-"+a+"V"+a+"M"+a+","+c+"H-"+a+"M-"+a+","+(c-a)+"H"+a)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(g,h,w){if(t(h))return s;var c=P(g*1.2,2),a=P(g*1.6,2),d=P(g*.8,2);return f(h,w,"M-"+c+","+d+"L0,0M"+c+","+d+"L0,0M0,-"+a+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(g,h,w){if(t(h))return s;var c=P(g*1.2,2),a=P(g*1.6,2),d=P(g*.8,2);return f(h,w,"M-"+c+",-"+d+"L0,0M"+c+",-"+d+"L0,0M0,"+a+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(g,h,w){if(t(h))return s;var c=P(g*1.2,2),a=P(g*1.6,2),d=P(g*.8,2);return f(h,w,"M"+d+","+c+"L0,0M"+d+",-"+c+"L0,0M-"+a+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(g,h,w){if(t(h))return s;var c=P(g*1.2,2),a=P(g*1.6,2),d=P(g*.8,2);return f(h,w,"M-"+d+","+c+"L0,0M-"+d+",-"+c+"L0,0M"+a+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(g,h,w){if(t(h))return s;var c=P(g*1.4,2);return f(h,w,"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(g,h,w){if(t(h))return s;var c=P(g*1.4,2);return f(h,w,"M0,"+c+"V-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(g,h,w){if(t(h))return s;var c=P(g,2);return f(h,w,"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(g,h,w){if(t(h))return s;var c=P(g,2);return f(h,w,"M"+c+","+c+"L-"+c+",-"+c)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(g,h,w){if(t(h))return s;var c=P(g,2),a=P(g*2,2);return f(h,w,"M0,0L-"+c+","+a+"H"+c+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(g,h,w){if(t(h))return s;var c=P(g,2),a=P(g*2,2);return f(h,w,"M0,0L-"+c+",-"+a+"H"+c+"Z")},noDot:!0},"arrow-left":{n:47,f:function(g,h,w){if(t(h))return s;var c=P(g*2,2),a=P(g,2);return f(h,w,"M0,0L"+c+",-"+a+"V"+a+"Z")},noDot:!0},"arrow-right":{n:48,f:function(g,h,w){if(t(h))return s;var c=P(g*2,2),a=P(g,2);return f(h,w,"M0,0L-"+c+",-"+a+"V"+a+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(g,h,w){if(t(h))return s;var c=P(g,2),a=P(g*2,2);return f(h,w,"M-"+c+",0H"+c+"M0,0L-"+c+","+a+"H"+c+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(g,h,w){if(t(h))return s;var c=P(g,2),a=P(g*2,2);return f(h,w,"M-"+c+",0H"+c+"M0,0L-"+c+",-"+a+"H"+c+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(g,h,w){if(t(h))return s;var c=P(g*2,2),a=P(g,2);return f(h,w,"M0,-"+a+"V"+a+"M0,0L"+c+",-"+a+"V"+a+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(g,h,w){if(t(h))return s;var c=P(g*2,2),a=P(g,2);return f(h,w,"M0,-"+a+"V"+a+"M0,0L-"+c+",-"+a+"V"+a+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(g,h,w){if(t(h))return s;var c=v/2.5,a=2*g*p(c),d=2*g*r(c);return f(h,w,"M0,0L"+-a+","+d+"L"+a+","+d+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(g,h,w){if(t(h))return s;var c=v/4,a=2*g*p(c),d=2*g*r(c);return f(h,w,"M0,0L"+-a+","+d+"A "+2*g+","+2*g+" 0 0 1 "+a+","+d+"Z")},backoff:.4,noDot:!0}};function t(g){return g===null}var o,n,l,u;function f(g,h,w){if((!g||g%360===0)&&!h)return w;if(l===g&&u===h&&o===w)return n;l=g,u=h,o=w;function c(I,O){var _=p(I),B=r(I),F=O[0],z=O[1]+(h||0);return[F*_-z*B,F*B+z*_]}for(var a=g/180*v,d=0,x=0,T=b(w),C="",y=0;y<T.length;y++){var S=T[y],A=S[0],i=d,E=x;if(A==="M"||A==="L")d=+S[1],x=+S[2];else if(A==="m"||A==="l")d+=+S[1],x+=+S[2];else if(A==="H")d=+S[1];else if(A==="h")d+=+S[1];else if(A==="V")x=+S[1];else if(A==="v")x+=+S[1];else if(A==="A"){d=+S[1],x=+S[2];var m=c(a,[+S[6],+S[7]]);S[6]=m[0],S[7]=m[1],S[3]=+S[3]+g}(A==="H"||A==="V")&&(A="L"),(A==="h"||A==="v")&&(A="l"),(A==="m"||A==="l")&&(d-=i,x-=E);var k=c(a,[d,x]);(A==="H"||A==="V")&&(A="L"),(A==="M"||A==="L"||A==="m"||A==="l")&&(S[1]=k[0],S[2]=k[1]),S[0]=A,C+=S[0]+S.slice(1).join(",")}return n=C,C}},97644:function(Y){Y.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},14880:function(Y,V,e){var b=e(38248),P=e(24040),s=e(54460),L=e(3400),M=e(93792);Y.exports=function(r){for(var t=r.calcdata,o=0;o<t.length;o++){var n=t[o],l=n[0].trace;if(l.visible===!0&&P.traceIs(l,"errorBarsOK")){var u=s.getFromId(r,l.xaxis),f=s.getFromId(r,l.yaxis);v(n,l,u,"x"),v(n,l,f,"y")}}};function v(p,r,t,o){var n=r["error_"+o]||{},l=n.visible&&["linear","log"].indexOf(t.type)!==-1,u=[];if(l){for(var f=M(n),g=0;g<p.length;g++){var h=p[g],w=h.i;if(w===void 0)w=g;else if(w===null)continue;var c=h[o];if(b(t.c2l(c))){var a=f(c,w);if(b(a[0])&&b(a[1])){var d=h[o+"s"]=c-a[0],x=h[o+"h"]=c+a[1];u.push(d,x)}}}var T=t._id,C=r._extremes[T],y=s.findExtremes(t,u,L.extendFlat({tozero:C.opts.tozero},{padded:!0}));C.min=C.min.concat(y.min),C.max=C.max.concat(y.max)}}},93792:function(Y){Y.exports=function(b){var P=b.type,s=b.symmetric;if(P==="data"){var L=b.array||[];if(s)return function(t,o){var n=+L[o];return[n,n]};var M=b.arrayminus||[];return function(t,o){var n=+L[o],l=+M[o];return!isNaN(n)||!isNaN(l)?[l||0,n||0]:[NaN,NaN]}}else{var v=V(P,b.value),p=V(P,b.valueminus);return s||b.valueminus===void 0?function(t){var o=v(t);return[o,o]}:function(t){return[p(t),v(t)]}}};function V(e,b){if(e==="percent")return function(P){return Math.abs(P*b/100)};if(e==="constant")return function(){return Math.abs(b)};if(e==="sqrt")return function(P){return Math.sqrt(Math.abs(P))}}},65200:function(Y,V,e){var b=e(38248),P=e(24040),s=e(3400),L=e(31780),M=e(97644);Y.exports=function(v,p,r,t){var o="error_"+t.axis,n=L.newContainer(p,o),l=v[o]||{};function u(d,x){return s.coerce(l,n,M,d,x)}var f=l.array!==void 0||l.value!==void 0||l.type==="sqrt",g=u("visible",f);if(g!==!1){var h=u("type","array"in l?"data":"percent"),w=!0;h!=="sqrt"&&(w=u("symmetric",!((h==="data"?"arrayminus":"valueminus")in l))),h==="data"?(u("array"),u("traceref"),w||(u("arrayminus"),u("tracerefminus"))):(h==="percent"||h==="constant")&&(u("value"),w||u("valueminus"));var c="copy_"+t.inherit+"style";if(t.inherit){var a=p["error_"+t.inherit];(a||{}).visible&&u(c,!(l.color||b(l.thickness)||b(l.width)))}(!t.inherit||!n[c])&&(u("color",r),u("thickness"),u("width",P.traceIs(p,"gl3d")?0:4))}}},64968:function(Y,V,e){var b=e(3400),P=e(67824).overrideAll,s=e(97644),L={error_x:b.extendFlat({},s),error_y:b.extendFlat({},s)};delete L.error_x.copy_zstyle,delete L.error_y.copy_zstyle,delete L.error_y.copy_ystyle;var M={error_x:b.extendFlat({},s),error_y:b.extendFlat({},s),error_z:b.extendFlat({},s)};delete M.error_x.copy_ystyle,delete M.error_y.copy_ystyle,delete M.error_z.copy_ystyle,delete M.error_z.copy_zstyle,Y.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:L,bar:L,histogram:L,scatter3d:P(M,"calc","nested"),scattergl:P(L,"calc","nested")}},supplyDefaults:e(65200),calc:e(14880),makeComputeError:e(93792),plot:e(78512),style:e(92036),hoverInfo:v};function v(p,r,t){(r.error_y||{}).visible&&(t.yerr=p.yh-p.y,r.error_y.symmetric||(t.yerrneg=p.y-p.ys)),(r.error_x||{}).visible&&(t.xerr=p.xh-p.x,r.error_x.symmetric||(t.xerrneg=p.x-p.xs))}},78512:function(Y,V,e){var b=e(33428),P=e(38248),s=e(43616),L=e(43028);Y.exports=function(p,r,t,o){var n,l=t.xaxis,u=t.yaxis,f=o&&o.duration>0,g=p._context.staticPlot;r.each(function(h){var w=h[0].trace,c=w.error_x||{},a=w.error_y||{},d;w.ids&&(d=function(y){return y.id});var x=L.hasMarkers(w)&&w.marker.maxdisplayed>0;!a.visible&&!c.visible&&(h=[]);var T=b.select(this).selectAll("g.errorbar").data(h,d);if(T.exit().remove(),!!h.length){c.visible||T.selectAll("path.xerror").remove(),a.visible||T.selectAll("path.yerror").remove(),T.style("opacity",1);var C=T.enter().append("g").classed("errorbar",!0);f&&C.style("opacity",0).transition().duration(o.duration).style("opacity",1),s.setClipUrl(T,t.layerClipId,p),T.each(function(y){var S=b.select(this),A=M(y,l,u);if(!(x&&!y.vis)){var i,E=S.select("path.yerror");if(a.visible&&P(A.x)&&P(A.yh)&&P(A.ys)){var m=a.width;i="M"+(A.x-m)+","+A.yh+"h"+2*m+"m-"+m+",0V"+A.ys,A.noYS||(i+="m-"+m+",0h"+2*m),n=!E.size(),n?E=S.append("path").style("vector-effect",g?"none":"non-scaling-stroke").classed("yerror",!0):f&&(E=E.transition().duration(o.duration).ease(o.easing)),E.attr("d",i)}else E.remove();var k=S.select("path.xerror");if(c.visible&&P(A.y)&&P(A.xh)&&P(A.xs)){var I=(c.copy_ystyle?a:c).width;i="M"+A.xh+","+(A.y-I)+"v"+2*I+"m0,-"+I+"H"+A.xs,A.noXS||(i+="m0,-"+I+"v"+2*I),n=!k.size(),n?k=S.append("path").style("vector-effect",g?"none":"non-scaling-stroke").classed("xerror",!0):f&&(k=k.transition().duration(o.duration).ease(o.easing)),k.attr("d",i)}else k.remove()}})}})};function M(v,p,r){var t={x:p.c2p(v.x),y:r.c2p(v.y)};return v.yh!==void 0&&(t.yh=r.c2p(v.yh),t.ys=r.c2p(v.ys),P(t.ys)||(t.noYS=!0,t.ys=r.c2p(v.ys,!0))),v.xh!==void 0&&(t.xh=p.c2p(v.xh),t.xs=p.c2p(v.xs),P(t.xs)||(t.noXS=!0,t.xs=p.c2p(v.xs,!0))),t}},92036:function(Y,V,e){var b=e(33428),P=e(76308);Y.exports=function(L){L.each(function(M){var v=M[0].trace,p=v.error_y||{},r=v.error_x||{},t=b.select(this);t.selectAll("path.yerror").style("stroke-width",p.thickness+"px").call(P.stroke,p.color),r.copy_ystyle&&(r=p),t.selectAll("path.xerror").style("stroke-width",r.thickness+"px").call(P.stroke,r.color)})}},55756:function(Y,V,e){var b=e(25376),P=e(65460).hoverlabel,s=e(92880).extendFlat;Y.exports={hoverlabel:{bgcolor:s({},P.bgcolor,{arrayOk:!0}),bordercolor:s({},P.bordercolor,{arrayOk:!0}),font:b({arrayOk:!0,editType:"none"}),align:s({},P.align,{arrayOk:!0}),namelength:s({},P.namelength,{arrayOk:!0}),editType:"none"}}},55056:function(Y,V,e){var b=e(3400),P=e(24040);Y.exports=function(M){var v=M.calcdata,p=M._fullLayout;function r(u){return function(f){return b.coerceHoverinfo({hoverinfo:f},{_module:u._module},p)}}for(var t=0;t<v.length;t++){var o=v[t],n=o[0].trace;if(!P.traceIs(n,"pie-like")){var l=P.traceIs(n,"2dMap")?s:b.fillArray;l(n.hoverinfo,o,"hi",r(n)),n.hovertemplate&&l(n.hovertemplate,o,"ht"),n.hoverlabel&&(l(n.hoverlabel.bgcolor,o,"hbg"),l(n.hoverlabel.bordercolor,o,"hbc"),l(n.hoverlabel.font.size,o,"hts"),l(n.hoverlabel.font.color,o,"htc"),l(n.hoverlabel.font.family,o,"htf"),l(n.hoverlabel.font.weight,o,"htw"),l(n.hoverlabel.font.style,o,"hty"),l(n.hoverlabel.font.variant,o,"htv"),l(n.hoverlabel.namelength,o,"hnl"),l(n.hoverlabel.align,o,"hta"))}}};function s(L,M,v,p){p=p||b.identity,Array.isArray(L)&&(M[0][v]=p(L))}},62376:function(Y,V,e){var b=e(24040),P=e(83292).hover;Y.exports=function(L,M,v){var p=b.getComponentMethod("annotations","onClick")(L,L._hoverdata);v!==void 0&&P(L,M,v,!0);function r(){L.emit("plotly_click",{points:L._hoverdata,event:M})}L._hoverdata&&M&&M.target&&(p&&p.then?p.then(r):r(),M.stopImmediatePropagation&&M.stopImmediatePropagation())}},92456:function(Y){Y.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},95448:function(Y,V,e){var b=e(3400),P=e(55756),s=e(16132);Y.exports=function(M,v,p,r){function t(n,l){return b.coerce(M,v,P,n,l)}var o=b.extendFlat({},r.hoverlabel);v.hovertemplate&&(o.namelength=-1),s(M,v,t,o)}},10624:function(Y,V,e){var b=e(3400);V.getSubplot=function(p){return p.subplot||p.xaxis+p.yaxis||p.geo},V.isTraceInSubplots=function(p,r){if(p.type==="splom"){for(var t=p.xaxes||[],o=p.yaxes||[],n=0;n<t.length;n++)for(var l=0;l<o.length;l++)if(r.indexOf(t[n]+o[l])!==-1)return!0;return!1}return r.indexOf(V.getSubplot(p))!==-1},V.flat=function(p,r){for(var t=new Array(p.length),o=0;o<p.length;o++)t[o]=r;return t},V.p2c=function(p,r){for(var t=new Array(p.length),o=0;o<p.length;o++)t[o]=p[o].p2c(r);return t},V.getDistanceFunction=function(p,r,t,o){return p==="closest"?o||V.quadrature(r,t):p.charAt(0)==="x"?r:t},V.getClosest=function(p,r,t){if(t.index!==!1)t.index>=0&&t.index<p.length?t.distance=0:t.index=!1;else for(var o=0;o<p.length;o++){var n=r(p[o]);n<=t.distance&&(t.index=o,t.distance=n)}return t},V.inbox=function(p,r,t){return p*r<0||p===0?t:1/0},V.quadrature=function(p,r){return function(t){var o=p(t),n=r(t);return Math.sqrt(o*o+n*n)}},V.makeEventData=function(p,r,t){var o="index"in p?p.index:p.pointNumber,n={data:r._input,fullData:r,curveNumber:r.index,pointNumber:o};if(r._indexToPoints){var l=r._indexToPoints[o];l.length===1?n.pointIndex=l[0]:n.pointIndices=l}else n.pointIndex=o;return r._module.eventData?n=r._module.eventData(n,p,r,t,o):("xVal"in p?n.x=p.xVal:"x"in p&&(n.x=p.x),"yVal"in p?n.y=p.yVal:"y"in p&&(n.y=p.y),p.xa&&(n.xaxis=p.xa),p.ya&&(n.yaxis=p.ya),p.zLabelVal!==void 0&&(n.z=p.zLabelVal)),V.appendArrayPointValue(n,r,o),n},V.appendArrayPointValue=function(p,r,t){var o=r._arrayAttrs;if(o)for(var n=0;n<o.length;n++){var l=o[n],u=s(l);if(p[u]===void 0){var f=b.nestedProperty(r,l).get(),g=L(f,t);g!==void 0&&(p[u]=g)}}},V.appendArrayMultiPointValues=function(p,r,t){var o=r._arrayAttrs;if(o)for(var n=0;n<o.length;n++){var l=o[n],u=s(l);if(p[u]===void 0){for(var f=b.nestedProperty(r,l).get(),g=new Array(t.length),h=0;h<t.length;h++)g[h]=L(f,t[h]);p[u]=g}}};var P={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function s(p){return P[p]||p}function L(p,r){if(Array.isArray(r)){if(Array.isArray(p)&&Array.isArray(p[r[0]]))return p[r[0]][r[1]]}else return p[r]}var M={x:!0,y:!0},v={"x unified":!0,"y unified":!0};V.isUnifiedHover=function(p){return typeof p!="string"?!1:!!v[p]},V.isXYhover=function(p){return typeof p!="string"?!1:!!M[p]}},83292:function(Y,V,e){var b=e(33428),P=e(38248),s=e(49760),L=e(3400),M=L.pushUnique,v=L.strTranslate,p=L.strRotate,r=e(95924),t=e(72736),o=e(72213),n=e(43616),l=e(76308),u=e(86476),f=e(54460),g=e(33816).zindexSeparator,h=e(24040),w=e(10624),c=e(92456),a=e(77864),d=e(31140),x=c.YANGLE,T=Math.PI*x/180,C=1/Math.sin(T),y=Math.cos(T),S=Math.sin(T),A=c.HOVERARROWSIZE,i=c.HOVERTEXTPAD,E={box:!0,ohlc:!0,violin:!0,candlestick:!0},m={scatter:!0,scattergl:!0,splom:!0};function k(G,oe){return G.distance-oe.distance}V.hover=function(oe,te,fe,ge){oe=L.getGraphDiv(oe);var we=te.target;L.throttle(oe._fullLayout._uid+c.HOVERID,c.HOVERMINTIME,function(){I(oe,te,fe,ge,we)})},V.loneHover=function(oe,te){var fe=!0;Array.isArray(oe)||(fe=!1,oe=[oe]);var ge=te.gd,we=Q(ge),xe=se(ge),Ce=oe.map(function(je){var at=je._x0||je.x0||je.x||0,Ze=je._x1||je.x1||je.x||0,$e=je._y0||je.y0||je.y||0,ut=je._y1||je.y1||je.y||0,ht=je.eventData;if(ht){var vt=Math.min(at,Ze),xt=Math.max(at,Ze),St=Math.min($e,ut),tt=Math.max($e,ut),Ie=je.trace;if(h.traceIs(Ie,"gl3d")){var Ve=ge._fullLayout[Ie.scene]._scene.container,Ge=Ve.offsetLeft,Xe=Ve.offsetTop;vt+=Ge,xt+=Ge,St+=Xe,tt+=Xe}ht.bbox={x0:vt+xe,x1:xt+xe,y0:St+we,y1:tt+we},te.inOut_bbox&&te.inOut_bbox.push(ht.bbox)}else ht=!1;return{color:je.color||l.defaultLine,x0:je.x0||je.x||0,x1:je.x1||je.x||0,y0:je.y0||je.y||0,y1:je.y1||je.y||0,xLabel:je.xLabel,yLabel:je.yLabel,zLabel:je.zLabel,text:je.text,name:je.name,idealAlign:je.idealAlign,borderColor:je.borderColor,fontFamily:je.fontFamily,fontSize:je.fontSize,fontColor:je.fontColor,fontWeight:je.fontWeight,fontStyle:je.fontStyle,fontVariant:je.fontVariant,nameLength:je.nameLength,textAlign:je.textAlign,trace:je.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:je.hovertemplate||!1,hovertemplateLabels:je.hovertemplateLabels||!1,eventData:ht}}),De=!1,Oe=B(Ce,{gd:ge,hovermode:"closest",rotateLabels:De,bgColor:te.bgColor||l.background,container:b.select(te.container),outerContainer:te.outerContainer||te.container}),Te=Oe.hoverLabels,Re=5,Me=0,ke=0;Te.sort(function(je,at){return je.y0-at.y0}).each(function(je,at){var Ze=je.y0-je.by/2;Ze-Re<Me?je.offset=Me-Ze+Re:je.offset=0,Me=Ze+je.by+je.offset,at===te.anchorIndex&&(ke=je.offset)}).each(function(je){je.offset-=ke});var Se=ge._fullLayout._invScaleX,He=ge._fullLayout._invScaleY;return Z(Te,De,Se,He),fe?Te:Te.node()};function I(G,oe,te,fe,ge){te||(te="xy"),typeof te=="string"&&(te=te.split(g)[0]);var we=Array.isArray(te)?te:[te],xe,Ce=G._fullLayout,De=Ce.hoversubplots,Oe=Ce._plots||[],Te=Oe[te],Re=Ce._has("cartesian"),Me=oe.hovermode||Ce.hovermode,ke=(Me||"").charAt(0)==="x",Se=(Me||"").charAt(0)==="y",He,je;if(Re&&(ke||Se)&&De==="axis"){for(var at=we.length,Ze=0;Ze<at;Ze++)if(xe=we[Ze],Oe[xe]){He=f.getFromId(G,xe,"x"),je=f.getFromId(G,xe,"y");var $e=(ke?He:je)._subplotsWith;if($e&&$e.length)for(var ut=0;ut<$e.length;ut++)M(we,$e[ut])}}if(Te&&De!=="single"){var ht=Te.overlays.map(function(Rn){return Rn.id});we=we.concat(ht)}for(var vt=we.length,xt=new Array(vt),St=new Array(vt),tt=!1,Ie=0;Ie<vt;Ie++)if(xe=we[Ie],Oe[xe])tt=!0,xt[Ie]=Oe[xe].xaxis,St[Ie]=Oe[xe].yaxis;else if(Ce[xe]&&Ce[xe]._subplot){var Ve=Ce[xe]._subplot;xt[Ie]=Ve.xaxis,St[Ie]=Ve.yaxis}else{L.warn("Unrecognized subplot: "+xe);return}if(Me&&!tt&&(Me="closest"),["x","y","closest","x unified","y unified"].indexOf(Me)===-1||!G.calcdata||G.querySelector(".zoombox")||G._dragging)return u.unhoverRaw(G,oe);var Ge=Ce.hoverdistance;Ge===-1&&(Ge=1/0);var Xe=Ce.spikedistance;Xe===-1&&(Xe=1/0);var Le=[],Fe=[],Ue,Ee,he,ye,_e,We,rt,st,Vt,Xt,Tt,Lt,Kt,vr={hLinePoint:null,vLinePoint:null},pt=!1;if(Array.isArray(oe))for(Me="array",he=0;he<oe.length;he++)_e=G.calcdata[oe[he].curveNumber||0],_e&&(We=_e[0].trace,_e[0].trace.hoverinfo!=="skip"&&(Fe.push(_e),We.orientation==="h"&&(pt=!0)));else{var jt=G.calcdata.slice();for(jt.sort(function(Rn,Cr){var an=Rn[0].trace.zorder||0,on=Cr[0].trace.zorder||0;return an-on}),ye=0;ye<jt.length;ye++)_e=jt[ye],We=_e[0].trace,We.hoverinfo!=="skip"&&w.isTraceInSubplots(We,we)&&(Fe.push(_e),We.orientation==="h"&&(pt=!0));var $t=!ge,mr,or;if($t)"xpx"in oe?mr=oe.xpx:mr=xt[0]._length/2,"ypx"in oe?or=oe.ypx:or=St[0]._length/2;else{if(r.triggerHandler(G,"plotly_beforehover",oe)===!1)return;var gt=ge.getBoundingClientRect();mr=oe.clientX-gt.left,or=oe.clientY-gt.top,Ce._calcInverseTransform(G);var lt=L.apply3DTransform(Ce._invTransform)(mr,or);if(mr=lt[0],or=lt[1],mr<0||mr>xt[0]._length||or<0||or>St[0]._length)return u.unhoverRaw(G,oe)}if(oe.pointerX=mr+xt[0]._offset,oe.pointerY=or+St[0]._offset,"xval"in oe?Ue=w.flat(we,oe.xval):Ue=w.p2c(xt,mr),"yval"in oe?Ee=w.flat(we,oe.yval):Ee=w.p2c(St,or),!P(Ue[0])||!P(Ee[0]))return L.warn("Fx.hover failed",oe,G),u.unhoverRaw(G,oe)}var bt=1/0;function Et(Rn,Cr){for(ye=0;ye<Fe.length;ye++)if(_e=Fe[ye],!(!_e||!_e[0]||!_e[0].trace)&&(We=_e[0].trace,!(We.visible!==!0||We._length===0)&&["carpet","contourcarpet"].indexOf(We._module.name)===-1)){if(Vt=Me,w.isUnifiedHover(Vt)&&(Vt=Vt.charAt(0)),We.type==="splom"?(st=0,rt=we[st]):(rt=w.getSubplot(We),st=we.indexOf(rt)),Lt={cd:_e,trace:We,xa:xt[st],ya:St[st],maxHoverDistance:Ge,maxSpikeDistance:Xe,index:!1,distance:Math.min(bt,Ge),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:l.defaultLine,name:We.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},Ce[rt]&&(Lt.subplot=Ce[rt]._subplot),Ce._splomScenes&&Ce._splomScenes[We.uid]&&(Lt.scene=Ce._splomScenes[We.uid]),Vt==="array"){var an=oe[ye];"pointNumber"in an?(Lt.index=an.pointNumber,Vt="closest"):(Vt="","xval"in an&&(Xt=an.xval,Vt="x"),"yval"in an&&(Tt=an.yval,Vt=Vt?"closest":"y"))}else Rn!==void 0&&Cr!==void 0?(Xt=Rn,Tt=Cr):(Xt=Ue[st],Tt=Ee[st]);if(Kt=Le.length,Ge!==0)if(We._module&&We._module.hoverPoints){var on=We._module.hoverPoints(Lt,Xt,Tt,Vt,{finiteRange:!0,hoverLayer:Ce._hoverlayer,hoversubplots:De,gd:G});if(on)for(var ln,On=0;On<on.length;On++)ln=on[On],P(ln.x0)&&P(ln.y0)&&Le.push(q(ln,Me))}else L.log("Unrecognized trace type in hover:",We);if(Me==="closest"&&Le.length>Kt&&(Le.splice(0,Kt),bt=Le[0].distance),Re&&Xe!==0&&Le.length===0){Lt.distance=Xe,Lt.index=!1;var gn=We._module.hoverPoints(Lt,Xt,Tt,"closest",{hoverLayer:Ce._hoverlayer});if(gn&&(gn=gn.filter(function(Ar){return Ar.spikeDistance<=Xe})),gn&&gn.length){var Cn,Bn=gn.filter(function(Ar){return Ar.xa.showspikes&&Ar.xa.spikesnap!=="hovered data"});if(Bn.length){var Qn=Bn[0];P(Qn.x0)&&P(Qn.y0)&&(Cn=Ot(Qn),(!vr.vLinePoint||vr.vLinePoint.spikeDistance>Cn.spikeDistance)&&(vr.vLinePoint=Cn))}var ha=gn.filter(function(Ar){return Ar.ya.showspikes&&Ar.ya.spikesnap!=="hovered data"});if(ha.length){var Ra=ha[0];P(Ra.x0)&&P(Ra.y0)&&(Cn=Ot(Ra),(!vr.hLinePoint||vr.hLinePoint.spikeDistance>Cn.spikeDistance)&&(vr.hLinePoint=Cn))}}}}}Et();function kt(Rn,Cr,an){for(var on=null,ln=1/0,On,gn=0;gn<Rn.length;gn++)He&&He._id!==Rn[gn].xa._id||je&&je._id!==Rn[gn].ya._id||(On=Rn[gn].spikeDistance,an&&gn===0&&(On=-1/0),On<=ln&&On<=Cr&&(on=Rn[gn],ln=On));return on}function Ot(Rn){return Rn?{xa:Rn.xa,ya:Rn.ya,x:Rn.xSpike!==void 0?Rn.xSpike:(Rn.x0+Rn.x1)/2,y:Rn.ySpike!==void 0?Rn.ySpike:(Rn.y0+Rn.y1)/2,distance:Rn.distance,spikeDistance:Rn.spikeDistance,curveNumber:Rn.trace.index,color:Rn.color,pointNumber:Rn.index}:null}var Ft={fullLayout:Ce,container:Ce._hoverlayer,event:oe};G._spikepoints;var Bt={vLinePoint:vr.vLinePoint,hLinePoint:vr.hLinePoint};G._spikepoints=Bt;var Jt=function(){var Rn=Le.filter(function(an){return He&&He._id===an.xa._id&&je&&je._id===an.ya._id}),Cr=Le.filter(function(an){return!(He&&He._id===an.xa._id&&je&&je._id===an.ya._id)});Rn.sort(k),Cr.sort(k),Le=Rn.concat(Cr),Le=$(Le,Me)};Jt();var hr=Me.charAt(0),cr=(hr==="x"||hr==="y")&&Le[0]&&m[Le[0].trace.type];if(Re&&Xe!==0&&Le.length!==0){var dr=Le.filter(function(Rn){return Rn.ya.showspikes}),fr=kt(dr,Xe,cr);vr.hLinePoint=Ot(fr);var Lr=Le.filter(function(Rn){return Rn.xa.showspikes}),xr=kt(Lr,Xe,cr);vr.vLinePoint=Ot(xr)}if(Le.length===0){var Ke=u.unhoverRaw(G,oe);return Re&&(vr.hLinePoint!==null||vr.vLinePoint!==null)&&ie()&&re(G,vr,Ft),Ke}if(Re&&ie()&&re(G,vr,Ft),w.isXYhover(Vt)&&Le[0].length!==0&&Le[0].trace.type!=="splom"){var et=Le[0];E[et.trace.type]?Le=Le.filter(function(Rn){return Rn.trace.index===et.trace.index}):Le=[et];var er=Le.length,tr=X("x",et,Ce),Yt=X("y",et,Ce);Et(tr,Yt);var Pt=[],Zt={},nr=0,Qt=function(Rn){var Cr=E[Rn.trace.type]?O(Rn):Rn.trace.index;if(!Zt[Cr])nr++,Zt[Cr]=nr,Pt.push(Rn);else{var an=Zt[Cr]-1,on=Pt[an];an>0&&Math.abs(Rn.distance)<Math.abs(on.distance)&&(Pt[an]=Rn)}},Wt;for(Wt=0;Wt<er;Wt++)Qt(Le[Wt]);for(Wt=Le.length-1;Wt>er-1;Wt--)Qt(Le[Wt]);Le=Pt,Jt()}var yr=G._hoverdata,Ir=[],Tr=Q(G),vn=se(G);for(he=0;he<Le.length;he++){var Or=Le[he],En=w.makeEventData(Or,Or.trace,Or.cd);if(Or.hovertemplate!==!1){var nn=!1;Or.cd[Or.index]&&Or.cd[Or.index].ht&&(nn=Or.cd[Or.index].ht),Or.hovertemplate=nn||Or.trace.hovertemplate||!1}if(Or.xa&&Or.ya){var gr=Or.x0+Or.xa._offset,Pr=Or.x1+Or.xa._offset,Xr=Or.y0+Or.ya._offset,kr=Or.y1+Or.ya._offset,pn=Math.min(gr,Pr),tn=Math.max(gr,Pr),Tn=Math.min(Xr,kr),Ln=Math.max(Xr,kr);En.bbox={x0:pn+vn,x1:tn+vn,y0:Tn+Tr,y1:Ln+Tr}}Or.eventData=[En],Ir.push(En)}G._hoverdata=Ir;var Hn=Me==="y"&&(Fe.length>1||Le.length>1)||Me==="closest"&&pt&&Le.length>1,pa=l.combine(Ce.plot_bgcolor||l.background,Ce.paper_bgcolor),xa=B(Le,{gd:G,hovermode:Me,rotateLabels:Hn,bgColor:pa,container:Ce._hoverlayer,outerContainer:Ce._paper.node(),commonLabelOpts:Ce.hoverlabel,hoverdistance:Ce.hoverdistance}),ia=xa.hoverLabels;if(w.isUnifiedHover(Me)||(z(ia,Hn,Ce,xa.commonLabelBoundingBox),Z(ia,Hn,Ce._invScaleX,Ce._invScaleY)),ge&&ge.tagName){var ra=h.getComponentMethod("annotations","hasClickToShow")(G,Ir);o(b.select(ge),ra?"pointer":"")}!ge||fe||!le(G,oe,yr)||(yr&&G.emit("plotly_unhover",{event:oe,points:yr}),G.emit("plotly_hover",{event:oe,points:G._hoverdata,xaxes:xt,yaxes:St,xvals:Ue,yvals:Ee}))}function O(G){return[G.trace.index,G.index,G.x0,G.y0,G.name,G.attr,G.xa?G.xa._id:"",G.ya?G.ya._id:""].join(",")}var _=/<extra>([\s\S]*)<\/extra>/;function B(G,oe){var te=oe.gd,fe=te._fullLayout,ge=oe.hovermode,we=oe.rotateLabels,xe=oe.bgColor,Ce=oe.container,De=oe.outerContainer,Oe=oe.commonLabelOpts||{};if(G.length===0)return[[]];var Te=oe.fontFamily||c.HOVERFONT,Re=oe.fontSize||c.HOVERFONTSIZE,Me=oe.fontWeight||fe.font.weight,ke=oe.fontStyle||fe.font.style,Se=oe.fontVariant||fe.font.variant,He=oe.fontTextcase||fe.font.textcase,je=oe.fontLineposition||fe.font.lineposition,at=oe.fontShadow||fe.font.shadow,Ze=G[0],$e=Ze.xa,ut=Ze.ya,ht=ge.charAt(0),vt=ht+"Label",xt=Ze[vt];if(xt===void 0&&$e.type==="multicategory")for(var St=0;St<G.length&&(xt=G[St][vt],xt===void 0);St++);var tt=J(te,De),Ie=tt.top,Ve=tt.width,Ge=tt.height,Xe=xt!==void 0&&Ze.distance<=oe.hoverdistance&&(ge==="x"||ge==="y");if(Xe){var Le=!0,Fe,Ue;for(Fe=0;Fe<G.length;Fe++)if(Le&&G[Fe].zLabel===void 0&&(Le=!1),Ue=G[Fe].hoverinfo||G[Fe].trace.hoverinfo,Ue){var Ee=Array.isArray(Ue)?Ue:Ue.split("+");if(Ee.indexOf("all")===-1&&Ee.indexOf(ge)===-1){Xe=!1;break}}Le&&(Xe=!1)}var he=Ce.selectAll("g.axistext").data(Xe?[0]:[]);he.enter().append("g").classed("axistext",!0),he.exit().remove();var ye={minX:0,maxX:0,minY:0,maxY:0};if(he.each(function(){var xr=b.select(this),Ke=L.ensureSingle(xr,"path","",function(tn){tn.style({"stroke-width":"1px"})}),et=L.ensureSingle(xr,"text","",function(tn){tn.attr("data-notex",1)}),er=Oe.bgcolor||l.defaultLine,tr=Oe.bordercolor||l.contrast(er),Yt=l.contrast(er),Pt=Oe.font,Zt={weight:Pt.weight||Me,style:Pt.style||ke,variant:Pt.variant||Se,textcase:Pt.textcase||He,lineposition:Pt.lineposition||je,shadow:Pt.shadow||at,family:Pt.family||Te,size:Pt.size||Re,color:Pt.color||Yt};Ke.style({fill:er,stroke:tr}),et.text(xt).call(n.font,Zt).call(t.positionText,0,0).call(t.convertToTspans,te),xr.attr("transform","");var nr=J(te,et.node()),Qt,Wt;if(ge==="x"){var yr=$e.side==="top"?"-":"";et.attr("text-anchor","middle").call(t.positionText,0,$e.side==="top"?Ie-nr.bottom-A-i:Ie-nr.top+A+i),Qt=$e._offset+(Ze.x0+Ze.x1)/2,Wt=ut._offset+($e.side==="top"?0:ut._length);var Ir=nr.width/2+i,Tr=Qt;Qt<Ir?Tr=Ir:Qt>fe.width-Ir&&(Tr=fe.width-Ir),Ke.attr("d","M"+(Qt-Tr)+",0L"+(Qt-Tr+A)+","+yr+A+"H"+Ir+"v"+yr+(i*2+nr.height)+"H"+-Ir+"V"+yr+A+"H"+(Qt-Tr-A)+"Z"),Qt=Tr,ye.minX=Qt-Ir,ye.maxX=Qt+Ir,$e.side==="top"?(ye.minY=Wt-(i*2+nr.height),ye.maxY=Wt-i):(ye.minY=Wt+i,ye.maxY=Wt+(i*2+nr.height))}else{var vn,Or,En;ut.side==="right"?(vn="start",Or=1,En="",Qt=$e._offset+$e._length):(vn="end",Or=-1,En="-",Qt=$e._offset),Wt=ut._offset+(Ze.y0+Ze.y1)/2,et.attr("text-anchor",vn),Ke.attr("d","M0,0L"+En+A+","+A+"V"+(i+nr.height/2)+"h"+En+(i*2+nr.width)+"V-"+(i+nr.height/2)+"H"+En+A+"V-"+A+"Z"),ye.minY=Wt-(i+nr.height/2),ye.maxY=Wt+(i+nr.height/2),ut.side==="right"?(ye.minX=Qt+A,ye.maxX=Qt+A+(i*2+nr.width)):(ye.minX=Qt-A-(i*2+nr.width),ye.maxX=Qt-A);var nn=nr.height/2,gr=Ie-nr.top-nn,Pr="clip"+fe._uid+"commonlabel"+ut._id,Xr;if(Qt<nr.width+2*i+A){Xr="M-"+(A+i)+"-"+nn+"h-"+(nr.width-i)+"V"+nn+"h"+(nr.width-i)+"Z";var kr=nr.width-Qt+i;t.positionText(et,kr,gr),vn==="end"&&et.selectAll("tspan").each(function(){var tn=b.select(this),Tn=n.tester.append("text").text(tn.text()).call(n.font,Zt),Ln=J(te,Tn.node());Math.round(Ln.width)<Math.round(nr.width)&&tn.attr("x",kr-Ln.width),Tn.remove()})}else t.positionText(et,Or*(i+A),gr),Xr=null;var pn=fe._topclips.selectAll("#"+Pr).data(Xr?[0]:[]);pn.enter().append("clipPath").attr("id",Pr).append("path"),pn.exit().remove(),pn.select("path").attr("d",Xr),n.setClipUrl(et,Xr?Pr:null,te)}xr.attr("transform",v(Qt,Wt))}),w.isUnifiedHover(ge)){Ce.selectAll("g.hovertext").remove();var _e=G.filter(function(xr){return xr.hoverinfo!=="none"});if(_e.length===0)return[];var We=fe.hoverlabel,rt=We.font,st={showlegend:!0,legend:{title:{text:xt,font:rt},font:rt,bgcolor:We.bgcolor,bordercolor:We.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:fe.legend?fe.legend.traceorder:void 0,orientation:"v"}},Vt={font:rt};a(st,Vt,te._fullData);var Xt=Vt.legend;Xt.entries=[];for(var Tt=0;Tt<_e.length;Tt++){var Lt=_e[Tt];if(Lt.hoverinfo!=="none"){var Kt=F(Lt,!0,ge,fe,xt),vr=Kt[0],pt=Kt[1];Lt.name=pt,pt!==""?Lt.text=pt+" : "+vr:Lt.text=vr;var jt=Lt.cd[Lt.index];jt&&(jt.mc&&(Lt.mc=jt.mc),jt.mcc&&(Lt.mc=jt.mcc),jt.mlc&&(Lt.mlc=jt.mlc),jt.mlcc&&(Lt.mlc=jt.mlcc),jt.mlw&&(Lt.mlw=jt.mlw),jt.mrc&&(Lt.mrc=jt.mrc),jt.dir&&(Lt.dir=jt.dir)),Lt._distinct=!0,Xt.entries.push([Lt])}}Xt.entries.sort(function(xr,Ke){return xr[0].trace.index-Ke[0].trace.index}),Xt.layer=Ce,Xt._inHover=!0,Xt._groupTitleFont=We.grouptitlefont,d(te,Xt);var $t=Ce.select("g.legend"),mr=J(te,$t.node()),or=mr.width+2*i,gt=mr.height+2*i,lt=_e[0],bt=(lt.x0+lt.x1)/2,Et=(lt.y0+lt.y1)/2,kt=!(h.traceIs(lt.trace,"bar-like")||h.traceIs(lt.trace,"box-violin")),Ot,Ft;ht==="y"?kt?(Ft=Et-i,Ot=Et+i):(Ft=Math.min.apply(null,_e.map(function(xr){return Math.min(xr.y0,xr.y1)})),Ot=Math.max.apply(null,_e.map(function(xr){return Math.max(xr.y0,xr.y1)}))):Ft=Ot=L.mean(_e.map(function(xr){return(xr.y0+xr.y1)/2}))-gt/2;var Bt,Jt;ht==="x"?kt?(Bt=bt+i,Jt=bt-i):(Bt=Math.max.apply(null,_e.map(function(xr){return Math.max(xr.x0,xr.x1)})),Jt=Math.min.apply(null,_e.map(function(xr){return Math.min(xr.x0,xr.x1)}))):Bt=Jt=L.mean(_e.map(function(xr){return(xr.x0+xr.x1)/2}))-or/2;var hr=$e._offset,cr=ut._offset;Ot+=cr,Bt+=hr,Jt+=hr-or,Ft+=cr-gt;var dr,fr;return Bt+or<Ve&&Bt>=0?dr=Bt:Jt+or<Ve&&Jt>=0?dr=Jt:hr+or<Ve?dr=hr:Bt-bt<bt-Jt+or?dr=Ve-or:dr=0,dr+=i,Ot+gt<Ge&&Ot>=0?fr=Ot:Ft+gt<Ge&&Ft>=0?fr=Ft:cr+gt<Ge?fr=cr:Ot-Et<Et-Ft+gt?fr=Ge-gt:fr=0,fr+=i,$t.attr("transform",v(dr-1,fr-1)),$t}var Lr=Ce.selectAll("g.hovertext").data(G,function(xr){return O(xr)});return Lr.enter().append("g").classed("hovertext",!0).each(function(){var xr=b.select(this);xr.append("rect").call(l.fill,l.addOpacity(xe,.8)),xr.append("text").classed("name",!0),xr.append("path").style("stroke-width","1px"),xr.append("text").classed("nums",!0).call(n.font,{weight:Me,style:ke,variant:Se,textcase:He,lineposition:je,shadow:at,family:Te,size:Re})}),Lr.exit().remove(),Lr.each(function(xr){var Ke=b.select(this).attr("transform",""),et=xr.color;Array.isArray(et)&&(et=et[xr.eventData[0].pointNumber]);var er=xr.bgcolor||et,tr=l.combine(l.opacity(er)?er:l.defaultLine,xe),Yt=l.combine(l.opacity(et)?et:l.defaultLine,xe),Pt=xr.borderColor||l.contrast(tr),Zt=F(xr,Xe,ge,fe,xt,Ke),nr=Zt[0],Qt=Zt[1],Wt=Ke.select("text.nums").call(n.font,{family:xr.fontFamily||Te,size:xr.fontSize||Re,color:xr.fontColor||Pt,weight:xr.fontWeight||Me,style:xr.fontStyle||ke,variant:xr.fontVariant||Se,textcase:xr.fontTextcase||He,lineposition:xr.fontLineposition||je,shadow:xr.fontShadow||at}).text(nr).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,te),yr=Ke.select("text.name"),Ir=0,Tr=0;if(Qt&&Qt!==nr){yr.call(n.font,{family:xr.fontFamily||Te,size:xr.fontSize||Re,color:Yt,weight:xr.fontWeight||Me,style:xr.fontStyle||ke,variant:xr.fontVariant||Se,textcase:xr.fontTextcase||He,lineposition:xr.fontLineposition||je,shadow:xr.fontShadow||at}).text(Qt).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,te);var vn=J(te,yr.node());Ir=vn.width+2*i,Tr=vn.height+2*i}else yr.remove(),Ke.select("rect").remove();Ke.select("path").style({fill:tr,stroke:Pt});var Or=xr.xa._offset+(xr.x0+xr.x1)/2,En=xr.ya._offset+(xr.y0+xr.y1)/2,nn=Math.abs(xr.x1-xr.x0),gr=Math.abs(xr.y1-xr.y0),Pr=J(te,Wt.node()),Xr=Pr.width/fe._invScaleX,kr=Pr.height/fe._invScaleY;xr.ty0=(Ie-Pr.top)/fe._invScaleY,xr.bx=Xr+2*i,xr.by=Math.max(kr+2*i,Tr),xr.anchor="start",xr.txwidth=Xr,xr.tx2width=Ir,xr.offset=0;var pn=(Xr+A+i+Ir)*fe._invScaleX,tn,Tn;if(we)xr.pos=Or,tn=En+gr/2+pn<=Ge,Tn=En-gr/2-pn>=0,(xr.idealAlign==="top"||!tn)&&Tn?(En-=gr/2,xr.anchor="end"):tn?(En+=gr/2,xr.anchor="start"):xr.anchor="middle",xr.crossPos=En;else{if(xr.pos=En,tn=Or+nn/2+pn<=Ve,Tn=Or-nn/2-pn>=0,(xr.idealAlign==="left"||!tn)&&Tn)Or-=nn/2,xr.anchor="end";else if(tn)Or+=nn/2,xr.anchor="start";else{xr.anchor="middle";var Ln=pn/2,Hn=Or+Ln-Ve,pa=Or-Ln;Hn>0&&(Or-=Hn),pa<0&&(Or+=-pa)}xr.crossPos=Or}Wt.attr("text-anchor",xr.anchor),Ir&&yr.attr("text-anchor",xr.anchor),Ke.attr("transform",v(Or,En)+(we?p(x):""))}),{hoverLabels:Lr,commonLabelBoundingBox:ye}}function F(G,oe,te,fe,ge,we){var xe="",Ce="";G.nameOverride!==void 0&&(G.name=G.nameOverride),G.name&&(G.trace._meta&&(G.name=L.templateString(G.name,G.trace._meta)),xe=K(G.name,G.nameLength));var De=te.charAt(0),Oe=De==="x"?"y":"x";G.zLabel!==void 0?(G.xLabel!==void 0&&(Ce+="x: "+G.xLabel+"<br>"),G.yLabel!==void 0&&(Ce+="y: "+G.yLabel+"<br>"),G.trace.type!=="choropleth"&&G.trace.type!=="choroplethmapbox"&&(Ce+=(Ce?"z: ":"")+G.zLabel)):oe&&G[De+"Label"]===ge?Ce=G[Oe+"Label"]||"":G.xLabel===void 0?G.yLabel!==void 0&&G.trace.type!=="scattercarpet"&&(Ce=G.yLabel):G.yLabel===void 0?Ce=G.xLabel:Ce="("+G.xLabel+", "+G.yLabel+")",(G.text||G.text===0)&&!Array.isArray(G.text)&&(Ce+=(Ce?"<br>":"")+G.text),G.extraText!==void 0&&(Ce+=(Ce?"<br>":"")+G.extraText),we&&Ce===""&&!G.hovertemplate&&(xe===""&&we.remove(),Ce=xe);var Te=G.hovertemplate||!1;if(Te){var Re=G.hovertemplateLabels||G;G[De+"Label"]!==ge&&(Re[De+"other"]=Re[De+"Val"],Re[De+"otherLabel"]=Re[De+"Label"]),Ce=L.hovertemplateString(Te,Re,fe._d3locale,G.eventData[0]||{},G.trace._meta),Ce=Ce.replace(_,function(Me,ke){return xe=K(ke,G.nameLength),""})}return[Ce,xe]}function z(G,oe,te,fe){var ge=oe?"xa":"ya",we=oe?"ya":"xa",xe=0,Ce=1,De=G.size(),Oe=new Array(De),Te=0,Re=fe.minX,Me=fe.maxX,ke=fe.minY,Se=fe.maxY,He=function(Ue){return Ue*te._invScaleX},je=function(Ue){return Ue*te._invScaleY};G.each(function(Ue){var Ee=Ue[ge],he=Ue[we],ye=Ee._id.charAt(0)==="x",_e=Ee.range;Te===0&&_e&&_e[0]>_e[1]!==ye&&(Ce=-1);var We=0,rt=ye?te.width:te.height;if(te.hovermode==="x"||te.hovermode==="y"){var st=N(Ue,oe),Vt=Ue.anchor,Xt=Vt==="end"?-1:1,Tt,Lt;if(Vt==="middle")Tt=Ue.crossPos+(ye?je(st.y-Ue.by/2):He(Ue.bx/2+Ue.tx2width/2)),Lt=Tt+(ye?je(Ue.by):He(Ue.bx));else if(ye)Tt=Ue.crossPos+je(A+st.y)-je(Ue.by/2-A),Lt=Tt+je(Ue.by);else{var Kt=He(Xt*A+st.x),vr=Kt+He(Xt*Ue.bx);Tt=Ue.crossPos+Math.min(Kt,vr),Lt=Ue.crossPos+Math.max(Kt,vr)}ye?ke!==void 0&&Se!==void 0&&Math.min(Lt,Se)-Math.max(Tt,ke)>1&&(he.side==="left"?(We=he._mainLinePosition,rt=te.width):rt=he._mainLinePosition):Re!==void 0&&Me!==void 0&&Math.min(Lt,Me)-Math.max(Tt,Re)>1&&(he.side==="top"?(We=he._mainLinePosition,rt=te.height):rt=he._mainLinePosition)}Oe[Te++]=[{datum:Ue,traceIndex:Ue.trace.index,dp:0,pos:Ue.pos,posref:Ue.posref,size:Ue.by*(ye?C:1)/2,pmin:We,pmax:rt}]}),Oe.sort(function(Ue,Ee){return Ue[0].posref-Ee[0].posref||Ce*(Ee[0].traceIndex-Ue[0].traceIndex)});var at,Ze,$e,ut,ht,vt,xt;function St(Ue){var Ee=Ue[0],he=Ue[Ue.length-1];if(Ze=Ee.pmin-Ee.pos-Ee.dp+Ee.size,$e=he.pos+he.dp+he.size-Ee.pmax,Ze>.01){for(ht=Ue.length-1;ht>=0;ht--)Ue[ht].dp+=Ze;at=!1}if(!($e<.01)){if(Ze<-.01){for(ht=Ue.length-1;ht>=0;ht--)Ue[ht].dp-=$e;at=!1}if(at){var ye=0;for(ut=0;ut<Ue.length;ut++)vt=Ue[ut],vt.pos+vt.dp+vt.size>Ee.pmax&&ye++;for(ut=Ue.length-1;ut>=0&&!(ye<=0);ut--)vt=Ue[ut],vt.pos>Ee.pmax-1&&(vt.del=!0,ye--);for(ut=0;ut<Ue.length&&!(ye<=0);ut++)if(vt=Ue[ut],vt.pos<Ee.pmin+1)for(vt.del=!0,ye--,$e=vt.size*2,ht=Ue.length-1;ht>=0;ht--)Ue[ht].dp-=$e;for(ut=Ue.length-1;ut>=0&&!(ye<=0);ut--)vt=Ue[ut],vt.pos+vt.dp+vt.size>Ee.pmax&&(vt.del=!0,ye--)}}}for(;!at&&xe<=De;){for(xe++,at=!0,ut=0;ut<Oe.length-1;){var tt=Oe[ut],Ie=Oe[ut+1],Ve=tt[tt.length-1],Ge=Ie[0];if(Ze=Ve.pos+Ve.dp+Ve.size-Ge.pos-Ge.dp+Ge.size,Ze>.01){for(ht=Ie.length-1;ht>=0;ht--)Ie[ht].dp+=Ze;for(tt.push.apply(tt,Ie),Oe.splice(ut+1,1),xt=0,ht=tt.length-1;ht>=0;ht--)xt+=tt[ht].dp;for($e=xt/tt.length,ht=tt.length-1;ht>=0;ht--)tt[ht].dp-=$e;at=!1}else ut++}Oe.forEach(St)}for(ut=Oe.length-1;ut>=0;ut--){var Xe=Oe[ut];for(ht=Xe.length-1;ht>=0;ht--){var Le=Xe[ht],Fe=Le.datum;Fe.offset=Le.dp,Fe.del=Le.del}}}function N(G,oe){var te=0,fe=G.offset;return oe&&(fe*=-S,te=G.offset*y),{x:te,y:fe}}function W(G){var oe={start:1,end:-1,middle:0}[G.anchor],te=oe*(A+i),fe=te+oe*(G.txwidth+i),ge=G.anchor==="middle";return ge&&(te-=G.tx2width/2,fe+=G.txwidth/2+i),{alignShift:oe,textShiftX:te,text2ShiftX:fe}}function Z(G,oe,te,fe){var ge=function(xe){return xe*te},we=function(xe){return xe*fe};G.each(function(xe){var Ce=b.select(this);if(xe.del)return Ce.remove();var De=Ce.select("text.nums"),Oe=xe.anchor,Te=Oe==="end"?-1:1,Re=W(xe),Me=N(xe,oe),ke=Me.x,Se=Me.y,He=Oe==="middle";Ce.select("path").attr("d",He?"M-"+ge(xe.bx/2+xe.tx2width/2)+","+we(Se-xe.by/2)+"h"+ge(xe.bx)+"v"+we(xe.by)+"h-"+ge(xe.bx)+"Z":"M0,0L"+ge(Te*A+ke)+","+we(A+Se)+"v"+we(xe.by/2-A)+"h"+ge(Te*xe.bx)+"v-"+we(xe.by)+"H"+ge(Te*A+ke)+"V"+we(Se-A)+"Z");var je=ke+Re.textShiftX,at=Se+xe.ty0-xe.by/2+i,Ze=xe.textAlign||"auto";Ze!=="auto"&&(Ze==="left"&&Oe!=="start"?(De.attr("text-anchor","start"),je=He?-xe.bx/2-xe.tx2width/2+i:-xe.bx-i):Ze==="right"&&Oe!=="end"&&(De.attr("text-anchor","end"),je=He?xe.bx/2-xe.tx2width/2-i:xe.bx+i)),De.call(t.positionText,ge(je),we(at)),xe.tx2width&&(Ce.select("text.name").call(t.positionText,ge(Re.text2ShiftX+Re.alignShift*i+ke),we(Se+xe.ty0-xe.by/2+i)),Ce.select("rect").call(n.setRect,ge(Re.text2ShiftX+(Re.alignShift-1)*xe.tx2width/2+ke),we(Se-xe.by/2-1),ge(xe.tx2width),we(xe.by+2)))})}function q(G,oe){var te=G.index,fe=G.trace||{},ge=G.cd[0],we=G.cd[te]||{};function xe(Me){return Me||P(Me)&&Me===0}var Ce=Array.isArray(te)?function(Me,ke){var Se=L.castOption(ge,te,Me);return xe(Se)?Se:L.extractOption({},fe,"",ke)}:function(Me,ke){return L.extractOption(we,fe,Me,ke)};function De(Me,ke,Se){var He=Ce(ke,Se);xe(He)&&(G[Me]=He)}if(De("hoverinfo","hi","hoverinfo"),De("bgcolor","hbg","hoverlabel.bgcolor"),De("borderColor","hbc","hoverlabel.bordercolor"),De("fontFamily","htf","hoverlabel.font.family"),De("fontSize","hts","hoverlabel.font.size"),De("fontColor","htc","hoverlabel.font.color"),De("fontWeight","htw","hoverlabel.font.weight"),De("fontStyle","hty","hoverlabel.font.style"),De("fontVariant","htv","hoverlabel.font.variant"),De("nameLength","hnl","hoverlabel.namelength"),De("textAlign","hta","hoverlabel.align"),G.posref=oe==="y"||oe==="closest"&&fe.orientation==="h"?G.xa._offset+(G.x0+G.x1)/2:G.ya._offset+(G.y0+G.y1)/2,G.x0=L.constrain(G.x0,0,G.xa._length),G.x1=L.constrain(G.x1,0,G.xa._length),G.y0=L.constrain(G.y0,0,G.ya._length),G.y1=L.constrain(G.y1,0,G.ya._length),G.xLabelVal!==void 0&&(G.xLabel="xLabel"in G?G.xLabel:f.hoverLabelText(G.xa,G.xLabelVal,fe.xhoverformat),G.xVal=G.xa.c2d(G.xLabelVal)),G.yLabelVal!==void 0&&(G.yLabel="yLabel"in G?G.yLabel:f.hoverLabelText(G.ya,G.yLabelVal,fe.yhoverformat),G.yVal=G.ya.c2d(G.yLabelVal)),G.zLabelVal!==void 0&&G.zLabel===void 0&&(G.zLabel=String(G.zLabelVal)),!isNaN(G.xerr)&&!(G.xa.type==="log"&&G.xerr<=0)){var Oe=f.tickText(G.xa,G.xa.c2l(G.xerr),"hover").text;G.xerrneg!==void 0?G.xLabel+=" +"+Oe+" / -"+f.tickText(G.xa,G.xa.c2l(G.xerrneg),"hover").text:G.xLabel+=" ± "+Oe,oe==="x"&&(G.distance+=1)}if(!isNaN(G.yerr)&&!(G.ya.type==="log"&&G.yerr<=0)){var Te=f.tickText(G.ya,G.ya.c2l(G.yerr),"hover").text;G.yerrneg!==void 0?G.yLabel+=" +"+Te+" / -"+f.tickText(G.ya,G.ya.c2l(G.yerrneg),"hover").text:G.yLabel+=" ± "+Te,oe==="y"&&(G.distance+=1)}var Re=G.hoverinfo||G.trace.hoverinfo;return Re&&Re!=="all"&&(Re=Array.isArray(Re)?Re:Re.split("+"),Re.indexOf("x")===-1&&(G.xLabel=void 0),Re.indexOf("y")===-1&&(G.yLabel=void 0),Re.indexOf("z")===-1&&(G.zLabel=void 0),Re.indexOf("text")===-1&&(G.text=void 0),Re.indexOf("name")===-1&&(G.name=void 0)),G}function re(G,oe,te){var fe=te.container,ge=te.fullLayout,we=ge._size,xe=te.event,Ce=!!oe.hLinePoint,De=!!oe.vLinePoint,Oe,Te;if(fe.selectAll(".spikeline").remove(),!!(De||Ce)){var Re=l.combine(ge.plot_bgcolor,ge.paper_bgcolor);if(Ce){var Me=oe.hLinePoint,ke,Se;Oe=Me&&Me.xa,Te=Me&&Me.ya;var He=Te.spikesnap;He==="cursor"?(ke=xe.pointerX,Se=xe.pointerY):(ke=Oe._offset+Me.x,Se=Te._offset+Me.y);var je=s.readability(Me.color,Re)<1.5?l.contrast(Re):Me.color,at=Te.spikemode,Ze=Te.spikethickness,$e=Te.spikecolor||je,ut=f.getPxPosition(G,Te),ht,vt;if(at.indexOf("toaxis")!==-1||at.indexOf("across")!==-1){if(at.indexOf("toaxis")!==-1&&(ht=ut,vt=ke),at.indexOf("across")!==-1){var xt=Te._counterDomainMin,St=Te._counterDomainMax;Te.anchor==="free"&&(xt=Math.min(xt,Te.position),St=Math.max(St,Te.position)),ht=we.l+xt*we.w,vt=we.l+St*we.w}fe.insert("line",":first-child").attr({x1:ht,x2:vt,y1:Se,y2:Se,"stroke-width":Ze,stroke:$e,"stroke-dasharray":n.dashStyle(Te.spikedash,Ze)}).classed("spikeline",!0).classed("crisp",!0),fe.insert("line",":first-child").attr({x1:ht,x2:vt,y1:Se,y2:Se,"stroke-width":Ze+2,stroke:Re}).classed("spikeline",!0).classed("crisp",!0)}at.indexOf("marker")!==-1&&fe.insert("circle",":first-child").attr({cx:ut+(Te.side!=="right"?Ze:-Ze),cy:Se,r:Ze,fill:$e}).classed("spikeline",!0)}if(De){var tt=oe.vLinePoint,Ie,Ve;Oe=tt&&tt.xa,Te=tt&&tt.ya;var Ge=Oe.spikesnap;Ge==="cursor"?(Ie=xe.pointerX,Ve=xe.pointerY):(Ie=Oe._offset+tt.x,Ve=Te._offset+tt.y);var Xe=s.readability(tt.color,Re)<1.5?l.contrast(Re):tt.color,Le=Oe.spikemode,Fe=Oe.spikethickness,Ue=Oe.spikecolor||Xe,Ee=f.getPxPosition(G,Oe),he,ye;if(Le.indexOf("toaxis")!==-1||Le.indexOf("across")!==-1){if(Le.indexOf("toaxis")!==-1&&(he=Ee,ye=Ve),Le.indexOf("across")!==-1){var _e=Oe._counterDomainMin,We=Oe._counterDomainMax;Oe.anchor==="free"&&(_e=Math.min(_e,Oe.position),We=Math.max(We,Oe.position)),he=we.t+(1-We)*we.h,ye=we.t+(1-_e)*we.h}fe.insert("line",":first-child").attr({x1:Ie,x2:Ie,y1:he,y2:ye,"stroke-width":Fe,stroke:Ue,"stroke-dasharray":n.dashStyle(Oe.spikedash,Fe)}).classed("spikeline",!0).classed("crisp",!0),fe.insert("line",":first-child").attr({x1:Ie,x2:Ie,y1:he,y2:ye,"stroke-width":Fe+2,stroke:Re}).classed("spikeline",!0).classed("crisp",!0)}Le.indexOf("marker")!==-1&&fe.insert("circle",":first-child").attr({cx:Ie,cy:Ee-(Oe.side!=="top"?Fe:-Fe),r:Fe,fill:Ue}).classed("spikeline",!0)}}}function le(G,oe,te){if(!te||te.length!==G._hoverdata.length)return!0;for(var fe=te.length-1;fe>=0;fe--){var ge=te[fe],we=G._hoverdata[fe];if(ge.curveNumber!==we.curveNumber||String(ge.pointNumber)!==String(we.pointNumber)||String(ge.pointNumbers)!==String(we.pointNumbers))return!0}return!1}function ie(G,oe){return!0}function K(G,oe){return t.plainText(G||"",{len:oe,allowedTags:["br","sub","sup","b","i","em","s","u"]})}function $(G,oe){for(var te=oe.charAt(0),fe=[],ge=[],we=[],xe=0;xe<G.length;xe++){var Ce=G[xe];h.traceIs(Ce.trace,"bar-like")||h.traceIs(Ce.trace,"box-violin")?we.push(Ce):Ce.trace[te+"period"]?ge.push(Ce):fe.push(Ce)}return fe.concat(ge).concat(we)}function X(G,oe,te){var fe=oe[G+"a"],ge=oe[G+"Val"],we=oe.cd[0];if(fe.type==="category"||fe.type==="multicategory")ge=fe._categoriesMap[ge];else if(fe.type==="date"){var xe=oe.trace[G+"periodalignment"];if(xe){var Ce=oe.cd[oe.index],De=Ce[G+"Start"];De===void 0&&(De=Ce[G]);var Oe=Ce[G+"End"];Oe===void 0&&(Oe=Ce[G]);var Te=Oe-De;xe==="end"?ge+=Te:xe==="middle"&&(ge+=Te/2)}ge=fe.d2c(ge)}return we&&we.t&&we.t.posLetter===fe._id&&(te.boxmode==="group"||te.violinmode==="group")&&(ge+=we.t.dPos),ge}function Q(G){return G.offsetTop+G.clientTop}function se(G){return G.offsetLeft+G.clientLeft}function J(G,oe){var te=G._fullLayout,fe=oe.getBoundingClientRect(),ge=fe.left,we=fe.top,xe=ge+fe.width,Ce=we+fe.height,De=L.apply3DTransform(te._invTransform)(ge,we),Oe=L.apply3DTransform(te._invTransform)(xe,Ce),Te=De[0],Re=De[1],Me=Oe[0],ke=Oe[1];return{x:Te,y:Re,width:Me-Te,height:ke-Re,top:Math.min(Re,ke),left:Math.min(Te,Me),right:Math.max(Te,Me),bottom:Math.max(Re,ke)}}},16132:function(Y,V,e){var b=e(3400),P=e(76308),s=e(10624).isUnifiedHover;Y.exports=function(M,v,p,r){r=r||{};var t=v.legend;function o(n){r.font[n]||(r.font[n]=t?v.legend.font[n]:v.font[n])}v&&s(v.hovermode)&&(r.font||(r.font={}),o("size"),o("family"),o("color"),o("weight"),o("style"),o("variant"),t?(r.bgcolor||(r.bgcolor=P.combine(v.legend.bgcolor,v.paper_bgcolor)),r.bordercolor||(r.bordercolor=v.legend.bordercolor)):r.bgcolor||(r.bgcolor=v.paper_bgcolor)),p("hoverlabel.bgcolor",r.bgcolor),p("hoverlabel.bordercolor",r.bordercolor),p("hoverlabel.namelength",r.namelength),b.coerceFont(p,"hoverlabel.font",r.font),p("hoverlabel.align",r.align)}},41008:function(Y,V,e){var b=e(3400),P=e(65460);Y.exports=function(L,M){function v(p,r){return M[p]!==void 0?M[p]:b.coerce(L,M,P,p,r)}return v("clickmode"),v("hoversubplots"),v("hovermode")}},93024:function(Y,V,e){var b=e(33428),P=e(3400),s=e(86476),L=e(10624),M=e(65460),v=e(83292);Y.exports={moduleType:"component",name:"fx",constants:e(92456),schema:{layout:M},attributes:e(55756),layoutAttributes:M,supplyLayoutGlobalDefaults:e(81976),supplyDefaults:e(95448),supplyLayoutDefaults:e(88336),calc:e(55056),getDistanceFunction:L.getDistanceFunction,getClosest:L.getClosest,inbox:L.inbox,quadrature:L.quadrature,appendArrayPointValue:L.appendArrayPointValue,castHoverOption:r,castHoverinfo:t,hover:v.hover,unhover:s.unhover,loneHover:v.loneHover,loneUnhover:p,click:e(62376)};function p(o){var n=P.isD3Selection(o)?o:b.select(o);n.selectAll("g.hovertext").remove(),n.selectAll(".spikeline").remove()}function r(o,n,l){return P.castOption(o,n,"hoverlabel."+l)}function t(o,n,l){function u(f){return P.coerceHoverinfo({hoverinfo:f},{_module:o._module},n)}return P.castOption(o,l,"hoverinfo",u)}},65460:function(Y,V,e){var b=e(92456),P=e(25376),s=P({editType:"none"});s.family.dflt=b.HOVERFONT,s.size.dflt=b.HOVERFONTSIZE,Y.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:s,grouptitlefont:P({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},88336:function(Y,V,e){var b=e(3400),P=e(65460),s=e(41008),L=e(16132);Y.exports=function(v,p){function r(f,g){return b.coerce(v,p,P,f,g)}var t=s(v,p);t&&(r("hoverdistance"),r("spikedistance"));var o=r("dragmode");o==="select"&&r("selectdirection");var n=p._has("mapbox"),l=p._has("geo"),u=p._basePlotModules.length;p.dragmode==="zoom"&&((n||l)&&u===1||n&&l&&u===2)&&(p.dragmode="pan"),L(v,p,r),b.coerceFont(r,"hoverlabel.grouptitlefont",p.hoverlabel.font)}},81976:function(Y,V,e){var b=e(3400),P=e(16132),s=e(65460);Y.exports=function(M,v){function p(r,t){return b.coerce(M,v,s,r,t)}P(M,v,p)}},12704:function(Y,V,e){var b=e(3400),P=e(53756).counter,s=e(86968).u,L=e(33816).idRegex,M=e(31780),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[P("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[L.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[L.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:s({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function p(l,u,f){var g=u[f+"axes"],h=Object.keys((l._splomAxes||{})[f]||{});if(Array.isArray(g))return g;if(h.length)return h}function r(l,u){var f=l.grid||{},g=p(u,f,"x"),h=p(u,f,"y");if(!l.grid&&!g&&!h)return;var w=Array.isArray(f.subplots)&&Array.isArray(f.subplots[0]),c=Array.isArray(g),a=Array.isArray(h),d=c&&g!==f.xaxes&&a&&h!==f.yaxes,x,T;w?(x=f.subplots.length,T=f.subplots[0].length):(a&&(x=h.length),c&&(T=g.length));var C=M.newContainer(u,"grid");function y(B,F){return b.coerce(f,C,v,B,F)}var S=y("rows",x),A=y("columns",T);if(!(S*A>1)){delete u.grid;return}if(!w&&!c&&!a){var i=y("pattern")==="independent";i&&(w=!0)}C._hasSubplotGrid=w;var E=y("roworder"),m=E==="top to bottom",k=w?.2:.1,I=w?.3:.1,O,_;d&&u._splomGridDflt&&(O=u._splomGridDflt.xside,_=u._splomGridDflt.yside),C._domains={x:t("x",y,k,O,A),y:t("y",y,I,_,S,m)}}function t(l,u,f,g,h,w){var c=u(l+"gap",f),a=u("domain."+l);u(l+"side",g);for(var d=new Array(h),x=a[0],T=(a[1]-x)/(h-c),C=T*(1-c),y=0;y<h;y++){var S=x+T*y;d[w?h-1-y:y]=[S,S+C]}return d}function o(l,u){var f=u.grid;if(!(!f||!f._domains)){var g=l.grid||{},h=u._subplots,w=f._hasSubplotGrid,c=f.rows,a=f.columns,d=f.pattern==="independent",x,T,C,y,S,A,i,E=f._axisMap={};if(w){var m=g.subplots||[];A=f.subplots=new Array(c);var k=1;for(x=0;x<c;x++){var I=A[x]=new Array(a),O=m[x]||[];for(T=0;T<a;T++)if(d?(S=k===1?"xy":"x"+k+"y"+k,k++):S=O[T],I[T]="",h.cartesian.indexOf(S)!==-1){if(i=S.indexOf("y"),C=S.slice(0,i),y=S.slice(i),E[C]!==void 0&&E[C]!==T||E[y]!==void 0&&E[y]!==x)continue;I[T]=S,E[C]=T,E[y]=x}}}else{var _=p(u,g,"x"),B=p(u,g,"y");f.xaxes=n(_,h.xaxis,a,E,"x"),f.yaxes=n(B,h.yaxis,c,E,"y")}var F=f._anchors={},z=f.roworder==="top to bottom";for(var N in E){var W=N.charAt(0),Z=f[W+"side"],q,re,le;if(Z.length<8)F[N]="free";else if(W==="x"){if(Z.charAt(0)==="t"===z?(q=0,re=1,le=c):(q=c-1,re=-1,le=-1),w){var ie=E[N];for(x=q;x!==le;x+=re)if(S=A[x][ie],!!S&&(i=S.indexOf("y"),S.slice(0,i)===N)){F[N]=S.slice(i);break}}else for(x=q;x!==le;x+=re)if(y=f.yaxes[x],h.cartesian.indexOf(N+y)!==-1){F[N]=y;break}}else if(Z.charAt(0)==="l"?(q=0,re=1,le=a):(q=a-1,re=-1,le=-1),w){var K=E[N];for(x=q;x!==le;x+=re)if(S=A[K][x],!!S&&(i=S.indexOf("y"),S.slice(i)===N)){F[N]=S.slice(0,i);break}}else for(x=q;x!==le;x+=re)if(C=f.xaxes[x],h.cartesian.indexOf(C+N)!==-1){F[N]=C;break}}}}function n(l,u,f,g,h){var w=new Array(f),c;function a(d,x){u.indexOf(x)!==-1&&g[x]===void 0?(w[d]=x,g[x]=d):w[d]=""}if(Array.isArray(l))for(c=0;c<f;c++)a(c,l[c]);else for(a(0,h),c=1;c<f;c++)a(c,h+(c+1));return w}Y.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:r,contentDefaults:o}},65760:function(Y,V,e){var b=e(33816),P=e(31780).templatedArray;e(36208),Y.exports=P("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",b.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",b.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},63556:function(Y,V,e){var b=e(38248),P=e(36896);Y.exports=function(L,M,v,p){M=M||{};var r=v==="log"&&M.type==="linear",t=v==="linear"&&M.type==="log";if(r||t){for(var o=L._fullLayout.images,n=M._id.charAt(0),l,u,f=0;f<o.length;f++)if(l=o[f],u="images["+f+"].",l[n+"ref"]===M._id){var g=l[n],h=l["size"+n],w=null,c=null;if(r){w=P(g,M.range);var a=h/Math.pow(10,w)/2;c=2*Math.log(a+Math.sqrt(1+a*a))/Math.LN10}else w=Math.pow(10,g),c=w*(Math.pow(10,h/2)-Math.pow(10,-h/2));b(w)?b(c)||(c=null):(w=null,c=null),p(u+n,w),p(u+"size"+n,c)}}}},25024:function(Y,V,e){var b=e(3400),P=e(54460),s=e(51272),L=e(65760),M="images";Y.exports=function(r,t){var o={name:M,handleItemDefaults:v};s(r,t,o)};function v(p,r,t){function o(a,d){return b.coerce(p,r,L,a,d)}var n=o("source"),l=o("visible",!!n);if(!l)return r;o("layer"),o("xanchor"),o("yanchor"),o("sizex"),o("sizey"),o("sizing"),o("opacity");for(var u={_fullLayout:t},f=["x","y"],g=0;g<2;g++){var h=f[g],w=P.coerceRef(p,r,u,h,"paper",void 0);if(w!=="paper"){var c=P.getFromId(u,w);c._imgIndices.push(r._index)}P.coercePosition(r,u,o,w,h,0)}return r}},60963:function(Y,V,e){var b=e(33428),P=e(43616),s=e(54460),L=e(79811),M=e(9616);Y.exports=function(p){var r=p._fullLayout,t=[],o={},n=[],l,u;for(u=0;u<r.images.length;u++){var f=r.images[u];if(f.visible)if(f.layer==="below"&&f.xref!=="paper"&&f.yref!=="paper"){l=L.ref2id(f.xref)+L.ref2id(f.yref);var g=r._plots[l];if(!g){n.push(f);continue}g.mainplot&&(l=g.mainplot.id),o[l]||(o[l]=[]),o[l].push(f)}else f.layer==="above"?t.push(f):n.push(f)}var h={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function w(y){var S=b.select(this);if(this._imgSrc!==y.source)if(S.attr("xmlns",M.svg),y.source&&y.source.slice(0,5)==="data:")S.attr("xlink:href",y.source),this._imgSrc=y.source;else{var A=new Promise((function(i){var E=new Image;this.img=E,E.setAttribute("crossOrigin","anonymous"),E.onerror=m,E.onload=function(){var k=document.createElement("canvas");k.width=this.width,k.height=this.height;var I=k.getContext("2d",{willReadFrequently:!0});I.drawImage(this,0,0);var O=k.toDataURL("image/png");S.attr("xlink:href",O),i()},S.on("error",m),E.src=y.source,this._imgSrc=y.source;function m(){S.remove(),i()}}).bind(this));p._promises.push(A)}}function c(y){var S=b.select(this),A=s.getFromId(p,y.xref),i=s.getFromId(p,y.yref),E=s.getRefType(y.xref)==="domain",m=s.getRefType(y.yref)==="domain",k=r._size,I,O;A!==void 0?I=typeof y.xref=="string"&&E?A._length*y.sizex:Math.abs(A.l2p(y.sizex)-A.l2p(0)):I=y.sizex*k.w,i!==void 0?O=typeof y.yref=="string"&&m?i._length*y.sizey:Math.abs(i.l2p(y.sizey)-i.l2p(0)):O=y.sizey*k.h;var _=I*h.x[y.xanchor].offset,B=O*h.y[y.yanchor].offset,F=h.x[y.xanchor].sizing+h.y[y.yanchor].sizing,z,N;switch(A!==void 0?z=typeof y.xref=="string"&&E?A._length*y.x+A._offset:A.r2p(y.x)+A._offset:z=y.x*k.w+k.l,z+=_,i!==void 0?N=typeof y.yref=="string"&&m?i._length*(1-y.y)+i._offset:i.r2p(y.y)+i._offset:N=k.h-y.y*k.h+k.t,N+=B,y.sizing){case"fill":F+=" slice";break;case"stretch":F="none";break}S.attr({x:z,y:N,width:I,height:O,preserveAspectRatio:F,opacity:y.opacity});var W=A&&s.getRefType(y.xref)!=="domain"?A._id:"",Z=i&&s.getRefType(y.yref)!=="domain"?i._id:"",q=W+Z;P.setClipUrl(S,q?"clip"+r._uid+q:null,p)}var a=r._imageLowerLayer.selectAll("image").data(n),d=r._imageUpperLayer.selectAll("image").data(t);a.enter().append("image"),d.enter().append("image"),a.exit().remove(),d.exit().remove(),a.each(function(y){w.bind(this)(y),c.bind(this)(y)}),d.each(function(y){w.bind(this)(y),c.bind(this)(y)});var x=Object.keys(r._plots);for(u=0;u<x.length;u++){l=x[u];var T=r._plots[l];if(T.imagelayer){var C=T.imagelayer.selectAll("image").data(o[l]||[]);C.enter().append("image"),C.exit().remove(),C.each(function(y){w.bind(this)(y),c.bind(this)(y)})}}}},7402:function(Y,V,e){Y.exports={moduleType:"component",name:"images",layoutAttributes:e(65760),supplyLayoutDefaults:e(25024),includeBasePlot:e(36632)("images"),draw:e(60963),convertCoords:e(63556)}},3800:function(Y,V,e){var b=e(25376),P=e(22548);Y.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:P.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:b({editType:"legend"}),grouptitlefont:b({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:b({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},65196:function(Y){Y.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},77864:function(Y,V,e){var b=e(24040),P=e(3400),s=e(31780),L=e(45464),M=e(3800),v=e(64859),p=e(42451);function r(t,o,n,l){var u=o[t]||{},f=s.newContainer(n,t);function g(le,ie){return P.coerce(u,f,M,le,ie)}var h=P.coerceFont(g,"font",n.font);g("bgcolor",n.paper_bgcolor),g("bordercolor");var w=g("visible");if(w){for(var c,a=function(le,ie){var K=c._input,$=c;return P.coerce(K,$,L,le,ie)},d=n.font||{},x=P.coerceFont(g,"grouptitlefont",d,{overrideDflt:{size:Math.round(d.size*1.1)}}),T=0,C=!1,y="normal",S=(n.shapes||[]).filter(function(le){return le.showlegend}),A=l.concat(S).filter(function(le){return t===(le.legend||"legend")}),i=0;i<A.length;i++)if(c=A[i],!!c.visible){var E=c._isShape;(c.showlegend||c._dfltShowLegend&&!(c._module&&c._module.attributes&&c._module.attributes.showlegend&&c._module.attributes.showlegend.dflt===!1))&&(T++,c.showlegend&&(C=!0,(!E&&b.traceIs(c,"pie-like")||c._input.showlegend===!0)&&T++),P.coerceFont(a,"legendgrouptitle.font",x)),(!E&&b.traceIs(c,"bar")&&n.barmode==="stack"||["tonextx","tonexty"].indexOf(c.fill)!==-1)&&(y=p.isGrouped({traceorder:y})?"grouped+reversed":"reversed"),c.legendgroup!==void 0&&c.legendgroup!==""&&(y=p.isReversed({traceorder:y})?"reversed+grouped":"grouped")}var m=P.coerce(o,n,v,"showlegend",C&&T>(t==="legend"?1:0));if(m===!1&&(n[t]=void 0),!(m===!1&&!u.uirevision)&&(g("uirevision",n.uirevision),m!==!1)){g("borderwidth");var k=g("orientation"),I=g("yref"),O=g("xref"),_=k==="h",B=I==="paper",F=O==="paper",z,N,W,Z="left";_?(z=0,b.getComponentMethod("rangeslider","isVisible")(o.xaxis)?B?(N=1.1,W="bottom"):(N=1,W="top"):B?(N=-.1,W="top"):(N=0,W="bottom")):(N=1,W="auto",F?z=1.02:(z=1,Z="right")),P.coerce(u,f,{x:{valType:"number",editType:"legend",min:F?-2:0,max:F?3:1,dflt:z}},"x"),P.coerce(u,f,{y:{valType:"number",editType:"legend",min:B?-2:0,max:B?3:1,dflt:N}},"y"),g("traceorder",y),p.isGrouped(n[t])&&g("tracegroupgap"),g("entrywidth"),g("entrywidthmode"),g("indentation"),g("itemsizing"),g("itemwidth"),g("itemclick"),g("itemdoubleclick"),g("groupclick"),g("xanchor",Z),g("yanchor",W),g("valign"),P.noneOrAll(u,f,["x","y"]);var q=g("title.text");if(q){g("title.side",_?"left":"top");var re=P.extendFlat({},h,{size:P.bigFont(h.size)});P.coerceFont(g,"title.font",re)}}}}Y.exports=function(o,n,l){var u,f=l.slice(),g=n.shapes;if(g)for(u=0;u<g.length;u++){var h=g[u];if(h.showlegend){var w={_input:h._input,visible:h.visible,showlegend:h.showlegend,legend:h.legend};f.push(w)}}var c=["legend"];for(u=0;u<f.length;u++)P.pushUnique(c,f[u].legend);for(n._legends=[],u=0;u<c.length;u++){var a=c[u];r(a,o,n,f),n[a]&&n[a].visible&&(n[a]._id=a),n._legends.push(a)}}},31140:function(Y,V,e){var b=e(33428),P=e(3400),s=e(7316),L=e(24040),M=e(95924),v=e(86476),p=e(43616),r=e(76308),t=e(72736),o=e(33048),n=e(65196),l=e(84284),u=l.LINE_SPACING,f=l.FROM_TL,g=l.FROM_BR,h=e(35456),w=e(2012),c=e(42451),a=1,d=/^legend[0-9]*$/;Y.exports=function(N,W){if(W)T(N,W);else{var Z=N._fullLayout,q=Z._legends,re=Z._infolayer.selectAll('[class^="legend"]');re.each(function(){var $=b.select(this),X=$.attr("class"),Q=X.split(" ")[0];Q.match(d)&&q.indexOf(Q)===-1&&$.remove()});for(var le=0;le<q.length;le++){var ie=q[le],K=N._fullLayout[ie];T(N,K)}}};function x(z,N,W){if(!(N.title.side!=="top center"&&N.title.side!=="top right")){var Z=N.title.font,q=Z.size*u,re=0,le=z.node(),ie=p.bBox(le).width;N.title.side==="top center"?re=.5*(N._width-2*W-2*n.titlePad-ie):N.title.side==="top right"&&(re=N._width-2*W-2*n.titlePad-ie),t.positionText(z,W+n.titlePad+re,W+q)}}function T(z,N){var W=N||{},Z=z._fullLayout,q=F(W),re,le,ie=W._inHover;if(ie?(le=W.layer,re="hover"):(le=Z._infolayer,re=q),!!le){re+=Z._uid,z._legendMouseDownTime||(z._legendMouseDownTime=0);var K;if(ie){if(!W.entries)return;K=h(W.entries,W)}else{for(var $=(z.calcdata||[]).slice(),X=Z.shapes,Q=0;Q<X.length;Q++){var se=X[Q];if(se.showlegend){var J={_isShape:!0,_fullInput:se,index:se._index,name:se.name||se.label.text||"shape "+se._index,legend:se.legend,legendgroup:se.legendgroup,legendgrouptitle:se.legendgrouptitle,legendrank:se.legendrank,legendwidth:se.legendwidth,showlegend:se.showlegend,visible:se.visible,opacity:se.opacity,mode:se.type==="line"?"lines":"markers",line:se.line,marker:{line:se.line,color:se.fillcolor,size:12,symbol:se.type==="rect"?"square":se.type==="circle"?"circle":"hexagon2"}};$.push([{trace:J}])}}K=Z.showlegend&&h($,W,Z._legends.length>1)}var G=Z.hiddenlabels||[];if(!ie&&(!Z.showlegend||!K.length))return le.selectAll("."+q).remove(),Z._topdefs.select("#"+re).remove(),s.autoMargin(z,q);var oe=P.ensureSingle(le,"g",q,function(Te){ie||Te.attr("pointer-events","all")}),te=P.ensureSingleById(Z._topdefs,"clipPath",re,function(Te){Te.append("rect")}),fe=P.ensureSingle(oe,"rect","bg",function(Te){Te.attr("shape-rendering","crispEdges")});fe.call(r.stroke,W.bordercolor).call(r.fill,W.bgcolor).style("stroke-width",W.borderwidth+"px");var ge=P.ensureSingle(oe,"g","scrollbox"),we=W.title;W._titleWidth=0,W._titleHeight=0;var xe;we.text?(xe=P.ensureSingle(ge,"text",q+"titletext"),xe.attr("text-anchor","start").call(p.font,we.font).text(we.text),E(xe,ge,z,W,a)):ge.selectAll("."+q+"titletext").remove();var Ce=P.ensureSingle(oe,"rect","scrollbar",function(Te){Te.attr(n.scrollBarEnterAttrs).call(r.fill,n.scrollBarColor)}),De=ge.selectAll("g.groups").data(K);De.enter().append("g").attr("class","groups"),De.exit().remove();var Oe=De.selectAll("g.traces").data(P.identity);Oe.enter().append("g").attr("class","traces"),Oe.exit().remove(),Oe.style("opacity",function(Te){var Re=Te[0].trace;return L.traceIs(Re,"pie-like")?G.indexOf(Te[0].label)!==-1?.5:1:Re.visible==="legendonly"?.5:1}).each(function(){b.select(this).call(S,z,W)}).call(w,z,W).each(function(){ie||b.select(this).call(i,z,q)}),P.syncOrAsync([s.previousPromises,function(){return I(z,De,Oe,W)},function(){var Te=Z._size,Re=W.borderwidth,Me=W.xref==="paper",ke=W.yref==="paper";if(we.text&&x(xe,W,Re),!ie){var Se,He;Me?Se=Te.l+Te.w*W.x-f[_(W)]*W._width:Se=Z.width*W.x-f[_(W)]*W._width,ke?He=Te.t+Te.h*(1-W.y)-f[B(W)]*W._effHeight:He=Z.height*(1-W.y)-f[B(W)]*W._effHeight;var je=O(z,q,Se,He);if(je)return;if(Z.margin.autoexpand){var at=Se,Ze=He;Se=Me?P.constrain(Se,0,Z.width-W._width):at,He=ke?P.constrain(He,0,Z.height-W._effHeight):Ze,Se!==at&&P.log("Constrain "+q+".x to make legend fit inside graph"),He!==Ze&&P.log("Constrain "+q+".y to make legend fit inside graph")}p.setTranslate(oe,Se,He)}if(Ce.on(".drag",null),oe.on("wheel",null),ie||W._height<=W._maxHeight||z._context.staticPlot){var $e=W._effHeight;ie&&($e=W._height),fe.attr({width:W._width-Re,height:$e-Re,x:Re/2,y:Re/2}),p.setTranslate(ge,0,0),te.select("rect").attr({width:W._width-2*Re,height:$e-2*Re,x:Re,y:Re}),p.setClipUrl(ge,re,z),p.setRect(Ce,0,0,0,0),delete W._scrollY}else{var ut=Math.max(n.scrollBarMinHeight,W._effHeight*W._effHeight/W._height),ht=W._effHeight-ut-2*n.scrollBarMargin,vt=W._height-W._effHeight,xt=ht/vt,St=Math.min(W._scrollY||0,vt);fe.attr({width:W._width-2*Re+n.scrollBarWidth+n.scrollBarMargin,height:W._effHeight-Re,x:Re/2,y:Re/2}),te.select("rect").attr({width:W._width-2*Re+n.scrollBarWidth+n.scrollBarMargin,height:W._effHeight-2*Re,x:Re,y:Re+St}),p.setClipUrl(ge,re,z),Ue(St,ut,xt),oe.on("wheel",function(){St=P.constrain(W._scrollY+b.event.deltaY/ht*vt,0,vt),Ue(St,ut,xt),St!==0&&St!==vt&&b.event.preventDefault()});var tt,Ie,Ve,Ge=function(We,rt,st){var Vt=(st-rt)/xt+We;return P.constrain(Vt,0,vt)},Xe=function(We,rt,st){var Vt=(rt-st)/xt+We;return P.constrain(Vt,0,vt)},Le=b.behavior.drag().on("dragstart",function(){var We=b.event.sourceEvent;We.type==="touchstart"?tt=We.changedTouches[0].clientY:tt=We.clientY,Ve=St}).on("drag",function(){var We=b.event.sourceEvent;We.buttons===2||We.ctrlKey||(We.type==="touchmove"?Ie=We.changedTouches[0].clientY:Ie=We.clientY,St=Ge(Ve,tt,Ie),Ue(St,ut,xt))});Ce.call(Le);var Fe=b.behavior.drag().on("dragstart",function(){var We=b.event.sourceEvent;We.type==="touchstart"&&(tt=We.changedTouches[0].clientY,Ve=St)}).on("drag",function(){var We=b.event.sourceEvent;We.type==="touchmove"&&(Ie=We.changedTouches[0].clientY,St=Xe(Ve,tt,Ie),Ue(St,ut,xt))});ge.call(Fe)}function Ue(We,rt,st){W._scrollY=z._fullLayout[q]._scrollY=We,p.setTranslate(ge,0,-We),p.setRect(Ce,W._width,n.scrollBarMargin+We*st,n.scrollBarWidth,rt),te.select("rect").attr("y",Re+We)}if(z._context.edits.legendPosition){var Ee,he,ye,_e;oe.classed("cursor-move",!0),v.init({element:oe.node(),gd:z,prepFn:function(We){if(We.target!==Ce.node()){var rt=p.getTranslate(oe);ye=rt.x,_e=rt.y}},moveFn:function(We,rt){if(ye!==void 0&&_e!==void 0){var st=ye+We,Vt=_e+rt;p.setTranslate(oe,st,Vt),Ee=v.align(st,W._width,Te.l,Te.l+Te.w,W.xanchor),he=v.align(Vt+W._height,-W._height,Te.t+Te.h,Te.t,W.yanchor)}},doneFn:function(){if(Ee!==void 0&&he!==void 0){var We={};We[q+".x"]=Ee,We[q+".y"]=he,L.call("_guiRelayout",z,We)}},clickFn:function(We,rt){var st=le.selectAll("g.traces").filter(function(){var Vt=this.getBoundingClientRect();return rt.clientX>=Vt.left&&rt.clientX<=Vt.right&&rt.clientY>=Vt.top&&rt.clientY<=Vt.bottom});st.size()>0&&y(z,oe,st,We,rt)}})}}],z)}}function C(z,N,W){var Z=z[0],q=Z.width,re=N.entrywidthmode,le=Z.trace.legendwidth||N.entrywidth;return re==="fraction"?N._maxWidth*le:W+(le||q)}function y(z,N,W,Z,q){var re=W.data()[0][0].trace,le={event:q,node:W.node(),curveNumber:re.index,expandedIndex:re._expandedIndex,data:z.data,layout:z.layout,frames:z._transitionData._frames,config:z._context,fullData:z._fullData,fullLayout:z._fullLayout};re._group&&(le.group=re._group),L.traceIs(re,"pie-like")&&(le.label=W.datum()[0].label);var ie=M.triggerHandler(z,"plotly_legendclick",le);if(Z===1){if(ie===!1)return;N._clickTimeout=setTimeout(function(){z._fullLayout&&o(W,z,Z)},z._context.doubleClickDelay)}else if(Z===2){N._clickTimeout&&clearTimeout(N._clickTimeout),z._legendMouseDownTime=0;var K=M.triggerHandler(z,"plotly_legenddoubleclick",le);K!==!1&&ie!==!1&&o(W,z,Z)}}function S(z,N,W){var Z=F(W),q=z.data()[0][0],re=q.trace,le=L.traceIs(re,"pie-like"),ie=!W._inHover&&N._context.edits.legendText&&!le,K=W._maxNameLength,$,X;q.groupTitle?($=q.groupTitle.text,X=q.groupTitle.font):(X=W.font,W.entries?$=q.text:($=le?q.label:re.name,re._meta&&($=P.templateString($,re._meta))));var Q=P.ensureSingle(z,"text",Z+"text");Q.attr("text-anchor","start").call(p.font,X).text(ie?A($,K):$);var se=W.indentation+W.itemwidth+n.itemGap*2;t.positionText(Q,se,0),ie?Q.call(t.makeEditable,{gd:N,text:$}).call(E,z,N,W).on("edit",function(J){this.text(A(J,K)).call(E,z,N,W);var G=q.trace._fullInput||{},oe={};if(L.hasTransform(G,"groupby")){var te=L.getTransformIndices(G,"groupby"),fe=te[te.length-1],ge=P.keyedContainer(G,"transforms["+fe+"].styles","target","value.name");ge.set(q.trace._group,J),oe=ge.constructUpdate()}else oe.name=J;return G._isShape?L.call("_guiRelayout",N,"shapes["+re.index+"].name",oe.name):L.call("_guiRestyle",N,oe,re.index)}):E(Q,z,N,W)}function A(z,N){var W=Math.max(4,N);if(z&&z.trim().length>=W/2)return z;z=z||"";for(var Z=W-z.length;Z>0;Z--)z+=" ";return z}function i(z,N,W){var Z=N._context.doubleClickDelay,q,re=1,le=P.ensureSingle(z,"rect",W+"toggle",function(ie){N._context.staticPlot||ie.style("cursor","pointer").attr("pointer-events","all"),ie.call(r.fill,"rgba(0,0,0,0)")});N._context.staticPlot||(le.on("mousedown",function(){q=new Date().getTime(),q-N._legendMouseDownTime<Z?re+=1:(re=1,N._legendMouseDownTime=q)}),le.on("mouseup",function(){if(!(N._dragged||N._editing)){var ie=N._fullLayout[W];new Date().getTime()-N._legendMouseDownTime>Z&&(re=Math.max(re-1,1)),y(N,ie,z,re,b.event)}}))}function E(z,N,W,Z,q){Z._inHover&&z.attr("data-notex",!0),t.convertToTspans(z,W,function(){m(N,W,Z,q)})}function m(z,N,W,Z){var q=z.data()[0][0];if(!W._inHover&&q&&!q.trace.showlegend){z.remove();return}var re=z.select("g[class*=math-group]"),le=re.node(),ie=F(W);W||(W=N._fullLayout[ie]);var K=W.borderwidth,$;Z===a?$=W.title.font:q.groupTitle?$=q.groupTitle.font:$=W.font;var X=$.size*u,Q,se;if(le){var J=p.bBox(le);Q=J.height,se=J.width,Z===a?p.setTranslate(re,K,K+Q*.75):p.setTranslate(re,0,Q*.25)}else{var G="."+ie+(Z===a?"title":"")+"text",oe=z.select(G),te=t.lineCount(oe),fe=oe.node();if(Q=X*te,se=fe?p.bBox(fe).width:0,Z===a)W.title.side==="left"&&(se+=n.itemGap*2),t.positionText(oe,K+n.titlePad,K+X);else{var ge=n.itemGap*2+W.indentation+W.itemwidth;q.groupTitle&&(ge=n.itemGap,se-=W.indentation+W.itemwidth),t.positionText(oe,ge,-X*((te-1)/2-.3))}}Z===a?(W._titleWidth=se,W._titleHeight=Q):(q.lineHeight=X,q.height=Math.max(Q,16)+3,q.width=se)}function k(z){var N=0,W=0,Z=z.title.side;return Z&&(Z.indexOf("left")!==-1&&(N=z._titleWidth),Z.indexOf("top")!==-1&&(W=z._titleHeight)),[N,W]}function I(z,N,W,Z){var q=z._fullLayout,re=F(Z);Z||(Z=q[re]);var le=q._size,ie=c.isVertical(Z),K=c.isGrouped(Z),$=Z.entrywidthmode==="fraction",X=Z.borderwidth,Q=2*X,se=n.itemGap,J=Z.indentation+Z.itemwidth+se*2,G=2*(X+se),oe=B(Z),te=Z.y<0||Z.y===0&&oe==="top",fe=Z.y>1||Z.y===1&&oe==="bottom",ge=Z.tracegroupgap,we={};Z._maxHeight=Math.max(te||fe?q.height/2:le.h,30);var xe=0;Z._width=0,Z._height=0;var Ce=k(Z);if(ie)W.each(function(Ve){var Ge=Ve[0].height;p.setTranslate(this,X+Ce[0],X+Ce[1]+Z._height+Ge/2+se),Z._height+=Ge,Z._width=Math.max(Z._width,Ve[0].width)}),xe=J+Z._width,Z._width+=se+J+Q,Z._height+=G,K&&(N.each(function(Ve,Ge){p.setTranslate(this,0,Ge*Z.tracegroupgap)}),Z._height+=(Z._lgroupsLength-1)*Z.tracegroupgap);else{var De=_(Z),Oe=Z.x<0||Z.x===0&&De==="right",Te=Z.x>1||Z.x===1&&De==="left",Re=fe||te,Me=q.width/2;Z._maxWidth=Math.max(Oe?Re&&De==="left"?le.l+le.w:Me:Te?Re&&De==="right"?le.r+le.w:Me:le.w,2*J);var ke=0,Se=0;W.each(function(Ve){var Ge=C(Ve,Z,J);ke=Math.max(ke,Ge),Se+=Ge}),xe=null;var He=0;if(K){var je=0,at=0,Ze=0;N.each(function(){var Ve=0,Ge=0;b.select(this).selectAll("g.traces").each(function(Le){var Fe=C(Le,Z,J),Ue=Le[0].height;p.setTranslate(this,Ce[0],Ce[1]+X+se+Ue/2+Ge),Ge+=Ue,Ve=Math.max(Ve,Fe),we[Le[0].trace.legendgroup]=Ve});var Xe=Ve+se;at>0&&Xe+X+at>Z._maxWidth?(He=Math.max(He,at),at=0,Ze+=je+ge,je=Ge):je=Math.max(je,Ge),p.setTranslate(this,at,Ze),at+=Xe}),Z._width=Math.max(He,at)+X,Z._height=Ze+je+G}else{var $e=W.size(),ut=Se+Q+($e-1)*se<Z._maxWidth,ht=0,vt=0,xt=0,St=0;W.each(function(Ve){var Ge=Ve[0].height,Xe=C(Ve,Z,J),Le=ut?Xe:ke;$||(Le+=se),Le+X+vt-se>=Z._maxWidth&&(He=Math.max(He,St),vt=0,xt+=ht,Z._height+=ht,ht=0),p.setTranslate(this,Ce[0]+X+vt,Ce[1]+X+xt+Ge/2+se),St=vt+Xe+se,vt+=Le,ht=Math.max(ht,Ge)}),ut?(Z._width=vt+Q,Z._height=ht+G):(Z._width=Math.max(He,St)+Q,Z._height+=ht+G)}}Z._width=Math.ceil(Math.max(Z._width+Ce[0],Z._titleWidth+2*(X+n.titlePad))),Z._height=Math.ceil(Math.max(Z._height+Ce[1],Z._titleHeight+2*(X+n.itemGap))),Z._effHeight=Math.min(Z._height,Z._maxHeight);var tt=z._context.edits,Ie=tt.legendText||tt.legendPosition;W.each(function(Ve){var Ge=b.select(this).select("."+re+"toggle"),Xe=Ve[0].height,Le=Ve[0].trace.legendgroup,Fe=C(Ve,Z,J);K&&Le!==""&&(Fe=we[Le]);var Ue=Ie?J:xe||Fe;!ie&&!$&&(Ue+=se/2),p.setRect(Ge,0,-Xe/2,Ue,Xe)})}function O(z,N,W,Z){var q=z._fullLayout,re=q[N],le=_(re),ie=B(re),K=re.xref==="paper",$=re.yref==="paper";z._fullLayout._reservedMargin[N]={};var X=re.y<.5?"b":"t",Q=re.x<.5?"l":"r",se={r:q.width-W,l:W+re._width,b:q.height-Z,t:Z+re._effHeight};if(K&&$)return s.autoMargin(z,N,{x:re.x,y:re.y,l:re._width*f[le],r:re._width*g[le],b:re._effHeight*g[ie],t:re._effHeight*f[ie]});K?z._fullLayout._reservedMargin[N][X]=se[X]:$||re.orientation==="v"?z._fullLayout._reservedMargin[N][Q]=se[Q]:z._fullLayout._reservedMargin[N][X]=se[X]}function _(z){return P.isRightAnchor(z)?"right":P.isCenterAnchor(z)?"center":"left"}function B(z){return P.isBottomAnchor(z)?"bottom":P.isMiddleAnchor(z)?"middle":"top"}function F(z){return z._id||"legend"}},35456:function(Y,V,e){var b=e(24040),P=e(42451);Y.exports=function(L,M,v){var p=M._inHover,r=P.isGrouped(M),t=P.isReversed(M),o={},n=[],l=!1,u={},f=0,g=0,h,w;function c(z,N,W){if(M.visible!==!1&&!(v&&z!==M._id))if(N===""||!P.isGrouped(M)){var Z="~~i"+f;n.push(Z),o[Z]=[W],f++}else n.indexOf(N)===-1?(n.push(N),l=!0,o[N]=[W]):o[N].push(W)}for(h=0;h<L.length;h++){var a=L[h],d=a[0],x=d.trace,T=x.legend,C=x.legendgroup;if(!(!p&&(!x.visible||!x.showlegend)))if(b.traceIs(x,"pie-like"))for(u[C]||(u[C]={}),w=0;w<a.length;w++){var y=a[w].label;u[C][y]||(c(T,C,{label:y,color:a[w].color,i:a[w].i,trace:x,pts:a[w].pts}),u[C][y]=!0,g=Math.max(g,(y||"").length))}else c(T,C,d),g=Math.max(g,(x.name||"").length)}if(!n.length)return[];var S=!l||!r,A=[];for(h=0;h<n.length;h++){var i=o[n[h]];S?A.push(i[0]):A.push(i)}for(S&&(A=[A]),h=0;h<A.length;h++){var E=1/0;for(w=0;w<A[h].length;w++){var m=A[h][w].trace.legendrank;E>m&&(E=m)}A[h][0]._groupMinRank=E,A[h][0]._preGroupSort=h}var k=function(z,N){return z[0]._groupMinRank-N[0]._groupMinRank||z[0]._preGroupSort-N[0]._preGroupSort},I=function(z,N){return z.trace.legendrank-N.trace.legendrank||z._preSort-N._preSort};for(A.forEach(function(z,N){z[0]._preGroupSort=N}),A.sort(k),h=0;h<A.length;h++){A[h].forEach(function(z,N){z._preSort=N}),A[h].sort(I);var O=A[h][0].trace,_=null;for(w=0;w<A[h].length;w++){var B=A[h][w].trace.legendgrouptitle;if(B&&B.text){_=B,p&&(B.font=M._groupTitleFont);break}}if(t&&A[h].reverse(),_){var F=!1;for(w=0;w<A[h].length;w++)if(b.traceIs(A[h][w].trace,"pie-like")){F=!0;break}A[h].unshift({i:-1,groupTitle:_,noClick:F,trace:{showlegend:O.showlegend,legendgroup:O.legendgroup,visible:M.groupclick==="toggleitem"?!0:O.visible}})}for(w=0;w<A[h].length;w++)A[h][w]=[A[h][w]]}return M._lgroupsLength=A.length,M._maxNameLength=g,A}},33048:function(Y,V,e){var b=e(24040),P=e(3400),s=P.pushUnique,L=!0;Y.exports=function(v,p,r){var t=p._fullLayout;if(p._dragged||p._editing)return;var o=t.legend.itemclick,n=t.legend.itemdoubleclick,l=t.legend.groupclick;r===1&&o==="toggle"&&n==="toggleothers"&&L&&p.data&&p._context.showTips&&P.notifier(P._(p,"Double-click on legend to isolate one trace"),"long"),L=!1;var u;if(r===1?u=o:r===2&&(u=n),!u)return;var f=l==="togglegroup",g=t.hiddenlabels?t.hiddenlabels.slice():[],h=v.data()[0][0];if(h.groupTitle&&h.noClick)return;var w=p._fullData,c=(t.shapes||[]).filter(function(Me){return Me.showlegend}),a=w.concat(c),d=h.trace;d._isShape&&(d=d._fullInput);var x=d.legendgroup,T,C,y,S,A,i,E={},m=[],k=[],I=[];function O(Me,ke){var Se=m.indexOf(Me),He=E.visible;return He||(He=E.visible=[]),m.indexOf(Me)===-1&&(m.push(Me),Se=m.length-1),He[Se]=ke,Se}var _=(t.shapes||[]).map(function(Me){return Me._input}),B=!1;function F(Me,ke){_[Me].visible=ke,B=!0}function z(Me,ke){if(!(h.groupTitle&&!f)){var Se=Me._fullInput||Me,He=Se._isShape,je=Se.index;if(je===void 0&&(je=Se._index),b.hasTransform(Se,"groupby")){var at=k[je];if(!at){var Ze=b.getTransformIndices(Se,"groupby"),$e=Ze[Ze.length-1];at=P.keyedContainer(Se,"transforms["+$e+"].styles","target","value.visible"),k[je]=at}var ut=at.get(Me._group);ut===void 0&&(ut=!0),ut!==!1&&at.set(Me._group,ke),I[je]=O(je,Se.visible!==!1)}else{var ht=Se.visible===!1?!1:ke;He?F(je,ht):O(je,ht)}}}var N=d.legend,W=d._fullInput,Z=W&&W._isShape;if(!Z&&b.traceIs(d,"pie-like")){var q=h.label,re=g.indexOf(q);if(u==="toggle")re===-1?g.push(q):g.splice(re,1);else if(u==="toggleothers"){var le=re!==-1,ie=[];for(T=0;T<p.calcdata.length;T++){var K=p.calcdata[T];for(C=0;C<K.length;C++){var $=K[C],X=$.label;N===K[0].trace.legend&&q!==X&&(g.indexOf(X)===-1&&(le=!0),s(g,X),ie.push(X))}}if(!le)for(var Q=0;Q<ie.length;Q++){var se=g.indexOf(ie[Q]);se!==-1&&g.splice(se,1)}}b.call("_guiRelayout",p,"hiddenlabels",g)}else{var J=x&&x.length,G=[],oe;if(J)for(T=0;T<a.length;T++)oe=a[T],oe.visible&&oe.legendgroup===x&&G.push(T);if(u==="toggle"){var te;switch(d.visible){case!0:te="legendonly";break;case!1:te=!1;break;case"legendonly":te=!0;break}if(J)if(f)for(T=0;T<a.length;T++){var fe=a[T];fe.visible!==!1&&fe.legendgroup===x&&z(fe,te)}else z(d,te);else z(d,te)}else if(u==="toggleothers"){var ge,we,xe,Ce,De,Oe=!0;for(T=0;T<a.length;T++)if(De=a[T],ge=De===d,xe=De.showlegend!==!0,!(ge||xe)&&(we=J&&De.legendgroup===x,!we&&De.legend===N&&De.visible===!0&&!b.traceIs(De,"notLegendIsolatable"))){Oe=!1;break}for(T=0;T<a.length;T++)if(De=a[T],!(De.visible===!1||De.legend!==N)&&!b.traceIs(De,"notLegendIsolatable"))switch(d.visible){case"legendonly":z(De,!0);break;case!0:Ce=Oe?!0:"legendonly",ge=De===d,xe=De.showlegend!==!0&&!De.legendgroup,we=ge||J&&De.legendgroup===x,z(De,we||xe?!0:Ce);break}}for(T=0;T<k.length;T++)if(y=k[T],!!y){var Te=y.constructUpdate(),Re=Object.keys(Te);for(C=0;C<Re.length;C++)S=Re[C],i=E[S]=E[S]||[],i[I[T]]=Te[S]}for(A=Object.keys(E),T=0;T<A.length;T++)for(S=A[T],C=0;C<m.length;C++)E[S].hasOwnProperty(C)||(E[S][C]=void 0);B?b.call("_guiUpdate",p,E,{shapes:_},m):b.call("_guiRestyle",p,E,m)}}},42451:function(Y,V){V.isGrouped=function(b){return(b.traceorder||"").indexOf("grouped")!==-1},V.isVertical=function(b){return b.orientation!=="h"},V.isReversed=function(b){return(b.traceorder||"").indexOf("reversed")!==-1}},2780:function(Y,V,e){Y.exports={moduleType:"component",name:"legend",layoutAttributes:e(3800),supplyLayoutDefaults:e(77864),draw:e(31140),style:e(2012)}},2012:function(Y,V,e){var b=e(33428),P=e(24040),s=e(3400),L=s.strTranslate,M=e(43616),v=e(76308),p=e(94288).extractOpts,r=e(43028),t=e(10528),o=e(69656).castOption,n=e(65196),l=12,u=5,f=2,g=10,h=5;Y.exports=function(x,T,C){var y=T._fullLayout;C||(C=y.legend);var S=C.itemsizing==="constant",A=C.itemwidth,i=(A+n.itemGap*2)/2,E=L(i,0),m=function(ie,K,$,X){var Q;if(ie+1)Q=ie;else if(K&&K.width>0)Q=K.width;else return 0;return S?X:Math.min(Q,$)};x.each(function(ie){var K=b.select(this),$=s.ensureSingle(K,"g","layers");$.style("opacity",ie[0].trace.opacity);var X=C.indentation,Q=C.valign,se=ie[0].lineHeight,J=ie[0].height;if(Q==="middle"&&X===0||!se||!J)$.attr("transform",null);else{var G={top:1,bottom:-1}[Q],oe=G*(.5*(se-J+3))||0,te=C.indentation;$.attr("transform",L(te,oe))}var fe=$.selectAll("g.legendfill").data([ie]);fe.enter().append("g").classed("legendfill",!0);var ge=$.selectAll("g.legendlines").data([ie]);ge.enter().append("g").classed("legendlines",!0);var we=$.selectAll("g.legendsymbols").data([ie]);we.enter().append("g").classed("legendsymbols",!0),we.selectAll("g.legendpoints").data([ie]).enter().append("g").classed("legendpoints",!0)}).each(le).each(O).each(B).each(_).each(z).each(q).each(Z).each(k).each(I).each(N).each(W);function k(ie){var K=c(ie),$=K.showFill,X=K.showLine,Q=K.showGradientLine,se=K.showGradientFill,J=K.anyFill,G=K.anyLine,oe=ie[0],te=oe.trace,fe,ge,we=p(te),xe=we.colorscale,Ce=we.reversescale,De=function(He){if(He.size())if($)M.fillGroupStyle(He,T,!0);else{var je="legendfill-"+te.uid;M.gradient(He,T,je,w(Ce),xe,"fill")}},Oe=function(He){if(He.size()){var je="legendline-"+te.uid;M.lineGroupStyle(He),M.gradient(He,T,je,w(Ce),xe,"stroke")}},Te=r.hasMarkers(te)||!J?"M5,0":G?"M5,-2":"M5,-3",Re=b.select(this),Me=Re.select(".legendfill").selectAll("path").data($||se?[ie]:[]);if(Me.enter().append("path").classed("js-fill",!0),Me.exit().remove(),Me.attr("d",Te+"h"+A+"v6h-"+A+"z").call(De),X||Q){var ke=m(void 0,te.line,g,u);ge=s.minExtend(te,{line:{width:ke}}),fe=[s.minExtend(oe,{trace:ge})]}var Se=Re.select(".legendlines").selectAll("path").data(X||Q?[fe]:[]);Se.enter().append("path").classed("js-line",!0),Se.exit().remove(),Se.attr("d",Te+(Q?"l"+A+",0.0001":"h"+A)).call(X?M.lineGroupStyle:Oe)}function I(ie){var K=c(ie),$=K.anyFill,X=K.anyLine,Q=K.showLine,se=K.showMarker,J=ie[0],G=J.trace,oe=!se&&!X&&!$&&r.hasText(G),te,fe;function ge(Me,ke,Se,He){var je=s.nestedProperty(G,Me).get(),at=s.isArrayOrTypedArray(je)&&ke?ke(je):je;if(S&&at&&He!==void 0&&(at=He),Se){if(at<Se[0])return Se[0];if(at>Se[1])return Se[1]}return at}function we(Me){return J._distinct&&J.index&&Me[J.index]?Me[J.index]:Me[0]}if(se||oe||Q){var xe={},Ce={};if(se){xe.mc=ge("marker.color",we),xe.mx=ge("marker.symbol",we),xe.mo=ge("marker.opacity",s.mean,[.2,1]),xe.mlc=ge("marker.line.color",we),xe.mlw=ge("marker.line.width",s.mean,[0,5],f),Ce.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var De=ge("marker.size",s.mean,[2,16],l);xe.ms=De,Ce.marker.size=De}Q&&(Ce.line={width:ge("line.width",we,[0,10],u)}),oe&&(xe.tx="Aa",xe.tp=ge("textposition",we),xe.ts=10,xe.tc=ge("textfont.color",we),xe.tf=ge("textfont.family",we),xe.tw=ge("textfont.weight",we),xe.ty=ge("textfont.style",we),xe.tv=ge("textfont.variant",we),xe.tC=ge("textfont.textcase",we),xe.tE=ge("textfont.lineposition",we),xe.tS=ge("textfont.shadow",we)),te=[s.minExtend(J,xe)],fe=s.minExtend(G,Ce),fe.selectedpoints=null,fe.texttemplate=null}var Oe=b.select(this).select("g.legendpoints"),Te=Oe.selectAll("path.scatterpts").data(se?te:[]);Te.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",E),Te.exit().remove(),Te.call(M.pointStyle,fe,T),se&&(te[0].mrc=3);var Re=Oe.selectAll("g.pointtext").data(oe?te:[]);Re.enter().append("g").classed("pointtext",!0).append("text").attr("transform",E),Re.exit().remove(),Re.selectAll("text").call(M.textPointStyle,fe,T)}function O(ie){var K=ie[0].trace,$=K.type==="waterfall";if(ie[0]._distinct&&$){var X=ie[0].trace[ie[0].dir].marker;return ie[0].mc=X.color,ie[0].mlw=X.line.width,ie[0].mlc=X.line.color,F(ie,this,"waterfall")}var Q=[];K.visible&&$&&(Q=ie[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var se=b.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(Q);se.enter().append("path").classed("legendwaterfall",!0).attr("transform",E).style("stroke-miterlimit",1),se.exit().remove(),se.each(function(J){var G=b.select(this),oe=K[J[0]].marker,te=m(void 0,oe.line,h,f);G.attr("d",J[1]).style("stroke-width",te+"px").call(v.fill,oe.color),te&&G.call(v.stroke,oe.line.color)})}function _(ie){F(ie,this)}function B(ie){F(ie,this,"funnel")}function F(ie,K,$){var X=ie[0].trace,Q=X.marker||{},se=Q.line||{},J=Q.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",G=$?X.visible&&X.type===$:P.traceIs(X,"bar"),oe=b.select(K).select("g.legendpoints").selectAll("path.legend"+$).data(G?[ie]:[]);oe.enter().append("path").classed("legend"+$,!0).attr("d",J).attr("transform",E),oe.exit().remove(),oe.each(function(te){var fe=b.select(this),ge=te[0],we=m(ge.mlw,Q.line,h,f);fe.style("stroke-width",we+"px");var xe=ge.mcc;if(!C._inHover&&"mc"in ge){var Ce=p(Q),De=Ce.mid;De===void 0&&(De=(Ce.max+Ce.min)/2),xe=M.tryColorscale(Q,"")(De)}var Oe=xe||ge.mc||Q.color,Te=Q.pattern,Re=Te&&M.getPatternAttr(Te.shape,0,"");if(Re){var Me=M.getPatternAttr(Te.bgcolor,0,null),ke=M.getPatternAttr(Te.fgcolor,0,null),Se=Te.fgopacity,He=a(Te.size,8,10),je=a(Te.solidity,.5,1),at="legend-"+X.uid;fe.call(M.pattern,"legend",T,at,Re,He,je,xe,Te.fillmode,Me,ke,Se)}else fe.call(v.fill,Oe);we&&v.stroke(fe,ge.mlc||se.color)})}function z(ie){var K=ie[0].trace,$=b.select(this).select("g.legendpoints").selectAll("path.legendbox").data(K.visible&&P.traceIs(K,"box-violin")?[ie]:[]);$.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",E),$.exit().remove(),$.each(function(){var X=b.select(this);if((K.boxpoints==="all"||K.points==="all")&&v.opacity(K.fillcolor)===0&&v.opacity((K.line||{}).color)===0){var Q=s.minExtend(K,{marker:{size:S?l:s.constrain(K.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});$.call(M.pointStyle,Q,T)}else{var se=m(void 0,K.line,h,f);X.style("stroke-width",se+"px").call(v.fill,K.fillcolor),se&&v.stroke(X,K.line.color)}})}function N(ie){var K=ie[0].trace,$=b.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(K.visible&&K.type==="candlestick"?[ie,ie]:[]);$.enter().append("path").classed("legendcandle",!0).attr("d",function(X,Q){return Q?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",E).style("stroke-miterlimit",1),$.exit().remove(),$.each(function(X,Q){var se=b.select(this),J=K[Q?"increasing":"decreasing"],G=m(void 0,J.line,h,f);se.style("stroke-width",G+"px").call(v.fill,J.fillcolor),G&&v.stroke(se,J.line.color)})}function W(ie){var K=ie[0].trace,$=b.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(K.visible&&K.type==="ohlc"?[ie,ie]:[]);$.enter().append("path").classed("legendohlc",!0).attr("d",function(X,Q){return Q?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",E).style("stroke-miterlimit",1),$.exit().remove(),$.each(function(X,Q){var se=b.select(this),J=K[Q?"increasing":"decreasing"],G=m(void 0,J.line,h,f);se.style("fill","none").call(M.dashLine,J.line.dash,G),G&&v.stroke(se,J.line.color)})}function Z(ie){re(ie,this,"pie")}function q(ie){re(ie,this,"funnelarea")}function re(ie,K,$){var X=ie[0],Q=X.trace,se=$?Q.visible&&Q.type===$:P.traceIs(Q,$),J=b.select(K).select("g.legendpoints").selectAll("path.legend"+$).data(se?[ie]:[]);if(J.enter().append("path").classed("legend"+$,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",E),J.exit().remove(),J.size()){var G=Q.marker||{},oe=m(o(G.line.width,X.pts),G.line,h,f),te="pieLike",fe=s.minExtend(Q,{marker:{line:{width:oe}}},te),ge=s.minExtend(X,{trace:fe},te);t(J,ge,fe,T)}}function le(ie){var K=ie[0].trace,$,X=[];if(K.visible)switch(K.type){case"histogram2d":case"heatmap":X=[["M-15,-2V4H15V-2Z"]],$=!0;break;case"choropleth":case"choroplethmapbox":X=[["M-6,-6V6H6V-6Z"]],$=!0;break;case"densitymapbox":X=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],$="radial";break;case"cone":X=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],$=!1;break;case"streamtube":X=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],$=!1;break;case"surface":X=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],$=!0;break;case"mesh3d":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],$=!1;break;case"volume":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],$=!0;break;case"isosurface":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],$=!1;break}var Q=b.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(X);Q.enter().append("path").classed("legend3dandfriends",!0).attr("transform",E).style("stroke-miterlimit",1),Q.exit().remove(),Q.each(function(se,J){var G=b.select(this),oe=p(K),te=oe.colorscale,fe=oe.reversescale,ge=function(De){if(De.size()){var Oe="legendfill-"+K.uid;M.gradient(De,T,Oe,w(fe,$==="radial"),te,"fill")}},we;if(te){if(!$){var Ce=te.length;we=J===0?te[fe?Ce-1:0][1]:J===1?te[fe?0:Ce-1][1]:te[Math.floor((Ce-1)/2)][1]}}else{var xe=K.vertexcolor||K.facecolor||K.color;we=s.isArrayOrTypedArray(xe)?xe[J]||xe[0]:xe}G.attr("d",se[0]),we?G.call(v.fill,we):G.call(ge)})}};function w(d,x){var T=x?"radial":"horizontal";return T+(d?"":"reversed")}function c(d){var x=d[0].trace,T=x.contours,C=r.hasLines(x),y=r.hasMarkers(x),S=x.visible&&x.fill&&x.fill!=="none",A=!1,i=!1;if(T){var E=T.coloring;E==="lines"?A=!0:C=E==="none"||E==="heatmap"||T.showlines,T.type==="constraint"?S=T._operation!=="=":(E==="fill"||E==="heatmap")&&(i=!0)}return{showMarker:y,showLine:C,showFill:S,showGradientLine:A,showGradientFill:i,anyLine:C||A,anyFill:S||i}}function a(d,x,T){return d&&s.isArrayOrTypedArray(d)?x:d>T?T:d}},66540:function(Y,V,e){e(76052),Y.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},44248:function(Y,V,e){var b=e(24040),P=e(7316),s=e(79811),L=e(9224),M=e(4016).eraseActiveShape,v=e(3400),p=v._,r=Y.exports={};r.toImage={name:"toImage",title:function(d){var x=d._context.toImageButtonOptions||{},T=x.format||"png";return T==="png"?p(d,"Download plot as a png"):p(d,"Download plot")},icon:L.camera,click:function(d){var x=d._context.toImageButtonOptions,T={format:x.format||"png"};v.notifier(p(d,"Taking snapshot - this may take a few seconds"),"long"),T.format!=="svg"&&v.isIE()&&(v.notifier(p(d,"IE only supports svg.  Changing format to svg."),"long"),T.format="svg"),["filename","width","height","scale"].forEach(function(C){C in x&&(T[C]=x[C])}),b.call("downloadImage",d,T).then(function(C){v.notifier(p(d,"Snapshot succeeded")+" - "+C,"long")}).catch(function(){v.notifier(p(d,"Sorry, there was a problem downloading your snapshot!"),"long")})}},r.sendDataToCloud={name:"sendDataToCloud",title:function(d){return p(d,"Edit in Chart Studio")},icon:L.disk,click:function(d){P.sendDataToCloud(d)}},r.editInChartStudio={name:"editInChartStudio",title:function(d){return p(d,"Edit in Chart Studio")},icon:L.pencil,click:function(d){P.sendDataToCloud(d)}},r.zoom2d={name:"zoom2d",_cat:"zoom",title:function(d){return p(d,"Zoom")},attr:"dragmode",val:"zoom",icon:L.zoombox,click:t},r.pan2d={name:"pan2d",_cat:"pan",title:function(d){return p(d,"Pan")},attr:"dragmode",val:"pan",icon:L.pan,click:t},r.select2d={name:"select2d",_cat:"select",title:function(d){return p(d,"Box Select")},attr:"dragmode",val:"select",icon:L.selectbox,click:t},r.lasso2d={name:"lasso2d",_cat:"lasso",title:function(d){return p(d,"Lasso Select")},attr:"dragmode",val:"lasso",icon:L.lasso,click:t},r.drawclosedpath={name:"drawclosedpath",title:function(d){return p(d,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:L.drawclosedpath,click:t},r.drawopenpath={name:"drawopenpath",title:function(d){return p(d,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:L.drawopenpath,click:t},r.drawline={name:"drawline",title:function(d){return p(d,"Draw line")},attr:"dragmode",val:"drawline",icon:L.drawline,click:t},r.drawrect={name:"drawrect",title:function(d){return p(d,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:L.drawrect,click:t},r.drawcircle={name:"drawcircle",title:function(d){return p(d,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:L.drawcircle,click:t},r.eraseshape={name:"eraseshape",title:function(d){return p(d,"Erase active shape")},icon:L.eraseshape,click:M},r.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:t},r.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:t},r.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(d){return p(d,"Autoscale")},attr:"zoom",val:"auto",icon:L.autoscale,click:t},r.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(d){return p(d,"Reset axes")},attr:"zoom",val:"reset",icon:L.home,click:t},r.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(d){return p(d,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:L.tooltip_basic,gravity:"ne",click:t},r.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(d){return p(d,"Compare data on hover")},attr:"hovermode",val:function(d){return d._fullLayout._isHoriz?"y":"x"},icon:L.tooltip_compare,gravity:"ne",click:t};function t(d,x){var T=x.currentTarget,C=T.getAttribute("data-attr"),y=T.getAttribute("data-val")||!0,S=d._fullLayout,A={},i=s.list(d,null,!0),E=S._cartesianSpikesEnabled,m,k;if(C==="zoom"){var I=y==="in"?.5:2,O=(1+I)/2,_=(1-I)/2,B;for(k=0;k<i.length;k++)if(m=i[k],!m.fixedrange)if(B=m._name,y==="auto")A[B+".autorange"]=!0;else if(y==="reset")m._rangeInitial0===void 0&&m._rangeInitial1===void 0?A[B+".autorange"]=!0:m._rangeInitial0===void 0?(A[B+".autorange"]=m._autorangeInitial,A[B+".range"]=[null,m._rangeInitial1]):m._rangeInitial1===void 0?(A[B+".range"]=[m._rangeInitial0,null],A[B+".autorange"]=m._autorangeInitial):A[B+".range"]=[m._rangeInitial0,m._rangeInitial1],m._showSpikeInitial!==void 0&&(A[B+".showspikes"]=m._showSpikeInitial,E==="on"&&!m._showSpikeInitial&&(E="off"));else{var F=[m.r2l(m.range[0]),m.r2l(m.range[1])],z=[O*F[0]+_*F[1],O*F[1]+_*F[0]];A[B+".range[0]"]=m.l2r(z[0]),A[B+".range[1]"]=m.l2r(z[1])}}else C==="hovermode"&&(y==="x"||y==="y")&&(y=S._isHoriz?"y":"x",T.setAttribute("data-val",y)),A[C]=y;S._cartesianSpikesEnabled=E,b.call("_guiRelayout",d,A)}r.zoom3d={name:"zoom3d",_cat:"zoom",title:function(d){return p(d,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:L.zoombox,click:o},r.pan3d={name:"pan3d",_cat:"pan",title:function(d){return p(d,"Pan")},attr:"scene.dragmode",val:"pan",icon:L.pan,click:o},r.orbitRotation={name:"orbitRotation",title:function(d){return p(d,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:L["3d_rotate"],click:o},r.tableRotation={name:"tableRotation",title:function(d){return p(d,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:L["z-axis"],click:o};function o(d,x){for(var T=x.currentTarget,C=T.getAttribute("data-attr"),y=T.getAttribute("data-val")||!0,S=d._fullLayout._subplots.gl3d||[],A={},i=C.split("."),E=0;E<S.length;E++)A[S[E]+"."+i[1]]=y;var m=y==="pan"?y:"zoom";A.dragmode=m,b.call("_guiRelayout",d,A)}r.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(d){return p(d,"Reset camera to default")},attr:"resetDefault",icon:L.home,click:n},r.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(d){return p(d,"Reset camera to last save")},attr:"resetLastSave",icon:L.movie,click:n};function n(d,x){for(var T=x.currentTarget,C=T.getAttribute("data-attr"),y=C==="resetLastSave",S=C==="resetDefault",A=d._fullLayout,i=A._subplots.gl3d||[],E={},m=0;m<i.length;m++){var k=i[m],I=k+".camera",O=k+".aspectratio",_=k+".aspectmode",B=A[k]._scene,F;y?(E[I+".up"]=B.viewInitial.up,E[I+".eye"]=B.viewInitial.eye,E[I+".center"]=B.viewInitial.center,F=!0):S&&(E[I+".up"]=null,E[I+".eye"]=null,E[I+".center"]=null,F=!0),F&&(E[O+".x"]=B.viewInitial.aspectratio.x,E[O+".y"]=B.viewInitial.aspectratio.y,E[O+".z"]=B.viewInitial.aspectratio.z,E[_]=B.viewInitial.aspectmode)}b.call("_guiRelayout",d,E)}r.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:u};function l(d,x){var T=x.currentTarget,C=T._previousVal,y=d._fullLayout,S=y._subplots.gl3d||[],A=["xaxis","yaxis","zaxis"],i={},E={};if(C)E=C,T._previousVal=null;else{for(var m=0;m<S.length;m++){var k=S[m],I=y[k],O=k+".hovermode";i[O]=I.hovermode,E[O]=!1;for(var _=0;_<3;_++){var B=A[_],F=k+"."+B+".showspikes";E[F]=!1,i[F]=I[B].showspikes}}T._previousVal=i}return E}function u(d,x){var T=l(d,x);b.call("_guiRelayout",d,T)}r.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:f},r.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:f},r.resetGeo={name:"resetGeo",_cat:"reset",title:function(d){return p(d,"Reset")},attr:"reset",val:null,icon:L.autoscale,click:f},r.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:h};function f(d,x){for(var T=x.currentTarget,C=T.getAttribute("data-attr"),y=T.getAttribute("data-val")||!0,S=d._fullLayout,A=S._subplots.geo||[],i=0;i<A.length;i++){var E=A[i],m=S[E];if(C==="zoom"){var k=m.projection.scale,I=y==="in"?2*k:.5*k;b.call("_guiRelayout",d,E+".projection.scale",I)}}C==="reset"&&a(d,"geo")}r.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:h},r.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:L.tooltip_basic,gravity:"ne",click:h};function g(d){var x=d._fullLayout;return x.hovermode?!1:x._has("cartesian")?x._isHoriz?"y":"x":"closest"}function h(d){var x=g(d);b.call("_guiRelayout",d,"hovermode",x)}r.resetViewSankey={name:"resetSankeyGroup",title:function(d){return p(d,"Reset view")},icon:L.home,click:function(d){for(var x={"node.groups":[],"node.x":[],"node.y":[]},T=0;T<d._fullData.length;T++){var C=d._fullData[T]._viewInitial;x["node.groups"].push(C.node.groups.slice()),x["node.x"].push(C.node.x.slice()),x["node.y"].push(C.node.y.slice())}b.call("restyle",d,x)}},r.toggleHover={name:"toggleHover",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:function(d,x){var T=l(d,x);T.hovermode=g(d),b.call("_guiRelayout",d,T)}},r.resetViews={name:"resetViews",title:function(d){return p(d,"Reset views")},icon:L.home,click:function(d,x){var T=x.currentTarget;T.setAttribute("data-attr","zoom"),T.setAttribute("data-val","reset"),t(d,x),T.setAttribute("data-attr","resetLastSave"),n(d,x),a(d,"geo"),a(d,"mapbox")}},r.toggleSpikelines={name:"toggleSpikelines",title:function(d){return p(d,"Toggle Spike Lines")},icon:L.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(d){var x=d._fullLayout,T=x._cartesianSpikesEnabled;x._cartesianSpikesEnabled=T==="on"?"off":"on",b.call("_guiRelayout",d,w(d))}};function w(d){for(var x=d._fullLayout,T=x._cartesianSpikesEnabled==="on",C=s.list(d,null,!0),y={},S=0;S<C.length;S++){var A=C[S];y[A._name+".showspikes"]=T?!0:A._showSpikeInitial}return y}r.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(d){return p(d,"Reset view")},attr:"reset",icon:L.home,click:function(d){a(d,"mapbox")}},r.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:c},r.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:c};function c(d,x){for(var T=x.currentTarget,C=T.getAttribute("data-val"),y=d._fullLayout,S=y._subplots.mapbox||[],A=1.05,i={},E=0;E<S.length;E++){var m=S[E],k=y[m].zoom,I=C==="in"?A*k:k/A;i[m+".zoom"]=I}b.call("_guiRelayout",d,i)}function a(d,x){for(var T=d._fullLayout,C=T._subplots[x]||[],y={},S=0;S<C.length;S++)for(var A=C[S],i=T[A]._subplot,E=i.viewInitial,m=Object.keys(E),k=0;k<m.length;k++){var I=m[k];y[A+"."+I]=E[I]}b.call("_guiRelayout",d,y)}},76052:function(Y,V,e){var b=e(44248),P=Object.keys(b),s=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],L=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(s),M=[],v=function(p){if(L.indexOf(p._cat||p.name)===-1){var r=p.name,t=(p._cat||p.name).toLowerCase();M.indexOf(r)===-1&&M.push(r),M.indexOf(t)===-1&&M.push(t)}};P.forEach(function(p){v(b[p])}),M.sort(),Y.exports={DRAW_MODES:s,backButtons:L,foreButtons:M}},90824:function(Y,V,e){var b=e(3400),P=e(76308),s=e(31780),L=e(66540);Y.exports=function(v,p){var r=v.modebar||{},t=s.newContainer(p,"modebar");function o(l,u){return b.coerce(r,t,L,l,u)}o("orientation"),o("bgcolor",P.addOpacity(p.paper_bgcolor,.5));var n=P.contrast(P.rgb(p.modebar.bgcolor));o("color",P.addOpacity(n,.3)),o("activecolor",P.addOpacity(n,.7)),o("uirevision",p.uirevision),o("add"),o("remove")}},45460:function(Y,V,e){Y.exports={moduleType:"component",name:"modebar",layoutAttributes:e(66540),supplyLayoutDefaults:e(90824),manage:e(18816)}},18816:function(Y,V,e){var b=e(79811),P=e(43028),s=e(24040),L=e(10624).isUnifiedHover,M=e(66400),v=e(44248),p=e(76052).DRAW_MODES,r=e(3400).extendDeep;Y.exports=function(h){var w=h._fullLayout,c=h._context,a=w._modeBar;if(!c.displayModeBar&&!c.watermark){a&&(a.destroy(),delete w._modeBar);return}if(!Array.isArray(c.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(c.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d=c.modeBarButtons,x;Array.isArray(d)&&d.length?x=f(d):!c.displayModeBar&&c.watermark?x=[]:x=t(h),a?a.update(h,x):w._modeBar=M(h,x)};function t(g){var h=g._fullLayout,w=g._fullData,c=g._context;function a(J,G){if(typeof G=="string"){if(G.toLowerCase()===J.toLowerCase())return!0}else{var oe=G.name,te=G._cat||G.name;if(oe===J||te===J.toLowerCase())return!0}return!1}var d=h.modebar.add;typeof d=="string"&&(d=[d]);var x=h.modebar.remove;typeof x=="string"&&(x=[x]);var T=c.modeBarButtonsToAdd.concat(d.filter(function(J){for(var G=0;G<c.modeBarButtonsToRemove.length;G++)if(a(J,c.modeBarButtonsToRemove[G]))return!1;return!0})),C=c.modeBarButtonsToRemove.concat(x.filter(function(J){for(var G=0;G<c.modeBarButtonsToAdd.length;G++)if(a(J,c.modeBarButtonsToAdd[G]))return!1;return!0})),y=h._has("cartesian"),S=h._has("gl3d"),A=h._has("geo"),i=h._has("pie"),E=h._has("funnelarea"),m=h._has("gl2d"),k=h._has("ternary"),I=h._has("mapbox"),O=h._has("polar"),_=h._has("smith"),B=h._has("sankey"),F=o(h),z=L(h.hovermode),N=[];function W(J){if(J.length){for(var G=[],oe=0;oe<J.length;oe++){for(var te=J[oe],fe=v[te],ge=fe.name.toLowerCase(),we=(fe._cat||fe.name).toLowerCase(),xe=!1,Ce=0;Ce<C.length;Ce++){var De=C[Ce].toLowerCase();if(De===ge||De===we){xe=!0;break}}xe||G.push(v[te])}N.push(G)}}var Z=["toImage"];c.showEditInChartStudio?Z.push("editInChartStudio"):c.showSendToCloud&&Z.push("sendDataToCloud"),W(Z);var q=[],re=[],le=[],ie=[];(y||m||i||E||k)+A+S+I+O+_>1?(re=["toggleHover"],le=["resetViews"]):A?(q=["zoomInGeo","zoomOutGeo"],re=["hoverClosestGeo"],le=["resetGeo"]):S?(re=["hoverClosest3d"],le=["resetCameraDefault3d","resetCameraLastSave3d"]):I?(q=["zoomInMapbox","zoomOutMapbox"],re=["toggleHover"],le=["resetViewMapbox"]):m?re=["hoverClosestGl2d"]:i?re=["hoverClosestPie"]:B?(re=["hoverClosestCartesian","hoverCompareCartesian"],le=["resetViewSankey"]):re=["toggleHover"],y&&re.push("toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"),(l(w)||z)&&(re=[]),(y||m)&&!F&&(q=["zoomIn2d","zoomOut2d","autoScale2d"],le[0]!=="resetViews"&&(le=["resetScale2d"])),S?ie=["zoom3d","pan3d","orbitRotation","tableRotation"]:(y||m)&&!F||k?ie=["zoom2d","pan2d"]:I||A?ie=["pan2d"]:O&&(ie=["zoom2d"]),n(w)&&ie.push("select2d","lasso2d");var K=[],$=function(J){K.indexOf(J)===-1&&re.indexOf(J)!==-1&&K.push(J)};if(Array.isArray(T)){for(var X=[],Q=0;Q<T.length;Q++){var se=T[Q];typeof se=="string"?(se=se.toLowerCase(),p.indexOf(se)!==-1?(h._has("mapbox")||h._has("cartesian"))&&ie.push(se):se==="togglespikelines"?$("toggleSpikelines"):se==="togglehover"?$("toggleHover"):se==="hovercompare"?$("hoverCompareCartesian"):se==="hoverclosest"?($("hoverClosestCartesian"),$("hoverClosestGeo"),$("hoverClosest3d"),$("hoverClosestGl2d"),$("hoverClosestPie")):se==="v1hovermode"&&($("hoverClosestCartesian"),$("hoverCompareCartesian"),$("hoverClosestGeo"),$("hoverClosest3d"),$("hoverClosestGl2d"),$("hoverClosestPie"))):X.push(se)}T=X}return W(ie),W(q.concat(le)),W(K),u(N,T)}function o(g){for(var h=b.list({_fullLayout:g},null,!0),w=0;w<h.length;w++)if(!h[w].fixedrange)return!1;return!0}function n(g){for(var h=!1,w=0;w<g.length&&!h;w++){var c=g[w];!c._module||!c._module.selectPoints||(s.traceIs(c,"scatter-like")?(P.hasMarkers(c)||P.hasText(c))&&(h=!0):s.traceIs(c,"box-violin")?(c.boxpoints==="all"||c.points==="all")&&(h=!0):h=!0)}return h}function l(g){for(var h=0;h<g.length;h++)if(!s.traceIs(g[h],"noHover"))return!1;return!0}function u(g,h){if(h.length)if(Array.isArray(h[0]))for(var w=0;w<h.length;w++)g.push(h[w]);else g.push(h);return g}function f(g){for(var h=r([],g),w=0;w<h.length;w++)for(var c=h[w],a=0;a<c.length;a++){var d=c[a];if(typeof d=="string")if(v[d]!==void 0)h[w][a]=v[d];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return h}},66400:function(Y,V,e){var b=e(33428),P=e(38248),s=e(3400),L=e(9224),M=e(25788).version,v=new DOMParser;function p(n){this.container=n.container,this.element=document.createElement("div"),this.update(n.graphInfo,n.buttons),this.container.appendChild(this.element)}var r=p.prototype;r.update=function(n,l){this.graphInfo=n;var u=this.graphInfo._context,f=this.graphInfo._fullLayout,g="modebar-"+f._uid;this.element.setAttribute("id",g),this._uid=g,this.element.className="modebar",u.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),f.modebar.orientation==="v"&&(this.element.className+=" vertical",l=l.reverse());var h=f.modebar,w=u.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";s.deleteRelatedStyleRule(g),s.addRelatedStyleRule(g,w+"#"+g+" .modebar-group","background-color: "+h.bgcolor),s.addRelatedStyleRule(g,"#"+g+" .modebar-btn .icon path","fill: "+h.color),s.addRelatedStyleRule(g,"#"+g+" .modebar-btn:hover .icon path","fill: "+h.activecolor),s.addRelatedStyleRule(g,"#"+g+" .modebar-btn.active .icon path","fill: "+h.activecolor);var c=!this.hasButtons(l),a=this.hasLogo!==u.displaylogo,d=this.locale!==u.locale;if(this.locale=u.locale,(c||a||d)&&(this.removeAllButtons(),this.updateButtons(l),u.watermark||u.displaylogo)){var x=this.getLogo();u.watermark&&(x.className=x.className+" watermark"),f.modebar.orientation==="v"?this.element.insertBefore(x,this.element.childNodes[0]):this.element.appendChild(x),this.hasLogo=!0}this.updateActiveButton()},r.updateButtons=function(n){var l=this;this.buttons=n,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(u){var f=l.createGroup();u.forEach(function(g){var h=g.name;if(!h)throw new Error("must provide button 'name' in button config");if(l.buttonsNames.indexOf(h)!==-1)throw new Error("button name '"+h+"' is taken");l.buttonsNames.push(h);var w=l.createButton(g);l.buttonElements.push(w),f.appendChild(w)}),l.element.appendChild(f)})},r.createGroup=function(){var n=document.createElement("div");return n.className="modebar-group",n},r.createButton=function(n){var l=this,u=document.createElement("a");u.setAttribute("rel","tooltip"),u.className="modebar-btn";var f=n.title;f===void 0?f=n.name:typeof f=="function"&&(f=f(this.graphInfo)),(f||f===0)&&u.setAttribute("data-title",f),n.attr!==void 0&&u.setAttribute("data-attr",n.attr);var g=n.val;g!==void 0&&(typeof g=="function"&&(g=g(this.graphInfo)),u.setAttribute("data-val",g));var h=n.click;if(typeof h!="function")throw new Error("must provide button 'click' function in button config");u.addEventListener("click",function(c){n.click(l.graphInfo,c),l.updateActiveButton(c.currentTarget)}),u.setAttribute("data-toggle",n.toggle||!1),n.toggle&&b.select(u).classed("active",!0);var w=n.icon;return typeof w=="function"?u.appendChild(w()):u.appendChild(this.createIcon(w||L.question)),u.setAttribute("data-gravity",n.gravity||"n"),u},r.createIcon=function(n){var l=P(n.height)?Number(n.height):n.ascent-n.descent,u="http://www.w3.org/2000/svg",f;if(n.path){f=document.createElementNS(u,"svg"),f.setAttribute("viewBox",[0,0,n.width,l].join(" ")),f.setAttribute("class","icon");var g=document.createElementNS(u,"path");g.setAttribute("d",n.path),n.transform?g.setAttribute("transform",n.transform):n.ascent!==void 0&&g.setAttribute("transform","matrix(1 0 0 -1 0 "+n.ascent+")"),f.appendChild(g)}if(n.svg){var h=v.parseFromString(n.svg,"application/xml");f=h.childNodes[0]}return f.setAttribute("height","1em"),f.setAttribute("width","1em"),f},r.updateActiveButton=function(n){var l=this.graphInfo._fullLayout,u=n!==void 0?n.getAttribute("data-attr"):null;this.buttonElements.forEach(function(f){var g=f.getAttribute("data-val")||!0,h=f.getAttribute("data-attr"),w=f.getAttribute("data-toggle")==="true",c=b.select(f);if(w)h===u&&c.classed("active",!c.classed("active"));else{var a=h===null?h:s.nestedProperty(l,h).get();c.classed("active",a===g)}})},r.hasButtons=function(n){var l=this.buttons;if(!l||n.length!==l.length)return!1;for(var u=0;u<n.length;++u){if(n[u].length!==l[u].length)return!1;for(var f=0;f<n[u].length;f++)if(n[u][f].name!==l[u][f].name)return!1}return!0};function t(n){return n+" (v"+M+")"}r.getLogo=function(){var n=this.createGroup(),l=document.createElement("a");return l.href="https://plotly.com/",l.target="_blank",l.setAttribute("data-title",t(s._(this.graphInfo,"Produced with Plotly.js"))),l.className="modebar-btn plotlyjsicon modebar-btn--logo",l.appendChild(this.createIcon(L.newplotlylogo)),n.appendChild(l),n},r.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},r.destroy=function(){s.removeElement(this.container.querySelector(".modebar")),s.deleteRelatedStyleRule(this._uid)};function o(n,l){var u=n._fullLayout,f=new p({graphInfo:n,container:u._modebardiv.node(),buttons:l});return u._privateplot&&b.select(f.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),f}Y.exports=o},26680:function(Y,V,e){var b=e(25376),P=e(22548),s=e(31780).templatedArray,L=s("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});Y.exports={visible:{valType:"boolean",editType:"plot"},buttons:L,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:b({editType:"plot"}),bgcolor:{valType:"color",dflt:P.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:P.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},85984:function(Y){Y.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},22148:function(Y,V,e){var b=e(3400),P=e(76308),s=e(31780),L=e(51272),M=e(26680),v=e(85984);Y.exports=function(o,n,l,u,f){var g=o.rangeselector||{},h=s.newContainer(n,"rangeselector");function w(T,C){return b.coerce(g,h,M,T,C)}var c=L(g,h,{name:"buttons",handleItemDefaults:p,calendar:f}),a=w("visible",c.length>0);if(a){var d=r(n,l,u);w("x",d[0]),w("y",d[1]),b.noneOrAll(o,n,["x","y"]),w("xanchor"),w("yanchor"),b.coerceFont(w,"font",l.font);var x=w("bgcolor");w("activecolor",P.contrast(x,v.lightAmount,v.darkAmount)),w("bordercolor"),w("borderwidth")}};function p(t,o,n,l){var u=l.calendar;function f(w,c){return b.coerce(t,o,M.buttons,w,c)}var g=f("visible");if(g){var h=f("step");h!=="all"&&(u&&u!=="gregorian"&&(h==="month"||h==="year")?o.stepmode="backward":f("stepmode"),f("count")),f("label")}}function r(t,o,n){for(var l=n.filter(function(h){return o[h].anchor===t._id}),u=0,f=0;f<l.length;f++){var g=o[l[f]].domain;g&&(u=Math.max(g[1],u))}return[t.domain[0],u+v.yPad]}},50216:function(Y,V,e){var b=e(33428),P=e(24040),s=e(7316),L=e(76308),M=e(43616),v=e(3400),p=v.strTranslate,r=e(72736),t=e(79811),o=e(84284),n=o.LINE_SPACING,l=o.FROM_TL,u=o.FROM_BR,f=e(85984),g=e(48040);Y.exports=function(S){var A=S._fullLayout,i=A._infolayer.selectAll(".rangeselector").data(h(S),w);i.enter().append("g").classed("rangeselector",!0),i.exit().remove(),i.style({cursor:"pointer","pointer-events":"all"}),i.each(function(E){var m=b.select(this),k=E,I=k.rangeselector,O=m.selectAll("g.button").data(v.filterVisible(I.buttons));O.enter().append("g").classed("button",!0),O.exit().remove(),O.each(function(_){var B=b.select(this),F=g(k,_);_._isActive=c(k,_,F),B.call(a,I,_),B.call(x,I,_,S),B.on("click",function(){S._dragged||P.call("_guiRelayout",S,F)}),B.on("mouseover",function(){_._isHovered=!0,B.call(a,I,_)}),B.on("mouseout",function(){_._isHovered=!1,B.call(a,I,_)})}),C(S,O,I,k._name,m)})};function h(y){for(var S=t.list(y,"x",!0),A=[],i=0;i<S.length;i++){var E=S[i];E.rangeselector&&E.rangeselector.visible&&A.push(E)}return A}function w(y){return y._id}function c(y,S,A){if(S.step==="all")return y.autorange===!0;var i=Object.keys(A);return y.range[0]===A[i[0]]&&y.range[1]===A[i[1]]}function a(y,S,A){var i=v.ensureSingle(y,"rect","selector-rect",function(E){E.attr("shape-rendering","crispEdges")});i.attr({rx:f.rx,ry:f.ry}),i.call(L.stroke,S.bordercolor).call(L.fill,d(S,A)).style("stroke-width",S.borderwidth+"px")}function d(y,S){return S._isActive||S._isHovered?y.activecolor:y.bgcolor}function x(y,S,A,i){function E(k){r.convertToTspans(k,i)}var m=v.ensureSingle(y,"text","selector-text",function(k){k.attr("text-anchor","middle")});m.call(M.font,S.font).text(T(A,i._fullLayout._meta)).call(E)}function T(y,S){return y.label?S?v.templateString(y.label,S):y.label:y.step==="all"?"all":y.count+y.step.charAt(0)}function C(y,S,A,i,E){var m=0,k=0,I=A.borderwidth;S.each(function(){var N=b.select(this),W=N.select(".selector-text"),Z=A.font.size*n,q=Math.max(Z*r.lineCount(W),16)+3;k=Math.max(k,q)}),S.each(function(){var N=b.select(this),W=N.select(".selector-rect"),Z=N.select(".selector-text"),q=Z.node()&&M.bBox(Z.node()).width,re=A.font.size*n,le=r.lineCount(Z),ie=Math.max(q+10,f.minButtonWidth);N.attr("transform",p(I+m,I)),W.attr({x:0,y:0,width:ie,height:k}),r.positionText(Z,ie/2,k/2-(le-1)*re/2+3),m+=ie+5});var O=y._fullLayout._size,_=O.l+O.w*A.x,B=O.t+O.h*(1-A.y),F="left";v.isRightAnchor(A)&&(_-=m,F="right"),v.isCenterAnchor(A)&&(_-=m/2,F="center");var z="top";v.isBottomAnchor(A)&&(B-=k,z="bottom"),v.isMiddleAnchor(A)&&(B-=k/2,z="middle"),m=Math.ceil(m),k=Math.ceil(k),_=Math.round(_),B=Math.round(B),s.autoMargin(y,i+"-range-selector",{x:A.x,y:A.y,l:m*l[F],r:m*u[F],b:k*u[z],t:k*l[z]}),E.attr("transform",p(_,B))}},48040:function(Y,V,e){var b=e(73220),P=e(3400).titleCase;Y.exports=function(M,v){var p=M._name,r={};if(v.step==="all")r[p+".autorange"]=!0;else{var t=s(M,v);r[p+".range[0]"]=t[0],r[p+".range[1]"]=t[1]}return r};function s(L,M){var v=L.range,p=new Date(L.r2l(v[1])),r=M.step,t=b["utc"+P(r)],o=M.count,n;switch(M.stepmode){case"backward":n=L.l2r(+t.offset(p,-o));break;case"todate":var l=t.offset(p,-o);n=L.l2r(+t.ceil(l));break}var u=v[1];return[n,u]}},41152:function(Y,V,e){Y.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(26680)}}},layoutAttributes:e(26680),handleDefaults:e(22148),draw:e(50216)}},11200:function(Y,V,e){var b=e(22548);Y.exports={bgcolor:{valType:"color",dflt:b.background,editType:"plot"},bordercolor:{valType:"color",dflt:b.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},26652:function(Y,V,e){var b=e(79811).list,P=e(19280).getAutoRange,s=e(74636);Y.exports=function(M){for(var v=b(M,"x",!0),p=0;p<v.length;p++){var r=v[p],t=r[s.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=P(M,r))}}},74636:function(Y){Y.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},94040:function(Y,V,e){var b=e(3400),P=e(31780),s=e(79811),L=e(11200),M=e(10936);Y.exports=function(p,r,t){var o=p[t],n=r[t];if(!(o.rangeslider||r._requestRangeslider[n._id]))return;b.isPlainObject(o.rangeslider)||(o.rangeslider={});var l=o.rangeslider,u=P.newContainer(n,"rangeslider");function f(i,E){return b.coerce(l,u,L,i,E)}var g,h;function w(i,E){return b.coerce(g,h,M,i,E)}var c=f("visible");if(c){f("bgcolor",r.plot_bgcolor),f("bordercolor"),f("borderwidth"),f("thickness"),f("autorange",!n.isValidRange(l.range)),f("range");var a=r._subplots;if(a)for(var d=a.cartesian.filter(function(i){return i.substr(0,i.indexOf("y"))===s.name2id(t)}).map(function(i){return i.substr(i.indexOf("y"),i.length)}),x=b.simpleMap(d,s.id2name),T=0;T<x.length;T++){var C=x[T];g=l[C]||{},h=P.newContainer(u,C,"yaxis");var y=r[C],S;g.range&&y.isValidRange(g.range)&&(S="fixed");var A=w("rangemode",S);A!=="match"&&w("range",y.range.slice())}u._input=l}}},20060:function(Y,V,e){var b=e(33428),P=e(24040),s=e(7316),L=e(3400),M=L.strTranslate,v=e(43616),p=e(76308),r=e(81668),t=e(57952),o=e(79811),n=e(86476),l=e(93972),u=e(74636);Y.exports=function(S){for(var A=S._fullLayout,i=A._rangeSliderData,E=0;E<i.length;E++){var m=i[E][u.name];m._clipId=m._id+"-"+A._uid}function k(O){return O._name}var I=A._infolayer.selectAll("g."+u.containerClassName).data(i,k);I.exit().each(function(O){var _=O[u.name];A._topdefs.select("#"+_._clipId).remove()}).remove(),i.length!==0&&(I.enter().append("g").classed(u.containerClassName,!0).attr("pointer-events","all"),I.each(function(O){var _=b.select(this),B=O[u.name],F=A[o.id2name(O.anchor)],z=B[o.id2name(O.anchor)];if(B.range){var N=L.simpleMap(B.range,O.r2l),W=L.simpleMap(O.range,O.r2l),Z;W[0]<W[1]?Z=[Math.min(N[0],W[0]),Math.max(N[1],W[1])]:Z=[Math.max(N[0],W[0]),Math.min(N[1],W[1])],B.range=B._input.range=L.simpleMap(Z,O.l2r)}O.cleanRange("rangeslider.range");var q=A._size,re=O.domain;B._width=q.w*(re[1]-re[0]);var le=Math.round(q.l+q.w*re[0]),ie=Math.round(q.t+q.h*(1-O._counterDomainMin)+(O.side==="bottom"?O._depth:0)+B._offsetShift+u.extraPad);_.attr("transform",M(le,ie)),B._rl=L.simpleMap(B.range,O.r2l);var K=B._rl[0],$=B._rl[1],X=$-K;if(B.p2d=function(xe){return xe/B._width*X+K},B.d2p=function(xe){return(xe-K)/X*B._width},O.rangebreaks){var Q=O.locateBreaks(K,$);if(Q.length){var se,J,G=0;for(se=0;se<Q.length;se++)J=Q[se],G+=J.max-J.min;var oe=B._width/($-K-G),te=[-oe*K];for(se=0;se<Q.length;se++)J=Q[se],te.push(te[te.length-1]-oe*(J.max-J.min));for(B.d2p=function(xe){for(var Ce=te[0],De=0;De<Q.length;De++){var Oe=Q[De];if(xe>=Oe.max)Ce=te[De+1];else if(xe<Oe.min)break}return Ce+oe*xe},se=0;se<Q.length;se++)J=Q[se],J.pmin=B.d2p(J.min),J.pmax=B.d2p(J.max);B.p2d=function(xe){for(var Ce=te[0],De=0;De<Q.length;De++){var Oe=Q[De];if(xe>=Oe.pmax)Ce=te[De+1];else if(xe<Oe.pmin)break}return(xe-Ce)/oe}}}if(z.rangemode!=="match"){var fe=F.r2l(z.range[0]),ge=F.r2l(z.range[1]),we=ge-fe;B.d2pOppAxis=function(xe){return(xe-fe)/we*B._height}}_.call(c,S,O,B).call(a,S,O,B).call(d,S,O,B).call(T,S,O,B,z).call(C,S,O,B).call(y,S,O,B),g(_,S,O,B),w(_,S,O,B,F,z),O.side==="bottom"&&r.draw(S,O._id+"title",{propContainer:O,propName:O._name+".title",placeholder:A._dfltTitle.x,attributes:{x:O._offset+O._length/2,y:ie+B._height+B._offsetShift+10+1.5*O.title.font.size,"text-anchor":"middle"}})}))};function f(S){return typeof S.clientX=="number"?S.clientX:S.touches&&S.touches.length>0?S.touches[0].clientX:0}function g(S,A,i,E){if(A._context.staticPlot)return;var m=S.select("rect."+u.slideBoxClassName).node(),k=S.select("rect."+u.grabAreaMinClassName).node(),I=S.select("rect."+u.grabAreaMaxClassName).node();function O(){var _=b.event,B=_.target,F=f(_),z=F-S.node().getBoundingClientRect().left,N=E.d2p(i._rl[0]),W=E.d2p(i._rl[1]),Z=n.coverSlip();this.addEventListener("touchmove",q),this.addEventListener("touchend",re),Z.addEventListener("mousemove",q),Z.addEventListener("mouseup",re);function q(le){var ie=f(le),K=+ie-F,$,X,Q;switch(B){case m:if(Q="ew-resize",N+K>i._length||W+K<0)return;$=N+K,X=W+K;break;case k:if(Q="col-resize",N+K>i._length)return;$=N+K,X=W;break;case I:if(Q="col-resize",W+K<0)return;$=N,X=W+K;break;default:Q="ew-resize",$=z,X=z+K;break}if(X<$){var se=X;X=$,$=se}E._pixelMin=$,E._pixelMax=X,l(b.select(Z),Q),h(S,A,i,E)}function re(){Z.removeEventListener("mousemove",q),Z.removeEventListener("mouseup",re),this.removeEventListener("touchmove",q),this.removeEventListener("touchend",re),L.removeElement(Z)}}S.on("mousedown",O),S.on("touchstart",O)}function h(S,A,i,E){function m(O){return i.l2r(L.constrain(O,E._rl[0],E._rl[1]))}var k=m(E.p2d(E._pixelMin)),I=m(E.p2d(E._pixelMax));window.requestAnimationFrame(function(){P.call("_guiRelayout",A,i._name+".range",[k,I])})}function w(S,A,i,E,m,k){var I=u.handleWidth/2;function O(le){return L.constrain(le,0,E._width)}function _(le){return L.constrain(le,0,E._height)}function B(le){return L.constrain(le,-I,E._width+I)}var F=O(E.d2p(i._rl[0])),z=O(E.d2p(i._rl[1]));if(S.select("rect."+u.slideBoxClassName).attr("x",F).attr("width",z-F),S.select("rect."+u.maskMinClassName).attr("width",F),S.select("rect."+u.maskMaxClassName).attr("x",z).attr("width",E._width-z),k.rangemode!=="match"){var N=E._height-_(E.d2pOppAxis(m._rl[1])),W=E._height-_(E.d2pOppAxis(m._rl[0]));S.select("rect."+u.maskMinOppAxisClassName).attr("x",F).attr("height",N).attr("width",z-F),S.select("rect."+u.maskMaxOppAxisClassName).attr("x",F).attr("y",W).attr("height",E._height-W).attr("width",z-F),S.select("rect."+u.slideBoxClassName).attr("y",N).attr("height",W-N)}var Z=.5,q=Math.round(B(F-I))-Z,re=Math.round(B(z-I))+Z;S.select("g."+u.grabberMinClassName).attr("transform",M(q,Z)),S.select("g."+u.grabberMaxClassName).attr("transform",M(re,Z))}function c(S,A,i,E){var m=L.ensureSingle(S,"rect",u.bgClassName,function(_){_.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),k=E.borderwidth%2===0?E.borderwidth:E.borderwidth-1,I=-E._offsetShift,O=v.crispRound(A,E.borderwidth);m.attr({width:E._width+k,height:E._height+k,transform:M(I,I),"stroke-width":O}).call(p.stroke,E.bordercolor).call(p.fill,E.bgcolor)}function a(S,A,i,E){var m=A._fullLayout,k=L.ensureSingleById(m._topdefs,"clipPath",E._clipId,function(I){I.append("rect").attr({x:0,y:0})});k.select("rect").attr({width:E._width,height:E._height})}function d(S,A,i,E){var m=A.calcdata,k=S.selectAll("g."+u.rangePlotClassName).data(i._subplotsWith,L.identity);k.enter().append("g").attr("class",function(O){return u.rangePlotClassName+" "+O}).call(v.setClipUrl,E._clipId,A),k.order(),k.exit().remove();var I;k.each(function(O,_){var B=b.select(this),F=_===0,z=o.getFromId(A,O,"y"),N=z._name,W=E[N],Z={data:[],layout:{xaxis:{type:i.type,domain:[0,1],range:E.range.slice(),calendar:i.calendar},width:E._width,height:E._height,margin:{t:0,b:0,l:0,r:0}},_context:A._context};i.rangebreaks&&(Z.layout.xaxis.rangebreaks=i.rangebreaks),Z.layout[N]={type:z.type,domain:[0,1],range:W.rangemode!=="match"?W.range.slice():z.range.slice(),calendar:z.calendar},z.rangebreaks&&(Z.layout[N].rangebreaks=z.rangebreaks),s.supplyDefaults(Z);var q=Z._fullLayout.xaxis,re=Z._fullLayout[N];q.clearCalc(),q.setScale(),re.clearCalc(),re.setScale();var le={id:O,plotgroup:B,xaxis:q,yaxis:re,isRangePlot:!0};F?I=le:(le.mainplot="xy",le.mainplotinfo=I),t.rangePlot(A,le,x(m,O))})}function x(S,A){for(var i=[],E=0;E<S.length;E++){var m=S[E],k=m[0].trace;k.xaxis+k.yaxis===A&&i.push(m)}return i}function T(S,A,i,E,m){var k=L.ensureSingle(S,"rect",u.maskMinClassName,function(B){B.attr({x:0,y:0,"shape-rendering":"crispEdges"})});k.attr("height",E._height).call(p.fill,u.maskColor);var I=L.ensureSingle(S,"rect",u.maskMaxClassName,function(B){B.attr({y:0,"shape-rendering":"crispEdges"})});if(I.attr("height",E._height).call(p.fill,u.maskColor),m.rangemode!=="match"){var O=L.ensureSingle(S,"rect",u.maskMinOppAxisClassName,function(B){B.attr({y:0,"shape-rendering":"crispEdges"})});O.attr("width",E._width).call(p.fill,u.maskOppAxisColor);var _=L.ensureSingle(S,"rect",u.maskMaxOppAxisClassName,function(B){B.attr({y:0,"shape-rendering":"crispEdges"})});_.attr("width",E._width).style("border-top",u.maskOppBorder).call(p.fill,u.maskOppAxisColor)}}function C(S,A,i,E){if(!A._context.staticPlot){var m=L.ensureSingle(S,"rect",u.slideBoxClassName,function(k){k.attr({y:0,cursor:u.slideBoxCursor,"shape-rendering":"crispEdges"})});m.attr({height:E._height,fill:u.slideBoxFill})}}function y(S,A,i,E){var m=L.ensureSingle(S,"g",u.grabberMinClassName),k=L.ensureSingle(S,"g",u.grabberMaxClassName),I={x:0,width:u.handleWidth,rx:u.handleRadius,fill:p.background,stroke:p.defaultLine,"stroke-width":u.handleStrokeWidth,"shape-rendering":"crispEdges"},O={y:Math.round(E._height/4),height:Math.round(E._height/2)},_=L.ensureSingle(m,"rect",u.handleMinClassName,function(W){W.attr(I)});_.attr(O);var B=L.ensureSingle(k,"rect",u.handleMaxClassName,function(W){W.attr(I)});B.attr(O);var F={width:u.grabAreaWidth,x:0,y:0,fill:u.grabAreaFill,cursor:A._context.staticPlot?void 0:u.grabAreaCursor},z=L.ensureSingle(m,"rect",u.grabAreaMinClassName,function(W){W.attr(F)});z.attr("height",E._height);var N=L.ensureSingle(k,"rect",u.grabAreaMaxClassName,function(W){W.attr(F)});N.attr("height",E._height)}},97944:function(Y,V,e){var b=e(79811),P=e(72736),s=e(74636),L=e(84284).LINE_SPACING,M=s.name;function v(p){var r=p&&p[M];return r&&r.visible}V.isVisible=v,V.makeData=function(p){var r=b.list({_fullLayout:p},"x",!0),t=p.margin,o=[];if(!p._has("gl2d"))for(var n=0;n<r.length;n++){var l=r[n];if(v(l)){o.push(l);var u=l[M];u._id=M+l._id,u._height=(p.height-t.b-t.t)*u.thickness,u._offsetShift=Math.floor(u.borderwidth/2)}}p._rangeSliderData=o},V.autoMarginOpts=function(p,r){var t=p._fullLayout,o=r[M],n=r._id.charAt(0),l=0,u=0;if(r.side==="bottom"&&(l=r._depth,r.title.text!==t._dfltTitle[n])){u=1.5*r.title.font.size+10+o._offsetShift;var f=(r.title.text.match(P.BR_TAG_ALL)||[]).length;u+=f*r.title.font.size*L}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:o._height+l+Math.max(t.margin.b,u),pad:s.extraPad+o._offsetShift*2}}},49692:function(Y,V,e){var b=e(3400),P=e(11200),s=e(10936),L=e(97944);Y.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:b.extendFlat({},P,{yaxis:s})}}},layoutAttributes:e(11200),handleDefaults:e(94040),calcAutorange:e(26652),draw:e(20060),isVisible:L.isVisible,makeData:L.makeData,autoMarginOpts:L.autoMarginOpts}},10936:function(Y){Y.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},93956:function(Y,V,e){var b=e(13916),P=e(52904).line,s=e(98192).u,L=e(92880).extendFlat,M=e(67824).overrideAll,v=e(31780).templatedArray;e(36208),Y.exports=M(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:L({},b.xref,{}),yref:L({},b.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:P.color,width:L({},P.width,{min:1,dflt:1}),dash:L({},s,{dflt:"dot"})}}),"arraydraw","from-root")},83280:function(Y){Y.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},74224:function(Y,V,e){var b=e(3400),P=e(54460),s=e(51272),L=e(93956),M=e(65152);Y.exports=function(r,t){s(r,t,{name:"selections",handleItemDefaults:v});for(var o=t.selections,n=0;n<o.length;n++){var l=o[n];l&&l.path===void 0&&(l.x0===void 0||l.x1===void 0||l.y0===void 0||l.y1===void 0)&&(t.selections[n]=null)}};function v(p,r,t){function o(m,k){return b.coerce(p,r,L,m,k)}var n=o("path"),l=n?"path":"rect",u=o("type",l),f=u!=="path";f&&delete r.path,o("opacity"),o("line.color"),o("line.width"),o("line.dash");for(var g=["x","y"],h=0;h<2;h++){var w=g[h],c={_fullLayout:t},a,d,x,T=P.coerceRef(p,r,c,w);if(a=P.getFromId(c,T),a._selectionIndices.push(r._index),x=M.rangeToShapePosition(a),d=M.shapePositionToRange(a),f){var C=w+"0",y=w+"1",S=p[C],A=p[y];p[C]=d(p[C],!0),p[y]=d(p[y],!0),P.coercePosition(r,c,o,T,C),P.coercePosition(r,c,o,T,y);var i=r[C],E=r[y];i!==void 0&&E!==void 0&&(r[C]=x(i),r[y]=x(E),p[C]=S,p[y]=A)}}f&&b.noneOrAll(p,r,["x0","x1","y0","y1"])}},23640:function(Y,V,e){var b=e(9856).readPaths,P=e(55496),s=e(1936).clearOutlineControllers,L=e(76308),M=e(43616),v=e(31780).arrayEditor,p=e(65152),r=p.getPathString;Y.exports={draw:t,drawOne:n,activateLastSelection:f};function t(h){var w=h._fullLayout;s(h),w._selectionLayer.selectAll("path").remove();for(var c in w._plots){var a=w._plots[c].selectionLayer;a&&a.selectAll("path").remove()}for(var d=0;d<w.selections.length;d++)n(h,d)}function o(h){return h._context.editSelection}function n(h,w){h._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+w+'"]').remove();var c=p.makeSelectionsOptionsAndPlotinfo(h,w),a=c.options,d=c.plotinfo;if(!a._input)return;x(h._fullLayout._selectionLayer);function x(T){var C=r(h,a),y={"data-index":w,"fill-rule":"evenodd",d:C},S=a.opacity,A="rgba(0,0,0,0)",i=a.line.color||L.contrast(h._fullLayout.plot_bgcolor),E=a.line.width,m=a.line.dash;E||(E=5,m="solid");var k=o(h)&&h._fullLayout._activeSelectionIndex===w;k&&(A=h._fullLayout.activeselection.fillcolor,S=h._fullLayout.activeselection.opacity);for(var I=[],O=1;O>=0;O--){var _=T.append("path").attr(y).style("opacity",O?.1:S).call(L.stroke,i).call(L.fill,A).call(M.dashLine,O?"solid":m,O?4+E:E);if(l(_,h,a),k){var B=v(h.layout,"selections",a);_.style({cursor:"move"});var F={element:_.node(),plotinfo:d,gd:h,editHelpers:B,isActiveSelection:!0},z=b(C,h);P(z,_,F)}else _.style("pointer-events",O?"all":"none");I[O]=_}var N=I[0],W=I[1];W.node().addEventListener("click",function(){return u(h,N)})}}function l(h,w,c){var a=c.xref+c.yref;M.setClipUrl(h,"clip"+w._fullLayout._uid+a,w)}function u(h,w){if(o(h)){var c=w.node(),a=+c.getAttribute("data-index");if(a>=0){if(a===h._fullLayout._activeSelectionIndex){g(h);return}h._fullLayout._activeSelectionIndex=a,h._fullLayout._deactivateSelection=g,t(h)}}}function f(h){if(o(h)){var w=h._fullLayout.selections.length-1;h._fullLayout._activeSelectionIndex=w,h._fullLayout._deactivateSelection=g,t(h)}}function g(h){if(o(h)){var w=h._fullLayout._activeSelectionIndex;w>=0&&(s(h),delete h._fullLayout._activeSelectionIndex,t(h))}}},34200:function(Y,V,e){var b=e(98192).u,P=e(92880).extendFlat;Y.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:P({},b,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},81004:function(Y){Y.exports=function(e,b,P){P("newselection.mode");var s=P("newselection.line.width");s&&(P("newselection.line.color"),P("newselection.line.dash")),P("activeselection.fillcolor"),P("activeselection.opacity")}},5968:function(Y,V,e){var b=e(72760),P=b.selectMode,s=e(1936),L=s.clearOutline,M=e(9856),v=M.readPaths,p=M.writePaths,r=M.fixDatesForPaths;Y.exports=function(o,n){if(o.length){var l=o[0][0];if(l){var u=l.getAttribute("d"),f=n.gd,g=f._fullLayout.newselection,h=n.plotinfo,w=h.xaxis,c=h.yaxis,a=n.isActiveSelection,d=n.dragmode,x=(f.layout||{}).selections||[];if(!P(d)&&a!==void 0){var T=f._fullLayout._activeSelectionIndex;if(T<x.length)switch(f._fullLayout.selections[T].type){case"rect":d="select";break;case"path":d="lasso";break}}var C=v(u,f,h,a),y={xref:w._id,yref:c._id,opacity:g.opacity,line:{color:g.line.color,width:g.line.width,dash:g.line.dash}},S;C.length===1&&(S=C[0]),S&&S.length===5&&d==="select"?(y.type="rect",y.x0=S[0][1],y.y0=S[0][2],y.x1=S[2][1],y.y1=S[2][2]):(y.type="path",w&&c&&r(C,w,c),y.path=p(C),S=null),L(f);for(var A=n.editHelpers,i=(A||{}).modifyItem,E=[],m=0;m<x.length;m++){var k=f._fullLayout.selections[m];if(!k){E[m]=k;continue}if(E[m]=k._input,a!==void 0&&m===f._fullLayout._activeSelectionIndex){var I=y;switch(k.type){case"rect":i("x0",I.x0),i("x1",I.x1),i("y0",I.y0),i("y1",I.y1);break;case"path":i("path",I.path);break}}}return a===void 0?(E.push(y),E):A?A.getUpdateObj():{}}}}},5840:function(Y,V,e){var b=e(3400).strTranslate;function P(v,p){switch(v.type){case"log":return v.p2d(p);case"date":return v.p2r(p,0,v.calendar);default:return v.p2r(p)}}function s(v,p){switch(v.type){case"log":return v.d2p(p);case"date":return v.r2p(p,0,v.calendar);default:return v.r2p(p)}}function L(v){var p=v._id.charAt(0)==="y"?1:0;return function(r){return P(v,r[p])}}function M(v){return b(v.xaxis._offset,v.yaxis._offset)}Y.exports={p2r:P,r2p:s,axValue:L,getTransform:M}},22676:function(Y,V,e){var b=e(23640),P=e(43156);Y.exports={moduleType:"component",name:"selections",layoutAttributes:e(93956),supplyLayoutDefaults:e(74224),supplyDrawNewSelectionDefaults:e(81004),includeBasePlot:e(36632)("selections"),draw:b.draw,drawOne:b.drawOne,reselect:P.reselect,prepSelect:P.prepSelect,clearOutline:P.clearOutline,clearSelectionsCache:P.clearSelectionsCache,selectOnClick:P.selectOnClick}},43156:function(Y,V,e){var b=e(14756),P=e(61456),s=e(24040),L=e(43616).dashStyle,M=e(76308),v=e(93024),p=e(10624).makeEventData,r=e(72760),t=r.freeMode,o=r.rectMode,n=r.drawMode,l=r.openMode,u=r.selectMode,f=e(65152),g=e(85448),h=e(55496),w=e(1936).clearOutline,c=e(9856),a=c.handleEllipse,d=c.readPaths,x=e(93940).newShapes,T=e(5968),C=e(23640).activateLastSelection,y=e(3400),S=y.sorterAsc,A=e(92065),i=e(91200),E=e(79811).getFromId,m=e(73696),k=e(39172).redrawReglTraces,I=e(83280),O=I.MINSELECT,_=A.filter,B=A.tester,F=e(5840),z=F.p2r,N=F.axValue,W=F.getTransform;function Z(Xe){return Xe.subplot!==void 0}function q(Xe,Le,Fe,Ue,Ee){var he=!Z(Ue),ye=t(Ee),_e=o(Ee),We=l(Ee),rt=n(Ee),st=u(Ee),Vt=Ee==="drawline",Xt=Ee==="drawcircle",Tt=Vt||Xt,Lt=Ue.gd,Kt=Lt._fullLayout,vr=st&&Kt.newselection.mode==="immediate"&&he,pt=Kt._zoomlayer,jt=Ue.element.getBoundingClientRect(),$t=Ue.plotinfo,mr=W($t),or=Le-jt.left,gt=Fe-jt.top;Kt._calcInverseTransform(Lt);var lt=y.apply3DTransform(Kt._invTransform)(or,gt);or=lt[0],gt=lt[1];var bt=Kt._invScaleX,Et=Kt._invScaleY,kt=or,Ot=gt,Ft="M"+or+","+gt,Bt=Ue.xaxes[0],Jt=Ue.yaxes[0],hr=Bt._length,cr=Jt._length,dr=Xe.altKey&&!(n(Ee)&&We),fr,Lr,xr,Ke,et,er,tr;X(Xe,Lt,Ue),ye&&(fr=_([[or,gt]],I.BENDPX));var Yt=pt.selectAll("path.select-outline-"+$t.id).data([1]),Pt=rt?Kt.newshape:Kt.newselection;rt&&(Ue.hasText=Pt.label.text||Pt.label.texttemplate);var Zt=rt&&!We?Pt.fillcolor:"rgba(0,0,0,0)",nr=Pt.line.color||(he?M.contrast(Lt._fullLayout.plot_bgcolor):"#7f7f7f");Yt.enter().append("path").attr("class","select-outline select-outline-"+$t.id).style({opacity:rt?Pt.opacity/2:1,"stroke-dasharray":L(Pt.line.dash,Pt.line.width),"stroke-width":Pt.line.width+"px","shape-rendering":"crispEdges"}).call(M.stroke,nr).call(M.fill,Zt).attr("fill-rule","evenodd").classed("cursor-move",!!rt).attr("transform",mr).attr("d",Ft+"Z");var Qt=pt.append("path").attr("class","zoombox-corners").style({fill:M.background,stroke:M.defaultLine,"stroke-width":1}).attr("transform",mr).attr("d","M0,0Z");if(rt&&Ue.hasText){var Wt=pt.select(".label-temp");Wt.empty()&&(Wt=pt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var yr=Kt._uid+I.SELECTID,Ir=[],Tr=oe(Lt,Ue.xaxes,Ue.yaxes,Ue.subplot);vr&&!Xe.shiftKey&&(Ue._clearSubplotSelections=function(){if(he){var Or=Bt._id,En=Jt._id;at(Lt,Or,En,Tr);for(var nn=(Lt.layout||{}).selections||[],gr=[],Pr=!1,Xr=0;Xr<nn.length;Xr++){var kr=Kt.selections[Xr];kr.xref!==Or||kr.yref!==En?gr.push(nn[Xr]):Pr=!0}Pr&&(Lt._fullLayout._noEmitSelectedAtStart=!0,s.call("_guiRelayout",Lt,{selections:gr}))}});var vn=tt(Ue);Ue.moveFn=function(Or,En){Ue._clearSubplotSelections&&(Ue._clearSubplotSelections(),Ue._clearSubplotSelections=void 0),kt=Math.max(0,Math.min(hr,bt*Or+or)),Ot=Math.max(0,Math.min(cr,Et*En+gt));var nn=Math.abs(kt-or),gr=Math.abs(Ot-gt);if(_e){var Pr,Xr,kr;if(st){var pn=Kt.selectdirection;switch(pn==="any"?gr<Math.min(nn*.6,O)?Pr="h":nn<Math.min(gr*.6,O)?Pr="v":Pr="d":Pr=pn,Pr){case"h":Xr=Xt?cr/2:0,kr=cr;break;case"v":Xr=Xt?hr/2:0,kr=hr;break}}if(rt)switch(Kt.newshape.drawdirection){case"vertical":Pr="h",Xr=Xt?cr/2:0,kr=cr;break;case"horizontal":Pr="v",Xr=Xt?hr/2:0,kr=hr;break;case"ortho":nn<gr?(Pr="h",Xr=gt,kr=Ot):(Pr="v",Xr=or,kr=kt);break;default:Pr="d"}Pr==="h"?(Ke=Tt?a(Xt,[kt,Xr],[kt,kr]):[[or,Xr],[or,kr],[kt,kr],[kt,Xr]],Ke.xmin=Tt?kt:Math.min(or,kt),Ke.xmax=Tt?kt:Math.max(or,kt),Ke.ymin=Math.min(Xr,kr),Ke.ymax=Math.max(Xr,kr),Qt.attr("d","M"+Ke.xmin+","+(gt-O)+"h-4v"+2*O+"h4ZM"+(Ke.xmax-1)+","+(gt-O)+"h4v"+2*O+"h-4Z")):Pr==="v"?(Ke=Tt?a(Xt,[Xr,Ot],[kr,Ot]):[[Xr,gt],[Xr,Ot],[kr,Ot],[kr,gt]],Ke.xmin=Math.min(Xr,kr),Ke.xmax=Math.max(Xr,kr),Ke.ymin=Tt?Ot:Math.min(gt,Ot),Ke.ymax=Tt?Ot:Math.max(gt,Ot),Qt.attr("d","M"+(or-O)+","+Ke.ymin+"v-4h"+2*O+"v4ZM"+(or-O)+","+(Ke.ymax-1)+"v4h"+2*O+"v-4Z")):Pr==="d"&&(Ke=Tt?a(Xt,[or,gt],[kt,Ot]):[[or,gt],[or,Ot],[kt,Ot],[kt,gt]],Ke.xmin=Math.min(or,kt),Ke.xmax=Math.max(or,kt),Ke.ymin=Math.min(gt,Ot),Ke.ymax=Math.max(gt,Ot),Qt.attr("d","M0,0Z"))}else ye&&(fr.addPt([kt,Ot]),Ke=fr.filtered);if(Ue.selectionDefs&&Ue.selectionDefs.length?(xr=Te(Ue.mergedPolygons,Ke,dr),Ke.subtract=dr,Lr=$(Ue.selectionDefs.concat([Ke]))):(xr=[Ke],Lr=B(Ke)),h(Me(xr,We),Yt,Ue),st){var tn=Se(Lt,!1),Tn=tn.eventData?tn.eventData.points.slice():[];tn=Se(Lt,!1,Lr,Tr,Ue),Lr=tn.selectionTesters,tr=tn.eventData;var Ln;fr?Ln=fr.filtered:Ln=vt(xr),i.throttle(yr,I.SELECTDELAY,function(){Ir=ke(Lr,Tr);for(var Hn=Ir.slice(),pa=0;pa<Tn.length;pa++){for(var xa=Tn[pa],ia=!1,ra=0;ra<Hn.length;ra++)if(Hn[ra].curveNumber===xa.curveNumber&&Hn[ra].pointNumber===xa.pointNumber){ia=!0;break}ia||Hn.push(xa)}Hn.length&&(tr||(tr={}),tr.points=Hn),vn(tr,Ln),Ie(Lt,tr)})}},Ue.clickFn=function(Or,En){if(Qt.remove(),Lt._fullLayout._activeShapeIndex>=0){Lt._fullLayout._deactivateShape(Lt);return}if(!rt){var nn=Kt.clickmode;i.done(yr).then(function(){if(i.clear(yr),Or===2){for(Yt.remove(),et=0;et<Tr.length;et++)er=Tr[et],er._module.selectPoints(er,!1);if(De(Lt,Tr),J(Ue),Ge(Lt),Tr.length){var gr=Tr[0].xaxis,Pr=Tr[0].yaxis;if(gr&&Pr){for(var Xr=[],kr=Lt._fullLayout.selections,pn=0;pn<kr.length;pn++){var tn=kr[pn];tn&&(tn.xref!==gr._id||tn.yref!==Pr._id)&&Xr.push(tn)}Xr.length<kr.length&&(Lt._fullLayout._noEmitSelectedAtStart=!0,s.call("_guiRelayout",Lt,{selections:Xr}))}}}else nn.indexOf("select")>-1&&re(En,Lt,Ue.xaxes,Ue.yaxes,Ue.subplot,Ue,Yt),nn==="event"&&Ve(Lt,void 0);v.click(Lt,En,$t.id)}).catch(y.error)}},Ue.doneFn=function(){Qt.remove(),i.done(yr).then(function(){i.clear(yr),!vr&&Ke&&Ue.selectionDefs&&(Ke.subtract=dr,Ue.selectionDefs.push(Ke),Ue.mergedPolygons.length=0,[].push.apply(Ue.mergedPolygons,xr)),(vr||rt)&&J(Ue,vr),Ue.doneFnCompleted&&Ue.doneFnCompleted(Ir),st&&Ve(Lt,tr)}).catch(y.error)}}function re(Xe,Le,Fe,Ue,Ee,he,ye){var _e=Le._hoverdata,We=Le._fullLayout,rt=We.clickmode,st=rt.indexOf("event")>-1,Vt=[],Xt,Tt,Lt,Kt,vr,pt,jt,$t,mr,or;if(fe(_e)){X(Xe,Le,he),Xt=oe(Le,Fe,Ue,Ee);var gt=ge(_e,Xt),lt=gt.pointNumbers.length>0;if(lt?xe(Xt,gt):Ce(Xt)&&(jt=we(gt))){for(ye&&ye.remove(),or=0;or<Xt.length;or++)Tt=Xt[or],Tt._module.selectPoints(Tt,!1);De(Le,Xt),J(he),st&&Ge(Le)}else{$t=Xe.shiftKey&&(jt!==void 0?jt:we(gt)),Lt=le(gt.pointNumber,gt.searchInfo,$t);var bt=he.selectionDefs.concat([Lt]);for(Kt=$(bt),or=0;or<Xt.length;or++)if(vr=Xt[or]._module.selectPoints(Xt[or],Kt),pt=Re(vr,Xt[or]),Vt.length)for(var Et=0;Et<pt.length;Et++)Vt.push(pt[Et]);else Vt=pt;if(mr={points:Vt},De(Le,Xt,mr),Lt&&he&&he.selectionDefs.push(Lt),ye){var kt=he.mergedPolygons,Ot=l(he.dragmode);h(Me(kt,Ot),ye,he)}st&&Ve(Le,mr)}}}function le(Xe,Le,Fe){return{pointNumber:Xe,searchInfo:Le,subtract:!!Fe}}function ie(Xe){return"pointNumber"in Xe&&"searchInfo"in Xe}function K(Xe){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Le,Fe,Ue,Ee){var he=Xe.searchInfo.cd[0].trace._expandedIndex,ye=Ee.cd[0].trace._expandedIndex;return ye===he&&Ue===Xe.pointNumber},isRect:!1,degenerate:!1,subtract:!!Xe.subtract}}function $(Xe){if(!Xe.length)return;for(var Le=[],Fe=ie(Xe[0])?0:Xe[0][0][0],Ue=Fe,Ee=ie(Xe[0])?0:Xe[0][0][1],he=Ee,ye=0;ye<Xe.length;ye++)if(ie(Xe[ye]))Le.push(K(Xe[ye]));else{var _e=B(Xe[ye]);_e.subtract=!!Xe[ye].subtract,Le.push(_e),Fe=Math.min(Fe,_e.xmin),Ue=Math.max(Ue,_e.xmax),Ee=Math.min(Ee,_e.ymin),he=Math.max(he,_e.ymax)}function We(rt,st,Vt,Xt){for(var Tt=!1,Lt=0;Lt<Le.length;Lt++)Le[Lt].contains(rt,st,Vt,Xt)&&(Tt=!Le[Lt].subtract);return Tt}return{xmin:Fe,xmax:Ue,ymin:Ee,ymax:he,pts:[],contains:We,isRect:!1,degenerate:!1}}function X(Xe,Le,Fe){var Ue=Le._fullLayout,Ee=Fe.plotinfo,he=Fe.dragmode,ye=Ue._lastSelectedSubplot&&Ue._lastSelectedSubplot===Ee.id,_e=(Xe.shiftKey||Xe.altKey)&&!(n(he)&&l(he));ye&&_e&&Ee.selection&&Ee.selection.selectionDefs&&!Fe.selectionDefs?(Fe.selectionDefs=Ee.selection.selectionDefs,Fe.mergedPolygons=Ee.selection.mergedPolygons):(!_e||!Ee.selection)&&J(Fe),ye||(w(Le),Ue._lastSelectedSubplot=Ee.id)}function Q(Xe){return Xe._fullLayout._activeShapeIndex>=0}function se(Xe){return Xe._fullLayout._activeSelectionIndex>=0}function J(Xe,Le){var Fe=Xe.dragmode,Ue=Xe.plotinfo,Ee=Xe.gd;Q(Ee)&&Ee._fullLayout._deactivateShape(Ee),se(Ee)&&Ee._fullLayout._deactivateSelection(Ee);var he=Ee._fullLayout,ye=he._zoomlayer,_e=n(Fe),We=u(Fe);if(_e||We){var rt=ye.selectAll(".select-outline-"+Ue.id);if(rt&&Ee._fullLayout._outlining){var st;_e&&(st=x(rt,Xe)),st&&s.call("_guiRelayout",Ee,{shapes:st});var Vt;We&&!Z(Xe)&&(Vt=T(rt,Xe)),Vt&&(Ee._fullLayout._noEmitSelectedAtStart=!0,s.call("_guiRelayout",Ee,{selections:Vt}).then(function(){Le&&C(Ee)})),Ee._fullLayout._outlining=!1}}Ue.selection={},Ue.selection.selectionDefs=Xe.selectionDefs=[],Ue.selection.mergedPolygons=Xe.mergedPolygons=[]}function G(Xe){return Xe._id}function oe(Xe,Le,Fe,Ue){if(!Xe.calcdata)return[];var Ee=[],he=Le.map(G),ye=Fe.map(G),_e,We,rt;for(rt=0;rt<Xe.calcdata.length;rt++)if(_e=Xe.calcdata[rt],We=_e[0].trace,!(We.visible!==!0||!We._module||!We._module.selectPoints))if(Z({subplot:Ue})&&(We.subplot===Ue||We.geo===Ue))Ee.push(te(We._module,_e,Le[0],Fe[0]));else if(We.type==="splom"){if(We._xaxes[he[0]]&&We._yaxes[ye[0]]){var st=te(We._module,_e,Le[0],Fe[0]);st.scene=Xe._fullLayout._splomScenes[We.uid],Ee.push(st)}}else if(We.type==="sankey"){var Vt=te(We._module,_e,Le[0],Fe[0]);Ee.push(Vt)}else{if(he.indexOf(We.xaxis)===-1&&(!We._xA||!We._xA.overlaying)||ye.indexOf(We.yaxis)===-1&&(!We._yA||!We._yA.overlaying))continue;Ee.push(te(We._module,_e,E(Xe,We.xaxis),E(Xe,We.yaxis)))}return Ee}function te(Xe,Le,Fe,Ue){return{_module:Xe,cd:Le,xaxis:Fe,yaxis:Ue}}function fe(Xe){return Xe&&Array.isArray(Xe)&&Xe[0].hoverOnBox!==!0}function ge(Xe,Le){var Fe=Xe[0],Ue=-1,Ee=[],he,ye;for(ye=0;ye<Le.length;ye++)if(he=Le[ye],Fe.fullData._expandedIndex===he.cd[0].trace._expandedIndex){if(Fe.hoverOnBox===!0)break;Fe.pointNumber!==void 0?Ue=Fe.pointNumber:Fe.binNumber!==void 0&&(Ue=Fe.binNumber,Ee=Fe.pointNumbers);break}return{pointNumber:Ue,pointNumbers:Ee,searchInfo:he}}function we(Xe){var Le=Xe.searchInfo.cd[0].trace,Fe=Xe.pointNumber,Ue=Xe.pointNumbers,Ee=Ue.length>0,he=Ee?Ue[0]:Fe;return Le.selectedpoints?Le.selectedpoints.indexOf(he)>-1:!1}function xe(Xe,Le){var Fe=[],Ue,Ee,he,ye;for(ye=0;ye<Xe.length;ye++)Ue=Xe[ye],Ue.cd[0].trace.selectedpoints&&Ue.cd[0].trace.selectedpoints.length>0&&Fe.push(Ue);if(Fe.length===1&&(he=Fe[0]===Le.searchInfo,he&&(Ee=Le.searchInfo.cd[0].trace,Ee.selectedpoints.length===Le.pointNumbers.length))){for(ye=0;ye<Le.pointNumbers.length;ye++)if(Ee.selectedpoints.indexOf(Le.pointNumbers[ye])<0)return!1;return!0}return!1}function Ce(Xe){var Le=0,Fe,Ue,Ee;for(Ee=0;Ee<Xe.length;Ee++)if(Fe=Xe[Ee],Ue=Fe.cd[0].trace,Ue.selectedpoints&&(Ue.selectedpoints.length>1||(Le+=Ue.selectedpoints.length,Le>1)))return!1;return Le===1}function De(Xe,Le,Fe){var Ue;for(Ue=0;Ue<Le.length;Ue++){var Ee=Le[Ue].cd[0].trace._fullInput,he=Xe._fullLayout._tracePreGUI[Ee.uid]||{};he.selectedpoints===void 0&&(he.selectedpoints=Ee._input.selectedpoints||null)}var ye;if(Fe){var _e=Fe.points||[];for(Ue=0;Ue<Le.length;Ue++)ye=Le[Ue].cd[0].trace,ye._input.selectedpoints=ye._fullInput.selectedpoints=[],ye._fullInput!==ye&&(ye.selectedpoints=[]);for(var We=0;We<_e.length;We++){var rt=_e[We],st=rt.data,Vt=rt.fullData,Xt=rt.pointIndex,Tt=rt.pointIndices;Tt?([].push.apply(st.selectedpoints,Tt),ye._fullInput!==ye&&[].push.apply(Vt.selectedpoints,Tt)):(st.selectedpoints.push(Xt),ye._fullInput!==ye&&Vt.selectedpoints.push(Xt))}}else for(Ue=0;Ue<Le.length;Ue++)ye=Le[Ue].cd[0].trace,delete ye.selectedpoints,delete ye._input.selectedpoints,ye._fullInput!==ye&&delete ye._fullInput.selectedpoints;Oe(Xe,Le)}function Oe(Xe,Le){for(var Fe=!1,Ue=0;Ue<Le.length;Ue++){var Ee=Le[Ue],he=Ee.cd;s.traceIs(he[0].trace,"regl")&&(Fe=!0);var ye=Ee._module,_e=ye.styleOnSelect||ye.style;_e&&(_e(Xe,he,he[0].node3),he[0].nodeRangePlot3&&_e(Xe,he,he[0].nodeRangePlot3))}Fe&&(m(Xe),k(Xe))}function Te(Xe,Le,Fe){for(var Ue=Fe?b.difference:b.union,Ee=Ue({regions:Xe},{regions:[Le]}),he=Ee.regions.reverse(),ye=0;ye<he.length;ye++){var _e=he[ye];_e.subtract=ut(_e,he.slice(0,ye))}return he}function Re(Xe,Le){if(Array.isArray(Xe))for(var Fe=Le.cd,Ue=Le.cd[0].trace,Ee=0;Ee<Xe.length;Ee++)Xe[Ee]=p(Xe[Ee],Ue,Fe);return Xe}function Me(Xe,Le){for(var Fe=[],Ue=0;Ue<Xe.length;Ue++){Fe[Ue]=[];for(var Ee=0;Ee<Xe[Ue].length;Ee++){Fe[Ue][Ee]=[],Fe[Ue][Ee][0]=Ee?"L":"M";for(var he=0;he<Xe[Ue][Ee].length;he++)Fe[Ue][Ee].push(Xe[Ue][Ee][he])}Le||Fe[Ue].push(["Z",Fe[Ue][0][1],Fe[Ue][0][2]])}return Fe}function ke(Xe,Le){for(var Fe=[],Ue,Ee,he=0;he<Le.length;he++){var ye=Le[he];Ee=ye._module.selectPoints(ye,Xe),Ue=Re(Ee,ye),Fe=Fe.concat(Ue)}return Fe}function Se(Xe,Le,Fe,Ue,Ee){var he=!!Ue,ye,_e,We;Ee&&(ye=Ee.plotinfo,_e=Ee.xaxes[0]._id,We=Ee.yaxes[0]._id);var rt=[],st=[],Vt=$e(Xe),Xt=Xe._fullLayout;if(ye){var Tt=Xt._zoomlayer,Lt=Xt.dragmode,Kt=n(Lt),vr=u(Lt);if(Kt||vr){var pt=E(Xe,_e,"x"),jt=E(Xe,We,"y");if(pt&&jt){var $t=Tt.selectAll(".select-outline-"+ye.id);if($t&&Xe._fullLayout._outlining&&$t.length){for(var mr=$t[0][0],or=mr.getAttribute("d"),gt=d(or,Xe,ye),lt=[],bt=0;bt<gt.length;bt++){for(var Et=gt[bt],kt=[],Ot=0;Ot<Et.length;Ot++)kt.push([ht(pt,Et[Ot][1]),ht(jt,Et[Ot][2])]);kt.xref=_e,kt.yref=We,kt.subtract=ut(kt,lt),lt.push(kt)}Vt=Vt.concat(lt)}}}}var Ft=_e&&We?[_e+We]:Xt._subplots.cartesian;He(Xe);for(var Bt={},Jt=0;Jt<Ft.length;Jt++){var hr=Ft[Jt],cr=hr.indexOf("y"),dr=hr.slice(0,cr),fr=hr.slice(cr),Lr=_e&&We?Fe:void 0;if(Lr=Ze(Vt,dr,fr,Lr),Lr){var xr=Ue;if(!he){var Ke=E(Xe,dr,"x"),et=E(Xe,fr,"y");xr=oe(Xe,[Ke],[et],hr);for(var er=0;er<xr.length;er++){var tr=xr[er],Yt=tr.cd[0],Pt=Yt.trace;if(tr._module.name==="scattergl"&&!Yt.t.xpx){var Zt=Pt.x,nr=Pt.y,Qt=Pt._length;Yt.t.xpx=[],Yt.t.ypx=[];for(var Wt=0;Wt<Qt;Wt++)Yt.t.xpx[Wt]=Ke.c2p(Zt[Wt]),Yt.t.ypx[Wt]=et.c2p(nr[Wt])}tr._module.name==="splom"&&(Bt[Pt.uid]||(Bt[Pt.uid]=!0))}}var yr=ke(Lr,xr);rt=rt.concat(yr),st=st.concat(xr)}}var Ir={points:rt};De(Xe,st,Ir);var Tr=Xt.clickmode,vn=Tr.indexOf("event")>-1&&Le;if(!ye&&Le){var Or=$e(Xe,!0);if(Or.length){var En=Or[0].xref,nn=Or[0].yref;if(En&&nn){var gr=vt(Or),Pr=St([E(Xe,En,"x"),E(Xe,nn,"y")]);Pr(Ir,gr)}}Xe._fullLayout._noEmitSelectedAtStart?Xe._fullLayout._noEmitSelectedAtStart=!1:vn&&Ve(Xe,Ir),Xt._reselect=!1}if(!ye&&Xt._deselect){var Xr=Xt._deselect;_e=Xr.xref,We=Xr.yref,je(_e,We,st)||at(Xe,_e,We,Ue),vn&&(Ir.points.length?Ve(Xe,Ir):Ge(Xe)),Xt._deselect=!1}return{eventData:Ir,selectionTesters:Fe}}function He(Xe){var Le=Xe.calcdata;if(Le)for(var Fe=0;Fe<Le.length;Fe++){var Ue=Le[Fe][0],Ee=Ue.trace,he=Xe._fullLayout._splomScenes;if(he){var ye=he[Ee.uid];ye&&(ye.selectBatch=[])}}}function je(Xe,Le,Fe){for(var Ue=0;Ue<Fe.length;Ue++){var Ee=Fe[Ue];if(Ee.xaxis&&Ee.xaxis._id===Xe&&Ee.yaxis&&Ee.yaxis._id===Le)return!0}return!1}function at(Xe,Le,Fe,Ue){Ue=oe(Xe,[E(Xe,Le,"x")],[E(Xe,Fe,"y")],Le+Fe);for(var Ee=0;Ee<Ue.length;Ee++){var he=Ue[Ee];he._module.selectPoints(he,!1)}De(Xe,Ue)}function Ze(Xe,Le,Fe,Ue){for(var Ee,he=0;he<Xe.length;he++){var ye=Xe[he];if(!(Le!==ye.xref||Fe!==ye.yref))if(Ee){var _e=!!ye.subtract;Ee=Te(Ee,ye,_e),Ue=$(Ee)}else Ee=[ye],Ue=B(ye)}return Ue}function $e(Xe,Le){for(var Fe=[],Ue=Xe._fullLayout,Ee=Ue.selections,he=Ee.length,ye=0;ye<he;ye++)if(!(Le&&ye!==Ue._activeSelectionIndex)){var _e=Ee[ye];if(_e){var We=_e.xref,rt=_e.yref,st=E(Xe,We,"x"),Vt=E(Xe,rt,"y"),Xt,Tt,Lt,Kt,vr;if(_e.type==="rect"){vr=[];var pt=ht(st,_e.x0),jt=ht(st,_e.x1),$t=ht(Vt,_e.y0),mr=ht(Vt,_e.y1);vr=[[pt,$t],[pt,mr],[jt,mr],[jt,$t]],Xt=Math.min(pt,jt),Tt=Math.max(pt,jt),Lt=Math.min($t,mr),Kt=Math.max($t,mr),vr.xmin=Xt,vr.xmax=Tt,vr.ymin=Lt,vr.ymax=Kt,vr.xref=We,vr.yref=rt,vr.subtract=!1,vr.isRect=!0,Fe.push(vr)}else if(_e.type==="path")for(var or=_e.path.split("Z"),gt=[],lt=0;lt<or.length;lt++){var bt=or[lt];if(bt){bt+="Z";var Et=f.extractPathCoords(bt,g.paramIsX,"raw"),kt=f.extractPathCoords(bt,g.paramIsY,"raw");Xt=1/0,Tt=-1/0,Lt=1/0,Kt=-1/0,vr=[];for(var Ot=0;Ot<Et.length;Ot++){var Ft=ht(st,Et[Ot]),Bt=ht(Vt,kt[Ot]);vr.push([Ft,Bt]),Xt=Math.min(Ft,Xt),Tt=Math.max(Ft,Tt),Lt=Math.min(Bt,Lt),Kt=Math.max(Bt,Kt)}vr.xmin=Xt,vr.xmax=Tt,vr.ymin=Lt,vr.ymax=Kt,vr.xref=We,vr.yref=rt,vr.subtract=ut(vr,gt),gt.push(vr),Fe.push(vr)}}}}return Fe}function ut(Xe,Le){for(var Fe=!1,Ue=0;Ue<Le.length;Ue++)for(var Ee=Le[Ue],he=0;he<Xe.length;he++)if(P(Xe[he],Ee)){Fe=!Fe;break}return Fe}function ht(Xe,Le){return Xe.type==="date"&&(Le=Le.replace("_"," ")),Xe.type==="log"?Xe.c2p(Le):Xe.r2p(Le,null,Xe.calendar)}function vt(Xe){for(var Le=Xe.length,Fe=[],Ue=0;Ue<Le;Ue++){var Ee=Xe[Ue];Fe=Fe.concat(Ee),Fe=Fe.concat([Ee[0]])}return xt(Fe)}function xt(Xe){return Xe.isRect=Xe.length===5&&Xe[0][0]===Xe[4][0]&&Xe[0][1]===Xe[4][1]&&Xe[0][0]===Xe[1][0]&&Xe[2][0]===Xe[3][0]&&Xe[0][1]===Xe[3][1]&&Xe[1][1]===Xe[2][1]||Xe[0][1]===Xe[1][1]&&Xe[2][1]===Xe[3][1]&&Xe[0][0]===Xe[3][0]&&Xe[1][0]===Xe[2][0],Xe.isRect&&(Xe.xmin=Math.min(Xe[0][0],Xe[2][0]),Xe.xmax=Math.max(Xe[0][0],Xe[2][0]),Xe.ymin=Math.min(Xe[0][1],Xe[2][1]),Xe.ymax=Math.max(Xe[0][1],Xe[2][1])),Xe}function St(Xe){return function(Le,Fe){for(var Ue,Ee,he=0;he<Xe.length;he++){var ye=Xe[he],_e=ye._id,We=_e.charAt(0);if(Fe.isRect){Ue||(Ue={});var rt=Fe[We+"min"],st=Fe[We+"max"];rt!==void 0&&st!==void 0&&(Ue[_e]=[z(ye,rt),z(ye,st)].sort(S))}else Ee||(Ee={}),Ee[_e]=Fe.map(N(ye))}Ue&&(Le.range=Ue),Ee&&(Le.lassoPoints=Ee)}}function tt(Xe){var Le=Xe.plotinfo;return Le.fillRangeItems||St(Xe.xaxes.concat(Xe.yaxes))}function Ie(Xe,Le){Xe.emit("plotly_selecting",Le)}function Ve(Xe,Le){Le&&(Le.selections=(Xe.layout||{}).selections||[]),Xe.emit("plotly_selected",Le)}function Ge(Xe){Xe.emit("plotly_deselect",null)}Y.exports={reselect:Se,prepSelect:q,clearOutline:w,clearSelectionsCache:J,selectOnClick:re}},46056:function(Y,V,e){var b=e(13916),P=e(25376),s=e(52904).line,L=e(98192).u,M=e(92880).extendFlat,v=e(31780).templatedArray;e(36208);var p=e(45464),r=e(21776).ye,t=e(97728);Y.exports=v("shape",{visible:M({},p.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:M({},p.legend,{editType:"calc+arraydraw"}),legendgroup:M({},p.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:M({},p.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:P({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:M({},p.legendrank,{editType:"calc+arraydraw"}),legendwidth:M({},p.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:M({},b.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},yref:M({},b.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:M({},s.color,{editType:"arraydraw"}),width:M({},s.width,{editType:"calc+arraydraw"}),dash:M({},L,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:r({},{keys:Object.keys(t)}),font:P({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},96084:function(Y,V,e){var b=e(3400),P=e(54460),s=e(85448),L=e(65152);Y.exports=function(o){var n=o._fullLayout,l=b.filterVisible(n.shapes);if(!(!l.length||!o._fullData.length))for(var u=0;u<l.length;u++){var f=l[u];f._extremes={};var g,h,w=P.getRefType(f.xref),c=P.getRefType(f.yref);f.xref!=="paper"&&w!=="domain"&&(g=P.getFromId(o,f.xref),h=r(g,f,s.paramIsX),h&&(f._extremes[g._id]=P.findExtremes(g,h,M(f)))),f.yref!=="paper"&&c!=="domain"&&(g=P.getFromId(o,f.yref),h=r(g,f,s.paramIsY),h&&(f._extremes[g._id]=P.findExtremes(g,h,v(f))))}};function M(t){return p(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function v(t){return p(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function p(t,o,n,l,u,f){var g=t/2,h=f;if(o==="pixel"){var w=u?L.extractPathCoords(u,f?s.paramIsY:s.paramIsX):[n,l],c=b.aggNums(Math.max,null,w),a=b.aggNums(Math.min,null,w),d=a<0?Math.abs(a)+g:g,x=c>0?c+g:g;return{ppad:g,ppadplus:h?d:x,ppadminus:h?x:d}}else return{ppad:g}}function r(t,o,n){var l=t._id.charAt(0)==="x"?"x":"y",u=t.type==="category"||t.type==="multicategory",f,g,h=0,w=0,c=u?t.r2c:t.d2c,a=o[l+"sizemode"]==="scaled";if(a?(f=o[l+"0"],g=o[l+"1"],u&&(h=o[l+"0shift"],w=o[l+"1shift"])):(f=o[l+"anchor"],g=o[l+"anchor"]),f!==void 0)return[c(f)+h,c(g)+w];if(o.path){var d=1/0,x=-1/0,T=o.path.match(s.segmentRE),C,y,S,A,i;for(t.type==="date"&&(c=L.decodeDate(c)),C=0;C<T.length;C++)y=T[C],S=n[y.charAt(0)].drawn,S!==void 0&&(A=T[C].substr(1).match(s.paramRE),!(!A||A.length<S)&&(i=c(A[S]),i<d&&(d=i),i>x&&(x=i)));if(x>=d)return[d,x]}}},85448:function(Y){Y.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},43712:function(Y,V,e){var b=e(3400),P=e(54460),s=e(51272),L=e(46056),M=e(65152);Y.exports=function(t,o){s(t,o,{name:"shapes",handleItemDefaults:p})};function v(r,t){return r?"bottom":t.indexOf("top")!==-1?"top":t.indexOf("bottom")!==-1?"bottom":"middle"}function p(r,t,o){function n(ie,K){return b.coerce(r,t,L,ie,K)}t._isShape=!0;var l=n("visible");if(l){var u=n("showlegend");u&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),b.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var f=n("path"),g=f?"path":"rect",h=n("type",g),w=h!=="path";w&&delete t.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var c=n("line.width");c&&(n("line.color"),n("line.dash"));for(var a=n("xsizemode"),d=n("ysizemode"),x=["x","y"],T=0;T<2;T++){var C=x[T],y=C+"anchor",S=C==="x"?a:d,A={_fullLayout:o},i,E,m,k=P.coerceRef(r,t,A,C,void 0,"paper"),I=P.getRefType(k);if(I==="range"?(i=P.getFromId(A,k),i._shapeIndices.push(t._index),m=M.rangeToShapePosition(i),E=M.shapePositionToRange(i),(i.type==="category"||i.type==="multicategory")&&(n(C+"0shift"),n(C+"1shift"))):E=m=b.identity,w){var O=.25,_=.75,B=C+"0",F=C+"1",z=r[B],N=r[F];r[B]=E(r[B],!0),r[F]=E(r[F],!0),S==="pixel"?(n(B,0),n(F,10)):(P.coercePosition(t,A,n,k,B,O),P.coercePosition(t,A,n,k,F,_)),t[B]=m(t[B]),t[F]=m(t[F]),r[B]=z,r[F]=N}if(S==="pixel"){var W=r[y];r[y]=E(r[y],!0),P.coercePosition(t,A,n,k,y,.25),t[y]=m(t[y]),r[y]=W}}w&&b.noneOrAll(r,t,["x0","x1","y0","y1"]);var Z=h==="line",q,re;if(w&&(q=n("label.texttemplate")),q||(re=n("label.text")),re||q){n("label.textangle");var le=n("label.textposition",Z?"middle":"middle center");n("label.xanchor"),n("label.yanchor",v(Z,le)),n("label.padding"),b.coerceFont(n,"label.font",o.font)}}}},60728:function(Y,V,e){var b=e(3400),P=e(54460),s=e(72736),L=e(43616),M=e(9856).readPaths,v=e(65152),p=v.getPathString,r=e(97728),t=e(84284).FROM_TL;Y.exports=function(u,f,g,h){if(h.selectAll(".shape-label").remove(),!!(g.label.text||g.label.texttemplate)){var w;if(g.label.texttemplate){var c={};if(g.type!=="path"){var a=P.getFromId(u,g.xref),d=P.getFromId(u,g.yref);for(var x in r){var T=r[x](g,a,d);T!==void 0&&(c[x]=T)}}w=b.texttemplateStringForShapes(g.label.texttemplate,{},u._fullLayout._d3locale,c)}else w=g.label.text;var C={"data-index":f},y=g.label.font,S={"data-notex":1},A=h.append("g").attr(C).classed("shape-label",!0),i=A.append("text").attr(S).classed("shape-label-text",!0).text(w),E,m,k,I;if(g.path){var O=p(u,g),_=M(O,u);E=1/0,k=1/0,m=-1/0,I=-1/0;for(var B=0;B<_.length;B++)for(var F=0;F<_[B].length;F++)for(var z=_[B][F],N=1;N<z.length;N+=2){var W=z[N],Z=z[N+1];E=Math.min(E,W),m=Math.max(m,W),k=Math.min(k,Z),I=Math.max(I,Z)}}else{var q=P.getFromId(u,g.xref),re=g.x0shift,le=g.x1shift,ie=P.getRefType(g.xref),K=P.getFromId(u,g.yref),$=g.y0shift,X=g.y1shift,Q=P.getRefType(g.yref),se=function(xe,Ce){var De=v.getDataToPixel(u,q,Ce,!1,ie);return De(xe)},J=function(xe,Ce){var De=v.getDataToPixel(u,K,Ce,!0,Q);return De(xe)};E=se(g.x0,re),m=se(g.x1,le),k=J(g.y0,$),I=J(g.y1,X)}var G=g.label.textangle;G==="auto"&&(g.type==="line"?G=o(E,k,m,I):G=0),i.call(function(xe){return xe.call(L.font,y).attr({}),s.convertToTspans(xe,u),xe});var oe=L.bBox(i.node()),te=n(E,k,m,I,g,G,oe),fe=te.textx,ge=te.texty,we=te.xanchor;i.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[we],y:ge,x:fe,transform:"rotate("+G+","+fe+","+ge+")"}).call(s.positionText,fe,ge)}};function o(l,u,f,g){var h,w;return w=Math.abs(f-l),f>=l?h=u-g:h=g-u,-180/Math.PI*Math.atan2(h,w)}function n(l,u,f,g,h,w,c){var a=h.label.textposition,d=h.label.textangle,x=h.label.padding,T=h.type,C=Math.PI/180*w,y=Math.sin(C),S=Math.cos(C),A=h.label.xanchor,i=h.label.yanchor,E,m,k,I;if(T==="line"){a==="start"?(E=l,m=u):a==="end"?(E=f,m=g):(E=(l+f)/2,m=(u+g)/2),A==="auto"&&(a==="start"?d==="auto"?f>l?A="left":f<l?A="right":A="center":f>l?A="right":f<l?A="left":A="center":a==="end"?d==="auto"?f>l?A="right":f<l?A="left":A="center":f>l?A="left":f<l?A="right":A="center":A="center");var O={left:1,center:0,right:-1},_={bottom:-1,middle:0,top:1};if(d==="auto"){var B=_[i];k=-x*y*B,I=x*S*B}else{var F=O[A],z=_[i];k=x*F,I=x*z}E=E+k,m=m+I}else k=x+3,a.indexOf("right")!==-1?(E=Math.max(l,f)-k,A==="auto"&&(A="right")):a.indexOf("left")!==-1?(E=Math.min(l,f)+k,A==="auto"&&(A="left")):(E=(l+f)/2,A==="auto"&&(A="center")),a.indexOf("top")!==-1?m=Math.min(u,g):a.indexOf("bottom")!==-1?m=Math.max(u,g):m=(u+g)/2,I=x,i==="bottom"?m=m-I:i==="top"&&(m=m+I);var N=t[i],W=h.label.font.size,Z=c.height,q=(Z*N-W)*y,re=-(Z*N-W)*S;return{textx:E+q,texty:m+re,xanchor:A}}},55496:function(Y,V,e){var b=e(3400),P=b.strTranslate,s=e(86476),L=e(72760),M=L.drawMode,v=L.selectMode,p=e(24040),r=e(76308),t=e(7e3),o=t.i000,n=t.i090,l=t.i180,u=t.i270,f=e(1936),g=f.clearOutlineControllers,h=e(9856),w=h.pointsOnRectangle,c=h.pointsOnEllipse,a=h.writePaths,d=e(93940).newShapes,x=e(93940).createShapeObj,T=e(5968),C=e(60728);Y.exports=function i(E,m,k,I){I||(I=0);var O=k.gd;function _(){i(E,m,k,I++),(c(E[0])||k.hasText)&&B({redrawing:!0})}function B(Te){var Re={};k.isActiveShape!==void 0&&(k.isActiveShape=!1,Re=d(m,k)),k.isActiveSelection!==void 0&&(k.isActiveSelection=!1,Re=T(m,k),O._fullLayout._reselect=!0),Object.keys(Re).length&&p.call((Te||{}).redrawing?"relayout":"_guiRelayout",O,Re)}var F=O._fullLayout,z=F._zoomlayer,N=k.dragmode,W=M(N),Z=v(N);(W||Z)&&(O._fullLayout._outlining=!0),g(O),m.attr("d",a(E));var q,re,le,ie,K;if(!I&&(k.isActiveShape||k.isActiveSelection)){K=y([],E);var $=z.append("g").attr("class","outline-controllers");fe($),Oe()}if(W&&k.hasText){var X=z.select(".label-temp"),Q=x(m,k,k.dragmode);C(O,"label-temp",Q,X)}function se(Te){le=+Te.srcElement.getAttribute("data-i"),ie=+Te.srcElement.getAttribute("data-j"),q[le][ie].moveFn=J}function J(Te,Re){if(E.length){var Me=K[le][ie][1],ke=K[le][ie][2],Se=E[le],He=Se.length;if(w(Se)){var je=Te,at=Re;if(k.isActiveSelection){var Ze=S(Se,ie);Ze[1]===Se[ie][1]?at=0:je=0}for(var $e=0;$e<He;$e++)if($e!==ie){var ut=Se[$e];ut[1]===Se[ie][1]&&(ut[1]=Me+je),ut[2]===Se[ie][2]&&(ut[2]=ke+at)}if(Se[ie][1]=Me+je,Se[ie][2]=ke+at,!w(Se))for(var ht=0;ht<He;ht++)for(var vt=0;vt<Se[ht].length;vt++)Se[ht][vt]=K[le][ht][vt]}else Se[ie][1]=Me+Te,Se[ie][2]=ke+Re;_()}}function G(){B()}function oe(){if(E.length&&E[le]&&E[le].length){for(var Te=[],Re=0;Re<E[le].length;Re++)Re!==ie&&Te.push(E[le][Re]);Te.length>1&&!(Te.length===2&&Te[1][0]==="Z")&&(ie===0&&(Te[0][0]="M"),E[le]=Te,_(),B())}}function te(Te,Re){if(Te===2){le=+Re.srcElement.getAttribute("data-i"),ie=+Re.srcElement.getAttribute("data-j");var Me=E[le];!w(Me)&&!c(Me)&&oe()}}function fe(Te){q=[];for(var Re=0;Re<E.length;Re++){var Me=E[Re],ke=w(Me),Se=!ke&&c(Me);q[Re]=[];for(var He=Me.length,je=0;je<He;je++)if(Me[je][0]!=="Z"&&!(Se&&je!==o&&je!==n&&je!==l&&je!==u)){var at=ke&&k.isActiveSelection,Ze;at&&(Ze=S(Me,je));var $e=Me[je][1],ut=Me[je][2],ht=Te.append(at?"rect":"circle").attr("data-i",Re).attr("data-j",je).style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(at){var vt=Ze[1]-$e,xt=Ze[2]-ut,St=xt?5:Math.max(Math.min(25,Math.abs(vt)-5),5),tt=vt?5:Math.max(Math.min(25,Math.abs(xt)-5),5);ht.classed(xt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",St).attr("height",tt).attr("x",$e-St/2).attr("y",ut-tt/2).attr("transform",P(vt/2,xt/2))}else ht.classed("cursor-grab",!0).attr("r",5).attr("cx",$e).attr("cy",ut);q[Re][je]={element:ht.node(),gd:O,prepFn:se,doneFn:G,clickFn:te},s.init(q[Re][je])}}}function ge(Te,Re){if(E.length)for(var Me=0;Me<E.length;Me++)for(var ke=0;ke<E[Me].length;ke++)for(var Se=0;Se+2<E[Me][ke].length;Se+=2)E[Me][ke][Se+1]=K[Me][ke][Se+1]+Te,E[Me][ke][Se+2]=K[Me][ke][Se+2]+Re}function we(Te,Re){ge(Te,Re),_()}function xe(Te){le=+Te.srcElement.getAttribute("data-i"),le||(le=0),re[le].moveFn=we}function Ce(){B()}function De(Te){Te===2&&A(O)}function Oe(){if(re=[],!!E.length){var Te=0;re[Te]={element:m[0][0],gd:O,prepFn:xe,doneFn:Ce,clickFn:De},s.init(re[Te])}}};function y(i,E){for(var m=0;m<E.length;m++){var k=E[m];i[m]=[];for(var I=0;I<k.length;I++){i[m][I]=[];for(var O=0;O<k[I].length;O++)i[m][I][O]=k[I][O]}}return i}function S(i,E){var m=i[E][1],k=i[E][2],I=i.length,O,_,B;return O=(E+1)%I,_=i[O][1],B=i[O][2],_===m&&B===k&&(O=(E+2)%I,_=i[O][1],B=i[O][2]),[O,_,B]}function A(i){if(v(i._fullLayout.dragmode)){g(i);var E=i._fullLayout._activeSelectionIndex,m=(i.layout||{}).selections||[];if(E<m.length){for(var k=[],I=0;I<m.length;I++)I!==E&&k.push(m[I]);delete i._fullLayout._activeSelectionIndex;var O=i._fullLayout.selections[E];i._fullLayout._deselect={xref:O.xref,yref:O.yref},p.call("_guiRelayout",i,{selections:k})}}}},4016:function(Y,V,e){var b=e(33428),P=e(24040),s=e(3400),L=e(54460),M=e(9856).readPaths,v=e(55496),p=e(60728),r=e(1936).clearOutlineControllers,t=e(76308),o=e(43616),n=e(31780).arrayEditor,l=e(86476),u=e(93972),f=e(85448),g=e(65152),h=g.getPathString;Y.exports={draw:w,drawOne:d,eraseActiveShape:A,drawLabel:p};function w(i){var E=i._fullLayout;E._shapeUpperLayer.selectAll("path").remove(),E._shapeLowerLayer.selectAll("path").remove(),E._shapeUpperLayer.selectAll("text").remove(),E._shapeLowerLayer.selectAll("text").remove();for(var m in E._plots){var k=E._plots[m].shapelayer;k&&(k.selectAll("path").remove(),k.selectAll("text").remove())}for(var I=0;I<E.shapes.length;I++)E.shapes[I].visible===!0&&d(i,I)}function c(i){return!!i._fullLayout._outlining}function a(i){return!i._context.edits.shapePosition}function d(i,E){i._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+E+'"]').remove();var m=g.makeShapesOptionsAndPlotinfo(i,E),k=m.options,I=m.plotinfo;if(!k._input||k.visible!==!0)return;if(k.layer==="above")_(i._fullLayout._shapeUpperLayer);else if(k.xref==="paper"||k.yref==="paper")_(i._fullLayout._shapeLowerLayer);else if(k.layer==="between")_(I.shapelayerBetween);else if(I._hadPlotinfo){var O=I.mainplotinfo||I;_(O.shapelayer)}else _(i._fullLayout._shapeLowerLayer);function _(B){var F=h(i,k),z={"data-index":E,"fill-rule":k.fillrule,d:F},N=k.opacity,W=k.fillcolor,Z=k.line.width?k.line.color:"rgba(0,0,0,0)",q=k.line.width,re=k.line.dash;!q&&k.editable===!0&&(q=5,re="solid");var le=F[F.length-1]!=="Z",ie=a(i)&&k.editable&&i._fullLayout._activeShapeIndex===E;ie&&(W=le?"rgba(0,0,0,0)":i._fullLayout.activeshape.fillcolor,N=i._fullLayout.activeshape.opacity);var K=B.append("g").classed("shape-group",!0).attr({"data-index":E}),$=K.append("path").attr(z).style("opacity",N).call(t.stroke,Z).call(t.fill,W).call(o.dashLine,re,q);x(K,i,k),p(i,E,k,K);var X;if((ie||i._context.edits.shapePosition)&&(X=n(i.layout,"shapes",k)),ie){$.style({cursor:"move"});var Q={element:$.node(),plotinfo:I,gd:i,editHelpers:X,hasText:k.label.text||k.label.texttemplate,isActiveShape:!0},se=M(F,i);v(se,$,Q)}else i._context.edits.shapePosition?T(i,$,k,E,B,X):k.editable===!0&&$.style("pointer-events",le||t.opacity(W)*N<=.5?"stroke":"all");$.node().addEventListener("click",function(){return y(i,$)})}}function x(i,E,m){var k=(m.xref+m.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");o.setClipUrl(i,k?"clip"+E._fullLayout._uid+k:null,E)}function T(i,E,m,k,I,O){var _=10,B=10,F=m.xsizemode==="pixel",z=m.ysizemode==="pixel",N=m.type==="line",W=m.type==="path",Z=O.modifyItem,q,re,le,ie,K,$,X,Q,se,J,G,oe,te,fe,ge,we=b.select(E.node().parentNode),xe=L.getFromId(i,m.xref),Ce=L.getRefType(m.xref),De=L.getFromId(i,m.yref),Oe=L.getRefType(m.yref),Te=m.x0shift,Re=m.x1shift,Me=m.y0shift,ke=m.y1shift,Se=function(Ue,Ee){var he=g.getDataToPixel(i,xe,Ee,!1,Ce);return he(Ue)},He=function(Ue,Ee){var he=g.getDataToPixel(i,De,Ee,!0,Oe);return he(Ue)},je=g.getPixelToData(i,xe,!1,Ce),at=g.getPixelToData(i,De,!0,Oe),Ze=ht(),$e={element:Ze.node(),gd:i,prepFn:St,doneFn:tt,clickFn:Ie},ut;l.init($e),Ze.node().onmousemove=xt;function ht(){return N?vt():E}function vt(){var Ue=10,Ee=Math.max(m.line.width,Ue),he=I.append("g").attr("data-index",k).attr("drag-helper",!0);he.append("path").attr("d",E.attr("d")).style({cursor:"move","stroke-width":Ee,"stroke-opacity":"0"});var ye={"fill-opacity":"0"},_e=Math.max(Ee/2,Ue);return he.append("circle").attr({"data-line-point":"start-point",cx:F?Se(m.xanchor)+m.x0:Se(m.x0,Te),cy:z?He(m.yanchor)-m.y0:He(m.y0,Me),r:_e}).style(ye).classed("cursor-grab",!0),he.append("circle").attr({"data-line-point":"end-point",cx:F?Se(m.xanchor)+m.x1:Se(m.x1,Re),cy:z?He(m.yanchor)-m.y1:He(m.y1,ke),r:_e}).style(ye).classed("cursor-grab",!0),he}function xt(Ue){if(c(i)){ut=null;return}if(N)Ue.target.tagName==="path"?ut="move":ut=Ue.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Ee=$e.element.getBoundingClientRect(),he=Ee.right-Ee.left,ye=Ee.bottom-Ee.top,_e=Ue.clientX-Ee.left,We=Ue.clientY-Ee.top,rt=!W&&he>_&&ye>B&&!Ue.shiftKey?l.getCursor(_e/he,1-We/ye):"move";u(E,rt),ut=rt.split("-")[0]}}function St(Ue){c(i)||(F&&(K=Se(m.xanchor)),z&&($=He(m.yanchor)),m.type==="path"?ge=m.path:(q=F?m.x0:Se(m.x0),re=z?m.y0:He(m.y0),le=F?m.x1:Se(m.x1),ie=z?m.y1:He(m.y1)),q<le?(se=q,te="x0",J=le,fe="x1"):(se=le,te="x1",J=q,fe="x0"),!z&&re<ie||z&&re>ie?(X=re,G="y0",Q=ie,oe="y1"):(X=ie,G="y1",Q=re,oe="y0"),xt(Ue),Xe(I,m),Fe(E,m,i),$e.moveFn=ut==="move"?Ve:Ge,$e.altKey=Ue.altKey)}function tt(){c(i)||(u(E),Le(I),x(E,i,m),P.call("_guiRelayout",i,O.getUpdateObj()))}function Ie(){c(i)||Le(I)}function Ve(Ue,Ee){if(m.type==="path"){var he=function(We){return We},ye=he,_e=he;F?Z("xanchor",m.xanchor=je(K+Ue)):(ye=function(rt){return je(Se(rt)+Ue)},xe&&xe.type==="date"&&(ye=g.encodeDate(ye))),z?Z("yanchor",m.yanchor=at($+Ee)):(_e=function(rt){return at(He(rt)+Ee)},De&&De.type==="date"&&(_e=g.encodeDate(_e))),Z("path",m.path=C(ge,ye,_e))}else F?Z("xanchor",m.xanchor=je(K+Ue)):(Z("x0",m.x0=je(q+Ue)),Z("x1",m.x1=je(le+Ue))),z?Z("yanchor",m.yanchor=at($+Ee)):(Z("y0",m.y0=at(re+Ee)),Z("y1",m.y1=at(ie+Ee)));E.attr("d",h(i,m)),Xe(I,m),p(i,k,m,we)}function Ge(Ue,Ee){if(W){var he=function(or){return or},ye=he,_e=he;F?Z("xanchor",m.xanchor=je(K+Ue)):(ye=function(gt){return je(Se(gt)+Ue)},xe&&xe.type==="date"&&(ye=g.encodeDate(ye))),z?Z("yanchor",m.yanchor=at($+Ee)):(_e=function(gt){return at(He(gt)+Ee)},De&&De.type==="date"&&(_e=g.encodeDate(_e))),Z("path",m.path=C(ge,ye,_e))}else if(N){if(ut==="resize-over-start-point"){var We=q+Ue,rt=z?re-Ee:re+Ee;Z("x0",m.x0=F?We:je(We)),Z("y0",m.y0=z?rt:at(rt))}else if(ut==="resize-over-end-point"){var st=le+Ue,Vt=z?ie-Ee:ie+Ee;Z("x1",m.x1=F?st:je(st)),Z("y1",m.y1=z?Vt:at(Vt))}}else{var Xt=function(or){return ut.indexOf(or)!==-1},Tt=Xt("n"),Lt=Xt("s"),Kt=Xt("w"),vr=Xt("e"),pt=Tt?X+Ee:X,jt=Lt?Q+Ee:Q,$t=Kt?se+Ue:se,mr=vr?J+Ue:J;z&&(Tt&&(pt=X-Ee),Lt&&(jt=Q-Ee)),(!z&&jt-pt>B||z&&pt-jt>B)&&(Z(G,m[G]=z?pt:at(pt)),Z(oe,m[oe]=z?jt:at(jt))),mr-$t>_&&(Z(te,m[te]=F?$t:je($t)),Z(fe,m[fe]=F?mr:je(mr)))}E.attr("d",h(i,m)),Xe(I,m),p(i,k,m,we)}function Xe(Ue,Ee){(F||z)&&he();function he(){var ye=Ee.type!=="path",_e=Ue.selectAll(".visual-cue").data([0]),We=1;_e.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":We}).classed("visual-cue",!0);var rt=Se(F?Ee.xanchor:s.midRange(ye?[Ee.x0,Ee.x1]:g.extractPathCoords(Ee.path,f.paramIsX))),st=He(z?Ee.yanchor:s.midRange(ye?[Ee.y0,Ee.y1]:g.extractPathCoords(Ee.path,f.paramIsY)));if(rt=g.roundPositionForSharpStrokeRendering(rt,We),st=g.roundPositionForSharpStrokeRendering(st,We),F&&z){var Vt="M"+(rt-1-We)+","+(st-1-We)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";_e.attr("d",Vt)}else if(F){var Xt="M"+(rt-1-We)+","+(st-9-We)+"v18 h2 v-18 Z";_e.attr("d",Xt)}else{var Tt="M"+(rt-9-We)+","+(st-1-We)+"h18 v2 h-18 Z";_e.attr("d",Tt)}}}function Le(Ue){Ue.selectAll(".visual-cue").remove()}function Fe(Ue,Ee,he){var ye=Ee.xref,_e=Ee.yref,We=L.getFromId(he,ye),rt=L.getFromId(he,_e),st="";ye!=="paper"&&!We.autorange&&(st+=ye),_e!=="paper"&&!rt.autorange&&(st+=_e),o.setClipUrl(Ue,st?"clip"+he._fullLayout._uid+st:null,he)}}function C(i,E,m){return i.replace(f.segmentRE,function(k){var I=0,O=k.charAt(0),_=f.paramIsX[O],B=f.paramIsY[O],F=f.numParams[O],z=k.substr(1).replace(f.paramRE,function(N){return I>=F||(_[I]?N=E(N):B[I]&&(N=m(N)),I++),N});return O+z})}function y(i,E){if(a(i)){var m=E.node(),k=+m.getAttribute("data-index");if(k>=0){if(k===i._fullLayout._activeShapeIndex){S(i);return}i._fullLayout._activeShapeIndex=k,i._fullLayout._deactivateShape=S,w(i)}}}function S(i){if(a(i)){var E=i._fullLayout._activeShapeIndex;E>=0&&(r(i),delete i._fullLayout._activeShapeIndex,w(i))}}function A(i){if(a(i)){r(i);var E=i._fullLayout._activeShapeIndex,m=(i.layout||{}).shapes||[];if(E<m.length){for(var k=[],I=0;I<m.length;I++)I!==E&&k.push(m[I]);return delete i._fullLayout._activeShapeIndex,P.call("_guiRelayout",i,{shapes:k})}}}},92872:function(Y,V,e){var b=e(67824).overrideAll,P=e(45464),s=e(25376),L=e(98192).u,M=e(92880).extendFlat,v=e(21776).ye,p=e(97728);Y.exports=b({newshape:{visible:M({},P.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:M({},P.legend,{}),legendgroup:M({},P.legendgroup,{}),legendgrouptitle:{text:M({},P.legendgrouptitle.text,{}),font:s({})},legendrank:M({},P.legendrank,{}),legendwidth:M({},P.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:M({},L,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:M({},P.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:v({newshape:!0},{keys:Object.keys(p)}),font:s({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(Y){var V=32;Y.exports={CIRCLE_SIDES:V,i000:0,i090:V/4,i180:V/2,i270:V/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},65144:function(Y,V,e){var b=e(76308),P=e(3400);function s(L,M){return L?"bottom":M.indexOf("top")!==-1?"top":M.indexOf("bottom")!==-1?"bottom":"middle"}Y.exports=function(M,v,p){p("newshape.visible"),p("newshape.name"),p("newshape.showlegend"),p("newshape.legend"),p("newshape.legendwidth"),p("newshape.legendgroup"),p("newshape.legendgrouptitle.text"),P.coerceFont(p,"newshape.legendgrouptitle.font"),p("newshape.legendrank"),p("newshape.drawdirection"),p("newshape.layer"),p("newshape.fillcolor"),p("newshape.fillrule"),p("newshape.opacity");var r=p("newshape.line.width");if(r){var t=(M||{}).plot_bgcolor||"#FFF";p("newshape.line.color",b.contrast(t)),p("newshape.line.dash")}var o=M.dragmode==="drawline",n=p("newshape.label.text"),l=p("newshape.label.texttemplate");if(n||l){p("newshape.label.textangle");var u=p("newshape.label.textposition",o?"middle":"middle center");p("newshape.label.xanchor"),p("newshape.label.yanchor",s(o,u)),p("newshape.label.padding"),P.coerceFont(p,"newshape.label.font",v.font)}p("activeshape.fillcolor"),p("activeshape.opacity")}},9856:function(Y,V,e){var b=e(21984),P=e(7e3),s=P.CIRCLE_SIDES,L=P.SQRT2,M=e(5840),v=M.p2r,p=M.r2p,r=[0,3,4,5,6,1,2],t=[0,3,4,1,2];V.writePaths=function(l){var u=l.length;if(!u)return"M0,0Z";for(var f="",g=0;g<u;g++)for(var h=l[g].length,w=0;w<h;w++){var c=l[g][w][0];if(c==="Z")f+="Z";else for(var a=l[g][w].length,d=0;d<a;d++){var x=d;c==="Q"||c==="S"?x=t[d]:c==="C"&&(x=r[d]),f+=l[g][w][x],d>0&&d<a-1&&(f+=",")}}return f},V.readPaths=function(l,u,f,g){var h=b(l),w=[],c=-1,a=function(){c++,w[c]=[]},d,x=0,T=0,C,y,S=function(){C=x,y=T};S();for(var A=0;A<h.length;A++){var i=[],E,m,k,I,O=h[A][0],_=O;switch(O){case"M":a(),x=+h[A][1],T=+h[A][2],i.push([_,x,T]),S();break;case"Q":case"S":E=+h[A][1],k=+h[A][2],x=+h[A][3],T=+h[A][4],i.push([_,x,T,E,k]);break;case"C":E=+h[A][1],k=+h[A][2],m=+h[A][3],I=+h[A][4],x=+h[A][5],T=+h[A][6],i.push([_,x,T,E,k,m,I]);break;case"T":case"L":x=+h[A][1],T=+h[A][2],i.push([_,x,T]);break;case"H":_="L",x=+h[A][1],i.push([_,x,T]);break;case"V":_="L",T=+h[A][1],i.push([_,x,T]);break;case"A":_="L";var B=+h[A][1],F=+h[A][2];+h[A][4]||(B=-B,F=-F);var z=x-B,N=T;for(d=1;d<=s/2;d++){var W=2*Math.PI*d/s;i.push([_,z+B*Math.cos(W),N+F*Math.sin(W)])}break;case"Z":(x!==C||T!==y)&&(x=C,T=y,i.push([_,x,T]));break}for(var Z=(f||{}).domain,q=u._fullLayout._size,re=f&&f.xsizemode==="pixel",le=f&&f.ysizemode==="pixel",ie=g===!1,K=0;K<i.length;K++){for(d=0;d+2<7;d+=2){var $=i[K][d+1],X=i[K][d+2];$===void 0||X===void 0||(x=$,T=X,f&&(f.xaxis&&f.xaxis.p2r?(ie&&($-=f.xaxis._offset),re?$=p(f.xaxis,f.xanchor)+$:$=v(f.xaxis,$)):(ie&&($-=q.l),Z?$=Z.x[0]+$/q.w:$=$/q.w),f.yaxis&&f.yaxis.p2r?(ie&&(X-=f.yaxis._offset),le?X=p(f.yaxis,f.yanchor)-X:X=v(f.yaxis,X)):(ie&&(X-=q.t),Z?X=Z.y[1]-X/q.h:X=1-X/q.h)),i[K][d+1]=$,i[K][d+2]=X)}w[c].push(i[K].slice())}}return w};function o(l,u){return Math.abs(l-u)<=1e-6}function n(l,u){var f=u[1]-l[1],g=u[2]-l[2];return Math.sqrt(f*f+g*g)}V.pointsOnRectangle=function(l){var u=l.length;if(u!==5)return!1;for(var f=1;f<3;f++){var g=l[0][f]-l[1][f],h=l[3][f]-l[2][f];if(!o(g,h))return!1;var w=l[0][f]-l[3][f],c=l[1][f]-l[2][f];if(!o(w,c))return!1}return!o(l[0][1],l[1][1])&&!o(l[0][1],l[3][1])?!1:!!(n(l[0],l[1])*n(l[0],l[3]))},V.pointsOnEllipse=function(l){var u=l.length;if(u!==s+1)return!1;u=s;for(var f=0;f<u;f++){var g=(u*2-f)%u,h=(u/2+g)%u,w=(u/2+f)%u;if(!o(n(l[f],l[w]),n(l[g],l[h])))return!1}return!0},V.handleEllipse=function(l,u,f){if(!l)return[u,f];var g=V.ellipseOver({x0:u[0],y0:u[1],x1:f[0],y1:f[1]}),h=(g.x1+g.x0)/2,w=(g.y1+g.y0)/2,c=(g.x1-g.x0)/2,a=(g.y1-g.y0)/2;c||(c=a=a/L),a||(a=c=c/L);for(var d=[],x=0;x<s;x++){var T=x*2*Math.PI/s;d.push([h+c*Math.cos(T),w+a*Math.sin(T)])}return d},V.ellipseOver=function(l){var u=l.x0,f=l.y0,g=l.x1,h=l.y1,w=g-u,c=h-f;u-=w,f-=c;var a=(u+g)/2,d=(f+h)/2,x=L;return w*=x,c*=x,{x0:a-w,y0:d-c,x1:a+w,y1:d+c}},V.fixDatesForPaths=function(l,u,f){var g=u.type==="date",h=f.type==="date";if(!g&&!h)return l;for(var w=0;w<l.length;w++)for(var c=0;c<l[w].length;c++)for(var a=0;a+2<l[w][c].length;a+=2)g&&(l[w][c][a+1]=l[w][c][a+1].replace(" ","_")),h&&(l[w][c][a+2]=l[w][c][a+2].replace(" ","_"));return l}},93940:function(Y,V,e){var b=e(72760),P=b.drawMode,s=b.openMode,L=e(7e3),M=L.i000,v=L.i090,p=L.i180,r=L.i270,t=L.cos45,o=L.sin45,n=e(5840),l=n.p2r,u=n.r2p,f=e(1936),g=f.clearOutline,h=e(9856),w=h.readPaths,c=h.writePaths,a=h.ellipseOver,d=h.fixDatesForPaths;function x(C,y){if(C.length){var S=C[0][0];if(S){var A=y.gd,i=y.isActiveShape,E=y.dragmode,m=(A.layout||{}).shapes||[];if(!P(E)&&i!==void 0){var k=A._fullLayout._activeShapeIndex;if(k<m.length)switch(A._fullLayout.shapes[k].type){case"rect":E="drawrect";break;case"circle":E="drawcircle";break;case"line":E="drawline";break;case"path":var I=m[k].path||"";I[I.length-1]==="Z"?E="drawclosedpath":E="drawopenpath";break}}var O=T(C,y,E);g(A);for(var _=y.editHelpers,B=(_||{}).modifyItem,F=[],z=0;z<m.length;z++){var N=A._fullLayout.shapes[z];if(F[z]=N._input,i!==void 0&&z===A._fullLayout._activeShapeIndex){var W=O;switch(N.type){case"line":case"rect":case"circle":B("x0",W.x0-(N.x0shift||0)),B("x1",W.x1-(N.x1shift||0)),B("y0",W.y0-(N.y0shift||0)),B("y1",W.y1-(N.y1shift||0));break;case"path":B("path",W.path);break}}}return i===void 0?(F.push(O),F):_?_.getUpdateObj():{}}}}function T(C,y,S){var A=C[0][0],i=y.gd,E=A.getAttribute("d"),m=i._fullLayout.newshape,k=y.plotinfo,I=y.isActiveShape,O=k.xaxis,_=k.yaxis,B=!!k.domain||!k.xaxis,F=!!k.domain||!k.yaxis,z=s(S),N=w(E,i,k,I),W={editable:!0,visible:m.visible,name:m.name,showlegend:m.showlegend,legend:m.legend,legendwidth:m.legendwidth,legendgroup:m.legendgroup,legendgrouptitle:{text:m.legendgrouptitle.text,font:m.legendgrouptitle.font},legendrank:m.legendrank,label:m.label,xref:B?"paper":O._id,yref:F?"paper":_._id,layer:m.layer,opacity:m.opacity,line:{color:m.line.color,width:m.line.width,dash:m.line.dash}};z||(W.fillcolor=m.fillcolor,W.fillrule=m.fillrule);var Z;if(N.length===1&&(Z=N[0]),Z&&Z.length===5&&S==="drawrect")W.type="rect",W.x0=Z[0][1],W.y0=Z[0][2],W.x1=Z[2][1],W.y1=Z[2][2];else if(Z&&S==="drawline")W.type="line",W.x0=Z[0][1],W.y0=Z[0][2],W.x1=Z[1][1],W.y1=Z[1][2];else if(Z&&S==="drawcircle"){W.type="circle";var q=Z[M][1],re=Z[v][1],le=Z[p][1],ie=Z[r][1],K=Z[M][2],$=Z[v][2],X=Z[p][2],Q=Z[r][2],se=k.xaxis&&(k.xaxis.type==="date"||k.xaxis.type==="log"),J=k.yaxis&&(k.yaxis.type==="date"||k.yaxis.type==="log");se&&(q=u(k.xaxis,q),re=u(k.xaxis,re),le=u(k.xaxis,le),ie=u(k.xaxis,ie)),J&&(K=u(k.yaxis,K),$=u(k.yaxis,$),X=u(k.yaxis,X),Q=u(k.yaxis,Q));var G=(re+ie)/2,oe=(K+X)/2,te=(ie-re+le-q)/2,fe=(Q-$+X-K)/2,ge=a({x0:G,y0:oe,x1:G+te*t,y1:oe+fe*o});se&&(ge.x0=l(k.xaxis,ge.x0),ge.x1=l(k.xaxis,ge.x1)),J&&(ge.y0=l(k.yaxis,ge.y0),ge.y1=l(k.yaxis,ge.y1)),W.x0=ge.x0,W.y0=ge.y0,W.x1=ge.x1,W.y1=ge.y1}else W.type="path",O&&_&&d(N,O,_),W.path=c(N),Z=null;return W}Y.exports={newShapes:x,createShapeObj:T}},1936:function(Y){function V(b){var P=b._fullLayout._zoomlayer;P&&P.selectAll(".outline-controllers").remove()}function e(b){var P=b._fullLayout._zoomlayer;P&&P.selectAll(".select-outline").remove(),b._fullLayout._outlining=!1}Y.exports={clearOutlineControllers:V,clearOutline:e}},65152:function(Y,V,e){var b=e(85448),P=e(3400),s=e(54460);V.rangeToShapePosition=function(v){return v.type==="log"?v.r2d:function(p){return p}},V.shapePositionToRange=function(v){return v.type==="log"?v.d2r:function(p){return p}},V.decodeDate=function(v){return function(p){return p.replace&&(p=p.replace("_"," ")),v(p)}},V.encodeDate=function(v){return function(p){return v(p).replace(" ","_")}},V.extractPathCoords=function(v,p,r){var t=[],o=v.match(b.segmentRE);return o.forEach(function(n){var l=p[n.charAt(0)].drawn;if(l!==void 0){var u=n.substr(1).match(b.paramRE);if(!(!u||u.length<l)){var f=u[l],g=r?f:P.cleanNumber(f);t.push(g)}}}),t},V.getDataToPixel=function(v,p,r,t,o){var n=v._fullLayout._size,l;if(p)if(o==="domain")l=function(f){return p._length*(t?1-f:f)+p._offset};else{var u=V.shapePositionToRange(p);l=function(f){var g=M(p,r);return p._offset+p.r2p(u(f,!0))+g},p.type==="date"&&(l=V.decodeDate(l))}else t?l=function(f){return n.t+n.h*(1-f)}:l=function(f){return n.l+n.w*f};return l},V.getPixelToData=function(v,p,r,t){var o=v._fullLayout._size,n;if(p)if(t==="domain")n=function(u){var f=(u-p._offset)/p._length;return r?1-f:f};else{var l=V.rangeToShapePosition(p);n=function(u){return l(p.p2r(u-p._offset))}}else r?n=function(u){return 1-(u-o.t)/o.h}:n=function(u){return(u-o.l)/o.w};return n},V.roundPositionForSharpStrokeRendering=function(v,p){var r=Math.round(p%2)===1,t=Math.round(v);return r?t+.5:t},V.makeShapesOptionsAndPlotinfo=function(v,p){var r=v._fullLayout.shapes[p]||{},t=v._fullLayout._plots[r.xref+r.yref],o=!!t;return o?t._hadPlotinfo=!0:(t={},r.xref&&r.xref!=="paper"&&(t.xaxis=v._fullLayout[r.xref+"axis"]),r.yref&&r.yref!=="paper"&&(t.yaxis=v._fullLayout[r.yref+"axis"])),t.xsizemode=r.xsizemode,t.ysizemode=r.ysizemode,t.xanchor=r.xanchor,t.yanchor=r.yanchor,{options:r,plotinfo:t}},V.makeSelectionsOptionsAndPlotinfo=function(v,p){var r=v._fullLayout.selections[p]||{},t=v._fullLayout._plots[r.xref+r.yref],o=!!t;return o?t._hadPlotinfo=!0:(t={},r.xref&&(t.xaxis=v._fullLayout[r.xref+"axis"]),r.yref&&(t.yaxis=v._fullLayout[r.yref+"axis"])),{options:r,plotinfo:t}},V.getPathString=function(v,p){var r=p.type,t=s.getRefType(p.xref),o=s.getRefType(p.yref),n=s.getFromId(v,p.xref),l=s.getFromId(v,p.yref),u=v._fullLayout._size,f,g,h,w,c=M(n,p.x0shift),a=M(n,p.x1shift),d=M(l,p.y0shift),x=M(l,p.y1shift),T,C,y,S;if(n?t==="domain"?g=function(F){return n._offset+n._length*F}:(f=V.shapePositionToRange(n),g=function(F){return n._offset+n.r2p(f(F,!0))}):g=function(F){return u.l+u.w*F},l?o==="domain"?w=function(F){return l._offset+l._length*(1-F)}:(h=V.shapePositionToRange(l),w=function(F){return l._offset+l.r2p(h(F,!0))}):w=function(F){return u.t+u.h*(1-F)},r==="path")return n&&n.type==="date"&&(g=V.decodeDate(g)),l&&l.type==="date"&&(w=V.decodeDate(w)),L(p,g,w);if(p.xsizemode==="pixel"){var A=g(p.xanchor);T=A+p.x0+c,C=A+p.x1+a}else T=g(p.x0)+c,C=g(p.x1)+a;if(p.ysizemode==="pixel"){var i=w(p.yanchor);y=i-p.y0+d,S=i-p.y1+x}else y=w(p.y0)+d,S=w(p.y1)+x;if(r==="line")return"M"+T+","+y+"L"+C+","+S;if(r==="rect")return"M"+T+","+y+"H"+C+"V"+S+"H"+T+"Z";var E=(T+C)/2,m=(y+S)/2,k=Math.abs(E-T),I=Math.abs(m-y),O="A"+k+","+I,_=E+k+","+m,B=E+","+(m-I);return"M"+_+O+" 0 1,1 "+B+O+" 0 0,1 "+_+"Z"};function L(v,p,r){var t=v.path,o=v.xsizemode,n=v.ysizemode,l=v.xanchor,u=v.yanchor;return t.replace(b.segmentRE,function(f){var g=0,h=f.charAt(0),w=b.paramIsX[h],c=b.paramIsY[h],a=b.numParams[h],d=f.substr(1).replace(b.paramRE,function(x){return w[g]?o==="pixel"?x=p(l)+Number(x):x=p(x):c[g]&&(n==="pixel"?x=r(u)-Number(x):x=r(x)),g++,g>a&&(x="X"),x});return g>a&&(d=d.replace(/[\s,]*X.*/,""),P.log("Ignoring extra params in segment "+f)),h+d})}function M(v,p){p=p||0;var r=0;return p&&v&&(v.type==="category"||v.type==="multicategory")&&(r=(v.r2p(1)-v.r2p(0))*p),r}},41592:function(Y,V,e){var b=e(4016);Y.exports={moduleType:"component",name:"shapes",layoutAttributes:e(46056),supplyLayoutDefaults:e(43712),supplyDrawNewShapeDefaults:e(65144),includeBasePlot:e(36632)("shapes"),calcAutorange:e(96084),draw:b.draw,drawOne:b.drawOne}},97728:function(Y){function V(w,c){return c?c.d2l(w):w}function e(w,c){return c?c.l2d(w):w}function b(w){return w.x0}function P(w){return w.x1}function s(w){return w.y0}function L(w){return w.y1}function M(w){return w.x0shift||0}function v(w){return w.x1shift||0}function p(w){return w.y0shift||0}function r(w){return w.y1shift||0}function t(w,c){return V(w.x1,c)+v(w)-V(w.x0,c)-M(w)}function o(w,c,a){return V(w.y1,a)+r(w)-V(w.y0,a)-p(w)}function n(w,c){return Math.abs(t(w,c))}function l(w,c,a){return Math.abs(o(w,c,a))}function u(w,c,a){return w.type!=="line"?void 0:Math.sqrt(Math.pow(t(w,c),2)+Math.pow(o(w,c,a),2))}function f(w,c){return e((V(w.x1,c)+v(w)+V(w.x0,c)+M(w))/2,c)}function g(w,c,a){return e((V(w.y1,a)+r(w)+V(w.y0,a)+p(w))/2,a)}function h(w,c,a){return w.type!=="line"?void 0:o(w,c,a)/t(w,c)}Y.exports={x0:b,x1:P,y0:s,y1:L,slope:h,dx:t,dy:o,width:n,height:l,length:u,xcenter:f,ycenter:g}},89861:function(Y,V,e){var b=e(25376),P=e(66741),s=e(92880).extendDeepAll,L=e(67824).overrideAll,M=e(85656),v=e(31780).templatedArray,p=e(60876),r=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});Y.exports=L(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:r,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:s(P({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:M.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:b({})},font:b({}),activebgcolor:{valType:"color",dflt:p.gripBgActiveColor},bgcolor:{valType:"color",dflt:p.railBgColor},bordercolor:{valType:"color",dflt:p.railBorderColor},borderwidth:{valType:"number",min:0,dflt:p.railBorderWidth},ticklen:{valType:"number",min:0,dflt:p.tickLength},tickcolor:{valType:"color",dflt:p.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:p.minorTickLength}}),"arraydraw","from-root")},60876:function(Y){Y.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(Y,V,e){var b=e(3400),P=e(51272),s=e(89861),L=e(60876),M=L.name,v=s.steps;Y.exports=function(o,n){P(o,n,{name:M,handleItemDefaults:p})};function p(t,o,n){function l(d,x){return b.coerce(t,o,s,d,x)}for(var u=P(t,o,{name:"steps",handleItemDefaults:r}),f=0,g=0;g<u.length;g++)u[g].visible&&f++;var h;if(f<2?h=o.visible=!1:h=l("visible"),!!h){o._stepCount=f;var w=o._visibleSteps=b.filterVisible(u),c=l("active");(u[c]||{}).visible||(o.active=w[0]._index),l("x"),l("y"),b.noneOrAll(t,o,["x","y"]),l("xanchor"),l("yanchor"),l("len"),l("lenmode"),l("pad.t"),l("pad.r"),l("pad.b"),l("pad.l"),b.coerceFont(l,"font",n.font);var a=l("currentvalue.visible");a&&(l("currentvalue.xanchor"),l("currentvalue.prefix"),l("currentvalue.suffix"),l("currentvalue.offset"),b.coerceFont(l,"currentvalue.font",o.font)),l("transition.duration"),l("transition.easing"),l("bgcolor"),l("activebgcolor"),l("bordercolor"),l("borderwidth"),l("ticklen"),l("tickwidth"),l("tickcolor"),l("minorticklen")}}function r(t,o){function n(f,g){return b.coerce(t,o,v,f,g)}var l;if(t.method!=="skip"&&!Array.isArray(t.args)?l=o.visible=!1:l=n("visible"),l){n("method"),n("args");var u=n("label","step-"+o._index);n("value",u),n("execute")}}},79664:function(Y,V,e){var b=e(33428),P=e(7316),s=e(76308),L=e(43616),M=e(3400),v=M.strTranslate,p=e(72736),r=e(31780).arrayEditor,t=e(60876),o=e(84284),n=o.LINE_SPACING,l=o.FROM_TL,u=o.FROM_BR;Y.exports=function(B){var F=B._context.staticPlot,z=B._fullLayout,N=g(z,B),W=z._infolayer.selectAll("g."+t.containerClassName).data(N.length>0?[0]:[]);W.enter().append("g").classed(t.containerClassName,!0).style("cursor",F?null:"ew-resize");function Z(ie){ie._commandObserver&&(ie._commandObserver.remove(),delete ie._commandObserver),P.autoMargin(B,f(ie))}if(W.exit().each(function(){b.select(this).selectAll("g."+t.groupClassName).each(Z)}).remove(),N.length!==0){var q=W.selectAll("g."+t.groupClassName).data(N,h);q.enter().append("g").classed(t.groupClassName,!0),q.exit().each(Z).remove();for(var re=0;re<N.length;re++){var le=N[re];w(B,le)}q.each(function(ie){var K=b.select(this);i(ie),P.manageCommandObserver(B,ie,ie._visibleSteps,function($){var X=K.data()[0];X.active!==$.index&&(X._dragging||y(B,K,X,$.index,!1,!0))}),c(B,b.select(this),ie)})}};function f(_){return t.autoMarginIdRoot+_._index}function g(_,B){for(var F=_[t.name],z=[],N=0;N<F.length;N++){var W=F[N];W.visible&&(W._gd=B,z.push(W))}return z}function h(_){return _._index}function w(_,B){var F=L.tester.selectAll("g."+t.labelGroupClass).data(B._visibleSteps);F.enter().append("g").classed(t.labelGroupClass,!0);var z=0,N=0;F.each(function(Q){var se=b.select(this),J=x(se,{step:Q},B),G=J.node();if(G){var oe=L.bBox(G);N=Math.max(N,oe.height),z=Math.max(z,oe.width)}}),F.remove();var W=B._dims={};W.inputAreaWidth=Math.max(t.railWidth,t.gripHeight);var Z=_._fullLayout._size;W.lx=Z.l+Z.w*B.x,W.ly=Z.t+Z.h*(1-B.y),B.lenmode==="fraction"?W.outerLength=Math.round(Z.w*B.len):W.outerLength=B.len,W.inputAreaStart=0,W.inputAreaLength=Math.round(W.outerLength-B.pad.l-B.pad.r);var q=W.inputAreaLength-2*t.stepInset,re=q/(B._stepCount-1),le=z+t.labelPadding;if(W.labelStride=Math.max(1,Math.ceil(le/re)),W.labelHeight=N,W.currentValueMaxWidth=0,W.currentValueHeight=0,W.currentValueTotalHeight=0,W.currentValueMaxLines=1,B.currentvalue.visible){var ie=L.tester.append("g");F.each(function(Q){var se=a(ie,B,Q.label),J=se.node()&&L.bBox(se.node())||{width:0,height:0},G=p.lineCount(se);W.currentValueMaxWidth=Math.max(W.currentValueMaxWidth,Math.ceil(J.width)),W.currentValueHeight=Math.max(W.currentValueHeight,Math.ceil(J.height)),W.currentValueMaxLines=Math.max(W.currentValueMaxLines,G)}),W.currentValueTotalHeight=W.currentValueHeight+B.currentvalue.offset,ie.remove()}W.height=W.currentValueTotalHeight+t.tickOffset+B.ticklen+t.labelOffset+W.labelHeight+B.pad.t+B.pad.b;var K="left";M.isRightAnchor(B)&&(W.lx-=W.outerLength,K="right"),M.isCenterAnchor(B)&&(W.lx-=W.outerLength/2,K="center");var $="top";M.isBottomAnchor(B)&&(W.ly-=W.height,$="bottom"),M.isMiddleAnchor(B)&&(W.ly-=W.height/2,$="middle"),W.outerLength=Math.ceil(W.outerLength),W.height=Math.ceil(W.height),W.lx=Math.round(W.lx),W.ly=Math.round(W.ly);var X={y:B.y,b:W.height*u[$],t:W.height*l[$]};B.lenmode==="fraction"?(X.l=0,X.xl=B.x-B.len*l[K],X.r=0,X.xr=B.x+B.len*u[K]):(X.x=B.x,X.l=W.outerLength*l[K],X.r=W.outerLength*u[K]),P.autoMargin(_,f(B),X)}function c(_,B,F){(F.steps[F.active]||{}).visible||(F.active=F._visibleSteps[0]._index),B.call(a,F).call(O,F).call(T,F).call(A,F).call(I,_,F).call(d,_,F);var z=F._dims;L.setTranslate(B,z.lx+F.pad.l,z.ly+F.pad.t),B.call(E,F,!1),B.call(a,F)}function a(_,B,F){if(B.currentvalue.visible){var z=B._dims,N,W;switch(B.currentvalue.xanchor){case"right":N=z.inputAreaLength-t.currentValueInset-z.currentValueMaxWidth,W="left";break;case"center":N=z.inputAreaLength*.5,W="middle";break;default:N=t.currentValueInset,W="left"}var Z=M.ensureSingle(_,"text",t.labelClass,function($){$.attr({"text-anchor":W,"data-notex":1})}),q=B.currentvalue.prefix?B.currentvalue.prefix:"";if(typeof F=="string")q+=F;else{var re=B.steps[B.active].label,le=B._gd._fullLayout._meta;le&&(re=M.templateString(re,le)),q+=re}B.currentvalue.suffix&&(q+=B.currentvalue.suffix),Z.call(L.font,B.currentvalue.font).text(q).call(p.convertToTspans,B._gd);var ie=p.lineCount(Z),K=(z.currentValueMaxLines+1-ie)*B.currentvalue.font.size*n;return p.positionText(Z,N,K),Z}}function d(_,B,F){var z=M.ensureSingle(_,"rect",t.gripRectClass,function(N){N.call(S,B,_,F).style("pointer-events","all")});z.attr({width:t.gripWidth,height:t.gripHeight,rx:t.gripRadius,ry:t.gripRadius}).call(s.stroke,F.bordercolor).call(s.fill,F.bgcolor).style("stroke-width",F.borderwidth+"px")}function x(_,B,F){var z=M.ensureSingle(_,"text",t.labelClass,function(Z){Z.attr({"text-anchor":"middle","data-notex":1})}),N=B.step.label,W=F._gd._fullLayout._meta;return W&&(N=M.templateString(N,W)),z.call(L.font,F.font).text(N).call(p.convertToTspans,F._gd),z}function T(_,B){var F=M.ensureSingle(_,"g",t.labelsClass),z=B._dims,N=F.selectAll("g."+t.labelGroupClass).data(z.labelSteps);N.enter().append("g").classed(t.labelGroupClass,!0),N.exit().remove(),N.each(function(W){var Z=b.select(this);Z.call(x,W,B),L.setTranslate(Z,m(B,W.fraction),t.tickOffset+B.ticklen+B.font.size*n+t.labelOffset+z.currentValueTotalHeight)})}function C(_,B,F,z,N){var W=Math.round(z*(F._stepCount-1)),Z=F._visibleSteps[W]._index;Z!==F.active&&y(_,B,F,Z,!0,N)}function y(_,B,F,z,N,W){var Z=F.active;F.active=z,r(_.layout,t.name,F).applyUpdate("active",z);var q=F.steps[F.active];B.call(E,F,W),B.call(a,F),_.emit("plotly_sliderchange",{slider:F,step:F.steps[F.active],interaction:N,previousActive:Z}),q&&q.method&&N&&(B._nextMethod?(B._nextMethod.step=q,B._nextMethod.doCallback=N,B._nextMethod.doTransition=W):(B._nextMethod={step:q,doCallback:N,doTransition:W},B._nextMethodRaf=window.requestAnimationFrame(function(){var re=B._nextMethod.step;re.method&&(re.execute&&P.executeAPICommand(_,re.method,re.args),B._nextMethod=null,B._nextMethodRaf=null)})))}function S(_,B,F){if(B._context.staticPlot)return;var z=F.node(),N=b.select(B);function W(){return F.data()[0]}function Z(){var q=W();B.emit("plotly_sliderstart",{slider:q});var re=F.select("."+t.gripRectClass);b.event.stopPropagation(),b.event.preventDefault(),re.call(s.fill,q.activebgcolor);var le=k(q,b.mouse(z)[0]);C(B,F,q,le,!0),q._dragging=!0;function ie(){var $=W(),X=k($,b.mouse(z)[0]);C(B,F,$,X,!1)}N.on("mousemove",ie),N.on("touchmove",ie);function K(){var $=W();$._dragging=!1,re.call(s.fill,$.bgcolor),N.on("mouseup",null),N.on("mousemove",null),N.on("touchend",null),N.on("touchmove",null),B.emit("plotly_sliderend",{slider:$,step:$.steps[$.active]})}N.on("mouseup",K),N.on("touchend",K)}_.on("mousedown",Z),_.on("touchstart",Z)}function A(_,B){var F=_.selectAll("rect."+t.tickRectClass).data(B._visibleSteps),z=B._dims;F.enter().append("rect").classed(t.tickRectClass,!0),F.exit().remove(),F.attr({width:B.tickwidth+"px","shape-rendering":"crispEdges"}),F.each(function(N,W){var Z=W%z.labelStride===0,q=b.select(this);q.attr({height:Z?B.ticklen:B.minorticklen}).call(s.fill,B.tickcolor),L.setTranslate(q,m(B,W/(B._stepCount-1))-.5*B.tickwidth,(Z?t.tickOffset:t.minorTickOffset)+z.currentValueTotalHeight)})}function i(_){var B=_._dims;B.labelSteps=[];for(var F=_._stepCount,z=0;z<F;z+=B.labelStride)B.labelSteps.push({fraction:z/(F-1),step:_._visibleSteps[z]})}function E(_,B,F){for(var z=_.select("rect."+t.gripRectClass),N=0,W=0;W<B._stepCount;W++)if(B._visibleSteps[W]._index===B.active){N=W;break}var Z=m(B,N/(B._stepCount-1));if(!B._invokingCommand){var q=z;F&&B.transition.duration>0&&(q=q.transition().duration(B.transition.duration).ease(B.transition.easing)),q.attr("transform",v(Z-t.gripWidth*.5,B._dims.currentValueTotalHeight))}}function m(_,B){var F=_._dims;return F.inputAreaStart+t.stepInset+(F.inputAreaLength-2*t.stepInset)*Math.min(1,Math.max(0,B))}function k(_,B){var F=_._dims;return Math.min(1,Math.max(0,(B-t.stepInset-F.inputAreaStart)/(F.inputAreaLength-2*t.stepInset-2*F.inputAreaStart)))}function I(_,B,F){var z=F._dims,N=M.ensureSingle(_,"rect",t.railTouchRectClass,function(W){W.call(S,B,_,F).style("pointer-events","all")});N.attr({width:z.inputAreaLength,height:Math.max(z.inputAreaWidth,t.tickOffset+F.ticklen+z.labelHeight)}).call(s.fill,F.bgcolor).attr("opacity",0),L.setTranslate(N,0,z.currentValueTotalHeight)}function O(_,B){var F=B._dims,z=F.inputAreaLength-t.railInset*2,N=M.ensureSingle(_,"rect",t.railRectClass);N.attr({width:z,height:t.railWidth,rx:t.railRadius,ry:t.railRadius,"shape-rendering":"crispEdges"}).call(s.stroke,B.bordercolor).call(s.fill,B.bgcolor).style("stroke-width",B.borderwidth+"px"),L.setTranslate(N,t.railInset,(F.inputAreaWidth-t.railWidth)*.5+F.currentValueTotalHeight)}},97544:function(Y,V,e){var b=e(60876);Y.exports={moduleType:"component",name:b.name,layoutAttributes:e(89861),supplyLayoutDefaults:e(8132),draw:e(79664)}},81668:function(Y,V,e){var b=e(33428),P=e(38248),s=e(7316),L=e(24040),M=e(3400),v=M.strTranslate,p=e(43616),r=e(76308),t=e(72736),o=e(13448),n=e(84284).OPPOSITE_SIDE,l=/ [XY][0-9]* /,u=1.6,f=1.6;function g(h,w,c){var a=h._fullLayout,d=c.propContainer,x=c.propName,T=c.placeholder,C=c.traceIndex,y=c.avoid||{},S=c.attributes,A=c.transform,i=c.containerGroup,E=1,m=d.title,k=(m&&m.text?m.text:"").trim(),I=!1,O=m&&m.font?m.font:{},_=O.family,B=O.size,F=O.color,z=O.weight,N=O.style,W=O.variant,Z=O.textcase,q=O.lineposition,re=O.shadow,le=c.subtitlePropName,ie=!!le,K=c.subtitlePlaceholder,$=(d.title||{}).subtitle||{text:"",font:{}},X=$.text.trim(),Q=!1,se=1,J=$.font,G=J.family,oe=J.size,te=J.color,fe=J.weight,ge=J.style,we=J.variant,xe=J.textcase,Ce=J.lineposition,De=J.shadow,Oe;x==="title.text"?Oe="titleText":x.indexOf("axis")!==-1?Oe="axisTitleText":x.indexOf("colorbar"!==-1)&&(Oe="colorbarTitleText");var Te=h._context.edits[Oe];function Re(St,tt){return St===void 0||tt===void 0?!1:St.replace(l," % ")===tt.replace(l," % ")}k===""?E=0:Re(k,T)&&(Te||(k=""),E=.2,I=!0),ie&&(X===""?se=0:Re(X,K)&&(Te||(X=""),se=.2,Q=!0)),c._meta?k=M.templateString(k,c._meta):a._meta&&(k=M.templateString(k,a._meta));var Me=k||X||Te,ke;i||(i=M.ensureSingle(a._infolayer,"g","g-"+w),ke=a._hColorbarMoveTitle);var Se=i.selectAll("text."+w).data(Me?[0]:[]);Se.enter().append("text"),Se.text(k).attr("class",w),Se.exit().remove();var He=null,je=w+"-subtitle",at=X||Te;if(ie&&at&&(He=i.selectAll("text."+je).data(at?[0]:[]),He.enter().append("text"),He.text(X).attr("class",je),He.exit().remove()),!Me)return i;function Ze(St,tt){M.syncOrAsync([$e,ut],{title:St,subtitle:tt})}function $e(St){var tt=St.title,Ie=St.subtitle,Ve;!A&&ke&&(A={}),A?(Ve="",A.rotate&&(Ve+="rotate("+[A.rotate,S.x,S.y]+")"),(A.offset||ke)&&(Ve+=v(0,(A.offset||0)-(ke||0)))):Ve=null,tt.attr("transform",Ve);function Ge(he){if(he){var ye=b.select(he.node().parentNode).select("."+je);if(!ye.empty()){var _e=he.node().getBBox();if(_e.height){var We=_e.y+_e.height+u*oe;ye.attr("y",We)}}}}if(tt.style("opacity",E*r.opacity(F)).call(p.font,{color:r.rgb(F),size:b.round(B,2),family:_,weight:z,style:N,variant:W,textcase:Z,shadow:re,lineposition:q}).attr(S).call(t.convertToTspans,h,Ge),Ie){var Xe=i.select("."+w+"-math-group"),Le=tt.node().getBBox(),Fe=Xe.node()?Xe.node().getBBox():void 0,Ue=Fe?Fe.y+Fe.height+u*oe:Le.y+Le.height+f*oe,Ee=M.extendFlat({},S,{y:Ue});Ie.attr("transform",Ve),Ie.style("opacity",se*r.opacity(te)).call(p.font,{color:r.rgb(te),size:b.round(oe,2),family:G,weight:fe,style:ge,variant:we,textcase:xe,shadow:De,lineposition:Ce}).attr(Ee).call(t.convertToTspans,h)}return s.previousPromises(h)}function ut(St){var tt=St.title,Ie=b.select(tt.node().parentNode);if(y&&y.selection&&y.side&&k){Ie.attr("transform",null);var Ve=n[y.side],Ge=y.side==="left"||y.side==="top"?-1:1,Xe=P(y.pad)?y.pad:2,Le=p.bBox(Ie.node()),Fe={t:0,b:0,l:0,r:0},Ue=h._fullLayout._reservedMargin;for(var Ee in Ue)for(var he in Ue[Ee]){var ye=Ue[Ee][he];Fe[he]=Math.max(Fe[he],ye)}var _e={left:Fe.l,top:Fe.t,right:a.width-Fe.r,bottom:a.height-Fe.b},We=y.maxShift||Ge*(_e[y.side]-Le[y.side]),rt=0;if(We<0)rt=We;else{var st=y.offsetLeft||0,Vt=y.offsetTop||0;Le.left-=st,Le.right-=st,Le.top-=Vt,Le.bottom-=Vt,y.selection.each(function(){var Tt=p.bBox(this);M.bBoxIntersect(Le,Tt,Xe)&&(rt=Math.max(rt,Ge*(Tt[y.side]-Le[Ve])+Xe))}),rt=Math.min(We,rt),d._titleScoot=Math.abs(rt)}if(rt>0||We<0){var Xt={left:[-rt,0],right:[rt,0],top:[0,-rt],bottom:[0,rt]}[y.side];Ie.attr("transform",v(Xt[0],Xt[1]))}}}Se.call(Ze,He);function ht(St,tt){St.text(tt).on("mouseover.opacity",function(){b.select(this).transition().duration(o.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){b.select(this).transition().duration(o.HIDE_PLACEHOLDER).style("opacity",0)})}if(Te&&(k?Se.on(".opacity",null):(ht(Se,T),I=!0),Se.call(t.makeEditable,{gd:h}).on("edit",function(St){C!==void 0?L.call("_guiRestyle",h,x,St,C):L.call("_guiRelayout",h,x,St)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(Ze)}).on("input",function(St){this.text(St||" ").call(t.positionText,S.x,S.y)}),ie)){if(ie&&!k){var vt=Se.node().getBBox(),xt=vt.y+vt.height+f*oe;He.attr("y",xt)}X?He.on(".opacity",null):(ht(He,K),Q=!0),He.call(t.makeEditable,{gd:h}).on("edit",function(St){L.call("_guiRelayout",h,"title.subtitle.text",St)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(Ze)}).on("input",function(St){this.text(St||" ").call(t.positionText,He.attr("x"),He.attr("y"))})}return Se.classed("js-placeholder",I),He&&He.classed("js-placeholder",Q),i}Y.exports={draw:g,SUBTITLE_PADDING_EM:f,SUBTITLE_PADDING_MATHJAX_EM:u}},88444:function(Y,V,e){var b=e(25376),P=e(22548),s=e(92880).extendFlat,L=e(67824).overrideAll,M=e(66741),v=e(31780).templatedArray,p=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});Y.exports=L(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:p,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:s(M({editType:"arraydraw"}),{}),font:b({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:P.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},73712:function(Y){Y.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},91384:function(Y,V,e){var b=e(3400),P=e(51272),s=e(88444),L=e(73712),M=L.name,v=s.buttons;Y.exports=function(o,n){var l={name:M,handleItemDefaults:p};P(o,n,l)};function p(t,o,n){function l(g,h){return b.coerce(t,o,s,g,h)}var u=P(t,o,{name:"buttons",handleItemDefaults:r}),f=l("visible",u.length>0);f&&(l("active"),l("direction"),l("type"),l("showactive"),l("x"),l("y"),b.noneOrAll(t,o,["x","y"]),l("xanchor"),l("yanchor"),l("pad.t"),l("pad.r"),l("pad.b"),l("pad.l"),b.coerceFont(l,"font",n.font),l("bgcolor",n.paper_bgcolor),l("bordercolor"),l("borderwidth"))}function r(t,o){function n(u,f){return b.coerce(t,o,v,u,f)}var l=n("visible",t.method==="skip"||Array.isArray(t.args));l&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}},14420:function(Y,V,e){var b=e(33428),P=e(7316),s=e(76308),L=e(43616),M=e(3400),v=e(72736),p=e(31780).arrayEditor,r=e(84284).LINE_SPACING,t=e(73712),o=e(37400);Y.exports=function(k){var I=k._fullLayout,O=M.filterVisible(I[t.name]);function _(re){P.autoMargin(k,A(re))}var B=I._menulayer.selectAll("g."+t.containerClassName).data(O.length>0?[0]:[]);if(B.enter().append("g").classed(t.containerClassName,!0).style("cursor","pointer"),B.exit().each(function(){b.select(this).selectAll("g."+t.headerGroupClassName).each(_)}).remove(),O.length!==0){var F=B.selectAll("g."+t.headerGroupClassName).data(O,n);F.enter().append("g").classed(t.headerGroupClassName,!0);for(var z=M.ensureSingle(B,"g",t.dropdownButtonGroupClassName,function(re){re.style("pointer-events","all")}),N=0;N<O.length;N++){var W=O[N];S(k,W)}var Z="updatemenus"+I._uid,q=new o(k,z,Z);F.enter().size()&&(z.node().parentNode.appendChild(z.node()),z.call(E)),F.exit().each(function(re){z.call(E),_(re)}).remove(),F.each(function(re){var le=b.select(this),ie=re.type==="dropdown"?z:null;P.manageCommandObserver(k,re,re.buttons,function(K){f(k,re,re.buttons[K.index],le,ie,q,K.index,!0)}),re.type==="dropdown"?(g(k,le,z,q,re),u(z,re)&&h(k,le,z,q,re)):h(k,le,null,null,re)})}};function n(m){return m._index}function l(m){return+m.attr(t.menuIndexAttrName)==-1}function u(m,k){return+m.attr(t.menuIndexAttrName)===k._index}function f(m,k,I,O,_,B,F,z){k.active=F,p(m.layout,t.name,k).applyUpdate("active",F),k.type==="buttons"?h(m,O,null,null,k):k.type==="dropdown"&&(_.attr(t.menuIndexAttrName,"-1"),g(m,O,_,B,k),z||h(m,O,_,B,k))}function g(m,k,I,O,_){var B=M.ensureSingle(k,"g",t.headerClassName,function(re){re.style("pointer-events","all")}),F=_._dims,z=_.active,N=_.buttons[z]||t.blankHeaderOpts,W={y:_.pad.t,yPad:0,x:_.pad.l,xPad:0,index:0},Z={width:F.headerWidth,height:F.headerHeight};B.call(a,_,N,m).call(i,_,W,Z);var q=M.ensureSingle(k,"text",t.headerArrowClassName,function(re){re.attr("text-anchor","end").call(L.font,_.font).text(t.arrowSymbol[_.direction])});q.attr({x:F.headerWidth-t.arrowOffsetX+_.pad.l,y:F.headerHeight/2+t.textOffsetY+_.pad.t}),B.on("click",function(){I.call(E,String(u(I,_)?-1:_._index)),h(m,k,I,O,_)}),B.on("mouseover",function(){B.call(C)}),B.on("mouseout",function(){B.call(y,_)}),L.setTranslate(k,F.lx,F.ly)}function h(m,k,I,O,_){I||(I=k,I.attr("pointer-events","all"));var B=!l(I)||_.type==="buttons"?_.buttons:[],F=_.type==="dropdown"?t.dropdownButtonClassName:t.buttonClassName,z=I.selectAll("g."+F).data(M.filterVisible(B)),N=z.enter().append("g").classed(F,!0),W=z.exit();_.type==="dropdown"?(N.attr("opacity","0").transition().attr("opacity","1"),W.transition().attr("opacity","0").remove()):W.remove();var Z=0,q=0,re=_._dims,le=["up","down"].indexOf(_.direction)!==-1;_.type==="dropdown"&&(le?q=re.headerHeight+t.gapButtonHeader:Z=re.headerWidth+t.gapButtonHeader),_.type==="dropdown"&&_.direction==="up"&&(q=-t.gapButtonHeader+t.gapButton-re.openHeight),_.type==="dropdown"&&_.direction==="left"&&(Z=-t.gapButtonHeader+t.gapButton-re.openWidth);var ie={x:re.lx+Z+_.pad.l,y:re.ly+q+_.pad.t,yPad:t.gapButton,xPad:t.gapButton,index:0},K={l:ie.x+_.borderwidth,t:ie.y+_.borderwidth};z.each(function($,X){var Q=b.select(this);Q.call(a,_,$,m).call(i,_,ie),Q.on("click",function(){b.event.defaultPrevented||($.execute&&($.args2&&_.active===X?(f(m,_,$,k,I,O,-1),P.executeAPICommand(m,$.method,$.args2)):(f(m,_,$,k,I,O,X),P.executeAPICommand(m,$.method,$.args))),m.emit("plotly_buttonclicked",{menu:_,button:$,active:_.active}))}),Q.on("mouseover",function(){Q.call(C)}),Q.on("mouseout",function(){Q.call(y,_),z.call(T,_)})}),z.call(T,_),le?(K.w=Math.max(re.openWidth,re.headerWidth),K.h=ie.y-K.t):(K.w=ie.x-K.l,K.h=Math.max(re.openHeight,re.headerHeight)),K.direction=_.direction,O&&(z.size()?w(m,k,I,O,_,K):c(O))}function w(m,k,I,O,_,B){var F=_.direction,z=F==="up"||F==="down",N=_._dims,W=_.active,Z,q,re;if(z)for(q=0,re=0;re<W;re++)q+=N.heights[re]+t.gapButton;else for(Z=0,re=0;re<W;re++)Z+=N.widths[re]+t.gapButton;O.enable(B,Z,q),O.hbar&&O.hbar.attr("opacity","0").transition().attr("opacity","1"),O.vbar&&O.vbar.attr("opacity","0").transition().attr("opacity","1")}function c(m){var k=!!m.hbar,I=!!m.vbar;k&&m.hbar.transition().attr("opacity","0").each("end",function(){k=!1,I||m.disable()}),I&&m.vbar.transition().attr("opacity","0").each("end",function(){I=!1,k||m.disable()})}function a(m,k,I,O){m.call(d,k).call(x,k,I,O)}function d(m,k){var I=M.ensureSingle(m,"rect",t.itemRectClassName,function(O){O.attr({rx:t.rx,ry:t.ry,"shape-rendering":"crispEdges"})});I.call(s.stroke,k.bordercolor).call(s.fill,k.bgcolor).style("stroke-width",k.borderwidth+"px")}function x(m,k,I,O){var _=M.ensureSingle(m,"text",t.itemTextClassName,function(z){z.attr({"text-anchor":"start","data-notex":1})}),B=I.label,F=O._fullLayout._meta;F&&(B=M.templateString(B,F)),_.call(L.font,k.font).text(B).call(v.convertToTspans,O)}function T(m,k){var I=k.active;m.each(function(O,_){var B=b.select(this);_===I&&k.showactive&&B.select("rect."+t.itemRectClassName).call(s.fill,t.activeColor)})}function C(m){m.select("rect."+t.itemRectClassName).call(s.fill,t.hoverColor)}function y(m,k){m.select("rect."+t.itemRectClassName).call(s.fill,k.bgcolor)}function S(m,k){var I=k._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},O=L.tester.selectAll("g."+t.dropdownButtonClassName).data(M.filterVisible(k.buttons));O.enter().append("g").classed(t.dropdownButtonClassName,!0);var _=["up","down"].indexOf(k.direction)!==-1;O.each(function(Z,q){var re=b.select(this);re.call(a,k,Z,m);var le=re.select("."+t.itemTextClassName),ie=le.node()&&L.bBox(le.node()).width,K=Math.max(ie+t.textPadX,t.minWidth),$=k.font.size*r,X=v.lineCount(le),Q=Math.max($*X,t.minHeight)+t.textOffsetY;Q=Math.ceil(Q),K=Math.ceil(K),I.widths[q]=K,I.heights[q]=Q,I.height1=Math.max(I.height1,Q),I.width1=Math.max(I.width1,K),_?(I.totalWidth=Math.max(I.totalWidth,K),I.openWidth=I.totalWidth,I.totalHeight+=Q+t.gapButton,I.openHeight+=Q+t.gapButton):(I.totalWidth+=K+t.gapButton,I.openWidth+=K+t.gapButton,I.totalHeight=Math.max(I.totalHeight,Q),I.openHeight=I.totalHeight)}),_?I.totalHeight-=t.gapButton:I.totalWidth-=t.gapButton,I.headerWidth=I.width1+t.arrowPadX,I.headerHeight=I.height1,k.type==="dropdown"&&(_?(I.width1+=t.arrowPadX,I.totalHeight=I.height1):I.totalWidth=I.width1,I.totalWidth+=t.arrowPadX),O.remove();var B=I.totalWidth+k.pad.l+k.pad.r,F=I.totalHeight+k.pad.t+k.pad.b,z=m._fullLayout._size;I.lx=z.l+z.w*k.x,I.ly=z.t+z.h*(1-k.y);var N="left";M.isRightAnchor(k)&&(I.lx-=B,N="right"),M.isCenterAnchor(k)&&(I.lx-=B/2,N="center");var W="top";M.isBottomAnchor(k)&&(I.ly-=F,W="bottom"),M.isMiddleAnchor(k)&&(I.ly-=F/2,W="middle"),I.totalWidth=Math.ceil(I.totalWidth),I.totalHeight=Math.ceil(I.totalHeight),I.lx=Math.round(I.lx),I.ly=Math.round(I.ly),P.autoMargin(m,A(k),{x:k.x,y:k.y,l:B*({right:1,center:.5}[N]||0),r:B*({left:1,center:.5}[N]||0),b:F*({top:1,middle:.5}[W]||0),t:F*({bottom:1,middle:.5}[W]||0)})}function A(m){return t.autoMarginIdRoot+m._index}function i(m,k,I,O){O=O||{};var _=m.select("."+t.itemRectClassName),B=m.select("."+t.itemTextClassName),F=k.borderwidth,z=I.index,N=k._dims;L.setTranslate(m,F+I.x,F+I.y);var W=["up","down"].indexOf(k.direction)!==-1,Z=O.height||(W?N.heights[z]:N.height1);_.attr({x:0,y:0,width:O.width||(W?N.width1:N.widths[z]),height:Z});var q=k.font.size*r,re=v.lineCount(B),le=(re-1)*q/2;v.positionText(B,t.textOffsetX,Z/2-le+t.textOffsetY),W?I.y+=N.heights[z]+I.yPad:I.x+=N.widths[z]+I.xPad,I.index++}function E(m,k){m.attr(t.menuIndexAttrName,k||"-1").selectAll("g."+t.dropdownButtonClassName).remove()}},76908:function(Y,V,e){var b=e(73712);Y.exports={moduleType:"component",name:b.name,layoutAttributes:e(88444),supplyLayoutDefaults:e(91384),draw:e(14420)}},37400:function(Y,V,e){Y.exports=M;var b=e(33428),P=e(76308),s=e(43616),L=e(3400);function M(v,p,r){this.gd=v,this.container=p,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}M.barWidth=2,M.barLength=20,M.barRadius=2,M.barPad=1,M.barColor="#808BA4",M.prototype.enable=function(p,r,t){var o=this.gd._fullLayout,n=o.width,l=o.height;this.position=p;var u=this.position.l,f=this.position.w,g=this.position.t,h=this.position.h,w=this.position.direction,c=w==="down",a=w==="left",d=w==="right",x=w==="up",T=f,C=h,y,S,A,i;!c&&!a&&!d&&!x&&(this.position.direction="down",c=!0);var E=c||x;E?(y=u,S=y+T,c?(A=g,i=Math.min(A+C,l),C=i-A):(i=g+C,A=Math.max(i-C,0),C=i-A)):(A=g,i=A+C,a?(S=u+T,y=Math.max(S-T,0),T=S-y):(y=u,S=Math.min(y+T,n),T=S-y)),this._box={l:y,t:A,w:T,h:C};var m=f>T,k=M.barLength+2*M.barPad,I=M.barWidth+2*M.barPad,O=u,_=g+h;_+I>l&&(_=l-I);var B=this.container.selectAll("rect.scrollbar-horizontal").data(m?[0]:[]);B.exit().on(".drag",null).remove(),B.enter().append("rect").classed("scrollbar-horizontal",!0).call(P.fill,M.barColor),m?(this.hbar=B.attr({rx:M.barRadius,ry:M.barRadius,x:O,y:_,width:k,height:I}),this._hbarXMin=O+k/2,this._hbarTranslateMax=T-k):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var F=h>C,z=M.barWidth+2*M.barPad,N=M.barLength+2*M.barPad,W=u+f,Z=g;W+z>n&&(W=n-z);var q=this.container.selectAll("rect.scrollbar-vertical").data(F?[0]:[]);q.exit().on(".drag",null).remove(),q.enter().append("rect").classed("scrollbar-vertical",!0).call(P.fill,M.barColor),F?(this.vbar=q.attr({rx:M.barRadius,ry:M.barRadius,x:W,y:Z,width:z,height:N}),this._vbarYMin=Z+N/2,this._vbarTranslateMax=C-N):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var re=this.id,le=y-.5,ie=F?S+z+.5:S+.5,K=A-.5,$=m?i+I+.5:i+.5,X=o._topdefs.selectAll("#"+re).data(m||F?[0]:[]);if(X.exit().remove(),X.enter().append("clipPath").attr("id",re).append("rect"),m||F?(this._clipRect=X.select("rect").attr({x:Math.floor(le),y:Math.floor(K),width:Math.ceil(ie)-Math.floor(le),height:Math.ceil($)-Math.floor(K)}),this.container.call(s.setClipUrl,re,this.gd),this.bg.attr({x:u,y:g,width:f,height:h})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(s.setClipUrl,null),delete this._clipRect),m||F){var Q=b.behavior.drag().on("dragstart",function(){b.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(Q);var se=b.behavior.drag().on("dragstart",function(){b.event.sourceEvent.preventDefault(),b.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));m&&this.hbar.on(".drag",null).call(se),F&&this.vbar.on(".drag",null).call(se)}this.setTranslate(r,t)},M.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(s.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},M.prototype._onBoxDrag=function(){var p=this.translateX,r=this.translateY;this.hbar&&(p-=b.event.dx),this.vbar&&(r-=b.event.dy),this.setTranslate(p,r)},M.prototype._onBoxWheel=function(){var p=this.translateX,r=this.translateY;this.hbar&&(p+=b.event.deltaY),this.vbar&&(r+=b.event.deltaY),this.setTranslate(p,r)},M.prototype._onBarDrag=function(){var p=this.translateX,r=this.translateY;if(this.hbar){var t=p+this._hbarXMin,o=t+this._hbarTranslateMax,n=L.constrain(b.event.x,t,o),l=(n-t)/(o-t),u=this.position.w-this._box.w;p=l*u}if(this.vbar){var f=r+this._vbarYMin,g=f+this._vbarTranslateMax,h=L.constrain(b.event.y,f,g),w=(h-f)/(g-f),c=this.position.h-this._box.h;r=w*c}this.setTranslate(p,r)},M.prototype.setTranslate=function(p,r){var t=this.position.w-this._box.w,o=this.position.h-this._box.h;if(p=L.constrain(p||0,0,t),r=L.constrain(r||0,0,o),this.translateX=p,this.translateY=r,this.container.call(s.setTranslate,this._box.l-this.position.l-p,this._box.t-this.position.t-r),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+p-.5),y:Math.floor(this.position.t+r-.5)}),this.hbar){var n=p/t;this.hbar.call(s.setTranslate,p+n*this._hbarTranslateMax,r)}if(this.vbar){var l=r/o;this.vbar.call(s.setTranslate,p,r+l*this._vbarTranslateMax)}}},84284:function(Y){Y.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},36208:function(Y){Y.exports={axisRefDescription:function(V,e,b){return["If set to a",V,"axis id (e.g. *"+V+"* or","*"+V+"2*), the `"+V+"` position refers to a",V,"coordinate. If set to *paper*, the `"+V+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+b+"). If set to a",V,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+V+"2 domain* refers to the domain of the second",V," axis and a",V,"position of 0.5 refers to the","point between the",e,"and the",b,"of the domain of the","second",V,"axis."].join(" ")}}},48164:function(Y){Y.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"▲"},DECREASING:{COLOR:"#FF4136",SYMBOL:"▼"}}},26880:function(Y){Y.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},69104:function(Y){Y.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},99168:function(Y){Y.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87792:function(Y){Y.exports={circle:"●","circle-open":"○",square:"■","square-open":"□",diamond:"◆","diamond-open":"◇",cross:"+",x:"❌"}},13448:function(Y){Y.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},39032:function(Y){Y.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,ONEMILLI:1,ONEMICROSEC:.001,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"}},2264:function(Y,V){V.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],V.STYLE=V.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},9616:function(Y,V){V.xmlns="http://www.w3.org/2000/xmlns/",V.svg="http://www.w3.org/2000/svg",V.xlink="http://www.w3.org/1999/xlink",V.svgAttrs={xmlns:V.svg,"xmlns:xlink":V.xlink}},64884:function(Y,V,e){V.version=e(25788).version,e(88324),e(79288);for(var b=e(24040),P=V.register=b.register,s=e(22448),L=Object.keys(s),M=0;M<L.length;M++){var v=L[M];v.charAt(0)!=="_"&&(V[v]=s[v]),P({moduleType:"apiMethod",name:v,fn:s[v]})}P(e(65875)),P([e(79180),e(56864),e(22676),e(41592),e(7402),e(76908),e(97544),e(49692),e(41152),e(12704),e(64968),e(8932),e(55080),e(2780),e(93024),e(45460)]),P([e(6580),e(11680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(P(window.PlotlyLocales),delete window.PlotlyLocales),V.Icons=e(9224);var p=e(93024),r=e(7316);V.Plots={resize:r.resize,graphJson:r.graphJson,sendDataToCloud:r.sendDataToCloud},V.Fx={hover:p.hover,unhover:p.unhover,loneHover:p.loneHover,loneUnhover:p.loneUnhover},V.Snapshot=e(78904),V.PlotSchema=e(73060)},9224:function(Y){Y.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},98308:function(Y,V){V.isLeftAnchor=function(b){return b.xanchor==="left"||b.xanchor==="auto"&&b.x<=.3333333333333333},V.isCenterAnchor=function(b){return b.xanchor==="center"||b.xanchor==="auto"&&b.x>.3333333333333333&&b.x<.6666666666666666},V.isRightAnchor=function(b){return b.xanchor==="right"||b.xanchor==="auto"&&b.x>=.6666666666666666},V.isTopAnchor=function(b){return b.yanchor==="top"||b.yanchor==="auto"&&b.y>=.6666666666666666},V.isMiddleAnchor=function(b){return b.yanchor==="middle"||b.yanchor==="auto"&&b.y>.3333333333333333&&b.y<.6666666666666666},V.isBottomAnchor=function(b){return b.yanchor==="bottom"||b.yanchor==="auto"&&b.y<=.3333333333333333}},11864:function(Y,V,e){var b=e(20435),P=b.mod,s=b.modHalf,L=Math.PI,M=2*L;function v(w){return w/180*L}function p(w){return w/L*180}function r(w){return Math.abs(w[1]-w[0])>M-1e-14}function t(w,c){return s(c-w,M)}function o(w,c){return Math.abs(t(w,c))}function n(w,c){if(r(c))return!0;var a,d;c[0]<c[1]?(a=c[0],d=c[1]):(a=c[1],d=c[0]),a=P(a,M),d=P(d,M),a>d&&(d+=M);var x=P(w,M),T=x+M;return x>=a&&x<=d||T>=a&&T<=d}function l(w,c,a,d){if(!n(c,d))return!1;var x,T;return a[0]<a[1]?(x=a[0],T=a[1]):(x=a[1],T=a[0]),w>=x&&w<=T}function u(w,c,a,d,x,T,C){x=x||0,T=T||0;var y=r([a,d]),S,A,i,E,m;y?(S=0,A=L,i=M):a<d?(S=a,i=d):(S=d,i=a),w<c?(E=w,m=c):(E=c,m=w);function k(B,F){return[B*Math.cos(F)+x,T-B*Math.sin(F)]}var I=Math.abs(i-S)<=L?0:1;function O(B,F,z){return"A"+[B,B]+" "+[0,I,z]+" "+k(B,F)}var _;return y?E===null?_="M"+k(m,S)+O(m,A,0)+O(m,i,0)+"Z":_="M"+k(E,S)+O(E,A,0)+O(E,i,0)+"ZM"+k(m,S)+O(m,A,1)+O(m,i,1)+"Z":E===null?(_="M"+k(m,S)+O(m,i,0),C&&(_+="L0,0Z")):_="M"+k(E,S)+"L"+k(m,S)+O(m,i,0)+"L"+k(E,i)+O(E,S,1)+"Z",_}function f(w,c,a,d,x){return u(null,w,c,a,d,x,0)}function g(w,c,a,d,x){return u(null,w,c,a,d,x,1)}function h(w,c,a,d,x,T){return u(w,c,a,d,x,T,1)}Y.exports={deg2rad:v,rad2deg:p,angleDelta:t,angleDist:o,isFullCircle:r,isAngleInsideSector:n,isPtInsideSector:l,pathArc:f,pathSector:g,pathAnnulus:h}},38116:function(Y,V,e){var b=e(83160).decode,P=e(63620),s=Array.isArray,L=ArrayBuffer,M=DataView;function v(u){return L.isView(u)&&!(u instanceof M)}V.isTypedArray=v;function p(u){return s(u)||v(u)}V.isArrayOrTypedArray=p;function r(u){return!p(u[0])}V.isArray1D=r,V.ensureArray=function(u,f){return s(u)||(u=[]),u.length=f,u};var t={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};t.uint8c=t.u1c,t.uint8=t.u1,t.int8=t.i1,t.uint16=t.u2,t.int16=t.i2,t.uint32=t.u4,t.int32=t.i4,t.float32=t.f4,t.float64=t.f8;function o(u){return u.constructor===ArrayBuffer}V.isArrayBuffer=o,V.decodeTypedArraySpec=function(u){var f=[],g=n(u),h=g.dtype,w=t[h];if(!w)throw new Error('Error in dtype: "'+h+'"');var c=w.BYTES_PER_ELEMENT,a=g.bdata;o(a)||(a=b(a));var d=g.shape===void 0?[a.byteLength/c]:(""+g.shape).split(",");d.reverse();var x=d.length,T,C,y=+d[0],S=c*y,A=0;if(x===1)f=new w(a);else if(x===2)for(T=+d[1],C=0;C<T;C++)f[C]=new w(a,A,y),A+=S;else if(x===3){T=+d[1];for(var i=+d[2],E=0;E<i;E++)for(f[E]=[],C=0;C<T;C++)f[E][C]=new w(a,A,y),A+=S}else throw new Error("ndim: "+x+'is not supported with the shape:"'+g.shape+'"');return f.bdata=g.bdata,f.dtype=g.dtype,f.shape=d.reverse().join(","),u._inputArray=f,f},V.isTypedArraySpec=function(u){return P(u)&&u.hasOwnProperty("dtype")&&typeof u.dtype=="string"&&u.hasOwnProperty("bdata")&&(typeof u.bdata=="string"||o(u.bdata))&&(u.shape===void 0||u.hasOwnProperty("shape")&&(typeof u.shape=="string"||typeof u.shape=="number"))};function n(u){return{bdata:u.bdata,dtype:u.dtype,shape:u.shape}}V.concat=function(){var u=[],f=!0,g=0,h,w,c,a,d,x,T,C;for(c=0;c<arguments.length;c++)a=arguments[c],x=a.length,x&&(w?u.push(a):(w=a,d=x),s(a)?h=!1:(f=!1,g?h!==a.constructor&&(h=!1):h=a.constructor),g+=x);if(!g)return[];if(!u.length)return w;if(f)return w.concat.apply(w,u);if(h){for(T=new h(g),T.set(w),c=0;c<u.length;c++)a=u[c],T.set(a,d),d+=a.length;return T}for(T=new Array(g),C=0;C<w.length;C++)T[C]=w[C];for(c=0;c<u.length;c++){for(a=u[c],C=0;C<a.length;C++)T[d+C]=a[C];d+=C}return T},V.maxRowLength=function(u){return l(u,Math.max,0)},V.minRowLength=function(u){return l(u,Math.min,1/0)};function l(u,f,g){if(p(u))if(p(u[0])){for(var h=g,w=0;w<u.length;w++)h=f(h,u[w].length);return h}else return u.length;return 0}},54037:function(Y,V,e){var b=e(38248),P=e(39032).BADNUM,s=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;Y.exports=function(M){return typeof M=="string"&&(M=M.replace(s,"")),b(M)?Number(M):P}},73696:function(Y){Y.exports=function(e){var b=e._fullLayout;b._glcanvas&&b._glcanvas.size()&&b._glcanvas.each(function(P){P.regl&&P.regl.clear({color:!0,depth:!0})})}},75352:function(Y){Y.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},63064:function(Y,V,e){var b=e(38248),P=e(49760),s=e(92880).extendFlat,L=e(45464),M=e(88304),v=e(76308),p=e(13448).DESELECTDIM,r=e(22296),t=e(53756).counter,o=e(20435).modHalf,n=e(38116).isArrayOrTypedArray,l=e(38116).isTypedArraySpec,u=e(38116).decodeTypedArraySpec;V.valObjectMeta={data_array:{coerceFunction:function(g,h,w){h.set(n(g)?g:l(g)?u(g):w)}},enumerated:{coerceFunction:function(g,h,w,c){c.coerceNumber&&(g=+g),c.values.indexOf(g)===-1?h.set(w):h.set(g)},validateFunction:function(g,h){h.coerceNumber&&(g=+g);for(var w=h.values,c=0;c<w.length;c++){var a=String(w[c]);if(a.charAt(0)==="/"&&a.charAt(a.length-1)==="/"){var d=new RegExp(a.substr(1,a.length-2));if(d.test(g))return!0}else if(g===w[c])return!0}return!1}},boolean:{coerceFunction:function(g,h,w){g===!0||g===!1?h.set(g):h.set(w)}},number:{coerceFunction:function(g,h,w,c){l(g)&&(g=u(g)),!b(g)||c.min!==void 0&&g<c.min||c.max!==void 0&&g>c.max?h.set(w):h.set(+g)}},integer:{coerceFunction:function(g,h,w,c){if((c.extras||[]).indexOf(g)!==-1){h.set(g);return}l(g)&&(g=u(g)),g%1||!b(g)||c.min!==void 0&&g<c.min||c.max!==void 0&&g>c.max?h.set(w):h.set(+g)}},string:{coerceFunction:function(g,h,w,c){if(typeof g!="string"){var a=typeof g=="number";c.strict===!0||!a?h.set(w):h.set(String(g))}else c.noBlank&&!g?h.set(w):h.set(g)}},color:{coerceFunction:function(g,h,w){l(g)&&(g=u(g)),P(g).isValid()?h.set(g):h.set(w)}},colorlist:{coerceFunction:function(g,h,w){function c(a){return P(a).isValid()}!Array.isArray(g)||!g.length?h.set(w):g.every(c)?h.set(g):h.set(w)}},colorscale:{coerceFunction:function(g,h,w){h.set(M.get(g,w))}},angle:{coerceFunction:function(g,h,w){l(g)&&(g=u(g)),g==="auto"?h.set("auto"):b(g)?h.set(o(+g,360)):h.set(w)}},subplotid:{coerceFunction:function(g,h,w,c){var a=c.regex||t(w);if(typeof g=="string"&&a.test(g)){h.set(g);return}h.set(w)},validateFunction:function(g,h){var w=h.dflt;return g===w?!0:typeof g!="string"?!1:!!t(w).test(g)}},flaglist:{coerceFunction:function(g,h,w,c){if((c.extras||[]).indexOf(g)!==-1){h.set(g);return}if(typeof g!="string"){h.set(w);return}for(var a=g.split("+"),d=0;d<a.length;){var x=a[d];c.flags.indexOf(x)===-1||a.indexOf(x)<d?a.splice(d,1):d++}a.length?h.set(a.join("+")):h.set(w)}},any:{coerceFunction:function(g,h,w){g===void 0?h.set(w):h.set(l(g)?u(g):g)}},info_array:{coerceFunction:function(g,h,w,c){function a(_,B,F){var z,N={set:function(W){z=W}};return F===void 0&&(F=B.dflt),V.valObjectMeta[B.valType].coerceFunction(_,N,F,B),z}if(l(g)&&(g=u(g)),!n(g)){h.set(w);return}var d=c.dimensions===2||c.dimensions==="1-2"&&Array.isArray(g)&&n(g[0]),x=c.items,T=[],C=Array.isArray(x),y=C&&d&&n(x[0]),S=d&&C&&!y,A=C&&!S?x.length:g.length,i,E,m,k,I,O;if(w=Array.isArray(w)?w:[],d)for(i=0;i<A;i++)for(T[i]=[],m=n(g[i])?g[i]:[],S?I=x.length:C?I=x[i].length:I=m.length,E=0;E<I;E++)S?k=x[E]:C?k=x[i][E]:k=x,O=a(m[E],k,(w[i]||[])[E]),O!==void 0&&(T[i][E]=O);else for(i=0;i<A;i++)O=a(g[i],C?x[i]:x,w[i]),O!==void 0&&(T[i]=O);h.set(T)},validateFunction:function(g,h){if(!n(g))return!1;var w=h.items,c=Array.isArray(w),a=h.dimensions===2;if(!h.freeLength&&g.length!==w.length)return!1;for(var d=0;d<g.length;d++)if(a){if(!n(g[d])||!h.freeLength&&g[d].length!==w[d].length)return!1;for(var x=0;x<g[d].length;x++)if(!f(g[d][x],c?w[d][x]:w))return!1}else if(!f(g[d],c?w[d]:w))return!1;return!0}}},V.coerce=function(g,h,w,c,a){var d=r(w,c).get(),x=r(g,c),T=r(h,c),C=x.get(),y=h._template;if(C===void 0&&y&&(C=r(y,c).get(),y=0),a===void 0&&(a=d.dflt),d.arrayOk){if(n(C))return T.set(C),C;if(l(C))return C=u(C),T.set(C),C}var S=V.valObjectMeta[d.valType].coerceFunction;S(C,T,a,d);var A=T.get();return y&&A===a&&!f(C,d)&&(C=r(y,c).get(),S(C,T,a,d),A=T.get()),A},V.coerce2=function(g,h,w,c,a){var d=r(g,c),x=V.coerce(g,h,w,c,a),T=d.get();return T!=null?x:!1},V.coerceFont=function(g,h,w,c){c||(c={}),w=s({},w),w=s(w,c.overrideDflt||{});var a={family:g(h+".family",w.family),size:g(h+".size",w.size),color:g(h+".color",w.color),weight:g(h+".weight",w.weight),style:g(h+".style",w.style)};if(c.noFontVariant||(a.variant=g(h+".variant",w.variant)),c.noFontLineposition||(a.lineposition=g(h+".lineposition",w.lineposition)),c.noFontTextcase||(a.textcase=g(h+".textcase",w.textcase)),!c.noFontShadow){var d=w.shadow;d==="none"&&c.autoShadowDflt&&(d="auto"),a.shadow=g(h+".shadow",d)}return a},V.coercePattern=function(g,h,w,c){var a=g(h+".shape");if(a){g(h+".solidity"),g(h+".size");var d=g(h+".fillmode"),x=d==="overlay";if(!c){var T=g(h+".bgcolor",x?w:void 0);g(h+".fgcolor",x?v.contrast(T):w)}g(h+".fgopacity",x?.5:1)}},V.coerceHoverinfo=function(g,h,w){var c=h._module.attributes,a=c.hoverinfo?c:L,d=a.hoverinfo,x;if(w._dataLength===1){var T=d.dflt==="all"?d.flags.slice():d.dflt.split("+");T.splice(T.indexOf("name"),1),x=T.join("+")}return V.coerce(g,h,a,"hoverinfo",x)},V.coerceSelectionMarkerOpacity=function(g,h){if(g.marker){var w=g.marker.opacity;if(w!==void 0){var c,a;!n(w)&&!g.selected&&!g.unselected&&(c=w,a=p*w),h("selected.marker.opacity",c),h("unselected.marker.opacity",a)}}};function f(g,h){var w=V.valObjectMeta[h.valType];if(h.arrayOk&&n(g))return!0;if(w.validateFunction)return w.validateFunction(g,h);var c={},a=c,d={set:function(x){a=x}};return w.coerceFunction(g,d,c,h),a!==c}V.validate=f},67555:function(Y,V,e){var b=e(94336).Yn,P=e(38248),s=e(24248),L=e(20435).mod,M=e(39032),v=M.BADNUM,p=M.ONEDAY,r=M.ONEHOUR,t=M.ONEMIN,o=M.ONESEC,n=M.EPOCHJD,l=e(24040),u=e(94336).E9,f=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,g=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,h=new Date().getFullYear()-70;function w(_){return _&&l.componentsRegistry.calendars&&typeof _=="string"&&_!=="gregorian"}V.dateTick0=function(_,B){var F=c(_,!!B);if(B<2)return F;var z=V.dateTime2ms(F,_);return z+=p*(B-1),V.ms2DateTime(z,0,_)};function c(_,B){return w(_)?B?l.getComponentMethod("calendars","CANONICAL_SUNDAY")[_]:l.getComponentMethod("calendars","CANONICAL_TICK")[_]:B?"2000-01-02":"2000-01-01"}V.dfltRange=function(_){return w(_)?l.getComponentMethod("calendars","DFLTRANGE")[_]:["2000-01-01","2001-01-01"]},V.isJSDate=function(_){return typeof _=="object"&&_!==null&&typeof _.getTime=="function"};var a,d;V.dateTime2ms=function(_,B){if(V.isJSDate(_)){var F=_.getTimezoneOffset()*t,z=(_.getUTCMinutes()-_.getMinutes())*t+(_.getUTCSeconds()-_.getSeconds())*o+(_.getUTCMilliseconds()-_.getMilliseconds());if(z){var N=3*t;F=F-N/2+L(z-F+N/2,N)}return _=Number(_)-F,_>=a&&_<=d?_:v}if(typeof _!="string"&&typeof _!="number")return v;_=String(_);var W=w(B),Z=_.charAt(0);W&&(Z==="G"||Z==="g")&&(_=_.substr(1),B="");var q=W&&B.substr(0,7)==="chinese",re=_.match(q?g:f);if(!re)return v;var le=re[1],ie=re[3]||"1",K=Number(re[5]||1),$=Number(re[7]||0),X=Number(re[9]||0),Q=Number(re[11]||0);if(W){if(le.length===2)return v;le=Number(le);var se;try{var J=l.getComponentMethod("calendars","getCal")(B);if(q){var G=ie.charAt(ie.length-1)==="i";ie=parseInt(ie,10),se=J.newDate(le,J.toMonthIndex(le,ie,G),K)}else se=J.newDate(le,Number(ie),K)}catch{return v}return se?(se.toJD()-n)*p+$*r+X*t+Q*o:v}le.length===2?le=(Number(le)+2e3-h)%100+h:le=Number(le),ie-=1;var oe=new Date(Date.UTC(2e3,ie,K,$,X));return oe.setUTCFullYear(le),oe.getUTCMonth()!==ie||oe.getUTCDate()!==K?v:oe.getTime()+Q*o},a=V.MIN_MS=V.dateTime2ms("-9999"),d=V.MAX_MS=V.dateTime2ms("9999-12-31 23:59:59.9999"),V.isDateTime=function(_,B){return V.dateTime2ms(_,B)!==v};function x(_,B){return String(_+Math.pow(10,B)).substr(1)}var T=90*p,C=3*r,y=5*t;V.ms2DateTime=function(_,B,F){if(typeof _!="number"||!(_>=a&&_<=d))return v;B||(B=0);var z=Math.floor(L(_+.05,1)*10),N=Math.round(_-z/10),W,Z,q,re,le,ie;if(w(F)){var K=Math.floor(N/p)+n,$=Math.floor(L(_,p));try{W=l.getComponentMethod("calendars","getCal")(F).fromJD(K).formatDate("yyyy-mm-dd")}catch{W=u("G%Y-%m-%d")(new Date(N))}if(W.charAt(0)==="-")for(;W.length<11;)W="-0"+W.substr(1);else for(;W.length<10;)W="0"+W;Z=B<T?Math.floor($/r):0,q=B<T?Math.floor($%r/t):0,re=B<C?Math.floor($%t/o):0,le=B<y?$%o*10+z:0}else ie=new Date(N),W=u("%Y-%m-%d")(ie),Z=B<T?ie.getUTCHours():0,q=B<T?ie.getUTCMinutes():0,re=B<C?ie.getUTCSeconds():0,le=B<y?ie.getUTCMilliseconds()*10+z:0;return S(W,Z,q,re,le)},V.ms2DateTimeLocal=function(_){if(!(_>=a+p&&_<=d-p))return v;var B=Math.floor(L(_+.05,1)*10),F=new Date(Math.round(_-B/10)),z=b("%Y-%m-%d")(F),N=F.getHours(),W=F.getMinutes(),Z=F.getSeconds(),q=F.getUTCMilliseconds()*10+B;return S(z,N,W,Z,q)};function S(_,B,F,z,N){if((B||F||z||N)&&(_+=" "+x(B,2)+":"+x(F,2),(z||N)&&(_+=":"+x(z,2),N))){for(var W=4;N%10===0;)W-=1,N/=10;_+="."+x(N,W)}return _}V.cleanDate=function(_,B,F){if(_===v)return B;if(V.isJSDate(_)||typeof _=="number"&&isFinite(_)){if(w(F))return s.error("JS Dates and milliseconds are incompatible with world calendars",_),B;if(_=V.ms2DateTimeLocal(+_),!_&&B!==void 0)return B}else if(!V.isDateTime(_,F))return s.error("unrecognized date",_),B;return _};var A=/%\d?f/g,i=/%h/g,E={1:"1",2:"1",3:"2",4:"2"};function m(_,B,F,z){_=_.replace(A,function(W){var Z=Math.min(+W.charAt(1)||6,6),q=(B/1e3%1+2).toFixed(Z).substr(2).replace(/0+$/,"")||"0";return q});var N=new Date(Math.floor(B+.05));if(_=_.replace(i,function(){return E[F("%q")(N)]}),w(z))try{_=l.getComponentMethod("calendars","worldCalFmt")(_,B,z)}catch{return"Invalid"}return F(_)(N)}var k=[59,59.9,59.99,59.999,59.9999];function I(_,B){var F=L(_+.05,p),z=x(Math.floor(F/r),2)+":"+x(L(Math.floor(F/t),60),2);if(B!=="M"){P(B)||(B=0);var N=Math.min(L(_/o,60),k[B]),W=(100+N).toFixed(B).substr(1);B>0&&(W=W.replace(/0+$/,"").replace(/[\.]$/,"")),z+=":"+W}return z}V.formatDate=function(_,B,F,z,N,W){if(N=w(N)&&N,!B)if(F==="y")B=W.year;else if(F==="m")B=W.month;else if(F==="d")B=W.dayMonth+`
`+W.year;else return I(_,F)+`
`+m(W.dayMonthYear,_,z,N);return m(B,_,z,N)};var O=3*p;V.incrementMonth=function(_,B,F){F=w(F)&&F;var z=L(_,p);if(_=Math.round(_-z),F)try{var N=Math.round(_/p)+n,W=l.getComponentMethod("calendars","getCal")(F),Z=W.fromJD(N);return B%12?W.add(Z,B,"m"):W.add(Z,B/12,"y"),(Z.toJD()-n)*p+z}catch{s.error("invalid ms "+_+" in calendar "+F)}var q=new Date(_+O);return q.setUTCMonth(q.getUTCMonth()+B)+z-O},V.findExactDates=function(_,B){for(var F=0,z=0,N=0,W=0,Z,q,re=w(B)&&l.getComponentMethod("calendars","getCal")(B),le=0;le<_.length;le++){if(q=_[le],!P(q)){W++;continue}if(!(q%p))if(re)try{Z=re.fromJD(q/p+n),Z.day()===1?Z.month()===1?F++:z++:N++}catch{}else Z=new Date(q),Z.getUTCDate()===1?Z.getUTCMonth()===0?F++:z++:N++}z+=F,N+=z;var ie=_.length-W;return{exactYears:F/ie,exactMonths:z/ie,exactDays:N/ie}}},52200:function(Y,V,e){var b=e(33428),P=e(24248),s=e(52248),L=e(36524);function M(h){var w;if(typeof h=="string"){if(w=document.getElementById(h),w===null)throw new Error("No DOM element with id '"+h+"' exists on the page.");return w}else if(h==null)throw new Error("DOM element provided is null or undefined");return h}function v(h){var w=b.select(h);return w.node()instanceof HTMLElement&&w.size()&&w.classed("js-plotly-plot")}function p(h){var w=h&&h.parentNode;w&&w.removeChild(h)}function r(h,w){t("global",h,w)}function t(h,w,c){var a="plotly.js-style-"+h,d=document.getElementById(a);d||(d=document.createElement("style"),d.setAttribute("id",a),d.appendChild(document.createTextNode("")),document.head.appendChild(d));var x=d.sheet;x.insertRule?x.insertRule(w+"{"+c+"}",0):x.addRule?x.addRule(w,c,0):P.warn("addStyleRule failed")}function o(h){var w="plotly.js-style-"+h,c=document.getElementById(w);c&&p(c)}function n(h){var w=u(h),c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return w.forEach(function(a){var d=l(a);if(d){var x=s.convertCssMatrix(d);c=L.multiply(c,c,x)}}),c}function l(h){var w=window.getComputedStyle(h,null),c=w.getPropertyValue("-webkit-transform")||w.getPropertyValue("-moz-transform")||w.getPropertyValue("-ms-transform")||w.getPropertyValue("-o-transform")||w.getPropertyValue("transform");return c==="none"?null:c.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(a){return+a})}function u(h){for(var w=[];f(h);)w.push(h),h=h.parentNode,typeof ShadowRoot=="function"&&h instanceof ShadowRoot&&(h=h.host);return w}function f(h){return h&&(h instanceof Element||h instanceof HTMLElement)}function g(h,w){return h&&w&&h.top===w.top&&h.left===w.left&&h.right===w.right&&h.bottom===w.bottom}Y.exports={getGraphDiv:M,isPlotDiv:v,removeElement:p,addStyleRule:r,addRelatedStyleRule:t,deleteRelatedStyleRule:o,getFullTransformMatrix:n,getElementTransformMatrix:l,getElementAndAncestors:u,equalDomRects:g}},95924:function(Y,V,e){var b=e(61252).EventEmitter,P={init:function(s){if(s._ev instanceof b)return s;var L=new b,M=new b;return s._ev=L,s._internalEv=M,s.on=L.on.bind(L),s.once=L.once.bind(L),s.removeListener=L.removeListener.bind(L),s.removeAllListeners=L.removeAllListeners.bind(L),s._internalOn=M.on.bind(M),s._internalOnce=M.once.bind(M),s._removeInternalListener=M.removeListener.bind(M),s._removeAllInternalListeners=M.removeAllListeners.bind(M),s.emit=function(v,p){typeof jQuery<"u"&&jQuery(s).trigger(v,p),L.emit(v,p),M.emit(v,p)},s},triggerHandler:function(s,L,M){var v,p;typeof jQuery<"u"&&(v=jQuery(s).triggerHandler(L,M));var r=s._ev;if(!r)return v;var t=r._events[L];if(!t)return v;function o(l){if(l.listener){if(r.removeListener(L,l.listener),!l.fired)return l.fired=!0,l.listener.apply(r,[M])}else return l.apply(r,[M])}t=Array.isArray(t)?t:[t];var n;for(n=0;n<t.length-1;n++)o(t[n]);return p=o(t[n]),v!==void 0?v:p},purge:function(s){return delete s._ev,delete s.on,delete s.once,delete s.removeListener,delete s.removeAllListeners,delete s.emit,delete s._ev,delete s._internalEv,delete s._internalOn,delete s._internalOnce,delete s._removeInternalListener,delete s._removeAllInternalListeners,s}};Y.exports=P},92880:function(Y,V,e){var b=e(63620),P=Array.isArray;function s(M,v){var p,r;for(p=0;p<M.length;p++){if(r=M[p],r!==null&&typeof r=="object")return!1;r!==void 0&&(v[p]=r)}return!0}V.extendFlat=function(){return L(arguments,!1,!1,!1)},V.extendDeep=function(){return L(arguments,!0,!1,!1)},V.extendDeepAll=function(){return L(arguments,!0,!0,!1)},V.extendDeepNoArrays=function(){return L(arguments,!0,!1,!0)};function L(M,v,p,r){var t=M[0],o=M.length,n,l,u,f,g,h,w;if(o===2&&P(t)&&P(M[1])&&t.length===0){if(w=s(M[1],t),w)return t;t.splice(0,t.length)}for(var c=1;c<o;c++){n=M[c];for(l in n)u=t[l],f=n[l],r&&P(f)?t[l]=f:v&&f&&(b(f)||(g=P(f)))?(g?(g=!1,h=u&&P(u)?u:[]):h=u&&b(u)?u:{},t[l]=L([h,f],v,p,r)):(typeof f<"u"||p)&&(t[l]=f)}return t}},68944:function(Y){Y.exports=function(e){for(var b={},P=[],s=0,L=0;L<e.length;L++){var M=e[L];b[M]!==1&&(b[M]=1,P[s++]=M)}return P}},43880:function(Y){Y.exports=function(s){for(var L=b(s)?e:V,M=[],v=0;v<s.length;v++){var p=s[v];L(p)&&M.push(p)}return M};function V(P){return P.visible===!0}function e(P){var s=P[0].trace;return s.visible===!0&&s._length!==0}function b(P){return Array.isArray(P)&&Array.isArray(P[0])&&P[0][0]&&P[0][0].trace}},27144:function(Y,V,e){var b=e(33428),P=e(36116),s=e(40440),L=e(77844),M=e(42428),v=e(35536),p=e(24248),r=e(63620),t=e(22296),o=e(92065),n=Object.keys(P),l={"ISO-3":v,"USA-states":v,"country names":u};function u(x){for(var T=0;T<n.length;T++){var C=n[T],y=new RegExp(P[C]);if(y.test(x.trim().toLowerCase()))return C}return p.log("Unrecognized country name: "+x+"."),!1}function f(x,T,C){if(!T||typeof T!="string")return!1;var y=l[x](T),S,A,i;if(y){if(x==="USA-states")for(S=[],i=0;i<C.length;i++)A=C[i],A.properties&&A.properties.gu&&A.properties.gu==="USA"&&S.push(A);else S=C;for(i=0;i<S.length;i++)if(A=S[i],A.id===y)return A;p.log(["Location with id",y,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function g(x){var T=x.geometry,C=T.coordinates,y=x.id,S=[],A,i,E,m;function k(I){for(var O=0;O<I.length-1;O++)if(I[O][0]>0&&I[O+1][0]<0)return O;return null}switch(y==="RUS"||y==="FJI"?A=function(I){var O;if(k(I)===null)O=I;else for(O=new Array(I.length),m=0;m<I.length;m++)O[m]=[I[m][0]<0?I[m][0]+360:I[m][0],I[m][1]];S.push(o.tester(O))}:y==="ATA"?A=function(I){var O=k(I);if(O===null)return S.push(o.tester(I));var _=new Array(I.length+1),B=0;for(m=0;m<I.length;m++)m>O?_[B++]=[I[m][0]+360,I[m][1]]:m===O?(_[B++]=I[m],_[B++]=[I[m][0],-90]):_[B++]=I[m];var F=o.tester(_);F.pts.pop(),S.push(F)}:A=function(I){S.push(o.tester(I))},T.type){case"MultiPolygon":for(i=0;i<C.length;i++)for(E=0;E<C[i].length;E++)A(C[i][E]);break;case"Polygon":for(i=0;i<C.length;i++)A(C[i]);break}return S}function h(x){var T=x.geojson,C=window.PlotlyGeoAssets||{},y=typeof T=="string"?C[T]:T;return r(y)?y:(p.error("Oops ... something went wrong when fetching "+T),!1)}function w(x){var T=x[0].trace,C=h(T);if(!C)return!1;var y={},S=[],A;for(A=0;A<T._length;A++){var i=x[A];(i.loc||i.loc===0)&&(y[i.loc]=i)}function E(I){var O=t(I,T.featureidkey||"id").get(),_=y[O];if(_){var B=I.geometry;if(B.type==="Polygon"||B.type==="MultiPolygon"){var F={type:"Feature",id:O,geometry:B,properties:{}};F.properties.ct=c(F),_.fIn=I,_.fOut=F,S.push(F)}else p.log(["Location",_.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete y[O]}switch(C.type){case"FeatureCollection":var m=C.features;for(A=0;A<m.length;A++)E(m[A]);break;case"Feature":E(C);break;default:return p.warn(["Invalid GeoJSON type",(C.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var k in y)p.log(["Location *"+k+"*","does not have a matching feature with id-key","*"+T.featureidkey+"*."].join(" "));return S}function c(x){var T=x.geometry,C;if(T.type==="MultiPolygon")for(var y=T.coordinates,S=0,A=0;A<y.length;A++){var i={type:"Polygon",coordinates:y[A]},E=s.default(i);E>S&&(S=E,C=i)}else C=T;return L.default(C).geometry.coordinates}function a(x){var T=window.PlotlyGeoAssets||{},C=[];function y(m){return new Promise(function(k,I){b.json(m,function(O,_){if(O){delete T[m];var B=O.status===404?'GeoJSON at URL "'+m+'" does not exist.':"Unexpected error while fetching from "+m;return I(new Error(B))}return T[m]=_,k(_)})})}function S(m){return new Promise(function(k,I){var O=0,_=setInterval(function(){if(T[m]&&T[m]!=="pending")return clearInterval(_),k(T[m]);if(O>100)return clearInterval(_),I("Unexpected error while fetching from "+m);O++},50)})}for(var A=0;A<x.length;A++){var i=x[A][0].trace,E=i.geojson;typeof E=="string"&&(T[E]?T[E]==="pending"&&C.push(S(E)):(T[E]="pending",C.push(y(E))))}return C}function d(x){return M.default(x)}Y.exports={locationToFeature:f,feature2polygons:g,getTraceGeojson:h,extractTraceFeature:w,fetchTraceGeoData:a,computeBbox:d}},44808:function(Y,V,e){var b=e(39032).BADNUM;V.calcTraceToLineCoords=function(P){for(var s=P[0].trace,L=s.connectgaps,M=[],v=[],p=0;p<P.length;p++){var r=P[p],t=r.lonlat;t[0]!==b?v.push(t):!L&&v.length>0&&(M.push(v),v=[])}return v.length>0&&M.push(v),M},V.makeLine=function(P){return P.length===1?{type:"LineString",coordinates:P[0]}:{type:"MultiLineString",coordinates:P}},V.makePolygon=function(P){if(P.length===1)return{type:"Polygon",coordinates:P};for(var s=new Array(P.length),L=0;L<P.length;L++)s[L]=[P[L]];return{type:"MultiPolygon",coordinates:s}},V.makeBlank=function(){return{type:"Point",coordinates:[]}}},92348:function(Y,V,e){var b=e(20435).mod;V.segmentsIntersect=P;function P(p,r,t,o,n,l,u,f){var g=t-p,h=n-p,w=u-n,c=o-r,a=l-r,d=f-l,x=g*d-w*c;if(x===0)return null;var T=(h*d-w*a)/x,C=(h*c-g*a)/x;return C<0||C>1||T<0||T>1?null:{x:p+g*T,y:r+c*T}}V.segmentDistance=function(r,t,o,n,l,u,f,g){if(P(r,t,o,n,l,u,f,g))return 0;var h=o-r,w=n-t,c=f-l,a=g-u,d=h*h+w*w,x=c*c+a*a,T=Math.min(s(h,w,d,l-r,u-t),s(h,w,d,f-r,g-t),s(c,a,x,r-l,t-u),s(c,a,x,o-l,n-u));return Math.sqrt(T)};function s(p,r,t,o,n){var l=o*p+n*r;if(l<0)return o*o+n*n;if(l>t){var u=o-p,f=n-r;return u*u+f*f}else{var g=o*r-n*p;return g*g/t}}var L,M,v;V.getTextLocation=function(r,t,o,n){if((r!==M||n!==v)&&(L={},M=r,v=n),L[o])return L[o];var l=r.getPointAtLength(b(o-n/2,t)),u=r.getPointAtLength(b(o+n/2,t)),f=Math.atan((u.y-l.y)/(u.x-l.x)),g=r.getPointAtLength(b(o,t)),h=(g.x*4+l.x+u.x)/6,w=(g.y*4+l.y+u.y)/6,c={x:h,y:w,theta:f};return L[o]=c,c},V.clearLocationCache=function(){M=null},V.getVisibleSegment=function(r,t,o){var n=t.left,l=t.right,u=t.top,f=t.bottom,g=0,h=r.getTotalLength(),w=h,c,a;function d(T){var C=r.getPointAtLength(T);T===0?c=C:T===h&&(a=C);var y=C.x<n?n-C.x:C.x>l?C.x-l:0,S=C.y<u?u-C.y:C.y>f?C.y-f:0;return Math.sqrt(y*y+S*S)}for(var x=d(g);x;){if(g+=x+o,g>w)return;x=d(g)}for(x=d(w);x;){if(w-=x+o,g>w)return;x=d(w)}return{min:g,max:w,len:w-g,total:h,isClosed:g===0&&w===h&&Math.abs(c.x-a.x)<.1&&Math.abs(c.y-a.y)<.1}},V.findPointOnPath=function(r,t,o,n){n=n||{};for(var l=n.pathLength||r.getTotalLength(),u=n.tolerance||.001,f=n.iterationLimit||30,g=r.getPointAtLength(0)[o]>r.getPointAtLength(l)[o]?-1:1,h=0,w=0,c=l,a,d,x;h<f;){if(a=(w+c)/2,d=r.getPointAtLength(a),x=d[o]-t,Math.abs(x)<u)return d;g*x>0?c=a:w=a,h++}return d}},33040:function(Y,V,e){var b=e(38248),P=e(49760),s=e(72160),L=e(8932),M=e(22548).defaultLine,v=e(38116).isArrayOrTypedArray,p=s(M),r=1;function t(f,g){var h=f;return h[3]*=g,h}function o(f){if(b(f))return p;var g=s(f);return g.length?g:p}function n(f){return b(f)?f:r}function l(f,g,h){var w=f.color;w&&w._inputArray&&(w=w._inputArray);var c=v(w),a=v(g),d=L.extractOpts(f),x=[],T,C,y,S,A;if(d.colorscale!==void 0?T=L.makeColorScaleFuncFromTrace(f):T=o,c?C=function(E,m){return E[m]===void 0?p:s(T(E[m]))}:C=o,a?y=function(E,m){return E[m]===void 0?r:n(E[m])}:y=n,c||a)for(var i=0;i<h;i++)S=C(w,i),A=y(g,i),x[i]=t(S,A);else x=t(s(w),g);return x}function u(f){var g=L.extractOpts(f),h=g.colorscale;return g.reversescale&&(h=L.flipScale(g.colorscale)),h.map(function(w){var c=w[0],a=P(w[1]),d=a.toRgb();return{index:c,rgb:[d.r,d.g,d.b,d.a]}})}Y.exports={formatColor:l,parseColorScale:u}},71688:function(Y,V,e){var b=e(35536);function P(s){return[s]}Y.exports={keyFun:function(s){return s.key},repeat:P,descend:b,wrap:P,unwrap:function(s){return s[0]}}},35536:function(Y){Y.exports=function(e){return e}},1396:function(Y){Y.exports=function(e,b){if(!b)return e;var P=1/Math.abs(b),s=P>1?(P*e+P*b)/P:e+b,L=String(s).length;if(L>16){var M=String(b).length,v=String(e).length;if(L>=v+M){var p=parseFloat(s).toPrecision(12);p.indexOf("e+")===-1&&(s=+p)}}return s}},3400:function(Y,V,e){var b=e(33428),P=e(94336).E9,s=e(57624).E9,L=e(38248),M=e(39032),v=M.FP_SAFE,p=-v,r=M.BADNUM,t=Y.exports={};t.adjustFormat=function(se){return!se||/^\d[.]\df/.test(se)||/[.]\d%/.test(se)?se:se==="0.f"?"~f":/^\d%/.test(se)?"~%":/^\ds/.test(se)?"~s":!/^[~,.0$]/.test(se)&&/[&fps]/.test(se)?"~"+se:se};var o={};t.warnBadFormat=function(Q){var se=String(Q);o[se]||(o[se]=1,t.warn('encountered bad format: "'+se+'"'))},t.noFormat=function(Q){return String(Q)},t.numberFormat=function(Q){var se;try{se=s(t.adjustFormat(Q))}catch{return t.warnBadFormat(Q),t.noFormat}return se},t.nestedProperty=e(22296),t.keyedContainer=e(37804),t.relativeAttr=e(23193),t.isPlainObject=e(63620),t.toLogRange=e(36896),t.relinkPrivateKeys=e(51528);var n=e(38116);t.isArrayBuffer=n.isArrayBuffer,t.isTypedArray=n.isTypedArray,t.isArrayOrTypedArray=n.isArrayOrTypedArray,t.isArray1D=n.isArray1D,t.ensureArray=n.ensureArray,t.concat=n.concat,t.maxRowLength=n.maxRowLength,t.minRowLength=n.minRowLength;var l=e(20435);t.mod=l.mod,t.modHalf=l.modHalf;var u=e(63064);t.valObjectMeta=u.valObjectMeta,t.coerce=u.coerce,t.coerce2=u.coerce2,t.coerceFont=u.coerceFont,t.coercePattern=u.coercePattern,t.coerceHoverinfo=u.coerceHoverinfo,t.coerceSelectionMarkerOpacity=u.coerceSelectionMarkerOpacity,t.validate=u.validate;var f=e(67555);t.dateTime2ms=f.dateTime2ms,t.isDateTime=f.isDateTime,t.ms2DateTime=f.ms2DateTime,t.ms2DateTimeLocal=f.ms2DateTimeLocal,t.cleanDate=f.cleanDate,t.isJSDate=f.isJSDate,t.formatDate=f.formatDate,t.incrementMonth=f.incrementMonth,t.dateTick0=f.dateTick0,t.dfltRange=f.dfltRange,t.findExactDates=f.findExactDates,t.MIN_MS=f.MIN_MS,t.MAX_MS=f.MAX_MS;var g=e(14952);t.findBin=g.findBin,t.sorterAsc=g.sorterAsc,t.sorterDes=g.sorterDes,t.distinctVals=g.distinctVals,t.roundUp=g.roundUp,t.sort=g.sort,t.findIndexOfMin=g.findIndexOfMin,t.sortObjectKeys=e(95376);var h=e(63084);t.aggNums=h.aggNums,t.len=h.len,t.mean=h.mean,t.geometricMean=h.geometricMean,t.median=h.median,t.midRange=h.midRange,t.variance=h.variance,t.stdev=h.stdev,t.interp=h.interp;var w=e(52248);t.init2dArray=w.init2dArray,t.transposeRagged=w.transposeRagged,t.dot=w.dot,t.translationMatrix=w.translationMatrix,t.rotationMatrix=w.rotationMatrix,t.rotationXYMatrix=w.rotationXYMatrix,t.apply3DTransform=w.apply3DTransform,t.apply2DTransform=w.apply2DTransform,t.apply2DTransform2=w.apply2DTransform2,t.convertCssMatrix=w.convertCssMatrix,t.inverseTransformMatrix=w.inverseTransformMatrix;var c=e(11864);t.deg2rad=c.deg2rad,t.rad2deg=c.rad2deg,t.angleDelta=c.angleDelta,t.angleDist=c.angleDist,t.isFullCircle=c.isFullCircle,t.isAngleInsideSector=c.isAngleInsideSector,t.isPtInsideSector=c.isPtInsideSector,t.pathArc=c.pathArc,t.pathSector=c.pathSector,t.pathAnnulus=c.pathAnnulus;var a=e(98308);t.isLeftAnchor=a.isLeftAnchor,t.isCenterAnchor=a.isCenterAnchor,t.isRightAnchor=a.isRightAnchor,t.isTopAnchor=a.isTopAnchor,t.isMiddleAnchor=a.isMiddleAnchor,t.isBottomAnchor=a.isBottomAnchor;var d=e(92348);t.segmentsIntersect=d.segmentsIntersect,t.segmentDistance=d.segmentDistance,t.getTextLocation=d.getTextLocation,t.clearLocationCache=d.clearLocationCache,t.getVisibleSegment=d.getVisibleSegment,t.findPointOnPath=d.findPointOnPath;var x=e(92880);t.extendFlat=x.extendFlat,t.extendDeep=x.extendDeep,t.extendDeepAll=x.extendDeepAll,t.extendDeepNoArrays=x.extendDeepNoArrays;var T=e(24248);t.log=T.log,t.warn=T.warn,t.error=T.error;var C=e(53756);t.counterRegex=C.counter;var y=e(91200);t.throttle=y.throttle,t.throttleDone=y.done,t.clearThrottle=y.clear;var S=e(52200);t.getGraphDiv=S.getGraphDiv,t.isPlotDiv=S.isPlotDiv,t.removeElement=S.removeElement,t.addStyleRule=S.addStyleRule,t.addRelatedStyleRule=S.addRelatedStyleRule,t.deleteRelatedStyleRule=S.deleteRelatedStyleRule,t.getFullTransformMatrix=S.getFullTransformMatrix,t.getElementTransformMatrix=S.getElementTransformMatrix,t.getElementAndAncestors=S.getElementAndAncestors,t.equalDomRects=S.equalDomRects,t.clearResponsive=e(75352),t.preserveDrawingBuffer=e(34296),t.makeTraceGroups=e(30988),t._=e(98356),t.notifier=e(41792),t.filterUnique=e(68944),t.filterVisible=e(43880),t.pushUnique=e(52416),t.increment=e(1396),t.cleanNumber=e(54037),t.ensureNumber=function(se){return L(se)?(se=Number(se),se>v||se<p?r:se):r},t.isIndex=function(Q,se){return se!==void 0&&Q>=se?!1:L(Q)&&Q>=0&&Q%1===0},t.noop=e(16628),t.identity=e(35536),t.repeat=function(Q,se){for(var J=new Array(se),G=0;G<se;G++)J[G]=Q;return J},t.swapAttrs=function(Q,se,J,G){J||(J="x"),G||(G="y");for(var oe=0;oe<se.length;oe++){var te=se[oe],fe=t.nestedProperty(Q,te.replace("?",J)),ge=t.nestedProperty(Q,te.replace("?",G)),we=fe.get();fe.set(ge.get()),ge.set(we)}},t.raiseToTop=function(se){se.parentNode.appendChild(se)},t.cancelTransition=function(Q){return Q.transition().duration(0)},t.constrain=function(Q,se,J){return se>J?Math.max(J,Math.min(se,Q)):Math.max(se,Math.min(J,Q))},t.bBoxIntersect=function(Q,se,J){return J=J||0,Q.left<=se.right+J&&se.left<=Q.right+J&&Q.top<=se.bottom+J&&se.top<=Q.bottom+J},t.simpleMap=function(Q,se,J,G,oe){for(var te=Q.length,fe=new Array(te),ge=0;ge<te;ge++)fe[ge]=se(Q[ge],J,G,oe);return fe},t.randstr=function Q(se,J,G,oe){if(G||(G=16),J===void 0&&(J=24),J<=0)return"0";var te=Math.log(Math.pow(2,J))/Math.log(G),fe="",ge,we,xe;for(ge=2;te===1/0;ge*=2)te=Math.log(Math.pow(2,J/ge))/Math.log(G)*ge;var Ce=te-Math.floor(te);for(ge=0;ge<Math.floor(te);ge++)xe=Math.floor(Math.random()*G).toString(G),fe=xe+fe;Ce&&(we=Math.pow(G,Ce),xe=Math.floor(Math.random()*we).toString(G),fe=xe+fe);var De=parseInt(fe,G);return se&&se[fe]||De!==1/0&&De>=Math.pow(2,J)?oe>10?(t.warn("randstr failed uniqueness"),fe):Q(se,J,G,(oe||0)+1):fe},t.OptionControl=function(Q,se){Q||(Q={}),se||(se="opt");var J={};return J.optionList=[],J._newoption=function(G){G[se]=Q,J[G.name]=G,J.optionList.push(G)},J["_"+se]=Q,J},t.smooth=function(Q,se){if(se=Math.round(se)||0,se<2)return Q;var J=Q.length,G=2*J,oe=2*se-1,te=new Array(oe),fe=new Array(J),ge,we,xe,Ce;for(ge=0;ge<oe;ge++)te[ge]=(1-Math.cos(Math.PI*(ge+1)/se))/(2*se);for(ge=0;ge<J;ge++){for(Ce=0,we=0;we<oe;we++)xe=ge+we+1-se,xe<-J?xe-=G*Math.round(xe/G):xe>=G&&(xe-=G*Math.floor(xe/G)),xe<0?xe=-1-xe:xe>=J&&(xe=G-1-xe),Ce+=Q[xe]*te[we];fe[ge]=Ce}return fe},t.syncOrAsync=function(Q,se,J){var G,oe;function te(){return t.syncOrAsync(Q,se,J)}for(;Q.length;)if(oe=Q.splice(0,1)[0],G=oe(se),G&&G.then)return G.then(te);return J&&J(se)},t.stripTrailingSlash=function(Q){return Q.substr(-1)==="/"?Q.substr(0,Q.length-1):Q},t.noneOrAll=function(Q,se,J){if(Q){var G=!1,oe=!0,te,fe;for(te=0;te<J.length;te++)fe=Q[J[te]],fe!=null?G=!0:oe=!1;if(G&&!oe)for(te=0;te<J.length;te++)Q[J[te]]=se[J[te]]}},t.mergeArray=function(Q,se,J,G){var oe=typeof G=="function";if(t.isArrayOrTypedArray(Q))for(var te=Math.min(Q.length,se.length),fe=0;fe<te;fe++){var ge=Q[fe];se[fe][J]=oe?G(ge):ge}},t.mergeArrayCastPositive=function(Q,se,J){return t.mergeArray(Q,se,J,function(G){var oe=+G;return isFinite(oe)&&oe>0?oe:0})},t.fillArray=function(Q,se,J,G){if(G=G||t.identity,t.isArrayOrTypedArray(Q))for(var oe=0;oe<se.length;oe++)se[oe][J]=G(Q[oe])},t.castOption=function(Q,se,J,G){G=G||t.identity;var oe=t.nestedProperty(Q,J).get();return t.isArrayOrTypedArray(oe)?Array.isArray(se)&&t.isArrayOrTypedArray(oe[se[0]])?G(oe[se[0]][se[1]]):G(oe[se]):oe},t.extractOption=function(Q,se,J,G){if(J in Q)return Q[J];var oe=t.nestedProperty(se,G).get();if(!Array.isArray(oe))return oe};function A(Q){var se={};for(var J in Q)for(var G=Q[J],oe=0;oe<G.length;oe++)se[G[oe]]=+J;return se}t.tagSelected=function(Q,se,J){var G=se.selectedpoints,oe=se._indexToPoints,te;oe&&(te=A(oe));function fe(De){return De!==void 0&&De<Q.length}for(var ge=0;ge<G.length;ge++){var we=G[ge];if(t.isIndex(we)||t.isArrayOrTypedArray(we)&&t.isIndex(we[0])&&t.isIndex(we[1])){var xe=te?te[we]:we,Ce=J?J[xe]:xe;fe(Ce)&&(Q[Ce].selected=1)}}},t.selIndices2selPoints=function(Q){var se=Q.selectedpoints,J=Q._indexToPoints;if(J){for(var G=A(J),oe=[],te=0;te<se.length;te++){var fe=se[te];if(t.isIndex(fe)){var ge=G[fe];t.isIndex(ge)&&oe.push(ge)}}return oe}else return se},t.getTargetArray=function(Q,se){var J=se.target;if(typeof J=="string"&&J){var G=t.nestedProperty(Q,J).get();return t.isArrayOrTypedArray(G)?G:!1}else if(t.isArrayOrTypedArray(J))return J;return!1};function i(Q,se,J){var G={};typeof se!="object"&&(se={});var oe=J==="pieLike"?-1:3,te=Object.keys(Q),fe,ge,we;for(fe=0;fe<te.length;fe++)ge=te[fe],we=Q[ge],!(ge.charAt(0)==="_"||typeof we=="function")&&(ge==="module"?G[ge]=we:Array.isArray(we)?ge==="colorscale"||oe===-1?G[ge]=we.slice():G[ge]=we.slice(0,oe):t.isTypedArray(we)?oe===-1?G[ge]=we.subarray():G[ge]=we.subarray(0,oe):we&&typeof we=="object"?G[ge]=i(Q[ge],se[ge],J):G[ge]=we);for(te=Object.keys(se),fe=0;fe<te.length;fe++)ge=te[fe],we=se[ge],(typeof we!="object"||!(ge in G)||typeof G[ge]!="object")&&(G[ge]=we);return G}t.minExtend=i,t.titleCase=function(Q){return Q.charAt(0).toUpperCase()+Q.substr(1)},t.containsAny=function(Q,se){for(var J=0;J<se.length;J++)if(Q.indexOf(se[J])!==-1)return!0;return!1},t.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var E=/Version\/[\d\.]+.*Safari/;t.isSafari=function(){return E.test(window.navigator.userAgent)};var m=/iPad|iPhone|iPod/;t.isIOS=function(){return m.test(window.navigator.userAgent)};var k=/Firefox\/(\d+)\.\d+/;t.getFirefoxVersion=function(){var Q=k.exec(window.navigator.userAgent);if(Q&&Q.length===2){var se=parseInt(Q[1]);if(!isNaN(se))return se}return null},t.isD3Selection=function(Q){return Q instanceof b.selection},t.ensureSingle=function(Q,se,J,G){var oe=Q.select(se+(J?"."+J:""));if(oe.size())return oe;var te=Q.append(se);return J&&te.classed(J,!0),G&&te.call(G),te},t.ensureSingleById=function(Q,se,J,G){var oe=Q.select(se+"#"+J);if(oe.size())return oe;var te=Q.append(se).attr("id",J);return G&&te.call(G),te},t.objectFromPath=function(Q,se){for(var J=Q.split("."),G,oe=G={},te=0;te<J.length;te++){var fe=J[te],ge=null,we=J[te].match(/(.*)\[([0-9]+)\]/);we?(fe=we[1],ge=we[2],G=G[fe]=[],te===J.length-1?G[ge]=se:G[ge]={},G=G[ge]):(te===J.length-1?G[fe]=se:G[fe]={},G=G[fe])}return oe};var I=/^([^\[\.]+)\.(.+)?/,O=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function _(Q){return Q.slice(0,2)==="__"}t.expandObjectPaths=function(Q){var se,J,G,oe,te,fe,ge;if(typeof Q=="object"&&!Array.isArray(Q)){for(J in Q)if(Q.hasOwnProperty(J))if(se=J.match(I)){if(oe=Q[J],G=se[1],_(G))continue;delete Q[J],Q[G]=t.extendDeepNoArrays(Q[G]||{},t.objectFromPath(J,t.expandObjectPaths(oe))[G])}else if(se=J.match(O)){if(oe=Q[J],G=se[1],_(G))continue;if(te=parseInt(se[2]),delete Q[J],Q[G]=Q[G]||[],se[3]===".")ge=se[4],fe=Q[G][te]=Q[G][te]||{},t.extendDeepNoArrays(fe,t.objectFromPath(ge,t.expandObjectPaths(oe)));else{if(_(G))continue;Q[G][te]=t.expandObjectPaths(oe)}}else{if(_(J))continue;Q[J]=t.expandObjectPaths(Q[J])}}return Q},t.numSeparate=function(Q,se,J){if(J||(J=!1),typeof se!="string"||se.length===0)throw new Error("Separator string required for formatting!");typeof Q=="number"&&(Q=String(Q));var G=/(\d+)(\d{3})/,oe=se.charAt(0),te=se.charAt(1),fe=Q.split("."),ge=fe[0],we=fe.length>1?oe+fe[1]:"";if(te&&(fe.length>1||ge.length>4||J))for(;G.test(ge);)ge=ge.replace(G,"$1"+te+"$2");return ge+we},t.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var B=/^\w*$/;t.templateString=function(Q,se){var J={};return Q.replace(t.TEMPLATE_STRING_REGEX,function(G,oe){var te;return B.test(oe)?te=se[oe]:(J[oe]=J[oe]||t.nestedProperty(se,oe).get,te=J[oe]()),t.isValidTextValue(te)?te:""})};var F={max:10,count:0,name:"hovertemplate"};t.hovertemplateString=function(){return re.apply(F,arguments)};var z={max:10,count:0,name:"texttemplate"};t.texttemplateString=function(){return re.apply(z,arguments)};var N=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function W(Q){var se=Q.match(N);return se?{key:se[1],op:se[2],number:Number(se[3])}:{key:Q,op:null,number:null}}var Z={max:10,count:0,name:"texttemplate",parseMultDiv:!0};t.texttemplateStringForShapes=function(){return re.apply(Z,arguments)};var q=/^[:|\|]/;function re(Q,se,J){var G=this,oe=arguments;se||(se={});var te={};return Q.replace(t.TEMPLATE_STRING_REGEX,function(fe,ge,we){var xe=ge==="xother"||ge==="yother",Ce=ge==="_xother"||ge==="_yother",De=ge==="_xother_"||ge==="_yother_",Oe=ge==="xother_"||ge==="yother_",Te=xe||Ce||Oe||De,Re=ge;(Ce||De)&&(Re=Re.substring(1)),(Oe||De)&&(Re=Re.substring(0,Re.length-1));var Me=null,ke=null;if(G.parseMultDiv){var Se=W(Re);Re=Se.key,Me=Se.op,ke=Se.number}var He;if(Te){if(He=se[Re],He===void 0)return""}else{var je,at;for(at=3;at<oe.length;at++)if(je=oe[at],!!je){if(je.hasOwnProperty(Re)){He=je[Re];break}if(B.test(Re)||(He=t.nestedProperty(je,Re).get(),He=te[Re]||t.nestedProperty(je,Re).get(),He&&(te[Re]=He)),He!==void 0)break}}if(He!==void 0&&(Me==="*"&&(He*=ke),Me==="/"&&(He/=ke)),He===void 0&&G)return G.count<G.max&&(t.warn("Variable '"+Re+"' in "+G.name+" could not be found!"),He=fe),G.count===G.max&&t.warn("Too many "+G.name+" warnings - additional warnings will be suppressed"),G.count++,fe;if(we){var Ze;if(we[0]===":"&&(Ze=J?J.numberFormat:t.numberFormat,He!==""&&(He=Ze(we.replace(q,""))(He))),we[0]==="|"){Ze=J?J.timeFormat:P;var $e=t.dateTime2ms(He);He=t.formatDate($e,we.replace(q,""),!1,Ze)}}else{var ut=Re+"Label";se.hasOwnProperty(ut)&&(He=se[ut])}return Te&&(He="("+He+")",(Ce||De)&&(He=" "+He),(Oe||De)&&(He=He+" ")),He})}var le=48,ie=57;t.subplotSort=function(Q,se){for(var J=Math.min(Q.length,se.length)+1,G=0,oe=0,te=0;te<J;te++){var fe=Q.charCodeAt(te)||0,ge=se.charCodeAt(te)||0,we=fe>=le&&fe<=ie,xe=ge>=le&&ge<=ie;if(we&&(G=10*G+fe-le),xe&&(oe=10*oe+ge-le),!we||!xe){if(G!==oe)return G-oe;if(fe!==ge)return fe-ge}}return oe-G};var K=2e9;t.seedPseudoRandom=function(){K=2e9},t.pseudoRandom=function(){var Q=K;return K=(69069*K+1)%4294967296,Math.abs(K-Q)<429496729?t.pseudoRandom():K/4294967296},t.fillText=function(Q,se,J){var G=Array.isArray(J)?function(fe){J.push(fe)}:function(fe){J.text=fe},oe=t.extractOption(Q,se,"htx","hovertext");if(t.isValidTextValue(oe))return G(oe);var te=t.extractOption(Q,se,"tx","text");if(t.isValidTextValue(te))return G(te)},t.isValidTextValue=function(Q){return Q||Q===0},t.formatPercent=function(Q,se){se=se||0;for(var J=(Math.round(100*Q*Math.pow(10,se))*Math.pow(.1,se)).toFixed(se)+"%",G=0;G<se;G++)J.indexOf(".")!==-1&&(J=J.replace("0%","%"),J=J.replace(".%","%"));return J},t.isHidden=function(Q){var se=window.getComputedStyle(Q).display;return!se||se==="none"},t.strTranslate=function(Q,se){return Q||se?"translate("+Q+","+se+")":""},t.strRotate=function(Q){return Q?"rotate("+Q+")":""},t.strScale=function(Q){return Q!==1?"scale("+Q+")":""},t.getTextTransform=function(Q){var se=Q.noCenter,J=Q.textX,G=Q.textY,oe=Q.targetX,te=Q.targetY,fe=Q.anchorX||0,ge=Q.anchorY||0,we=Q.rotate,xe=Q.scale;return xe?xe>1&&(xe=1):xe=0,t.strTranslate(oe-xe*(J+fe),te-xe*(G+ge))+t.strScale(xe)+(we?"rotate("+we+(se?"":" "+J+" "+G)+")":"")},t.setTransormAndDisplay=function(Q,se){Q.attr("transform",t.getTextTransform(se)),Q.style("display",se.scale?null:"none")},t.ensureUniformFontSize=function(Q,se){var J=t.extendFlat({},se);return J.size=Math.max(se.size,Q._fullLayout.uniformtext.minsize||0),J},t.join2=function(Q,se,J){var G=Q.length;return G>1?Q.slice(0,-1).join(se)+J+Q[G-1]:Q.join(se)},t.bigFont=function(Q){return Math.round(1.2*Q)};var $=t.getFirefoxVersion(),X=$!==null&&$<86;t.getPositionFromD3Event=function(){return X?[b.event.layerX,b.event.layerY]:[b.event.offsetX,b.event.offsetY]}},63620:function(Y){Y.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},37804:function(Y,V,e){var b=e(22296),P=/^\w*$/,s=0,L=1,M=2,v=3,p=4;Y.exports=function(t,o,n,l){n=n||"name",l=l||"value";var u,f,g,h={};o&&o.length?(g=b(t,o),f=g.get()):f=t,o=o||"";var w={};if(f)for(u=0;u<f.length;u++)w[f[u][n]]=u;var c=P.test(l),a={set:function(d,x){var T=x===null?p:s;if(!f){if(!g||T===p)return;f=[],g.set(f)}var C=w[d];if(C===void 0){if(T===p)return;T=T|v,C=f.length,w[d]=C}else x!==(c?f[C][l]:b(f[C],l).get())&&(T=T|M);var y=f[C]=f[C]||{};return y[n]=d,c?y[l]=x:b(y,l).set(x),x!==null&&(T=T&~p),h[C]=h[C]|T,a},get:function(d){if(f){var x=w[d];if(x!==void 0)return c?f[x][l]:b(f[x],l).get()}},rename:function(d,x){var T=w[d];return T===void 0||(h[T]=h[T]|L,w[x]=T,delete w[d],f[T][n]=x),a},remove:function(d){var x=w[d];if(x===void 0)return a;var T=f[x];if(Object.keys(T).length>2)return h[x]=h[x]|M,a.set(d,null);if(c){for(u=x;u<f.length;u++)h[u]=h[u]|v;for(u=x;u<f.length;u++)w[f[u][n]]--;f.splice(x,1),delete w[d]}else b(T,l).set(null),h[x]=h[x]|M|p;return a},constructUpdate:function(){for(var d,x,T={},C=Object.keys(h),y=0;y<C.length;y++)x=C[y],d=o+"["+x+"]",f[x]?(h[x]&L&&(T[d+"."+n]=f[x][n]),h[x]&M&&(c?T[d+"."+l]=h[x]&p?null:f[x][l]:T[d+"."+l]=h[x]&p?null:b(f[x],l).get())):T[d]=null;return T}};return a}},98356:function(Y,V,e){var b=e(24040);Y.exports=function(s,L){for(var M=s._context.locale,v=0;v<2;v++){for(var p=s._context.locales,r=0;r<2;r++){var t=(p[M]||{}).dictionary;if(t){var o=t[L];if(o)return o}p=b.localeRegistry}var n=M.split("-")[0];if(n===M)break;M=n}return L}},24248:function(Y,V,e){var b=e(20556).dfltConfig,P=e(41792),s=Y.exports={};s.log=function(){var L;if(b.logging>1){var M=["LOG:"];for(L=0;L<arguments.length;L++)M.push(arguments[L]);console.trace.apply(console,M)}if(b.notifyOnLogging>1){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);P(v.join("<br>"),"long")}},s.warn=function(){var L;if(b.logging>0){var M=["WARN:"];for(L=0;L<arguments.length;L++)M.push(arguments[L]);console.trace.apply(console,M)}if(b.notifyOnLogging>0){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);P(v.join("<br>"),"stick")}},s.error=function(){var L;if(b.logging>0){var M=["ERROR:"];for(L=0;L<arguments.length;L++)M.push(arguments[L]);console.error.apply(console,M)}if(b.notifyOnLogging>0){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);P(v.join("<br>"),"stick")}}},30988:function(Y,V,e){var b=e(33428);Y.exports=function(s,L,M){var v=s.selectAll("g."+M.replace(/\s/g,".")).data(L,function(r){return r[0].trace.uid});v.exit().remove(),v.enter().append("g").attr("class",M),v.order();var p=s.classed("rangeplot")?"nodeRangePlot3":"node3";return v.each(function(r){r[0][p]=b.select(this)}),v}},52248:function(Y,V,e){var b=e(36524);V.init2dArray=function(P,s){for(var L=new Array(P),M=0;M<P;M++)L[M]=new Array(s);return L},V.transposeRagged=function(P){var s=0,L=P.length,M,v;for(M=0;M<L;M++)s=Math.max(s,P[M].length);var p=new Array(s);for(M=0;M<s;M++)for(p[M]=new Array(L),v=0;v<L;v++)p[M][v]=P[v][M];return p},V.dot=function(P,s){if(!(P.length&&s.length)||P.length!==s.length)return null;var L=P.length,M,v;if(P[0].length)for(M=new Array(L),v=0;v<L;v++)M[v]=V.dot(P[v],s);else if(s[0].length){var p=V.transposeRagged(s);for(M=new Array(p.length),v=0;v<p.length;v++)M[v]=V.dot(P,p[v])}else for(M=0,v=0;v<L;v++)M+=P[v]*s[v];return M},V.translationMatrix=function(P,s){return[[1,0,P],[0,1,s],[0,0,1]]},V.rotationMatrix=function(P){var s=P*Math.PI/180;return[[Math.cos(s),-Math.sin(s),0],[Math.sin(s),Math.cos(s),0],[0,0,1]]},V.rotationXYMatrix=function(P,s,L){return V.dot(V.dot(V.translationMatrix(s,L),V.rotationMatrix(P)),V.translationMatrix(-s,-L))},V.apply3DTransform=function(P){return function(){var s=arguments,L=arguments.length===1?s[0]:[s[0],s[1],s[2]||0];return V.dot(P,[L[0],L[1],L[2],1]).slice(0,3)}},V.apply2DTransform=function(P){return function(){var s=arguments;s.length===3&&(s=s[0]);var L=arguments.length===1?s[0]:[s[0],s[1]];return V.dot(P,[L[0],L[1],1]).slice(0,2)}},V.apply2DTransform2=function(P){var s=V.apply2DTransform(P);return function(L){return s(L.slice(0,2)).concat(s(L.slice(2,4)))}},V.convertCssMatrix=function(P){if(P){var s=P.length;if(s===16)return P;if(s===6)return[P[0],P[1],0,0,P[2],P[3],0,0,0,0,1,0,P[4],P[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},V.inverseTransformMatrix=function(P){var s=[];return b.invert(s,P),[[s[0],s[1],s[2],s[3]],[s[4],s[5],s[6],s[7]],[s[8],s[9],s[10],s[11]],[s[12],s[13],s[14],s[15]]]}},20435:function(Y){function V(b,P){var s=b%P;return s<0?s+P:s}function e(b,P){return Math.abs(b)>P/2?b-Math.round(b/P)*P:b}Y.exports={mod:V,modHalf:e}},22296:function(Y,V,e){var b=e(38248),P=e(38116).isArrayOrTypedArray;Y.exports=function(l,u){if(b(u))u=String(u);else if(typeof u!="string"||u.substr(u.length-4)==="[-1]")throw"bad property string";var f=u.split("."),g,h,w,c;for(c=0;c<f.length;c++)if(String(f[c]).slice(0,2)==="__")throw"bad property string";for(c=0;c<f.length;){if(g=String(f[c]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),g){if(g[1])f[c]=g[1];else if(c===0)f.splice(0,1);else throw"bad property string";for(h=g[2].substr(1,g[2].length-2).split("]["),w=0;w<h.length;w++)c++,f.splice(c,0,Number(h[w]))}c++}return typeof l!="object"?o(l,u,f):{set:v(l,f,u),get:s(l,f),astr:u,parts:f,obj:l}};function s(n,l){return function(){var u=n,f,g,h,w,c;for(w=0;w<l.length-1;w++){if(f=l[w],f===-1){for(g=!0,h=[],c=0;c<u.length;c++)h[c]=s(u[c],l.slice(w+1))(),h[c]!==h[0]&&(g=!1);return g?h[0]:h}if(typeof f=="number"&&!P(u)||(u=u[f],typeof u!="object"||u===null))return}if(!(typeof u!="object"||u===null)&&(h=u[l[w]],h!==null))return h}}var L=/(^|\.)args\[/;function M(n,l){return n===void 0||n===null&&!l.match(L)}function v(n,l,u){return function(f){var g=n,h="",w=M(f,u),c,a;for(a=0;a<l.length-1;a++){if(c=l[a],typeof c=="number"&&!P(g))throw"array index but container is not an array";if(c===-1){if(w=!r(g,l.slice(a+1),f,u),w)break;return}if(!t(g,c,l[a+1],w))break;if(g=g[c],typeof g!="object"||g===null)throw"container is not an object";h=p(h,c)}if(w){if(a===l.length-1&&(delete g[l[a]],Array.isArray(g)&&+l[a]===g.length-1))for(;g.length&&g[g.length-1]===void 0;)g.pop()}else g[l[a]]=f}}function p(n,l){var u=l;return b(l)?u="["+l+"]":n&&(u="."+l),n+u}function r(n,l,u,f){var g=P(u),h=!0,w=u,c=f.replace("-1",0),a=g?!1:M(u,c),d=l[0],x;for(x=0;x<n.length;x++)c=f.replace("-1",x),g&&(w=u[x%u.length],a=M(w,c)),a&&(h=!1),t(n,x,d,a)&&v(n[x],l,f.replace("-1",x))(w);return h}function t(n,l,u,f){if(n[l]===void 0){if(f)return!1;typeof u=="number"?n[l]=[]:n[l]={}}return!0}function o(n,l,u){return{set:function(){throw"bad container"},get:function(){},astr:l,parts:u,obj:n}}},16628:function(Y){Y.exports=function(){}},41792:function(Y,V,e){var b=e(33428),P=e(38248),s=[];Y.exports=function(L,M){if(s.indexOf(L)!==-1)return;s.push(L);var v=1e3;P(M)?v=M:M==="long"&&(v=3e3);var p=b.select("body").selectAll(".plotly-notifier").data([0]);p.enter().append("div").classed("plotly-notifier",!0);var r=p.selectAll(".notifier-note").data(s);function t(o){o.duration(700).style("opacity",0).each("end",function(n){var l=s.indexOf(n);l!==-1&&s.splice(l,1),b.select(this).remove()})}r.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(o){var n=b.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(t)});for(var l=n.append("p"),u=o.split(/<br\s*\/?>/g),f=0;f<u.length;f++)f&&l.append("br"),l.append("span").text(u[f]);M==="stick"?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(v).call(t)})}},72213:function(Y,V,e){var b=e(93972),P="data-savedcursor",s="!!";Y.exports=function(M,v){var p=M.attr(P);if(v){if(!p){for(var r=(M.attr("class")||"").split(" "),t=0;t<r.length;t++){var o=r[t];o.indexOf("cursor-")===0&&M.attr(P,o.substr(7)).classed(o,!1)}M.attr(P)||M.attr(P,s)}b(M,v)}else p&&(M.attr(P,null),p===s?b(M):b(M,p))}},92065:function(Y,V,e){var b=e(52248).dot,P=e(39032).BADNUM,s=Y.exports={};s.tester=function(M){var v=M.slice(),p=v[0][0],r=p,t=v[0][1],o=t,n;for((v[v.length-1][0]!==v[0][0]||v[v.length-1][1]!==v[0][1])&&v.push(v[0]),n=1;n<v.length;n++)p=Math.min(p,v[n][0]),r=Math.max(r,v[n][0]),t=Math.min(t,v[n][1]),o=Math.max(o,v[n][1]);var l=!1,u;v.length===5&&(v[0][0]===v[1][0]?v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]&&(l=!0,u=function(c){return c[0]===v[0][0]}):v[0][1]===v[1][1]&&v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]&&(l=!0,u=function(c){return c[1]===v[0][1]}));function f(c,a){var d=c[0],x=c[1];return!(d===P||d<p||d>r||x===P||x<t||x>o||a&&u(c))}function g(c,a){var d=c[0],x=c[1];if(d===P||d<p||d>r||x===P||x<t||x>o)return!1;var T=v.length,C=v[0][0],y=v[0][1],S=0,A,i,E,m,k;for(A=1;A<T;A++)if(i=C,E=y,C=v[A][0],y=v[A][1],m=Math.min(i,C),!(d<m||d>Math.max(i,C)||x>Math.max(E,y)))if(x<Math.min(E,y))d!==m&&S++;else{if(C===i?k=x:k=E+(d-i)*(y-E)/(C-i),x===k)return!(A===1&&a);x<=k&&d!==m&&S++}return S%2===1}var h=!0,w=v[0];for(n=1;n<v.length;n++)if(w[0]!==v[n][0]||w[1]!==v[n][1]){h=!1;break}return{xmin:p,xmax:r,ymin:t,ymax:o,pts:v,contains:l?f:g,isRect:l,degenerate:h}},s.isSegmentBent=function(M,v,p,r){var t=M[v],o=[M[p][0]-t[0],M[p][1]-t[1]],n=b(o,o),l=Math.sqrt(n),u=[-o[1]/l,o[0]/l],f,g,h;for(f=v+1;f<p;f++)if(g=[M[f][0]-t[0],M[f][1]-t[1]],h=b(g,o),h<0||h>n||Math.abs(b(g,u))>r)return!0;return!1},s.filter=function(M,v){var p=[M[0]],r=0,t=0;function o(l){M.push(l);var u=p.length,f=r;p.splice(t+1);for(var g=f+1;g<M.length;g++)(g===M.length-1||s.isSegmentBent(M,f,g+1,v))&&(p.push(M[g]),p.length<u-2&&(r=g,t=p.length-1),f=g)}if(M.length>1){var n=M.pop();o(n)}return{addPt:o,raw:M,filtered:p}}},5048:function(Y,V,e){var b=e(16576),P=e(28624);Y.exports=function(L,M,v){var p=L._fullLayout,r=!0;return p._glcanvas.each(function(t){if(t.regl){t.regl.preloadCachedCode(v);return}if(!(t.pick&&!p._has("parcoords"))){try{t.regl=P({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:L._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:M||[],cachedCode:v||{}})}catch{r=!1}t.regl||(r=!1),r&&this.addEventListener("webglcontextlost",function(o){L&&L.emit&&L.emit("plotly_webglcontextlost",{event:o,layer:t.key})},!1)}}),r||b({container:p._glcontainer.node()}),r}},34296:function(Y,V,e){var b=e(38248),P=e(25928);Y.exports=function(M){var v;if(M&&M.hasOwnProperty("userAgent")?v=M.userAgent:v=s(),typeof v!="string")return!0;var p=P({ua:{headers:{"user-agent":v}},tablet:!0,featureDetect:!1});if(!p)for(var r=v.split(" "),t=1;t<r.length;t++){var o=r[t];if(o.indexOf("Safari")!==-1)for(var n=t-1;n>-1;n--){var l=r[n];if(l.substr(0,8)==="Version/"){var u=l.substr(8).split(".")[0];if(b(u)&&(u=+u),u>=13)return!0}}}return p};function s(){var L;return typeof navigator<"u"&&(L=navigator.userAgent),L&&L.headers&&typeof L.headers["user-agent"]=="string"&&(L=L.headers["user-agent"]),L}},52416:function(Y){Y.exports=function(e,b){if(b instanceof RegExp){for(var P=b.toString(),s=0;s<e.length;s++)if(e[s]instanceof RegExp&&e[s].toString()===P)return e;e.push(b)}else(b||b===0)&&e.indexOf(b)===-1&&e.push(b);return e}},94552:function(Y,V,e){var b=e(3400),P=e(20556).dfltConfig;function s(M,v){for(var p=[],r,t=0;t<v.length;t++)r=v[t],r===M?p[t]=r:typeof r=="object"?p[t]=Array.isArray(r)?b.extendDeep([],r):b.extendDeepAll({},r):p[t]=r;return p}var L={};L.add=function(M,v,p,r,t){var o,n;if(M.undoQueue=M.undoQueue||{index:0,queue:[],sequence:!1},n=M.undoQueue.index,M.autoplay){M.undoQueue.inSequence||(M.autoplay=!1);return}!M.undoQueue.sequence||M.undoQueue.beginSequence?(o={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},M.undoQueue.queue.splice(n,M.undoQueue.queue.length-n,o),M.undoQueue.index+=1):o=M.undoQueue.queue[n-1],M.undoQueue.beginSequence=!1,o&&(o.undo.calls.unshift(v),o.undo.args.unshift(p),o.redo.calls.push(r),o.redo.args.push(t)),M.undoQueue.queue.length>P.queueLength&&(M.undoQueue.queue.shift(),M.undoQueue.index--)},L.startSequence=function(M){M.undoQueue=M.undoQueue||{index:0,queue:[],sequence:!1},M.undoQueue.sequence=!0,M.undoQueue.beginSequence=!0},L.stopSequence=function(M){M.undoQueue=M.undoQueue||{index:0,queue:[],sequence:!1},M.undoQueue.sequence=!1,M.undoQueue.beginSequence=!1},L.undo=function(v){var p,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index<=0)){for(v.undoQueue.index--,p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<p.undo.calls.length;r++)L.plotDo(v,p.undo.calls[r],p.undo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1}},L.redo=function(v){var p,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index>=v.undoQueue.queue.length)){for(p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<p.redo.calls.length;r++)L.plotDo(v,p.redo.calls[r],p.redo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1,v.undoQueue.index++}},L.plotDo=function(M,v,p){M.autoplay=!0,p=s(M,p),v.apply(null,p)},Y.exports=L},53756:function(Y,V){V.counter=function(e,b,P,s){var L=(b||"")+(P?"":"$"),M=s===!1?"":"^";return e==="xy"?new RegExp(M+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+L):new RegExp(M+e+"([2-9]|[1-9][0-9]+)?"+L)}},23193:function(Y){var V=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;Y.exports=function(b,P){for(;P;){var s=b.match(V);if(s)b=s[1];else if(b.match(e))b="";else throw new Error("bad relativeAttr call:"+[b,P]);if(P.charAt(0)==="^")P=P.slice(1);else break}return b&&P.charAt(0)!=="["?b+"."+P:b+P}},51528:function(Y,V,e){var b=e(38116).isArrayOrTypedArray,P=e(63620);Y.exports=function s(L,M){for(var v in M){var p=M[v],r=L[v];if(r!==p)if(v.charAt(0)==="_"||typeof p=="function"){if(v in L)continue;L[v]=p}else if(b(p)&&b(r)&&P(p[0])){if(v==="customdata"||v==="ids")continue;for(var t=Math.min(p.length,r.length),o=0;o<t;o++)r[o]!==p[o]&&P(p[o])&&P(r[o])&&s(r[o],p[o])}else P(p)&&P(r)&&(s(r,p),Object.keys(r).length||delete L[v])}}},14952:function(Y,V,e){var b=e(38248),P=e(24248),s=e(35536),L=e(39032).BADNUM,M=1e-9;V.findBin=function(o,n,l){if(b(n.start))return l?Math.ceil((o-n.start)/n.size-M)-1:Math.floor((o-n.start)/n.size+M);var u=0,f=n.length,g=0,h=f>1?(n[f-1]-n[0])/(f-1):1,w,c;for(h>=0?c=l?v:p:c=l?t:r,o+=h*M*(l?-1:1)*(h>=0?1:-1);u<f&&g++<100;)w=Math.floor((u+f)/2),c(n[w],o)?u=w+1:f=w;return g>90&&P.log("Long binary search..."),u-1};function v(o,n){return o<n}function p(o,n){return o<=n}function r(o,n){return o>n}function t(o,n){return o>=n}V.sorterAsc=function(o,n){return o-n},V.sorterDes=function(o,n){return n-o},V.distinctVals=function(o){var n=o.slice();n.sort(V.sorterAsc);var l;for(l=n.length-1;l>-1&&n[l]===L;l--);for(var u=n[l]-n[0]||1,f=u/(l||1)/1e4,g=[],h,w=0;w<=l;w++){var c=n[w],a=c-h;h===void 0?(g.push(c),h=c):a>f&&(u=Math.min(u,a),g.push(c),h=c)}return{vals:g,minDiff:u}},V.roundUp=function(o,n,l){for(var u=0,f=n.length-1,g,h=0,w=l?0:1,c=l?1:0,a=l?Math.ceil:Math.floor;u<f&&h++<100;)g=a((u+f)/2),n[g]<=o?u=g+w:f=g-c;return n[u]},V.sort=function(o,n){for(var l=0,u=0,f=1;f<o.length;f++){var g=n(o[f],o[f-1]);if(g<0?l=1:g>0&&(u=1),l&&u)return o.sort(n)}return u?o:o.reverse()},V.findIndexOfMin=function(o,n){n=n||s;for(var l=1/0,u,f=0;f<o.length;f++){var g=n(o[f]);g<l&&(l=g,u=f)}return u}},93972:function(Y){Y.exports=function(e,b){(e.attr("class")||"").split(" ").forEach(function(P){P.indexOf("cursor-")===0&&e.classed(P,!1)}),b&&e.classed("cursor-"+b,!0)}},16576:function(Y,V,e){var b=e(76308),P=function(){};Y.exports=function(L){for(var M in L)typeof L[M]=="function"&&(L[M]=P);L.destroy=function(){L.container.parentNode.removeChild(L.container)};var v=document.createElement("div");v.className="no-webgl",v.style.cursor="pointer",v.style.fontSize="24px",v.style.color=b.defaults[0],v.style.position="absolute",v.style.left=v.style.top="0px",v.style.width=v.style.height="100%",v.style["background-color"]=b.lightLine,v.style["z-index"]=30;var p=document.createElement("p");return p.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",p.style.position="relative",p.style.top="50%",p.style.left="50%",p.style.height="30%",p.style.width="50%",p.style.margin="-15% 0 0 -25%",v.appendChild(p),L.container.appendChild(v),L.container.style.background="#FFFFFF",L.container.onclick=function(){window.open("https://get.webgl.org")},!1}},95376:function(Y){Y.exports=function(e){return Object.keys(e).sort()}},63084:function(Y,V,e){var b=e(38248),P=e(38116).isArrayOrTypedArray;V.aggNums=function(s,L,M,v){var p,r;if((!v||v>M.length)&&(v=M.length),b(L)||(L=!1),P(M[0])){for(r=new Array(v),p=0;p<v;p++)r[p]=V.aggNums(s,L,M[p]);M=r}for(p=0;p<v;p++)b(L)?b(M[p])&&(L=s(+L,+M[p])):L=M[p];return L},V.len=function(s){return V.aggNums(function(L){return L+1},0,s)},V.mean=function(s,L){return L||(L=V.len(s)),V.aggNums(function(M,v){return M+v},0,s)/L},V.geometricMean=function(s,L){return L||(L=V.len(s)),Math.pow(V.aggNums(function(M,v){return M*v},1,s),1/L)},V.midRange=function(s){if(!(s===void 0||s.length===0))return(V.aggNums(Math.max,null,s)+V.aggNums(Math.min,null,s))/2},V.variance=function(s,L,M){return L||(L=V.len(s)),b(M)||(M=V.mean(s,L)),V.aggNums(function(v,p){return v+Math.pow(p-M,2)},0,s)/L},V.stdev=function(s,L,M){return Math.sqrt(V.variance(s,L,M))},V.median=function(s){var L=s.slice().sort();return V.interp(L,.5)},V.interp=function(s,L){if(!b(L))throw"n should be a finite number";if(L=L*s.length-.5,L<0)return s[0];if(L>s.length-1)return s[s.length-1];var M=L%1;return M*s[Math.ceil(L)]+(1-M)*s[Math.floor(L)]}},43080:function(Y,V,e){var b=e(72160);function P(s){return s?b(s):[0,0,0,1]}Y.exports=P},9188:function(Y,V,e){var b=e(2264),P=e(43616),s=e(3400),L=null;function M(){if(L!==null)return L;L=!1;var v=s.isIE()||s.isSafari()||s.isIOS();if(window.navigator.userAgent&&!v){var p=Array.from(b.CSS_DECLARATIONS).reverse(),r=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof r=="function")L=p.some(function(l){return r.apply(null,l)});else{var t=P.tester.append("image").attr("style",b.STYLE),o=window.getComputedStyle(t.node()),n=o.imageRendering;L=p.some(function(l){var u=l[1];return n===u||n===u.toLowerCase()}),t.remove()}}return L}Y.exports=M},72736:function(Y,V,e){var b=e(33428),P=e(3400),s=P.strTranslate,L=e(9616),M=e(84284).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;V.convertToTspans=function(F,z,N){var W=F.text(),Z=!F.attr("data-notex")&&z&&z._context.typesetMath&&typeof MathJax<"u"&&W.match(v),q=b.select(F.node().parentNode);if(q.empty())return;var re=F.attr("class")?F.attr("class").split(" ")[0]:"text";re+="-math",q.selectAll("svg."+re).remove(),q.selectAll("g."+re+"-group").remove(),F.style("display",null).attr({"data-unformatted":W,"data-math":"N"});function le(){q.empty()||(re=F.attr("class")+"-math",q.select("svg."+re).remove()),F.text("").style("white-space","pre");var ie=I(F.node(),W);ie&&F.style("pointer-events","all"),V.positionText(F),N&&N.call(F)}return Z?(z&&z._promises||[]).push(new Promise(function(ie){F.style("display","none");var K=parseInt(F.node().style.fontSize,10),$={fontSize:K};n(Z[2],$,function(X,Q,se){q.selectAll("svg."+re).remove(),q.selectAll("g."+re+"-group").remove();var J=X&&X.select("svg");if(!J||!J.node()){le(),ie();return}var G=q.append("g").classed(re+"-group",!0).attr({"pointer-events":"none","data-unformatted":W,"data-math":"Y"});G.node().appendChild(J.node()),Q&&Q.node()&&J.node().insertBefore(Q.node().cloneNode(!0),J.node().firstChild);var oe=se.width,te=se.height;J.attr({class:re,height:te,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var fe=F.node().style.fill||"black",ge=J.select("g");ge.attr({fill:fe,stroke:fe});var we=ge.node().getBoundingClientRect(),xe=we.width,Ce=we.height;(xe>oe||Ce>te)&&(J.style("overflow","hidden"),we=J.node().getBoundingClientRect(),xe=we.width,Ce=we.height);var De=+F.attr("x"),Oe=+F.attr("y"),Te=K||F.node().getBoundingClientRect().height,Re=-Te/4;if(re[0]==="y")G.attr({transform:"rotate("+[-90,De,Oe]+")"+s(-xe/2,Re-Ce/2)});else if(re[0]==="l")Oe=Re-Ce/2;else if(re[0]==="a"&&re.indexOf("atitle")!==0)De=0,Oe=Re;else{var Me=F.attr("text-anchor");De=De-xe*(Me==="middle"?.5:Me==="end"?1:0),Oe=Oe+Re-Ce/2}J.attr({x:De,y:Oe}),N&&N.call(F,G),ie(G)})})):le(),F};var p=/(<|&lt;|&#60;)/g,r=/(>|&gt;|&#62;)/g;function t(F){return F.replace(p,"\\lt ").replace(r,"\\gt ")}var o=[["$","$"],["\\(","\\)"]];function n(F,z,N){var W=parseInt((MathJax.version||"").split(".")[0]);if(W!==2&&W!==3){P.warn("No MathJax version:",MathJax.version);return}var Z,q,re,le,ie=function(){return q=P.extendDeepAll({},MathJax.Hub.config),re=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:o},displayAlign:"left"})},K=function(){q=P.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=o},$=function(){if(Z=MathJax.Hub.config.menuSettings.renderer,Z!=="SVG")return MathJax.Hub.setRenderer("SVG")},X=function(){Z=MathJax.config.startup.output,Z!=="svg"&&(MathJax.config.startup.output="svg")},Q=function(){var fe="math-output-"+P.randstr({},64);le=b.select("body").append("div").attr({id:fe}).style({visibility:"hidden",position:"absolute","font-size":z.fontSize+"px"}).text(t(F));var ge=le.node();return W===2?MathJax.Hub.Typeset(ge):MathJax.typeset([ge])},se=function(){var fe=le.select(W===2?".MathJax_SVG":".MathJax"),ge=!fe.empty()&&le.select("svg").node();if(!ge)P.log("There was an error in the tex syntax.",F),N();else{var we=ge.getBoundingClientRect(),xe;W===2?xe=b.select("body").select("#MathJax_SVG_glyphs"):xe=fe.select("defs"),N(fe,xe,we)}le.remove()},J=function(){if(Z!=="SVG")return MathJax.Hub.setRenderer(Z)},G=function(){Z!=="svg"&&(MathJax.config.startup.output=Z)},oe=function(){return re!==void 0&&(MathJax.Hub.processSectionDelay=re),MathJax.Hub.Config(q)},te=function(){MathJax.config=q};W===2?MathJax.Hub.Queue(ie,$,Q,se,J,oe):W===3&&(K(),X(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){Q(),se(),G(),te()}))}var l={sup:"font-size:70%",sub:"font-size:70%",s:"text-decoration:line-through",u:"text-decoration:underline",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},u={sub:"0.3em",sup:"-0.6em"},f={sub:"-0.21em",sup:"0.42em"},g="​",h=["http:","https:","mailto:","",void 0,":"],w=V.NEWLINES=/(\r\n?|\n)/g,c=/(<[^<>]*>)/,a=/<(\/?)([^ >]*)(\s+(.*))?>/i,d=/<br(\s+.*)?>/i;V.BR_TAG_ALL=/<br(\s+.*)?>/gi;var x=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,T=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,C=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,y=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function S(F,z){if(!F)return null;var N=F.match(z),W=N&&(N[3]||N[4]);return W&&m(W)}var A=/(^|;)\s*color:/;V.plainText=function(F,z){z=z||{};for(var N=z.len!==void 0&&z.len!==-1?z.len:1/0,W=z.allowedTags!==void 0?z.allowedTags:["br"],Z="...",q=Z.length,re=F.split(c),le=[],ie="",K=0,$=0;$<re.length;$++){var X=re[$],Q=X.match(a),se=Q&&Q[2].toLowerCase();if(se)W.indexOf(se)!==-1&&(le.push(X),ie=se);else{var J=X.length;if(K+J<N)le.push(X),K+=J;else if(K<N){var G=N-K;ie&&(ie!=="br"||G<=q||J<=q)&&le.pop(),N>q?le.push(X.substr(0,G-q)+Z):le.push(X.substr(0,G));break}ie=""}}return le.join("")};var i={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},E=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function m(F){return F.replace(E,function(z,N){var W;return N.charAt(0)==="#"?W=k(N.charAt(1)==="x"?parseInt(N.substr(2),16):parseInt(N.substr(1),10)):W=i[N],W||z})}V.convertEntities=m;function k(F){if(!(F>1114111)){var z=String.fromCodePoint;if(z)return z(F);var N=String.fromCharCode;return F<=65535?N(F):N((F>>10)+55232,F%1024+56320)}}function I(F,z){z=z.replace(w," ");var N=!1,W=[],Z,q=-1;function re(){q++;var Ce=document.createElementNS(L.svg,"tspan");b.select(Ce).attr({class:"line",dy:q*M+"em"}),F.appendChild(Ce),Z=Ce;var De=W;if(W=[{node:Ce}],De.length>1)for(var Oe=1;Oe<De.length;Oe++)le(De[Oe])}function le(Ce){var De=Ce.type,Oe={},Te;if(De==="a"){Te="a";var Re=Ce.target,Me=Ce.href,ke=Ce.popup;Me&&(Oe={"xlink:xlink:show":Re==="_blank"||Re.charAt(0)!=="_"?"new":"replace",target:Re,"xlink:xlink:href":Me},ke&&(Oe.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+ke+'");return false;'))}else Te="tspan";Ce.style&&(Oe.style=Ce.style);var Se=document.createElementNS(L.svg,Te);if(De==="sup"||De==="sub"){ie(Z,g),Z.appendChild(Se);var He=document.createElementNS(L.svg,"tspan");ie(He,g),b.select(He).attr("dy",f[De]),Oe.dy=u[De],Z.appendChild(Se),Z.appendChild(He)}else Z.appendChild(Se);b.select(Se).attr(Oe),Z=Ce.node=Se,W.push(Ce)}function ie(Ce,De){Ce.appendChild(document.createTextNode(De))}function K(Ce){if(W.length===1){P.log("Ignoring unexpected end tag </"+Ce+">.",z);return}var De=W.pop();Ce!==De.type&&P.log("Start tag <"+De.type+"> doesnt match end tag <"+Ce+">. Pretending it did match.",z),Z=W[W.length-1].node}var $=d.test(z);$?re():(Z=F,W=[{node:F}]);for(var X=z.split(c),Q=0;Q<X.length;Q++){var se=X[Q],J=se.match(a),G=J&&J[2].toLowerCase(),oe=l[G];if(G==="br")re();else if(oe===void 0)ie(Z,m(se));else if(J[1])K(G);else{var te=J[4],fe={type:G},ge=S(te,x);if(ge?(ge=ge.replace(A,"$1 fill:"),oe&&(ge+=";"+oe)):oe&&(ge=oe),ge&&(fe.style=ge),G==="a"){N=!0;var we=S(te,T);if(we){var xe=O(we);xe&&(fe.href=xe,fe.target=S(te,C)||"_blank",fe.popup=S(te,y))}}le(fe)}}return N}function O(F){var z=encodeURI(decodeURI(F)),N=document.createElement("a"),W=document.createElement("a");N.href=F,W.href=z;var Z=N.protocol,q=W.protocol;return h.indexOf(Z)!==-1&&h.indexOf(q)!==-1?z:""}V.sanitizeHTML=function(z){z=z.replace(w," ");for(var N=document.createElement("p"),W=N,Z=[],q=z.split(c),re=0;re<q.length;re++){var le=q[re],ie=le.match(a),K=ie&&ie[2].toLowerCase();if(K in l)if(ie[1])Z.length&&(W=Z.pop());else{var $=ie[4],X=S($,x),Q=X?{style:X}:{};if(K==="a"){var se=S($,T);if(se){var J=O(se);if(J){Q.href=J;var G=S($,C);G&&(Q.target=G)}}}var oe=document.createElement(K);W.appendChild(oe),b.select(oe).attr(Q),W=oe,Z.push(oe)}else W.appendChild(document.createTextNode(m(le)))}var te="innerHTML";return N[te]},V.lineCount=function(z){return z.selectAll("tspan.line").size()||1},V.positionText=function(z,N,W){return z.each(function(){var Z=b.select(this);function q(ie,K){return K===void 0?(K=Z.attr(ie),K===null&&(Z.attr(ie,0),K=0)):Z.attr(ie,K),K}var re=q("x",N),le=q("y",W);this.nodeName==="text"&&Z.selectAll("tspan.line").attr({x:re,y:le})})};function _(F,z,N){var W=N.horizontalAlign,Z=N.verticalAlign||"top",q=F.node().getBoundingClientRect(),re=z.node().getBoundingClientRect(),le,ie,K;return Z==="bottom"?ie=function(){return q.bottom-le.height}:Z==="middle"?ie=function(){return q.top+(q.height-le.height)/2}:ie=function(){return q.top},W==="right"?K=function(){return q.right-le.width}:W==="center"?K=function(){return q.left+(q.width-le.width)/2}:K=function(){return q.left},function(){le=this.node().getBoundingClientRect();var $=K()-re.left,X=ie()-re.top,Q=N.gd||{};if(N.gd){Q._fullLayout._calcInverseTransform(Q);var se=P.apply3DTransform(Q._fullLayout._invTransform)($,X);$=se[0],X=se[1]}return this.style({top:X+"px",left:$+"px","z-index":1e3}),this}}var B="1px ";V.makeTextShadow=function(F){var z=B,N=B,W=B;return z+N+W+F+", -"+z+"-"+N+W+F+", "+z+"-"+N+W+F+", -"+z+N+W+F},V.makeEditable=function(F,z){var N=z.gd,W=z.delegate,Z=b.dispatch("edit","input","cancel"),q=W||F;if(F.style({"pointer-events":W?"none":"all"}),F.size()!==1)throw new Error("boo");function re(){ie(),F.style({opacity:0});var K=q.attr("class"),$;K?$="."+K.split(" ")[0]+"-math-group":$="[class*=-math-group]",$&&b.select(F.node().parentNode).select($).style({opacity:0})}function le(K){var $=K.node(),X=document.createRange();X.selectNodeContents($);var Q=window.getSelection();Q.removeAllRanges(),Q.addRange(X),$.focus()}function ie(){var K=b.select(N),$=K.select(".svg-container"),X=$.append("div"),Q=F.node().style,se=parseFloat(Q.fontSize||12),J=z.text;J===void 0&&(J=F.attr("data-unformatted")),X.classed("plugin-editable editable",!0).style({position:"absolute","font-family":Q.fontFamily||"Arial","font-size":se,color:z.fill||Q.fill||"black",opacity:1,"background-color":z.background||"transparent",outline:"#ffffff33 1px solid",margin:[-se/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(J).call(_(F,$,z)).on("blur",function(){N._editing=!1,F.text(this.textContent).style({opacity:1});var G=b.select(this).attr("class"),oe;G?oe="."+G.split(" ")[0]+"-math-group":oe="[class*=-math-group]",oe&&b.select(F.node().parentNode).select(oe).style({opacity:0});var te=this.textContent;b.select(this).transition().duration(0).remove(),b.select(document).on("mouseup",null),Z.edit.call(F,te)}).on("focus",function(){var G=this;N._editing=!0,b.select(document).on("mouseup",function(){if(b.event.target===G)return!1;document.activeElement===X.node()&&X.node().blur()})}).on("keyup",function(){b.event.which===27?(N._editing=!1,F.style({opacity:1}),b.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),Z.cancel.call(F,this.textContent)):(Z.input.call(F,this.textContent),b.select(this).call(_(F,$,z)))}).on("keydown",function(){b.event.which===13&&this.blur()}).call(le)}return z.immediate?re():q.on("click",re),b.rebind(F,Z,"on")}},91200:function(Y,V){var e={};V.throttle=function(s,L,M){var v=e[s],p=Date.now();if(!v){for(var r in e)e[r].ts<p-6e4&&delete e[r];v=e[s]={ts:0,timer:null}}b(v);function t(){M(),v.ts=Date.now(),v.onDone&&(v.onDone(),v.onDone=null)}if(p>v.ts+L){t();return}v.timer=setTimeout(function(){t(),v.timer=null},L)},V.done=function(P){var s=e[P];return!s||!s.timer?Promise.resolve():new Promise(function(L){var M=s.onDone;s.onDone=function(){M&&M(),L(),s.onDone=null}})},V.clear=function(P){if(P)b(e[P]),delete e[P];else for(var s in e)V.clear(s)};function b(P){P&&P.timer!==null&&(clearTimeout(P.timer),P.timer=null)}},36896:function(Y,V,e){var b=e(38248);Y.exports=function(s,L){if(s>0)return Math.log(s)/Math.LN10;var M=Math.log(Math.min(L[0],L[1]))/Math.LN10;return b(M)||(M=Math.log(Math.max(L[0],L[1]))/Math.LN10-6),M}},59972:function(Y,V,e){var b=Y.exports={},P=e(79552).locationmodeToLayer,s=e(55712).NO;b.getTopojsonName=function(L){return[L.scope.replace(/ /g,"-"),"_",L.resolution.toString(),"m"].join("")},b.getTopojsonPath=function(L,M){return L+M+".json"},b.getTopojsonFeatures=function(L,M){var v=P[L.locationmode],p=M.objects[v];return s(M,p).features}},11680:function(Y){Y.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(Y){Y.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},69820:function(Y,V,e){var b=e(24040);Y.exports=function(s){for(var L=b.layoutArrayContainers,M=b.layoutArrayRegexes,v=s.split("[")[0],p,r,t=0;t<M.length;t++)if(r=s.match(M[t]),r&&r.index===0){p=r[0];break}if(p||(p=L[L.indexOf(v)]),!p)return!1;var o=s.substr(p.length);return o?(r=o.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),r?{array:p,index:Number(r[1]),property:r[3]||""}:!1):{array:p,index:"",property:""}}},67824:function(Y,V,e){var b=e(92880).extendFlat,P=e(63620),s={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},L={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},M=s.flags.slice().concat(["fullReplot"]),v=L.flags.slice().concat("layoutReplot");Y.exports={traces:s,layout:L,traceFlags:function(){return p(M)},layoutFlags:function(){return p(v)},update:function(o,n){var l=n.editType;if(l&&l!=="none")for(var u=l.split("+"),f=0;f<u.length;f++)o[u[f]]=!0},overrideAll:r};function p(o){for(var n={},l=0;l<o.length;l++)n[o[l]]=!1;return n}function r(o,n,l){var u=b({},o);for(var f in u){var g=u[f];P(g)&&(u[f]=t(g,n,l,f))}return l==="from-root"&&(u.editType=n),u}function t(o,n,l,u){if(o.valType){var f=b({},o);if(f.editType=n,Array.isArray(o.items)){f.items=new Array(o.items.length);for(var g=0;g<o.items.length;g++)f.items[g]=t(o.items[g],n)}return f}else return r(o,n,u.charAt(0)==="_"?"nested":"from-root")}},93404:function(Y,V,e){var b=e(38248),P=e(61784),s=e(24040),L=e(3400),M=e(7316),v=e(79811),p=e(76308),r=v.cleanId,t=v.getFromTrace,o=s.traceIs;V.clearPromiseQueue=function(d){Array.isArray(d._promises)&&d._promises.length>0&&L.log("Clearing previous rejected promises from queue."),d._promises=[]},V.cleanLayout=function(d){var x,T;d||(d={}),d.xaxis1&&(d.xaxis||(d.xaxis=d.xaxis1),delete d.xaxis1),d.yaxis1&&(d.yaxis||(d.yaxis=d.yaxis1),delete d.yaxis1),d.scene1&&(d.scene||(d.scene=d.scene1),delete d.scene1);var C=(M.subplotsRegistry.cartesian||{}).attrRegex,y=(M.subplotsRegistry.polar||{}).attrRegex,S=(M.subplotsRegistry.ternary||{}).attrRegex,A=(M.subplotsRegistry.gl3d||{}).attrRegex,i=Object.keys(d);for(x=0;x<i.length;x++){var E=i[x];if(C&&C.test(E)){var m=d[E];m.anchor&&m.anchor!=="free"&&(m.anchor=r(m.anchor)),m.overlaying&&(m.overlaying=r(m.overlaying)),m.type||(m.isdate?m.type="date":m.islog?m.type="log":m.isdate===!1&&m.islog===!1&&(m.type="linear")),(m.autorange==="withzero"||m.autorange==="tozero")&&(m.autorange=!0,m.rangemode="tozero"),m.insiderange&&delete m.range,delete m.islog,delete m.isdate,delete m.categories,h(m,"domain")&&delete m.domain,m.autotick!==void 0&&(m.tickmode===void 0&&(m.tickmode=m.autotick?"auto":"linear"),delete m.autotick),l(m)}else if(y&&y.test(E)){var k=d[E];l(k.radialaxis)}else if(S&&S.test(E)){var I=d[E];l(I.aaxis),l(I.baxis),l(I.caxis)}else if(A&&A.test(E)){var O=d[E],_=O.cameraposition;if(Array.isArray(_)&&_[0].length===4){var B=_[0],F=_[1],z=_[2],N=P([],B),W=[];for(T=0;T<3;++T)W[T]=F[T]+z*N[2+4*T];O.camera={eye:{x:W[0],y:W[1],z:W[2]},center:{x:F[0],y:F[1],z:F[2]},up:{x:0,y:0,z:1}},delete O.cameraposition}l(O.xaxis),l(O.yaxis),l(O.zaxis)}}var Z=Array.isArray(d.annotations)?d.annotations.length:0;for(x=0;x<Z;x++){var q=d.annotations[x];L.isPlainObject(q)&&(q.ref&&(q.ref==="paper"?(q.xref="paper",q.yref="paper"):q.ref==="data"&&(q.xref="x",q.yref="y"),delete q.ref),n(q,"xref"),n(q,"yref"))}var re=Array.isArray(d.shapes)?d.shapes.length:0;for(x=0;x<re;x++){var le=d.shapes[x];L.isPlainObject(le)&&(n(le,"xref"),n(le,"yref"))}var ie=Array.isArray(d.images)?d.images.length:0;for(x=0;x<ie;x++){var K=d.images[x];L.isPlainObject(K)&&(n(K,"xref"),n(K,"yref"))}var $=d.legend;return $&&($.x>3?($.x=1.02,$.xanchor="left"):$.x<-2&&($.x=-.02,$.xanchor="right"),$.y>3?($.y=1.02,$.yanchor="bottom"):$.y<-2&&($.y=-.02,$.yanchor="top")),l(d),d.dragmode==="rotate"&&(d.dragmode="orbit"),p.clean(d),d.template&&d.template.layout&&V.cleanLayout(d.template.layout),d};function n(d,x){var T=d[x],C=x.charAt(0);T&&T!=="paper"&&(d[x]=r(T,C,!0))}function l(d){d&&((typeof d.title=="string"||typeof d.title=="number")&&(d.title={text:d.title}),x("titlefont","font"),x("titleposition","position"),x("titleside","side"),x("titleoffset","offset"));function x(T,C){var y=d[T],S=d.title&&d.title[C];y&&!S&&(d.title||(d.title={}),d.title[C]=d[T],delete d[T])}}V.cleanData=function(d){for(var x=0;x<d.length;x++){var T=d[x],C;if(T.type==="histogramy"&&"xbins"in T&&!("ybins"in T)&&(T.ybins=T.xbins,delete T.xbins),T.error_y&&"opacity"in T.error_y){var y=p.defaults,S=T.error_y.color||(o(T,"bar")?p.defaultLine:y[x%y.length]);T.error_y.color=p.addOpacity(p.rgb(S),p.opacity(S)*T.error_y.opacity),delete T.error_y.opacity}if("bardir"in T&&(T.bardir==="h"&&(o(T,"bar")||T.type.substr(0,9)==="histogram")&&(T.orientation="h",V.swapXYData(T)),delete T.bardir),T.type==="histogramy"&&V.swapXYData(T),(T.type==="histogramx"||T.type==="histogramy")&&(T.type="histogram"),"scl"in T&&!("colorscale"in T)&&(T.colorscale=T.scl,delete T.scl),"reversescl"in T&&!("reversescale"in T)&&(T.reversescale=T.reversescl,delete T.reversescl),T.xaxis&&(T.xaxis=r(T.xaxis,"x")),T.yaxis&&(T.yaxis=r(T.yaxis,"y")),o(T,"gl3d")&&T.scene&&(T.scene=M.subplotsRegistry.gl3d.cleanId(T.scene)),!o(T,"pie-like")&&!o(T,"bar-like"))if(Array.isArray(T.textposition))for(C=0;C<T.textposition.length;C++)T.textposition[C]=g(T.textposition[C]);else T.textposition&&(T.textposition=g(T.textposition));var A=s.getModule(T);if(A&&A.colorbar){var i=A.colorbar.container,E=i?T[i]:T;E&&E.colorscale&&(E.colorscale==="YIGnBu"&&(E.colorscale="YlGnBu"),E.colorscale==="YIOrRd"&&(E.colorscale="YlOrRd"))}if(T.type==="surface"&&L.isPlainObject(T.contours)){var m=["x","y","z"];for(C=0;C<m.length;C++){var k=T.contours[m[C]];L.isPlainObject(k)&&(k.highlightColor&&(k.highlightcolor=k.highlightColor,delete k.highlightColor),k.highlightWidth&&(k.highlightwidth=k.highlightWidth,delete k.highlightWidth))}}if(T.type==="candlestick"||T.type==="ohlc"){var I=(T.increasing||{}).showlegend!==!1,O=(T.decreasing||{}).showlegend!==!1,_=u(T.increasing),B=u(T.decreasing);if(_!==!1&&B!==!1){var F=f(_,B,I,O);F&&(T.name=F)}else(_||B)&&!T.name&&(T.name=_||B)}if(Array.isArray(T.transforms)){var z=T.transforms;for(C=0;C<z.length;C++){var N=z[C];if(L.isPlainObject(N))switch(N.type){case"filter":N.filtersrc&&(N.target=N.filtersrc,delete N.filtersrc),N.calendar&&(N.valuecalendar||(N.valuecalendar=N.calendar),delete N.calendar);break;case"groupby":if(N.styles=N.styles||N.style,N.styles&&!Array.isArray(N.styles)){var W=N.styles,Z=Object.keys(W);N.styles=[];for(var q=0;q<Z.length;q++)N.styles.push({target:Z[q],value:W[Z[q]]})}break}}}h(T,"line")&&delete T.line,"marker"in T&&(h(T.marker,"line")&&delete T.marker.line,h(T,"marker")&&delete T.marker),p.clean(T),T.autobinx&&(delete T.autobinx,delete T.xbins),T.autobiny&&(delete T.autobiny,delete T.ybins),l(T),T.colorbar&&l(T.colorbar),T.marker&&T.marker.colorbar&&l(T.marker.colorbar),T.line&&T.line.colorbar&&l(T.line.colorbar),T.aaxis&&l(T.aaxis),T.baxis&&l(T.baxis)}};function u(d){if(!L.isPlainObject(d))return!1;var x=d.name;return delete d.name,delete d.showlegend,(typeof x=="string"||typeof x=="number")&&String(x)}function f(d,x,T,C){if(T&&!C)return d;if(C&&!T||!d.trim())return x;if(!x.trim())return d;var y=Math.min(d.length,x.length),S;for(S=0;S<y&&d.charAt(S)===x.charAt(S);S++);var A=d.substr(0,S);return A.trim()}function g(d){var x="middle",T="center";return typeof d=="string"&&(d.indexOf("top")!==-1?x="top":d.indexOf("bottom")!==-1&&(x="bottom"),d.indexOf("left")!==-1?T="left":d.indexOf("right")!==-1&&(T="right")),x+" "+T}function h(d,x){return x in d&&typeof d[x]=="object"&&Object.keys(d[x]).length===0}V.swapXYData=function(d){var x;if(L.swapAttrs(d,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(d.z)&&Array.isArray(d.z[0])&&(d.transpose?delete d.transpose:d.transpose=!0),d.error_x&&d.error_y){var T=d.error_y,C="copy_ystyle"in T?T.copy_ystyle:!(T.color||T.thickness||T.width);L.swapAttrs(d,["error_?.copy_ystyle"]),C&&L.swapAttrs(d,["error_?.color","error_?.thickness","error_?.width"])}if(typeof d.hoverinfo=="string"){var y=d.hoverinfo.split("+");for(x=0;x<y.length;x++)y[x]==="x"?y[x]="y":y[x]==="y"&&(y[x]="x");d.hoverinfo=y.join("+")}},V.coerceTraceIndices=function(d,x){if(b(x))return[x];if(!Array.isArray(x)||!x.length)return d.data.map(function(y,S){return S});if(Array.isArray(x)){for(var T=[],C=0;C<x.length;C++)L.isIndex(x[C],d.data.length)?T.push(x[C]):L.warn("trace index (",x[C],") is not a number or is out of bounds");return T}return x},V.manageArrayContainers=function(d,x,T){var C=d.obj,y=d.parts,S=y.length,A=y[S-1],i=b(A);if(i&&x===null){var E=y.slice(0,S-1).join("."),m=L.nestedProperty(C,E).get();m.splice(A,1)}else i&&d.get()===void 0&&d.get()===void 0&&(T[d.astr]=null),d.set(x)};var w=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function c(d){var x=d.search(w);if(x>0)return d.substr(0,x)}V.hasParent=function(d,x){for(var T=c(x);T;){if(T in d)return!0;T=c(T)}return!1};var a=["x","y","z"];V.clearAxisTypes=function(d,x,T){for(var C=0;C<x.length;C++)for(var y=d._fullData[C],S=0;S<3;S++){var A=t(d,y,a[S]);if(A&&A.type!=="log"){var i=A._name,E=A._id.substr(1);if(E.substr(0,5)==="scene"){if(T[E]!==void 0)continue;i=E+"."+i}var m=i+".type";T[i]===void 0&&T[m]===void 0&&L.nestedProperty(d.layout,m).set(null)}}}},22448:function(Y,V,e){var b=e(36424);V._doPlot=b._doPlot,V.newPlot=b.newPlot,V.restyle=b.restyle,V.relayout=b.relayout,V.redraw=b.redraw,V.update=b.update,V._guiRestyle=b._guiRestyle,V._guiRelayout=b._guiRelayout,V._guiUpdate=b._guiUpdate,V._storeDirectGUIEdit=b._storeDirectGUIEdit,V.react=b.react,V.extendTraces=b.extendTraces,V.prependTraces=b.prependTraces,V.addTraces=b.addTraces,V.deleteTraces=b.deleteTraces,V.moveTraces=b.moveTraces,V.purge=b.purge,V.addFrames=b.addFrames,V.deleteFrames=b.deleteFrames,V.animate=b.animate,V.setPlotConfig=b.setPlotConfig;var P=e(52200).getGraphDiv,s=e(4016).eraseActiveShape;V.deleteActiveShape=function(M){return s(P(M))},V.toImage=e(67024),V.validate=e(21480),V.downloadImage=e(39792);var L=e(94828);V.makeTemplate=L.makeTemplate,V.validateTemplate=L.validateTemplate},17680:function(Y,V,e){var b=e(63620),P=e(16628),s=e(24248),L=e(14952).sorterAsc,M=e(24040);V.containerArrayMatch=e(69820);var v=V.isAddVal=function(t){return t==="add"||b(t)},p=V.isRemoveVal=function(t){return t===null||t==="remove"};V.applyContainerArrayChanges=function(t,o,n,l,u){var f=o.astr,g=M.getComponentMethod(f,"supplyLayoutDefaults"),h=M.getComponentMethod(f,"draw"),w=M.getComponentMethod(f,"drawOne"),c=l.replot||l.recalc||g===P||h===P,a=t.layout,d=t._fullLayout;if(n[""]){Object.keys(n).length>1&&s.warn("Full array edits are incompatible with other edits",f);var x=n[""][""];if(p(x))o.set(null);else if(Array.isArray(x))o.set(x);else return s.warn("Unrecognized full array edit value",f,x),!0;return c?!1:(g(a,d),h(t),!0)}var T=Object.keys(n).map(Number).sort(L),C=o.get(),y=C||[],S=u(d,f).get(),A=[],i=-1,E=y.length,m,k,I,O,_,B,F,z;for(m=0;m<T.length;m++){if(I=T[m],O=n[I],_=Object.keys(O),B=O[""],F=v(B),I<0||I>y.length-(F?0:1)){s.warn("index out of range",f,I);continue}if(B!==void 0)_.length>1&&s.warn("Insertion & removal are incompatible with edits to the same index.",f,I),p(B)?A.push(I):F?(B==="add"&&(B={}),y.splice(I,0,B),S&&S.splice(I,0,{})):s.warn("Unrecognized full object edit value",f,I,B),i===-1&&(i=I);else for(k=0;k<_.length;k++)z=f+"["+I+"].",u(y[I],_[k],z).set(O[_[k]])}for(m=A.length-1;m>=0;m--)y.splice(A[m],1),S&&S.splice(A[m],1);if(y.length?C||o.set(y):o.set(null),c)return!1;if(g(a,d),w!==P){var N;if(i===-1)N=T;else{for(E=Math.max(y.length,E),N=[],m=0;m<T.length&&(I=T[m],!(I>=i));m++)N.push(I);for(m=i;m<E;m++)N.push(m)}for(m=0;m<N.length;m++)w(t,N[m])}else h(t);return!0}},36424:function(Y,V,e){var b=e(33428),P=e(38248),s=e(52264),L=e(3400),M=L.nestedProperty,v=e(95924),p=e(94552),r=e(24040),t=e(73060),o=e(7316),n=e(54460),l=e(96312),u=e(94724),f=e(43616),g=e(76308),h=e(42464).initInteractions,w=e(9616),c=e(22676).clearOutline,a=e(20556).dfltConfig,d=e(17680),x=e(93404),T=e(39172),C=e(67824),y=e(33816).AX_NAME_PATTERN,S=0,A=5;function i(he,ye,_e,We){var rt;if(he=L.getGraphDiv(he),v.init(he),L.isPlainObject(ye)){var st=ye;ye=st.data,_e=st.layout,We=st.config,rt=st.frames}var Vt=v.triggerHandler(he,"plotly_beforeplot",[ye,_e,We]);if(Vt===!1)return Promise.reject();!ye&&!_e&&!L.isPlotDiv(he)&&L.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",he);function Xt(){if(rt)return V.addFrames(he,rt)}O(he,We),_e||(_e={}),b.select(he).classed("js-plotly-plot",!0),f.makeTester(),Array.isArray(he._promises)||(he._promises=[]);var Tt=(he.data||[]).length===0&&Array.isArray(ye);Array.isArray(ye)&&(x.cleanData(ye),Tt?he.data=ye:he.data.push.apply(he.data,ye),he.empty=!1),(!he.layout||Tt)&&(he.layout=x.cleanLayout(_e)),o.supplyDefaults(he);var Lt=he._fullLayout,Kt=Lt._has("cartesian");Lt._replotting=!0,(Tt||Lt._shouldCreateBgLayer)&&(Ee(he),Lt._shouldCreateBgLayer&&delete Lt._shouldCreateBgLayer),f.initGradients(he),f.initPatterns(he),Tt&&n.saveShowSpikeInitial(he);var vr=!he.calcdata||he.calcdata.length!==(he._fullData||[]).length;vr&&o.doCalcdata(he);for(var pt=0;pt<he.calcdata.length;pt++)he.calcdata[pt][0].trace=he._fullData[pt];he._context.responsive?he._responsiveChartHandler||(he._responsiveChartHandler=function(){L.isHidden(he)||o.resize(he)},window.addEventListener("resize",he._responsiveChartHandler)):L.clearResponsive(he);var jt=L.extendFlat({},Lt._size),$t=0;function mr(){for(var Ft=Lt._basePlotModules,Bt=0;Bt<Ft.length;Bt++)Ft[Bt].drawFramework&&Ft[Bt].drawFramework(he);!Lt._glcanvas&&Lt._has("gl")&&(Lt._glcanvas=Lt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(dr){return dr.key}),Lt._glcanvas.enter().append("canvas").attr("class",function(dr){return"gl-canvas gl-canvas-"+dr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Jt=he._context.plotGlPixelRatio;if(Lt._glcanvas){Lt._glcanvas.attr("width",Lt.width*Jt).attr("height",Lt.height*Jt).style("width",Lt.width+"px").style("height",Lt.height+"px");var hr=Lt._glcanvas.data()[0].regl;if(hr&&(Math.floor(Lt.width*Jt)!==hr._gl.drawingBufferWidth||Math.floor(Lt.height*Jt)!==hr._gl.drawingBufferHeight)){var cr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if($t)L.error(cr);else return L.log(cr+" Clearing graph and plotting again."),o.cleanPlot([],{},he._fullData,Lt),o.supplyDefaults(he),Lt=he._fullLayout,o.doCalcdata(he),$t++,mr()}}return Lt.modebar.orientation==="h"?Lt._modebardiv.style("height",null).style("width","100%"):Lt._modebardiv.style("width",null).style("height",Lt.height+"px"),o.previousPromises(he)}function or(){if(o.clearAutoMarginIds(he),T.drawMarginPushers(he),n.allowAutoMargin(he),he._fullLayout.title.text&&he._fullLayout.title.automargin&&o.allowAutoMargin(he,"title.automargin"),Lt._has("pie"))for(var Ft=he._fullData,Bt=0;Bt<Ft.length;Bt++){var Jt=Ft[Bt];Jt.type==="pie"&&Jt.automargin&&o.allowAutoMargin(he,"pie."+Jt.uid+".automargin")}return o.doAutoMargin(he),o.previousPromises(he)}function gt(){if(o.didMarginChange(jt,Lt._size))return L.syncOrAsync([or,T.layoutStyles],he)}function lt(){if(!vr){bt();return}return L.syncOrAsync([r.getComponentMethod("shapes","calcAutorange"),r.getComponentMethod("annotations","calcAutorange"),bt],he)}function bt(){he._transitioning||(T.doAutoRangeAndConstraints(he),Tt&&n.saveRangeInitial(he),r.getComponentMethod("rangeslider","calcAutorange")(he))}function Et(){return n.draw(he,Tt?"":"redraw")}var kt=[o.previousPromises,Xt,mr,or,gt];Kt&&kt.push(lt),kt.push(T.layoutStyles),Kt&&kt.push(Et,function(Bt){var Jt=Bt._fullLayout._insideTickLabelsUpdaterange;if(Jt)return Bt._fullLayout._insideTickLabelsUpdaterange=void 0,we(Bt,Jt).then(function(){n.saveRangeInitial(Bt,!0)})}),kt.push(T.drawData,T.finalDraw,h,o.addLinks,o.rehover,o.redrag,o.reselect,o.doAutoMargin,o.previousPromises);var Ot=L.syncOrAsync(kt,he);return(!Ot||!Ot.then)&&(Ot=Promise.resolve()),Ot.then(function(){return E(he),he})}function E(he){var ye=he._fullLayout;ye._redrawFromAutoMarginCount?ye._redrawFromAutoMarginCount--:he.emit("plotly_afterplot")}function m(he){return L.extendFlat(a,he)}function k(he,ye){try{he._fullLayout._paper.style("background",ye)}catch(_e){L.error(_e)}}function I(he,ye){var _e=g.combine(ye,"white");k(he,_e)}function O(he,ye){if(!he._context){he._context=L.extendDeep({},a);var _e=b.select("base");he._context._baseUrl=_e.size()&&_e.attr("href")?window.location.href.split("#")[0]:""}var We=he._context,rt,st,Vt;if(ye){for(st=Object.keys(ye),rt=0;rt<st.length;rt++)Vt=st[rt],!(Vt==="editable"||Vt==="edits")&&Vt in We&&(Vt==="setBackground"&&ye[Vt]==="opaque"?We[Vt]=I:We[Vt]=ye[Vt]);ye.plot3dPixelRatio&&!We.plotGlPixelRatio&&(We.plotGlPixelRatio=We.plot3dPixelRatio);var Xt=ye.editable;if(Xt!==void 0)for(We.editable=Xt,st=Object.keys(We.edits),rt=0;rt<st.length;rt++)We.edits[st[rt]]=Xt;if(ye.edits)for(st=Object.keys(ye.edits),rt=0;rt<st.length;rt++)Vt=st[rt],Vt in We.edits&&(We.edits[Vt]=ye.edits[Vt]);We._exportedPlot=ye._exportedPlot}We.staticPlot&&(We.editable=!1,We.edits={},We.autosizable=!1,We.scrollZoom=!1,We.doubleClick=!1,We.showTips=!1,We.showLink=!1,We.displayModeBar=!1),We.displayModeBar==="hover"&&!s&&(We.displayModeBar=!0),(We.setBackground==="transparent"||typeof We.setBackground!="function")&&(We.setBackground=k),We._hasZeroHeight=We._hasZeroHeight||he.clientHeight===0,We._hasZeroWidth=We._hasZeroWidth||he.clientWidth===0;var Tt=We.scrollZoom,Lt=We._scrollZoom={};if(Tt===!0)Lt.cartesian=1,Lt.gl3d=1,Lt.geo=1,Lt.mapbox=1;else if(typeof Tt=="string"){var Kt=Tt.split("+");for(rt=0;rt<Kt.length;rt++)Lt[Kt[rt]]=1}else Tt!==!1&&(Lt.gl3d=1,Lt.geo=1,Lt.mapbox=1)}function _(he){if(he=L.getGraphDiv(he),!L.isPlotDiv(he))throw new Error("This element is not a Plotly plot: "+he);return x.cleanData(he.data),x.cleanLayout(he.layout),he.calcdata=void 0,V._doPlot(he).then(function(){return he.emit("plotly_redraw"),he})}function B(he,ye,_e,We){return he=L.getGraphDiv(he),o.cleanPlot([],{},he._fullData||[],he._fullLayout||{}),o.purge(he),V._doPlot(he,ye,_e,We)}function F(he,ye){var _e=ye+1,We=[],rt,st;for(rt=0;rt<he.length;rt++)st=he[rt],st<0?We.push(_e+st):We.push(st);return We}function z(he,ye,_e){var We,rt;for(We=0;We<ye.length;We++){if(rt=ye[We],rt!==parseInt(rt,10))throw new Error("all values in "+_e+" must be integers");if(rt>=he.data.length||rt<-he.data.length)throw new Error(_e+" must be valid indices for gd.data.");if(ye.indexOf(rt,We+1)>-1||rt>=0&&ye.indexOf(-he.data.length+rt)>-1||rt<0&&ye.indexOf(he.data.length+rt)>-1)throw new Error("each index in "+_e+" must be unique.")}}function N(he,ye,_e){if(!Array.isArray(he.data))throw new Error("gd.data must be an array.");if(typeof ye>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(ye)||(ye=[ye]),z(he,ye,"currentIndices"),typeof _e<"u"&&!Array.isArray(_e)&&(_e=[_e]),typeof _e<"u"&&z(he,_e,"newIndices"),typeof _e<"u"&&ye.length!==_e.length)throw new Error("current and new indices must be of equal length.")}function W(he,ye,_e){var We,rt;if(!Array.isArray(he.data))throw new Error("gd.data must be an array.");if(typeof ye>"u")throw new Error("traces must be defined.");for(Array.isArray(ye)||(ye=[ye]),We=0;We<ye.length;We++)if(rt=ye[We],typeof rt!="object"||Array.isArray(rt)||rt===null)throw new Error("all values in traces array must be non-array objects");if(typeof _e<"u"&&!Array.isArray(_e)&&(_e=[_e]),typeof _e<"u"&&_e.length!==ye.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function Z(he,ye,_e,We){var rt=L.isPlainObject(We);if(!Array.isArray(he.data))throw new Error("gd.data must be an array");if(!L.isPlainObject(ye))throw new Error("update must be a key:value object");if(typeof _e>"u")throw new Error("indices must be an integer or array of integers");z(he,_e,"indices");for(var st in ye){if(!Array.isArray(ye[st])||ye[st].length!==_e.length)throw new Error("attribute "+st+" must be an array of length equal to indices array length");if(rt&&(!(st in We)||!Array.isArray(We[st])||We[st].length!==ye[st].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function q(he,ye,_e,We){var rt=L.isPlainObject(We),st=[],Vt,Xt,Tt,Lt,Kt;Array.isArray(_e)||(_e=[_e]),_e=F(_e,he.data.length-1);for(var vr in ye)for(var pt=0;pt<_e.length;pt++){if(Vt=he.data[_e[pt]],Tt=M(Vt,vr),Xt=Tt.get(),Lt=ye[vr][pt],!L.isArrayOrTypedArray(Lt))throw new Error("attribute: "+vr+" index: "+pt+" must be an array");if(!L.isArrayOrTypedArray(Xt))throw new Error("cannot extend missing or non-array attribute: "+vr);if(Xt.constructor!==Lt.constructor)throw new Error("cannot extend array with an array of a different type: "+vr);Kt=rt?We[vr][pt]:We,P(Kt)||(Kt=-1),st.push({prop:Tt,target:Xt,insert:Lt,maxp:Math.floor(Kt)})}return st}function re(he,ye,_e,We,rt){Z(he,ye,_e,We);for(var st=q(he,ye,_e,We),Vt={},Xt={},Tt=0;Tt<st.length;Tt++){var Lt=st[Tt].prop,Kt=st[Tt].maxp,vr=rt(st[Tt].target,st[Tt].insert,Kt);Lt.set(vr[0]),Array.isArray(Vt[Lt.astr])||(Vt[Lt.astr]=[]),Vt[Lt.astr].push(vr[1]),Array.isArray(Xt[Lt.astr])||(Xt[Lt.astr]=[]),Xt[Lt.astr].push(st[Tt].target.length)}return{update:Vt,maxPoints:Xt}}function le(he,ye){var _e=new he.constructor(he.length+ye.length);return _e.set(he),_e.set(ye,he.length),_e}function ie(he,ye,_e,We){he=L.getGraphDiv(he);function rt(Tt,Lt,Kt){var vr,pt;if(L.isTypedArray(Tt))if(Kt<0){var jt=new Tt.constructor(0),$t=le(Tt,Lt);Kt<0?(vr=$t,pt=jt):(vr=jt,pt=$t)}else if(vr=new Tt.constructor(Kt),pt=new Tt.constructor(Tt.length+Lt.length-Kt),Kt===Lt.length)vr.set(Lt),pt.set(Tt);else if(Kt<Lt.length){var mr=Lt.length-Kt;vr.set(Lt.subarray(mr)),pt.set(Tt),pt.set(Lt.subarray(0,mr),Tt.length)}else{var or=Kt-Lt.length,gt=Tt.length-or;vr.set(Tt.subarray(gt)),vr.set(Lt,or),pt.set(Tt.subarray(0,gt))}else vr=Tt.concat(Lt),pt=Kt>=0&&Kt<vr.length?vr.splice(0,vr.length-Kt):[];return[vr,pt]}var st=re(he,ye,_e,We,rt),Vt=V.redraw(he),Xt=[he,st.update,_e,st.maxPoints];return p.add(he,V.prependTraces,Xt,ie,arguments),Vt}function K(he,ye,_e,We){he=L.getGraphDiv(he);function rt(Tt,Lt,Kt){var vr,pt;if(L.isTypedArray(Tt))if(Kt<=0){var jt=new Tt.constructor(0),$t=le(Lt,Tt);Kt<0?(vr=$t,pt=jt):(vr=jt,pt=$t)}else if(vr=new Tt.constructor(Kt),pt=new Tt.constructor(Tt.length+Lt.length-Kt),Kt===Lt.length)vr.set(Lt),pt.set(Tt);else if(Kt<Lt.length){var mr=Lt.length-Kt;vr.set(Lt.subarray(0,mr)),pt.set(Lt.subarray(mr)),pt.set(Tt,mr)}else{var or=Kt-Lt.length;vr.set(Lt),vr.set(Tt.subarray(0,or),Lt.length),pt.set(Tt.subarray(or))}else vr=Lt.concat(Tt),pt=Kt>=0&&Kt<vr.length?vr.splice(Kt,vr.length):[];return[vr,pt]}var st=re(he,ye,_e,We,rt),Vt=V.redraw(he),Xt=[he,st.update,_e,st.maxPoints];return p.add(he,V.extendTraces,Xt,K,arguments),Vt}function $(he,ye,_e){he=L.getGraphDiv(he);var We=[],rt=V.deleteTraces,st=$,Vt=[he,We],Xt=[he,ye],Tt,Lt;for(W(he,ye,_e),Array.isArray(ye)||(ye=[ye]),ye=ye.map(function(Kt){return L.extendFlat({},Kt)}),x.cleanData(ye),Tt=0;Tt<ye.length;Tt++)he.data.push(ye[Tt]);for(Tt=0;Tt<ye.length;Tt++)We.push(-ye.length+Tt);if(typeof _e>"u")return Lt=V.redraw(he),p.add(he,rt,Vt,st,Xt),Lt;Array.isArray(_e)||(_e=[_e]);try{N(he,We,_e)}catch(Kt){throw he.data.splice(he.data.length-ye.length,ye.length),Kt}return p.startSequence(he),p.add(he,rt,Vt,st,Xt),Lt=V.moveTraces(he,We,_e),p.stopSequence(he),Lt}function X(he,ye){he=L.getGraphDiv(he);var _e=[],We=V.addTraces,rt=X,st=[he,_e,ye],Vt=[he,ye],Xt,Tt;if(typeof ye>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(ye)||(ye=[ye]),z(he,ye,"indices"),ye=F(ye,he.data.length-1),ye.sort(L.sorterDes),Xt=0;Xt<ye.length;Xt+=1)Tt=he.data.splice(ye[Xt],1)[0],_e.push(Tt);var Lt=V.redraw(he);return p.add(he,We,st,rt,Vt),Lt}function Q(he,ye,_e){he=L.getGraphDiv(he);var We=[],rt=[],st=Q,Vt=Q,Xt=[he,_e,ye],Tt=[he,ye,_e],Lt;if(N(he,ye,_e),ye=Array.isArray(ye)?ye:[ye],typeof _e>"u")for(_e=[],Lt=0;Lt<ye.length;Lt++)_e.push(-ye.length+Lt);for(_e=Array.isArray(_e)?_e:[_e],ye=F(ye,he.data.length-1),_e=F(_e,he.data.length-1),Lt=0;Lt<he.data.length;Lt++)ye.indexOf(Lt)===-1&&We.push(he.data[Lt]);for(Lt=0;Lt<ye.length;Lt++)rt.push({newIndex:_e[Lt],trace:he.data[ye[Lt]]});for(rt.sort(function(vr,pt){return vr.newIndex-pt.newIndex}),Lt=0;Lt<rt.length;Lt+=1)We.splice(rt[Lt].newIndex,0,rt[Lt].trace);he.data=We;var Kt=V.redraw(he);return p.add(he,st,Xt,Vt,Tt),Kt}function se(he,ye,_e,We){he=L.getGraphDiv(he),x.clearPromiseQueue(he);var rt={};if(typeof ye=="string")rt[ye]=_e;else if(L.isPlainObject(ye))rt=L.extendFlat({},ye),We===void 0&&(We=_e);else return L.warn("Restyle fail.",ye,_e,We),Promise.reject();Object.keys(rt).length&&(he.changed=!0);var st=x.coerceTraceIndices(he,We),Vt=fe(he,rt,st),Xt=Vt.flags;Xt.calc&&(he.calcdata=void 0),Xt.clearAxisTypes&&x.clearAxisTypes(he,st,{});var Tt=[];Xt.fullReplot?Tt.push(V._doPlot):(Tt.push(o.previousPromises),o.supplyDefaults(he),Xt.markerSize&&(o.doCalcdata(he),Ce(Tt)),Xt.style&&Tt.push(T.doTraceStyle),Xt.colorbars&&Tt.push(T.doColorBars),Tt.push(E)),Tt.push(o.rehover,o.redrag,o.reselect),p.add(he,se,[he,Vt.undoit,Vt.traces],se,[he,Vt.redoit,Vt.traces]);var Lt=L.syncOrAsync(Tt,he);return(!Lt||!Lt.then)&&(Lt=Promise.resolve()),Lt.then(function(){return he.emit("plotly_restyle",Vt.eventData),he})}function J(he){return he===void 0?null:he}function G(he,ye){return ye?function(_e,We,rt){var st=M(_e,We),Vt=st.set;return st.set=function(Xt){var Tt=(rt||"")+We;oe(Tt,st.get(),Xt,he),Vt(Xt)},st}:M}function oe(he,ye,_e,We){if(Array.isArray(ye)||Array.isArray(_e))for(var rt=Array.isArray(ye)?ye:[],st=Array.isArray(_e)?_e:[],Vt=Math.max(rt.length,st.length),Xt=0;Xt<Vt;Xt++)oe(he+"["+Xt+"]",rt[Xt],st[Xt],We);else if(L.isPlainObject(ye)||L.isPlainObject(_e)){var Tt=L.isPlainObject(ye)?ye:{},Lt=L.isPlainObject(_e)?_e:{},Kt=L.extendFlat({},Tt,Lt);for(var vr in Kt)oe(he+"."+vr,Tt[vr],Lt[vr],We)}else We[he]===void 0&&(We[he]=J(ye))}function te(he,ye,_e){for(var We in _e){var rt=M(he,We);oe(We,rt.get(),_e[We],ye)}}function fe(he,ye,_e){var We=he._fullLayout,rt=he._fullData,st=he.data,Vt=We._guiEditing,Xt=G(We._preGUI,Vt),Tt=L.extendDeepAll({},ye),Lt;ge(ye);var Kt=C.traceFlags(),vr={},pt={},jt;function $t(){return _e.map(function(){})}function mr(nn){var gr=n.id2name(nn);jt.indexOf(gr)===-1&&jt.push(gr)}function or(nn){return"LAYOUT"+nn+".autorange"}function gt(nn){return"LAYOUT"+nn+".range"}function lt(nn){for(var gr=nn;gr<rt.length;gr++)if(rt[gr]._input===st[nn])return rt[gr]}function bt(nn,gr,Pr){if(Array.isArray(nn)){nn.forEach(function(tn){bt(tn,gr,Pr)});return}if(!(nn in ye||x.hasParent(ye,nn))){var Xr;if(nn.substr(0,6)==="LAYOUT")Xr=Xt(he.layout,nn.replace("LAYOUT",""));else{var kr=_e[Pr],pn=We._tracePreGUI[lt(kr)._fullInput.uid];Xr=G(pn,Vt)(st[kr],nn)}nn in pt||(pt[nn]=$t()),pt[nn][Pr]===void 0&&(pt[nn][Pr]=J(Xr.get())),gr!==void 0&&Xr.set(gr)}}function Et(nn){return function(gr){return rt[gr][nn]}}function kt(nn){return function(gr,Pr){return gr===!1?rt[_e[Pr]][nn]:null}}for(var Ot in ye){if(x.hasParent(ye,Ot))throw new Error("cannot set "+Ot+" and a parent attribute simultaneously");var Ft=ye[Ot],Bt,Jt,hr,cr,dr,fr;if((Ot==="autobinx"||Ot==="autobiny")&&(Ot=Ot.charAt(Ot.length-1)+"bins",Array.isArray(Ft)?Ft=Ft.map(kt(Ot)):Ft===!1?Ft=_e.map(Et(Ot)):Ft=null),vr[Ot]=Ft,Ot.substr(0,6)==="LAYOUT"){hr=Xt(he.layout,Ot.replace("LAYOUT","")),pt[Ot]=[J(hr.get())],hr.set(Array.isArray(Ft)?Ft[0]:Ft),Kt.calc=!0;continue}for(pt[Ot]=$t(),Lt=0;Lt<_e.length;Lt++){Bt=st[_e[Lt]],Jt=lt(_e[Lt]);var Lr=We._tracePreGUI[Jt._fullInput.uid];if(hr=G(Lr,Vt)(Bt,Ot),cr=hr.get(),dr=Array.isArray(Ft)?Ft[Lt%Ft.length]:Ft,dr!==void 0){var xr=hr.parts[hr.parts.length-1],Ke=Ot.substr(0,Ot.length-xr.length-1),et=Ke?Ke+".":"",er=Ke?M(Jt,Ke).get():Jt;if(fr=t.getTraceValObject(Jt,hr.parts),fr&&fr.impliedEdits&&dr!==null)for(var tr in fr.impliedEdits)bt(L.relativeAttr(Ot,tr),fr.impliedEdits[tr],Lt);else if((xr==="thicknessmode"||xr==="lenmode")&&cr!==dr&&(dr==="fraction"||dr==="pixels")&&er){var Yt=We._size,Pt=er.orient,Zt=Pt==="top"||Pt==="bottom";if(xr==="thicknessmode"){var nr=Zt?Yt.h:Yt.w;bt(et+"thickness",er.thickness*(dr==="fraction"?1/nr:nr),Lt)}else{var Qt=Zt?Yt.w:Yt.h;bt(et+"len",er.len*(dr==="fraction"?1/Qt:Qt),Lt)}}else if(Ot==="type"&&(dr==="pie"!=(cr==="pie")||dr==="funnelarea"!=(cr==="funnelarea"))){var Wt="x",yr="y";(dr==="bar"||cr==="bar")&&Bt.orientation==="h"&&(Wt="y",yr="x"),L.swapAttrs(Bt,["?","?src"],"labels",Wt),L.swapAttrs(Bt,["d?","?0"],"label",Wt),L.swapAttrs(Bt,["?","?src"],"values",yr),cr==="pie"||cr==="funnelarea"?(M(Bt,"marker.color").set(M(Bt,"marker.colors").get()),We._pielayer.selectAll("g.trace").remove()):r.traceIs(Bt,"cartesian")&&M(Bt,"marker.colors").set(M(Bt,"marker.color").get())}pt[Ot][Lt]=J(cr);var Ir=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Ir.indexOf(Ot)!==-1){if(Ot==="orientation"){hr.set(dr);var Tr=Bt.x&&!Bt.y?"h":"v";if((hr.get()||Tr)===Jt.orientation)continue}else Ot==="orientationaxes"&&(Bt.orientation={v:"h",h:"v"}[Jt.orientation]);x.swapXYData(Bt),Kt.calc=Kt.clearAxisTypes=!0}else o.dataArrayContainers.indexOf(hr.parts[0])!==-1?(x.manageArrayContainers(hr,dr,pt),Kt.calc=!0):(fr?fr.arrayOk&&!r.traceIs(Jt,"regl")&&(L.isArrayOrTypedArray(dr)||L.isArrayOrTypedArray(cr))?Kt.calc=!0:C.update(Kt,fr):Kt.calc=!0,hr.set(dr))}}if(["swapxyaxes","orientationaxes"].indexOf(Ot)!==-1&&n.swap(he,_e),Ot==="orientationaxes"){var vn=M(he.layout,"hovermode"),Or=vn.get();Or==="x"?vn.set("y"):Or==="y"?vn.set("x"):Or==="x unified"?vn.set("y unified"):Or==="y unified"&&vn.set("x unified")}if(["orientation","type"].indexOf(Ot)!==-1){for(jt=[],Lt=0;Lt<_e.length;Lt++){var En=st[_e[Lt]];r.traceIs(En,"cartesian")&&(mr(En.xaxis||"x"),mr(En.yaxis||"y"))}bt(jt.map(or),!0,0),bt(jt.map(gt),[0,1],0)}}return(Kt.calc||Kt.plot)&&(Kt.fullReplot=!0),{flags:Kt,undoit:pt,redoit:vr,traces:_e,eventData:L.extendDeepNoArrays([],[Tt,_e])}}function ge(he){var ye=L.counterRegex("axis",".title",!1,!1),_e=/colorbar\.title$/,We=Object.keys(he),rt,st,Vt;for(rt=0;rt<We.length;rt++)st=We[rt],Vt=he[st],(st==="title"||ye.test(st)||_e.test(st))&&(typeof Vt=="string"||typeof Vt=="number")?Xt(st,st.replace("title","title.text")):st.indexOf("titlefont")>-1&&st.indexOf("grouptitlefont")===-1?Xt(st,st.replace("titlefont","title.font")):st.indexOf("titleposition")>-1?Xt(st,st.replace("titleposition","title.position")):st.indexOf("titleside")>-1?Xt(st,st.replace("titleside","title.side")):st.indexOf("titleoffset")>-1&&Xt(st,st.replace("titleoffset","title.offset"));function Xt(Tt,Lt){he[Lt]=he[Tt],delete he[Tt]}}function we(he,ye,_e){he=L.getGraphDiv(he),x.clearPromiseQueue(he);var We={};if(typeof ye=="string")We[ye]=_e;else if(L.isPlainObject(ye))We=L.extendFlat({},ye);else return L.warn("Relayout fail.",ye,_e),Promise.reject();Object.keys(We).length&&(he.changed=!0);var rt=Re(he,We),st=rt.flags;st.calc&&(he.calcdata=void 0);var Vt=[o.previousPromises];st.layoutReplot?Vt.push(T.layoutReplot):Object.keys(We).length&&(xe(he,st,rt)||o.supplyDefaults(he),st.legend&&Vt.push(T.doLegend),st.layoutstyle&&Vt.push(T.layoutStyles),st.axrange&&Ce(Vt,rt.rangesAltered),st.ticks&&Vt.push(T.doTicksRelayout),st.modebar&&Vt.push(T.doModeBar),st.camera&&Vt.push(T.doCamera),st.colorbars&&Vt.push(T.doColorBars),Vt.push(E)),Vt.push(o.rehover,o.redrag,o.reselect),p.add(he,we,[he,rt.undoit],we,[he,rt.redoit]);var Xt=L.syncOrAsync(Vt,he);return(!Xt||!Xt.then)&&(Xt=Promise.resolve(he)),Xt.then(function(){return he.emit("plotly_relayout",rt.eventData),he})}function xe(he,ye,_e){var We=he._fullLayout;if(!ye.axrange)return!1;for(var rt in ye)if(rt!=="axrange"&&ye[rt])return!1;var st,Vt,Xt=function(jt,$t){return L.coerce(st,Vt,u,jt,$t)},Tt={};for(var Lt in _e.rangesAltered){var Kt=n.id2name(Lt);if(st=he.layout[Kt],Vt=We[Kt],l(st,Vt,Xt,Tt),Vt._matchGroup){for(var vr in Vt._matchGroup)if(vr!==Lt){var pt=We[n.id2name(vr)];pt.autorange=Vt.autorange,pt.range=Vt.range.slice(),pt._input.range=Vt.range.slice()}}}return!0}function Ce(he,ye){var _e=ye?function(We){var rt=[],st=!0;for(var Vt in ye){var Xt=n.getFromId(We,Vt);if(rt.push(Vt),(Xt.ticklabelposition||"").indexOf("inside")!==-1&&Xt._anchorAxis&&rt.push(Xt._anchorAxis._id),Xt._matchGroup)for(var Tt in Xt._matchGroup)ye[Tt]||rt.push(Tt)}return n.draw(We,rt,{skipTitle:st})}:function(We){return n.draw(We,"redraw")};he.push(c,T.doAutoRangeAndConstraints,_e,T.drawData,T.finalDraw)}var De=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Oe=/^[xyz]axis[0-9]*\.autorange$/,Te=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Re(he,ye){var _e=he.layout,We=he._fullLayout,rt=We._guiEditing,st=G(We._preGUI,rt),Vt=Object.keys(ye),Xt=n.list(he),Tt=L.extendDeepAll({},ye),Lt={},Kt,vr,pt;for(ge(ye),Vt=Object.keys(ye),vr=0;vr<Vt.length;vr++)if(Vt[vr].indexOf("allaxes")===0){for(pt=0;pt<Xt.length;pt++){var jt=Xt[pt]._id.substr(1),$t=jt.indexOf("scene")!==-1?jt+".":"",mr=Vt[vr].replace("allaxes",$t+Xt[pt]._name);ye[mr]||(ye[mr]=ye[Vt[vr]])}delete ye[Vt[vr]]}var or=C.layoutFlags(),gt={},lt={};function bt(pn,tn){if(Array.isArray(pn)){pn.forEach(function(Ln){bt(Ln,tn)});return}if(!(pn in ye||x.hasParent(ye,pn))){var Tn=st(_e,pn);pn in lt||(lt[pn]=J(Tn.get())),tn!==void 0&&Tn.set(tn)}}var Et={},kt;function Ot(pn){var tn=n.name2id(pn.split(".")[0]);return Et[tn]=1,tn}for(var Ft in ye){if(x.hasParent(ye,Ft))throw new Error("cannot set "+Ft+" and a parent attribute simultaneously");for(var Bt=st(_e,Ft),Jt=ye[Ft],hr=Bt.parts.length,cr=hr-1;cr>0&&typeof Bt.parts[cr]!="string";)cr--;var dr=Bt.parts[cr],fr=Bt.parts[cr-1]+"."+dr,Lr=Bt.parts.slice(0,cr).join("."),xr=M(he.layout,Lr).get(),Ke=M(We,Lr).get(),et=Bt.get();if(Jt!==void 0){gt[Ft]=Jt,lt[Ft]=dr==="reverse"?Jt:J(et);var er=t.getLayoutValObject(We,Bt.parts);if(er&&er.impliedEdits&&Jt!==null)for(var tr in er.impliedEdits)bt(L.relativeAttr(Ft,tr),er.impliedEdits[tr]);if(["width","height"].indexOf(Ft)!==-1)if(Jt){bt("autosize",null);var Yt=Ft==="height"?"width":"height";bt(Yt,We[Yt])}else We[Ft]=he._initialAutoSize[Ft];else if(Ft==="autosize")bt("width",Jt?null:We.width),bt("height",Jt?null:We.height);else if(fr.match(De))Ot(fr),M(We,Lr+"._inputRange").set(null);else if(fr.match(Oe)){Ot(fr),M(We,Lr+"._inputRange").set(null);var Pt=M(We,Lr).get();Pt._inputDomain&&(Pt._input.domain=Pt._inputDomain.slice())}else fr.match(Te)&&M(We,Lr+"._inputDomain").set(null);if(dr==="type"){kt=xr;var Zt=Ke.type==="linear"&&Jt==="log",nr=Ke.type==="log"&&Jt==="linear";if(Zt||nr){if(!kt||!kt.range)bt(Lr+".autorange",!0);else if(Ke.autorange)Zt&&(kt.range=kt.range[1]>kt.range[0]?[1,2]:[2,1]);else{var Qt=kt.range[0],Wt=kt.range[1];Zt?(Qt<=0&&Wt<=0&&bt(Lr+".autorange",!0),Qt<=0?Qt=Wt/1e6:Wt<=0&&(Wt=Qt/1e6),bt(Lr+".range[0]",Math.log(Qt)/Math.LN10),bt(Lr+".range[1]",Math.log(Wt)/Math.LN10)):(bt(Lr+".range[0]",Math.pow(10,Qt)),bt(Lr+".range[1]",Math.pow(10,Wt)))}Array.isArray(We._subplots.polar)&&We._subplots.polar.length&&We[Bt.parts[0]]&&Bt.parts[1]==="radialaxis"&&delete We[Bt.parts[0]]._subplot.viewInitial["radialaxis.range"],r.getComponentMethod("annotations","convertCoords")(he,Ke,Jt,bt),r.getComponentMethod("images","convertCoords")(he,Ke,Jt,bt)}else bt(Lr+".autorange",!0),bt(Lr+".range",null);M(We,Lr+"._inputRange").set(null)}else if(dr.match(y)){var yr=M(We,Ft).get(),Ir=(Jt||{}).type;(!Ir||Ir==="-")&&(Ir="linear"),r.getComponentMethod("annotations","convertCoords")(he,yr,Ir,bt),r.getComponentMethod("images","convertCoords")(he,yr,Ir,bt)}var Tr=d.containerArrayMatch(Ft);if(Tr){Kt=Tr.array,vr=Tr.index;var vn=Tr.property,Or=er||{editType:"calc"};vr!==""&&vn===""&&(d.isAddVal(Jt)?lt[Ft]=null:d.isRemoveVal(Jt)?lt[Ft]=(M(_e,Kt).get()||[])[vr]:L.warn("unrecognized full object value",ye)),C.update(or,Or),Lt[Kt]||(Lt[Kt]={});var En=Lt[Kt][vr];En||(En=Lt[Kt][vr]={}),En[vn]=Jt,delete ye[Ft]}else dr==="reverse"?(xr.range?xr.range.reverse():(bt(Lr+".autorange",!0),xr.range=[1,0]),Ke.autorange?or.calc=!0:or.plot=!0):(Ft==="dragmode"&&(Jt===!1&&et!==!1||Jt!==!1&&et===!1)||We._has("scatter-like")&&We._has("regl")&&Ft==="dragmode"&&(Jt==="lasso"||Jt==="select")&&!(et==="lasso"||et==="select")||We._has("gl2d")?or.plot=!0:er?C.update(or,er):or.calc=!0,Bt.set(Jt))}}for(Kt in Lt){var nn=d.applyContainerArrayChanges(he,st(_e,Kt),Lt[Kt],or,st);nn||(or.plot=!0)}for(var gr in Et){kt=n.getFromId(he,gr);var Pr=kt&&kt._constraintGroup;if(Pr){or.calc=!0;for(var Xr in Pr)Et[Xr]||(n.getFromId(he,Xr)._constraintShrinkable=!0)}}(Me(he)||ye.height||ye.width)&&(or.plot=!0);var kr=We.shapes;for(vr=0;vr<kr.length;vr++)if(kr[vr].showlegend){or.calc=!0;break}return(or.plot||or.calc)&&(or.layoutReplot=!0),{flags:or,rangesAltered:Et,undoit:lt,redoit:gt,eventData:Tt}}function Me(he){var ye=he._fullLayout,_e=ye.width,We=ye.height;return he.layout.autosize&&o.plotAutoSize(he,he.layout,ye),ye.width!==_e||ye.height!==We}function ke(he,ye,_e,We){he=L.getGraphDiv(he),x.clearPromiseQueue(he),L.isPlainObject(ye)||(ye={}),L.isPlainObject(_e)||(_e={}),Object.keys(ye).length&&(he.changed=!0),Object.keys(_e).length&&(he.changed=!0);var rt=x.coerceTraceIndices(he,We),st=fe(he,L.extendFlat({},ye),rt),Vt=st.flags,Xt=Re(he,L.extendFlat({},_e)),Tt=Xt.flags;(Vt.calc||Tt.calc)&&(he.calcdata=void 0),Vt.clearAxisTypes&&x.clearAxisTypes(he,rt,_e);var Lt=[];Tt.layoutReplot?Lt.push(T.layoutReplot):Vt.fullReplot?Lt.push(V._doPlot):(Lt.push(o.previousPromises),xe(he,Tt,Xt)||o.supplyDefaults(he),Vt.style&&Lt.push(T.doTraceStyle),(Vt.colorbars||Tt.colorbars)&&Lt.push(T.doColorBars),Tt.legend&&Lt.push(T.doLegend),Tt.layoutstyle&&Lt.push(T.layoutStyles),Tt.axrange&&Ce(Lt,Xt.rangesAltered),Tt.ticks&&Lt.push(T.doTicksRelayout),Tt.modebar&&Lt.push(T.doModeBar),Tt.camera&&Lt.push(T.doCamera),Lt.push(E)),Lt.push(o.rehover,o.redrag,o.reselect),p.add(he,ke,[he,st.undoit,Xt.undoit,st.traces],ke,[he,st.redoit,Xt.redoit,st.traces]);var Kt=L.syncOrAsync(Lt,he);return(!Kt||!Kt.then)&&(Kt=Promise.resolve(he)),Kt.then(function(){return he.emit("plotly_update",{data:st.eventData,layout:Xt.eventData}),he})}function Se(he){return function(_e){_e._fullLayout._guiEditing=!0;var We=he.apply(null,arguments);return _e._fullLayout._guiEditing=!1,We}}var He=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],je=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function at(he,ye){for(var _e=0;_e<ye.length;_e++){var We=ye[_e],rt=he.match(We.pattern);if(rt){var st=rt[1]||"";return{head:st,tail:he.substr(st.length+1),attr:We.attr}}}}function Ze(he,ye){var _e=M(ye,he).get();if(_e!==void 0)return _e;var We=he.split(".");for(We.pop();We.length>1;)if(We.pop(),_e=M(ye,We.join(".")+".uirevision").get(),_e!==void 0)return _e;return ye.uirevision}function $e(he,ye){for(var _e=0;_e<ye.length;_e++)if(ye[_e]._fullInput.uid===he)return _e;return-1}function ut(he,ye,_e){for(var We=0;We<ye.length;We++)if(ye[We].uid===he)return We;return!ye[_e]||ye[_e].uid?-1:_e}function ht(he,ye){var _e=L.isPlainObject(he),We=Array.isArray(he);return _e||We?(_e&&L.isPlainObject(ye)||We&&Array.isArray(ye))&&JSON.stringify(he)===JSON.stringify(ye):he===ye}function vt(he,ye,_e,We){var rt=We._preGUI,st,Vt,Xt,Tt,Lt,Kt,vr,pt,jt,$t,mr=[],or={},gt={};for(st in rt){if(Lt=at(st,He),Lt){if(jt=Lt.head,$t=Lt.tail,Vt=Lt.attr||jt+".uirevision",Xt=M(We,Vt).get(),Tt=Xt&&Ze(Vt,ye),Tt&&Tt===Xt){if(Kt=rt[st],Kt===null&&(Kt=void 0),vr=M(ye,st),pt=vr.get(),ht(pt,Kt)){pt===void 0&&$t==="autorange"&&mr.push(jt),vr.set(J(M(We,st).get()));continue}else if($t==="autorange"||$t.substr(0,6)==="range["){var lt=rt[jt+".range[0]"],bt=rt[jt+".range[1]"],Et=rt[jt+".autorange"];if(Et||Et===null&&lt===null&&bt===null){if(!(jt in or)){var kt=M(ye,jt).get();or[jt]=kt&&(kt.autorange||kt.autorange!==!1&&(!kt.range||kt.range.length!==2))}if(or[jt]){vr.set(J(M(We,st).get()));continue}}}}}else L.warn("unrecognized GUI edit: "+st);delete rt[st],Lt&&Lt.tail.substr(0,6)==="range["&&(gt[Lt.head]=1)}for(var Ot=0;Ot<mr.length;Ot++){var Ft=mr[Ot];if(gt[Ft]){var Bt=M(ye,Ft).get();Bt&&delete Bt.autorange}}var Jt=We._tracePreGUI;for(var hr in Jt){var cr=Jt[hr],dr=null,fr;for(st in cr){if(!dr){var Lr=$e(hr,_e);if(Lr<0){delete Jt[hr];break}var xr=_e[Lr];fr=xr._fullInput;var Ke=ut(hr,he,fr.index);if(Ke<0){delete Jt[hr];break}dr=he[Ke]}if(Lt=at(st,je),Lt){if(Lt.attr?(Xt=M(We,Lt.attr).get(),Tt=Xt&&Ze(Lt.attr,ye)):(Xt=fr.uirevision,Tt=dr.uirevision,Tt===void 0&&(Tt=ye.uirevision)),Tt&&Tt===Xt&&(Kt=cr[st],Kt===null&&(Kt=void 0),vr=M(dr,st),pt=vr.get(),ht(pt,Kt))){vr.set(J(M(fr,st).get()));continue}}else L.warn("unrecognized GUI edit: "+st+" in trace uid "+hr);delete cr[st]}}}function xt(he,ye,_e,We){var rt,st;function Vt(){return V.addFrames(he,rt)}he=L.getGraphDiv(he),x.clearPromiseQueue(he);var Xt=he._fullData,Tt=he._fullLayout;if(!L.isPlotDiv(he)||!Xt||!Tt)st=V.newPlot(he,ye,_e,We);else{if(L.isPlainObject(ye)){var Lt=ye;ye=Lt.data,_e=Lt.layout,We=Lt.config,rt=Lt.frames}var Kt=!1;if(We){var vr=L.extendDeep({},he._context);he._context=void 0,O(he,We),Kt=Ve(vr,he._context)}he.data=ye||[],x.cleanData(he.data),he.layout=_e||{},x.cleanLayout(he.layout),vt(he.data,he.layout,Xt,Tt),o.supplyDefaults(he,{skipUpdateCalc:!0});var pt=he._fullData,jt=he._fullLayout,$t=jt.datarevision===void 0,mr=jt.transition,or=tt(he,Tt,jt,$t,mr),gt=or.newDataRevision,lt=St(he,Xt,pt,$t,mr,gt);if(Me(he)&&(or.layoutReplot=!0),lt.calc||or.calc){he.calcdata=void 0;for(var bt=Object.getOwnPropertyNames(jt),Et=0;Et<bt.length;Et++){var kt=bt[Et],Ot=kt.substring(0,5);if(Ot==="xaxis"||Ot==="yaxis"){var Ft=jt[kt]._emptyCategories;Ft&&Ft()}}}else o.supplyDefaultsUpdateCalc(he.calcdata,pt);var Bt=[];if(rt&&(he._transitionData={},o.createTransitionData(he),Bt.push(Vt)),jt.transition&&!Kt&&(lt.anim||or.anim))or.ticks&&Bt.push(T.doTicksRelayout),o.doCalcdata(he),T.doAutoRangeAndConstraints(he),Bt.push(function(){return o.transitionFromReact(he,lt,or,Tt)});else if(lt.fullReplot||or.layoutReplot||Kt)he._fullLayout._skipDefaults=!0,Bt.push(V._doPlot);else{for(var Jt in or.arrays){var hr=or.arrays[Jt];if(hr.length){var cr=r.getComponentMethod(Jt,"drawOne");if(cr!==L.noop)for(var dr=0;dr<hr.length;dr++)cr(he,hr[dr]);else{var fr=r.getComponentMethod(Jt,"draw");if(fr===L.noop)throw new Error("cannot draw components: "+Jt);fr(he)}}}Bt.push(o.previousPromises),lt.style&&Bt.push(T.doTraceStyle),(lt.colorbars||or.colorbars)&&Bt.push(T.doColorBars),or.legend&&Bt.push(T.doLegend),or.layoutstyle&&Bt.push(T.layoutStyles),or.axrange&&Ce(Bt),or.ticks&&Bt.push(T.doTicksRelayout),or.modebar&&Bt.push(T.doModeBar),or.camera&&Bt.push(T.doCamera),Bt.push(E)}Bt.push(o.rehover,o.redrag,o.reselect),st=L.syncOrAsync(Bt,he),(!st||!st.then)&&(st=Promise.resolve(he))}return st.then(function(){return he.emit("plotly_react",{data:ye,layout:_e}),he})}function St(he,ye,_e,We,rt,st){var Vt=ye.length===_e.length;if(!rt&&!Vt)return{fullReplot:!0,calc:!0};var Xt=C.traceFlags();Xt.arrays={},Xt.nChanges=0,Xt.nChangesAnim=0;var Tt,Lt;function Kt(jt){var $t=t.getTraceValObject(Lt,jt);return!Lt._module.animatable&&$t.anim&&($t.anim=!1),$t}var vr={getValObject:Kt,flags:Xt,immutable:We,transition:rt,newDataRevision:st,gd:he},pt={};for(Tt=0;Tt<ye.length;Tt++)if(_e[Tt]){if(Lt=_e[Tt]._fullInput,o.hasMakesDataTransform(Lt)&&(Lt=_e[Tt]),pt[Lt.uid])continue;pt[Lt.uid]=1,Ie(ye[Tt]._fullInput,Lt,[],vr)}return(Xt.calc||Xt.plot)&&(Xt.fullReplot=!0),rt&&Xt.nChanges&&Xt.nChangesAnim&&(Xt.anim=Xt.nChanges===Xt.nChangesAnim&&Vt?"all":"some"),Xt}function tt(he,ye,_e,We,rt){var st=C.layoutFlags();st.arrays={},st.rangesAltered={},st.nChanges=0,st.nChangesAnim=0;function Vt(Tt){return t.getLayoutValObject(_e,Tt)}var Xt={getValObject:Vt,flags:st,immutable:We,transition:rt,gd:he};return Ie(ye,_e,[],Xt),(st.plot||st.calc)&&(st.layoutReplot=!0),rt&&st.nChanges&&st.nChangesAnim&&(st.anim=st.nChanges===st.nChangesAnim?"all":"some"),st}function Ie(he,ye,_e,We){var rt,st,Vt,Xt=We.getValObject,Tt=We.flags,Lt=We.immutable,Kt=We.inArray,vr=We.arrayIndex;function pt(){var Lr=rt.editType;if(Kt&&Lr.indexOf("arraydraw")!==-1){L.pushUnique(Tt.arrays[Kt],vr);return}C.update(Tt,rt),Lr!=="none"&&Tt.nChanges++,We.transition&&rt.anim&&Tt.nChangesAnim++,(De.test(Vt)||Oe.test(Vt))&&(Tt.rangesAltered[_e[0]]=1),Te.test(Vt)&&M(ye,"_inputDomain").set(null),st==="datarevision"&&(Tt.newDataRevision=1)}function jt(Lr){return Lr.valType==="data_array"||Lr.arrayOk}for(st in he){if(Tt.calc&&!We.transition)return;var $t=he[st],mr=ye[st],or=_e.concat(st);if(Vt=or.join("."),!(st.charAt(0)==="_"||typeof $t=="function"||$t===mr)){if((st==="tick0"||st==="dtick")&&_e[0]!=="geo"){var gt=ye.tickmode;if(gt==="auto"||gt==="array"||!gt)continue}if(!(st==="range"&&ye.autorange)&&!((st==="zmin"||st==="zmax")&&ye.type==="contourcarpet")&&(rt=Xt(or),!!rt&&!(rt._compareAsJSON&&JSON.stringify($t)===JSON.stringify(mr)))){var lt=rt.valType,bt,Et=jt(rt),kt=Array.isArray($t),Ot=Array.isArray(mr);if(kt&&Ot){var Ft="_input_"+st,Bt=he[Ft],Jt=ye[Ft];if(Array.isArray(Bt)&&Bt===Jt)continue}if(mr===void 0)Et&&kt?Tt.calc=!0:pt();else if(rt._isLinkedToArray){var hr=[],cr=!1;Kt||(Tt.arrays[st]=hr);var dr=Math.min($t.length,mr.length),fr=Math.max($t.length,mr.length);if(dr!==fr)if(rt.editType==="arraydraw")cr=!0;else{pt();continue}for(bt=0;bt<dr;bt++)Ie($t[bt],mr[bt],or.concat(bt),L.extendFlat({inArray:st,arrayIndex:bt},We));if(cr)for(bt=dr;bt<fr;bt++)hr.push(bt)}else!lt&&L.isPlainObject($t)?Ie($t,mr,or,We):Et?kt&&Ot?(Lt&&(Tt.calc=!0),(Lt||We.newDataRevision)&&pt()):kt!==Ot?Tt.calc=!0:pt():kt&&Ot?($t.length!==mr.length||String($t)!==String(mr))&&pt():pt()}}}for(st in ye)if(!(st in he||st.charAt(0)==="_"||typeof ye[st]=="function"))if(rt=Xt(_e.concat(st)),jt(rt)&&Array.isArray(ye[st])){Tt.calc=!0;return}else pt()}function Ve(he,ye){var _e;for(_e in he)if(_e.charAt(0)!=="_"){var We=he[_e],rt=ye[_e];if(We!==rt)if(L.isPlainObject(We)&&L.isPlainObject(rt)){if(Ve(We,rt))return!0}else if(Array.isArray(We)&&Array.isArray(rt)){if(We.length!==rt.length)return!0;for(var st=0;st<We.length;st++)if(We[st]!==rt[st])if(L.isPlainObject(We[st])&&L.isPlainObject(rt[st])){if(Ve(We[st],rt[st]))return!0}else return!0}else return!0}}function Ge(he,ye,_e){if(he=L.getGraphDiv(he),!L.isPlotDiv(he))throw new Error("This element is not a Plotly plot: "+he+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var We=he._transitionData;We._frameQueue||(We._frameQueue=[]),_e=o.supplyAnimationDefaults(_e);var rt=_e.transition,st=_e.frame;We._frameWaitingCnt===void 0&&(We._frameWaitingCnt=0);function Vt(Lt){return Array.isArray(rt)?Lt>=rt.length?rt[0]:rt[Lt]:rt}function Xt(Lt){return Array.isArray(st)?Lt>=st.length?st[0]:st[Lt]:st}function Tt(Lt,Kt){var vr=0;return function(){if(Lt&&++vr===Kt)return Lt()}}return new Promise(function(Lt,Kt){function vr(){if(We._frameQueue.length!==0){for(;We._frameQueue.length;){var dr=We._frameQueue.pop();dr.onInterrupt&&dr.onInterrupt()}he.emit("plotly_animationinterrupted",[])}}function pt(dr){if(dr.length!==0){for(var fr=0;fr<dr.length;fr++){var Lr;dr[fr].type==="byname"?Lr=o.computeFrame(he,dr[fr].name):Lr=dr[fr].data;var xr=Xt(fr),Ke=Vt(fr);Ke.duration=Math.min(Ke.duration,xr.duration);var et={frame:Lr,name:dr[fr].name,frameOpts:xr,transitionOpts:Ke};fr===dr.length-1&&(et.onComplete=Tt(Lt,2),et.onInterrupt=Kt),We._frameQueue.push(et)}_e.mode==="immediate"&&(We._lastFrameAt=-1/0),We._animationRaf||mr()}}function jt(){he.emit("plotly_animated"),window.cancelAnimationFrame(We._animationRaf),We._animationRaf=null}function $t(){We._currentFrame&&We._currentFrame.onComplete&&We._currentFrame.onComplete();var dr=We._currentFrame=We._frameQueue.shift();if(dr){var fr=dr.name?dr.name.toString():null;he._fullLayout._currentFrame=fr,We._lastFrameAt=Date.now(),We._timeToNext=dr.frameOpts.duration,o.transition(he,dr.frame.data,dr.frame.layout,x.coerceTraceIndices(he,dr.frame.traces),dr.frameOpts,dr.transitionOpts).then(function(){dr.onComplete&&dr.onComplete()}),he.emit("plotly_animatingframe",{name:fr,frame:dr.frame,animation:{frame:dr.frameOpts,transition:dr.transitionOpts}})}else jt()}function mr(){he.emit("plotly_animating"),We._lastFrameAt=-1/0,We._timeToNext=0,We._runningTransitions=0,We._currentFrame=null;var dr=function(){We._animationRaf=window.requestAnimationFrame(dr),Date.now()-We._lastFrameAt>We._timeToNext&&$t()};dr()}var or=0;function gt(dr){return Array.isArray(rt)?or>=rt.length?dr.transitionOpts=rt[or]:dr.transitionOpts=rt[0]:dr.transitionOpts=rt,or++,dr}var lt,bt,Et=[],kt=ye==null,Ot=Array.isArray(ye),Ft=!kt&&!Ot&&L.isPlainObject(ye);if(Ft)Et.push({type:"object",data:gt(L.extendFlat({},ye))});else if(kt||["string","number"].indexOf(typeof ye)!==-1)for(lt=0;lt<We._frames.length;lt++)bt=We._frames[lt],bt&&(kt||String(bt.group)===String(ye))&&Et.push({type:"byname",name:String(bt.name),data:gt({name:bt.name})});else if(Ot)for(lt=0;lt<ye.length;lt++){var Bt=ye[lt];["number","string"].indexOf(typeof Bt)!==-1?(Bt=String(Bt),Et.push({type:"byname",name:Bt,data:gt({name:Bt})})):L.isPlainObject(Bt)&&Et.push({type:"object",data:gt(L.extendFlat({},Bt))})}for(lt=0;lt<Et.length;lt++)if(bt=Et[lt],bt.type==="byname"&&!We._frameHash[bt.data.name]){L.warn('animate failure: frame not found: "'+bt.data.name+'"'),Kt();return}["next","immediate"].indexOf(_e.mode)!==-1&&vr(),_e.direction==="reverse"&&Et.reverse();var Jt=he._fullLayout._currentFrame;if(Jt&&_e.fromcurrent){var hr=-1;for(lt=0;lt<Et.length;lt++)if(bt=Et[lt],bt.type==="byname"&&bt.name===Jt){hr=lt;break}if(hr>0&&hr<Et.length-1){var cr=[];for(lt=0;lt<Et.length;lt++)bt=Et[lt],(Et[lt].type!=="byname"||lt>hr)&&cr.push(bt);Et=cr}}Et.length>0?pt(Et):(he.emit("plotly_animated"),Lt())})}function Xe(he,ye,_e){if(he=L.getGraphDiv(he),ye==null)return Promise.resolve();if(!L.isPlotDiv(he))throw new Error("This element is not a Plotly plot: "+he+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var We,rt,st,Vt,Xt=he._transitionData._frames,Tt=he._transitionData._frameHash;if(!Array.isArray(ye))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+ye);var Lt=Xt.length+ye.length*2,Kt=[],vr={};for(We=ye.length-1;We>=0;We--)if(L.isPlainObject(ye[We])){var pt=ye[We].name,jt=(Tt[pt]||vr[pt]||{}).name,$t=ye[We].name,mr=Tt[jt]||vr[jt];jt&&$t&&typeof $t=="number"&&mr&&S<A&&(S++,L.warn('addFrames: overwriting frame "'+(Tt[jt]||vr[jt]).name+'" with a frame whose name of type "number" also equates to "'+jt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),S===A&&L.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),vr[pt]={name:pt},Kt.push({frame:o.supplyFrameDefaults(ye[We]),index:_e&&_e[We]!==void 0&&_e[We]!==null?_e[We]:Lt+We})}Kt.sort(function(Ft,Bt){return Ft.index>Bt.index?-1:Ft.index<Bt.index?1:0});var or=[],gt=[],lt=Xt.length;for(We=Kt.length-1;We>=0;We--){if(rt=Kt[We].frame,typeof rt.name=="number"&&L.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!rt.name)for(;Tt[rt.name="frame "+he._transitionData._counter++];);if(Tt[rt.name]){for(st=0;st<Xt.length&&(Xt[st]||{}).name!==rt.name;st++);or.push({type:"replace",index:st,value:rt}),gt.unshift({type:"replace",index:st,value:Xt[st]})}else Vt=Math.max(0,Math.min(Kt[We].index,lt)),or.push({type:"insert",index:Vt,value:rt}),gt.unshift({type:"delete",index:Vt}),lt++}var bt=o.modifyFrames,Et=o.modifyFrames,kt=[he,gt],Ot=[he,or];return p&&p.add(he,bt,kt,Et,Ot),o.modifyFrames(he,or)}function Le(he,ye){if(he=L.getGraphDiv(he),!L.isPlotDiv(he))throw new Error("This element is not a Plotly plot: "+he);var _e,We,rt=he._transitionData._frames,st=[],Vt=[];if(!ye)for(ye=[],_e=0;_e<rt.length;_e++)ye.push(_e);for(ye=ye.slice(),ye.sort(),_e=ye.length-1;_e>=0;_e--)We=ye[_e],st.push({type:"delete",index:We}),Vt.unshift({type:"insert",index:We,value:rt[We]});var Xt=o.modifyFrames,Tt=o.modifyFrames,Lt=[he,Vt],Kt=[he,st];return p&&p.add(he,Xt,Lt,Tt,Kt),o.modifyFrames(he,st)}function Fe(he){he=L.getGraphDiv(he);var ye=he._fullLayout||{},_e=he._fullData||[];return o.cleanPlot([],{},_e,ye),o.purge(he),v.purge(he),ye._container&&ye._container.remove(),delete he._context,he}function Ue(he){var ye=he._fullLayout,_e=he.getBoundingClientRect();if(!L.equalDomRects(_e,ye._lastBBox)){var We=ye._invTransform=L.inverseTransformMatrix(L.getFullTransformMatrix(he));ye._invScaleX=Math.sqrt(We[0][0]*We[0][0]+We[0][1]*We[0][1]+We[0][2]*We[0][2]),ye._invScaleY=Math.sqrt(We[1][0]*We[1][0]+We[1][1]*We[1][1]+We[1][2]*We[1][2]),ye._lastBBox=_e}}function Ee(he){var ye=b.select(he),_e=he._fullLayout;if(_e._calcInverseTransform=Ue,_e._calcInverseTransform(he),_e._container=ye.selectAll(".plot-container").data([0]),_e._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),_e._paperdiv=_e._container.selectAll(".svg-container").data([0]),_e._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),_e._glcontainer=_e._paperdiv.selectAll(".gl-container").data([{}]),_e._glcontainer.enter().append("div").classed("gl-container",!0),_e._paperdiv.selectAll(".main-svg").remove(),_e._paperdiv.select(".modebar-container").remove(),_e._paper=_e._paperdiv.insert("svg",":first-child").classed("main-svg",!0),_e._toppaper=_e._paperdiv.append("svg").classed("main-svg",!0),_e._modebardiv=_e._paperdiv.append("div"),delete _e._modeBar,_e._hoverpaper=_e._paperdiv.append("svg").classed("main-svg",!0),!_e._uid){var We={};b.selectAll("defs").each(function(){this.id&&(We[this.id.split("-")[1]]=1)}),_e._uid=L.randstr(We)}_e._paperdiv.selectAll(".main-svg").attr(w.svgAttrs),_e._defs=_e._paper.append("defs").attr("id","defs-"+_e._uid),_e._clips=_e._defs.append("g").classed("clips",!0),_e._topdefs=_e._toppaper.append("defs").attr("id","topdefs-"+_e._uid),_e._topclips=_e._topdefs.append("g").classed("clips",!0),_e._bgLayer=_e._paper.append("g").classed("bglayer",!0),_e._draggers=_e._paper.append("g").classed("draglayer",!0);var rt=_e._paper.append("g").classed("layer-below",!0);_e._imageLowerLayer=rt.append("g").classed("imagelayer",!0),_e._shapeLowerLayer=rt.append("g").classed("shapelayer",!0),_e._cartesianlayer=_e._paper.append("g").classed("cartesianlayer",!0),_e._polarlayer=_e._paper.append("g").classed("polarlayer",!0),_e._smithlayer=_e._paper.append("g").classed("smithlayer",!0),_e._ternarylayer=_e._paper.append("g").classed("ternarylayer",!0),_e._geolayer=_e._paper.append("g").classed("geolayer",!0),_e._funnelarealayer=_e._paper.append("g").classed("funnelarealayer",!0),_e._pielayer=_e._paper.append("g").classed("pielayer",!0),_e._iciclelayer=_e._paper.append("g").classed("iciclelayer",!0),_e._treemaplayer=_e._paper.append("g").classed("treemaplayer",!0),_e._sunburstlayer=_e._paper.append("g").classed("sunburstlayer",!0),_e._indicatorlayer=_e._toppaper.append("g").classed("indicatorlayer",!0),_e._glimages=_e._paper.append("g").classed("glimages",!0);var st=_e._toppaper.append("g").classed("layer-above",!0);_e._imageUpperLayer=st.append("g").classed("imagelayer",!0),_e._shapeUpperLayer=st.append("g").classed("shapelayer",!0),_e._selectionLayer=_e._toppaper.append("g").classed("selectionlayer",!0),_e._infolayer=_e._toppaper.append("g").classed("infolayer",!0),_e._menulayer=_e._toppaper.append("g").classed("menulayer",!0),_e._zoomlayer=_e._toppaper.append("g").classed("zoomlayer",!0),_e._hoverlayer=_e._hoverpaper.append("g").classed("hoverlayer",!0),_e._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),he.emit("plotly_framework")}V.animate=Ge,V.addFrames=Xe,V.deleteFrames=Le,V.addTraces=$,V.deleteTraces=X,V.extendTraces=ie,V.moveTraces=Q,V.prependTraces=K,V.newPlot=B,V._doPlot=i,V.purge=Fe,V.react=xt,V.redraw=_,V.relayout=we,V.restyle=se,V.setPlotConfig=m,V.update=ke,V._guiRelayout=Se(we),V._guiRestyle=Se(se),V._guiUpdate=Se(ke),V._storeDirectGUIEdit=te},20556:function(Y){var V={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function b(P,s){for(var L in P){var M=P[L];M.valType?s[L]=M.dflt:(s[L]||(s[L]={}),b(M,s[L]))}}b(V,e),Y.exports={configAttributes:V,dfltConfig:e}},73060:function(Y,V,e){var b=e(24040),P=e(3400),s=e(45464),L=e(64859),M=e(16672),v=e(85656),p=e(20556).configAttributes,r=e(67824),t=P.extendDeepAll,o=P.isPlainObject,n=P.isArrayOrTypedArray,l=P.nestedProperty,u=P.valObjectMeta,f="_isSubplotObj",g="_isLinkedToArray",h="_arrayAttrRegexps",w="_deprecated",c=[f,g,h,w];V.IS_SUBPLOT_OBJ=f,V.IS_LINKED_TO_ARRAY=g,V.DEPRECATED=w,V.UNDERSCORE_ATTRS=c,V.get=function(){var O={};b.allTypes.forEach(function(B){O[B]=T(B)});var _={};return Object.keys(b.transformsRegistry).forEach(function(B){_[B]=y(B)}),{defs:{valObjects:u,metaKeys:c.concat(["description","role","editType","impliedEdits"]),editType:{traces:r.traces,layout:r.layout},impliedEdits:{}},traces:O,layout:C(),transforms:_,frames:S(),animation:A(v),config:A(p)}},V.crawl=function(O,_,B,F){var z=B||0;F=F||"",Object.keys(O).forEach(function(N){var W=O[N];if(c.indexOf(N)===-1){var Z=(F?F+".":"")+N;_(W,N,O,z,Z),!V.isValObject(W)&&o(W)&&N!=="impliedEdits"&&V.crawl(W,_,z+1,Z)}})},V.isValObject=function(O){return O&&O.valType!==void 0},V.findArrayAttributes=function(O){var _=[],B=[],F=[],z,N;function W(K,$,X,Q){B=B.slice(0,Q).concat([$]),F=F.slice(0,Q).concat([K&&K._isLinkedToArray]);var se=K&&(K.valType==="data_array"||K.arrayOk===!0)&&!(B[Q-1]==="colorbar"&&($==="ticktext"||$==="tickvals"));se&&Z(z,0,"")}function Z(K,$,X){var Q=K[B[$]],se=X+B[$];if($===B.length-1)n(Q)&&_.push(N+se);else if(F[$]){if(Array.isArray(Q))for(var J=0;J<Q.length;J++)o(Q[J])&&Z(Q[J],$+1,se+"["+J+"].")}else o(Q)&&Z(Q,$+1,se+".")}z=O,N="",V.crawl(s,W),O._module&&O._module.attributes&&V.crawl(O._module.attributes,W);var q=O.transforms;if(q)for(var re=0;re<q.length;re++){var le=q[re],ie=le._module;ie&&(N="transforms["+re+"].",z=le,V.crawl(ie.attributes,W))}return _},V.getTraceValObject=function(O,_){var B=_[0],F=1,z,N;if(B==="transforms"){if(_.length===1)return s.transforms;var W=O.transforms;if(!Array.isArray(W)||!W.length)return!1;var Z=_[1];if(!x(Z)||Z>=W.length)return!1;z=(b.transformsRegistry[W[Z].type]||{}).attributes,N=z&&z[_[2]],F=3}else{var q=O._module;if(q||(q=(b.modules[O.type||s.type.dflt]||{})._module),!q)return!1;if(z=q.attributes,N=z&&z[B],!N){var re=q.basePlotModule;re&&re.attributes&&(N=re.attributes[B])}N||(N=s[B])}return d(N,_,F)},V.getLayoutValObject=function(O,_){var B=a(O,_[0]);return d(B,_,1)};function a(O,_){var B,F,z,N,W=O._basePlotModules;if(W){var Z;for(B=0;B<W.length;B++){if(z=W[B],z.attrRegex&&z.attrRegex.test(_)){if(z.layoutAttrOverrides)return z.layoutAttrOverrides;!Z&&z.layoutAttributes&&(Z=z.layoutAttributes)}var q=z.baseLayoutAttrOverrides;if(q&&_ in q)return q[_]}if(Z)return Z}var re=O._modules;if(re){for(B=0;B<re.length;B++)if(N=re[B].layoutAttributes,N&&_ in N)return N[_]}for(F in b.componentsRegistry){if(z=b.componentsRegistry[F],z.name==="colorscale"&&_.indexOf("coloraxis")===0)return z.layoutAttributes[_];if(!z.schema&&_===z.name)return z.layoutAttributes}return _ in L?L[_]:!1}function d(O,_,B){if(!O)return!1;if(O._isLinkedToArray){if(x(_[B]))B++;else if(B<_.length)return!1}for(;B<_.length;B++){var F=O[_[B]];if(o(F))O=F;else break;if(B===_.length-1)break;if(O._isLinkedToArray){if(B++,!x(_[B]))return!1}else if(O.valType==="info_array"){B++;var z=_[B];if(!x(z))return!1;var N=O.items;if(Array.isArray(N)){if(z>=N.length)return!1;if(O.dimensions===2){if(B++,_.length===B)return O;var W=_[B];if(!x(W))return!1;O=N[z][W]}else O=N[z]}else O=N}}return O}function x(O){return O===Math.round(O)&&O>=0}function T(O){var _,B;_=b.modules[O]._module,B=_.basePlotModule;var F={};F.type=null;var z=t({},s),N=t({},_.attributes);V.crawl(N,function(q,re,le,ie,K){l(z,K).set(void 0),q===void 0&&l(N,K).set(void 0)}),t(F,z),b.traceIs(O,"noOpacity")&&delete F.opacity,b.traceIs(O,"showLegend")||(delete F.showlegend,delete F.legendgroup),b.traceIs(O,"noHover")&&(delete F.hoverinfo,delete F.hoverlabel),_.selectPoints||delete F.selectedpoints,t(F,N),B.attributes&&t(F,B.attributes),F.type=O;var W={meta:_.meta||{},categories:_.categories||{},animatable:!!_.animatable,type:O,attributes:A(F)};if(_.layoutAttributes){var Z={};t(Z,_.layoutAttributes),W.layoutAttributes=A(Z)}return _.animatable||V.crawl(W,function(q){V.isValObject(q)&&"anim"in q&&delete q.anim}),W}function C(){var O={},_,B;t(O,L);for(_ in b.subplotsRegistry)if(B=b.subplotsRegistry[_],!!B.layoutAttributes)if(Array.isArray(B.attr))for(var F=0;F<B.attr.length;F++)k(O,B,B.attr[F]);else{var z=B.attr==="subplot"?B.name:B.attr;k(O,B,z)}for(_ in b.componentsRegistry){B=b.componentsRegistry[_];var N=B.schema;if(N&&(N.subplots||N.layout)){var W=N.subplots;if(W&&W.xaxis&&!W.yaxis)for(var Z in W.xaxis)delete O.yaxis[Z];delete O.xaxis.shift,delete O.xaxis.autoshift}else B.name==="colorscale"?t(O,B.layoutAttributes):B.layoutAttributes&&I(O,B.layoutAttributes,B.name)}return{layoutAttributes:A(O)}}function y(O){var _=b.transformsRegistry[O],B=t({},_.attributes);return Object.keys(b.componentsRegistry).forEach(function(F){var z=b.componentsRegistry[F];z.schema&&z.schema.transforms&&z.schema.transforms[O]&&Object.keys(z.schema.transforms[O]).forEach(function(N){I(B,z.schema.transforms[O][N],N)})}),{attributes:A(B)}}function S(){var O={frames:t({},M)};return A(O),O.frames}function A(O){return i(O),E(O),m(O),O}function i(O){function _(F){return{valType:"string",editType:"none"}}function B(F,z,N){V.isValObject(F)?(F.arrayOk===!0||F.valType==="data_array")&&(N[z+"src"]=_()):o(F)&&(F.role="object")}V.crawl(O,B)}function E(O){function _(B,F,z){if(B){var N=B[g];N&&(delete B[g],z[F]={items:{}},z[F].items[N]=B,z[F].role="object")}}V.crawl(O,_)}function m(O){function _(B){for(var F in B)if(o(B[F]))_(B[F]);else if(Array.isArray(B[F]))for(var z=0;z<B[F].length;z++)_(B[F][z]);else B[F]instanceof RegExp&&(B[F]=B[F].toString())}_(O)}function k(O,_,B){var F=l(O,B),z=t({},_.layoutAttributes);z[f]=!0,F.set(z)}function I(O,_,B){var F=l(O,B);F.set(t(F.get()||{},_))}},31780:function(Y,V,e){var b=e(3400),P=e(45464),s="templateitemname",L={name:{valType:"string",editType:"none"}};L[s]={valType:"string",editType:"calc"},V.templatedArray=function(p,r){return r._isLinkedToArray=p,r.name=L.name,r[s]=L[s],r},V.traceTemplater=function(p){var r={},t,o;for(t in p)o=p[t],Array.isArray(o)&&o.length&&(r[t]=0);function n(l){t=b.coerce(l,{},P,"type");var u={type:t,_template:null};if(t in r){o=p[t];var f=r[t]%o.length;r[t]++,u._template=o[f]}return u}return{newTrace:n}},V.newContainer=function(p,r,t){var o=p._template,n=o&&(o[r]||t&&o[t]);b.isPlainObject(n)||(n=null);var l=p[r]={_template:n};return l},V.arrayTemplater=function(p,r,t){var o=p._template,n=o&&o[v(r)],l=o&&o[r];(!Array.isArray(l)||!l.length)&&(l=[]);var u={};function f(h){var w={name:h.name,_input:h},c=w[s]=h[s];if(!M(c))return w._template=n,w;for(var a=0;a<l.length;a++){var d=l[a];if(d.name===c)return u[c]=1,w._template=d,w}return w[t]=h[t]||!1,w._template=!1,w}function g(){for(var h=[],w=0;w<l.length;w++){var c=l[w],a=c.name;if(M(a)&&!u[a]){var d={_template:c,name:a,_input:{_templateitemname:a}};d[s]=c[s],h.push(d),u[a]=1}}return h}return{newItem:f,defaultItems:g}};function M(p){return p&&typeof p=="string"}function v(p){var r=p.length-1;return p.charAt(r)!=="s"&&b.warn("bad argument to arrayDefaultKey: "+p),p.substr(0,p.length-1)+"defaults"}V.arrayDefaultKey=v,V.arrayEditor=function(p,r,t){var o=(b.nestedProperty(p,r).get()||[]).length,n=t._index,l=n>=o&&(t._input||{})._templateitemname;l&&(n=o);var u=r+"["+n+"]",f;function g(){f={},l&&(f[u]={},f[u][s]=l)}g();function h(d,x){f[d]=x}function w(d,x){l?b.nestedProperty(f[u],d).set(x):f[u+"."+d]=x}function c(){var d=f;return g(),d}function a(d,x){d&&w(d,x);var T=c();for(var C in T)b.nestedProperty(p,C).set(T[C])}return{modifyBase:h,modifyItem:w,getUpdateObj:c,applyUpdate:a}}},39172:function(Y,V,e){var b=e(33428),P=e(24040),s=e(7316),L=e(3400),M=e(72736),v=e(73696),p=e(76308),r=e(43616),t=e(81668),o=e(45460),n=e(54460),l=e(84284),u=e(71888),f=u.enforce,g=u.clean,h=e(19280).doAutoRange,w="start",c="middle",a="end",d=e(33816).zindexSeparator;V.layoutStyles=function(F){return L.syncOrAsync([s.doAutoMargin,T],F)};function x(F,z,N){for(var W=0;W<N.length;W++){var Z=N[W][0],q=N[W][1];if(!(Z[0]>=F[1]||Z[1]<=F[0])&&q[0]<z[1]&&q[1]>z[0])return!0}return!1}function T(F){var z=F._fullLayout,N=z._size,W=N.p,Z=n.list(F,"",!0),q,re,le,ie,K,$;if(z._paperdiv.style({width:F._context.responsive&&z.autosize&&!F._context._hasZeroWidth&&!F.layout.width?"100%":z.width+"px",height:F._context.responsive&&z.autosize&&!F._context._hasZeroHeight&&!F.layout.height?"100%":z.height+"px"}).selectAll(".main-svg").call(r.setSize,z.width,z.height),F._context.setBackground(F,z.paper_bgcolor),V.drawMainTitle(F),o.manage(F),!z._has("cartesian"))return s.previousPromises(F);function X(Ue,Ee,he){var ye=Ue._lw/2;if(Ue._id.charAt(0)==="x"){if(Ee){if(he==="top")return Ee._offset-W-ye}else return N.t+N.h*(1-(Ue.position||0))+ye%1;return Ee._offset+Ee._length+W+ye}if(Ee){if(he==="right")return Ee._offset+Ee._length+W+ye}else return N.l+N.w*(Ue.position||0)+ye%1;return Ee._offset-W-ye}for(q=0;q<Z.length;q++){ie=Z[q];var Q=ie._anchorAxis;ie._linepositions={},ie._lw=r.crispRound(F,ie.linewidth,1),ie._mainLinePosition=X(ie,Q,ie.side),ie._mainMirrorPosition=ie.mirror&&Q?X(ie,Q,l.OPPOSITE_SIDE[ie.side]):null}var se=[],J=[],G=[],oe=p.opacity(z.paper_bgcolor)===1&&p.opacity(z.plot_bgcolor)===1&&z.paper_bgcolor===z.plot_bgcolor;for(re in z._plots)if(le=z._plots[re],le.mainplot)le.bg&&le.bg.remove(),le.bg=void 0;else{var te=le.xaxis.domain,fe=le.yaxis.domain,ge=le.plotgroup;if(x(te,fe,G)&&re.indexOf(d)===-1){var we=ge.node(),xe=le.bg=L.ensureSingle(ge,"rect","bg");we.insertBefore(xe.node(),we.childNodes[0]),J.push(re)}else ge.select("rect.bg").remove(),G.push([te,fe]),oe||(se.push(re),J.push(re))}var Ce=z._bgLayer.selectAll(".bg").data(se);for(Ce.enter().append("rect").classed("bg",!0),Ce.exit().remove(),Ce.each(function(Ue){z._plots[Ue].bg=b.select(this)}),q=0;q<J.length;q++)le=z._plots[J[q]],K=le.xaxis,$=le.yaxis,le.bg&&K._offset!==void 0&&$._offset!==void 0&&le.bg.call(r.setRect,K._offset-W,$._offset-W,K._length+2*W,$._length+2*W).call(p.fill,z.plot_bgcolor).style("stroke-width",0);if(!z._hasOnlyLargeSploms)for(re in z._plots){le=z._plots[re],K=le.xaxis,$=le.yaxis;var De=le.clipId="clip"+z._uid+re+"plot",Oe=L.ensureSingleById(z._clips,"clipPath",De,function(Ue){Ue.classed("plotclip",!0).append("rect")});le.clipRect=Oe.select("rect").attr({width:K._length,height:$._length}),r.setTranslate(le.plot,K._offset,$._offset);var Te,Re;le._hasClipOnAxisFalse?(Te=null,Re=De):(Te=De,Re=null),r.setClipUrl(le.plot,Te,F),le.layerClipId=Re}var Me,ke,Se,He,je,at,Ze,$e,ut,ht,vt,xt,St;function tt(Ue){return"M"+Me+","+Ue+"H"+ke}function Ie(Ue){return"M"+K._offset+","+Ue+"h"+K._length}function Ve(Ue){return"M"+Ue+","+$e+"V"+Ze}function Ge(Ue){return $._shift!==void 0&&(Ue+=$._shift),"M"+Ue+","+$._offset+"v"+$._length}function Xe(Ue,Ee,he){if(!Ue.showline||re!==Ue._mainSubplot)return"";if(!Ue._anchorAxis)return he(Ue._mainLinePosition);var ye=Ee(Ue._mainLinePosition);return Ue.mirror&&(ye+=Ee(Ue._mainMirrorPosition)),ye}for(re in z._plots){le=z._plots[re],K=le.xaxis,$=le.yaxis;var Le="M0,0";C(K,re)&&(je=S(K,"left",$,Z),Me=K._offset-(je?W+je:0),at=S(K,"right",$,Z),ke=K._offset+K._length+(at?W+at:0),Se=X(K,$,"bottom"),He=X(K,$,"top"),St=!K._anchorAxis||re!==K._mainSubplot,St&&(K.mirror==="allticks"||K.mirror==="all")&&(K._linepositions[re]=[Se,He]),Le=Xe(K,tt,Ie),St&&K.showline&&(K.mirror==="all"||K.mirror==="allticks")&&(Le+=tt(Se)+tt(He)),le.xlines.style("stroke-width",K._lw+"px").call(p.stroke,K.showline?K.linecolor:"rgba(0,0,0,0)")),le.xlines.attr("d",Le);var Fe="M0,0";C($,re)&&(vt=S($,"bottom",K,Z),Ze=$._offset+$._length+(vt?W:0),xt=S($,"top",K,Z),$e=$._offset-(xt?W:0),ut=X($,K,"left"),ht=X($,K,"right"),St=!$._anchorAxis||re!==$._mainSubplot,St&&($.mirror==="allticks"||$.mirror==="all")&&($._linepositions[re]=[ut,ht]),Fe=Xe($,Ve,Ge),St&&$.showline&&($.mirror==="all"||$.mirror==="allticks")&&(Fe+=Ve(ut)+Ve(ht)),le.ylines.style("stroke-width",$._lw+"px").call(p.stroke,$.showline?$.linecolor:"rgba(0,0,0,0)")),le.ylines.attr("d",Fe)}return n.makeClipPaths(F),s.previousPromises(F)}function C(F,z){return(F.ticks||F.showline)&&(z===F._mainSubplot||F.mirror==="all"||F.mirror==="allticks")}function y(F,z,N){if(!N.showline||!N._lw)return!1;if(N.mirror==="all"||N.mirror==="allticks")return!0;var W=N._anchorAxis;if(!W)return!1;var Z=l.FROM_BL[z];return N.side===z?W.domain[Z]===F.domain[Z]:N.mirror&&W.domain[1-Z]===F.domain[1-Z]}function S(F,z,N,W){if(y(F,z,N))return N._lw;for(var Z=0;Z<W.length;Z++){var q=W[Z];if(q._mainAxis===N._mainAxis&&y(F,z,q))return q._lw}return 0}V.drawMainTitle=function(F){var z=F._fullLayout.title,N=F._fullLayout,W=_(N),Z=B(N),q=I(N,Z),re=k(N,W);if(t.draw(F,"gtitle",{propContainer:N,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:N._dfltTitle.plot,subtitlePlaceholder:N._dfltTitle.subtitle,attributes:{x:re,y:q,"text-anchor":W,dy:Z}}),z.text&&z.automargin){var le=b.selectAll(".gtitle"),ie=r.bBox(b.selectAll(".g-gtitle").node()).height,K=E(F,z,ie);if(K>0){m(F,q,K,ie),le.attr({x:re,y:q,"text-anchor":W,dy:O(z.yanchor)}).call(M.positionText,re,q);var $=(z.text.match(M.BR_TAG_ALL)||[]).length;if($){var X=l.LINE_SPACING*$+l.MID_SHIFT;z.y===0&&(X=-X),le.selectAll(".line").each(function(){var oe=+this.getAttribute("dy").slice(0,-2)-X+"em";this.setAttribute("dy",oe)})}var Q=b.selectAll(".gtitle-subtitle");if(Q.node()){var se=le.node().getBBox(),J=se.y+se.height,G=J+t.SUBTITLE_PADDING_EM*z.subtitle.font.size;Q.attr({x:re,y:G,"text-anchor":W,dy:O(z.yanchor)}).call(M.positionText,re,G)}}}};function A(F,z,N,W,Z){var q=z.yref==="paper"?F._fullLayout._size.h:F._fullLayout.height,re=L.isTopAnchor(z)?W:W-Z,le=N==="b"?q-re:re;return L.isTopAnchor(z)&&N==="t"||L.isBottomAnchor(z)&&N==="b"?!1:le<Z}function i(F,z,N,W,Z){var q=0;return N==="middle"&&(q+=Z/2),F==="t"?(N==="top"&&(q+=Z),q+=W-z*W):(N==="bottom"&&(q+=Z),q+=z*W),q}function E(F,z,N){var W=z.y,Z=z.yanchor,q=W>.5?"t":"b",re=F._fullLayout.margin[q],le=0;return z.yref==="paper"?le=N+z.pad.t+z.pad.b:z.yref==="container"&&(le=i(q,W,Z,F._fullLayout.height,N)+z.pad.t+z.pad.b),le>re?le:0}function m(F,z,N,W){var Z="title.automargin",q=F._fullLayout.title,re=q.y>.5?"t":"b",le={x:q.x,y:q.y,t:0,b:0},ie={};q.yref==="paper"&&A(F,q,re,z,W)?le[re]=N:q.yref==="container"&&(ie[re]=N,F._fullLayout._reservedMargin[Z]=ie),s.allowAutoMargin(F,Z),s.autoMargin(F,Z,le)}function k(F,z){var N=F.title,W=F._size,Z=0;switch(z===w?Z=N.pad.l:z===a&&(Z=-N.pad.r),N.xref){case"paper":return W.l+W.w*N.x+Z;case"container":default:return F.width*N.x+Z}}function I(F,z){var N=F.title,W=F._size,Z=0;if(z==="0em"||!z?Z=-N.pad.b:z===l.CAP_SHIFT+"em"&&(Z=N.pad.t),N.y==="auto")return W.t/2;switch(N.yref){case"paper":return W.t+W.h-W.h*N.y+Z;case"container":default:return F.height-F.height*N.y+Z}}function O(F){return F==="top"?l.CAP_SHIFT+.3+"em":F==="bottom"?"-0.3em":l.MID_SHIFT+"em"}function _(F){var z=F.title,N=c;return L.isRightAnchor(z)?N=a:L.isLeftAnchor(z)&&(N=w),N}function B(F){var z=F.title,N="0em";return L.isTopAnchor(z)?N=l.CAP_SHIFT+"em":L.isMiddleAnchor(z)&&(N=l.MID_SHIFT+"em"),N}V.doTraceStyle=function(F){var z=F.calcdata,N=[],W;for(W=0;W<z.length;W++){var Z=z[W],q=Z[0]||{},re=q.trace||{},le=re._module||{},ie=le.arraysToCalcdata;ie&&ie(Z,re);var K=le.editStyle;K&&N.push({fn:K,cd0:q})}if(N.length){for(W=0;W<N.length;W++){var $=N[W];$.fn(F,$.cd0)}v(F),V.redrawReglTraces(F)}return s.style(F),P.getComponentMethod("legend","draw")(F),s.previousPromises(F)},V.doColorBars=function(F){return P.getComponentMethod("colorbar","draw")(F),s.previousPromises(F)},V.layoutReplot=function(F){var z=F.layout;return F.layout=void 0,P.call("_doPlot",F,"",z)},V.doLegend=function(F){return P.getComponentMethod("legend","draw")(F),s.previousPromises(F)},V.doTicksRelayout=function(F){return n.draw(F,"redraw"),F._fullLayout._hasOnlyLargeSploms&&(P.subplotsRegistry.splom.updateGrid(F),v(F),V.redrawReglTraces(F)),V.drawMainTitle(F),s.previousPromises(F)},V.doModeBar=function(F){var z=F._fullLayout;o.manage(F);for(var N=0;N<z._basePlotModules.length;N++){var W=z._basePlotModules[N].updateFx;W&&W(F)}return s.previousPromises(F)},V.doCamera=function(F){for(var z=F._fullLayout,N=z._subplots.gl3d,W=0;W<N.length;W++){var Z=z[N[W]],q=Z._scene;q.setViewport(Z)}},V.drawData=function(F){var z=F._fullLayout;v(F);for(var N=z._basePlotModules,W=0;W<N.length;W++)N[W].plot(F);return V.redrawReglTraces(F),s.style(F),P.getComponentMethod("selections","draw")(F),P.getComponentMethod("shapes","draw")(F),P.getComponentMethod("annotations","draw")(F),P.getComponentMethod("images","draw")(F),z._replotting=!1,s.previousPromises(F)},V.redrawReglTraces=function(F){var z=F._fullLayout;if(z._has("regl")){var N=F._fullData,W=[],Z=[],q,re;for(z._hasOnlyLargeSploms&&z._splomGrid.draw(),q=0;q<N.length;q++){var le=N[q];le.visible===!0&&le._length!==0&&(le.type==="splom"?z._splomScenes[le.uid].draw():le.type==="scattergl"?L.pushUnique(W,le.xaxis+le.yaxis):le.type==="scatterpolargl"&&L.pushUnique(Z,le.subplot))}for(q=0;q<W.length;q++)re=z._plots[W[q]],re._scene&&re._scene.draw();for(q=0;q<Z.length;q++)re=z[Z[q]]._subplot,re._scene&&re._scene.draw()}},V.doAutoRangeAndConstraints=function(F){for(var z=n.list(F,"",!0),N,W={},Z=0;Z<z.length;Z++)if(N=z[Z],!W[N._id]){W[N._id]=1,g(F,N),h(F,N);var q=N._matchGroup;if(q)for(var re in q){var le=n.getFromId(F,re);h(F,le,N.range),W[re]=1}}f(F)},V.finalDraw=function(F){P.getComponentMethod("rangeslider","draw")(F),P.getComponentMethod("rangeselector","draw")(F)},V.drawMarginPushers=function(F){P.getComponentMethod("legend","draw")(F),P.getComponentMethod("rangeselector","draw")(F),P.getComponentMethod("sliders","draw")(F),P.getComponentMethod("updatemenus","draw")(F),P.getComponentMethod("colorbar","draw")(F)}},94828:function(Y,V,e){var b=e(3400),P=b.isPlainObject,s=e(73060),L=e(7316),M=e(45464),v=e(31780),p=e(20556).dfltConfig;V.makeTemplate=function(h){h=b.isPlainObject(h)?h:b.getGraphDiv(h),h=b.extendDeep({_context:p},{data:h.data,layout:h.layout}),L.supplyDefaults(h);var w=h.data||[],c=h.layout||{};c._basePlotModules=h._fullLayout._basePlotModules,c._modules=h._fullLayout._modules;var a={data:{},layout:{}};w.forEach(function(m){var k={};o(m,k,l.bind(null,m));var I=b.coerce(m,{},M,"type"),O=a.data[I];O||(O=a.data[I]=[]),O.push(k)}),o(c,a.layout,n.bind(null,c)),delete a.layout.template;var d=c.template;if(P(d)){var x=d.layout,T,C,y,S,A,i;P(x)&&r(x,a.layout);var E=d.data;if(P(E)){for(C in a.data)if(y=E[C],Array.isArray(y)){for(A=a.data[C],i=A.length,S=y.length,T=0;T<i;T++)r(y[T%S],A[T]);for(T=i;T<S;T++)A.push(b.extendDeep({},y[T]))}for(C in E)C in a.data||(a.data[C]=b.extendDeep([],E[C]))}}return a};function r(h,w){h=b.extendDeep({},h);var c=Object.keys(h).sort(),a,d;function x(A,i,E){if(P(i)&&P(A))r(A,i);else if(Array.isArray(i)&&Array.isArray(A)){var m=v.arrayTemplater({_template:h},E);for(d=0;d<i.length;d++){var k=i[d],I=m.newItem(k)._template;I&&r(I,k)}var O=m.defaultItems();for(d=0;d<O.length;d++)i.push(O[d]._template);for(d=0;d<i.length;d++)delete i[d].templateitemname}}for(a=0;a<c.length;a++){var T=c[a],C=h[T];if(T in w?x(C,w[T],T):w[T]=C,t(T)===T)for(var y in w){var S=t(y);y!==S&&S===T&&!(y in h)&&x(C,w[y],T)}}}function t(h){return h.replace(/[0-9]+$/,"")}function o(h,w,c,a,d){var x=d&&c(d);for(var T in h){var C=h[T],y=u(h,T,a),S=u(h,T,d),A=c(S);if(!A){var i=t(T);i!==T&&(S=u(h,i,d),A=c(S))}if(!(x&&x===A)&&!(!A||A._noTemplating||A.valType==="data_array"||A.arrayOk&&Array.isArray(C)))if(!A.valType&&P(C))o(C,w,c,y,S);else if(A._isLinkedToArray&&Array.isArray(C))for(var E=!1,m=0,k={},I=0;I<C.length;I++){var O=C[I];if(P(O)){var _=O.name;if(_)k[_]||(o(O,w,c,u(C,m,y),u(C,m,S)),m++,k[_]=1);else if(!E){var B=v.arrayDefaultKey(T),F=u(h,B,a),z=u(C,m,y);o(O,w,c,z,u(C,m,S));var N=b.nestedProperty(w,z),W=b.nestedProperty(w,F);W.set(N.get()),N.set(null),E=!0}}}else{var Z=b.nestedProperty(w,y);Z.set(C)}}}function n(h,w){return s.getLayoutValObject(h,b.nestedProperty({},w).parts)}function l(h,w){return s.getTraceValObject(h,b.nestedProperty({},w).parts)}function u(h,w,c){var a;return c?Array.isArray(h)?a=c+"["+w+"]":a=c+"."+w:a=w,a}V.validateTemplate=function(h,w){var c=b.extendDeep({},{_context:p,data:h.data,layout:h.layout}),a=c.layout||{};P(w)||(w=a.template||{});var d=w.layout,x=w.data,T=[];c.layout=a,c.layout.template=w,L.supplyDefaults(c);var C=c._fullLayout,y=c._fullData,S={};function A(F,z){for(var N in F)if(N.charAt(0)!=="_"&&P(F[N])){var W=t(N),Z=[],q;for(q=0;q<z.length;q++)Z.push(u(F,N,z[q])),W!==N&&Z.push(u(F,W,z[q]));for(q=0;q<Z.length;q++)S[Z[q]]=1;A(F[N],Z)}}function i(F,z){for(var N in F)if(N.indexOf("defaults")===-1&&P(F[N])){var W=u(F,N,z);S[W]?i(F[N],W):T.push({code:"unused",path:W})}}if(P(d)?(A(C,["layout"]),i(d,"layout")):T.push({code:"layout"}),!P(x))T.push({code:"data"});else{for(var E={},m,k=0;k<y.length;k++){var I=y[k];m=I.type,E[m]=(E[m]||0)+1,I._fullInput._template||T.push({code:"missing",index:I._fullInput.index,traceType:m})}for(m in x){var O=x[m].length,_=E[m]||0;O>_?T.push({code:"unused",traceType:m,templateCount:O,dataCount:_}):_>O&&T.push({code:"reused",traceType:m,templateCount:O,dataCount:_})}}function B(F,z){for(var N in F)if(N.charAt(0)!=="_"){var W=F[N],Z=u(F,N,z);P(W)?(Array.isArray(F)&&W._template===!1&&W.templateitemname&&T.push({code:"missing",path:Z,templateitemname:W.templateitemname}),B(W,Z)):Array.isArray(W)&&f(W)&&B(W,Z)}}if(B({data:y,layout:C},""),T.length)return T.map(g)};function f(h){for(var w=0;w<h.length;w++)if(P(h[w]))return!0}function g(h){var w;switch(h.code){case"data":w="The template has no key data.";break;case"layout":w="The template has no key layout.";break;case"missing":h.path?w="There are no templates for item "+h.path+" with name "+h.templateitemname:w="There are no templates for trace "+h.index+", of type "+h.traceType+".";break;case"unused":h.path?w="The template item at "+h.path+" was not used in constructing the plot.":h.dataCount?w="Some of the templates of type "+h.traceType+" were not used. The template has "+h.templateCount+" traces, the data only has "+h.dataCount+" of this type.":w="The template has "+h.templateCount+" traces of type "+h.traceType+" but there are none in the data.";break;case"reused":w="Some of the templates of type "+h.traceType+" were used more than once. The template has "+h.templateCount+" traces, the data has "+h.dataCount+" of this type.";break}return h.msg=w,h}},67024:function(Y,V,e){var b=e(38248),P=e(36424),s=e(7316),L=e(3400),M=e(81792),v=e(37164),p=e(63268),r=e(25788).version,t={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function o(n,l){l=l||{};var u,f,g,h;L.isPlainObject(n)?(u=n.data||[],f=n.layout||{},g=n.config||{},h={}):(n=L.getGraphDiv(n),u=L.extendDeep([],n.data),f=L.extendDeep({},n.layout),g=n._context,h=n._fullLayout||{});function w(_){return!(_ in l)||L.validate(l[_],t[_])}if(!w("width")&&l.width!==null||!w("height")&&l.height!==null)throw new Error("Height and width should be pixel values.");if(!w("format"))throw new Error("Export format is not "+L.join2(t.format.values,", "," or ")+".");var c={};function a(_,B){return L.coerce(l,c,t,_,B)}var d=a("format"),x=a("width"),T=a("height"),C=a("scale"),y=a("setBackground"),S=a("imageDataOnly"),A=document.createElement("div");A.style.position="absolute",A.style.left="-5000px",document.body.appendChild(A);var i=L.extendFlat({},f);x?i.width=x:l.width===null&&b(h.width)&&(i.width=h.width),T?i.height=T:l.height===null&&b(h.height)&&(i.height=h.height);var E=L.extendFlat({},g,{_exportedPlot:!0,staticPlot:!0,setBackground:y}),m=M.getRedrawFunc(A);function k(){return new Promise(function(_){setTimeout(_,M.getDelay(A._fullLayout))})}function I(){return new Promise(function(_,B){var F=v(A,d,C),z=A._fullLayout.width,N=A._fullLayout.height;function W(){P.purge(A),document.body.removeChild(A)}if(d==="full-json"){var Z=s.graphJson(A,!1,"keepdata","object",!0,!0);return Z.version=r,Z=JSON.stringify(Z),W(),_(S?Z:M.encodeJSON(Z))}if(W(),d==="svg")return _(S?F:M.encodeSVG(F));var q=document.createElement("canvas");q.id=L.randstr(),p({format:d,width:z,height:N,scale:C,canvas:q,svg:F,promise:!0}).then(_).catch(B)})}function O(_){return S?_.replace(M.IMAGE_URL_PREFIX,""):_}return new Promise(function(_,B){P.newPlot(A,u,i,E).then(m).then(k).then(I).then(function(F){_(O(F))}).catch(function(F){B(F)})})}Y.exports=o},21480:function(Y,V,e){var b=e(3400),P=e(7316),s=e(73060),L=e(20556).dfltConfig,M=b.isPlainObject,v=Array.isArray,p=b.isArrayOrTypedArray;Y.exports=function(a,d){a===void 0&&(a=[]),d===void 0&&(d={});var x=s.get(),T=[],C={_context:b.extendFlat({},L)},y,S;v(a)?(C.data=b.extendDeep([],a),y=a):(C.data=[],y=[],T.push(l("array","data"))),M(d)?(C.layout=b.extendDeep({},d),S=d):(C.layout={},S={},arguments.length>1&&T.push(l("object","layout"))),P.supplyDefaults(C);for(var A=C._fullData,i=y.length,E=0;E<i;E++){var m=y[E],k=["data",E];if(!M(m)){T.push(l("object",k));continue}var I=A[E],O=I.type,_=x.traces[O].attributes;_.type={valType:"enumerated",values:[O]},I.visible===!1&&m.visible!==!1&&T.push(l("invisible",k)),r(m,I,_,T,k);var B=m.transforms,F=I.transforms;if(B){v(B)||T.push(l("array",k,["transforms"])),k.push("transforms");for(var z=0;z<B.length;z++){var N=["transforms",z],W=B[z].type;if(!M(B[z])){T.push(l("object",k,N));continue}var Z=x.transforms[W]?x.transforms[W].attributes:{};Z.type={valType:"enumerated",values:Object.keys(x.transforms)},r(B[z],F[z],Z,T,k,N)}}}var q=C._fullLayout,re=t(x,A);return r(S,q,re,T,"layout"),T.length===0?void 0:T};function r(c,a,d,x,T,C){C=C||[];for(var y=Object.keys(c),S=0;S<y.length;S++){var A=y[S];if(A!=="transforms"){var i=C.slice();i.push(A);var E=c[A],m=a[A],k=f(d,A),I=(k||{}).valType,O=I==="info_array",_=I==="colorscale",B=(k||{}).items;if(!u(d,A))x.push(l("schema",T,i));else if(M(E)&&M(m)&&I!=="any")r(E,m,k,x,T,i);else if(O&&v(E)){E.length>m.length&&x.push(l("unused",T,i.concat(m.length)));var F=m.length,z=Array.isArray(B);z&&(F=Math.min(F,B.length));var N,W,Z,q,re;if(k.dimensions===2)for(W=0;W<F;W++)if(v(E[W])){E[W].length>m[W].length&&x.push(l("unused",T,i.concat(W,m[W].length)));var le=m[W].length;for(N=0;N<(z?Math.min(le,B[W].length):le);N++)Z=z?B[W][N]:B,q=E[W][N],re=m[W][N],b.validate(q,Z)?re!==q&&re!==+q&&x.push(l("dynamic",T,i.concat(W,N),q,re)):x.push(l("value",T,i.concat(W,N),q))}else x.push(l("array",T,i.concat(W),E[W]));else for(W=0;W<F;W++)Z=z?B[W]:B,q=E[W],re=m[W],b.validate(q,Z)?re!==q&&re!==+q&&x.push(l("dynamic",T,i.concat(W),q,re)):x.push(l("value",T,i.concat(W),q))}else if(k.items&&!O&&v(E)){var ie=B[Object.keys(B)[0]],K=[],$,X;for($=0;$<m.length;$++){var Q=m[$]._index||$;if(X=i.slice(),X.push(Q),M(E[Q])&&M(m[$])){K.push(Q);var se=E[Q],J=m[$];M(se)&&se.visible!==!1&&J.visible===!1?x.push(l("invisible",T,X)):r(se,J,ie,x,T,X)}}for($=0;$<E.length;$++)X=i.slice(),X.push($),M(E[$])?K.indexOf($)===-1&&x.push(l("unused",T,X)):x.push(l("object",T,X,E[$]))}else!M(E)&&M(m)?x.push(l("object",T,i,E)):!p(E)&&p(m)&&!O&&!_?x.push(l("array",T,i,E)):A in a?b.validate(E,k)?k.valType==="enumerated"&&(k.coerceNumber&&E!==+m||E!==m)&&x.push(l("dynamic",T,i,E,m)):x.push(l("value",T,i,E)):x.push(l("unused",T,i,E))}}return x}function t(c,a){for(var d=c.layout.layoutAttributes,x=0;x<a.length;x++){var T=a[x],C=c.traces[T.type],y=C.layoutAttributes;y&&(T.subplot?b.extendFlat(d[C.attributes.subplot.dflt],y):b.extendFlat(d,y))}return d}var o={object:function(c,a){var d;return c==="layout"&&a===""?d="The layout argument":c[0]==="data"&&a===""?d="Trace "+c[1]+" in the data argument":d=n(c)+"key "+a,d+" must be linked to an object container"},array:function(c,a){var d;return c==="data"?d="The data argument":d=n(c)+"key "+a,d+" must be linked to an array container"},schema:function(c,a){return n(c)+"key "+a+" is not part of the schema"},unused:function(c,a,d){var x=M(d)?"container":"key";return n(c)+x+" "+a+" did not get coerced"},dynamic:function(c,a,d,x){return[n(c)+"key",a,"(set to '"+d+"')","got reset to","'"+x+"'","during defaults."].join(" ")},invisible:function(c,a){return(a?n(c)+"item "+a:"Trace "+c[1])+" got defaulted to be not visible"},value:function(c,a,d){return[n(c)+"key "+a,"is set to an invalid value ("+d+")"].join(" ")}};function n(c){return v(c)?"In data trace "+c[1]+", ":"In "+c+", "}function l(c,a,d,x,T){d=d||"";var C,y;v(a)?(C=a[0],y=a[1]):(C=a,y=null);var S=w(d),A=o[c](a,S,x,T);return b.log(A),{code:c,container:C,trace:y,path:d,astr:S,msg:A}}function u(c,a){var d=h(a),x=d.keyMinusId,T=d.id;return x in c&&c[x]._isSubplotObj&&T?!0:a in c}function f(c,a){if(a in c)return c[a];var d=h(a);return c[d.keyMinusId]}var g=b.counterRegex("([a-z]+)");function h(c){var a=c.match(g);return{keyMinusId:a&&a[1],id:a&&a[2]}}function w(c){if(!v(c))return String(c);for(var a="",d=0;d<c.length;d++){var x=c[d];typeof x=="number"?a=a.substr(0,a.length-1)+"["+x+"]":a+=x,d<c.length-1&&(a+=".")}return a}},85656:function(Y){Y.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},51272:function(Y,V,e){var b=e(3400),P=e(31780);Y.exports=function(L,M,v){var p=v.name,r=v.inclusionAttr||"visible",t=M[p],o=b.isArrayOrTypedArray(L[p])?L[p]:[],n=M[p]=[],l=P.arrayTemplater(M,p,r),u,f;for(u=0;u<o.length;u++){var g=o[u];b.isPlainObject(g)?f=l.newItem(g):(f=l.newItem({}),f[r]=!1),f._index=u,f[r]!==!1&&v.handleItemDefaults(g,f,M,v),n.push(f)}var h=l.defaultItems();for(u=0;u<h.length;u++)f=h[u],f._index=n.length,v.handleItemDefaults({},f,M,v,{}),n.push(f);if(b.isArrayOrTypedArray(t)){var w=Math.min(t.length,n.length);for(u=0;u<w;u++)b.relinkPrivateKeys(n[u],t[u])}return n}},45464:function(Y,V,e){var b=e(25376),P=e(55756);Y.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:b({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:P.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(Y,V,e){var b=e(38248),P=e(3400),s=P.dateTime2ms,L=P.incrementMonth,M=e(39032),v=M.ONEAVGMONTH;Y.exports=function(r,t,o,n){if(t.type!=="date")return{vals:n};var l=r[o+"periodalignment"];if(!l)return{vals:n};var u=r[o+"period"],f;if(b(u)){if(u=+u,u<=0)return{vals:n}}else if(typeof u=="string"&&u.charAt(0)==="M"){var g=+u.substring(1);if(g>0&&Math.round(g)===g)f=g;else return{vals:n}}for(var h=t.calendar,w=l==="start",c=l==="end",a=r[o+"period0"],d=s(a,h)||0,x=[],T=[],C=[],y=n.length,S=0;S<y;S++){var A=n[S],i,E,m;if(f){for(i=Math.round((A-d)/(f*v)),m=L(d,f*i,h);m>A;)m=L(m,-f,h);for(;m<=A;)m=L(m,f,h);E=L(m,-f,h)}else{for(i=Math.round((A-d)/u),m=d+i*u;m>A;)m-=u;for(;m<=A;)m+=u;E=m-u}x[S]=w?E:c?m:(E+m)/2,T[S]=E,C[S]=m}return{vals:x,starts:T,ends:C}}},26720:function(Y){Y.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},19280:function(Y,V,e){var b=e(33428),P=e(38248),s=e(3400),L=e(39032).FP_SAFE,M=e(24040),v=e(43616),p=e(79811),r=p.getFromId,t=p.isLinked;Y.exports={applyAutorangeOptions:i,getAutoRange:o,makePadFn:l,doAutoRange:h,findExtremes:w,concatExtremes:g};function o(E,m){var k,I,O=[],_=E._fullLayout,B=l(_,m,0),F=l(_,m,1),z=g(E,m),N=z.min,W=z.max;if(N.length===0||W.length===0)return s.simpleMap(m.range,m.r2l);var Z=N[0].val,q=W[0].val;for(k=1;k<N.length&&Z===q;k++)Z=Math.min(Z,N[k].val);for(k=1;k<W.length&&Z===q;k++)q=Math.max(q,W[k].val);var re=m.autorange,le=re==="reversed"||re==="min reversed"||re==="max reversed";if(!le&&m.range){var ie=s.simpleMap(m.range,m.r2l);le=ie[1]<ie[0]}m.autorange==="reversed"&&(m.autorange=!0);var K=m.rangemode,$=K==="tozero",X=K==="nonnegative",Q=m._length,se=Q/10,J=0,G,oe,te,fe,ge,we;for(k=0;k<N.length;k++)for(G=N[k],I=0;I<W.length;I++)oe=W[I],we=oe.val-G.val-n(m,G.val,oe.val),we>0&&(ge=Q-B(G)-F(oe),ge>se?we/ge>J&&(te=G,fe=oe,J=we/ge):we/Q>J&&(te={val:G.val,nopad:1},fe={val:oe.val,nopad:1},J=we/Q));function xe(Re,Me){return Math.max(Re,F(Me))}if(Z===q){var Ce=Z-1,De=Z+1;if($)if(Z===0)O=[0,1];else{var Oe=(Z>0?W:N).reduce(xe,0),Te=Z/(1-Math.min(.5,Oe/Q));O=Z>0?[0,Te]:[Te,0]}else X?O=[Math.max(0,Ce),Math.max(1,De)]:O=[Ce,De]}else $?(te.val>=0&&(te={val:0,nopad:1}),fe.val<=0&&(fe={val:0,nopad:1})):X&&(te.val-J*B(te)<0&&(te={val:0,nopad:1}),fe.val<=0&&(fe={val:1,nopad:1})),J=(fe.val-te.val-n(m,G.val,oe.val))/(Q-B(te)-F(fe)),O=[te.val-J*B(te),fe.val+J*F(fe)];return O=i(O,m),m.limitRange&&m.limitRange(),le&&O.reverse(),s.simpleMap(O,m.l2r||Number)}function n(E,m,k){var I=0;if(E.rangebreaks)for(var O=E.locateBreaks(m,k),_=0;_<O.length;_++){var B=O[_];I+=B.max-B.min}return I}function l(E,m,k){var I=.05*m._length,O=m._anchorAxis||{};if((m.ticklabelposition||"").indexOf("inside")!==-1||(O.ticklabelposition||"").indexOf("inside")!==-1){var _=m.isReversed();if(!_){var B=s.simpleMap(m.range,m.r2l);_=B[1]<B[0]}_&&(k=!k)}var F=0;return t(E,m._id)||(F=f(E,m,k)),I=Math.max(F,I),m.constrain==="domain"&&m._inputDomain&&(I*=(m._inputDomain[1]-m._inputDomain[0])/(m.domain[1]-m.domain[0])),function(N){return N.nopad?0:N.pad+(N.extrapad?I:F)}}var u=3;function f(E,m,k){var I=0,O=m._id.charAt(0)==="x";for(var _ in E._plots){var B=E._plots[_];if(!(m._id!==B.xaxis._id&&m._id!==B.yaxis._id)){var F=(O?B.yaxis:B.xaxis)||{};if((F.ticklabelposition||"").indexOf("inside")!==-1&&(!k&&(F.side==="left"||F.side==="bottom")||k&&(F.side==="top"||F.side==="right"))){if(F._vals){var z=s.deg2rad(F._tickAngles[F._id+"tick"]||0),N=Math.abs(Math.cos(z)),W=Math.abs(Math.sin(z));if(!F._vals[0].bb){var Z=F._id+"tick",q=F._selections[Z];q.each(function(X){var Q=b.select(this),se=Q.select(".text-math-group");se.empty()&&(X.bb=v.bBox(Q.node()))})}for(var re=0;re<F._vals.length;re++){var le=F._vals[re],ie=le.bb;if(ie){var K=2*u+ie.width,$=2*u+ie.height;I=Math.max(I,O?Math.max(K*N,$*W):Math.max($*N,K*W))}}}F.ticks==="inside"&&F.ticklabelposition==="inside"&&(I+=F.ticklen||0)}}}return I}function g(E,m,k){var I=m._id,O=E._fullData,_=E._fullLayout,B=[],F=[],z,N,W;function Z(K,$){for(z=0;z<$.length;z++){var X=K[$[z]],Q=(X._extremes||{})[I];if(X.visible===!0&&Q){for(N=0;N<Q.min.length;N++)W=Q.min[N],c(B,W.val,W.pad,{extrapad:W.extrapad});for(N=0;N<Q.max.length;N++)W=Q.max[N],a(F,W.val,W.pad,{extrapad:W.extrapad})}}}if(Z(O,m._traceIndices),Z(_.annotations||[],m._annIndices||[]),Z(_.shapes||[],m._shapeIndices||[]),m._matchGroup&&!k){for(var q in m._matchGroup)if(q!==m._id){var re=r(E,q),le=g(E,re,!0),ie=m._length/re._length;for(N=0;N<le.min.length;N++)W=le.min[N],c(B,W.val,W.pad*ie,{extrapad:W.extrapad});for(N=0;N<le.max.length;N++)W=le.max[N],a(F,W.val,W.pad*ie,{extrapad:W.extrapad})}}return{min:B,max:F}}function h(E,m,k){if(m.setScale(),m.autorange){m.range=k?k.slice():o(E,m),m._r=m.range.slice(),m._rl=s.simpleMap(m._r,m.r2l);var I=m._input,O={};O[m._attr+".range"]=m.range,O[m._attr+".autorange"]=m.autorange,M.call("_storeDirectGUIEdit",E.layout,E._fullLayout._preGUI,O),I.range=m.range.slice(),I.autorange=m.autorange}var _=m._anchorAxis;if(_&&_.rangeslider){var B=_.rangeslider[m._name];B&&B.rangemode==="auto"&&(B.range=o(E,m)),_._input.rangeslider[m._name]=s.extendFlat({},B)}}function w(E,m,k){k||(k={}),E._m||E.setScale();var I=[],O=[],_=m.length,B=k.padded||!1,F=k.tozero&&(E.type==="linear"||E.type==="-"),z=E.type==="log",N=!1,W=k.vpadLinearized||!1,Z,q,re,le,ie,K,$,X,Q;function se(xe){if(Array.isArray(xe))return N=!0,function(De){return Math.max(Number(xe[De]||0),0)};var Ce=Math.max(Number(xe||0),0);return function(){return Ce}}var J=se((E._m>0?k.ppadplus:k.ppadminus)||k.ppad||0),G=se((E._m>0?k.ppadminus:k.ppadplus)||k.ppad||0),oe=se(k.vpadplus||k.vpad),te=se(k.vpadminus||k.vpad);if(!N){if(X=1/0,Q=-1/0,z)for(Z=0;Z<_;Z++)q=m[Z],q<X&&q>0&&(X=q),q>Q&&q<L&&(Q=q);else for(Z=0;Z<_;Z++)q=m[Z],q<X&&q>-L&&(X=q),q>Q&&q<L&&(Q=q);m=[X,Q],_=2}var fe={tozero:F,extrapad:B};function ge(xe){re=m[xe],P(re)&&(K=J(xe),$=G(xe),W?(le=E.c2l(re)-te(xe),ie=E.c2l(re)+oe(xe)):(X=re-te(xe),Q=re+oe(xe),z&&X<Q/10&&(X=Q/10),le=E.c2l(X),ie=E.c2l(Q)),F&&(le=Math.min(0,le),ie=Math.max(0,ie)),x(le)&&c(I,le,$,fe),x(ie)&&a(O,ie,K,fe))}var we=Math.min(6,_);for(Z=0;Z<we;Z++)ge(Z);for(Z=_-1;Z>=we;Z--)ge(Z);return{min:I,max:O,opts:k}}function c(E,m,k,I){d(E,m,k,I,T)}function a(E,m,k,I){d(E,m,k,I,C)}function d(E,m,k,I,O){for(var _=I.tozero,B=I.extrapad,F=!0,z=0;z<E.length&&F;z++){var N=E[z];if(O(N.val,m)&&N.pad>=k&&(N.extrapad||!B)){F=!1;break}else O(m,N.val)&&N.pad<=k&&(B||!N.extrapad)&&(E.splice(z,1),z--)}if(F){var W=_&&m===0;E.push({val:m,pad:W?0:k,extrapad:W?!1:B})}}function x(E){return P(E)&&Math.abs(E)<L}function T(E,m){return E<=m}function C(E,m){return E>=m}function y(E,m){var k=m.autorangeoptions;return k&&k.minallowed!==void 0&&A(m,k.minallowed,k.maxallowed)?k.minallowed:k&&k.clipmin!==void 0&&A(m,k.clipmin,k.clipmax)?Math.max(E,m.d2l(k.clipmin)):E}function S(E,m){var k=m.autorangeoptions;return k&&k.maxallowed!==void 0&&A(m,k.minallowed,k.maxallowed)?k.maxallowed:k&&k.clipmax!==void 0&&A(m,k.clipmin,k.clipmax)?Math.min(E,m.d2l(k.clipmax)):E}function A(E,m,k){return m!==void 0&&k!==void 0?(m=E.d2l(m),k=E.d2l(k),m<k):!0}function i(E,m){if(!m||!m.autorangeoptions)return E;var k=E[0],I=E[1],O=m.autorangeoptions.include;if(O!==void 0){var _=m.d2l(k),B=m.d2l(I);s.isArrayOrTypedArray(O)||(O=[O]);for(var F=0;F<O.length;F++){var z=m.d2l(O[F]);_>=z&&(_=z,k=z),B<=z&&(B=z,I=z)}}return k=y(k,m),I=S(I,m),[k,I]}},76808:function(Y){Y.exports=function(e,b,P){var s,L;if(P){var M=b==="reversed"||b==="min reversed"||b==="max reversed";s=P[M?1:0],L=P[M?0:1]}var v=e("autorangeoptions.minallowed",L===null?s:void 0),p=e("autorangeoptions.maxallowed",s===null?L:void 0);v===void 0&&e("autorangeoptions.clipmin"),p===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},54460:function(Y,V,e){var b=e(33428),P=e(38248),s=e(7316),L=e(24040),M=e(3400),v=M.strTranslate,p=e(72736),r=e(81668),t=e(76308),o=e(43616),n=e(94724),l=e(98728),u=e(39032),f=u.ONEMAXYEAR,g=u.ONEAVGYEAR,h=u.ONEMINYEAR,w=u.ONEMAXQUARTER,c=u.ONEAVGQUARTER,a=u.ONEMINQUARTER,d=u.ONEMAXMONTH,x=u.ONEAVGMONTH,T=u.ONEMINMONTH,C=u.ONEWEEK,y=u.ONEDAY,S=y/2,A=u.ONEHOUR,i=u.ONEMIN,E=u.ONESEC,m=u.ONEMILLI,k=u.ONEMICROSEC,I=u.MINUS_SIGN,O=u.BADNUM,_={K:"zeroline"},B={K:"gridline",L:"path"},F={K:"minor-gridline",L:"path"},z={K:"tick",L:"path"},N={K:"tick",L:"text"},W={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},Z=e(84284),q=Z.MID_SHIFT,re=Z.CAP_SHIFT,le=Z.LINE_SPACING,ie=Z.OPPOSITE_SIDE,K=3,$=Y.exports={};$.setConvert=e(78344);var X=e(52976),Q=e(79811),se=Q.idSort,J=Q.isLinked;$.id2name=Q.id2name,$.name2id=Q.name2id,$.cleanId=Q.cleanId,$.list=Q.list,$.listIds=Q.listIds,$.getFromId=Q.getFromId,$.getFromTrace=Q.getFromTrace;var G=e(19280);$.getAutoRange=G.getAutoRange,$.findExtremes=G.findExtremes;var oe=1e-4;function te(Ke){var et=(Ke[1]-Ke[0])*oe;return[Ke[0]-et,Ke[1]+et]}$.coerceRef=function(Ke,et,er,tr,Yt,Pt){var Zt=tr.charAt(tr.length-1),nr=er._fullLayout._subplots[Zt+"axis"],Qt=tr+"ref",Wt={};return Yt||(Yt=nr[0]||(typeof Pt=="string"?Pt:Pt[0])),Pt||(Pt=Yt),nr=nr.concat(nr.map(function(yr){return yr+" domain"})),Wt[Qt]={valType:"enumerated",values:nr.concat(Pt?typeof Pt=="string"?[Pt]:Pt:[]),dflt:Yt},M.coerce(Ke,et,Wt,Qt)},$.getRefType=function(Ke){return Ke===void 0?Ke:Ke==="paper"?"paper":Ke==="pixel"?"pixel":/( domain)$/.test(Ke)?"domain":"range"},$.coercePosition=function(Ke,et,er,tr,Yt,Pt){var Zt,nr,Qt=$.getRefType(tr);if(Qt!=="range")Zt=M.ensureNumber,nr=er(Yt,Pt);else{var Wt=$.getFromId(et,tr);Pt=Wt.fraction2r(Pt),nr=er(Yt,Pt),Zt=Wt.cleanPos}Ke[Yt]=Zt(nr)},$.cleanPosition=function(Ke,et,er){var tr=er==="paper"||er==="pixel"?M.ensureNumber:$.getFromId(et,er).cleanPos;return tr(Ke)},$.redrawComponents=function(Ke,et){et=et||$.listIds(Ke);var er=Ke._fullLayout;function tr(Yt,Pt,Zt,nr){for(var Qt=L.getComponentMethod(Yt,Pt),Wt={},yr=0;yr<et.length;yr++)for(var Ir=er[$.id2name(et[yr])],Tr=Ir[Zt],vn=0;vn<Tr.length;vn++){var Or=Tr[vn];if(!Wt[Or]&&(Qt(Ke,Or),Wt[Or]=1,nr))return}}tr("annotations","drawOne","_annIndices"),tr("shapes","drawOne","_shapeIndices"),tr("images","draw","_imgIndices",!0),tr("selections","drawOne","_selectionIndices")};var fe=$.getDataConversions=function(Ke,et,er,tr){var Yt,Pt=er==="x"||er==="y"||er==="z"?er:tr;if(M.isArrayOrTypedArray(Pt)){if(Yt={type:X(tr,void 0,{autotypenumbers:Ke._fullLayout.autotypenumbers}),_categories:[]},$.setConvert(Yt),Yt.type==="category")for(var Zt=0;Zt<tr.length;Zt++)Yt.d2c(tr[Zt])}else Yt=$.getFromTrace(Ke,et,Pt);return Yt?{d2c:Yt.d2c,c2d:Yt.c2d}:Pt==="ids"?{d2c:we,c2d:we}:{d2c:ge,c2d:ge}};function ge(Ke){return+Ke}function we(Ke){return String(Ke)}$.getDataToCoordFunc=function(Ke,et,er,tr){return fe(Ke,et,er,tr).d2c},$.counterLetter=function(Ke){var et=Ke.charAt(0);if(et==="x")return"y";if(et==="y")return"x"},$.minDtick=function(Ke,et,er,tr){["log","category","multicategory"].indexOf(Ke.type)!==-1||!tr?Ke._minDtick=0:Ke._minDtick===void 0?(Ke._minDtick=et,Ke._forceTick0=er):Ke._minDtick&&((Ke._minDtick/et+1e-6)%1<2e-6&&((er-Ke._forceTick0)/et%1+1.000001)%1<2e-6?(Ke._minDtick=et,Ke._forceTick0=er):((et/Ke._minDtick+1e-6)%1>2e-6||((er-Ke._forceTick0)/Ke._minDtick%1+1.000001)%1>2e-6)&&(Ke._minDtick=0))},$.saveRangeInitial=function(Ke,et){for(var er=$.list(Ke,"",!0),tr=!1,Yt=0;Yt<er.length;Yt++){var Pt=er[Yt],Zt=Pt._rangeInitial0===void 0&&Pt._rangeInitial1===void 0,nr=Zt||Pt.range[0]!==Pt._rangeInitial0||Pt.range[1]!==Pt._rangeInitial1,Qt=Pt.autorange;(Zt&&Qt!==!0||et&&nr)&&(Pt._rangeInitial0=Qt==="min"||Qt==="max reversed"?void 0:Pt.range[0],Pt._rangeInitial1=Qt==="max"||Qt==="min reversed"?void 0:Pt.range[1],Pt._autorangeInitial=Qt,tr=!0)}return tr},$.saveShowSpikeInitial=function(Ke,et){for(var er=$.list(Ke,"",!0),tr=!1,Yt="on",Pt=0;Pt<er.length;Pt++){var Zt=er[Pt],nr=Zt._showSpikeInitial===void 0,Qt=nr||Zt.showspikes!==Zt._showspikes;(nr||et&&Qt)&&(Zt._showSpikeInitial=Zt.showspikes,tr=!0),Yt==="on"&&!Zt.showspikes&&(Yt="off")}return Ke._fullLayout._cartesianSpikesEnabled=Yt,tr},$.autoBin=function(Ke,et,er,tr,Yt,Pt){var Zt=M.aggNums(Math.min,null,Ke),nr=M.aggNums(Math.max,null,Ke);if(et.type==="category"||et.type==="multicategory")return{start:Zt-.5,end:nr+.5,size:Math.max(1,Math.round(Pt)||1),_dataSpan:nr-Zt};Yt||(Yt=et.calendar);var Qt;if(et.type==="log"?Qt={type:"linear",range:[Zt,nr]}:Qt={type:et.type,range:M.simpleMap([Zt,nr],et.c2r,0,Yt),calendar:Yt},$.setConvert(Qt),Pt=Pt&&l.dtick(Pt,Qt.type),Pt)Qt.dtick=Pt,Qt.tick0=l.tick0(void 0,Qt.type,Yt);else{var Wt;if(er)Wt=(nr-Zt)/er;else{var yr=M.distinctVals(Ke),Ir=Math.pow(10,Math.floor(Math.log(yr.minDiff)/Math.LN10)),Tr=Ir*M.roundUp(yr.minDiff/Ir,[.9,1.9,4.9,9.9],!0);Wt=Math.max(Tr,2*M.stdev(Ke)/Math.pow(Ke.length,tr?.25:.4)),P(Wt)||(Wt=1)}$.autoTicks(Qt,Wt)}var vn=Qt.dtick,Or=$.tickIncrement($.tickFirst(Qt),vn,"reverse",Yt),En,nn;if(typeof vn=="number")Or=xe(Or,Ke,Qt,Zt,nr),nn=1+Math.floor((nr-Or)/vn),En=Or+nn*vn;else for(Qt.dtick.charAt(0)==="M"&&(Or=Ce(Or,Ke,vn,Zt,Yt)),En=Or,nn=0;En<=nr;)En=$.tickIncrement(En,vn,!1,Yt),nn++;return{start:et.c2r(Or,0,Yt),end:et.c2r(En,0,Yt),size:vn,_dataSpan:nr-Zt}};function xe(Ke,et,er,tr,Yt){var Pt=0,Zt=0,nr=0,Qt=0;function Wt(vn){return(1+(vn-Ke)*100/er.dtick)%100<2}for(var yr=0;yr<et.length;yr++)et[yr]%1===0?nr++:P(et[yr])||Qt++,Wt(et[yr])&&Pt++,Wt(et[yr]+er.dtick/2)&&Zt++;var Ir=et.length-Qt;if(nr===Ir&&er.type!=="date")er.dtick<1?Ke=tr-.5*er.dtick:(Ke-=.5,Ke+er.dtick<tr&&(Ke+=er.dtick));else if(Zt<Ir*.1&&(Pt>Ir*.3||Wt(tr)||Wt(Yt))){var Tr=er.dtick/2;Ke+=Ke+Tr<tr?Tr:-Tr}return Ke}function Ce(Ke,et,er,tr,Yt){var Pt=M.findExactDates(et,Yt),Zt=.8;if(Pt.exactDays>Zt){var nr=Number(er.substr(1));Pt.exactYears>Zt&&nr%12===0?Ke=$.tickIncrement(Ke,"M6","reverse")+y*1.5:Pt.exactMonths>Zt?Ke=$.tickIncrement(Ke,"M1","reverse")+y*15.5:Ke-=S;var Qt=$.tickIncrement(Ke,er);if(Qt<=tr)return Qt}return Ke}$.prepMinorTicks=function(Ke,et,er){if(!et.minor.dtick){delete Ke.dtick;var tr=et.dtick&&P(et._tmin),Yt;if(tr){var Pt=$.tickIncrement(et._tmin,et.dtick,!0);Yt=[et._tmin,Pt*.99+et._tmin*.01]}else{var Zt=M.simpleMap(et.range,et.r2l);Yt=[Zt[0],.8*Zt[0]+.2*Zt[1]]}if(Ke.range=M.simpleMap(Yt,et.l2r),Ke._isMinor=!0,$.prepTicks(Ke,er),tr){var nr=P(et.dtick),Qt=P(Ke.dtick),Wt=nr?et.dtick:+et.dtick.substring(1),yr=Qt?Ke.dtick:+Ke.dtick.substring(1);nr&&Qt?De(Wt,yr)?Wt===2*C&&yr===2*y&&(Ke.dtick=C):Wt===2*C&&yr===3*y?Ke.dtick=C:Wt===C&&!(et._input.minor||{}).nticks?Ke.dtick=y:Oe(Wt/yr,2.5)?Ke.dtick=Wt/2:Ke.dtick=Wt:String(et.dtick).charAt(0)==="M"?Qt?Ke.dtick="M1":De(Wt,yr)?Wt>=12&&yr===2&&(Ke.dtick="M3"):Ke.dtick=et.dtick:String(Ke.dtick).charAt(0)==="L"?String(et.dtick).charAt(0)==="L"?De(Wt,yr)||(Ke.dtick=Oe(Wt/yr,2.5)?et.dtick/2:et.dtick):Ke.dtick="D1":Ke.dtick==="D2"&&+et.dtick>1&&(Ke.dtick=1)}Ke.range=et.range}et.minor._tick0Init===void 0&&(Ke.tick0=et.tick0)};function De(Ke,et){return Math.abs((Ke/et+.5)%1-.5)<.001}function Oe(Ke,et){return Math.abs(Ke/et-1)<.001}$.prepTicks=function(Ke,et){var er=M.simpleMap(Ke.range,Ke.r2l,void 0,void 0,et);if(Ke.tickmode==="auto"||!Ke.dtick){var tr=Ke.nticks,Yt;tr||(Ke.type==="category"||Ke.type==="multicategory"?(Yt=Ke.tickfont?M.bigFont(Ke.tickfont.size||12):15,tr=Ke._length/Yt):(Yt=Ke._id.charAt(0)==="y"?40:80,tr=M.constrain(Ke._length/Yt,4,9)+1),Ke._name==="radialaxis"&&(tr*=2)),Ke.minor&&Ke.minor.tickmode!=="array"||Ke.tickmode==="array"&&(tr*=100),Ke._roughDTick=Math.abs(er[1]-er[0])/tr,$.autoTicks(Ke,Ke._roughDTick),Ke._minDtick>0&&Ke.dtick<Ke._minDtick*2&&(Ke.dtick=Ke._minDtick,Ke.tick0=Ke.l2r(Ke._forceTick0))}Ke.ticklabelmode==="period"&&Re(Ke),Ke.tick0||(Ke.tick0=Ke.type==="date"?"2000-01-01":0),Ke.type==="date"&&Ke.dtick<.1&&(Ke.dtick=.1),St(Ke)};function Te(Ke){return+Ke.substring(1)}function Re(Ke){var et;function er(){return!(P(Ke.dtick)||Ke.dtick.charAt(0)!=="M")}var tr=er(),Yt=$.getTickFormat(Ke);if(Yt){var Pt=Ke._dtickInit!==Ke.dtick;/%[fLQsSMX]/.test(Yt)||(/%[HI]/.test(Yt)?(et=A,Pt&&!tr&&Ke.dtick<A&&(Ke.dtick=A)):/%p/.test(Yt)?(et=S,Pt&&!tr&&Ke.dtick<S&&(Ke.dtick=S)):/%[Aadejuwx]/.test(Yt)?(et=y,Pt&&!tr&&Ke.dtick<y&&(Ke.dtick=y)):/%[UVW]/.test(Yt)?(et=C,Pt&&!tr&&Ke.dtick<C&&(Ke.dtick=C)):/%[Bbm]/.test(Yt)?(et=x,Pt&&(tr?Te(Ke.dtick)<1:Ke.dtick<T)&&(Ke.dtick="M1")):/%[q]/.test(Yt)?(et=c,Pt&&(tr?Te(Ke.dtick)<3:Ke.dtick<a)&&(Ke.dtick="M3")):/%[Yy]/.test(Yt)&&(et=g,Pt&&(tr?Te(Ke.dtick)<12:Ke.dtick<h)&&(Ke.dtick="M12")))}tr=er(),tr&&Ke.tick0===Ke._dowTick0&&(Ke.tick0=Ke._rawTick0),Ke._definedDelta=et}function Me(Ke,et,er){for(var tr=0;tr<Ke.length;tr++){var Yt=Ke[tr].value,Pt=tr,Zt=tr+1;tr<Ke.length-1?(Pt=tr,Zt=tr+1):tr>0?(Pt=tr-1,Zt=tr):(Pt=tr,Zt=tr);var nr=Ke[Pt].value,Qt=Ke[Zt].value,Wt=Math.abs(Qt-nr),yr=er||Wt,Ir=0;yr>=h?Wt>=h&&Wt<=f?Ir=Wt:Ir=g:er===c&&yr>=a?Wt>=a&&Wt<=w?Ir=Wt:Ir=c:yr>=T?Wt>=T&&Wt<=d?Ir=Wt:Ir=x:er===C&&yr>=C?Ir=C:yr>=y?Ir=y:er===S&&yr>=S?Ir=S:er===A&&yr>=A&&(Ir=A);var Tr;Ir>=Wt&&(Ir=Wt,Tr=!0);var vn=Yt+Ir;if(et.rangebreaks&&Ir>0){for(var Or=84,En=0,nn=0;nn<Or;nn++){var gr=(nn+.5)/Or;et.maskBreaks(Yt*(1-gr)+gr*vn)!==O&&En++}Ir*=En/Or,Ir||(Ke[tr].drop=!0),Tr&&Wt>C&&(Ir=Wt)}(Ir>0||tr===0)&&(Ke[tr].periodX=Yt+Ir/2)}}$.calcTicks=function(et,er){for(var tr=et.type,Yt=et.calendar,Pt=et.ticklabelstep,Zt=et.ticklabelmode==="period",nr=et.range[0]>et.range[1],Qt=!et.ticklabelindex||M.isArrayOrTypedArray(et.ticklabelindex)?et.ticklabelindex:[et.ticklabelindex],Wt=M.simpleMap(et.range,et.r2l,void 0,void 0,er),yr=Wt[1]<Wt[0],Ir=Math.min(Wt[0],Wt[1]),Tr=Math.max(Wt[0],Wt[1]),vn=Math.max(1e3,et._length||0),Or=[],En=[],nn=[],gr=[],Pr=[],Xr=et.minor&&(et.minor.ticks||et.minor.showgrid),kr=1;kr>=(Xr?0:1);kr--){var pn=!kr;kr?(et._dtickInit=et.dtick,et._tick0Init=et.tick0):(et.minor._dtickInit=et.minor.dtick,et.minor._tick0Init=et.minor.tick0);var tn=kr?et:M.extendFlat({},et,et.minor);if(pn?$.prepMinorTicks(tn,et,er):$.prepTicks(tn,er),tn.tickmode==="array"){kr?(nn=[],Or=He(et,!pn)):(gr=[],En=He(et,!pn));continue}if(tn.tickmode==="sync"){nn=[],Or=Se(et);continue}var Tn=te(Wt),Ln=Tn[0],Hn=Tn[1],pa=P(tn.dtick),xa=tr==="log"&&!(pa||tn.dtick.charAt(0)==="L"),ia=$.tickFirst(tn,er);if(kr){if(et._tmin=ia,ia<Ln!==yr)break;(tr==="category"||tr==="multicategory")&&(Hn=yr?Math.max(-.5,Hn):Math.min(et._categories.length-.5,Hn))}var ra=null,Rn=ia,Cr;if(kr){var an;pa?an=et.dtick:tr==="date"?typeof et.dtick=="string"&&et.dtick.charAt(0)==="M"&&(an=x*et.dtick.substring(1)):an=et._roughDTick,Cr=Math.round((et.r2l(Rn)-et.r2l(et.tick0))/an)-1}var on=tn.dtick;for(tn.rangebreaks&&tn._tick0Init!==tn.tick0&&(Rn=hr(Rn,et),yr||(Rn=$.tickIncrement(Rn,on,!yr,Yt))),kr&&Zt&&(Rn=$.tickIncrement(Rn,on,!yr,Yt),Cr--);yr?Rn>=Hn:Rn<=Hn;Rn=$.tickIncrement(Rn,on,yr,Yt)){if(kr&&Cr++,tn.rangebreaks&&!yr){if(Rn<Ln)continue;if(tn.maskBreaks(Rn)===O&&hr(Rn,tn)>=Tr)break}if(nn.length>vn||Rn===ra)break;ra=Rn;var ln={value:Rn};kr?(xa&&Rn!==(Rn|0)&&(ln.simpleLabel=!0),Pt>1&&Cr%Pt&&(ln.skipLabel=!0),nn.push(ln)):(ln.minor=!0,gr.push(ln))}}if(!gr||gr.length<2)Qt=!1;else{var On=(gr[1].value-gr[0].value)*(nr?-1:1);xr(On,et.tickformat)||(Qt=!1)}if(!Qt)Pr=nn;else{var gn=nn.concat(gr);Zt&&nn.length&&(gn=gn.slice(1)),gn=gn.sort(function(Nn,_n){return Nn.value-_n.value}).filter(function(Nn,_n,Wn){return _n===0||Nn.value!==Wn[_n-1].value});var Cn=gn.map(function(Nn,_n){return Nn.minor===void 0&&!Nn.skipLabel?_n:null}).filter(function(Nn){return Nn!==null});Cn.forEach(function(Nn){Qt.map(function(_n){var Wn=Nn+_n;Wn>=0&&Wn<gn.length&&M.pushUnique(Pr,gn[Wn])})})}if(Xr){var Bn=et.minor.ticks==="inside"&&et.ticks==="outside"||et.minor.ticks==="outside"&&et.ticks==="inside";if(!Bn){for(var Qn=nn.map(function(Nn){return Nn.value}),ha=[],Ra=0;Ra<gr.length;Ra++){var Ar=gr[Ra],Br=Ar.value;if(Qn.indexOf(Br)===-1){for(var Mr=!1,Nr=0;!Mr&&Nr<nn.length;Nr++)1e7+nn[Nr].value===1e7+Br&&(Mr=!0);Mr||ha.push(Ar)}}gr=ha}}Zt&&Me(Pr,et,et._definedDelta);var un;if(et.rangebreaks){var Dn=et._id.charAt(0)==="y",mn=1;et.tickmode==="auto"&&(mn=et.tickfont?et.tickfont.size:12);var cn=NaN;for(un=nn.length-1;un>-1;un--){if(nn[un].drop){nn.splice(un,1);continue}nn[un].value=hr(nn[un].value,et);var Er=et.c2p(nn[un].value);(Dn?cn>Er-mn:cn<Er+mn)?nn.splice(yr?un+1:un,1):cn=Er}}Jt(et)&&Math.abs(Wt[1]-Wt[0])===360&&nn.pop(),et._tmax=(nn[nn.length-1]||{}).value,et._prevDateHead="",et._inCalcTicks=!0;var Yr,Gr=function(Nn){Nn.text="",et._prevDateHead=Yr};nn=nn.concat(gr);function $r(Nn,_n){var Wn=$.tickText(Nn,_n.value,!1,_n.simpleLabel),jn=_n.periodX;return jn!==void 0&&(Wn.periodX=jn,(jn>Tr||jn<Ir)&&(jn>Tr&&(Wn.periodX=Tr),jn<Ir&&(Wn.periodX=Ir),Gr(Wn))),Wn}var wn;for(un=0;un<nn.length;un++){var An=nn[un].minor,Fn=nn[un].value;An?(Qt&&Pr.indexOf(nn[un])!==-1?wn=$r(et,nn[un]):wn={x:Fn},wn.minor=!0,En.push(wn)):(Yr=et._prevDateHead,wn=$r(et,nn[un]),(nn[un].skipLabel||Qt&&Pr.indexOf(nn[un])===-1)&&Gr(wn),Or.push(wn))}return Or=Or.concat(En),et._inCalcTicks=!1,Zt&&Or.length&&(Or[0].noTick=!0),Or};function ke(Ke,et){return Ke.rangebreaks&&(et=et.filter(function(er){return Ke.maskBreaks(er.x)!==O})),et}function Se(Ke){var et=Ke._mainAxis,er=[];if(et._vals){for(var tr=0;tr<et._vals.length;tr++)if(!et._vals[tr].noTick){var Yt=et.l2p(et._vals[tr].x),Pt=Ke.p2l(Yt),Zt=$.tickText(Ke,Pt);et._vals[tr].minor&&(Zt.minor=!0,Zt.text=""),er.push(Zt)}}return er=ke(Ke,er),er}function He(Ke,et){var er=M.simpleMap(Ke.range,Ke.r2l),tr=te(er),Yt=Math.min(tr[0],tr[1]),Pt=Math.max(tr[0],tr[1]),Zt=Ke.type==="category"?Ke.d2l_noadd:Ke.d2l;Ke.type==="log"&&String(Ke.dtick).charAt(0)!=="L"&&(Ke.dtick="L"+Math.pow(10,Math.floor(Math.min(Ke.range[0],Ke.range[1]))-1));for(var nr=[],Qt=0;Qt<=1;Qt++)if(!(et!==void 0&&(et&&Qt||et===!1&&!Qt))&&!(Qt&&!Ke.minor)){var Wt=Qt?Ke.minor.tickvals:Ke.tickvals,yr=Qt?[]:Ke.ticktext;if(Wt){M.isArrayOrTypedArray(yr)||(yr=[]);for(var Ir=0;Ir<Wt.length;Ir++){var Tr=Zt(Wt[Ir]);if(Tr>Yt&&Tr<Pt){var vn=$.tickText(Ke,Tr,!1,String(yr[Ir]));Qt&&(vn.minor=!0,vn.text=""),nr.push(vn)}}}}return nr=ke(Ke,nr),nr}var je=[2,5,10],at=[1,2,3,6,12],Ze=[1,2,5,10,15,30],$e=[1,2,3,7,14],ut=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],ht=[-.301,0,.301,.699,1],vt=[15,30,45,90,180];function xt(Ke,et,er){return et*M.roundUp(Ke/et,er)}$.autoTicks=function(Ke,et,er){var tr;function Yt(Ir){return Math.pow(Ir,Math.floor(Math.log(et)/Math.LN10))}if(Ke.type==="date"){Ke.tick0=M.dateTick0(Ke.calendar,0);var Pt=2*et;if(Pt>g)et/=g,tr=Yt(10),Ke.dtick="M"+12*xt(et,tr,je);else if(Pt>x)et/=x,Ke.dtick="M"+xt(et,1,at);else if(Pt>y){if(Ke.dtick=xt(et,y,Ke._hasDayOfWeekBreaks?[1,2,7,14]:$e),!er){var Zt=$.getTickFormat(Ke),nr=Ke.ticklabelmode==="period";nr&&(Ke._rawTick0=Ke.tick0),/%[uVW]/.test(Zt)?Ke.tick0=M.dateTick0(Ke.calendar,2):Ke.tick0=M.dateTick0(Ke.calendar,1),nr&&(Ke._dowTick0=Ke.tick0)}}else Pt>A?Ke.dtick=xt(et,A,at):Pt>i?Ke.dtick=xt(et,i,Ze):Pt>E?Ke.dtick=xt(et,E,Ze):(tr=Yt(10),Ke.dtick=xt(et,tr,je))}else if(Ke.type==="log"){Ke.tick0=0;var Qt=M.simpleMap(Ke.range,Ke.r2l);if(Ke._isMinor&&(et*=1.5),et>.7)Ke.dtick=Math.ceil(et);else if(Math.abs(Qt[1]-Qt[0])<1){var Wt=1.5*Math.abs((Qt[1]-Qt[0])/et);et=Math.abs(Math.pow(10,Qt[1])-Math.pow(10,Qt[0]))/Wt,tr=Yt(10),Ke.dtick="L"+xt(et,tr,je)}else Ke.dtick=et>.3?"D2":"D1"}else Ke.type==="category"||Ke.type==="multicategory"?(Ke.tick0=0,Ke.dtick=Math.ceil(Math.max(et,1))):Jt(Ke)?(Ke.tick0=0,tr=1,Ke.dtick=xt(et,tr,vt)):(Ke.tick0=0,tr=Yt(10),Ke.dtick=xt(et,tr,je));if(Ke.dtick===0&&(Ke.dtick=1),!P(Ke.dtick)&&typeof Ke.dtick!="string"){var yr=Ke.dtick;throw Ke.dtick=1,"ax.dtick error: "+String(yr)}};function St(Ke){var et=Ke.dtick;if(Ke._tickexponent=0,!P(et)&&typeof et!="string"&&(et=1),(Ke.type==="category"||Ke.type==="multicategory")&&(Ke._tickround=null),Ke.type==="date"){var er=Ke.r2l(Ke.tick0),tr=Ke.l2r(er).replace(/(^-|i)/g,""),Yt=tr.length;if(String(et).charAt(0)==="M")Yt>10||tr.substr(5)!=="01-01"?Ke._tickround="d":Ke._tickround=+et.substr(1)%12===0?"y":"m";else if(et>=y&&Yt<=10||et>=y*15)Ke._tickround="d";else if(et>=i&&Yt<=16||et>=A)Ke._tickround="M";else if(et>=E&&Yt<=19||et>=i)Ke._tickround="S";else{var Pt=Ke.l2r(er+et).replace(/^-/,"").length;Ke._tickround=Math.max(Yt,Pt)-20,Ke._tickround<0&&(Ke._tickround=4)}}else if(P(et)||et.charAt(0)==="L"){var Zt=Ke.range.map(Ke.r2d||Number);P(et)||(et=Number(et.substr(1))),Ke._tickround=2-Math.floor(Math.log(et)/Math.LN10+.01);var nr=Math.max(Math.abs(Zt[0]),Math.abs(Zt[1])),Qt=Math.floor(Math.log(nr)/Math.LN10+.01),Wt=Ke.minexponent===void 0?3:Ke.minexponent;Math.abs(Qt)>Wt&&(he(Ke.exponentformat)&&!ye(Qt)?Ke._tickexponent=3*Math.round((Qt-1)/3):Ke._tickexponent=Qt)}else Ke._tickround=null}$.tickIncrement=function(Ke,et,er,tr){var Yt=er?-1:1;if(P(et))return M.increment(Ke,Yt*et);var Pt=et.charAt(0),Zt=Yt*Number(et.substr(1));if(Pt==="M")return M.incrementMonth(Ke,Zt,tr);if(Pt==="L")return Math.log(Math.pow(10,Ke)+Zt)/Math.LN10;if(Pt==="D"){var nr=et==="D2"?ht:ut,Qt=Ke+Yt*.01,Wt=M.roundUp(M.mod(Qt,1),nr,er);return Math.floor(Qt)+Math.log(b.round(Math.pow(10,Wt),1))/Math.LN10}throw"unrecognized dtick "+String(et)},$.tickFirst=function(Ke,et){var er=Ke.r2l||Number,tr=M.simpleMap(Ke.range,er,void 0,void 0,et),Yt=tr[1]<tr[0],Pt=Yt?Math.floor:Math.ceil,Zt=te(tr)[0],nr=Ke.dtick,Qt=er(Ke.tick0);if(P(nr)){var Wt=Pt((Zt-Qt)/nr)*nr+Qt;return(Ke.type==="category"||Ke.type==="multicategory")&&(Wt=M.constrain(Wt,0,Ke._categories.length-1)),Wt}var yr=nr.charAt(0),Ir=Number(nr.substr(1));if(yr==="M"){for(var Tr=0,vn=Qt,Or,En,nn;Tr<10;){if(Or=$.tickIncrement(vn,nr,Yt,Ke.calendar),(Or-Zt)*(vn-Zt)<=0)return Yt?Math.min(vn,Or):Math.max(vn,Or);En=(Zt-(vn+Or)/2)/(Or-vn),nn=yr+(Math.abs(Math.round(En))||1)*Ir,vn=$.tickIncrement(vn,nn,En<0?!Yt:Yt,Ke.calendar),Tr++}return M.error("tickFirst did not converge",Ke),vn}else{if(yr==="L")return Math.log(Pt((Math.pow(10,Zt)-Qt)/Ir)*Ir+Qt)/Math.LN10;if(yr==="D"){var gr=nr==="D2"?ht:ut,Pr=M.roundUp(M.mod(Zt,1),gr,Yt);return Math.floor(Zt)+Math.log(b.round(Math.pow(10,Pr),1))/Math.LN10}else throw"unrecognized dtick "+String(nr)}},$.tickText=function(Ke,et,er,tr){var Yt=tt(Ke,et),Pt=Ke.tickmode==="array",Zt=er||Pt,nr=Ke.type,Qt=nr==="category"?Ke.d2l_noadd:Ke.d2l,Wt,yr=function(nn){var gr=Ke.l2p(nn);return gr>=0&&gr<=Ke._length?nn:null};if(Pt&&M.isArrayOrTypedArray(Ke.ticktext)){var Ir=M.simpleMap(Ke.range,Ke.r2l),Tr=(Math.abs(Ir[1]-Ir[0])-(Ke._lBreaks||0))/1e4;for(Wt=0;Wt<Ke.ticktext.length&&!(Math.abs(et-Qt(Ke.tickvals[Wt]))<Tr);Wt++);if(Wt<Ke.ticktext.length)return Yt.text=String(Ke.ticktext[Wt]),Yt.xbnd=[yr(Yt.x-.5),yr(Yt.x+Ke.dtick-.5)],Yt}function vn(nn){if(nn===void 0)return!0;if(er)return nn==="none";var gr={first:Ke._tmin,last:Ke._tmax}[nn];return nn!=="all"&&et!==gr}var Or=er?"never":Ke.exponentformat!=="none"&&vn(Ke.showexponent)?"hide":"";if(nr==="date"?Ie(Ke,Yt,er,Zt):nr==="log"?Ve(Ke,Yt,er,Zt,Or):nr==="category"?Ge(Ke,Yt):nr==="multicategory"?Xe(Ke,Yt,er):Jt(Ke)?Fe(Ke,Yt,er,Zt,Or):Le(Ke,Yt,er,Zt,Or),tr||(Ke.tickprefix&&!vn(Ke.showtickprefix)&&(Yt.text=Ke.tickprefix+Yt.text),Ke.ticksuffix&&!vn(Ke.showticksuffix)&&(Yt.text+=Ke.ticksuffix)),Ke.labelalias&&Ke.labelalias.hasOwnProperty(Yt.text)){var En=Ke.labelalias[Yt.text];typeof En=="string"&&(Yt.text=En)}return(Ke.tickson==="boundaries"||Ke.showdividers)&&(Yt.xbnd=[yr(Yt.x-.5),yr(Yt.x+Ke.dtick-.5)]),Yt},$.hoverLabelText=function(Ke,et,er){er&&(Ke=M.extendFlat({},Ke,{hoverformat:er}));var tr=M.isArrayOrTypedArray(et)?et[0]:et,Yt=M.isArrayOrTypedArray(et)?et[1]:void 0;if(Yt!==void 0&&Yt!==tr)return $.hoverLabelText(Ke,tr,er)+" - "+$.hoverLabelText(Ke,Yt,er);var Pt=Ke.type==="log"&&tr<=0,Zt=$.tickText(Ke,Ke.c2l(Pt?-tr:tr),"hover").text;return Pt?tr===0?"0":I+Zt:Zt};function tt(Ke,et,er){var tr=Ke.tickfont||{};return{x:et,dx:0,dy:0,text:er||"",fontSize:tr.size,font:tr.family,fontWeight:tr.weight,fontStyle:tr.style,fontVariant:tr.variant,fontTextcase:tr.textcase,fontLineposition:tr.lineposition,fontShadow:tr.shadow,fontColor:tr.color}}function Ie(Ke,et,er,tr){var Yt=Ke._tickround,Pt=er&&Ke.hoverformat||$.getTickFormat(Ke);tr=!Pt&&tr,tr&&(P(Yt)?Yt=4:Yt={y:"m",m:"d",d:"M",M:"S",S:4}[Yt]);var Zt=M.formatDate(et.x,Pt,Yt,Ke._dateFormat,Ke.calendar,Ke._extraFormat),nr,Qt=Zt.indexOf(`
`);if(Qt!==-1&&(nr=Zt.substr(Qt+1),Zt=Zt.substr(0,Qt)),tr&&(nr!==void 0&&(Zt==="00:00:00"||Zt==="00:00")?(Zt=nr,nr=""):Zt.length===8&&(Zt=Zt.replace(/:00$/,""))),nr)if(er)Yt==="d"?Zt+=", "+nr:Zt=nr+(Zt?", "+Zt:"");else if(!Ke._inCalcTicks||Ke._prevDateHead!==nr)Ke._prevDateHead=nr,Zt+="<br>"+nr;else{var Wt=cr(Ke),yr=Ke._trueSide||Ke.side;(!Wt&&yr==="top"||Wt&&yr==="bottom")&&(Zt+="<br> ")}et.text=Zt}function Ve(Ke,et,er,tr,Yt){var Pt=Ke.dtick,Zt=et.x,nr=Ke.tickformat,Qt=typeof Pt=="string"&&Pt.charAt(0);if(Yt==="never"&&(Yt=""),tr&&Qt!=="L"&&(Pt="L3",Qt="L"),nr||Qt==="L")et.text=_e(Math.pow(10,Zt),Ke,Yt,tr);else if(P(Pt)||Qt==="D"&&M.mod(Zt+.01,1)<.1){var Wt=Math.round(Zt),yr=Math.abs(Wt),Ir=Ke.exponentformat;Ir==="power"||he(Ir)&&ye(Wt)?(Wt===0?et.text=1:Wt===1?et.text="10":et.text="10<sup>"+(Wt>1?"":I)+yr+"</sup>",et.fontSize*=1.25):(Ir==="e"||Ir==="E")&&yr>2?et.text="1"+Ir+(Wt>0?"+":I)+yr:(et.text=_e(Math.pow(10,Zt),Ke,"","fakehover"),Pt==="D1"&&Ke._id.charAt(0)==="y"&&(et.dy-=et.fontSize/6))}else if(Qt==="D")et.text=String(Math.round(Math.pow(10,M.mod(Zt,1)))),et.fontSize*=.75;else throw"unrecognized dtick "+String(Pt);if(Ke.dtick==="D1"){var Tr=String(et.text).charAt(0);(Tr==="0"||Tr==="1")&&(Ke._id.charAt(0)==="y"?et.dx-=et.fontSize/4:(et.dy+=et.fontSize/2,et.dx+=(Ke.range[1]>Ke.range[0]?1:-1)*et.fontSize*(Zt<0?.5:.25)))}}function Ge(Ke,et){var er=Ke._categories[Math.round(et.x)];er===void 0&&(er=""),et.text=String(er)}function Xe(Ke,et,er){var tr=Math.round(et.x),Yt=Ke._categories[tr]||[],Pt=Yt[1]===void 0?"":String(Yt[1]),Zt=Yt[0]===void 0?"":String(Yt[0]);er?et.text=Zt+" - "+Pt:(et.text=Pt,et.text2=Zt)}function Le(Ke,et,er,tr,Yt){Yt==="never"?Yt="":Ke.showexponent==="all"&&Math.abs(et.x/Ke.dtick)<1e-6&&(Yt="hide"),et.text=_e(et.x,Ke,Yt,tr)}function Fe(Ke,et,er,tr,Yt){if(Ke.thetaunit==="radians"&&!er){var Pt=et.x/180;if(Pt===0)et.text="0";else{var Zt=Ue(Pt);if(Zt[1]>=100)et.text=_e(M.deg2rad(et.x),Ke,Yt,tr);else{var nr=et.x<0;Zt[1]===1?Zt[0]===1?et.text="π":et.text=Zt[0]+"π":et.text=["<sup>",Zt[0],"</sup>","⁄","<sub>",Zt[1],"</sub>","π"].join(""),nr&&(et.text=I+et.text)}}}else et.text=_e(et.x,Ke,Yt,tr)}function Ue(Ke){function et(nr,Qt){return Math.abs(nr-Qt)<=1e-6}function er(nr,Qt){return et(Qt,0)?nr:er(Qt,nr%Qt)}function tr(nr){for(var Qt=1;!et(Math.round(nr*Qt)/Qt,nr);)Qt*=10;return Qt}var Yt=tr(Ke),Pt=Ke*Yt,Zt=Math.abs(er(Pt,Yt));return[Math.round(Pt/Zt),Math.round(Yt/Zt)]}var Ee=["f","p","n","μ","m","","k","M","G","T"];function he(Ke){return Ke==="SI"||Ke==="B"}function ye(Ke){return Ke>14||Ke<-15}function _e(Ke,et,er,tr){var Yt=Ke<0,Pt=et._tickround,Zt=er||et.exponentformat||"B",nr=et._tickexponent,Qt=$.getTickFormat(et),Wt=et.separatethousands;if(tr){var yr={exponentformat:Zt,minexponent:et.minexponent,dtick:et.showexponent==="none"?et.dtick:P(Ke)&&Math.abs(Ke)||1,range:et.showexponent==="none"?et.range.map(et.r2d):[0,Ke||1]};St(yr),Pt=(Number(yr._tickround)||0)+4,nr=yr._tickexponent,et.hoverformat&&(Qt=et.hoverformat)}if(Qt)return et._numFormat(Qt)(Ke).replace(/-/g,I);var Ir=Math.pow(10,-Pt)/2;if(Zt==="none"&&(nr=0),Ke=Math.abs(Ke),Ke<Ir)Ke="0",Yt=!1;else{if(Ke+=Ir,nr&&(Ke*=Math.pow(10,-nr),Pt+=nr),Pt===0)Ke=String(Math.floor(Ke));else if(Pt<0){Ke=String(Math.round(Ke)),Ke=Ke.substr(0,Ke.length+Pt);for(var Tr=Pt;Tr<0;Tr++)Ke+="0"}else{Ke=String(Ke);var vn=Ke.indexOf(".")+1;vn&&(Ke=Ke.substr(0,vn+Pt).replace(/\.?0+$/,""))}Ke=M.numSeparate(Ke,et._separators,Wt)}if(nr&&Zt!=="hide"){he(Zt)&&ye(nr)&&(Zt="power");var Or;nr<0?Or=I+-nr:Zt!=="power"?Or="+"+nr:Or=String(nr),Zt==="e"||Zt==="E"?Ke+=Zt+Or:Zt==="power"?Ke+="×10<sup>"+Or+"</sup>":Zt==="B"&&nr===9?Ke+="B":he(Zt)&&(Ke+=Ee[nr/3+5])}return Yt?I+Ke:Ke}$.getTickFormat=function(Ke){var et;function er(Qt){return typeof Qt!="string"?Qt:Number(Qt.replace("M",""))*x}function tr(Qt,Wt){var yr=["L","D"];if(typeof Qt==typeof Wt){if(typeof Qt=="number")return Qt-Wt;var Ir=yr.indexOf(Qt.charAt(0)),Tr=yr.indexOf(Wt.charAt(0));return Ir===Tr?Number(Qt.replace(/(L|D)/g,""))-Number(Wt.replace(/(L|D)/g,"")):Ir-Tr}else return typeof Qt=="number"?1:-1}function Yt(Qt,Wt,yr){var Ir=yr||function(Or){return Or},Tr=Wt[0],vn=Wt[1];return(!Tr&&typeof Tr!="number"||Ir(Tr)<=Ir(Qt))&&(!vn&&typeof vn!="number"||Ir(vn)>=Ir(Qt))}function Pt(Qt,Wt){var yr=Wt[0]===null,Ir=Wt[1]===null,Tr=tr(Qt,Wt[0])>=0,vn=tr(Qt,Wt[1])<=0;return(yr||Tr)&&(Ir||vn)}var Zt,nr;if(Ke.tickformatstops&&Ke.tickformatstops.length>0)switch(Ke.type){case"date":case"linear":{for(et=0;et<Ke.tickformatstops.length;et++)if(nr=Ke.tickformatstops[et],nr.enabled&&Yt(Ke.dtick,nr.dtickrange,er)){Zt=nr;break}break}case"log":{for(et=0;et<Ke.tickformatstops.length;et++)if(nr=Ke.tickformatstops[et],nr.enabled&&Pt(Ke.dtick,nr.dtickrange)){Zt=nr;break}break}}return Zt?Zt.value:Ke.tickformat},$.getSubplots=function(Ke,et){var er=Ke._fullLayout._subplots,tr=er.cartesian.concat(er.gl2d||[]),Yt=et?$.findSubplotsWithAxis(tr,et):tr;return Yt.sort(function(Pt,Zt){var nr=Pt.substr(1).split("y"),Qt=Zt.substr(1).split("y");return nr[0]===Qt[0]?+nr[1]-+Qt[1]:+nr[0]-+Qt[0]}),Yt},$.findSubplotsWithAxis=function(Ke,et){for(var er=new RegExp(et._id.charAt(0)==="x"?"^"+et._id+"y":et._id+"$"),tr=[],Yt=0;Yt<Ke.length;Yt++){var Pt=Ke[Yt];er.test(Pt)&&tr.push(Pt)}return tr},$.makeClipPaths=function(Ke){var et=Ke._fullLayout;if(!et._hasOnlyLargeSploms){var er={_offset:0,_length:et.width,_id:""},tr={_offset:0,_length:et.height,_id:""},Yt=$.list(Ke,"x",!0),Pt=$.list(Ke,"y",!0),Zt=[],nr,Qt;for(nr=0;nr<Yt.length;nr++)for(Zt.push({x:Yt[nr],y:tr}),Qt=0;Qt<Pt.length;Qt++)nr===0&&Zt.push({x:er,y:Pt[Qt]}),Zt.push({x:Yt[nr],y:Pt[Qt]});var Wt=et._clips.selectAll(".axesclip").data(Zt,function(yr){return yr.x._id+yr.y._id});Wt.enter().append("clipPath").classed("axesclip",!0).attr("id",function(yr){return"clip"+et._uid+yr.x._id+yr.y._id}).append("rect"),Wt.exit().remove(),Wt.each(function(yr){b.select(this).select("rect").attr({x:yr.x._offset||0,y:yr.y._offset||0,width:yr.x._length||1,height:yr.y._length||1})})}},$.draw=function(Ke,et,er){var tr=Ke._fullLayout;et==="redraw"&&tr._paper.selectAll("g.subplot").each(function(Qt){var Wt=Qt[0],yr=tr._plots[Wt];if(yr){var Ir=yr.xaxis,Tr=yr.yaxis;yr.xaxislayer.selectAll("."+Ir._id+"tick").remove(),yr.yaxislayer.selectAll("."+Tr._id+"tick").remove(),yr.xaxislayer.selectAll("."+Ir._id+"tick2").remove(),yr.yaxislayer.selectAll("."+Tr._id+"tick2").remove(),yr.xaxislayer.selectAll("."+Ir._id+"divider").remove(),yr.yaxislayer.selectAll("."+Tr._id+"divider").remove(),yr.minorGridlayer&&yr.minorGridlayer.selectAll("path").remove(),yr.gridlayer&&yr.gridlayer.selectAll("path").remove(),yr.zerolinelayer&&yr.zerolinelayer.selectAll("path").remove(),tr._infolayer.select(".g-"+Ir._id+"title").remove(),tr._infolayer.select(".g-"+Tr._id+"title").remove()}});var Yt=!et||et==="redraw"?$.listIds(Ke):et,Pt=$.list(Ke),Zt=Pt.filter(function(Qt){return Qt.autoshift}).map(function(Qt){return Qt.overlaying});Yt.map(function(Qt){var Wt=$.getFromId(Ke,Qt);if(Wt.tickmode==="sync"&&Wt.overlaying){var yr=Yt.findIndex(function(Ir){return Ir===Wt.overlaying});yr>=0&&Yt.unshift(Yt.splice(yr,1).shift())}});var nr={false:{left:0,right:0}};return M.syncOrAsync(Yt.map(function(Qt){return function(){if(Qt){var Wt=$.getFromId(Ke,Qt);er||(er={}),er.axShifts=nr,er.overlayingShiftedAx=Zt;var yr=$.drawOne(Ke,Wt,er);return Wt._shiftPusher&&fr(Wt,Wt._fullDepth||0,nr,!0),Wt._r=Wt.range.slice(),Wt._rl=M.simpleMap(Wt._r,Wt.r2l),yr}}}))},$.drawOne=function(Ke,et,er){er=er||{};var tr=er.axShifts||{},Yt=er.overlayingShiftedAx||[],Pt,Zt,nr;et.setScale();var Qt=Ke._fullLayout,Wt=et._id,yr=Wt.charAt(0),Ir=$.counterLetter(Wt),Tr=Qt._plots[et._mainSubplot];if(!Tr)return;if(et._shiftPusher=et.autoshift||Yt.indexOf(et._id)!==-1||Yt.indexOf(et.overlaying)!==-1,et._shiftPusher&et.anchor==="free"){var vn=et.linewidth/2||0;et.ticks==="inside"&&(vn+=et.ticklen),fr(et,vn,tr,!0),fr(et,et.shift||0,tr,!1)}(er.skipTitle!==!0||et._shift===void 0)&&(et._shift=Lr(et,tr));var Or=Tr[yr+"axislayer"],En=et._mainLinePosition,nn=En+=et._shift,gr=et._mainMirrorPosition,Pr=et._vals=$.calcTicks(et),Xr=[et.mirror,nn,gr].join("_");for(Pt=0;Pt<Pr.length;Pt++)Pr[Pt].axInfo=Xr;et._selections={},et._tickAngles&&(et._prevTickAngles=et._tickAngles),et._tickAngles={},et._depth=null;var kr={};function pn(An){var Fn=Wt+(An||"tick");return kr[Fn]||(kr[Fn]=Xt(et,Fn,nn)),kr[Fn]}if(et.visible){var tn=$.makeTransTickFn(et),Tn=$.makeTransTickLabelFn(et),Ln,Hn,pa=et.ticks==="inside",xa=et.ticks==="outside";if(et.tickson==="boundaries"){var ia=rt(et,Pr);Hn=$.clipEnds(et,ia),Ln=pa?Hn:ia}else Hn=$.clipEnds(et,Pr),Ln=pa&&et.ticklabelmode!=="period"?Hn:Pr;var ra=et._gridVals=Hn,Rn=Vt(et,Pr);if(!Qt._hasOnlyLargeSploms){var Cr=et._subplotsWith,an={};for(Pt=0;Pt<Cr.length;Pt++){Zt=Cr[Pt],nr=Qt._plots[Zt];var on=nr[Ir+"axis"],ln=on._mainAxis._id;if(!an[ln]){an[ln]=1;var On=yr==="x"?"M0,"+on._offset+"v"+on._length:"M"+on._offset+",0h"+on._length;$.drawGrid(Ke,et,{vals:ra,counterAxis:on,layer:nr.gridlayer.select("."+Wt),minorLayer:nr.minorGridlayer.select("."+Wt),path:On,transFn:tn}),$.drawZeroLine(Ke,et,{counterAxis:on,layer:nr.zerolinelayer,path:On,transFn:tn})}}}var gn,Cn=$.getTickSigns(et),Bn=$.getTickSigns(et,"minor");if(et.ticks||et.minor&&et.minor.ticks){var Qn=$.makeTickPath(et,nn,Cn[2]),ha=$.makeTickPath(et,nn,Bn[2],{minor:!0}),Ra,Ar,Br,Mr;if(et._anchorAxis&&et.mirror&&et.mirror!==!0?(Ra=$.makeTickPath(et,gr,Cn[3]),Ar=$.makeTickPath(et,gr,Bn[3],{minor:!0}),Br=Qn+Ra,Mr=ha+Ar):(Ra="",Ar="",Br=Qn,Mr=ha),et.showdividers&&xa&&et.tickson==="boundaries"){var Nr={};for(Pt=0;Pt<Rn.length;Pt++)Nr[Rn[Pt].x]=1;gn=function(An){return Nr[An.x]?Ra:Br}}else gn=function(An){return An.minor?Mr:Br}}if($.drawTicks(Ke,et,{vals:Ln,layer:Or,path:gn,transFn:tn}),et.mirror==="allticks"){var un=Object.keys(et._linepositions||{});for(Pt=0;Pt<un.length;Pt++){Zt=un[Pt],nr=Qt._plots[Zt];var Dn=et._linepositions[Zt]||[],mn=Dn[0],cn=Dn[1],Er=Dn[2],Yr=$.makeTickPath(et,mn,Er?Cn[0]:Bn[0],{minor:Er})+$.makeTickPath(et,cn,Er?Cn[1]:Bn[1],{minor:Er});$.drawTicks(Ke,et,{vals:Ln,layer:nr[yr+"axislayer"],path:Yr,transFn:tn})}}var Gr=[];if(Gr.push(function(){return $.drawLabels(Ke,et,{vals:Pr,layer:Or,plotinfo:nr,transFn:Tn,labelFns:$.makeLabelFns(et,nn)})}),et.type==="multicategory"){var $r={x:2,y:10}[yr];Gr.push(function(){var An={x:"height",y:"width"}[yr],Fn=pn()[An]+$r+(et._tickAngles[Wt+"tick"]?et.tickfont.size*le:0);return $.drawLabels(Ke,et,{vals:st(et,Pr),layer:Or,cls:Wt+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:tn,labelFns:$.makeLabelFns(et,nn+Fn*Cn[4])})}),Gr.push(function(){return et._depth=Cn[4]*(pn("tick2")[et.side]-nn),vr(Ke,et,{vals:Rn,layer:Or,path:$.makeTickPath(et,nn,Cn[4],{len:et._depth}),transFn:tn})})}else et.title.hasOwnProperty("standoff")&&Gr.push(function(){et._depth=Cn[4]*(pn()[et.side]-nn)});var wn=L.getComponentMethod("rangeslider","isVisible")(et);return!er.skipTitle&&!(wn&&et.side==="bottom")&&Gr.push(function(){return jt(Ke,et)}),Gr.push(function(){var An=et.side.charAt(0),Fn=ie[et.side].charAt(0),Nn=$.getPxPosition(Ke,et),_n=xa?et.ticklen:0,Wn,jn,oa,Ca;(et.automargin||wn||et._shiftPusher)&&(et.type==="multicategory"?Wn=pn("tick2"):(Wn=pn(),yr==="x"&&An==="b"&&(et._depth=Math.max(Wn.width>0?Wn.bottom-Nn:0,_n))));var di=0,qa=0;if(et._shiftPusher&&(di=Math.max(_n,Wn.height>0?An==="l"?Nn-Wn.left:Wn.right-Nn:0),et.title.text!==Qt._dfltTitle[yr]&&(qa=(et._titleStandoff||0)+(et._titleScoot||0),An==="l"&&(qa+=pt(et))),et._fullDepth=Math.max(di,qa)),et.automargin){jn={x:0,y:0,r:0,l:0,t:0,b:0};var ho=[0,1],Eo=typeof et._shift=="number"?et._shift:0;if(yr==="x"){if(An==="b"?jn[An]=et._depth:(jn[An]=et._depth=Math.max(Wn.width>0?Nn-Wn.top:0,_n),ho.reverse()),Wn.width>0){var qi=Wn.right-(et._offset+et._length);qi>0&&(jn.xr=1,jn.r=qi);var As=et._offset-Wn.left;As>0&&(jn.xl=0,jn.l=As)}}else if(An==="l"?(et._depth=Math.max(Wn.height>0?Nn-Wn.left:0,_n),jn[An]=et._depth-Eo):(et._depth=Math.max(Wn.height>0?Wn.right-Nn:0,_n),jn[An]=et._depth+Eo,ho.reverse()),Wn.height>0){var Sl=Wn.bottom-(et._offset+et._length);Sl>0&&(jn.yb=0,jn.b=Sl);var tu=et._offset-Wn.top;tu>0&&(jn.yt=1,jn.t=tu)}jn[Ir]=et.anchor==="free"?et.position:et._anchorAxis.domain[ho[0]],et.title.text!==Qt._dfltTitle[yr]&&(jn[An]+=pt(et)+(et.title.standoff||0)),et.mirror&&et.anchor!=="free"&&(oa={x:0,y:0,r:0,l:0,t:0,b:0},oa[Fn]=et.linewidth,et.mirror&&et.mirror!==!0&&(oa[Fn]+=_n),et.mirror===!0||et.mirror==="ticks"?oa[Ir]=et._anchorAxis.domain[ho[1]]:(et.mirror==="all"||et.mirror==="allticks")&&(oa[Ir]=[et._counterDomainMin,et._counterDomainMax][ho[1]]))}wn&&(Ca=L.getComponentMethod("rangeslider","autoMarginOpts")(Ke,et)),typeof et.automargin=="string"&&(We(jn,et.automargin),We(oa,et.automargin)),s.autoMargin(Ke,lt(et),jn),s.autoMargin(Ke,bt(et),oa),s.autoMargin(Ke,Et(et),Ca)}),M.syncOrAsync(Gr)}};function We(Ke,et){if(Ke){var er=Object.keys(W).reduce(function(tr,Yt){return et.indexOf(Yt)!==-1&&W[Yt].forEach(function(Pt){tr[Pt]=1}),tr},{});Object.keys(Ke).forEach(function(tr){er[tr]||(tr.length===1?Ke[tr]=0:delete Ke[tr])})}}function rt(Ke,et){var er=[],tr,Yt=function(Pt,Zt){var nr=Pt.xbnd[Zt];nr!==null&&er.push(M.extendFlat({},Pt,{x:nr}))};if(et.length){for(tr=0;tr<et.length;tr++)Yt(et[tr],0);Yt(et[tr-1],1)}return er}function st(Ke,et){for(var er=[],tr={},Yt=0;Yt<et.length;Yt++){var Pt=et[Yt];tr[Pt.text2]?tr[Pt.text2].push(Pt.x):tr[Pt.text2]=[Pt.x]}for(var Zt in tr)er.push(tt(Ke,M.interp(tr[Zt],.5),Zt));return er}function Vt(Ke,et){var er=[],tr,Yt,Pt=et.length&&et[et.length-1].x<et[0].x,Zt=function(Qt,Wt){var yr=Qt.xbnd[Wt];yr!==null&&er.push(M.extendFlat({},Qt,{x:yr}))};if(Ke.showdividers&&et.length){for(tr=0;tr<et.length;tr++){var nr=et[tr];nr.text2!==Yt&&Zt(nr,Pt?1:0),Yt=nr.text2}Zt(et[tr-1],Pt?0:1)}return er}function Xt(Ke,et,er){var tr,Yt,Pt,Zt;if(Ke._selections[et].size())tr=1/0,Yt=-1/0,Pt=1/0,Zt=-1/0,Ke._selections[et].each(function(){var Qt=gt(this),Wt=o.bBox(Qt.node().parentNode);tr=Math.min(tr,Wt.top),Yt=Math.max(Yt,Wt.bottom),Pt=Math.min(Pt,Wt.left),Zt=Math.max(Zt,Wt.right)});else{var nr=$.makeLabelFns(Ke,er);tr=Yt=nr.yFn({dx:0,dy:0,fontSize:0}),Pt=Zt=nr.xFn({dx:0,dy:0,fontSize:0})}return{top:tr,bottom:Yt,left:Pt,right:Zt,height:Yt-tr,width:Zt-Pt}}$.getTickSigns=function(Ke,et){var er=Ke._id.charAt(0),tr={x:"top",y:"right"}[er],Yt=Ke.side===tr?1:-1,Pt=[-1,1,Yt,-Yt],Zt=et?(Ke.minor||{}).ticks:Ke.ticks;return Zt!=="inside"==(er==="x")&&(Pt=Pt.map(function(nr){return-nr})),Ke.side&&Pt.push({l:-1,t:-1,r:1,b:1}[Ke.side.charAt(0)]),Pt},$.makeTransTickFn=function(Ke){return Ke._id.charAt(0)==="x"?function(et){return v(Ke._offset+Ke.l2p(et.x),0)}:function(et){return v(0,Ke._offset+Ke.l2p(et.x))}},$.makeTransTickLabelFn=function(Ke){var et=Lt(Ke),er=Ke.ticklabelshift||0,tr=Ke.ticklabelstandoff||0,Yt=et[0],Pt=et[1],Zt=Ke.range[0]>Ke.range[1],nr=Ke.ticklabelposition&&Ke.ticklabelposition.indexOf("inside")!==-1,Qt=!nr;if(er){var Wt=Zt?-1:1;er=er*Wt}if(tr){var yr=Ke.side,Ir=nr&&(yr==="top"||yr==="left")||Qt&&(yr==="bottom"||yr==="right")?1:-1;tr=tr*Ir}return Ke._id.charAt(0)==="x"?function(Tr){return v(Yt+Ke._offset+Ke.l2p(Tt(Tr))+er,Pt+tr)}:function(Tr){return v(Pt+tr,Yt+Ke._offset+Ke.l2p(Tt(Tr))+er)}};function Tt(Ke){return Ke.periodX!==void 0?Ke.periodX:Ke.x}function Lt(Ke){var et=Ke.ticklabelposition||"",er=function(vn){return et.indexOf(vn)!==-1},tr=er("top"),Yt=er("left"),Pt=er("right"),Zt=er("bottom"),nr=er("inside"),Qt=Zt||Yt||tr||Pt;if(!Qt&&!nr)return[0,0];var Wt=Ke.side,yr=Qt?(Ke.tickwidth||0)/2:0,Ir=K,Tr=Ke.tickfont?Ke.tickfont.size:12;return(Zt||tr)&&(yr+=Tr*re,Ir+=(Ke.linewidth||0)/2),(Yt||Pt)&&(yr+=(Ke.linewidth||0)/2,Ir+=K),nr&&Wt==="top"&&(Ir-=Tr*(1-re)),(Yt||tr)&&(yr=-yr),(Wt==="bottom"||Wt==="right")&&(Ir=-Ir),[Qt?yr:0,nr?Ir:0]}$.makeTickPath=function(Ke,et,er,tr){tr||(tr={});var Yt=tr.minor;if(Yt&&!Ke.minor)return"";var Pt=tr.len!==void 0?tr.len:Yt?Ke.minor.ticklen:Ke.ticklen,Zt=Ke._id.charAt(0),nr=(Ke.linewidth||1)/2;return Zt==="x"?"M0,"+(et+nr*er)+"v"+Pt*er:"M"+(et+nr*er)+",0h"+Pt*er},$.makeLabelFns=function(Ke,et,er){var tr=Ke.ticklabelposition||"",Yt=function(ia){return tr.indexOf(ia)!==-1},Pt=Yt("top"),Zt=Yt("left"),nr=Yt("right"),Qt=Yt("bottom"),Wt=Qt||Zt||Pt||nr,yr=Yt("inside"),Ir=tr==="inside"&&Ke.ticks==="inside"||!yr&&Ke.ticks==="outside"&&Ke.tickson!=="boundaries",Tr=0,vn=0,Or=Ir?Ke.ticklen:0;if(yr?Or*=-1:Wt&&(Or=0),Ir&&(Tr+=Or,er)){var En=M.deg2rad(er);Tr=Or*Math.cos(En)+1,vn=Or*Math.sin(En)}Ke.showticklabels&&(Ir||Ke.showline)&&(Tr+=.2*Ke.tickfont.size),Tr+=(Ke.linewidth||1)/2*(yr?-1:1);var nn={labelStandoff:Tr,labelShift:vn},gr,Pr,Xr,kr,pn=0,tn=Ke.side,Tn=Ke._id.charAt(0),Ln=Ke.tickangle,Hn;if(Tn==="x")Hn=!yr&&tn==="bottom"||yr&&tn==="top",kr=Hn?1:-1,yr&&(kr*=-1),gr=vn*kr,Pr=et+Tr*kr,Xr=Hn?1:-.2,Math.abs(Ln)===90&&(yr?Xr+=q:Ln===-90&&tn==="bottom"?Xr=re:Ln===90&&tn==="top"?Xr=q:Xr=.5,pn=q/2*(Ln/90)),nn.xFn=function(ia){return ia.dx+gr+pn*ia.fontSize},nn.yFn=function(ia){return ia.dy+Pr+ia.fontSize*Xr},nn.anchorFn=function(ia,ra){if(Wt){if(Zt)return"end";if(nr)return"start"}return!P(ra)||ra===0||ra===180?"middle":ra*kr<0!==yr?"end":"start"},nn.heightFn=function(ia,ra,Rn){return ra<-60||ra>60?-.5*Rn:Ke.side==="top"!==yr?-Rn:0};else if(Tn==="y"){if(Hn=!yr&&tn==="left"||yr&&tn==="right",kr=Hn?1:-1,yr&&(kr*=-1),gr=Tr,Pr=vn*kr,Xr=0,!yr&&Math.abs(Ln)===90&&(Ln===-90&&tn==="left"||Ln===90&&tn==="right"?Xr=re:Xr=.5),yr){var pa=P(Ln)?+Ln:0;if(pa!==0){var xa=M.deg2rad(pa);pn=Math.abs(Math.sin(xa))*re*kr,Xr=0}}nn.xFn=function(ia){return ia.dx+et-(gr+ia.fontSize*Xr)*kr+pn*ia.fontSize},nn.yFn=function(ia){return ia.dy+Pr+ia.fontSize*q},nn.anchorFn=function(ia,ra){return P(ra)&&Math.abs(ra)===90?"middle":Hn?"end":"start"},nn.heightFn=function(ia,ra,Rn){return Ke.side==="right"&&(ra*=-1),ra<-30?-Rn:ra<30?-.5*Rn:0}}return nn};function Kt(Ke){return[Ke.text,Ke.x,Ke.axInfo,Ke.font,Ke.fontSize,Ke.fontColor].join("_")}$.drawTicks=function(Ke,et,er){er=er||{};var tr=et._id+"tick",Yt=[].concat(et.minor&&et.minor.ticks?er.vals.filter(function(Zt){return Zt.minor&&!Zt.noTick}):[]).concat(et.ticks?er.vals.filter(function(Zt){return!Zt.minor&&!Zt.noTick}):[]),Pt=er.layer.selectAll("path."+tr).data(Yt,Kt);Pt.exit().remove(),Pt.enter().append("path").classed(tr,1).classed("ticks",1).classed("crisp",er.crisp!==!1).each(function(Zt){return t.stroke(b.select(this),Zt.minor?et.minor.tickcolor:et.tickcolor)}).style("stroke-width",function(Zt){return o.crispRound(Ke,Zt.minor?et.minor.tickwidth:et.tickwidth,1)+"px"}).attr("d",er.path).style("display",null),dr(et,[z]),Pt.attr("transform",er.transFn)},$.drawGrid=function(Ke,et,er){if(er=er||{},et.tickmode!=="sync"){var tr=et._id+"grid",Yt=et.minor&&et.minor.showgrid,Pt=Yt?er.vals.filter(function(gr){return gr.minor}):[],Zt=et.showgrid?er.vals.filter(function(gr){return!gr.minor}):[],nr=er.counterAxis;if(nr&&$.shouldShowZeroLine(Ke,et,nr))for(var Qt=et.tickmode==="array",Wt=0;Wt<Zt.length;Wt++){var yr=Zt[Wt].x;if(Qt?!yr:Math.abs(yr)<et.dtick/100)if(Zt=Zt.slice(0,Wt).concat(Zt.slice(Wt+1)),Qt)Wt--;else break}et._gw=o.crispRound(Ke,et.gridwidth,1);for(var Ir=Yt?o.crispRound(Ke,et.minor.gridwidth,1):0,Tr=er.layer,vn=er.minorLayer,Or=1;Or>=0;Or--){var En=Or?Tr:vn;if(En){var nn=En.selectAll("path."+tr).data(Or?Zt:Pt,Kt);nn.exit().remove(),nn.enter().append("path").classed(tr,1).classed("crisp",er.crisp!==!1),nn.attr("transform",er.transFn).attr("d",er.path).each(function(gr){return t.stroke(b.select(this),gr.minor?et.minor.gridcolor:et.gridcolor||"#ddd")}).style("stroke-dasharray",function(gr){return o.dashStyle(gr.minor?et.minor.griddash:et.griddash,gr.minor?et.minor.gridwidth:et.gridwidth)}).style("stroke-width",function(gr){return(gr.minor?Ir:et._gw)+"px"}).style("display",null),typeof er.path=="function"&&nn.attr("d",er.path)}}dr(et,[B,F])}},$.drawZeroLine=function(Ke,et,er){er=er||er;var tr=et._id+"zl",Yt=$.shouldShowZeroLine(Ke,et,er.counterAxis),Pt=er.layer.selectAll("path."+tr).data(Yt?[{x:0,id:et._id}]:[]);Pt.exit().remove(),Pt.enter().append("path").classed(tr,1).classed("zl",1).classed("crisp",er.crisp!==!1).each(function(){er.layer.selectAll("path").sort(function(Zt,nr){return se(Zt.id,nr.id)})}),Pt.attr("transform",er.transFn).attr("d",er.path).call(t.stroke,et.zerolinecolor||t.defaultLine).style("stroke-width",o.crispRound(Ke,et.zerolinewidth,et._gw||1)+"px").style("display",null),dr(et,[_])},$.drawLabels=function(Ke,et,er){er=er||{};var tr=Ke._fullLayout,Yt=et._id,Pt=er.cls||Yt+"tick",Zt=er.vals.filter(function(ln){return ln.text}),nr=er.labelFns,Qt=er.secondary?0:et.tickangle,Wt=(et._prevTickAngles||{})[Pt],yr=er.layer.selectAll("g."+Pt).data(et.showticklabels?Zt:[],Kt),Ir=[];yr.enter().append("g").classed(Pt,1).append("text").attr("text-anchor","middle").each(function(ln){var On=b.select(this),gn=Ke._promises.length;On.call(p.positionText,nr.xFn(ln),nr.yFn(ln)).call(o.font,{family:ln.font,size:ln.fontSize,color:ln.fontColor,weight:ln.fontWeight,style:ln.fontStyle,variant:ln.fontVariant,textcase:ln.fontTextcase,lineposition:ln.fontLineposition,shadow:ln.fontShadow}).text(ln.text).call(p.convertToTspans,Ke),Ke._promises[gn]?Ir.push(Ke._promises.pop().then(function(){Tr(On,Qt)})):Tr(On,Qt)}),dr(et,[N]),yr.exit().remove(),er.repositionOnUpdate&&yr.each(function(ln){b.select(this).select("text").call(p.positionText,nr.xFn(ln),nr.yFn(ln))});function Tr(ln,On){ln.each(function(gn){var Cn=b.select(this),Bn=Cn.select(".text-math-group"),Qn=nr.anchorFn(gn,On),ha=er.transFn.call(Cn.node(),gn)+(P(On)&&+On!=0?" rotate("+On+","+nr.xFn(gn)+","+(nr.yFn(gn)-gn.fontSize/2)+")":""),Ra=p.lineCount(Cn),Ar=le*gn.fontSize,Br=nr.heightFn(gn,P(On)?+On:0,(Ra-1)*Ar);if(Br&&(ha+=v(0,Br)),Bn.empty()){var Mr=Cn.select("text");Mr.attr({transform:ha,"text-anchor":Qn}),Mr.style("opacity",1),et._adjustTickLabelsOverflow&&et._adjustTickLabelsOverflow()}else{var Nr=o.bBox(Bn.node()).width,un=Nr*{end:-.5,start:.5}[Qn];Bn.attr("transform",ha+v(un,0))}})}et._adjustTickLabelsOverflow=function(){var ln=et.ticklabeloverflow;if(!(!ln||ln==="allow")){var On=ln.indexOf("hide")!==-1,gn=et._id.charAt(0)==="x",Cn=0,Bn=gn?Ke._fullLayout.width:Ke._fullLayout.height;if(ln.indexOf("domain")!==-1){var Qn=M.simpleMap(et.range,et.r2l);Cn=et.l2p(Qn[0])+et._offset,Bn=et.l2p(Qn[1])+et._offset}var ha=Math.min(Cn,Bn),Ra=Math.max(Cn,Bn),Ar=et.side,Br=1/0,Mr=-1/0;yr.each(function(mn){var cn=b.select(this),Er=cn.select(".text-math-group");if(Er.empty()){var Yr=o.bBox(cn.node()),Gr=0;gn?(Yr.right>Ra||Yr.left<ha)&&(Gr=1):(Yr.bottom>Ra||Yr.top+(et.tickangle?0:mn.fontSize/4)<ha)&&(Gr=1);var $r=cn.select("text");Gr?On&&$r.style("opacity",0):($r.style("opacity",1),Ar==="bottom"||Ar==="right"?Br=Math.min(Br,gn?Yr.top:Yr.left):Br=-1/0,Ar==="top"||Ar==="left"?Mr=Math.max(Mr,gn?Yr.bottom:Yr.right):Mr=1/0)}});for(var Nr in tr._plots){var un=tr._plots[Nr];if(!(et._id!==un.xaxis._id&&et._id!==un.yaxis._id)){var Dn=gn?un.yaxis:un.xaxis;Dn&&(Dn["_visibleLabelMin_"+et._id]=Br,Dn["_visibleLabelMax_"+et._id]=Mr)}}}},et._hideCounterAxisInsideTickLabels=function(ln){var On=et._id.charAt(0)==="x",gn=[];for(var Cn in tr._plots){var Bn=tr._plots[Cn];et._id!==Bn.xaxis._id&&et._id!==Bn.yaxis._id||gn.push(On?Bn.yaxis:Bn.xaxis)}gn.forEach(function(Qn,ha){Qn&&cr(Qn)&&(ln||[_,F,B,z,N]).forEach(function(Ra){var Ar=Ra.K==="tick"&&Ra.L==="text"&&et.ticklabelmode==="period",Br=tr._plots[et._mainSubplot],Mr;Ra.K===_.K?Mr=Br.zerolinelayer.selectAll("."+et._id+"zl"):Ra.K===F.K?Mr=Br.minorGridlayer.selectAll("."+et._id):Ra.K===B.K?Mr=Br.gridlayer.selectAll("."+et._id):Mr=Br[et._id.charAt(0)+"axislayer"],Mr.each(function(){var Nr=b.select(this);Ra.L&&(Nr=Nr.selectAll(Ra.L)),Nr.each(function(un){var Dn=et.l2p(Ar?Tt(un):un.x)+et._offset,mn=b.select(this);Dn<et["_visibleLabelMax_"+Qn._id]&&Dn>et["_visibleLabelMin_"+Qn._id]?mn.style("display","none"):Ra.K==="tick"&&!ha&&mn.style("display",null)})})})})},Tr(yr,Wt+1?Wt:Qt);function vn(){return Ir.length&&Promise.all(Ir)}var Or=null;function En(){if(Tr(yr,Qt),Zt.length&&et.autotickangles&&(et.type!=="log"||String(et.dtick).charAt(0)!=="D")){Or=et.autotickangles[0];var ln=0,On=[],gn,Cn=1;yr.each(function(Wn){ln=Math.max(ln,Wn.fontSize);var jn=et.l2p(Wn.x),oa=gt(this),Ca=o.bBox(oa.node());Cn=Math.max(Cn,p.lineCount(oa)),On.push({top:0,bottom:10,height:10,left:jn-Ca.width/2,right:jn+Ca.width/2+2,width:Ca.width+2})});var Bn=(et.tickson==="boundaries"||et.showdividers)&&!er.secondary,Qn=Zt.length,ha=Math.abs((Zt[Qn-1].x-Zt[0].x)*et._m)/(Qn-1),Ra=Bn?ha/2:ha,Ar=Bn?et.ticklen:ln*1.25*Cn,Br=Math.sqrt(Math.pow(Ra,2)+Math.pow(Ar,2)),Mr=Ra/Br,Nr=et.autotickangles.map(function(Wn){return Wn*Math.PI/180}),un=Nr.find(function(Wn){return Math.abs(Math.cos(Wn))<=Mr});un===void 0&&(un=Nr.reduce(function(Wn,jn){return Math.abs(Math.cos(Wn))<Math.abs(Math.cos(jn))?Wn:jn},Nr[0]));var Dn=un*(180/Math.PI);if(Bn){var mn=2;for(et.ticks&&(mn+=et.tickwidth/2),gn=0;gn<On.length;gn++){var cn=Zt[gn].xbnd,Er=On[gn];if(cn[0]!==null&&Er.left-et.l2p(cn[0])<mn||cn[1]!==null&&et.l2p(cn[1])-Er.right<mn){Or=Dn;break}}}else{var Yr=et.ticklabelposition||"",Gr=function(Wn){return Yr.indexOf(Wn)!==-1},$r=Gr("top"),wn=Gr("left"),An=Gr("right"),Fn=Gr("bottom"),Nn=Fn||wn||$r||An,_n=Nn?(et.tickwidth||0)+2*K:0;for(gn=0;gn<On.length-1;gn++)if(M.bBoxIntersect(On[gn],On[gn+1],_n)){Or=Dn;break}}Or&&Tr(yr,Or)}}et._selections&&(et._selections[Pt]=yr);var nn=[vn];et.automargin&&tr._redrawFromAutoMarginCount&&Wt===90?(Or=Wt,nn.push(function(){Tr(yr,Wt)})):nn.push(En),et._tickAngles&&nn.push(function(){et._tickAngles[Pt]=Or===null?P(Qt)?Qt:0:Or});var gr=function(){var ln=0,On=0;return yr.each(function(gn,Cn){var Bn=gt(this),Qn=Bn.select(".text-math-group");if(Qn.empty()){var ha;et._vals[Cn]&&(ha=et._vals[Cn].bb||o.bBox(Bn.node()),et._vals[Cn].bb=ha),ln=Math.max(ln,ha.width),On=Math.max(On,ha.height)}}),{labelsMaxW:ln,labelsMaxH:On}},Pr=et._anchorAxis;if(Pr&&(Pr.autorange||Pr.insiderange)&&cr(et)&&!J(tr,et._id)&&(tr._insideTickLabelsUpdaterange||(tr._insideTickLabelsUpdaterange={}),Pr.autorange&&(tr._insideTickLabelsUpdaterange[Pr._name+".autorange"]=Pr.autorange,nn.push(gr)),Pr.insiderange)){var Xr=gr(),kr=et._id.charAt(0)==="y"?Xr.labelsMaxW:Xr.labelsMaxH;kr+=2*K,et.ticklabelposition==="inside"&&(kr+=et.ticklen||0);var pn=et.side==="right"||et.side==="top"?1:-1,tn=pn===1?1:0,Tn=pn===1?0:1,Ln=[];Ln[Tn]=Pr.range[Tn];var Hn=Pr.range,pa=Pr.r2p(Hn[tn]),xa=Pr.r2p(Hn[Tn]),ia=tr._insideTickLabelsUpdaterange[Pr._name+".range"];if(ia){var ra=Pr.r2p(ia[tn]),Rn=Pr.r2p(ia[Tn]),Cr=pn*(et._id.charAt(0)==="y"?1:-1);Cr*pa<Cr*ra&&(pa=ra,Ln[tn]=Hn[tn]=ia[tn]),Cr*xa>Cr*Rn&&(xa=Rn,Ln[Tn]=Hn[Tn]=ia[Tn])}var an=Math.abs(xa-pa);an-kr>0?(an-=kr,kr*=1+kr/an):kr=0,et._id.charAt(0)!=="y"&&(kr=-kr),Ln[tn]=Pr.p2r(Pr.r2p(Hn[tn])+pn*kr),Pr.autorange==="min"||Pr.autorange==="max reversed"?(Ln[0]=null,Pr._rangeInitial0=void 0,Pr._rangeInitial1=void 0):(Pr.autorange==="max"||Pr.autorange==="min reversed")&&(Ln[1]=null,Pr._rangeInitial0=void 0,Pr._rangeInitial1=void 0),tr._insideTickLabelsUpdaterange[Pr._name+".range"]=Ln}var on=M.syncOrAsync(nn);return on&&on.then&&Ke._promises.push(on),on};function vr(Ke,et,er){var tr=et._id+"divider",Yt=er.vals,Pt=er.layer.selectAll("path."+tr).data(Yt,Kt);Pt.exit().remove(),Pt.enter().insert("path",":first-child").classed(tr,1).classed("crisp",1).call(t.stroke,et.dividercolor).style("stroke-width",o.crispRound(Ke,et.dividerwidth,1)+"px"),Pt.attr("transform",er.transFn).attr("d",er.path)}$.getPxPosition=function(Ke,et){var er=Ke._fullLayout._size,tr=et._id.charAt(0),Yt=et.side,Pt;if(et.anchor!=="free"?Pt=et._anchorAxis:tr==="x"?Pt={_offset:er.t+(1-(et.position||0))*er.h,_length:0}:tr==="y"&&(Pt={_offset:er.l+(et.position||0)*er.w+et._shift,_length:0}),Yt==="top"||Yt==="left")return Pt._offset;if(Yt==="bottom"||Yt==="right")return Pt._offset+Pt._length};function pt(Ke){var et=Ke.title.font.size,er=(Ke.title.text.match(p.BR_TAG_ALL)||[]).length;return Ke.title.hasOwnProperty("standoff")?et*(re+er*le):er?et*(er+1)*le:et}function jt(Ke,et){var er=Ke._fullLayout,tr=et._id,Yt=tr.charAt(0),Pt=et.title.font.size,Zt,nr=(et.title.text.match(p.BR_TAG_ALL)||[]).length;if(et.title.hasOwnProperty("standoff"))et.side==="bottom"||et.side==="right"?Zt=et._depth+et.title.standoff+Pt*re:(et.side==="top"||et.side==="left")&&(Zt=et._depth+et.title.standoff+Pt*(q+nr*le));else{var Qt=cr(et);if(et.type==="multicategory")Zt=et._depth;else{var Wt=1.5*Pt;Qt&&(Wt=.5*Pt,et.ticks==="outside"&&(Wt+=et.ticklen)),Zt=10+Wt+(et.linewidth?et.linewidth-1:0)}Qt||(Yt==="x"?Zt+=et.side==="top"?Pt*(et.showticklabels?1:0):Pt*(et.showticklabels?1.5:.5):Zt+=et.side==="right"?Pt*(et.showticklabels?1:.5):Pt*(et.showticklabels?.5:0))}var yr=$.getPxPosition(Ke,et),Ir,Tr,vn;Yt==="x"?(Tr=et._offset+et._length/2,vn=et.side==="top"?yr-Zt:yr+Zt):(vn=et._offset+et._length/2,Tr=et.side==="right"?yr+Zt:yr-Zt,Ir={rotate:"-90",offset:0});var Or;if(et.type!=="multicategory"){var En=et._selections[et._id+"tick"];if(Or={selection:En,side:et.side},En&&En.node()&&En.node().parentNode){var nn=o.getTranslate(En.node().parentNode);Or.offsetLeft=nn.x,Or.offsetTop=nn.y}et.title.hasOwnProperty("standoff")&&(Or.pad=0)}return et._titleStandoff=Zt,r.draw(Ke,tr+"title",{propContainer:et,propName:et._name+".title.text",placeholder:er._dfltTitle[Yt],avoid:Or,transform:Ir,attributes:{x:Tr,y:vn,"text-anchor":"middle"}})}$.shouldShowZeroLine=function(Ke,et,er){var tr=M.simpleMap(et.range,et.r2l);return tr[0]*tr[1]<=0&&et.zeroline&&(et.type==="linear"||et.type==="-")&&!(et.rangebreaks&&et.maskBreaks(0)===O)&&($t(et,0)||!mr(Ke,et,er,tr)||or(Ke,et))},$.clipEnds=function(Ke,et){return et.filter(function(er){return $t(Ke,er.x)})};function $t(Ke,et){var er=Ke.l2p(et);return er>1&&er<Ke._length-1}function mr(Ke,et,er,tr){var Yt=er._mainAxis;if(!Yt)return;var Pt=Ke._fullLayout,Zt=et._id.charAt(0),nr=$.counterLetter(et._id),Qt=et._offset+(Math.abs(tr[0])<Math.abs(tr[1])==(Zt==="x")?0:et._length);function Wt(Or){if(!Or.showline||!Or.linewidth)return!1;var En=Math.max((Or.linewidth+et.zerolinewidth)/2,1);function nn(Xr){return typeof Xr=="number"&&Math.abs(Xr-Qt)<En}if(nn(Or._mainLinePosition)||nn(Or._mainMirrorPosition))return!0;var gr=Or._linepositions||{};for(var Pr in gr)if(nn(gr[Pr][0])||nn(gr[Pr][1]))return!0}var yr=Pt._plots[er._mainSubplot];if(!(yr.mainplotinfo||yr).overlays.length)return Wt(er);for(var Ir=$.list(Ke,nr),Tr=0;Tr<Ir.length;Tr++){var vn=Ir[Tr];if(vn._mainAxis===Yt&&Wt(vn))return!0}}function or(Ke,et){for(var er=Ke._fullData,tr=et._mainSubplot,Yt=et._id.charAt(0),Pt=0;Pt<er.length;Pt++){var Zt=er[Pt];if(Zt.visible===!0&&Zt.xaxis+Zt.yaxis===tr&&(L.traceIs(Zt,"bar-like")&&Zt.orientation==={x:"h",y:"v"}[Yt]||Zt.fill&&Zt.fill.charAt(Zt.fill.length-1)===Yt))return!0}return!1}function gt(Ke){var et=b.select(Ke),er=et.select(".text-math-group");return er.empty()?et.select("text"):er}$.allowAutoMargin=function(Ke){for(var et=$.list(Ke,"",!0),er=0;er<et.length;er++){var tr=et[er];tr.automargin&&(s.allowAutoMargin(Ke,lt(tr)),tr.mirror&&s.allowAutoMargin(Ke,bt(tr))),L.getComponentMethod("rangeslider","isVisible")(tr)&&s.allowAutoMargin(Ke,Et(tr))}};function lt(Ke){return Ke._id+".automargin"}function bt(Ke){return lt(Ke)+".mirror"}function Et(Ke){return Ke._id+".rangeslider"}$.swap=function(Ke,et){for(var er=kt(Ke,et),tr=0;tr<er.length;tr++)Ft(Ke,er[tr].x,er[tr].y)};function kt(Ke,et){var er=[],tr,Yt;for(tr=0;tr<et.length;tr++){var Pt=[],Zt=Ke._fullData[et[tr]].xaxis,nr=Ke._fullData[et[tr]].yaxis;if(!(!Zt||!nr)){for(Yt=0;Yt<er.length;Yt++)(er[Yt].x.indexOf(Zt)!==-1||er[Yt].y.indexOf(nr)!==-1)&&Pt.push(Yt);if(!Pt.length){er.push({x:[Zt],y:[nr]});continue}var Qt=er[Pt[0]],Wt;if(Pt.length>1)for(Yt=1;Yt<Pt.length;Yt++)Wt=er[Pt[Yt]],Ot(Qt.x,Wt.x),Ot(Qt.y,Wt.y);Ot(Qt.x,[Zt]),Ot(Qt.y,[nr])}}return er}function Ot(Ke,et){for(var er=0;er<et.length;er++)Ke.indexOf(et[er])===-1&&Ke.push(et[er])}function Ft(Ke,et,er){var tr=[],Yt=[],Pt=Ke.layout,Zt,nr;for(Zt=0;Zt<et.length;Zt++)tr.push($.getFromId(Ke,et[Zt]));for(Zt=0;Zt<er.length;Zt++)Yt.push($.getFromId(Ke,er[Zt]));var Qt=Object.keys(n),Wt=["anchor","domain","overlaying","position","side","tickangle","editType"],yr=["linear","log"];for(Zt=0;Zt<Qt.length;Zt++){var Ir=Qt[Zt],Tr=tr[0][Ir],vn=Yt[0][Ir],Or=!0,En=!1,nn=!1;if(!(Ir.charAt(0)==="_"||typeof Tr=="function"||Wt.indexOf(Ir)!==-1)){for(nr=1;nr<tr.length&&Or;nr++){var gr=tr[nr][Ir];Ir==="type"&&yr.indexOf(Tr)!==-1&&yr.indexOf(gr)!==-1&&Tr!==gr?En=!0:gr!==Tr&&(Or=!1)}for(nr=1;nr<Yt.length&&Or;nr++){var Pr=Yt[nr][Ir];Ir==="type"&&yr.indexOf(vn)!==-1&&yr.indexOf(Pr)!==-1&&vn!==Pr?nn=!0:Yt[nr][Ir]!==vn&&(Or=!1)}Or&&(En&&(Pt[tr[0]._name].type="linear"),nn&&(Pt[Yt[0]._name].type="linear"),Bt(Pt,Ir,tr,Yt,Ke._fullLayout._dfltTitle))}}for(Zt=0;Zt<Ke._fullLayout.annotations.length;Zt++){var Xr=Ke._fullLayout.annotations[Zt];et.indexOf(Xr.xref)!==-1&&er.indexOf(Xr.yref)!==-1&&M.swapAttrs(Pt.annotations[Zt],["?"])}}function Bt(Ke,et,er,tr,Yt){var Pt=M.nestedProperty,Zt=Pt(Ke[er[0]._name],et).get(),nr=Pt(Ke[tr[0]._name],et).get(),Qt;for(et==="title"&&(Zt&&Zt.text===Yt.x&&(Zt.text=Yt.y),nr&&nr.text===Yt.y&&(nr.text=Yt.x)),Qt=0;Qt<er.length;Qt++)Pt(Ke,er[Qt]._name+"."+et).set(nr);for(Qt=0;Qt<tr.length;Qt++)Pt(Ke,tr[Qt]._name+"."+et).set(Zt)}function Jt(Ke){return Ke._id==="angularaxis"}function hr(Ke,et){for(var er=et._rangebreaks.length,tr=0;tr<er;tr++){var Yt=et._rangebreaks[tr];if(Ke>=Yt.min&&Ke<Yt.max)return Yt.max}return Ke}function cr(Ke){return(Ke.ticklabelposition||"").indexOf("inside")!==-1}function dr(Ke,et){cr(Ke._anchorAxis||{})&&Ke._hideCounterAxisInsideTickLabels&&Ke._hideCounterAxisInsideTickLabels(et)}function fr(Ke,et,er,tr){var Yt=Ke.anchor!=="free"&&(Ke.overlaying===void 0||Ke.overlaying===!1)?Ke._id:Ke.overlaying,Pt;tr?Pt=Ke.side==="right"?et:-et:Pt=et,Yt in er||(er[Yt]={}),Ke.side in er[Yt]||(er[Yt][Ke.side]=0),er[Yt][Ke.side]+=Pt}function Lr(Ke,et){return Ke.autoshift?et[Ke.overlaying][Ke.side]:Ke.shift||0}function xr(Ke,et){return/%f/.test(et)?Ke>=k:/%L/.test(et)?Ke>=m:/%[SX]/.test(et)?Ke>=E:/%M/.test(et)?Ke>=i:/%[HI]/.test(et)?Ke>=A:/%p/.test(et)?Ke>=S:/%[Aadejuwx]/.test(et)?Ke>=y:/%[UVW]/.test(et)?Ke>=C:/%[Bbm]/.test(et)?Ke>=T:/%[q]/.test(et)?Ke>=a:/%[Yy]/.test(et)?Ke>=h:!0}},52976:function(Y,V,e){var b=e(38248),P=e(3400),s=e(39032).BADNUM,L=P.isArrayOrTypedArray,M=P.isDateTime,v=P.cleanNumber,p=Math.round;Y.exports=function(g,h,w){var c=g,a=w.noMultiCategory;if(L(c)&&!c.length)return"-";if(!a&&u(c))return"multicategory";if(a&&Array.isArray(c[0])){for(var d=[],x=0;x<c.length;x++)if(L(c[x]))for(var T=0;T<c[x].length;T++)d.push(c[x][T]);c=d}if(o(c,h))return"date";var C=w.autotypenumbers!=="strict";return l(c,C)?"category":t(c,C)?"linear":"-"};function r(f,g){return g?b(f):typeof f=="number"}function t(f,g){for(var h=f.length,w=0;w<h;w++)if(r(f[w],g))return!0;return!1}function o(f,g){for(var h=f.length,w=n(h),c=0,a=0,d={},x=0;x<h;x+=w){var T=p(x),C=f[T],y=String(C);d[y]||(d[y]=1,M(C,g)&&c++,b(C)&&a++)}return c>a*2}function n(f){return Math.max(1,(f-1)/1e3)}function l(f,g){for(var h=f.length,w=n(h),c=0,a=0,d={},x=0;x<h;x+=w){var T=p(x),C=f[T],y=String(C);if(!d[y]){d[y]=1;var S=typeof C;S==="boolean"?a++:(g?v(C)!==s:S==="number")?c++:S==="string"&&a++}}return a>c*2}function u(f){return L(f[0])&&L(f[1])}},28336:function(Y,V,e){var b=e(38248),P=e(24040),s=e(3400),L=e(31780),M=e(51272),v=e(94724),p=e(26332),r=e(25404),t=e(95936),o=e(42568),n=e(22416),l=e(42136),u=e(96312),f=e(78344),g=e(33816).WEEKDAY_PATTERN,h=e(33816).HOUR_PATTERN;Y.exports=function(x,T,C,y,S){var A=y.letter,i=y.font||{},E=y.splomStash||{},m=C("visible",!y.visibleDflt),k=T._template||{},I=T.type||k.type||"-",O;if(I==="date"){var _=P.getComponentMethod("calendars","handleDefaults");_(x,T,"calendar",y.calendar),y.noTicklabelmode||(O=C("ticklabelmode"))}!y.noTicklabelindex&&(I==="date"||I==="linear")&&C("ticklabelindex");var B="";(!y.noTicklabelposition||I==="multicategory")&&(B=s.coerce(x,T,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:O==="period"?["outside","inside"]:A==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),y.noTicklabeloverflow||C("ticklabeloverflow",B.indexOf("inside")!==-1?"hide past domain":I==="category"||I==="multicategory"?"allow":"hide past div"),f(T,S),u(x,T,C,y),n(x,T,C,y),I!=="category"&&!y.noHover&&C("hoverformat");var F=C("color"),z=F!==v.color.dflt?F:i.color,N=E.label||S._dfltTitle[A];if(o(x,T,C,I,y),!m)return T;C("title.text",N),s.coerceFont(C,"title.font",i,{overrideDflt:{size:s.bigFont(i.size),color:z}}),p(x,T,C,I);var W=y.hasMinor;if(W&&(L.newContainer(T,"minor"),p(x,T,C,I,{isMinor:!0})),t(x,T,C,I,y),r(x,T,C,y),W){var Z=y.isMinor;y.isMinor=!0,r(x,T,C,y),y.isMinor=Z}l(x,T,C,{dfltColor:F,bgColor:y.bgColor,showGrid:y.showGrid,hasMinor:W,attributes:v}),W&&!T.minor.ticks&&!T.minor.showgrid&&delete T.minor,(T.showline||T.ticks)&&C("mirror");var q=I==="multicategory";if(!y.noTickson&&(I==="category"||q)&&(T.ticks||T.showgrid)){var re;q&&(re="boundaries");var le=C("tickson",re);le==="boundaries"&&delete T.ticklabelposition}if(q){var ie=C("showdividers");ie&&(C("dividercolor"),C("dividerwidth"))}if(I==="date")if(M(x,T,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:w}),!T.rangebreaks.length)delete T.rangebreaks;else{for(var K=0;K<T.rangebreaks.length;K++)if(T.rangebreaks[K].pattern===g){T._hasDayOfWeekBreaks=!0;break}if(f(T,S),S._has("scattergl")||S._has("splom"))for(var $=0;$<y.data.length;$++){var X=y.data[$];(X.type==="scattergl"||X.type==="splom")&&(X.visible=!1,s.warn(X.type+" traces do not work on axes with rangebreaks. Setting trace "+X.index+" to `visible: false`."))}}return T};function w(d,x,T){function C(O,_){return s.coerce(d,x,v.rangebreaks,O,_)}var y=C("enabled");if(y){var S=C("bounds");if(S&&S.length>=2){var A="",i,E;if(S.length===2){for(i=0;i<2;i++)if(E=a(S[i]),E){A=g;break}}var m=C("pattern",A);if(m===g)for(i=0;i<2;i++)E=a(S[i]),E&&(x.bounds[i]=S[i]=E-1);if(m)for(i=0;i<2;i++)switch(E=S[i],m){case g:if(!b(E)){x.enabled=!1;return}if(E=+E,E!==Math.floor(E)||E<0||E>=7){x.enabled=!1;return}x.bounds[i]=S[i]=E;break;case h:if(!b(E)){x.enabled=!1;return}if(E=+E,E<0||E>24){x.enabled=!1;return}x.bounds[i]=S[i]=E;break}if(T.autorange===!1){var k=T.range;if(k[0]<k[1]){if(S[0]<k[0]&&S[1]>k[1]){x.enabled=!1;return}}else if(S[0]>k[0]&&S[1]<k[1]){x.enabled=!1;return}}}else{var I=C("values");if(I&&I.length)C("dvalue");else{x.enabled=!1;return}}}}var c={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function a(d){if(typeof d=="string")return c[d.substr(0,3).toLowerCase()]}},29736:function(Y,V,e){var b=e(26880),P=b.FORMAT_LINK,s=b.DATE_FORMAT_LINK;function L(p,r){return{valType:"string",dflt:"",editType:"none",description:(r?M:v)("hover text",p)+["By default the values are formatted using "+(r?"generic number format":"`"+p+"axis.hoverformat`")+"."].join(" ")}}function M(p,r){return["Sets the "+p+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+P+"."].join(" ")}function v(p,r){return M(p,r)+[" And for dates see: "+s+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}Y.exports={axisHoverFormat:L,descriptionOnlyNumbers:M,descriptionWithDates:v}},79811:function(Y,V,e){var b=e(24040),P=e(33816);V.id2name=function(M){if(!(typeof M!="string"||!M.match(P.AX_ID_PATTERN))){var v=M.split(" ")[0].substr(1);return v==="1"&&(v=""),M.charAt(0)+"axis"+v}},V.name2id=function(M){if(M.match(P.AX_NAME_PATTERN)){var v=M.substr(5);return v==="1"&&(v=""),M.charAt(0)+v}},V.cleanId=function(M,v,p){var r=/( domain)$/.test(M);if(!(typeof M!="string"||!M.match(P.AX_ID_PATTERN))&&!(v&&M.charAt(0)!==v)&&!(r&&!p)){var t=M.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),M.charAt(0)+t+(r&&p?" domain":"")}},V.list=function(L,M,v){var p=L._fullLayout;if(!p)return[];var r=V.listIds(L,M),t=new Array(r.length),o;for(o=0;o<r.length;o++){var n=r[o];t[o]=p[n.charAt(0)+"axis"+n.substr(1)]}if(!v){var l=p._subplots.gl3d||[];for(o=0;o<l.length;o++){var u=p[l[o]];M?t.push(u[M+"axis"]):t.push(u.xaxis,u.yaxis,u.zaxis)}}return t},V.listIds=function(L,M){var v=L._fullLayout;if(!v)return[];var p=v._subplots;return M?p[M+"axis"]:p.xaxis.concat(p.yaxis)},V.getFromId=function(L,M,v){var p=L._fullLayout;return M=M===void 0||typeof M!="string"?M:M.replace(" domain",""),v==="x"?M=M.replace(/y[0-9]*/,""):v==="y"&&(M=M.replace(/x[0-9]*/,"")),p[V.id2name(M)]},V.getFromTrace=function(L,M,v){var p=L._fullLayout,r=null;if(b.traceIs(M,"gl3d")){var t=M.scene;t.substr(0,5)==="scene"&&(r=p[t][v+"axis"])}else r=V.getFromId(L,M[v+"axis"]||v);return r},V.idSort=function(L,M){var v=L.charAt(0),p=M.charAt(0);return v!==p?v>p?1:-1:+(L.substr(1)||1)-+(M.substr(1)||1)},V.ref2id=function(L){return/^[xyz]/.test(L)?L.split(" ")[0]:!1};function s(L,M){if(M&&M.length){for(var v=0;v<M.length;v++)if(M[v][L])return!0}return!1}V.isLinked=function(L,M){return s(M,L._axisMatchGroups)||s(M,L._axisConstraintGroups)}},22416:function(Y,V,e){var b=e(38116).isTypedArraySpec;function P(s,L){var M=L.dataAttr||s._id.charAt(0),v={},p,r,t;if(L.axData)p=L.axData;else for(p=[],r=0;r<L.data.length;r++){var o=L.data[r];o[M+"axis"]===s._id&&p.push(o)}for(r=0;r<p.length;r++){var n=p[r][M];for(t=0;t<n.length;t++){var l=n[t];l!=null&&(v[l]=1)}}return Object.keys(v)}Y.exports=function(L,M,v,p){if(M.type==="category"){var r=L.categoryarray,t=Array.isArray(r)&&r.length>0||b(r),o;t&&(o="array");var n=v("categoryorder",o),l;n==="array"&&(l=v("categoryarray")),!t&&n==="array"&&(n=M.categoryorder="trace"),n==="trace"?M._initialCategories=[]:n==="array"?M._initialCategories=l.slice():(l=P(M,p).sort(),n==="category ascending"?M._initialCategories=l:n==="category descending"&&(M._initialCategories=l.reverse()))}}},98728:function(Y,V,e){var b=e(38248),P=e(3400),s=e(39032),L=s.ONEDAY,M=s.ONEWEEK;V.dtick=function(v,p){var r=p==="log",t=p==="date",o=p==="category",n=t?L:1;if(!v)return n;if(b(v))return v=Number(v),v<=0?n:o?Math.max(1,Math.round(v)):t?Math.max(.1,v):v;if(typeof v!="string"||!(t||r))return n;var l=v.charAt(0),u=v.substr(1);return u=b(u)?Number(u):0,u<=0||!(t&&l==="M"&&u===Math.round(u)||r&&l==="L"||r&&l==="D"&&(u===1||u===2))?n:v},V.tick0=function(v,p,r,t){if(p==="date")return P.cleanDate(v,P.dateTick0(r,t%M===0?1:0));if(!(t==="D1"||t==="D2"))return b(v)?Number(v):0}},33816:function(Y,V,e){var b=e(53756).counter;Y.exports={idRegex:{x:b("x","( domain)?"),y:b("y","( domain)?")},attrRegex:b("[xy]axis"),xAxisMatch:b("xaxis"),yAxisMatch:b("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"},zindexSeparator:"z"}},71888:function(Y,V,e){var b=e(3400),P=e(19280),s=e(79811).id2name,L=e(94724),M=e(21160),v=e(78344),p=e(39032).ALMOST_EQUAL,r=e(84284).FROM_BL;V.handleDefaults=function(h,w,c){var a=c.axIds,d=c.axHasImage,x=w._axisConstraintGroups=[],T=w._axisMatchGroups=[],C,y,S,A,i,E,m,k;for(C=0;C<a.length;C++)A=s(a[C]),i=h[A],E=w[A],t(i,E,{axIds:a,layoutOut:w,hasImage:d[A]});function I(q,re){for(C=0;C<q.length;C++){y=q[C];for(S in y)w[s(S)][re]=y}}for(I(T,"_matchGroup"),C=0;C<x.length;C++){y=x[C];for(S in y)if(E=w[s(S)],E.fixedrange){for(var O in y){var _=s(O);(h[_]||{}).fixedrange===!1&&b.warn("fixedrange was specified as false for axis "+_+" but was overridden because another axis in its constraint group has fixedrange true"),w[_].fixedrange=!0}break}}for(C=0;C<x.length;){y=x[C];for(S in y){E=w[s(S)],E._matchGroup&&Object.keys(E._matchGroup).length===Object.keys(y).length&&(x.splice(C,1),C--);break}C++}I(x,"_constraintGroup");var B=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],F=!1,z=!1;function N(){k=E[m],m==="rangebreaks"&&(z=E._hasDayOfWeekBreaks)}for(C=0;C<T.length;C++){y=T[C];for(var W=0;W<B.length;W++){m=B[W],k=null;var Z;for(S in y)if(A=s(S),i=h[A],E=w[A],m in E){if(!E.matches&&(Z=E,m in i)){N();break}k===null&&m in i&&N()}if(m==="range"&&k&&i.range&&i.range.length===2&&i.range[0]!==null&&i.range[1]!==null&&(F=!0),m==="autorange"&&k===null&&F&&(k=!1),k===null&&m in Z&&(k=Z[m]),k!==null)for(S in y)E=w[s(S)],E[m]=m==="range"?k.slice():k,m==="rangebreaks"&&(E._hasDayOfWeekBreaks=z,v(E,w))}}};function t(h,w,c){var a=c.axIds,d=c.layoutOut,x=c.hasImage,T=d._axisConstraintGroups,C=d._axisMatchGroups,y=w._id,S=y.charAt(0),A=((d._splomAxes||{})[S]||{})[y]||{},i=w._id,E=i.charAt(0)==="x";w._matchGroup=null,w._constraintGroup=null;function m(K,$){return b.coerce(h,w,L,K,$)}m("constrain",x?"domain":"range"),b.coerce(h,w,{constraintoward:{valType:"enumerated",values:E?["left","center","right"]:["bottom","middle","top"],dflt:E?"center":"middle"}},"constraintoward");var k=w.type,I,O,_=[];for(I=0;I<a.length;I++)if(O=a[I],O!==i){var B=d[s(O)];B.type===k&&_.push(O)}var F=n(T,i);if(F){var z=[];for(I=0;I<_.length;I++)O=_[I],F[O]||z.push(O);_=z}var N=_.length,W,Z;N&&(h.matches||A.matches)&&(W=b.coerce(h,w,{matches:{valType:"enumerated",values:_,dflt:_.indexOf(A.matches)!==-1?A.matches:void 0}},"matches"));var q=x&&!E?w.anchor:void 0;if(N&&!W&&(h.scaleanchor||q)&&(Z=b.coerce(h,w,{scaleanchor:{valType:"enumerated",values:_.concat([!1])}},"scaleanchor",q)),W){w._matchGroup=l(C,i,W,1);var re=d[s(W)],le=o(d,w)/o(d,re);E!==(W.charAt(0)==="x")&&(le=(E?"x":"y")+le),l(T,i,W,le)}else h.matches&&a.indexOf(h.matches)!==-1&&b.warn("ignored "+w._name+'.matches: "'+h.matches+'" to avoid an infinite loop');if(Z){var ie=m("scaleratio");ie||(ie=w.scaleratio=1),l(T,i,Z,ie)}else h.scaleanchor&&a.indexOf(h.scaleanchor)!==-1&&b.warn("ignored "+w._name+'.scaleanchor: "'+h.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function o(h,w){var c=w.domain;return c||(c=h[s(w.overlaying)].domain),c[1]-c[0]}function n(h,w){for(var c=0;c<h.length;c++)if(h[c][w])return h[c];return null}function l(h,w,c,a){var d,x,T,C,y,S=n(h,w);S===null?(S={},S[w]=1,y=h.length,h.push(S)):y=h.indexOf(S);var A=Object.keys(S);for(d=0;d<h.length;d++)if(T=h[d],d!==y&&T[c]){var i=T[c];for(x=0;x<A.length;x++)C=A[x],T[C]=u(i,u(a,S[C]));h.splice(y,1);return}if(a!==1)for(x=0;x<A.length;x++){var E=A[x];S[E]=u(a,S[E])}S[c]=1}function u(h,w){var c="",a="",d,x;typeof h=="string"&&(c=h.match(/^[xy]*/)[0],d=c.length,h=+h.substr(d)),typeof w=="string"&&(a=w.match(/^[xy]*/)[0],x=a.length,w=+w.substr(x));var T=h*w;return!d&&!x?T:!d||!x||c.charAt(0)===a.charAt(0)?c+a+h*w:d===x?T:(d>x?c.substr(x):a.substr(d))+T}function f(h,w){for(var c=w._size,a=c.h/c.w,d={},x=Object.keys(h),T=0;T<x.length;T++){var C=x[T],y=h[C];if(typeof y=="string"){var S=y.match(/^[xy]*/)[0],A=S.length;y=+y.substr(A);for(var i=S.charAt(0)==="y"?a:1/a,E=0;E<A;E++)y*=i}d[C]=y}return d}V.enforce=function(w){var c=w._fullLayout,a=c._axisConstraintGroups||[],d,x,T,C,y,S,A,i;for(d=0;d<a.length;d++){T=f(a[d],c);var E=Object.keys(T),m=1/0,k=0,I=1/0,O={},_={},B=!1;for(x=0;x<E.length;x++)C=E[x],_[C]=y=c[s(C)],y._inputDomain?y.domain=y._inputDomain.slice():y._inputDomain=y.domain.slice(),y._inputRange||(y._inputRange=y.range.slice()),y.setScale(),O[C]=S=Math.abs(y._m)/T[C],m=Math.min(m,S),(y.constrain==="domain"||!y._constraintShrinkable)&&(I=Math.min(I,S)),delete y._constraintShrinkable,k=Math.max(k,S),y.constrain==="domain"&&(B=!0);if(!(m>p*k&&!B)){for(x=0;x<E.length;x++)if(C=E[x],S=O[C],y=_[C],A=y.constrain,S!==I||A==="domain")if(i=S/I,A==="range")M(y,i);else{var F=y._inputDomain,z=(y.domain[1]-y.domain[0])/(F[1]-F[0]),N=(y.r2l(y.range[1])-y.r2l(y.range[0]))/(y.r2l(y._inputRange[1])-y.r2l(y._inputRange[0]));if(i/=z,i*N<1){y.domain=y._input.domain=F.slice(),M(y,i);continue}if(N<1&&(y.range=y._input.range=y._inputRange.slice(),i*=N),y.autorange){var W=y.r2l(y.range[0]),Z=y.r2l(y.range[1]),q=(W+Z)/2,re=q,le=q,ie=Math.abs(Z-q),K=q-ie*i*1.0001,$=q+ie*i*1.0001,X=P.makePadFn(c,y,0),Q=P.makePadFn(c,y,1);g(y,i);var se=Math.abs(y._m),J=P.concatExtremes(w,y),G=J.min,oe=J.max,te,fe;for(fe=0;fe<G.length;fe++)te=G[fe].val-X(G[fe])/se,te>K&&te<re&&(re=te);for(fe=0;fe<oe.length;fe++)te=oe[fe].val+Q(oe[fe])/se,te<$&&te>le&&(le=te);var ge=(le-re)/(2*ie);i/=ge,re=y.l2r(re),le=y.l2r(le),y.range=y._input.range=W<Z?[re,le]:[le,re]}g(y,i)}}}},V.getAxisGroup=function(w,c){for(var a=w._axisMatchGroups,d=0;d<a.length;d++){var x=a[d];if(x[c])return"g"+d}return c},V.clean=function(w,c){if(c._inputDomain){for(var a=!1,d=c._id,x=w._fullLayout._axisConstraintGroups,T=0;T<x.length;T++)if(x[T][d]){a=!0;break}(!a||c.constrain!=="domain")&&(c._input.domain=c.domain=c._inputDomain,delete c._inputDomain)}};function g(h,w){var c=h._inputDomain,a=r[h.constraintoward],d=c[0]+(c[1]-c[0])*a;h.domain=h._input.domain=[d+(c[0]-d)/w,d+(c[1]-d)/w],h.setScale()}},51184:function(Y,V,e){var b=e(33428),P=e(3400),s=P.numberFormat,L=e(49760),M=e(89184),v=e(24040),p=P.strTranslate,r=e(72736),t=e(76308),o=e(43616),n=e(93024),l=e(54460),u=e(93972),f=e(86476),g=e(72760),h=g.selectingOrDrawing,w=g.freeMode,c=e(84284).FROM_TL,a=e(73696),d=e(39172).redrawReglTraces,x=e(7316),T=e(79811).getFromId,C=e(22676).prepSelect,y=e(22676).clearOutline,S=e(22676).selectOnClick,A=e(21160),i=e(33816),E=i.MINDRAG,m=i.MINZOOM,k=!0;function I(te,fe,ge,we,xe,Ce,De,Oe){var Te=te._fullLayout._zoomlayer,Re=De+Oe==="nsew",Me=(De+Oe).length===1,ke,Se,He,je,at,Ze,$e,ut,ht,vt,xt,St,tt,Ie,Ve,Ge,Xe,Le,Fe,Ue,Ee,he,ye;ge+=fe.yaxis._shift;function _e(){if(ke=fe.xaxis,Se=fe.yaxis,ht=ke._length,vt=Se._length,$e=ke._offset,ut=Se._offset,He={},He[ke._id]=ke,je={},je[Se._id]=Se,De&&Oe)for(var Yt=fe.overlays,Pt=0;Pt<Yt.length;Pt++){var Zt=Yt[Pt].xaxis;He[Zt._id]=Zt;var nr=Yt[Pt].yaxis;je[nr._id]=nr}at=oe(He),Ze=oe(je),tt=B(at,Oe),Ie=B(Ze,De),Ve=!Ie&&!tt,St=J(te,te._fullLayout._axisMatchGroups,He,je),xt=J(te,te._fullLayout._axisConstraintGroups,He,je,St);var Qt=xt.isSubplotConstrained||St.isSubplotConstrained;Ge=Oe||Qt,Xe=De||Qt;var Wt=te._fullLayout;Le=Wt._has("scattergl"),Fe=Wt._has("splom"),Ue=Wt._has("svg")}_e();var We=Z(Ie+tt,te._fullLayout.dragmode,Re),rt=_(fe,De+Oe+"drag",We,ge,we,xe,Ce);if(Ve&&!Re)return rt.onmousedown=null,rt.style.pointerEvents="none",rt;var st={element:rt,gd:te,plotinfo:fe};st.prepFn=function(Yt,Pt,Zt){var nr=st.dragmode,Qt=te._fullLayout.dragmode;Qt!==nr&&(st.dragmode=Qt),_e(),he=te._fullLayout._invScaleX,ye=te._fullLayout._invScaleY,Ve||(Re?Yt.shiftKey?Qt==="pan"?Qt="zoom":h(Qt)||(Qt="pan"):Yt.ctrlKey&&(Qt="pan"):Qt="pan"),w(Qt)?st.minDrag=1:st.minDrag=void 0,h(Qt)?(st.xaxes=at,st.yaxes=Ze,C(Yt,Pt,Zt,st,Qt)):(st.clickFn=Xt,h(nr)&&Vt(),Ve||(Qt==="zoom"?(st.moveFn=bt,st.doneFn=kt,st.minDrag=1,lt(Yt,Pt,Zt)):Qt==="pan"&&(st.moveFn=cr,st.doneFn=xr))),te._fullLayout._redrag=function(){var Wt=te._dragdata;if(Wt&&Wt.element===rt){var yr=te._fullLayout.dragmode;h(yr)||(_e(),Ke([0,0,ht,vt]),st.moveFn(Wt.dx,Wt.dy))}}};function Vt(){st.plotinfo.selection=!1,y(te)}function Xt(Yt,Pt){var Zt=st.gd;if(Zt._fullLayout._activeShapeIndex>=0){Zt._fullLayout._deactivateShape(Zt);return}var nr=Zt._fullLayout.clickmode;if(K(Zt),Yt===2&&!Me&&Lr(),Re)nr.indexOf("select")>-1&&S(Pt,Zt,at,Ze,fe.id,st),nr.indexOf("event")>-1&&n.click(Zt,Pt,fe.id);else if(Yt===1&&Me){var Qt=De?Se:ke,Wt=De==="s"||Oe==="w"?0:1,yr=Qt._name+".range["+Wt+"]",Ir=F(Qt,Wt),Tr="left",vn="middle";if(Qt.fixedrange)return;De?(vn=De==="n"?"top":"bottom",Qt.side==="right"&&(Tr="right")):Oe==="e"&&(Tr="right"),Zt._context.showAxisRangeEntryBoxes&&b.select(rt).call(r.makeEditable,{gd:Zt,immediate:!0,background:Zt._fullLayout.paper_bgcolor,text:String(Ir),fill:Qt.tickfont?Qt.tickfont.color:"#444",horizontalAlign:Tr,verticalAlign:vn}).on("edit",function(Or){var En=Qt.d2r(Or);En!==void 0&&v.call("_guiRelayout",Zt,yr,En)})}}f.init(st);var Tt,Lt,Kt,vr,pt,jt,$t,mr,or,gt;function lt(Yt,Pt,Zt){var nr=rt.getBoundingClientRect();Tt=Pt-nr.left,Lt=Zt-nr.top,te._fullLayout._calcInverseTransform(te);var Qt=P.apply3DTransform(te._fullLayout._invTransform)(Tt,Lt);Tt=Qt[0],Lt=Qt[1],Kt={l:Tt,r:Tt,w:0,t:Lt,b:Lt,h:0},vr=te._hmpixcount?te._hmlumcount/te._hmpixcount:L(te._fullLayout.plot_bgcolor).getLuminance(),pt="M0,0H"+ht+"V"+vt+"H0V0",jt=!1,$t="xy",gt=!1,mr=q(Te,vr,$e,ut,pt),or=re(Te,$e,ut)}function bt(Yt,Pt){if(te._transitioningWithDuration)return!1;var Zt=Math.max(0,Math.min(ht,he*Yt+Tt)),nr=Math.max(0,Math.min(vt,ye*Pt+Lt)),Qt=Math.abs(Zt-Tt),Wt=Math.abs(nr-Lt);Kt.l=Math.min(Tt,Zt),Kt.r=Math.max(Tt,Zt),Kt.t=Math.min(Lt,nr),Kt.b=Math.max(Lt,nr);function yr(){$t="",Kt.r=Kt.l,Kt.t=Kt.b,or.attr("d","M0,0Z")}if(xt.isSubplotConstrained)Qt>m||Wt>m?($t="xy",Qt/ht>Wt/vt?(Wt=Qt*vt/ht,Lt>nr?Kt.t=Lt-Wt:Kt.b=Lt+Wt):(Qt=Wt*ht/vt,Tt>Zt?Kt.l=Tt-Qt:Kt.r=Tt+Qt),or.attr("d",se(Kt))):yr();else if(St.isSubplotConstrained)if(Qt>m||Wt>m){$t="xy";var Ir=Math.min(Kt.l/ht,(vt-Kt.b)/vt),Tr=Math.max(Kt.r/ht,(vt-Kt.t)/vt);Kt.l=Ir*ht,Kt.r=Tr*ht,Kt.b=(1-Ir)*vt,Kt.t=(1-Tr)*vt,or.attr("d",se(Kt))}else yr();else!Ie||Wt<Math.min(Math.max(Qt*.6,E),m)?Qt<E||!tt?yr():(Kt.t=0,Kt.b=vt,$t="x",or.attr("d",X(Kt,Lt))):!tt||Qt<Math.min(Wt*.6,m)?(Kt.l=0,Kt.r=ht,$t="y",or.attr("d",Q(Kt,Tt))):($t="xy",or.attr("d",se(Kt)));Kt.w=Kt.r-Kt.l,Kt.h=Kt.b-Kt.t,$t&&(gt=!0),te._dragged=gt,le(mr,or,Kt,pt,jt,vr),Et(),te.emit("plotly_relayouting",Ee),jt=!0}function Et(){Ee={},($t==="xy"||$t==="x")&&(z(at,Kt.l/ht,Kt.r/ht,Ee,xt.xaxes),dr("x",Ee)),($t==="xy"||$t==="y")&&(z(Ze,(vt-Kt.b)/vt,(vt-Kt.t)/vt,Ee,xt.yaxes),dr("y",Ee))}function kt(){Et(),K(te),xr(),$(te)}var Ot=[0,0,ht,vt],Ft=null,Bt=i.REDRAWDELAY,Jt=fe.mainplot?te._fullLayout._plots[fe.mainplot]:fe;function hr(Yt){if(!te._context._scrollZoom.cartesian&&!te._fullLayout._enablescrollzoom)return;if(Vt(),te._transitioningWithDuration){Yt.preventDefault(),Yt.stopPropagation();return}_e(),clearTimeout(Ft);var Pt=-Yt.deltaY;if(isFinite(Pt)||(Pt=Yt.wheelDelta/10),!isFinite(Pt)){P.log("Did not find wheel motion attributes: ",Yt);return}var Zt=Math.exp(-Math.min(Math.max(Pt,-20),20)/200),nr=Jt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Qt=(Yt.clientX-nr.left)/nr.width,Wt=(nr.bottom-Yt.clientY)/nr.height,yr;function Ir(Tr,vn,Or){if(Tr.fixedrange)return;var En=P.simpleMap(Tr.range,Tr.r2l),nn=En[0]+(En[1]-En[0])*vn;function gr(Pr){return Tr.l2r(nn+(Pr-nn)*Or)}Tr.range=En.map(gr)}if(Ge){for(Oe||(Qt=.5),yr=0;yr<at.length;yr++)Ir(at[yr],Qt,Zt);dr("x"),Ot[2]*=Zt,Ot[0]+=Ot[2]*Qt*(1/Zt-1)}if(Xe){for(De||(Wt=.5),yr=0;yr<Ze.length;yr++)Ir(Ze[yr],Wt,Zt);dr("y"),Ot[3]*=Zt,Ot[1]+=Ot[3]*(1-Wt)*(1/Zt-1)}Ke(Ot),fr(),te.emit("plotly_relayouting",Ee),Ft=setTimeout(function(){te._fullLayout&&(Ot=[0,0,ht,vt],xr())},Bt),Yt.preventDefault()}De.length*Oe.length!==1&&G(rt,hr);function cr(Yt,Pt){if(Yt=Yt*he,Pt=Pt*ye,te._transitioningWithDuration)return;if(te._fullLayout._replotting=!0,tt==="ew"||Ie==="ns"){var Zt=tt?-Yt:0,nr=Ie?-Pt:0;if(St.isSubplotConstrained){if(tt&&Ie){var Qt=(Yt/ht-Pt/vt)/2;Yt=Qt*ht,Pt=-Qt*vt,Zt=-Yt,nr=-Pt}Ie?Zt=-nr*ht/vt:nr=-Zt*vt/ht}tt&&(N(at,Yt),dr("x")),Ie&&(N(Ze,Pt),dr("y")),Ke([Zt,nr,ht,vt]),fr(),te.emit("plotly_relayouting",Ee);return}function Wt(gr,Pr,Xr){for(var kr=1-Pr,pn,tn,Tn=0;Tn<gr.length;Tn++){var Ln=gr[Tn];if(!Ln.fixedrange){pn=Ln,tn=Ln._rl[kr]+(Ln._rl[Pr]-Ln._rl[kr])/W(Xr/Ln._length);var Hn=Ln.l2r(tn);Hn!==!1&&Hn!==void 0&&(Ln.range[Pr]=Hn)}}return pn._length*(pn._rl[Pr]-tn)/(pn._rl[Pr]-pn._rl[kr])}var yr=tt==="w"==(Ie==="n")?1:-1;if(tt&&Ie&&(xt.isSubplotConstrained||St.isSubplotConstrained)){var Ir=(Yt/ht+yr*Pt/vt)/2;Yt=Ir*ht,Pt=yr*Ir*vt}var Tr,vn;if(tt==="w"?Yt=Wt(at,0,Yt):tt==="e"?Yt=Wt(at,1,-Yt):tt||(Yt=0),Ie==="n"?Pt=Wt(Ze,1,Pt):Ie==="s"?Pt=Wt(Ze,0,-Pt):Ie||(Pt=0),Tr=tt==="w"?Yt:0,vn=Ie==="n"?Pt:0,xt.isSubplotConstrained&&!St.isSubplotConstrained||St.isSubplotConstrained&&tt&&Ie&&yr>0){var Or;if(St.isSubplotConstrained||!tt&&Ie.length===1){for(Or=0;Or<at.length;Or++)at[Or].range=at[Or]._r.slice(),A(at[Or],1-Pt/vt);Yt=Pt*ht/vt,Tr=Yt/2}if(St.isSubplotConstrained||!Ie&&tt.length===1){for(Or=0;Or<Ze.length;Or++)Ze[Or].range=Ze[Or]._r.slice(),A(Ze[Or],1-Yt/ht);Pt=Yt*vt/ht,vn=Pt/2}}(!St.isSubplotConstrained||!Ie)&&dr("x"),(!St.isSubplotConstrained||!tt)&&dr("y");var En=ht-Yt,nn=vt-Pt;St.isSubplotConstrained&&!(tt&&Ie)&&(tt?(vn=Tr?0:Yt*vt/ht,nn=En*vt/ht):(Tr=vn?0:Pt*ht/vt,En=nn*ht/vt)),Ke([Tr,vn,En,nn]),fr(),te.emit("plotly_relayouting",Ee)}function dr(Yt,Pt){for(var Zt=St.isSubplotConstrained?{x:Ze,y:at}[Yt]:St[Yt+"axes"],nr=St.isSubplotConstrained?{x:at,y:Ze}[Yt]:[],Qt=0;Qt<Zt.length;Qt++){var Wt=Zt[Qt],yr=Wt._id,Ir=St.xLinks[yr]||St.yLinks[yr],Tr=nr[0]||He[Ir]||je[Ir];Tr&&(Pt?(Pt[Wt._name+".range[0]"]=Pt[Tr._name+".range[0]"],Pt[Wt._name+".range[1]"]=Pt[Tr._name+".range[1]"]):Wt.range=Tr.range.slice())}}function fr(){var Yt=[],Pt;function Zt(yr){for(Pt=0;Pt<yr.length;Pt++)yr[Pt].fixedrange||Yt.push(yr[Pt]._id)}function nr(yr,Ir){for(Pt=0;Pt<yr.length;Pt++){var Tr=yr[Pt],vn=Tr[Ir];!Tr.fixedrange&&vn.tickmode==="sync"&&Yt.push(vn._id)}}for(Ge&&(Zt(at),Zt(xt.xaxes),Zt(St.xaxes),nr(fe.overlays,"xaxis")),Xe&&(Zt(Ze),Zt(xt.yaxes),Zt(St.yaxes),nr(fe.overlays,"yaxis")),Ee={},Pt=0;Pt<Yt.length;Pt++){var Qt=Yt[Pt],Wt=T(te,Qt);l.drawOne(te,Wt,{skipTitle:!0}),Ee[Wt._name+".range[0]"]=Wt.range[0],Ee[Wt._name+".range[1]"]=Wt.range[1]}l.redrawComponents(te,Yt)}function Lr(){if(!te._transitioningWithDuration){var Yt=te._context.doubleClick,Pt=[];tt&&(Pt=Pt.concat(at)),Ie&&(Pt=Pt.concat(Ze)),St.xaxes&&(Pt=Pt.concat(St.xaxes)),St.yaxes&&(Pt=Pt.concat(St.yaxes));var Zt={},nr,Qt;if(Yt==="reset+autosize")for(Yt="autosize",Qt=0;Qt<Pt.length;Qt++){nr=Pt[Qt];var Wt=nr._rangeInitial0,yr=nr._rangeInitial1,Ir=Wt!==void 0||yr!==void 0;if(Ir&&(Wt!==void 0&&Wt!==nr.range[0]||yr!==void 0&&yr!==nr.range[1])||!Ir&&nr.autorange!==!0){Yt="reset";break}}if(Yt==="autosize")for(Qt=0;Qt<Pt.length;Qt++)nr=Pt[Qt],nr.fixedrange||(Zt[nr._name+".autorange"]=!0);else if(Yt==="reset"){for((tt||xt.isSubplotConstrained)&&(Pt=Pt.concat(xt.xaxes)),Ie&&!xt.isSubplotConstrained&&(Pt=Pt.concat(xt.yaxes)),xt.isSubplotConstrained&&(tt?Ie||(Pt=Pt.concat(Ze)):Pt=Pt.concat(at)),Qt=0;Qt<Pt.length;Qt++)if(nr=Pt[Qt],!nr.fixedrange){var Tr=nr._name,vn=nr._autorangeInitial;nr._rangeInitial0===void 0&&nr._rangeInitial1===void 0?Zt[Tr+".autorange"]=!0:nr._rangeInitial0===void 0?(Zt[Tr+".autorange"]=vn,Zt[Tr+".range"]=[null,nr._rangeInitial1]):nr._rangeInitial1===void 0?(Zt[Tr+".range"]=[nr._rangeInitial0,null],Zt[Tr+".autorange"]=vn):Zt[Tr+".range"]=[nr._rangeInitial0,nr._rangeInitial1]}}te.emit("plotly_doubleclick",null),v.call("_guiRelayout",te,Zt)}}function xr(){Ke([0,0,ht,vt]),P.syncOrAsync([x.previousPromises,function(){te._fullLayout._replotting=!1,v.call("_guiRelayout",te,Ee)}],te)}function Ke(Yt){var Pt=te._fullLayout,Zt=Pt._plots,nr=Pt._subplots.cartesian,Qt,Wt,yr,Ir;if(Fe&&v.subplotsRegistry.splom.drag(te),Le){for(Qt=0;Qt<nr.length;Qt++)if(Wt=Zt[nr[Qt]],yr=Wt.xaxis,Ir=Wt.yaxis,Wt._scene){yr.limitRange&&yr.limitRange(),Ir.limitRange&&Ir.limitRange();var Tr=P.simpleMap(yr.range,yr.r2l),vn=P.simpleMap(Ir.range,Ir.r2l);Wt._scene.update({range:[Tr[0],vn[0],Tr[1],vn[1]]})}}if((Fe||Le)&&(a(te),d(te)),Ue){var Or=Yt[2]/ke._length,En=Yt[3]/Se._length;for(Qt=0;Qt<nr.length;Qt++){Wt=Zt[nr[Qt]],yr=Wt.xaxis,Ir=Wt.yaxis;var nn=(Ge||St.isSubplotConstrained)&&!yr.fixedrange&&He[yr._id],gr=(Xe||St.isSubplotConstrained)&&!Ir.fixedrange&&je[Ir._id],Pr,Xr,kr,pn;if(nn?(Pr=Or,kr=Oe||St.isSubplotConstrained?Yt[0]:tr(yr,Pr)):St.xaHash[yr._id]?(Pr=Or,kr=Yt[0]*yr._length/ke._length):St.yaHash[yr._id]?(Pr=En,kr=Ie==="ns"?-Yt[1]*yr._length/Se._length:tr(yr,Pr,{n:"top",s:"bottom"}[Ie])):(Pr=et(yr,Or,En),kr=er(yr,Pr)),Pr>1&&(yr.maxallowed!==void 0&&Ge===(yr.range[0]<yr.range[1]?"e":"w")||yr.minallowed!==void 0&&Ge===(yr.range[0]<yr.range[1]?"w":"e"))&&(Pr=1,kr=0),gr?(Xr=En,pn=De||St.isSubplotConstrained?Yt[1]:tr(Ir,Xr)):St.yaHash[Ir._id]?(Xr=En,pn=Yt[1]*Ir._length/Se._length):St.xaHash[Ir._id]?(Xr=Or,pn=tt==="ew"?-Yt[0]*Ir._length/ke._length:tr(Ir,Xr,{e:"right",w:"left"}[tt])):(Xr=et(Ir,Or,En),pn=er(Ir,Xr)),Xr>1&&(Ir.maxallowed!==void 0&&Xe===(Ir.range[0]<Ir.range[1]?"n":"s")||Ir.minallowed!==void 0&&Xe===(Ir.range[0]<Ir.range[1]?"s":"n"))&&(Xr=1,pn=0),!(!Pr&&!Xr)){Pr||(Pr=1),Xr||(Xr=1);var tn=yr._offset-kr/Pr,Tn=Ir._offset-pn/Xr;Wt.clipRect.call(o.setTranslate,kr,pn).call(o.setScale,Pr,Xr),Wt.plot.call(o.setTranslate,tn,Tn).call(o.setScale,1/Pr,1/Xr),(Pr!==Wt.xScaleFactor||Xr!==Wt.yScaleFactor)&&(o.setPointGroupScale(Wt.zoomScalePts,Pr,Xr),o.setTextPointsScale(Wt.zoomScaleTxt,Pr,Xr)),o.hideOutsideRangePoints(Wt.clipOnAxisFalseTraces,Wt),Wt.xScaleFactor=Pr,Wt.yScaleFactor=Xr}}}}function et(Yt,Pt,Zt){return Yt.fixedrange?0:Ge&&xt.xaHash[Yt._id]?Pt:Xe&&(xt.isSubplotConstrained?xt.xaHash:xt.yaHash)[Yt._id]?Zt:0}function er(Yt,Pt){return Pt?(Yt.range=Yt._r.slice(),A(Yt,Pt),tr(Yt,Pt)):0}function tr(Yt,Pt,Zt){return Yt._length*(1-Pt)*c[Zt||Yt.constraintoward||"middle"]}return rt}function O(te,fe,ge,we){var xe=P.ensureSingle(te.draglayer,fe,ge,function(Ce){Ce.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",te.id)});return xe.call(u,we),xe.node()}function _(te,fe,ge,we,xe,Ce,De){var Oe=O(te,"rect",fe,ge);return b.select(Oe).call(o.setRect,we,xe,Ce,De),Oe}function B(te,fe){for(var ge=0;ge<te.length;ge++)if(!te[ge].fixedrange)return fe;return""}function F(te,fe){var ge=te.range[fe],we=Math.abs(ge-te.range[1-fe]),xe;return te.type==="date"?ge:te.type==="log"?(xe=Math.ceil(Math.max(0,-Math.log(we)/Math.LN10))+3,s("."+xe+"g")(Math.pow(10,ge))):(xe=Math.floor(Math.log(Math.abs(ge))/Math.LN10)-Math.floor(Math.log(we)/Math.LN10)+4,s("."+String(xe)+"g")(ge))}function z(te,fe,ge,we,xe){for(var Ce=0;Ce<te.length;Ce++){var De=te[Ce];if(!De.fixedrange)if(De.rangebreaks){var Oe=De._id.charAt(0)==="y",Te=Oe?1-fe:fe,Re=Oe?1-ge:ge;we[De._name+".range[0]"]=De.l2r(De.p2l(Te*De._length)),we[De._name+".range[1]"]=De.l2r(De.p2l(Re*De._length))}else{var Me=De._rl[0],ke=De._rl[1]-Me;we[De._name+".range[0]"]=De.l2r(Me+ke*fe),we[De._name+".range[1]"]=De.l2r(Me+ke*ge)}}if(xe&&xe.length){var Se=(fe+(1-ge))/2;z(xe,Se,1-Se,we,[])}}function N(te,fe){for(var ge=0;ge<te.length;ge++){var we=te[ge];if(!we.fixedrange){if(we.rangebreaks){var xe=0,Ce=we._length,De=we.p2l(xe+fe)-we.p2l(xe),Oe=we.p2l(Ce+fe)-we.p2l(Ce),Te=(De+Oe)/2;we.range=[we.l2r(we._rl[0]-Te),we.l2r(we._rl[1]-Te)]}else we.range=[we.l2r(we._rl[0]-fe/we._m),we.l2r(we._rl[1]-fe/we._m)];we.limitRange&&we.limitRange()}}}function W(te){return 1-(te>=0?Math.min(te,.9):1/(1/Math.max(te,-.3)+3.222))}function Z(te,fe,ge){return te?te==="nsew"?ge?"":fe==="pan"?"move":"crosshair":te.toLowerCase()+"-resize":"pointer"}function q(te,fe,ge,we,xe){return te.append("path").attr("class","zoombox").style({fill:fe>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",p(ge,we)).attr("d",xe+"Z")}function re(te,fe,ge){return te.append("path").attr("class","zoombox-corners").style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,opacity:0}).attr("transform",p(fe,ge)).attr("d","M0,0Z")}function le(te,fe,ge,we,xe,Ce){te.attr("d",we+"M"+ge.l+","+ge.t+"v"+ge.h+"h"+ge.w+"v-"+ge.h+"h-"+ge.w+"Z"),ie(te,fe,xe,Ce)}function ie(te,fe,ge,we){ge||(te.transition().style("fill",we>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),fe.transition().style("opacity",1).duration(200))}function K(te){b.select(te).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function $(te){k&&te.data&&te._context.showTips&&(P.notifier(P._(te,"Double-click to zoom back out"),"long"),k=!1)}function X(te,fe){return"M"+(te.l-.5)+","+(fe-m-.5)+"h-3v"+(2*m+1)+"h3ZM"+(te.r+.5)+","+(fe-m-.5)+"h3v"+(2*m+1)+"h-3Z"}function Q(te,fe){return"M"+(fe-m-.5)+","+(te.t-.5)+"v-3h"+(2*m+1)+"v3ZM"+(fe-m-.5)+","+(te.b+.5)+"v3h"+(2*m+1)+"v-3Z"}function se(te){var fe=Math.floor(Math.min(te.b-te.t,te.r-te.l,m)/2);return"M"+(te.l-3.5)+","+(te.t-.5+fe)+"h3v"+-fe+"h"+fe+"v-3h-"+(fe+3)+"ZM"+(te.r+3.5)+","+(te.t-.5+fe)+"h-3v"+-fe+"h"+-fe+"v-3h"+(fe+3)+"ZM"+(te.r+3.5)+","+(te.b+.5-fe)+"h-3v"+fe+"h"+-fe+"v3h"+(fe+3)+"ZM"+(te.l-3.5)+","+(te.b+.5-fe)+"h3v"+fe+"h"+fe+"v3h-"+(fe+3)+"Z"}function J(te,fe,ge,we,xe){for(var Ce=!1,De={},Oe={},Te,Re,Me,ke,Se=(xe||{}).xaHash,He=(xe||{}).yaHash,je=0;je<fe.length;je++){var at=fe[je];for(Te in ge)if(at[Te]){for(Me in at)!(xe&&(Se[Me]||He[Me]))&&!(Me.charAt(0)==="x"?ge:we)[Me]&&(De[Me]=Te);for(Re in we)!(xe&&(Se[Re]||He[Re]))&&at[Re]&&(Ce=!0)}for(Re in we)if(at[Re])for(ke in at)!(xe&&(Se[ke]||He[ke]))&&!(ke.charAt(0)==="x"?ge:we)[ke]&&(Oe[ke]=Re)}Ce&&(P.extendFlat(De,Oe),Oe={});var Ze={},$e=[];for(Me in De){var ut=T(te,Me);$e.push(ut),Ze[ut._id]=ut}var ht={},vt=[];for(ke in Oe){var xt=T(te,ke);vt.push(xt),ht[xt._id]=xt}return{xaHash:Ze,yaHash:ht,xaxes:$e,yaxes:vt,xLinks:De,yLinks:Oe,isSubplotConstrained:Ce}}function G(te,fe){if(!M)te.onwheel!==void 0?te.onwheel=fe:te.onmousewheel!==void 0?te.onmousewheel=fe:te.isAddedWheelEvent||(te.isAddedWheelEvent=!0,te.addEventListener("wheel",fe,{passive:!1}));else{var ge=te.onwheel!==void 0?"wheel":"mousewheel";te._onwheel&&te.removeEventListener(ge,te._onwheel),te._onwheel=fe,te.addEventListener(ge,fe,{passive:!1})}}function oe(te){var fe=[];for(var ge in te)fe.push(te[ge]);return fe}Y.exports={makeDragBox:I,makeDragger:O,makeRectDragger:_,makeZoombox:q,makeCorners:re,updateZoombox:le,xyCorners:se,transitionZoombox:ie,removeZoombox:K,showDoubleClickNotifier:$,attachWheelEventHandler:G}},42464:function(Y,V,e){var b=e(33428),P=e(93024),s=e(86476),L=e(93972),M=e(51184).makeDragBox,v=e(33816).DRAGGERSIZE;V.initInteractions=function(r){var t=r._fullLayout;if(r._context.staticPlot){b.select(r).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var o=Object.keys(t._plots||{}).sort(function(l,u){if((t._plots[l].mainplot&&!0)===(t._plots[u].mainplot&&!0)){var f=l.split("y"),g=u.split("y");return f[0]===g[0]?Number(f[1]||1)-Number(g[1]||1):Number(f[0]||1)-Number(g[0]||1)}return t._plots[l].mainplot?1:-1});o.forEach(function(l){var u=t._plots[l],f=u.xaxis,g=u.yaxis;if(!u.mainplot){var h=M(r,u,f._offset,g._offset,f._length,g._length,"ns","ew");h.onmousemove=function(a){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===l&&r._fullLayout._plots[l]&&P.hover(r,a,l)},P.hover(r,a,l),r._fullLayout._lasthover=h,r._fullLayout._hoversubplot=l},h.onmouseout=function(a){r._dragging||(r._fullLayout._hoversubplot=null,s.unhover(r,a))},r._context.showAxisDragHandles&&(M(r,u,f._offset-v,g._offset-v,v,v,"n","w"),M(r,u,f._offset+f._length,g._offset-v,v,v,"n","e"),M(r,u,f._offset-v,g._offset+g._length,v,v,"s","w"),M(r,u,f._offset+f._length,g._offset+g._length,v,v,"s","e"))}if(r._context.showAxisDragHandles){if(l===f._mainSubplot){var w=f._mainLinePosition;f.side==="top"&&(w-=v),M(r,u,f._offset+f._length*.1,w,f._length*.8,v,"","ew"),M(r,u,f._offset,w,f._length*.1,v,"","w"),M(r,u,f._offset+f._length*.9,w,f._length*.1,v,"","e")}if(l===g._mainSubplot){var c=g._mainLinePosition;g.side!=="right"&&(c-=v),M(r,u,c,g._offset+g._length*.1,v,g._length*.8,"ns",""),M(r,u,c,g._offset+g._length*.9,v,g._length*.1,"s",""),M(r,u,c,g._offset,v,g._length*.1,"n","")}}});var n=t._hoverlayer.node();n.onmousemove=function(l){l.target=r._fullLayout._lasthover,P.hover(r,l,t._hoversubplot)},n.onclick=function(l){l.target=r._fullLayout._lasthover,P.click(r,l)},n.onmousedown=function(l){r._fullLayout._lasthover.onmousedown(l)},V.updateFx(r)}},V.updateFx=function(p){var r=p._fullLayout,t=r.dragmode==="pan"?"move":"crosshair";L(r._draggers,t)}},36632:function(Y,V,e){var b=e(24040),P=e(3400),s=e(79811);Y.exports=function(M){return function(p,r){var t=p[M];if(Array.isArray(t))for(var o=b.subplotsRegistry.cartesian,n=o.idRegex,l=r._subplots,u=l.xaxis,f=l.yaxis,g=l.cartesian,h=r._has("cartesian")||r._has("gl2d"),w=0;w<t.length;w++){var c=t[w];if(P.isPlainObject(c)){var a=s.cleanId(c.xref,"x",!1),d=s.cleanId(c.yref,"y",!1),x=n.x.test(a),T=n.y.test(d);if(x||T){h||P.pushUnique(r._basePlotModules,o);var C=!1;x&&u.indexOf(a)===-1&&(u.push(a),C=!0),T&&f.indexOf(d)===-1&&(f.push(d),C=!0),C&&x&&T&&g.push(a+d)}}}}}},57952:function(Y,V,e){var b=e(33428),P=e(24040),s=e(3400),L=e(7316),M=e(43616),v=e(84888)._M,p=e(79811),r=e(33816),t=e(9616),o=s.ensureSingle;function n(c,a,d){return s.ensureSingle(c,a,d,function(x){x.datum(d)})}var l=r.zindexSeparator;V.name="cartesian",V.attr=["xaxis","yaxis"],V.idRoot=["x","y"],V.idRegex=r.idRegex,V.attrRegex=r.attrRegex,V.attributes=e(26720),V.layoutAttributes=e(94724),V.supplyLayoutDefaults=e(67352),V.transitionAxes=e(73736),V.finalizeSubplots=function(c,a){var d=a._subplots,x=d.xaxis,T=d.yaxis,C=d.cartesian,y=C.concat(d.gl2d||[]),S={},A={},i,E,m;for(i=0;i<y.length;i++){var k=y[i].split("y");S[k[0]]=1,A["y"+k[1]]=1}for(i=0;i<x.length;i++)E=x[i],S[E]||(m=(c[p.id2name(E)]||{}).anchor,r.idRegex.y.test(m)||(m="y"),C.push(E+m),y.push(E+m),A[m]||(A[m]=1,s.pushUnique(T,m)));for(i=0;i<T.length;i++)m=T[i],A[m]||(E=(c[p.id2name(m)]||{}).anchor,r.idRegex.x.test(E)||(E="x"),C.push(E+m),y.push(E+m),S[E]||(S[E]=1,s.pushUnique(x,E)));if(!y.length){E="",m="";for(var I in c)if(r.attrRegex.test(I)){var O=I.charAt(0);O==="x"?(!E||+I.substr(5)<+E.substr(5))&&(E=I):(!m||+I.substr(5)<+m.substr(5))&&(m=I)}E=E?p.name2id(E):"x",m=m?p.name2id(m):"y",x.push(E),T.push(m),C.push(E+m)}},V.plot=function(c,a,d,x){var T=c._fullLayout,C=T._subplots.cartesian,y=c.calcdata,S;if(!Array.isArray(a))for(a=[],S=0;S<y.length;S++)a.push(S);for(var A=T._zindices,i=0;i<A.length;i++){var E=A[i];for(S=0;S<C.length;S++){var m=C[S],k=T._plots[m];if(i>0){var I=k.id;if(I.indexOf(l)!==-1)continue;I+=l+(i+1),k=s.extendFlat({},k,{id:I,plot:T._cartesianlayer.selectAll(".subplot").select("."+I)})}for(var O=[],_,B=0;B<y.length;B++){var F=y[B],z=F[0].trace;E===(z.zorder||0)&&z.xaxis+z.yaxis===m&&((a.indexOf(z.index)!==-1||z.carpet)&&(_&&_[0].trace.xaxis+_[0].trace.yaxis===m&&["tonextx","tonexty","tonext"].indexOf(z.fill)!==-1&&O.indexOf(_)===-1&&O.push(_),O.push(F)),_=F)}u(c,k,O,d,x)}}};function u(c,a,d,x,T){for(var C=r.traceLayerClasses,y=c._fullLayout,S=y._zindices,A=y._modules,i,E,m,k=[],I=[],O=0;O<S.length;O++)for(var _=S[O],B=0;B<A.length;B++){i=A[B];var F=i.name,z=P.modules[F].categories;if(z.svg){var N=i.layerName||F+"layer",W=N+(O?Number(O)+1:""),Z=i.plot;E=v(d,Z,_),m=E[0],d=E[1],m.length&&k.push({i:C.indexOf(N),zorder:O,className:W,plotMethod:Z,cdModule:m}),z.zoomScale&&I.push("."+W)}}k.sort(function(le,ie){return(le.zorder||0)-(ie.zorder||0)||le.i-ie.i});var q=a.plot.selectAll("g.mlayer").data(k,function(le){return le.className});if(q.enter().append("g").attr("class",function(le){return le.className}).classed("mlayer",!0).classed("rangeplot",a.isRangePlot),q.exit().remove(),q.order(),q.each(function(le){var ie=b.select(this),K=le.className;le.plotMethod(c,a,le.cdModule,ie,x,T),r.clipOnAxisFalseQuery.indexOf("."+K)===-1&&M.setClipUrl(ie,a.layerClipId,c)}),y._has("scattergl")&&(i=P.getModule("scattergl"),m=v(d,i)[0],i.plot(c,a,m)),!c._context.staticPlot&&(a._hasClipOnAxisFalse&&(a.clipOnAxisFalseTraces=a.plot.selectAll(r.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),I.length)){var re=a.plot.selectAll(I.join(",")).selectAll(".trace");a.zoomScalePts=re.selectAll("path.point"),a.zoomScaleTxt=re.selectAll(".textpoint")}}V.clean=function(c,a,d,x){var T=x._plots||{},C=a._plots||{},y=x._subplots||{},S,A,i;if(x._hasOnlyLargeSploms&&!a._hasOnlyLargeSploms)for(i in T)S=T[i],S.plotgroup&&S.plotgroup.remove();var E=x._has&&x._has("gl"),m=a._has&&a._has("gl");if(E&&!m)for(i in T)S=T[i],S._scene&&S._scene.destroy();if(y.xaxis&&y.yaxis){var k=p.listIds({_fullLayout:x});for(A=0;A<k.length;A++){var I=k[A];a[p.id2name(I)]||x._infolayer.selectAll(".g-"+I+"title").remove()}}var O=x._has&&x._has("cartesian"),_=a._has&&a._has("cartesian");if(O&&!_)h(x._cartesianlayer.selectAll(".subplot"),x),x._defs.selectAll(".axesclip").remove(),delete x._axisConstraintGroups,delete x._axisMatchGroups;else if(y.cartesian)for(A=0;A<y.cartesian.length;A++){var B=y.cartesian[A];if(B.indexOf(l)===-1&&!C[B]){var F="."+B+",."+B+"-x,."+B+"-y";x._cartesianlayer.selectAll(F).remove(),w(B,x)}}},V.drawFramework=function(c){var a=c._fullLayout,d=c.calcdata,x,T={};for(x=0;x<d.length;x++){var C=d[x][0],y=C.trace,S=y.zorder||0;T[S]||(T[S]=[]),T[S].push(C)}var A=Object.keys(T).map(Number).sort(s.sorterAsc);A.length||(A=[0]),a._zindices=A;var i=f(c),E=i.length,m=[];for(x=0;x<E;x++)m[x]=i[x].slice();for(var k=1;k<A.length;k++){var I=[];for(x=0;x<E;x++)I[x]=i[x].slice(),I[x][0]+=l+(k+1);m=m.concat(I)}var O=a._cartesianlayer.selectAll(".subplot").data(m,String);O.enter().append("g").attr("class",function(_){return"subplot "+_[0]}),O.order(),O.exit().call(h,a),O.each(function(_){var B=_[0],F=B.indexOf(l),z=F!==-1,N=z?B.slice(0,F):B,W=a._plots[B];W||(W=s.extendFlat({},a._plots[N]),W&&(W.id=B,a._plots[B]=W,a._subplots.cartesian.push(B))),W&&(W.plotgroup=b.select(this),g(c,W),z||(W.draglayer=o(a._draggers,"g",B)))})},V.rangePlot=function(c,a,d){g(c,a),u(c,a,d),L.style(c)};function f(c){var a=c._fullLayout,d=a._zindices.length,x=a._subplots.cartesian,T=x.length,C,y,S,A,i,E,m=[],k=[];for(C=0;C<T;C++){S=x[C],A=a._plots[S],i=A.xaxis,E=A.yaxis;var I=i._mainAxis,O=E._mainAxis,_=I._id+O._id,B=a._plots[_];A.overlays=[],_!==S&&B?(A.mainplot=_,A.mainplotinfo=B,k.push(S)):(A.mainplot=void 0,A.mainplotinfo=void 0,m.push(S))}for(C=0;C<k.length;C++)S=k[C],A=a._plots[S],A.mainplotinfo.overlays.push(A);var F=m.concat(k),z=[];for(C=0;C<T;C++){S=F[C],A=a._plots[S],i=A.xaxis,E=A.yaxis;for(var N=[],W=1;W<=d;W++){var Z="";for(W>1&&(Z+=l+W),N.push(S+Z),y=0;y<A.overlays.length;y++)N.push(A.overlays[y].id+Z)}N=N.concat([i.layer,E.layer,i.overlaying||"",E.overlaying||""]),z.push(N)}return z}function g(c,a){var d=a.plotgroup,x=a.id,T=x.indexOf(l),C=T!==-1,y=r.layerValue2layerClass[a.xaxis.layer],S=r.layerValue2layerClass[a.yaxis.layer],A=c._fullLayout._hasOnlyLargeSploms;if(a.mainplot){var m=a.mainplotinfo,k=m.plotgroup,I=x+"-x",O=x+"-y";a.minorGridlayer=m.minorGridlayer,a.gridlayer=m.gridlayer,a.zerolinelayer=m.zerolinelayer,o(m.overlinesBelow,"path",I),o(m.overlinesBelow,"path",O),o(m.overaxesBelow,"g",I),o(m.overaxesBelow,"g",O),a.plot=o(m.overplot,"g",x),o(m.overlinesAbove,"path",I),o(m.overlinesAbove,"path",O),o(m.overaxesAbove,"g",I),o(m.overaxesAbove,"g",O),a.xlines=k.select(".overlines-"+y).select("."+I),a.ylines=k.select(".overlines-"+S).select("."+O),a.xaxislayer=k.select(".overaxes-"+y).select("."+I),a.yaxislayer=k.select(".overaxes-"+S).select("."+O)}else if(A)a.xlines=o(d,"path","xlines-above"),a.ylines=o(d,"path","ylines-above"),a.xaxislayer=o(d,"g","xaxislayer-above"),a.yaxislayer=o(d,"g","yaxislayer-above");else{if(!C){var i=o(d,"g","layer-subplot");a.shapelayer=o(i,"g","shapelayer"),a.imagelayer=o(i,"g","imagelayer"),a.minorGridlayer=o(d,"g","minor-gridlayer"),a.gridlayer=o(d,"g","gridlayer"),a.zerolinelayer=o(d,"g","zerolinelayer");var E=o(d,"g","layer-between");a.shapelayerBetween=o(E,"g","shapelayer"),a.imagelayerBetween=o(E,"g","imagelayer"),o(d,"path","xlines-below"),o(d,"path","ylines-below"),a.overlinesBelow=o(d,"g","overlines-below"),o(d,"g","xaxislayer-below"),o(d,"g","yaxislayer-below"),a.overaxesBelow=o(d,"g","overaxes-below")}a.overplot=o(d,"g","overplot"),a.plot=o(a.overplot,"g",x),C||(a.xlines=o(d,"path","xlines-above"),a.ylines=o(d,"path","ylines-above"),a.overlinesAbove=o(d,"g","overlines-above"),o(d,"g","xaxislayer-above"),o(d,"g","yaxislayer-above"),a.overaxesAbove=o(d,"g","overaxes-above"),a.xlines=d.select(".xlines-"+y),a.ylines=d.select(".ylines-"+S),a.xaxislayer=d.select(".xaxislayer-"+y),a.yaxislayer=d.select(".yaxislayer-"+S))}C||(A||(n(a.minorGridlayer,"g",a.xaxis._id),n(a.minorGridlayer,"g",a.yaxis._id),a.minorGridlayer.selectAll("g").map(function(_){return _[0]}).sort(p.idSort),n(a.gridlayer,"g",a.xaxis._id),n(a.gridlayer,"g",a.yaxis._id),a.gridlayer.selectAll("g").map(function(_){return _[0]}).sort(p.idSort)),a.xlines.style("fill","none").classed("crisp",!0),a.ylines.style("fill","none").classed("crisp",!0))}function h(c,a){if(c){var d={};c.each(function(A){var i=A[0],E=b.select(this);E.remove(),w(i,a),d[i]=!0});for(var x in a._plots)for(var T=a._plots[x],C=T.overlays||[],y=0;y<C.length;y++){var S=C[y];d[S.id]&&S.plot.selectAll(".trace").remove()}}}function w(c,a){a._draggers.selectAll("g."+c).remove(),a._defs.select("#clip"+a._uid+c+"plot").remove()}V.toSVG=function(c){var a=c._fullLayout._glimages,d=b.select(c).selectAll(".svg-container"),x=d.filter(function(C,y){return y===d.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function T(){var C=this,y=C.toDataURL("image/png"),S=a.append("svg:image");S.attr({xmlns:t.svg,"xlink:href":y,preserveAspectRatio:"none",x:0,y:0,width:C.style.width,height:C.style.height})}x.each(T)},V.updateFx=e(42464).updateFx},94724:function(Y,V,e){var b=e(25376),P=e(22548),s=e(98192).u,L=e(92880).extendFlat,M=e(31780).templatedArray,v=e(29736).descriptionWithDates,p=e(39032).ONEDAY,r=e(33816),t=r.HOUR_PATTERN,o=r.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},l=L({},n,{values:n.values.slice().concat(["sync"])});function u(S){return{valType:"integer",min:0,dflt:S?5:0,editType:"ticks"}}var f={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},g={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},h={valType:"data_array",editType:"ticks"},w={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function c(S){var A={valType:"number",min:0,editType:"ticks"};return S||(A.dflt=5),A}function a(S){var A={valType:"number",min:0,editType:"ticks"};return S||(A.dflt=1),A}var d={valType:"color",dflt:P.defaultLine,editType:"ticks"},x={valType:"color",dflt:P.lightLine,editType:"ticks"};function T(S){var A={valType:"number",min:0,editType:"ticks"};return S||(A.dflt=1),A}var C=L({},s,{editType:"ticks"}),y={valType:"boolean",editType:"ticks"};Y.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:P.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:b({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"calc"},rangebreaks:M("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[o,t,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:p},editType:"calc"}),tickmode:l,nticks:u(),tick0:f,dtick:g,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:h,ticktext:{valType:"data_array",editType:"ticks"},ticks:w,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},ticklabelshift:{valType:"integer",dflt:0,editType:"ticks"},ticklabelstandoff:{valType:"integer",dflt:0,editType:"ticks"},ticklabelindex:{valType:"integer",arrayOk:!0,editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:c(),tickwidth:a(),tickcolor:d,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:L({},s,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:b({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:M("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:P.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:y,gridcolor:x,gridwidth:T(),griddash:C,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:P.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:P.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:u("minor"),tick0:f,dtick:g,tickvals:h,ticks:w,ticklen:c("minor"),tickwidth:a("minor"),tickcolor:d,gridcolor:x,gridwidth:T("minor"),griddash:C,showgrid:y,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","geometric mean ascending","geometric mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:b({editType:"ticks"})}}},67352:function(Y,V,e){var b=e(3400),P=e(76308),s=e(10624).isUnifiedHover,L=e(41008),M=e(31780),v=e(64859),p=e(94724),r=e(14944),t=e(28336),o=e(71888),n=e(37668),l=e(79811),u=l.id2name,f=l.name2id,g=e(33816).AX_ID_PATTERN,h=e(24040),w=h.traceIs,c=h.getComponentMethod;function a(d,x,T){Array.isArray(d[x])?d[x].push(T):d[x]=[T]}Y.exports=function(x,T,C){var y=T.autotypenumbers,S={},A={},i={},E={},m={},k={},I={},O={},_={},B={},F,z;for(F=0;F<C.length;F++){var N=C[F];if(!(!w(N,"cartesian")&&!w(N,"gl2d"))){var W;if(N.xaxis)W=u(N.xaxis),a(S,W,N);else if(N.xaxes)for(z=0;z<N.xaxes.length;z++)a(S,u(N.xaxes[z]),N);var Z;if(N.yaxis)Z=u(N.yaxis),a(S,Z,N);else if(N.yaxes)for(z=0;z<N.yaxes.length;z++)a(S,u(N.yaxes[z]),N);if(N.type==="funnel"?N.orientation==="h"?(W&&(A[W]=!0),Z&&(I[Z]=!0)):Z&&(i[Z]=!0):N.type==="image"?(Z&&(O[Z]=!0),W&&(O[W]=!0)):(Z&&(m[Z]=!0,k[Z]=!0),(!w(N,"carpet")||N.type==="carpet"&&!N._cheater)&&W&&(E[W]=!0)),N.type==="carpet"&&N._cheater&&W&&(A[W]=!0),w(N,"2dMap")&&(_[W]=!0,_[Z]=!0),w(N,"oriented")){var q=N.orientation==="h"?Z:W;B[q]=!0}}}var re=T._subplots,le=re.xaxis,ie=re.yaxis,K=b.simpleMap(le,u),$=b.simpleMap(ie,u),X=K.concat($),Q=P.background;le.length&&ie.length&&(Q=b.coerce(x,T,v,"plot_bgcolor"));var se=P.combine(Q,T.paper_bgcolor),J,G,oe,te,fe;function ge(){var he=S[J]||[];fe._traceIndices=he.map(function(ye){return ye._expandedIndex}),fe._annIndices=[],fe._shapeIndices=[],fe._selectionIndices=[],fe._imgIndices=[],fe._subplotsWith=[],fe._counterAxes=[],fe._name=fe._attr=J,fe._id=G}function we(he,ye){return b.coerce(te,fe,p,he,ye)}function xe(he,ye){return b.coerce2(te,fe,p,he,ye)}function Ce(he){return he==="x"?ie:le}function De(he,ye){for(var _e=he==="x"?K:$,We=[],rt=0;rt<_e.length;rt++){var st=_e[rt];st!==ye&&!(x[st]||{}).overlaying&&We.push(f(st))}return We}var Oe={x:Ce("x"),y:Ce("y")},Te=Oe.x.concat(Oe.y),Re={},Me=[];function ke(){var he=te.matches;g.test(he)&&Te.indexOf(he)===-1&&(Re[he]=te.type,Me=Object.keys(Re))}var Se=L(x,T),He=s(Se);for(F=0;F<X.length;F++){J=X[F],G=f(J),oe=J.charAt(0),b.isPlainObject(x[J])||(x[J]={}),te=x[J],fe=M.newContainer(T,J,oe+"axis"),ge();var je=oe==="x"&&!E[J]&&A[J]||oe==="y"&&!m[J]&&i[J],at=oe==="y"&&(!k[J]&&I[J]||O[J]),Ze={hasMinor:!0,letter:oe,font:T.font,outerTicks:_[J],showGrid:!B[J],data:S[J]||[],bgColor:se,calendar:T.calendar,automargin:!0,visibleDflt:je,reverseDflt:at,autotypenumbersDflt:y,splomStash:((T._splomAxes||{})[oe]||{})[G],noAutotickangles:oe==="y"};we("uirevision",T.uirevision),r(te,fe,we,Ze),t(te,fe,we,Ze,T);var $e=He&&oe===Se.charAt(0),ut=xe("spikecolor",He?fe.color:void 0),ht=xe("spikethickness",He?1.5:void 0),vt=xe("spikedash",He?"dot":void 0),xt=xe("spikemode",He?"across":void 0),St=xe("spikesnap"),tt=we("showspikes",!!$e||!!ut||!!ht||!!vt||!!xt||!!St);tt||(delete fe.spikecolor,delete fe.spikethickness,delete fe.spikedash,delete fe.spikemode,delete fe.spikesnap);var Ie=u(te.overlaying),Ve=[0,1];if(T[Ie]!==void 0){var Ge=u(T[Ie].anchor);T[Ge]!==void 0&&(Ve=T[Ge].domain)}n(te,fe,we,{letter:oe,counterAxes:Oe[oe],overlayableAxes:De(oe,J),grid:T.grid,overlayingDomain:Ve}),we("title.standoff"),ke(),fe._input=te}for(F=0;F<Me.length;){G=Me[F++],J=u(G),oe=J.charAt(0),b.isPlainObject(x[J])||(x[J]={}),te=x[J],fe=M.newContainer(T,J,oe+"axis"),ge();var Xe={letter:oe,font:T.font,outerTicks:_[J],showGrid:!B[J],data:[],bgColor:se,calendar:T.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:y,splomStash:((T._splomAxes||{})[oe]||{})[G]};we("uirevision",T.uirevision),fe.type=Re[G]||"linear",t(te,fe,we,Xe,T),n(te,fe,we,{letter:oe,counterAxes:Oe[oe],overlayableAxes:De(oe,J),grid:T.grid}),we("fixedrange"),ke(),fe._input=te}var Le=c("rangeslider","handleDefaults"),Fe=c("rangeselector","handleDefaults");for(F=0;F<K.length;F++)J=K[F],te=x[J],fe=T[J],Le(x,T,J),fe.type==="date"&&Fe(te,fe,T,$,fe.calendar),we("fixedrange");for(F=0;F<$.length;F++){J=$[F],te=x[J],fe=T[J];var Ue=T[u(fe.anchor)],Ee=c("rangeslider","isVisible")(Ue);we("fixedrange",Ee)}o.handleDefaults(x,T,{axIds:Te.concat(Me).sort(l.idSort),axHasImage:O})}},42136:function(Y,V,e){var b=e(49760).mix,P=e(22548),s=e(3400);Y.exports=function(M,v,p,r){r=r||{};var t=r.dfltColor;function o(i,E){return s.coerce2(M,v,r.attributes,i,E)}var n=o("linecolor",t),l=o("linewidth"),u=p("showline",r.showLine||!!n||!!l);u||(delete v.linecolor,delete v.linewidth);var f=b(t,r.bgColor,r.blend||P.lightFraction).toRgbString(),g=o("gridcolor",f),h=o("gridwidth"),w=o("griddash"),c=p("showgrid",r.showGrid||!!g||!!h||!!w);if(c||(delete v.gridcolor,delete v.gridwidth,delete v.griddash),r.hasMinor){var a=b(v.gridcolor,r.bgColor,67).toRgbString(),d=o("minor.gridcolor",a),x=o("minor.gridwidth",v.gridwidth||1),T=o("minor.griddash",v.griddash||"solid"),C=p("minor.showgrid",!!d||!!x||!!T);C||(delete v.minor.gridcolor,delete v.minor.gridwidth,delete v.minor.griddash)}if(!r.noZeroLine){var y=o("zerolinecolor",t),S=o("zerolinewidth"),A=p("zeroline",r.showGrid||!!y||!!S);A||(delete v.zerolinecolor,delete v.zerolinewidth)}}},37668:function(Y,V,e){var b=e(38248),P=e(3400);Y.exports=function(L,M,v,p){var r=p.counterAxes||[],t=p.overlayableAxes||[],o=p.letter,n=p.grid,l=p.overlayingDomain,u,f,g,h,w,c;n&&(f=n._domains[o][n._axisMap[M._id]],u=n._anchors[M._id],f&&(g=n[o+"side"].split(" ")[0],h=n.domain[o][g==="right"||g==="top"?1:0])),f=f||[0,1],u=u||(b(L.position)?"free":r[0]||"free"),g=g||(o==="x"?"bottom":"left"),h=h||0,w=0,c=!1;var a=P.coerce(L,M,{anchor:{valType:"enumerated",values:["free"].concat(r),dflt:u}},"anchor"),d=P.coerce(L,M,{side:{valType:"enumerated",values:o==="x"?["bottom","top"]:["left","right"],dflt:g}},"side");if(a==="free"){if(o==="y"){var x=v("autoshift");x&&(h=d==="left"?l[0]:l[1],c=M.automargin?M.automargin:!0,w=d==="left"?-3:3),v("shift",w)}v("position",h)}v("automargin",c);var T=!1;if(t.length&&(T=P.coerce(L,M,{overlaying:{valType:"enumerated",values:[!1].concat(t),dflt:!1}},"overlaying")),!T){var C=v("domain",f);C[0]>C[1]-.000244140625&&(M.domain=f),P.noneOrAll(L.domain,M.domain,f),M.tickmode==="sync"&&(M.tickmode="auto")}return v("layer"),M}},42568:function(Y,V,e){var b=e(85024);Y.exports=function(s,L,M,v,p){p||(p={});var r=p.tickSuffixDflt,t=b(s),o=M("tickprefix");o&&M("showtickprefix",t);var n=M("ticksuffix",r);n&&M("showticksuffix",t)}},96312:function(Y,V,e){var b=e(76808);Y.exports=function(s,L,M,v){var p=L._template||{},r=L.type||p.type||"-";M("minallowed"),M("maxallowed");var t=M("range");if(!t){var o;!v.noInsiderange&&r!=="log"&&(o=M("insiderange"),o&&(o[0]===null||o[1]===null)&&(L.insiderange=!1,o=void 0),o&&(t=M("range",o)))}var n=L.getAutorangeDflt(t,v),l=M("autorange",n),u;t&&(t[0]===null&&t[1]===null||(t[0]===null||t[1]===null)&&(l==="reversed"||l===!0)||t[0]!==null&&(l==="min"||l==="max reversed")||t[1]!==null&&(l==="max"||l==="min reversed"))&&(t=void 0,delete L.range,L.autorange=!0,u=!0),u||(n=L.getAutorangeDflt(t,v),l=M("autorange",n)),l&&(b(M,l,t),(r==="linear"||r==="-")&&M("rangemode")),L.cleanRange()}},21160:function(Y,V,e){var b=e(84284).FROM_BL;Y.exports=function(s,L,M){M===void 0&&(M=b[s.constraintoward||"center"]);var v=[s.r2l(s.range[0]),s.r2l(s.range[1])],p=v[0]+(v[1]-v[0])*M;s.range=s._input.range=[s.l2r(p+(v[0]-p)*L),s.l2r(p+(v[1]-p)*L)],s.setScale()}},78344:function(Y,V,e){var b=e(33428),P=e(94336).E9,s=e(3400),L=s.numberFormat,M=e(38248),v=s.cleanNumber,p=s.ms2DateTime,r=s.dateTime2ms,t=s.ensureNumber,o=s.isArrayOrTypedArray,n=e(39032),l=n.FP_SAFE,u=n.BADNUM,f=n.LOG_CLIP,g=n.ONEWEEK,h=n.ONEDAY,w=n.ONEHOUR,c=n.ONEMIN,a=n.ONESEC,d=e(79811),x=e(33816),T=x.HOUR_PATTERN,C=x.WEEKDAY_PATTERN;function y(A){return Math.pow(10,A)}function S(A){return A!=null}Y.exports=function(i,E){E=E||{};var m=i._id||"x",k=m.charAt(0);function I(X,Q){if(X>0)return Math.log(X)/Math.LN10;if(X<=0&&Q&&i.range&&i.range.length===2){var se=i.range[0],J=i.range[1];return .5*(se+J-2*f*Math.abs(se-J))}else return u}function O(X,Q,se,J){if((J||{}).msUTC&&M(X))return+X;var G=r(X,se||i.calendar);if(G===u)if(M(X)){X=+X;var oe=Math.floor(s.mod(X+.05,1)*10),te=Math.round(X-oe/10);G=r(new Date(te))+oe/10}else return u;return G}function _(X,Q,se){return p(X,Q,se||i.calendar)}function B(X){return i._categories[Math.round(X)]}function F(X){if(S(X)){if(i._categoriesMap===void 0&&(i._categoriesMap={}),i._categoriesMap[X]!==void 0)return i._categoriesMap[X];i._categories.push(typeof X=="number"?String(X):X);var Q=i._categories.length-1;return i._categoriesMap[X]=Q,Q}return u}function z(X,Q){for(var se=new Array(Q),J=0;J<Q;J++){var G=(X[0]||[])[J],oe=(X[1]||[])[J];se[J]=N([G,oe])}return se}function N(X){if(i._categoriesMap)return i._categoriesMap[X]}function W(X){var Q=N(X);if(Q!==void 0)return Q;if(M(X))return+X}function Z(X){return M(X)?+X:N(X)}function q(X,Q,se){return b.round(se+Q*X,2)}function re(X,Q,se){return(X-se)/Q}var le=function(Q){return M(Q)?q(Q,i._m,i._b):u},ie=function(X){return re(X,i._m,i._b)};if(i.rangebreaks){var K=k==="y";le=function(X){if(!M(X))return u;var Q=i._rangebreaks.length;if(!Q)return q(X,i._m,i._b);var se=K;i.range[0]>i.range[1]&&(se=!se);for(var J=se?-1:1,G=J*X,oe=0,te=0;te<Q;te++){var fe=J*i._rangebreaks[te].min,ge=J*i._rangebreaks[te].max;if(G<fe)break;if(G>ge)oe=te+1;else{oe=G<(fe+ge)/2?te:te+1;break}}var we=i._B[oe]||0;return isFinite(we)?q(X,i._m2,we):0},ie=function(X){var Q=i._rangebreaks.length;if(!Q)return re(X,i._m,i._b);for(var se=0,J=0;J<Q&&!(X<i._rangebreaks[J].pmin);J++)X>i._rangebreaks[J].pmax&&(se=J+1);return re(X,i._m2,i._B[se])}}i.c2l=i.type==="log"?I:t,i.l2c=i.type==="log"?y:t,i.l2p=le,i.p2l=ie,i.c2p=i.type==="log"?function(X,Q){return le(I(X,Q))}:le,i.p2c=i.type==="log"?function(X){return y(ie(X))}:ie,["linear","-"].indexOf(i.type)!==-1?(i.d2r=i.r2d=i.d2c=i.r2c=i.d2l=i.r2l=v,i.c2d=i.c2r=i.l2d=i.l2r=t,i.d2p=i.r2p=function(X){return i.l2p(v(X))},i.p2d=i.p2r=ie,i.cleanPos=t):i.type==="log"?(i.d2r=i.d2l=function(X,Q){return I(v(X),Q)},i.r2d=i.r2c=function(X){return y(v(X))},i.d2c=i.r2l=v,i.c2d=i.l2r=t,i.c2r=I,i.l2d=y,i.d2p=function(X,Q){return i.l2p(i.d2r(X,Q))},i.p2d=function(X){return y(ie(X))},i.r2p=function(X){return i.l2p(v(X))},i.p2r=ie,i.cleanPos=t):i.type==="date"?(i.d2r=i.r2d=s.identity,i.d2c=i.r2c=i.d2l=i.r2l=O,i.c2d=i.c2r=i.l2d=i.l2r=_,i.d2p=i.r2p=function(X,Q,se){return i.l2p(O(X,0,se))},i.p2d=i.p2r=function(X,Q,se){return _(ie(X),Q,se)},i.cleanPos=function(X){return s.cleanDate(X,u,i.calendar)}):i.type==="category"?(i.d2c=i.d2l=F,i.r2d=i.c2d=i.l2d=B,i.d2r=i.d2l_noadd=W,i.r2c=function(X){var Q=Z(X);return Q!==void 0?Q:i.fraction2r(.5)},i.l2r=i.c2r=t,i.r2l=Z,i.d2p=function(X){return i.l2p(i.r2c(X))},i.p2d=function(X){return B(ie(X))},i.r2p=i.d2p,i.p2r=ie,i.cleanPos=function(X){return typeof X=="string"&&X!==""?X:t(X)}):i.type==="multicategory"&&(i.r2d=i.c2d=i.l2d=B,i.d2r=i.d2l_noadd=W,i.r2c=function(X){var Q=W(X);return Q!==void 0?Q:i.fraction2r(.5)},i.r2c_just_indices=N,i.l2r=i.c2r=t,i.r2l=W,i.d2p=function(X){return i.l2p(i.r2c(X))},i.p2d=function(X){return B(ie(X))},i.r2p=i.d2p,i.p2r=ie,i.cleanPos=function(X){return Array.isArray(X)||typeof X=="string"&&X!==""?X:t(X)},i.setupMultiCategory=function(X){var Q=i._traceIndices,se,J,G=i._matchGroup;if(G&&i._categories.length===0){for(var oe in G)if(oe!==m){var te=E[d.id2name(oe)];Q=Q.concat(te._traceIndices)}}var fe=[[0,{}],[0,{}]],ge=[];for(se=0;se<Q.length;se++){var we=X[Q[se]];if(k in we){var xe=we[k],Ce=we._length||s.minRowLength(xe);if(o(xe[0])&&o(xe[1]))for(J=0;J<Ce;J++){var De=xe[0][J],Oe=xe[1][J];S(De)&&S(Oe)&&(ge.push([De,Oe]),De in fe[0][1]||(fe[0][1][De]=fe[0][0]++),Oe in fe[1][1]||(fe[1][1][Oe]=fe[1][0]++))}}}for(ge.sort(function(Te,Re){var Me=fe[0][1],ke=Me[Te[0]]-Me[Re[0]];if(ke)return ke;var Se=fe[1][1];return Se[Te[1]]-Se[Re[1]]}),se=0;se<ge.length;se++)F(ge[se])}),i.fraction2r=function(X){var Q=i.r2l(i.range[0]),se=i.r2l(i.range[1]);return i.l2r(Q+X*(se-Q))},i.r2fraction=function(X){var Q=i.r2l(i.range[0]),se=i.r2l(i.range[1]);return(i.r2l(X)-Q)/(se-Q)},i.limitRange=function(X){var Q=i.minallowed,se=i.maxallowed;if(!(Q===void 0&&se===void 0)){X||(X="range");var J=s.nestedProperty(i,X).get(),G=s.simpleMap(J,i.r2l),oe=G[1]<G[0];oe&&G.reverse();var te=s.simpleMap([Q,se],i.r2l);if(Q!==void 0&&G[0]<te[0]&&(J[oe?1:0]=Q),se!==void 0&&G[1]>te[1]&&(J[oe?0:1]=se),J[0]===J[1]){var fe=i.l2r(Q),ge=i.l2r(se);if(Q!==void 0){var we=fe+1;se!==void 0&&(we=Math.min(we,ge)),J[oe?1:0]=we}if(se!==void 0){var xe=ge+1;Q!==void 0&&(xe=Math.max(xe,fe)),J[oe?0:1]=xe}}}},i.cleanRange=function(X,Q){i._cleanRange(X,Q),i.limitRange(X)},i._cleanRange=function(X,Q){Q||(Q={}),X||(X="range");var se=s.nestedProperty(i,X).get(),J,G;if(i.type==="date"?G=s.dfltRange(i.calendar):k==="y"?G=x.DFLTRANGEY:i._name==="realaxis"?G=[0,1]:G=Q.dfltRange||x.DFLTRANGEX,G=G.slice(),(i.rangemode==="tozero"||i.rangemode==="nonnegative")&&(G[0]=0),!se||se.length!==2){s.nestedProperty(i,X).set(G);return}var oe=se[0]===null,te=se[1]===null;for(i.type==="date"&&!i.autorange&&(se[0]=s.cleanDate(se[0],u,i.calendar),se[1]=s.cleanDate(se[1],u,i.calendar)),J=0;J<2;J++)if(i.type==="date"){if(!s.isDateTime(se[J],i.calendar)){i[X]=G;break}if(i.r2l(se[0])===i.r2l(se[1])){var fe=s.constrain(i.r2l(se[0]),s.MIN_MS+1e3,s.MAX_MS-1e3);se[0]=i.l2r(fe-1e3),se[1]=i.l2r(fe+1e3);break}}else{if(!M(se[J]))if(!(oe||te)&&M(se[1-J]))se[J]=se[1-J]*(J?10:.1);else{i[X]=G;break}if(se[J]<-l?se[J]=-l:se[J]>l&&(se[J]=l),se[0]===se[1]){var ge=Math.max(1,Math.abs(se[0]*1e-6));se[0]-=ge,se[1]+=ge}}},i.setScale=function(X){var Q=E._size;if(i.overlaying){var se=d.getFromId({_fullLayout:E},i.overlaying);i.domain=se.domain}var J=X&&i._r?"_r":"range",G=i.calendar;i.cleanRange(J);var oe=i.r2l(i[J][0],G),te=i.r2l(i[J][1],G),fe=k==="y";if(fe?(i._offset=Q.t+(1-i.domain[1])*Q.h,i._length=Q.h*(i.domain[1]-i.domain[0]),i._m=i._length/(oe-te),i._b=-i._m*te):(i._offset=Q.l+i.domain[0]*Q.w,i._length=Q.w*(i.domain[1]-i.domain[0]),i._m=i._length/(te-oe),i._b=-i._m*oe),i._rangebreaks=[],i._lBreaks=0,i._m2=0,i._B=[],i.rangebreaks){var ge,we;if(i._rangebreaks=i.locateBreaks(Math.min(oe,te),Math.max(oe,te)),i._rangebreaks.length){for(ge=0;ge<i._rangebreaks.length;ge++)we=i._rangebreaks[ge],i._lBreaks+=Math.abs(we.max-we.min);var xe=fe;oe>te&&(xe=!xe),xe&&i._rangebreaks.reverse();var Ce=xe?-1:1;for(i._m2=Ce*i._length/(Math.abs(te-oe)-i._lBreaks),i._B.push(-i._m2*(fe?te:oe)),ge=0;ge<i._rangebreaks.length;ge++)we=i._rangebreaks[ge],i._B.push(i._B[i._B.length-1]-Ce*i._m2*(we.max-we.min));for(ge=0;ge<i._rangebreaks.length;ge++)we=i._rangebreaks[ge],we.pmin=le(we.min),we.pmax=le(we.max)}}if(!isFinite(i._m)||!isFinite(i._b)||i._length<0)throw E._replotting=!1,new Error("Something went wrong with axis scaling")},i.maskBreaks=function(X){var Q=i.rangebreaks||[],se,J,G,oe,te;Q._cachedPatterns||(Q._cachedPatterns=Q.map(function(Me){return Me.enabled&&Me.bounds?s.simpleMap(Me.bounds,Me.pattern?v:i.d2c):null})),Q._cachedValues||(Q._cachedValues=Q.map(function(Me){return Me.enabled&&Me.values?s.simpleMap(Me.values,i.d2c).sort(s.sorterAsc):null}));for(var fe=0;fe<Q.length;fe++){var ge=Q[fe];if(ge.enabled){if(ge.bounds){var we=ge.pattern;switch(se=Q._cachedPatterns[fe],J=se[0],G=se[1],we){case C:te=new Date(X),oe=te.getUTCDay(),J>G&&(G+=7,oe<J&&(oe+=7));break;case T:te=new Date(X);var xe=te.getUTCHours(),Ce=te.getUTCMinutes(),De=te.getUTCSeconds(),Oe=te.getUTCMilliseconds();oe=xe+(Ce/60+De/3600+Oe/36e5),J>G&&(G+=24,oe<J&&(oe+=24));break;case"":oe=X;break}if(oe>=J&&oe<G)return u}else for(var Te=Q._cachedValues[fe],Re=0;Re<Te.length;Re++)if(J=Te[Re],G=J+ge.dvalue,X>=J&&X<G)return u}}return X},i.locateBreaks=function(X,Q){var se,J,G,oe,te=[];if(!i.rangebreaks)return te;var fe=i.rangebreaks.slice().sort(function(Se,He){return Se.pattern===C&&He.pattern===T?-1:He.pattern===C&&Se.pattern===T?1:0}),ge=function(Se,He){if(Se=s.constrain(Se,X,Q),He=s.constrain(He,X,Q),Se!==He){for(var je=!0,at=0;at<te.length;at++){var Ze=te[at];Se<Ze.max&&He>=Ze.min&&(Se<Ze.min&&(Ze.min=Se),He>Ze.max&&(Ze.max=He),je=!1)}je&&te.push({min:Se,max:He})}};for(se=0;se<fe.length;se++){var we=fe[se];if(we.enabled)if(we.bounds){var xe=X,Ce=Q;we.pattern&&(xe=Math.floor(xe)),J=s.simpleMap(we.bounds,we.pattern?v:i.r2l),G=J[0],oe=J[1];var De=new Date(xe),Oe,Te;switch(we.pattern){case C:Te=g,Oe=((oe<G?7:0)+(oe-G))*h,xe+=G*h-(De.getUTCDay()*h+De.getUTCHours()*w+De.getUTCMinutes()*c+De.getUTCSeconds()*a+De.getUTCMilliseconds());break;case T:Te=h,Oe=((oe<G?24:0)+(oe-G))*w,xe+=G*w-(De.getUTCHours()*w+De.getUTCMinutes()*c+De.getUTCSeconds()*a+De.getUTCMilliseconds());break;default:xe=Math.min(J[0],J[1]),Ce=Math.max(J[0],J[1]),Te=Ce-xe,Oe=Te}for(var Re=xe;Re<Ce;Re+=Te)ge(Re,Re+Oe)}else for(var Me=s.simpleMap(we.values,i.d2c),ke=0;ke<Me.length;ke++)G=Me[ke],oe=G+we.dvalue,ge(G,oe)}return te.sort(function(Se,He){return Se.min-He.min}),te},i.makeCalcdata=function(X,Q,se){var J,G,oe,te,fe=i.type,ge=fe==="date"&&X[Q+"calendar"];if(Q in X){if(J=X[Q],te=X._length||s.minRowLength(J),s.isTypedArray(J)&&(fe==="linear"||fe==="log")){if(te===J.length)return J;if(J.subarray)return J.subarray(0,te)}if(fe==="multicategory")return z(J,te);for(G=new Array(te),oe=0;oe<te;oe++)G[oe]=i.d2c(J[oe],0,ge,se)}else{var we=Q+"0"in X?i.d2c(X[Q+"0"],0,ge):0,xe=X["d"+Q]?Number(X["d"+Q]):1;for(J=X[{x:"y",y:"x"}[Q]],te=X._length||J.length,G=new Array(te),oe=0;oe<te;oe++)G[oe]=we+oe*xe}if(i.rangebreaks)for(oe=0;oe<te;oe++)G[oe]=i.maskBreaks(G[oe]);return G},i.isValidRange=function(X,Q){return Array.isArray(X)&&X.length===2&&(Q&&X[0]===null||M(i.r2l(X[0])))&&(Q&&X[1]===null||M(i.r2l(X[1])))},i.getAutorangeDflt=function(X,Q){var se=!i.isValidRange(X,"nullOk");return se&&Q&&Q.reverseDflt?se="reversed":X&&(X[0]===null&&X[1]===null?se=!0:X[0]===null&&X[1]!==null?se="min":X[0]!==null&&X[1]===null&&(se="max")),se},i.isReversed=function(){var X=i.autorange;return X==="reversed"||X==="min reversed"||X==="max reversed"},i.isPtWithinRange=function(X,Q){var se=i.c2l(X[k],null,Q),J=i.r2l(i.range[0]),G=i.r2l(i.range[1]);return J<G?J<=se&&se<=G:G<=se&&se<=J},i._emptyCategories=function(){i._categories=[],i._categoriesMap={}},i.clearCalc=function(){var X=i._matchGroup;if(X){var Q=null,se=null;for(var J in X){var G=E[d.id2name(J)];if(G._categories){Q=G._categories,se=G._categoriesMap;break}}Q&&se?(i._categories=Q,i._categoriesMap=se):i._emptyCategories()}else i._emptyCategories();if(i._initialCategories)for(var oe=0;oe<i._initialCategories.length;oe++)F(i._initialCategories[oe])},i.sortByInitialCategories=function(){var X=[];if(i._emptyCategories(),i._initialCategories)for(var Q=0;Q<i._initialCategories.length;Q++)F(i._initialCategories[Q]);X=X.concat(i._traceIndices);var se=i._matchGroup;for(var J in se)if(m!==J){var G=E[d.id2name(J)];G._categories=i._categories,G._categoriesMap=i._categoriesMap,X=X.concat(G._traceIndices)}return X};var $=E._d3locale;i.type==="date"&&(i._dateFormat=$?$.timeFormat:P,i._extraFormat=E._extraFormat),i._separators=E.separators,i._numFormat=$?$.numberFormat:L,delete i._minDtick,delete i._forceTick0}},85024:function(Y){Y.exports=function(e){var b=["showexponent","showtickprefix","showticksuffix"],P=b.filter(function(L){return e[L]!==void 0}),s=function(L){return e[L]===e[P[0]]};if(P.every(s)||P.length===1)return e[P[0]]}},95936:function(Y,V,e){var b=e(3400),P=e(76308).contrast,s=e(94724),L=e(85024),M=e(51272);Y.exports=function(r,t,o,n,l){l||(l={});var u=o("labelalias");b.isPlainObject(u)||delete t.labelalias;var f=L(r),g=o("showticklabels");if(g){l.noTicklabelshift||o("ticklabelshift"),l.noTicklabelstandoff||o("ticklabelstandoff");var h=l.font||{},w=t.color,c=t.ticklabelposition||"",a=c.indexOf("inside")!==-1?P(l.bgColor):w&&w!==s.color.dflt?w:h.color;if(b.coerceFont(o,"tickfont",h,{overrideDflt:{color:a}}),!l.noTicklabelstep&&n!=="multicategory"&&n!=="log"&&o("ticklabelstep"),!l.noAng){var d=o("tickangle");!l.noAutotickangles&&d==="auto"&&o("autotickangles")}if(n!=="category"){var x=o("tickformat");M(r,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),t.tickformatstops.length||delete t.tickformatstops,!l.noExp&&!x&&n!=="date"&&(o("showexponent",f),o("exponentformat"),o("minexponent"),o("separatethousands"))}}};function v(p,r){function t(n,l){return b.coerce(p,r,s.tickformatstops,n,l)}var o=t("enabled");o&&(t("dtickrange"),t("value"))}},25404:function(Y,V,e){var b=e(3400),P=e(94724);Y.exports=function(L,M,v,p){var r=p.isMinor,t=r?L.minor||{}:L,o=r?M.minor:M,n=r?P.minor:P,l=r?"minor.":"",u=b.coerce2(t,o,n,"ticklen",r?(M.ticklen||5)*.6:void 0),f=b.coerce2(t,o,n,"tickwidth",r?M.tickwidth||1:void 0),g=b.coerce2(t,o,n,"tickcolor",(r?M.tickcolor:void 0)||o.color),h=v(l+"ticks",!r&&p.outerTicks||u||f||g?"outside":"");h||(delete o.ticklen,delete o.tickwidth,delete o.tickcolor)}},26332:function(Y,V,e){var b=e(98728),P=e(3400).isArrayOrTypedArray,s=e(38116).isTypedArraySpec,L=e(38116).decodeTypedArraySpec;Y.exports=function(v,p,r,t,o){o||(o={});var n=o.isMinor,l=n?v.minor||{}:v,u=n?p.minor:p,f=n?"minor.":"";function g(C){var y=l[C];return s(y)&&(y=L(y)),y!==void 0?y:(u._template||{})[C]}var h=g("tick0"),w=g("dtick"),c=g("tickvals"),a=P(c)?"array":w?"linear":"auto",d=r(f+"tickmode",a);if(d==="auto"||d==="sync")r(f+"nticks");else if(d==="linear"){var x=u.dtick=b.dtick(w,t);u.tick0=b.tick0(h,t,p.calendar,x)}else if(t!=="multicategory"){var T=r(f+"tickvals");T===void 0?u.tickmode="auto":n||r("ticktext")}}},73736:function(Y,V,e){var b=e(33428),P=e(24040),s=e(3400),L=e(43616),M=e(54460);Y.exports=function(p,r,t,o){var n=p._fullLayout;if(r.length===0){M.redrawComponents(p);return}function l(T){var C=T.xaxis,y=T.yaxis;n._defs.select("#"+T.clipId+"> rect").call(L.setTranslate,0,0).call(L.setScale,1,1),T.plot.call(L.setTranslate,C._offset,y._offset).call(L.setScale,1,1);var S=T.plot.selectAll(".scatterlayer .trace");S.selectAll(".point").call(L.setPointGroupScale,1,1),S.selectAll(".textpoint").call(L.setTextPointsScale,1,1),S.call(L.hideOutsideRangePoints,T)}function u(T,C){var y=T.plotinfo,S=y.xaxis,A=y.yaxis,i=S._length,E=A._length,m=!!T.xr1,k=!!T.yr1,I=[];if(m){var O=s.simpleMap(T.xr0,S.r2l),_=s.simpleMap(T.xr1,S.r2l),B=O[1]-O[0],F=_[1]-_[0];I[0]=(O[0]*(1-C)+C*_[0]-O[0])/(O[1]-O[0])*i,I[2]=i*(1-C+C*F/B),S.range[0]=S.l2r(O[0]*(1-C)+C*_[0]),S.range[1]=S.l2r(O[1]*(1-C)+C*_[1])}else I[0]=0,I[2]=i;if(k){var z=s.simpleMap(T.yr0,A.r2l),N=s.simpleMap(T.yr1,A.r2l),W=z[1]-z[0],Z=N[1]-N[0];I[1]=(z[1]*(1-C)+C*N[1]-z[1])/(z[0]-z[1])*E,I[3]=E*(1-C+C*Z/W),A.range[0]=S.l2r(z[0]*(1-C)+C*N[0]),A.range[1]=A.l2r(z[1]*(1-C)+C*N[1])}else I[1]=0,I[3]=E;M.drawOne(p,S,{skipTitle:!0}),M.drawOne(p,A,{skipTitle:!0}),M.redrawComponents(p,[S._id,A._id]);var q=m?i/I[2]:1,re=k?E/I[3]:1,le=m?I[0]:0,ie=k?I[1]:0,K=m?I[0]/I[2]*i:0,$=k?I[1]/I[3]*E:0,X=S._offset-K,Q=A._offset-$;y.clipRect.call(L.setTranslate,le,ie).call(L.setScale,1/q,1/re),y.plot.call(L.setTranslate,X,Q).call(L.setScale,q,re),L.setPointGroupScale(y.zoomScalePts,1/q,1/re),L.setTextPointsScale(y.zoomScaleTxt,1/q,1/re)}var f;o&&(f=o());function g(){for(var T={},C=0;C<r.length;C++){var y=r[C],S=y.plotinfo.xaxis,A=y.plotinfo.yaxis;y.xr1&&(T[S._name+".range"]=y.xr1.slice()),y.yr1&&(T[A._name+".range"]=y.yr1.slice())}return f&&f(),P.call("relayout",p,T).then(function(){for(var i=0;i<r.length;i++)l(r[i].plotinfo)})}function h(){for(var T={},C=0;C<r.length;C++){var y=r[C],S=y.plotinfo.xaxis,A=y.plotinfo.yaxis;y.xr0&&(T[S._name+".range"]=y.xr0.slice()),y.yr0&&(T[A._name+".range"]=y.yr0.slice())}return P.call("relayout",p,T).then(function(){for(var i=0;i<r.length;i++)l(r[i].plotinfo)})}var w,c,a,d=b.ease(t.easing);p._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(a),a=null,h()});function x(){c=Date.now();for(var T=Math.min(1,(c-w)/t.duration),C=d(T),y=0;y<r.length;y++)u(r[y],C);c-w>t.duration?(g(),a=window.cancelAnimationFrame(x)):a=window.requestAnimationFrame(x)}return w=Date.now(),a=window.requestAnimationFrame(x),Promise.resolve()}},14944:function(Y,V,e){var b=e(24040).traceIs,P=e(52976);Y.exports=function(r,t,o,n){o("autotypenumbers",n.autotypenumbersDflt);var l=o("type",(n.splomStash||{}).type);l==="-"&&(s(t,n.data),t.type==="-"?t.type="linear":r.type=t.type)};function s(p,r){if(p.type==="-"){var t=p._id,o=t.charAt(0),n;t.indexOf("scene")!==-1&&(t=o);var l=L(r,t,o);if(l){if(l.type==="histogram"&&o==={v:"y",h:"x"}[l.orientation||"v"]){p.type="linear";return}var u=o+"calendar",f=l[u],g={noMultiCategory:!b(l,"cartesian")||b(l,"noMultiCategory")};if(l.type==="box"&&l._hasPreCompStats&&o==={h:"x",v:"y"}[l.orientation||"v"]&&(g.noMultiCategory=!0),g.autotypenumbers=p.autotypenumbers,v(l,o)){var h=M(l),w=[];for(n=0;n<r.length;n++){var c=r[n];!b(c,"box-violin")||(c[o+"axis"]||o)!==t||(c[h]!==void 0?w.push(c[h][0]):c.name!==void 0?w.push(c.name):w.push("text"),c[u]!==f&&(f=void 0))}p.type=P(w,f,g)}else if(l.type==="splom"){var a=l.dimensions,d=a[l._axesDim[t]];d.visible&&(p.type=P(d.values,f,g))}else p.type=P(l[o]||[l[o+"0"]],f,g)}}}function L(p,r,t){for(var o=0;o<p.length;o++){var n=p[o];if(n.type==="splom"&&n._length>0&&(n["_"+t+"axes"]||{})[r])return n;if((n[t+"axis"]||t)===r){if(v(n,t))return n;if((n[t]||[]).length||n[t+"0"])return n}}}function M(p){return{v:"x",h:"y"}[p.orientation||"v"]}function v(p,r){var t=M(p),o=b(p,"box-violin"),n=b(p._fullInput||{},"candlestick");return o&&!n&&r===t&&p[t]===void 0&&p[t+"0"]===void 0}},62460:function(Y,V,e){var b=e(24040),P=e(3400);V.manageCommandObserver=function(r,t,o,n){var l={},u=!0;t&&t._commandObserver&&(l=t._commandObserver),l.cache||(l.cache={}),l.lookupTable={};var f=V.hasSimpleAPICommandBindings(r,o,l.lookupTable);if(t&&t._commandObserver){if(f)return l;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,l}if(f){s(r,f,l.cache),l.check=function(){if(u){var c=s(r,f,l.cache);return c.changed&&n&&l.lookupTable[c.value]!==void 0&&(l.disable(),Promise.resolve(n({value:c.value,type:f.type,prop:f.prop,traces:f.traces,index:l.lookupTable[c.value]})).then(l.enable,l.enable)),c.changed}};for(var g=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],h=0;h<g.length;h++)r._internalOn(g[h],l.check);l.remove=function(){for(var w=0;w<g.length;w++)r._removeInternalListener(g[w],l.check)}}else P.log("Unable to automatically bind plot updates to API command"),l.lookupTable={},l.remove=function(){};return l.disable=function(){u=!1},l.enable=function(){u=!0},t&&(t._commandObserver=l),l},V.hasSimpleAPICommandBindings=function(r,t,o){var n,l=t.length,u;for(n=0;n<l;n++){var f,g=t[n],h=g.method,w=g.args;if(Array.isArray(w)||(w=[]),!h)return!1;var c=V.computeAPICommandBindings(r,h,w);if(c.length!==1)return!1;if(!u)u=c[0],Array.isArray(u.traces)&&u.traces.sort();else{if(f=c[0],f.type!==u.type||f.prop!==u.prop)return!1;if(Array.isArray(u.traces))if(Array.isArray(f.traces)){f.traces.sort();for(var a=0;a<u.traces.length;a++)if(u.traces[a]!==f.traces[a])return!1}else return!1;else if(f.prop!==u.prop)return!1}f=c[0];var d=f.value;if(Array.isArray(d))if(d.length===1)d=d[0];else return!1;o&&(o[d]=n)}return u};function s(r,t,o){var n,l,u,f=!1;if(t.type==="data")n=r._fullData[t.traces!==null?t.traces[0]:0];else if(t.type==="layout")n=r._fullLayout;else return!1;return l=P.nestedProperty(n,t.prop).get(),u=o[t.type]=o[t.type]||{},u.hasOwnProperty(t.prop)&&u[t.prop]!==l&&(f=!0),u[t.prop]=l,{changed:f,value:l}}V.executeAPICommand=function(r,t,o){if(t==="skip")return Promise.resolve();var n=b.apiMethodRegistry[t],l=[r];Array.isArray(o)||(o=[]);for(var u=0;u<o.length;u++)l.push(o[u]);return n.apply(null,l).catch(function(f){return P.warn("API call to Plotly."+t+" rejected.",f),Promise.reject(f)})},V.computeAPICommandBindings=function(r,t,o){var n;switch(Array.isArray(o)||(o=[]),t){case"restyle":n=v(r,o);break;case"relayout":n=M(r,o);break;case"update":n=v(r,[o[0],o[2]]).concat(M(r,[o[1]]));break;case"animate":n=L(r,o);break;default:n=[]}return n};function L(r,t){return Array.isArray(t[0])&&t[0].length===1&&["string","number"].indexOf(typeof t[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function M(r,t){var o=[],n=t[0],l={};if(typeof n=="string")l[n]=t[1];else if(P.isPlainObject(n))l=n;else return o;return p(l,function(u,f,g){o.push({type:"layout",prop:u,value:g})},"",0),o}function v(r,t){var o,n,l,u,f=[];if(n=t[0],l=t[1],o=t[2],u={},typeof n=="string")u[n]=l;else if(P.isPlainObject(n))u=n,o===void 0&&(o=l);else return f;return o===void 0&&(o=null),p(u,function(g,h,w){var c,a;if(Array.isArray(w)){a=w.slice();var d=Math.min(a.length,r.data.length);o&&(d=Math.min(d,o.length)),c=[];for(var x=0;x<d;x++)c[x]=o?o[x]:x}else a=w,c=o?o.slice():null;if(c===null)Array.isArray(a)&&(a=a[0]);else if(Array.isArray(c)){if(!Array.isArray(a)){var T=a;a=[];for(var C=0;C<c.length;C++)a[C]=T}a.length=Math.min(c.length,a.length)}f.push({type:"data",prop:g,traces:c,value:a})},"",0),f}function p(r,t,o,n){Object.keys(r).forEach(function(l){var u=r[l];if(l[0]!=="_"){var f=o+(n>0?".":"")+l;P.isPlainObject(u)?p(u,t,f,n+1):t(f,l,u)}})}},86968:function(Y,V,e){var b=e(92880).extendFlat;V.u=function(P,s){P=P||{},s=s||{};var L={valType:"info_array",editType:P.editType,items:[{valType:"number",min:0,max:1,editType:P.editType},{valType:"number",min:0,max:1,editType:P.editType}],dflt:[0,1]};P.name&&P.name+"",P.trace,s.description&&""+s.description;var M={x:b({},L,{}),y:b({},L,{}),editType:P.editType};return P.noGridCell||(M.row={valType:"integer",min:0,dflt:0,editType:P.editType},M.column={valType:"integer",min:0,dflt:0,editType:P.editType}),M},V.Q=function(P,s,L,M){var v=M&&M.x||[0,1],p=M&&M.y||[0,1],r=s.grid;if(r){var t=L("domain.column");t!==void 0&&(t<r.columns?v=r._domains.x[t]:delete P.domain.column);var o=L("domain.row");o!==void 0&&(o<r.rows?p=r._domains.y[o]:delete P.domain.row)}var n=L("domain.x",v),l=L("domain.y",p);n[0]<n[1]||(P.domain.x=v.slice()),l[0]<l[1]||(P.domain.y=p.slice())}},25376:function(Y){Y.exports=function(V){var e=V.variantValues,b=V.editType,P=V.colorEditType;P===void 0&&(P=b);var s={editType:b,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};V.noNumericWeightValues&&(s.valType="enumerated",s.values=s.extras,s.extras=void 0,s.min=void 0,s.max=void 0);var L={family:{valType:"string",noBlank:!0,strict:!0,editType:b},size:{valType:"number",min:1,editType:b},color:{valType:"color",editType:P},weight:s,style:{editType:b,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:V.noFontVariant?void 0:{editType:b,valType:"enumerated",values:e||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:V.noFontTextcase?void 0:{editType:b,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:V.noFontLineposition?void 0:{editType:b,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:V.noFontShadow?void 0:{editType:b,valType:"string",dflt:V.autoShadowDflt?"auto":"none"},editType:b};return V.autoSize&&(L.size.dflt="auto"),V.autoColor&&(L.color.dflt="auto"),V.arrayOk&&(L.family.arrayOk=!0,L.weight.arrayOk=!0,L.style.arrayOk=!0,V.noFontVariant||(L.variant.arrayOk=!0),V.noFontTextcase||(L.textcase.arrayOk=!0),V.noFontLineposition||(L.lineposition.arrayOk=!0),V.noFontShadow||(L.shadow.arrayOk=!0),L.size.arrayOk=!0,L.color.arrayOk=!0),L}},16672:function(Y){Y.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},79552:function(Y,V){V.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},V.axesNames=["lonaxis","lataxis"],V.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},V.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},V.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},V.clipPad=.001,V.precision=.1,V.landColor="#F0DC82",V.waterColor="#3399FF",V.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},V.sphereSVG={type:"Sphere"},V.fillLayers={ocean:1,land:1,lakes:1},V.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},V.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],V.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],V.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},43520:function(Y,V,e){var b=e(33428),P=e(83356),s=P.geoPath,L=P.geoDistance,M=e(87108),v=e(24040),p=e(3400),r=p.strTranslate,t=e(76308),o=e(43616),n=e(93024),l=e(7316),u=e(54460),f=e(19280).getAutoRange,g=e(86476),h=e(22676).prepSelect,w=e(22676).clearOutline,c=e(22676).selectOnClick,a=e(79248),d=e(79552),x=e(27144),T=e(59972),C=e(55712).NO;function y(m){this.id=m.id,this.graphDiv=m.graphDiv,this.container=m.container,this.topojsonURL=m.topojsonURL,this.isStatic=m.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var S=y.prototype;Y.exports=function(k){return new y(k)},S.plot=function(m,k,I,O){var _=this;if(O)return _.update(m,k,!0);_._geoCalcData=m,_._fullLayout=k;var B=k[this.id],F=[],z=!1;for(var N in d.layerNameToAdjective)if(N!=="frame"&&B["show"+N]){z=!0;break}for(var W=!1,Z=0;Z<m.length;Z++){var q=m[0][0].trace;q._geo=_,q.locationmode&&(z=!0);var re=q.marker;if(re){var le=re.angle,ie=re.angleref;(le||ie==="north"||ie==="previous")&&(W=!0)}}if(this._hasMarkerAngles=W,z){var K=T.getTopojsonName(B);(_.topojson===null||K!==_.topojsonName)&&(_.topojsonName=K,PlotlyGeoAssets.topojson[_.topojsonName]===void 0&&F.push(_.fetchTopojson()))}F=F.concat(x.fetchTraceGeoData(m)),I.push(new Promise(function($,X){Promise.all(F).then(function(){_.topojson=PlotlyGeoAssets.topojson[_.topojsonName],_.update(m,k),$()}).catch(X)}))},S.fetchTopojson=function(){var m=this,k=T.getTopojsonPath(m.topojsonURL,m.topojsonName);return new Promise(function(I,O){b.json(k,function(_,B){if(_)return _.status===404?O(new Error(["plotly.js could not find topojson file at",k+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):O(new Error(["unexpected error while fetching topojson file at",k].join(" ")));PlotlyGeoAssets.topojson[m.topojsonName]=B,I()})})},S.update=function(m,k,I){var O=k[this.id];this.hasChoropleth=!1;for(var _=0;_<m.length;_++){var B=m[_],F=B[0].trace;F.type==="choropleth"&&(this.hasChoropleth=!0),F.visible===!0&&F._length>0&&F._module.calcGeoJSON(B,k)}if(!I){var z=this.updateProjection(m,k);if(z)return;(!this.viewInitial||this.scope!==O.scope)&&this.saveViewInitial(O)}this.scope=O.scope,this.updateBaseLayers(k,O),this.updateDims(k,O),this.updateFx(k,O),l.generalUpdatePerTraceModule(this.graphDiv,this,m,O);var N=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=N.selectAll(".point"),this.dataPoints.text=N.selectAll("text"),this.dataPaths.line=N.selectAll(".js-line");var W=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=W.selectAll("path"),this._render()},S.updateProjection=function(m,k){var I=this.graphDiv,O=k[this.id],_=k._size,B=O.domain,F=O.projection,z=O.lonaxis,N=O.lataxis,W=z._ax,Z=N._ax,q=this.projection=A(O),re=[[_.l+_.w*B.x[0],_.t+_.h*(1-B.y[1])],[_.l+_.w*B.x[1],_.t+_.h*(1-B.y[0])]],le=O.center||{},ie=F.rotation||{},K=z.range||[],$=N.range||[];if(O.fitbounds){W._length=re[1][0]-re[0][0],Z._length=re[1][1]-re[0][1],W.range=f(I,W),Z.range=f(I,Z);var X=(W.range[0]+W.range[1])/2,Q=(Z.range[0]+Z.range[1])/2;if(O._isScoped)le={lon:X,lat:Q};else if(O._isClipped){le={lon:X,lat:Q},ie={lon:X,lat:Q,roll:ie.roll};var se=F.type,J=d.lonaxisSpan[se]/2||180,G=d.lataxisSpan[se]/2||90;K=[X-J,X+J],$=[Q-G,Q+G]}else le={lon:X,lat:Q},ie={lon:X,lat:ie.lat,roll:ie.roll}}q.center([le.lon-ie.lon,le.lat-ie.lat]).rotate([-ie.lon,-ie.lat,ie.roll]).parallels(F.parallels);var oe=E(K,$);q.fitExtent(re,oe);var te=this.bounds=q.getBounds(oe),fe=this.fitScale=q.scale(),ge=q.translate();if(O.fitbounds){var we=q.getBounds(E(W.range,Z.range)),xe=Math.min((te[1][0]-te[0][0])/(we[1][0]-we[0][0]),(te[1][1]-te[0][1])/(we[1][1]-we[0][1]));isFinite(xe)?q.scale(xe*fe):p.warn("Something went wrong during"+this.id+"fitbounds computations.")}else q.scale(F.scale*fe);var Ce=this.midPt=[(te[0][0]+te[1][0])/2,(te[0][1]+te[1][1])/2];if(q.translate([ge[0]+(Ce[0]-ge[0]),ge[1]+(Ce[1]-ge[1])]).clipExtent(te),O._isAlbersUsa){var De=q([le.lon,le.lat]),Oe=q.translate();q.translate([Oe[0]-(De[0]-Oe[0]),Oe[1]-(De[1]-Oe[1])])}},S.updateBaseLayers=function(m,k){var I=this,O=I.topojson,_=I.layers,B=I.basePaths;function F(re){return re==="lonaxis"||re==="lataxis"}function z(re){return!!d.lineLayers[re]}function N(re){return!!d.fillLayers[re]}var W=this.hasChoropleth?d.layersForChoropleth:d.layers,Z=W.filter(function(re){return z(re)||N(re)?k["show"+re]:F(re)?k[re].showgrid:!0}),q=I.framework.selectAll(".layer").data(Z,String);q.exit().each(function(re){delete _[re],delete B[re],b.select(this).remove()}),q.enter().append("g").attr("class",function(re){return"layer "+re}).each(function(re){var le=_[re]=b.select(this);re==="bg"?I.bgRect=le.append("rect").style("pointer-events","all"):F(re)?B[re]=le.append("path").style("fill","none"):re==="backplot"?le.append("g").classed("choroplethlayer",!0):re==="frontplot"?le.append("g").classed("scatterlayer",!0):z(re)?B[re]=le.append("path").style("fill","none").style("stroke-miterlimit",2):N(re)&&(B[re]=le.append("path").style("stroke","none"))}),q.order(),q.each(function(re){var le=B[re],ie=d.layerNameToAdjective[re];re==="frame"?le.datum(d.sphereSVG):z(re)||N(re)?le.datum(C(O,O.objects[re])):F(re)&&le.datum(i(re,k,m)).call(t.stroke,k[re].gridcolor).call(o.dashLine,k[re].griddash,k[re].gridwidth),z(re)?le.call(t.stroke,k[ie+"color"]).call(o.dashLine,"",k[ie+"width"]):N(re)&&le.call(t.fill,k[ie+"color"])})},S.updateDims=function(m,k){var I=this.bounds,O=(k.framewidth||0)/2,_=I[0][0]-O,B=I[0][1]-O,F=I[1][0]-_+O,z=I[1][1]-B+O;o.setRect(this.clipRect,_,B,F,z),this.bgRect.call(o.setRect,_,B,F,z).call(t.fill,k.bgcolor),this.xaxis._offset=_,this.xaxis._length=F,this.yaxis._offset=B,this.yaxis._length=z},S.updateFx=function(m,k){var I=this,O=I.graphDiv,_=I.bgRect,B=m.dragmode,F=m.clickmode;if(I.isStatic)return;function z(){var q=I.viewInitial,re={};for(var le in q)re[I.id+"."+le]=q[le];v.call("_guiRelayout",O,re),O.emit("plotly_doubleclick",null)}function N(q){return I.projection.invert([q[0]+I.xaxis._offset,q[1]+I.yaxis._offset])}var W=function(q,re){if(re.isRect){var le=q.range={};le[I.id]=[N([re.xmin,re.ymin]),N([re.xmax,re.ymax])]}else{var ie=q.lassoPoints={};ie[I.id]=re.map(N)}},Z={element:I.bgRect.node(),gd:O,plotinfo:{id:I.id,xaxis:I.xaxis,yaxis:I.yaxis,fillRangeItems:W},xaxes:[I.xaxis],yaxes:[I.yaxis],subplot:I.id,clickFn:function(q){q===2&&w(O)}};B==="pan"?(_.node().onmousedown=null,_.call(a(I,k)),_.on("dblclick.zoom",z),O._context._scrollZoom.geo||_.on("wheel.zoom",null)):(B==="select"||B==="lasso")&&(_.on(".zoom",null),Z.prepFn=function(q,re,le){h(q,re,le,Z,B)},g.init(Z)),_.on("mousemove",function(){var q=I.projection.invert(p.getPositionFromD3Event());if(!q)return g.unhover(O,b.event);I.xaxis.p2c=function(){return q[0]},I.yaxis.p2c=function(){return q[1]},n.hover(O,b.event,I.id)}),_.on("mouseout",function(){O._dragging||g.unhover(O,b.event)}),_.on("click",function(){B!=="select"&&B!=="lasso"&&(F.indexOf("select")>-1&&c(b.event,O,[I.xaxis],[I.yaxis],I.id,Z),F.indexOf("event")>-1&&n.click(O,b.event))})},S.makeFramework=function(){var m=this,k=m.graphDiv,I=k._fullLayout,O="clip"+I._uid+m.id;m.clipDef=I._clips.append("clipPath").attr("id",O),m.clipRect=m.clipDef.append("rect"),m.framework=b.select(m.container).append("g").attr("class","geo "+m.id).call(o.setClipUrl,O,k),m.project=function(_){var B=m.projection(_);return B?[B[0]-m.xaxis._offset,B[1]-m.yaxis._offset]:[null,null]},m.xaxis={_id:"x",c2p:function(_){return m.project(_)[0]}},m.yaxis={_id:"y",c2p:function(_){return m.project(_)[1]}},m.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},u.setConvert(m.mockAxis,I)},S.saveViewInitial=function(m){var k=m.center||{},I=m.projection,O=I.rotation||{};this.viewInitial={fitbounds:m.fitbounds,"projection.scale":I.scale};var _;m._isScoped?_={"center.lon":k.lon,"center.lat":k.lat}:m._isClipped?_={"projection.rotation.lon":O.lon,"projection.rotation.lat":O.lat}:_={"center.lon":k.lon,"center.lat":k.lat,"projection.rotation.lon":O.lon},p.extendFlat(this.viewInitial,_)},S.render=function(m){this._hasMarkerAngles&&m?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},S._render=function(){var m=this.projection,k=m.getPath(),I;function O(B){var F=m(B.lonlat);return F?r(F[0],F[1]):null}function _(B){return m.isLonLatOverEdges(B.lonlat)?"none":null}for(I in this.basePaths)this.basePaths[I].attr("d",k);for(I in this.dataPaths)this.dataPaths[I].attr("d",function(B){return k(B.geojson)});for(I in this.dataPoints)this.dataPoints[I].attr("display",_).attr("transform",O)};function A(m){var k=m.projection,I=k.type,O=d.projNames[I];O="geo"+p.titleCase(O);for(var _=P[O]||M[O],B=_(),F=m._isSatellite?Math.acos(1/k.distance)*180/Math.PI:m._isClipped?d.lonaxisSpan[I]/2:null,z=["center","rotate","parallels","clipExtent"],N=function(q){return q?B:[]},W=0;W<z.length;W++){var Z=z[W];typeof B[Z]!="function"&&(B[Z]=N)}return B.isLonLatOverEdges=function(q){if(B(q)===null)return!0;if(F){var re=B.rotate(),le=L(q,[-re[0],-re[1]]),ie=F*Math.PI/180;return le>ie}else return!1},B.getPath=function(){return s().projection(B)},B.getBounds=function(q){return B.getPath().bounds(q)},B.precision(d.precision),m._isSatellite&&B.tilt(k.tilt).distance(k.distance),F&&B.clipAngle(F-d.clipPad),B}function i(m,k,I){var O=1e-6,_=2.5,B=k[m],F=d.scopeDefaults[k.scope],z,N,W;m==="lonaxis"?(z=F.lonaxisRange,N=F.lataxisRange,W=function(Q,se){return[Q,se]}):m==="lataxis"&&(z=F.lataxisRange,N=F.lonaxisRange,W=function(Q,se){return[se,Q]});var Z={type:"linear",range:[z[0],z[1]-O],tick0:B.tick0,dtick:B.dtick};u.setConvert(Z,I);var q=u.calcTicks(Z);!k.isScoped&&m==="lonaxis"&&q.pop();for(var re=q.length,le=new Array(re),ie=0;ie<re;ie++)for(var K=q[ie].x,$=le[ie]=[],X=N[0];X<N[1]+_;X+=_)$.push(W(K,X));return{type:"MultiLineString",coordinates:le}}function E(m,k){var I=d.clipPad,O=m[0]+I,_=m[1]-I,B=k[0]+I,F=k[1]-I;O>0&&_<0&&(_+=360);var z=(_-O)/4;return{type:"Polygon",coordinates:[[[O,B],[O,F],[O+z,F],[O+2*z,F],[O+3*z,F],[_,F],[_,B],[_-z,B],[_-2*z,B],[_-3*z,B],[O,B]]]}}},10816:function(Y,V,e){var b=e(84888).KY,P=e(3400).counterRegex,s=e(43520),L="geo",M=P(L),v={};v[L]={valType:"subplotid",dflt:L,editType:"calc"};function p(o){for(var n=o._fullLayout,l=o.calcdata,u=n._subplots[L],f=0;f<u.length;f++){var g=u[f],h=b(l,L,g),w=n[g],c=w._subplot;c||(c=s({id:g,graphDiv:o,container:n._geolayer.node(),topojsonURL:o._context.topojsonURL,staticPlot:o._context.staticPlot}),n[g]._subplot=c),c.plot(h,n,o._promises)}}function r(o,n,l,u){for(var f=u._subplots[L]||[],g=0;g<f.length;g++){var h=f[g],w=u[h]._subplot;!n[h]&&w&&(w.framework.remove(),w.clipDef.remove())}}function t(o){for(var n=o._fullLayout,l=n._subplots[L],u=0;u<l.length;u++){var f=n[l[u]],g=f._subplot;g.updateFx(n,f)}}Y.exports={attr:L,name:L,idRoot:L,idRegex:M,attrRegex:M,attributes:v,layoutAttributes:e(40384),supplyLayoutDefaults:e(86920),plot:p,updateFx:t,clean:r}},40384:function(Y,V,e){var b=e(22548),P=e(86968).u,s=e(98192).u,L=e(79552),M=e(67824).overrideAll,v=e(95376),p={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:b.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:s},r=Y.exports=M({domain:P({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(L.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(L.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:b.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:L.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:L.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:L.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:L.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:b.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:b.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:b.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:b.background},lonaxis:p,lataxis:p},"plot","from-root");r.uirevision={valType:"any",editType:"none"}},86920:function(Y,V,e){var b=e(3400),P=e(168),s=e(84888).op,L=e(79552),M=e(40384),v=L.axesNames;Y.exports=function(t,o,n){P(t,o,n,{type:"geo",attributes:M,handleDefaults:p,fullData:n,partition:"y"})};function p(r,t,o,n){var l=s(n.fullData,"geo",n.id),u=l.map(function($){return $._expandedIndex}),f=o("resolution"),g=o("scope"),h=L.scopeDefaults[g],w=o("projection.type",h.projType),c=t._isAlbersUsa=w==="albers usa";c&&(g=t.scope="usa");var a=t._isScoped=g!=="world",d=t._isSatellite=w==="satellite",x=t._isConic=w.indexOf("conic")!==-1||w==="albers",T=t._isClipped=!!L.lonaxisSpan[w];if(r.visible===!1){var C=b.extendDeep({},t._template);C.showcoastlines=!1,C.showcountries=!1,C.showframe=!1,C.showlakes=!1,C.showland=!1,C.showocean=!1,C.showrivers=!1,C.showsubunits=!1,C.lonaxis&&(C.lonaxis.showgrid=!1),C.lataxis&&(C.lataxis.showgrid=!1),t._template=C}for(var y=o("visible"),S,A=0;A<v.length;A++){var i=v[A],E=[30,10][A],m;if(a)m=h[i+"Range"];else{var k=L[i+"Span"],I=(k[w]||k["*"])/2,O=o("projection.rotation."+i.substr(0,3),h.projRotate[A]);m=[O-I,O+I]}var _=o(i+".range",m);o(i+".tick0"),o(i+".dtick",E),S=o(i+".showgrid",y?void 0:!1),S&&(o(i+".gridcolor"),o(i+".gridwidth"),o(i+".griddash")),t[i]._ax={type:"linear",_id:i.slice(0,3),_traceIndices:u,setScale:b.identity,c2l:b.identity,r2l:b.identity,autorange:!0,range:_.slice(),_m:1,_input:{}}}var B=t.lonaxis.range,F=t.lataxis.range,z=B[0],N=B[1];z>0&&N<0&&(N+=360);var W=(z+N)/2,Z;if(!c){var q=a?h.projRotate:[W,0,0];Z=o("projection.rotation.lon",q[0]),o("projection.rotation.lat",q[1]),o("projection.rotation.roll",q[2]),S=o("showcoastlines",!a&&y),S&&(o("coastlinecolor"),o("coastlinewidth")),S=o("showocean",y?void 0:!1),S&&o("oceancolor")}var re,le;if(c?(re=-96.6,le=38.7):(re=a?W:Z,le=(F[0]+F[1])/2),o("center.lon",re),o("center.lat",le),d&&(o("projection.tilt"),o("projection.distance")),x){var ie=h.projParallels||[0,60];o("projection.parallels",ie)}o("projection.scale"),S=o("showland",y?void 0:!1),S&&o("landcolor"),S=o("showlakes",y?void 0:!1),S&&o("lakecolor"),S=o("showrivers",y?void 0:!1),S&&(o("rivercolor"),o("riverwidth")),S=o("showcountries",a&&g!=="usa"&&y),S&&(o("countrycolor"),o("countrywidth")),(g==="usa"||g==="north america"&&f===50)&&(o("showsubunits",y),o("subunitcolor"),o("subunitwidth")),a||(S=o("showframe",y),S&&(o("framecolor"),o("framewidth"))),o("bgcolor");var K=o("fitbounds");K&&(delete t.projection.scale,a?(delete t.center.lon,delete t.center.lat):T?(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon,delete t.projection.rotation.lat,delete t.lonaxis.range,delete t.lataxis.range):(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon))}},79248:function(Y,V,e){var b=e(33428),P=e(3400),s=e(24040),L=Math.PI/180,M=180/Math.PI,v={cursor:"pointer"},p={cursor:"auto"};function r(i,E){var m=i.projection,k;return E._isScoped?k=n:E._isClipped?k=u:k=l,k(i,m)}Y.exports=r;function t(i,E){return b.behavior.zoom().translate(E.translate()).scale(E.scale())}function o(i,E,m){var k=i.id,I=i.graphDiv,O=I.layout,_=O[k],B=I._fullLayout,F=B[k],z={},N={};function W(Z,q){z[k+"."+Z]=P.nestedProperty(_,Z).get(),s.call("_storeDirectGUIEdit",O,B._preGUI,z);var re=P.nestedProperty(F,Z);re.get()!==q&&(re.set(q),P.nestedProperty(_,Z).set(q),N[k+"."+Z]=q)}m(W),W("projection.scale",E.scale()/i.fitScale),W("fitbounds",!1),I.emit("plotly_relayout",N)}function n(i,E){var m=t(i,E);function k(){b.select(this).style(v)}function I(){E.scale(b.event.scale).translate(b.event.translate),i.render(!0);var B=E.invert(i.midPt);i.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/i.fitScale,"geo.center.lon":B[0],"geo.center.lat":B[1]})}function O(B){var F=E.invert(i.midPt);B("center.lon",F[0]),B("center.lat",F[1])}function _(){b.select(this).style(p),o(i,E,O)}return m.on("zoomstart",k).on("zoom",I).on("zoomend",_),m}function l(i,E){var m=t(i,E),k=2,I,O,_,B,F,z,N,W,Z;function q(X){return E.invert(X)}function re(X){var Q=q(X);if(!Q)return!0;var se=E(Q);return Math.abs(se[0]-X[0])>k||Math.abs(se[1]-X[1])>k}function le(){b.select(this).style(v),I=b.mouse(this),O=E.rotate(),_=E.translate(),B=O,F=q(I)}function ie(){if(z=b.mouse(this),re(I)){m.scale(E.scale()),m.translate(E.translate());return}E.scale(b.event.scale),E.translate([_[0],b.event.translate[1]]),F?q(z)&&(W=q(z),N=[B[0]+(W[0]-F[0]),O[1],O[2]],E.rotate(N),B=N):(I=z,F=q(I)),Z=!0,i.render(!0);var X=E.rotate(),Q=E.invert(i.midPt);i.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/i.fitScale,"geo.center.lon":Q[0],"geo.center.lat":Q[1],"geo.projection.rotation.lon":-X[0]})}function K(){b.select(this).style(p),Z&&o(i,E,$)}function $(X){var Q=E.rotate(),se=E.invert(i.midPt);X("projection.rotation.lon",-Q[0]),X("center.lon",se[0]),X("center.lat",se[1])}return m.on("zoomstart",le).on("zoom",ie).on("zoomend",K),m}function u(i,E){E.rotate(),E.scale();var m=t(i,E),k=A(m,"zoomstart","zoom","zoomend"),I=0,O=m.on,_;m.on("zoomstart",function(){b.select(this).style(v);var W=b.mouse(this),Z=E.rotate(),q=Z,re=E.translate(),le=g(Z);_=f(E,W),O.call(m,"zoom",function(){var ie=b.mouse(this);if(E.scale(b.event.scale),!_)W=ie,_=f(E,W);else if(f(E,ie)){E.rotate(Z).translate(re);var K=f(E,ie),$=w(_,K),X=T(h(le,$)),Q=c(X,_,q);(!isFinite(Q[0])||!isFinite(Q[1])||!isFinite(Q[2]))&&(Q=q),E.rotate(Q),q=Q}F(k.of(this,arguments))}),B(k.of(this,arguments))}).on("zoomend",function(){b.select(this).style(p),O.call(m,"zoom",null),z(k.of(this,arguments)),o(i,E,N)}).on("zoom.redraw",function(){i.render(!0);var W=E.rotate();i.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/i.fitScale,"geo.projection.rotation.lon":-W[0],"geo.projection.rotation.lat":-W[1]})});function B(W){I++||W({type:"zoomstart"})}function F(W){W({type:"zoom"})}function z(W){--I||W({type:"zoomend"})}function N(W){var Z=E.rotate();W("projection.rotation.lon",-Z[0]),W("projection.rotation.lat",-Z[1])}return b.rebind(m,k,"on")}function f(i,E){var m=i.invert(E);return m&&isFinite(m[0])&&isFinite(m[1])&&C(m)}function g(i){var E=.5*i[0]*L,m=.5*i[1]*L,k=.5*i[2]*L,I=Math.sin(E),O=Math.cos(E),_=Math.sin(m),B=Math.cos(m),F=Math.sin(k),z=Math.cos(k);return[O*B*z+I*_*F,I*B*z-O*_*F,O*_*z+I*B*F,O*B*F-I*_*z]}function h(i,E){var m=i[0],k=i[1],I=i[2],O=i[3],_=E[0],B=E[1],F=E[2],z=E[3];return[m*_-k*B-I*F-O*z,m*B+k*_+I*z-O*F,m*F-k*z+I*_+O*B,m*z+k*F-I*B+O*_]}function w(i,E){if(!(!i||!E)){var m=S(i,E),k=Math.sqrt(y(m,m)),I=.5*Math.acos(Math.max(-1,Math.min(1,y(i,E)))),O=Math.sin(I)/k;return k&&[Math.cos(I),m[2]*O,-m[1]*O,m[0]*O]}}function c(i,E,m){var k=x(E,2,i[0]);k=x(k,1,i[1]),k=x(k,0,i[2]-m[2]);var I=E[0],O=E[1],_=E[2],B=k[0],F=k[1],z=k[2],N=Math.atan2(O,I)*M,W=Math.sqrt(I*I+O*O),Z,q;Math.abs(F)>W?(q=(F>0?90:-90)-N,Z=0):(q=Math.asin(F/W)*M-N,Z=Math.sqrt(W*W-F*F));var re=180-q-2*N,le=(Math.atan2(z,B)-Math.atan2(_,Z))*M,ie=(Math.atan2(z,B)-Math.atan2(_,-Z))*M,K=a(m[0],m[1],q,le),$=a(m[0],m[1],re,ie);return K<=$?[q,le,m[2]]:[re,ie,m[2]]}function a(i,E,m,k){var I=d(m-i),O=d(k-E);return Math.sqrt(I*I+O*O)}function d(i){return(i%360+540)%360-180}function x(i,E,m){var k=m*L,I=i.slice(),O=E===0?1:0,_=E===2?1:2,B=Math.cos(k),F=Math.sin(k);return I[O]=i[O]*B-i[_]*F,I[_]=i[_]*B+i[O]*F,I}function T(i){return[Math.atan2(2*(i[0]*i[1]+i[2]*i[3]),1-2*(i[1]*i[1]+i[2]*i[2]))*M,Math.asin(Math.max(-1,Math.min(1,2*(i[0]*i[2]-i[3]*i[1]))))*M,Math.atan2(2*(i[0]*i[3]+i[1]*i[2]),1-2*(i[2]*i[2]+i[3]*i[3]))*M]}function C(i){var E=i[0]*L,m=i[1]*L,k=Math.cos(m);return[k*Math.cos(E),k*Math.sin(E),Math.sin(m)]}function y(i,E){for(var m=0,k=0,I=i.length;k<I;++k)m+=i[k]*E[k];return m}function S(i,E){return[i[1]*E[2]-i[2]*E[1],i[2]*E[0]-i[0]*E[2],i[0]*E[1]-i[1]*E[0]]}function A(i){for(var E=0,m=arguments.length,k=[];++E<m;)k.push(arguments[E]);var I=b.dispatch.apply(null,k);return I.of=function(O,_){return function(B){var F;try{F=B.sourceEvent=b.event,B.target=i,b.event=B,I[B.type].apply(O,_)}finally{b.event=F}}},I}},84888:function(Y,V,e){var b=e(24040),P=e(33816).SUBPLOT_PATTERN;V.KY=function(s,L,M){var v=b.subplotsRegistry[L];if(!v)return[];for(var p=v.attr,r=[],t=0;t<s.length;t++){var o=s[t],n=o[0].trace;n[p]===M&&r.push(o)}return r},V._M=function(s,L,M){var v=[],p=[],r;if(typeof L=="string"?r=b.getModule(L).plot:typeof L=="function"?r=L:r=L.plot,!r)return[v,s];for(var t=M,o=0;o<s.length;o++){var n=s[o],l=n[0].trace,u=l.zorder!==void 0;l.visible!==!0||l._length===0||(l._module&&l._module.plot===r&&(!u||l.zorder===t)?v.push(n):p.push(n))}return[v,p]},V.op=function(L,M,v){if(!b.subplotsRegistry[M])return[];var p=b.subplotsRegistry[M].attr,r=[],t,o,n;if(M==="gl2d"){var l=v.match(P);o="x"+l[1],n="y"+l[2]}for(var u=0;u<L.length;u++)t=L[u],M==="gl2d"&&b.traceIs(t,"gl2d")?t[p[0]]===o&&t[p[1]]===n&&r.push(t):t[p]===v&&r.push(t);return r}},2428:function(Y,V,e){var b=e(62644),P=e(97264),s=e(29128),L=e(33816),M=e(89184);Y.exports=p;function v(r,t){this.element=r,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function p(r){var t=r.mouseContainer,o=r.glplot,n=new v(t,o);function l(){r.xaxis.autorange=!1,r.yaxis.autorange=!1}function u(){for(var g=r.graphDiv._fullLayout._axisConstraintGroups,h=r.xaxis._id,w=r.yaxis._id,c=0;c<g.length;c++)if(g[c][h]!==-1){if(g[c][w]!==-1)return!0;break}return!1}n.mouseListener=b(t,f),t.addEventListener("touchstart",function(g){var h=s(g.changedTouches[0],t);f(0,h[0],h[1]),f(1,h[0],h[1]),g.preventDefault()},M?{passive:!1}:!1),t.addEventListener("touchmove",function(g){g.preventDefault();var h=s(g.changedTouches[0],t);f(1,h[0],h[1]),g.preventDefault()},M?{passive:!1}:!1),t.addEventListener("touchend",function(g){f(0,n.lastPos[0],n.lastPos[1]),g.preventDefault()},M?{passive:!1}:!1);function f(g,h,w){var c=r.calcDataBox(),a=o.viewBox,d=n.lastPos[0],x=n.lastPos[1],T=L.MINDRAG*o.pixelRatio,C=L.MINZOOM*o.pixelRatio,y,S;h*=o.pixelRatio,w*=o.pixelRatio,w=a[3]-a[1]-w;function A(O,_,B){var F=Math.min(_,B),z=Math.max(_,B);F!==z?(c[O]=F,c[O+2]=z,n.dataBox=c,r.setRanges(c)):(r.selectBox.selectBox=[0,0,1,1],r.glplot.setDirty())}switch(r.fullLayout.dragmode){case"zoom":if(g){var i=h/(a[2]-a[0])*(c[2]-c[0])+c[0],E=w/(a[3]-a[1])*(c[3]-c[1])+c[1];n.boxInited||(n.boxStart[0]=i,n.boxStart[1]=E,n.dragStart[0]=h,n.dragStart[1]=w),n.boxEnd[0]=i,n.boxEnd[1]=E,n.boxInited=!0,!n.boxEnabled&&(n.boxStart[0]!==n.boxEnd[0]||n.boxStart[1]!==n.boxEnd[1])&&(n.boxEnabled=!0);var m=Math.abs(n.dragStart[0]-h)<C,k=Math.abs(n.dragStart[1]-w)<C;if(u()&&!(m&&k)){y=n.boxEnd[0]-n.boxStart[0],S=n.boxEnd[1]-n.boxStart[1];var I=(c[3]-c[1])/(c[2]-c[0]);Math.abs(y*I)>Math.abs(S)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(y)*I*(S>=0?1:-1),n.boxEnd[1]<c[1]?(n.boxEnd[1]=c[1],n.boxEnd[0]=n.boxStart[0]+(c[1]-n.boxStart[1])/Math.abs(I)):n.boxEnd[1]>c[3]&&(n.boxEnd[1]=c[3],n.boxEnd[0]=n.boxStart[0]+(c[3]-n.boxStart[1])/Math.abs(I))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(S)/I*(y>=0?1:-1),n.boxEnd[0]<c[0]?(n.boxEnd[0]=c[0],n.boxEnd[1]=n.boxStart[1]+(c[0]-n.boxStart[0])*Math.abs(I)):n.boxEnd[0]>c[2]&&(n.boxEnd[0]=c[2],n.boxEnd[1]=n.boxStart[1]+(c[2]-n.boxStart[0])*Math.abs(I)))}else m&&(n.boxEnd[0]=n.boxStart[0]),k&&(n.boxEnd[1]=n.boxStart[1])}else n.boxEnabled?(y=n.boxStart[0]!==n.boxEnd[0],S=n.boxStart[1]!==n.boxEnd[1],y||S?(y&&(A(0,n.boxStart[0],n.boxEnd[0]),r.xaxis.autorange=!1),S&&(A(1,n.boxStart[1],n.boxEnd[1]),r.yaxis.autorange=!1),r.relayoutCallback()):r.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,g?(n.panning||(n.dragStart[0]=h,n.dragStart[1]=w),Math.abs(n.dragStart[0]-h)<T&&(h=n.dragStart[0]),Math.abs(n.dragStart[1]-w)<T&&(w=n.dragStart[1]),y=(d-h)*(c[2]-c[0])/(o.viewBox[2]-o.viewBox[0]),S=(x-w)*(c[3]-c[1])/(o.viewBox[3]-o.viewBox[1]),c[0]+=y,c[2]+=y,c[1]+=S,c[3]+=S,r.setRanges(c),n.panning=!0,n.lastInputTime=Date.now(),l(),r.cameraChanged(),r.handleAnnotations()):n.panning&&(n.panning=!1,r.relayoutCallback());break}n.lastPos[0]=h,n.lastPos[1]=w}return n.wheelListener=P(t,function(g,h){if(!r.scrollZoom)return!1;var w=r.calcDataBox(),c=o.viewBox,a=n.lastPos[0],d=n.lastPos[1],x=Math.exp(5*h/(c[3]-c[1])),T=a/(c[2]-c[0])*(w[2]-w[0])+w[0],C=d/(c[3]-c[1])*(w[3]-w[1])+w[1];return w[0]=(w[0]-T)*x+T,w[2]=(w[2]-T)*x+T,w[1]=(w[1]-C)*x+C,w[3]=(w[3]-C)*x+C,r.setRanges(w),n.lastInputTime=Date.now(),l(),r.cameraChanged(),r.handleAnnotations(),r.relayoutCallback(),!0},!0),n}},92568:function(Y,V,e){var b=e(54460),P=e(43080);function s(p){this.scene=p,this.gl=p.gl,this.pixelRatio=p.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var L=s.prototype,M=["xaxis","yaxis"];L.merge=function(p){this.titleEnable=!1,this.backgroundColor=P(p.plot_bgcolor);var r,t,o,n,l,u,f,g,h,w,c;for(w=0;w<2;++w){r=M[w];var a=r.charAt(0);for(t=p[this.scene[r]._name],o=t.title.text===this.scene.fullLayout._dfltTitle[a]?"":t.title.text,c=0;c<=2;c+=2)this.labelEnable[w+c]=!1,this.labels[w+c]=o,this.labelColor[w+c]=P(t.title.font.color),this.labelFont[w+c]=t.title.font.family,this.labelSize[w+c]=t.title.font.size,this.labelPad[w+c]=this.getLabelPad(r,t),this.tickEnable[w+c]=!1,this.tickColor[w+c]=P((t.tickfont||{}).color),this.tickAngle[w+c]=t.tickangle==="auto"?0:Math.PI*-t.tickangle/180,this.tickPad[w+c]=this.getTickPad(t),this.tickMarkLength[w+c]=0,this.tickMarkWidth[w+c]=t.tickwidth||0,this.tickMarkColor[w+c]=P(t.tickcolor),this.borderLineEnable[w+c]=!1,this.borderLineColor[w+c]=P(t.linecolor),this.borderLineWidth[w+c]=t.linewidth||0;f=this.hasSharedAxis(t),l=this.hasAxisInDfltPos(r,t)&&!f,u=this.hasAxisInAltrPos(r,t)&&!f,n=t.mirror||!1,g=f?String(n).indexOf("all")!==-1:!!n,h=f?n==="allticks":String(n).indexOf("ticks")!==-1,l?this.labelEnable[w]=!0:u&&(this.labelEnable[w+2]=!0),l?this.tickEnable[w]=t.showticklabels:u&&(this.tickEnable[w+2]=t.showticklabels),(l||g)&&(this.borderLineEnable[w]=t.showline),(u||g)&&(this.borderLineEnable[w+2]=t.showline),(l||h)&&(this.tickMarkLength[w]=this.getTickMarkLength(t)),(u||h)&&(this.tickMarkLength[w+2]=this.getTickMarkLength(t)),this.gridLineEnable[w]=t.showgrid,this.gridLineColor[w]=P(t.gridcolor),this.gridLineWidth[w]=t.gridwidth,this.zeroLineEnable[w]=t.zeroline,this.zeroLineColor[w]=P(t.zerolinecolor),this.zeroLineWidth[w]=t.zerolinewidth}},L.hasSharedAxis=function(p){var r=this.scene,t=r.fullLayout._subplots.gl2d,o=b.findSubplotsWithAxis(t,p);return o.indexOf(r.id)!==0},L.hasAxisInDfltPos=function(p,r){var t=r.side;if(p==="xaxis")return t==="bottom";if(p==="yaxis")return t==="left"},L.hasAxisInAltrPos=function(p,r){var t=r.side;if(p==="xaxis")return t==="top";if(p==="yaxis")return t==="right"},L.getLabelPad=function(p,r){var t=1.5,o=r.title.font.size,n=r.showticklabels;if(p==="xaxis")return r.side==="top"?-10+o*(t+(n?1:0)):-10+o*(t+(n?.5:0));if(p==="yaxis")return r.side==="right"?10+o*(t+(n?1:.5)):10+o*(t+(n?.5:0))},L.getTickPad=function(p){return p.ticks==="outside"?10+p.ticklen:15},L.getTickMarkLength=function(p){if(!p.ticks)return 0;var r=p.ticklen;return p.ticks==="inside"?-r:r};function v(p){return new s(p)}Y.exports=v},39952:function(Y,V,e){var b=e(67824).overrideAll,P=e(17188),s=e(64859),L=e(9616),M=e(33816),v=e(57952),p=e(65460),r=e(84888).op;V.name="gl2d",V.attr=["xaxis","yaxis"],V.idRoot=["x","y"],V.idRegex=M.idRegex,V.attrRegex=M.attrRegex,V.attributes=e(26720),V.supplyLayoutDefaults=function(t,o,n){o._has("cartesian")||v.supplyLayoutDefaults(t,o,n)},V.layoutAttrOverrides=b(v.layoutAttributes,"plot","from-root"),V.baseLayoutAttrOverrides=b({plot_bgcolor:s.plot_bgcolor,hoverlabel:p.hoverlabel},"plot","nested"),V.plot=function(o){for(var n=o._fullLayout,l=o._fullData,u=n._subplots.gl2d,f=0;f<u.length;f++){var g=u[f],h=n._plots[g],w=r(l,"gl2d",g),c=h._scene2d;c===void 0&&(c=new P({id:g,graphDiv:o,container:o.querySelector(".gl-container"),staticPlot:o._context.staticPlot,plotGlPixelRatio:o._context.plotGlPixelRatio},n),h._scene2d=c),c.plot(w,o.calcdata,n,o.layout)}},V.clean=function(t,o,n,l){for(var u=l._subplots.gl2d||[],f=0;f<u.length;f++){var g=u[f],h=l._plots[g];if(h._scene2d){var w=r(t,"gl2d",g);w.length===0&&(h._scene2d.destroy(),delete l._plots[g])}}v.clean.apply(this,arguments)},V.drawFramework=function(t){t._context.staticPlot||v.drawFramework(t)},V.toSVG=function(t){for(var o=t._fullLayout,n=o._subplots.gl2d,l=0;l<n.length;l++){var u=o._plots[n[l]],f=u._scene2d,g=f.toImage("png"),h=o._glimages.append("svg:image");h.attr({xmlns:L.svg,"xlink:href":g,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),f.destroy()}},V.updateFx=function(t){for(var o=t._fullLayout,n=o._subplots.gl2d,l=0;l<n.length;l++){var u=o._plots[n[l]]._scene2d;u.updateFx(o.dragmode)}}},17188:function(Y,V,e){var b=e(24040),P=e(54460),s=e(93024),L=e(67792).gl_plot2d,M=e(67792).gl_spikes2d,v=e(67792).gl_select_box,p=e(5408),r=e(92568),t=e(2428),o=e(16576),n=e(71888),l=n.enforce,u=n.clean,f=e(19280).doAutoRange,g=e(72760),h=g.drawMode,w=g.selectMode,c=["xaxis","yaxis"],a,d,x=e(33816).SUBPLOT_PATTERN;function T(S,A){this.container=S.container,this.graphDiv=S.graphDiv,this.pixelRatio=S.plotGlPixelRatio||window.devicePixelRatio,this.id=S.id,this.staticPlot=!!S.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(A),this.makeFramework(),!this.stopped&&(this.glplotOptions=r(this),this.glplotOptions.merge(A),this.glplot=L(this.glplotOptions),this.camera=t(this),this.traces={},this.spikes=M(this.glplot),this.selectBox=v(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}Y.exports=T;var C=T.prototype;C.makeFramework=function(){if(this.staticPlot){if(!d&&(a=document.createElement("canvas"),d=p({canvas:a,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!d))throw new Error("Error creating static canvas/context for image server");this.canvas=a,this.gl=d}else{var S=this.container.querySelector(".gl-canvas-focus"),A=p({canvas:S,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!A){o(this),this.stopped=!0;return}this.canvas=S,this.gl=A}var i=this.canvas;i.style.width="100%",i.style.height="100%",i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style["pointer-events"]="none",this.updateSize(i);var E=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");E.style.position="absolute",E.style.top=E.style.left="0px",E.style.width=E.style.height="100%",E.style["z-index"]=20,E.style["pointer-events"]="none";var m=this.mouseContainer=document.createElement("div");m.style.position="absolute",m.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var k=this.container;k.appendChild(E),k.appendChild(m);var I=this;m.addEventListener("mouseout",function(){I.isMouseOver=!1,I.unhover()}),m.addEventListener("mouseover",function(){I.isMouseOver=!0})},C.toImage=function(S){S||(S="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(a),this.updateSize(this.canvas);var A=this.glplot.gl,i=A.drawingBufferWidth,E=A.drawingBufferHeight;A.clearColor(1,1,1,0),A.clear(A.COLOR_BUFFER_BIT|A.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),A.bindFramebuffer(A.FRAMEBUFFER,null);var m=new Uint8Array(i*E*4);A.readPixels(0,0,i,E,A.RGBA,A.UNSIGNED_BYTE,m);for(var k=0,I=E-1;k<I;++k,--I)for(var O=0;O<i;++O)for(var _=0;_<4;++_){var B=m[4*(i*k+O)+_];m[4*(i*k+O)+_]=m[4*(i*I+O)+_],m[4*(i*I+O)+_]=B}var F=document.createElement("canvas");F.width=i,F.height=E;var z=F.getContext("2d",{willReadFrequently:!0}),N=z.createImageData(i,E);N.data.set(m),z.putImageData(N,0,0);var W;switch(S){case"jpeg":W=F.toDataURL("image/jpeg");break;case"webp":W=F.toDataURL("image/webp");break;default:W=F.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(a),W},C.updateSize=function(S){S||(S=this.canvas);var A=this.pixelRatio,i=this.fullLayout,E=i.width,m=i.height,k=Math.ceil(A*E)|0,I=Math.ceil(A*m)|0;return(S.width!==k||S.height!==I)&&(S.width=k,S.height=I),S},C.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var S=[P.calcTicks(this.xaxis),P.calcTicks(this.yaxis)],A=0;A<2;++A)for(var i=0;i<S[A].length;++i)S[A][i].text=S[A][i].text+"";return S};function y(S,A){for(var i=0;i<2;++i){var E=S[i],m=A[i];if(E.length!==m.length)return!0;for(var k=0;k<E.length;++k)if(E[k].x!==m[k].x)return!0}return!1}C.updateRefs=function(S){this.fullLayout=S;var A=this.id.match(x),i="xaxis"+A[1],E="yaxis"+A[2];this.xaxis=this.fullLayout[i],this.yaxis=this.fullLayout[E]},C.relayoutCallback=function(){var S=this.graphDiv,A=this.xaxis,i=this.yaxis,E=S.layout,m={},k=m[A._name+".range"]=A.range.slice(),I=m[i._name+".range"]=i.range.slice();m[A._name+".autorange"]=A.autorange,m[i._name+".autorange"]=i.autorange,b.call("_storeDirectGUIEdit",S.layout,S._fullLayout._preGUI,m);var O=E[A._name];O.range=k,O.autorange=A.autorange;var _=E[i._name];_.range=I,_.autorange=i.autorange,m.lastInputTime=this.camera.lastInputTime,S.emit("plotly_relayout",m)},C.cameraChanged=function(){var S=this.camera;this.glplot.setDataBox(this.calcDataBox());var A=this.computeTickMarks(),i=this.glplotOptions.ticks;y(A,i)&&(this.glplotOptions.ticks=A,this.glplotOptions.dataBox=S.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},C.handleAnnotations=function(){for(var S=this.graphDiv,A=this.fullLayout.annotations,i=0;i<A.length;i++){var E=A[i];E.xref===this.xaxis._id&&E.yref===this.yaxis._id&&b.getComponentMethod("annotations","drawOne")(S,i)}},C.destroy=function(){if(this.glplot){var S=this.traces;S&&Object.keys(S).map(function(A){S[A].dispose(),delete S[A]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},C.plot=function(S,A,i){var E=this.glplot;this.updateRefs(i),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(S,A),this.updateFx(i.dragmode);var m=i.width,k=i.height;this.updateSize(this.canvas);var I=this.glplotOptions;I.merge(i),I.screenBox=[0,0,m,k];var O={_fullLayout:{_axisConstraintGroups:i._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:i._size}};u(O,this.xaxis),u(O,this.yaxis);var _=i._size,B=this.xaxis.domain,F=this.yaxis.domain;I.viewBox=[_.l+B[0]*_.w,_.b+F[0]*_.h,m-_.r-(1-B[1])*_.w,k-_.t-(1-F[1])*_.h],this.mouseContainer.style.width=_.w*(B[1]-B[0])+"px",this.mouseContainer.style.height=_.h*(F[1]-F[0])+"px",this.mouseContainer.height=_.h*(F[1]-F[0]),this.mouseContainer.style.left=_.l+B[0]*_.w+"px",this.mouseContainer.style.top=_.t+(1-F[1])*_.h+"px";var z,N;for(N=0;N<2;++N)z=this[c[N]],z._length=I.viewBox[N+2]-I.viewBox[N],f(this.graphDiv,z),z.setScale();l(O),I.ticks=this.computeTickMarks(),I.dataBox=this.calcDataBox(),I.merge(i),E.update(I),this.glplot.draw()},C.calcDataBox=function(){var S=this.xaxis,A=this.yaxis,i=S.range,E=A.range,m=S.r2l,k=A.r2l;return[m(i[0]),k(E[0]),m(i[1]),k(E[1])]},C.setRanges=function(S){var A=this.xaxis,i=this.yaxis,E=A.l2r,m=i.l2r;A.range=[E(S[0]),E(S[2])],i.range=[m(S[1]),m(S[3])]},C.updateTraces=function(S,A){var i=Object.keys(this.traces),E,m,k;this.fullData=S;e:for(E=0;E<i.length;E++){var I=i[E],O=this.traces[I];for(m=0;m<S.length;m++)if(k=S[m],k.uid===I&&k.type===O.type)continue e;O.dispose(),delete this.traces[I]}for(E=0;E<S.length;E++){k=S[E];var _=A[E],B=this.traces[k.uid];B?B.update(k,_):(B=k._module.plot(this,k,_),this.traces[k.uid]=B)}this.glplot.objects.sort(function(F,z){return F._trace.index-z._trace.index})},C.updateFx=function(S){w(S)||h(S)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),S==="pan"?this.mouseContainer.style.cursor="move":S==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},C.emitPointAction=function(S,A){for(var i=S.trace.uid,E=S.pointIndex,m,k=0;k<this.fullData.length;k++)this.fullData[k].uid===i&&(m=this.fullData[k]);var I={x:S.traceCoord[0],y:S.traceCoord[1],curveNumber:m.index,pointNumber:E,data:m._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};s.appendArrayPointValue(I,m,E),this.graphDiv.emit(A,{points:[I]})},C.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var S=this.glplot,A=this.camera,i=A.mouseListener,E=this.lastButtonState===1&&i.buttons===0,m=this.fullLayout;this.lastButtonState=i.buttons,this.cameraChanged();var k=i.x*S.pixelRatio,I=this.canvas.height-S.pixelRatio*i.y,O;if(A.boxEnabled&&m.dragmode==="zoom"){this.selectBox.enabled=!0;for(var _=this.selectBox.selectBox=[Math.min(A.boxStart[0],A.boxEnd[0]),Math.min(A.boxStart[1],A.boxEnd[1]),Math.max(A.boxStart[0],A.boxEnd[0]),Math.max(A.boxStart[1],A.boxEnd[1])],B=0;B<2;B++)A.boxStart[B]===A.boxEnd[B]&&(_[B]=S.dataBox[B],_[B+2]=S.dataBox[B+2]);S.setDirty()}else if(!A.panning&&this.isMouseOver){this.selectBox.enabled=!1;var F=m._size,z=this.xaxis.domain,N=this.yaxis.domain;O=S.pick(k/S.pixelRatio+F.l+z[0]*F.w,I/S.pixelRatio-(F.t+(1-N[1])*F.h));var W=O&&O.object._trace.handlePick(O);if(W&&E&&this.emitPointAction(W,"plotly_click"),O&&O.object._trace.hoverinfo!=="skip"&&m.hovermode&&W&&(!this.lastPickResult||this.lastPickResult.traceUid!==W.trace.uid||this.lastPickResult.dataCoord[0]!==W.dataCoord[0]||this.lastPickResult.dataCoord[1]!==W.dataCoord[1])){var Z=W;this.lastPickResult={traceUid:W.trace?W.trace.uid:null,dataCoord:W.dataCoord.slice()},this.spikes.update({center:O.dataCoord}),Z.screenCoord=[((S.viewBox[2]-S.viewBox[0])*(O.dataCoord[0]-S.dataBox[0])/(S.dataBox[2]-S.dataBox[0])+S.viewBox[0])/S.pixelRatio,(this.canvas.height-(S.viewBox[3]-S.viewBox[1])*(O.dataCoord[1]-S.dataBox[1])/(S.dataBox[3]-S.dataBox[1])-S.viewBox[1])/S.pixelRatio],this.emitPointAction(W,"plotly_hover");var q=this.fullData[Z.trace.index]||{},re=Z.pointIndex,le=s.castHoverinfo(q,m,re);if(le&&le!=="all"){var ie=le.split("+");ie.indexOf("x")===-1&&(Z.traceCoord[0]=void 0),ie.indexOf("y")===-1&&(Z.traceCoord[1]=void 0),ie.indexOf("z")===-1&&(Z.traceCoord[2]=void 0),ie.indexOf("text")===-1&&(Z.textLabel=void 0),ie.indexOf("name")===-1&&(Z.name=void 0)}s.loneHover({x:Z.screenCoord[0],y:Z.screenCoord[1],xLabel:this.hoverFormatter("xaxis",Z.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",Z.traceCoord[1]),zLabel:Z.traceCoord[2],text:Z.textLabel,name:Z.name,color:s.castHoverOption(q,re,"bgcolor")||Z.color,borderColor:s.castHoverOption(q,re,"bordercolor"),fontFamily:s.castHoverOption(q,re,"font.family"),fontSize:s.castHoverOption(q,re,"font.size"),fontColor:s.castHoverOption(q,re,"font.color"),nameLength:s.castHoverOption(q,re,"namelength"),textAlign:s.castHoverOption(q,re,"align")},{container:this.svgContainer,gd:this.graphDiv})}}O||this.unhover(),S.draw()}},C.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),s.loneUnhover(this.svgContainer))},C.hoverFormatter=function(S,A){if(A!==void 0){var i=this[S];return P.tickText(i,i.c2l(A),"hover").text}}},12536:function(Y,V,e){var b=e(67824).overrideAll,P=e(65460),s=e(98432),L=e(84888).op,M=e(3400),v=e(9616),p="gl3d",r="scene";V.name=p,V.attr=r,V.idRoot=r,V.idRegex=V.attrRegex=M.counterRegex("scene"),V.attributes=e(6636),V.layoutAttributes=e(346),V.baseLayoutAttrOverrides=b({hoverlabel:P.hoverlabel},"plot","nested"),V.supplyLayoutDefaults=e(5208),V.plot=function(o){for(var n=o._fullLayout,l=o._fullData,u=n._subplots[p],f=0;f<u.length;f++){var g=u[f],h=L(l,p,g),w=n[g],c=w.camera,a=w._scene;a||(a=new s({id:g,graphDiv:o,container:o.querySelector(".gl-container"),staticPlot:o._context.staticPlot,plotGlPixelRatio:o._context.plotGlPixelRatio,camera:c},n),w._scene=a),a.viewInitial||(a.viewInitial={up:{x:c.up.x,y:c.up.y,z:c.up.z},eye:{x:c.eye.x,y:c.eye.y,z:c.eye.z},center:{x:c.center.x,y:c.center.y,z:c.center.z}}),a.plot(h,n,o.layout)}},V.clean=function(t,o,n,l){for(var u=l._subplots[p]||[],f=0;f<u.length;f++){var g=u[f];!o[g]&&l[g]._scene&&(l[g]._scene.destroy(),l._infolayer&&l._infolayer.selectAll(".annotation-"+g).remove())}},V.toSVG=function(t){for(var o=t._fullLayout,n=o._subplots[p],l=o._size,u=0;u<n.length;u++){var f=o[n[u]],g=f.domain,h=f._scene,w=h.toImage("png"),c=o._glimages.append("svg:image");c.attr({xmlns:v.svg,"xlink:href":w,x:l.l+l.w*g.x[0],y:l.t+l.h*(1-g.y[1]),width:l.w*(g.x[1]-g.x[0]),height:l.h*(g.y[1]-g.y[0]),preserveAspectRatio:"none"}),h.destroy()}},V.cleanId=function(o){if(o.match(/^scene[0-9]*$/)){var n=o.substr(5);return n==="1"&&(n=""),r+n}},V.updateFx=function(t){for(var o=t._fullLayout,n=o._subplots[p],l=0;l<n.length;l++){var u=o[n[l]]._scene;u.updateFx(o.dragmode,o.hovermode)}}},6636:function(Y){Y.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},86140:function(Y,V,e){var b=e(76308),P=e(94724),s=e(92880).extendFlat,L=e(67824).overrideAll;Y.exports=L({visible:P.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:b.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:P.color,categoryorder:P.categoryorder,categoryarray:P.categoryarray,title:{text:P.title.text,font:P.title.font},type:s({},P.type,{values:["-","linear","log","date","category"]}),autotypenumbers:P.autotypenumbers,autorange:P.autorange,autorangeoptions:{minallowed:P.autorangeoptions.minallowed,maxallowed:P.autorangeoptions.maxallowed,clipmin:P.autorangeoptions.clipmin,clipmax:P.autorangeoptions.clipmax,include:P.autorangeoptions.include,editType:"plot"},rangemode:P.rangemode,minallowed:P.minallowed,maxallowed:P.maxallowed,range:s({},P.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:P.minor.tickmode,nticks:P.nticks,tick0:P.tick0,dtick:P.dtick,tickvals:P.tickvals,ticktext:P.ticktext,ticks:P.ticks,mirror:P.mirror,ticklen:P.ticklen,tickwidth:P.tickwidth,tickcolor:P.tickcolor,showticklabels:P.showticklabels,labelalias:P.labelalias,tickfont:P.tickfont,tickangle:P.tickangle,tickprefix:P.tickprefix,showtickprefix:P.showtickprefix,ticksuffix:P.ticksuffix,showticksuffix:P.showticksuffix,showexponent:P.showexponent,exponentformat:P.exponentformat,minexponent:P.minexponent,separatethousands:P.separatethousands,tickformat:P.tickformat,tickformatstops:P.tickformatstops,hoverformat:P.hoverformat,showline:P.showline,linecolor:P.linecolor,linewidth:P.linewidth,showgrid:P.showgrid,gridcolor:s({},P.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:P.gridwidth,zeroline:P.zeroline,zerolinecolor:P.zerolinecolor,zerolinewidth:P.zerolinewidth,_deprecated:{title:P._deprecated.title,titlefont:P._deprecated.titlefont}},"plot","from-root")},64380:function(Y,V,e){var b=e(49760).mix,P=e(3400),s=e(31780),L=e(86140),M=e(14944),v=e(28336),p=["xaxis","yaxis","zaxis"],r=100*136/187;Y.exports=function(o,n,l){var u,f;function g(c,a){return P.coerce(u,f,L,c,a)}for(var h=0;h<p.length;h++){var w=p[h];u=o[w]||{},f=s.newContainer(n,w),f._id=w[0]+l.scene,f._name=w,M(u,f,g,l),v(u,f,g,{font:l.font,letter:w[0],data:l.data,showGrid:!0,noAutotickangles:!0,noTicklabelindex:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:l.bgColor,calendar:l.calendar},l.fullLayout),g("gridcolor",b(f.color,l.bgColor,r).toRgbString()),g("title.text",w[0]),f.setScale=P.noop,g("showspikes")&&(g("spikesides"),g("spikethickness"),g("spikecolor",f.color)),g("showaxeslabels"),g("showbackground")&&g("backgroundcolor")}}},44728:function(Y,V,e){var b=e(43080),P=e(3400),s=["xaxis","yaxis","zaxis"];function L(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickFontWeight=["normal","normal","normal","normal"],this.tickFontStyle=["normal","normal","normal","normal"],this.tickFontVariant=["normal","normal","normal","normal"],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelFontWeight=["normal","normal","normal","normal"],this.labelFontStyle=["normal","normal","normal","normal"],this.labelFontVariant=["normal","normal","normal","normal"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var M=L.prototype;M.merge=function(p,r){for(var t=this,o=0;o<3;++o){var n=r[s[o]];if(!n.visible){t.tickEnable[o]=!1,t.labelEnable[o]=!1,t.lineEnable[o]=!1,t.lineTickEnable[o]=!1,t.gridEnable[o]=!1,t.zeroEnable[o]=!1,t.backgroundEnable[o]=!1;continue}t.labels[o]=p._meta?P.templateString(n.title.text,p._meta):n.title.text,"font"in n.title&&(n.title.font.color&&(t.labelColor[o]=b(n.title.font.color)),n.title.font.family&&(t.labelFont[o]=n.title.font.family),n.title.font.size&&(t.labelSize[o]=n.title.font.size),n.title.font.weight&&(t.labelFontWeight[o]=n.title.font.weight),n.title.font.style&&(t.labelFontStyle[o]=n.title.font.style),n.title.font.variant&&(t.labelFontVariant[o]=n.title.font.variant)),"showline"in n&&(t.lineEnable[o]=n.showline),"linecolor"in n&&(t.lineColor[o]=b(n.linecolor)),"linewidth"in n&&(t.lineWidth[o]=n.linewidth),"showgrid"in n&&(t.gridEnable[o]=n.showgrid),"gridcolor"in n&&(t.gridColor[o]=b(n.gridcolor)),"gridwidth"in n&&(t.gridWidth[o]=n.gridwidth),n.type==="log"?t.zeroEnable[o]=!1:"zeroline"in n&&(t.zeroEnable[o]=n.zeroline),"zerolinecolor"in n&&(t.zeroLineColor[o]=b(n.zerolinecolor)),"zerolinewidth"in n&&(t.zeroLineWidth[o]=n.zerolinewidth),"ticks"in n&&n.ticks?t.lineTickEnable[o]=!0:t.lineTickEnable[o]=!1,"ticklen"in n&&(t.lineTickLength[o]=t._defaultLineTickLength[o]=n.ticklen),"tickcolor"in n&&(t.lineTickColor[o]=b(n.tickcolor)),"tickwidth"in n&&(t.lineTickWidth[o]=n.tickwidth),"tickangle"in n&&(t.tickAngle[o]=n.tickangle==="auto"?-3600:Math.PI*-n.tickangle/180),"showticklabels"in n&&(t.tickEnable[o]=n.showticklabels),"tickfont"in n&&(n.tickfont.color&&(t.tickColor[o]=b(n.tickfont.color)),n.tickfont.family&&(t.tickFont[o]=n.tickfont.family),n.tickfont.size&&(t.tickSize[o]=n.tickfont.size),n.tickfont.weight&&(t.tickFontWeight[o]=n.tickfont.weight),n.tickfont.style&&(t.tickFontStyle[o]=n.tickfont.style),n.tickfont.variant&&(t.tickFontVariant[o]=n.tickfont.variant)),"mirror"in n?["ticks","all","allticks"].indexOf(n.mirror)!==-1?(t.lineTickMirror[o]=!0,t.lineMirror[o]=!0):n.mirror===!0?(t.lineTickMirror[o]=!1,t.lineMirror[o]=!0):(t.lineTickMirror[o]=!1,t.lineMirror[o]=!1):t.lineMirror[o]=!1,"showbackground"in n&&n.showbackground!==!1?(t.backgroundEnable[o]=!0,t.backgroundColor[o]=b(n.backgroundcolor)):t.backgroundEnable[o]=!1}};function v(p,r){var t=new L;return t.merge(p,r),t}Y.exports=v},5208:function(Y,V,e){var b=e(3400),P=e(76308),s=e(24040),L=e(168),M=e(64380),v=e(346),p=e(84888).op,r="gl3d";Y.exports=function(n,l,u){var f=l._basePlotModules.length>1;function g(h){if(!f){var w=b.validate(n[h],v[h]);if(w)return n[h]}}L(n,l,u,{type:r,attributes:v,handleDefaults:t,fullLayout:l,font:l.font,fullData:u,getDfltFromLayout:g,autotypenumbersDflt:l.autotypenumbers,paper_bgcolor:l.paper_bgcolor,calendar:l.calendar})};function t(o,n,l,u){for(var f=l("bgcolor"),g=P.combine(f,u.paper_bgcolor),h=["up","center","eye"],w=0;w<h.length;w++)l("camera."+h[w]+".x"),l("camera."+h[w]+".y"),l("camera."+h[w]+".z");l("camera.projection.type");var c=!!l("aspectratio.x")&&!!l("aspectratio.y")&&!!l("aspectratio.z"),a=c?"manual":"auto",d=l("aspectmode",a);c||(o.aspectratio=n.aspectratio={x:1,y:1,z:1},d==="manual"&&(n.aspectmode="auto"),o.aspectmode=n.aspectmode);var x=p(u.fullData,r,u.id);M(o,n,{font:u.font,scene:u.id,data:x,bgColor:g,calendar:u.calendar,autotypenumbersDflt:u.autotypenumbersDflt,fullLayout:u.fullLayout}),s.getComponentMethod("annotations3d","handleDefaults")(o,n,u);var T=u.getDfltFromLayout("dragmode");if(T!==!1&&!T)if(T="orbit",o.camera&&o.camera.up){var C=o.camera.up.x,y=o.camera.up.y,S=o.camera.up.z;S!==0&&(!C||!y||!S||S/Math.sqrt(C*C+y*y+S*S)>.999)&&(T="turntable")}else T="turntable";l("dragmode",T),l("hovermode",u.getDfltFromLayout("hovermode"))}},346:function(Y,V,e){var b=e(86140),P=e(86968).u,s=e(92880).extendFlat,L=e(3400).counterRegex;function M(v,p,r){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:p,editType:"camera"},z:{valType:"number",dflt:r,editType:"camera"},editType:"camera"}}Y.exports={_arrayAttrRegexps:[L("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:s(M(0,0,1),{}),center:s(M(0,0,0),{}),eye:s(M(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:P({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:b,yaxis:b,zaxis:b,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},9020:function(Y,V,e){var b=e(43080),P=["xaxis","yaxis","zaxis"];function s(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var L=s.prototype;L.merge=function(v){for(var p=0;p<3;++p){var r=v[P[p]];if(!r.visible){this.enabled[p]=!1,this.drawSides[p]=!1;continue}this.enabled[p]=r.showspikes,this.colors[p]=b(r.spikecolor),this.drawSides[p]=r.spikesides,this.lineWidth[p]=r.spikethickness}};function M(v){var p=new s;return p.merge(v),p}Y.exports=M},87152:function(Y,V,e){Y.exports=M;var b=e(54460),P=e(3400),s=["xaxis","yaxis","zaxis"];function L(v){for(var p=new Array(3),r=0;r<3;++r){for(var t=v[r],o=new Array(t.length),n=0;n<t.length;++n)o[n]=t[n].x;p[r]=o}return p}function M(v){for(var p=v.axesOptions,r=v.glplot.axesPixels,t=v.fullSceneLayout,o=[[],[],[]],n=0;n<3;++n){var l=t[s[n]];if(l._length=(r[n].hi-r[n].lo)*r[n].pixelsPerDataUnit/v.dataScale[n],Math.abs(l._length)===1/0||isNaN(l._length))o[n]=[];else{l._input_range=l.range.slice(),l.range[0]=r[n].lo/v.dataScale[n],l.range[1]=r[n].hi/v.dataScale[n],l._m=1/(v.dataScale[n]*r[n].pixelsPerDataUnit),l.range[0]===l.range[1]&&(l.range[0]-=1,l.range[1]+=1);var u=l.tickmode;if(l.tickmode==="auto"){l.tickmode="linear";var f=l.nticks||P.constrain(l._length/40,4,9);b.autoTicks(l,Math.abs(l.range[1]-l.range[0])/f)}for(var g=b.calcTicks(l,{msUTC:!0}),h=0;h<g.length;++h)g[h].x=g[h].x*v.dataScale[n],l.type==="date"&&(g[h].text=g[h].text.replace(/\<br\>/g," "));o[n]=g,l.tickmode=u}}p.ticks=o;for(var n=0;n<3;++n){.5*(v.glplot.bounds[0][n]+v.glplot.bounds[1][n]);for(var h=0;h<2;++h)p.bounds[h][n]=v.glplot.bounds[h][n]}v.contourLevels=L(o)}},94424:function(Y){function V(b,P){var s=[0,0,0,0],L,M;for(L=0;L<4;++L)for(M=0;M<4;++M)s[M]+=b[4*L+M]*P[L];return s}function e(b,P){var s=V(b.projection,V(b.view,V(b.model,[P[0],P[1],P[2],1])));return s}Y.exports=e},98432:function(Y,V,e){var b=e(67792).gl_plot3d,P=b.createCamera,s=b.createScene,L=e(5408),M=e(89184),v=e(24040),p=e(3400),r=p.preserveDrawingBuffer(),t=e(54460),o=e(93024),n=e(43080),l=e(16576),u=e(94424),f=e(44728),g=e(9020),h=e(87152),w=e(19280).applyAutorangeOptions,c,a,d=!1;function x(I,O){var _=document.createElement("div"),B=I.container;this.graphDiv=I.graphDiv;var F=document.createElementNS("http://www.w3.org/2000/svg","svg");F.style.position="absolute",F.style.top=F.style.left="0px",F.style.width=F.style.height="100%",F.style["z-index"]=20,F.style["pointer-events"]="none",_.appendChild(F),this.svgContainer=F,_.id=I.id,_.style.position="absolute",_.style.top=_.style.left="0px",_.style.width=_.style.height="100%",B.appendChild(_),this.fullLayout=O,this.id=I.id||"scene",this.fullSceneLayout=O[this.id],this.plotArgs=[[],{},{}],this.axesOptions=f(O,O[this.id]),this.spikeOptions=g(O[this.id]),this.container=_,this.staticMode=!!I.staticPlot,this.pixelRatio=this.pixelRatio||I.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=v.getComponentMethod("annotations3d","convert"),this.drawAnnotations=v.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var T=x.prototype;T.prepareOptions=function(){var I=this,O={canvas:I.canvas,gl:I.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:I.container,axes:I.axesOptions,spikes:I.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:I.camera,pixelRatio:I.pixelRatio};if(I.staticMode){if(!a&&(c=document.createElement("canvas"),a=L({canvas:c,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!a))throw new Error("error creating static canvas/context for image server");O.gl=a,O.canvas=c}return O};var C=!0;T.tryCreatePlot=function(){var I=this,O=I.prepareOptions(),_=!0;try{I.glplot=s(O)}catch{if(I.staticMode||!C||r)_=!1;else{p.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=O.glOptions.preserveDrawingBuffer=!0,I.glplot=s(O)}catch{r=O.glOptions.preserveDrawingBuffer=!1,_=!1}}}return C=!1,_},T.initializeGLCamera=function(){var I=this,O=I.fullSceneLayout.camera,_=O.projection.type==="orthographic";I.camera=P(I.container,{center:[O.center.x,O.center.y,O.center.z],eye:[O.eye.x,O.eye.y,O.eye.z],up:[O.up.x,O.up.y,O.up.z],_ortho:_,zoomMin:.01,zoomMax:100,mode:"orbit"})},T.initializeGLPlot=function(){var I=this;I.initializeGLCamera();var O=I.tryCreatePlot();if(!O)return l(I);I.traces={},I.make4thDimension();var _=I.graphDiv,B=_.layout,F=function(){var N={};return I.isCameraChanged(B)&&(N[I.id+".camera"]=I.getCamera()),I.isAspectChanged(B)&&(N[I.id+".aspectratio"]=I.glplot.getAspectratio(),B[I.id].aspectmode!=="manual"&&(I.fullSceneLayout.aspectmode=B[I.id].aspectmode=N[I.id+".aspectmode"]="manual")),N},z=function(N){if(N.fullSceneLayout.dragmode!==!1){var W=F();N.saveLayout(B),N.graphDiv.emit("plotly_relayout",W)}};return I.glplot.canvas&&(I.glplot.canvas.addEventListener("mouseup",function(){z(I)}),I.glplot.canvas.addEventListener("touchstart",function(){d=!0}),I.glplot.canvas.addEventListener("wheel",function(N){if(_._context._scrollZoom.gl3d){if(I.camera._ortho){var W=N.deltaX>N.deltaY?1.1:.9090909090909091,Z=I.glplot.getAspectratio();I.glplot.setAspectratio({x:W*Z.x,y:W*Z.y,z:W*Z.z})}z(I)}},M?{passive:!1}:!1),I.glplot.canvas.addEventListener("mousemove",function(){if(I.fullSceneLayout.dragmode!==!1&&I.camera.mouseListener.buttons!==0){var N=F();I.graphDiv.emit("plotly_relayouting",N)}}),I.staticMode||I.glplot.canvas.addEventListener("webglcontextlost",function(N){_&&_.emit&&_.emit("plotly_webglcontextlost",{event:N,layer:I.id})},!1)),I.glplot.oncontextloss=function(){I.recoverContext()},I.glplot.onrender=function(){I.render()},!0},T.render=function(){var I=this,O=I.graphDiv,_,B=I.svgContainer,F=I.container.getBoundingClientRect();O._fullLayout._calcInverseTransform(O);var z=O._fullLayout._invScaleX,N=O._fullLayout._invScaleY,W=F.width*z,Z=F.height*N;B.setAttributeNS(null,"viewBox","0 0 "+W+" "+Z),B.setAttributeNS(null,"width",W),B.setAttributeNS(null,"height",Z),h(I),I.glplot.axes.update(I.axesOptions);for(var q=Object.keys(I.traces),re=null,le=I.glplot.selection,ie=0;ie<q.length;++ie)_=I.traces[q[ie]],_.data.hoverinfo!=="skip"&&_.handlePick(le)&&(re=_),_.setContourLevels&&_.setContourLevels();function K(Ce,De,Oe){var Te=I.fullSceneLayout[Ce+"axis"];return Te.type!=="log"&&(De=Te.d2l(De)),t.hoverLabelText(Te,De,Oe)}if(re!==null){var $=u(I.glplot.cameraParams,le.dataCoordinate);_=re.data;var X=O._fullData[_.index],Q=le.index,se={xLabel:K("x",le.traceCoordinate[0],_.xhoverformat),yLabel:K("y",le.traceCoordinate[1],_.yhoverformat),zLabel:K("z",le.traceCoordinate[2],_.zhoverformat)},J=o.castHoverinfo(X,I.fullLayout,Q),G=(J||"").split("+"),oe=J&&J==="all";!X.hovertemplate&&!oe&&(G.indexOf("x")===-1&&(se.xLabel=void 0),G.indexOf("y")===-1&&(se.yLabel=void 0),G.indexOf("z")===-1&&(se.zLabel=void 0),G.indexOf("text")===-1&&(le.textLabel=void 0),G.indexOf("name")===-1&&(re.name=void 0));var te,fe=[];_.type==="cone"||_.type==="streamtube"?(se.uLabel=K("x",le.traceCoordinate[3],_.uhoverformat),(oe||G.indexOf("u")!==-1)&&fe.push("u: "+se.uLabel),se.vLabel=K("y",le.traceCoordinate[4],_.vhoverformat),(oe||G.indexOf("v")!==-1)&&fe.push("v: "+se.vLabel),se.wLabel=K("z",le.traceCoordinate[5],_.whoverformat),(oe||G.indexOf("w")!==-1)&&fe.push("w: "+se.wLabel),se.normLabel=le.traceCoordinate[6].toPrecision(3),(oe||G.indexOf("norm")!==-1)&&fe.push("norm: "+se.normLabel),_.type==="streamtube"&&(se.divergenceLabel=le.traceCoordinate[7].toPrecision(3),(oe||G.indexOf("divergence")!==-1)&&fe.push("divergence: "+se.divergenceLabel)),le.textLabel&&fe.push(le.textLabel),te=fe.join("<br>")):_.type==="isosurface"||_.type==="volume"?(se.valueLabel=t.hoverLabelText(I._mockAxis,I._mockAxis.d2l(le.traceCoordinate[3]),_.valuehoverformat),fe.push("value: "+se.valueLabel),le.textLabel&&fe.push(le.textLabel),te=fe.join("<br>")):te=le.textLabel;var ge={x:le.traceCoordinate[0],y:le.traceCoordinate[1],z:le.traceCoordinate[2],data:X._input,fullData:X,curveNumber:X.index,pointNumber:Q};o.appendArrayPointValue(ge,X,Q),_._module.eventData&&(ge=X._module.eventData(ge,le,X,{},Q));var we={points:[ge]};if(I.fullSceneLayout.hovermode){var xe=[];o.loneHover({trace:X,x:(.5+.5*$[0]/$[3])*W,y:(.5-.5*$[1]/$[3])*Z,xLabel:se.xLabel,yLabel:se.yLabel,zLabel:se.zLabel,text:te,name:re.name,color:o.castHoverOption(X,Q,"bgcolor")||re.color,borderColor:o.castHoverOption(X,Q,"bordercolor"),fontFamily:o.castHoverOption(X,Q,"font.family"),fontSize:o.castHoverOption(X,Q,"font.size"),fontColor:o.castHoverOption(X,Q,"font.color"),nameLength:o.castHoverOption(X,Q,"namelength"),textAlign:o.castHoverOption(X,Q,"align"),hovertemplate:p.castOption(X,Q,"hovertemplate"),hovertemplateLabels:p.extendFlat({},ge,se),eventData:[ge]},{container:B,gd:O,inOut_bbox:xe}),ge.bbox=xe[0]}le.distance<5&&(le.buttons||d)?O.emit("plotly_click",we):O.emit("plotly_hover",we),this.oldEventData=we}else o.loneUnhover(B),this.oldEventData&&O.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;I.drawAnnotations(I)},T.recoverContext=function(){var I=this;I.glplot.dispose();var O=function(){if(I.glplot.gl.isContextLost()){requestAnimationFrame(O);return}if(!I.initializeGLPlot()){p.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}I.plot.apply(I,I.plotArgs)};requestAnimationFrame(O)};var y=["xaxis","yaxis","zaxis"];function S(I,O,_){for(var B=I.fullSceneLayout,F=0;F<3;F++){var z=y[F],N=z.charAt(0),W=B[z],Z=O[N],q=O[N+"calendar"],re=O["_"+N+"length"];if(!p.isArrayOrTypedArray(Z))_[0][F]=Math.min(_[0][F],0),_[1][F]=Math.max(_[1][F],re-1);else for(var le,ie=0;ie<(re||Z.length);ie++)if(p.isArrayOrTypedArray(Z[ie]))for(var K=0;K<Z[ie].length;++K)le=W.d2l(Z[ie][K],0,q),!isNaN(le)&&isFinite(le)&&(_[0][F]=Math.min(_[0][F],le),_[1][F]=Math.max(_[1][F],le));else le=W.d2l(Z[ie],0,q),!isNaN(le)&&isFinite(le)&&(_[0][F]=Math.min(_[0][F],le),_[1][F]=Math.max(_[1][F],le))}}function A(I,O){for(var _=I.fullSceneLayout,B=_.annotations||[],F=0;F<3;F++)for(var z=y[F],N=z.charAt(0),W=_[z],Z=0;Z<B.length;Z++){var q=B[Z];if(q.visible){var re=W.r2l(q[N]);!isNaN(re)&&isFinite(re)&&(O[0][F]=Math.min(O[0][F],re),O[1][F]=Math.max(O[1][F],re))}}}T.plot=function(I,O,_){var B=this;if(B.plotArgs=[I,O,_],!B.glplot.contextLost){var F,z,N,W,Z,q,re=O[B.id],le=_[B.id];B.fullLayout=O,B.fullSceneLayout=re,B.axesOptions.merge(O,re),B.spikeOptions.merge(re),B.setViewport(re),B.updateFx(re.dragmode,re.hovermode),B.camera.enableWheel=B.graphDiv._context._scrollZoom.gl3d,B.glplot.setClearColor(n(re.bgcolor)),B.setConvert(Z),I?Array.isArray(I)||(I=[I]):I=[];var ie=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(N=0;N<I.length;++N)F=I[N],!(F.visible!==!0||F._length===0)&&S(this,F,ie);A(this,ie);var K=[1,1,1];for(W=0;W<3;++W)ie[1][W]===ie[0][W]?K[W]=1:K[W]=1/(ie[1][W]-ie[0][W]);for(B.dataScale=K,B.convertAnnotations(this),N=0;N<I.length;++N)F=I[N],!(F.visible!==!0||F._length===0)&&(z=B.traces[F.uid],z?z.data.type===F.type?z.update(F):(z.dispose(),z=F._module.plot(this,F),B.traces[F.uid]=z):(z=F._module.plot(this,F),B.traces[F.uid]=z),z.name=F.name);var $=Object.keys(B.traces);e:for(N=0;N<$.length;++N){for(W=0;W<I.length;++W)if(I[W].uid===$[N]&&I[W].visible===!0&&I[W]._length!==0)continue e;z=B.traces[$[N]],z.dispose(),delete B.traces[$[N]]}B.glplot.objects.sort(function(at,Ze){return at._trace.data.index-Ze._trace.data.index});var X=[[0,0,0],[0,0,0]],Q={};for(N=0;N<3;++N){Z=re[y[N]],q=Z.type,q in Q?(Q[q].acc*=K[N],Q[q].count+=1):Q[q]={acc:K[N],count:1};var se;if(Z.autorange){X[0][N]=1/0,X[1][N]=-1/0;var J=B.glplot.objects,G=B.fullSceneLayout.annotations||[],oe=Z._name.charAt(0);for(W=0;W<J.length;W++){var te=J[W],fe=te.bounds,ge=te._trace.data._pad||0;te.constructor.name==="ErrorBars"&&Z._lowerLogErrorBound?X[0][N]=Math.min(X[0][N],Z._lowerLogErrorBound):X[0][N]=Math.min(X[0][N],fe[0][N]/K[N]-ge),X[1][N]=Math.max(X[1][N],fe[1][N]/K[N]+ge)}for(W=0;W<G.length;W++){var we=G[W];if(we.visible){var xe=Z.r2l(we[oe]);X[0][N]=Math.min(X[0][N],xe),X[1][N]=Math.max(X[1][N],xe)}}if("rangemode"in Z&&Z.rangemode==="tozero"&&(X[0][N]=Math.min(X[0][N],0),X[1][N]=Math.max(X[1][N],0)),X[0][N]>X[1][N])X[0][N]=-1,X[1][N]=1;else{var Ce=X[1][N]-X[0][N];X[0][N]-=Ce/32,X[1][N]+=Ce/32}if(se=[X[0][N],X[1][N]],se=w(se,Z),X[0][N]=se[0],X[1][N]=se[1],Z.isReversed()){var De=X[0][N];X[0][N]=X[1][N],X[1][N]=De}}else se=Z.range,X[0][N]=Z.r2l(se[0]),X[1][N]=Z.r2l(se[1]);X[0][N]===X[1][N]&&(X[0][N]-=1,X[1][N]+=1),Z.range=[X[0][N],X[1][N]],Z.limitRange(),B.glplot.setBounds(N,{min:Z.range[0]*K[N],max:Z.range[1]*K[N]})}var Oe,Te=re.aspectmode;if(Te==="cube")Oe=[1,1,1];else if(Te==="manual"){var Re=re.aspectratio;Oe=[Re.x,Re.y,Re.z]}else if(Te==="auto"||Te==="data"){var Me=[1,1,1];for(N=0;N<3;++N){Z=re[y[N]],q=Z.type;var ke=Q[q];Me[N]=Math.pow(ke.acc,1/ke.count)/K[N]}Te==="data"||Math.max.apply(null,Me)/Math.min.apply(null,Me)<=4?Oe=Me:Oe=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");re.aspectratio.x=le.aspectratio.x=Oe[0],re.aspectratio.y=le.aspectratio.y=Oe[1],re.aspectratio.z=le.aspectratio.z=Oe[2],B.glplot.setAspectratio(re.aspectratio),B.viewInitial.aspectratio||(B.viewInitial.aspectratio={x:re.aspectratio.x,y:re.aspectratio.y,z:re.aspectratio.z}),B.viewInitial.aspectmode||(B.viewInitial.aspectmode=re.aspectmode);var Se=re.domain||null,He=O._size||null;if(Se&&He){var je=B.container.style;je.position="absolute",je.left=He.l+Se.x[0]*He.w+"px",je.top=He.t+(1-Se.y[1])*He.h+"px",je.width=He.w*(Se.x[1]-Se.x[0])+"px",je.height=He.h*(Se.y[1]-Se.y[0])+"px"}B.glplot.redraw()}},T.destroy=function(){var I=this;I.glplot&&(I.camera.mouseListener.enabled=!1,I.container.removeEventListener("wheel",I.camera.wheelListener),I.camera=null,I.glplot.dispose(),I.container.parentNode.removeChild(I.container),I.glplot=null)};function i(I){return[[I.eye.x,I.eye.y,I.eye.z],[I.center.x,I.center.y,I.center.z],[I.up.x,I.up.y,I.up.z]]}function E(I){return{up:{x:I.up[0],y:I.up[1],z:I.up[2]},center:{x:I.center[0],y:I.center[1],z:I.center[2]},eye:{x:I.eye[0],y:I.eye[1],z:I.eye[2]},projection:{type:I._ortho===!0?"orthographic":"perspective"}}}T.getCamera=function(){var I=this;return I.camera.view.recalcMatrix(I.camera.view.lastT()),E(I.camera)},T.setViewport=function(I){var O=this,_=I.camera;O.camera.lookAt.apply(this,i(_)),O.glplot.setAspectratio(I.aspectratio);var B=_.projection.type==="orthographic",F=O.camera._ortho;B!==F&&(O.glplot.redraw(),O.glplot.clearRGBA(),O.glplot.dispose(),O.initializeGLPlot())},T.isCameraChanged=function(I){var O=this,_=O.getCamera(),B=p.nestedProperty(I,O.id+".camera"),F=B.get();function z(q,re,le,ie){var K=["up","center","eye"],$=["x","y","z"];return re[K[le]]&&q[K[le]][$[ie]]===re[K[le]][$[ie]]}var N=!1;if(F===void 0)N=!0;else{for(var W=0;W<3;W++)for(var Z=0;Z<3;Z++)if(!z(_,F,W,Z)){N=!0;break}(!F.projection||_.projection&&_.projection.type!==F.projection.type)&&(N=!0)}return N},T.isAspectChanged=function(I){var O=this,_=O.glplot.getAspectratio(),B=p.nestedProperty(I,O.id+".aspectratio"),F=B.get();return F===void 0||F.x!==_.x||F.y!==_.y||F.z!==_.z},T.saveLayout=function(I){var O=this,_=O.fullLayout,B,F,z,N,W,Z,q=O.isCameraChanged(I),re=O.isAspectChanged(I),le=q||re;if(le){var ie={};if(q&&(B=O.getCamera(),F=p.nestedProperty(I,O.id+".camera"),z=F.get(),ie[O.id+".camera"]=z),re&&(N=O.glplot.getAspectratio(),W=p.nestedProperty(I,O.id+".aspectratio"),Z=W.get(),ie[O.id+".aspectratio"]=Z),v.call("_storeDirectGUIEdit",I,_._preGUI,ie),q){F.set(B);var K=p.nestedProperty(_,O.id+".camera");K.set(B)}if(re){W.set(N);var $=p.nestedProperty(_,O.id+".aspectratio");$.set(N),O.glplot.redraw()}}return le},T.updateFx=function(I,O){var _=this,B=_.camera;if(B)if(I==="orbit")B.mode="orbit",B.keyBindingMode="rotate";else if(I==="turntable"){B.up=[0,0,1],B.mode="turntable",B.keyBindingMode="rotate";var F=_.graphDiv,z=F._fullLayout,N=_.fullSceneLayout.camera,W=N.up.x,Z=N.up.y,q=N.up.z;if(q/Math.sqrt(W*W+Z*Z+q*q)<.999){var re=_.id+".camera.up",le={x:0,y:0,z:1},ie={};ie[re]=le;var K=F.layout;v.call("_storeDirectGUIEdit",K,z._preGUI,ie),N.up=le,p.nestedProperty(K,re).set(le)}}else B.keyBindingMode=I;_.fullSceneLayout.hovermode=O};function m(I,O,_){for(var B=0,F=_-1;B<F;++B,--F)for(var z=0;z<O;++z)for(var N=0;N<4;++N){var W=4*(O*B+z)+N,Z=4*(O*F+z)+N,q=I[W];I[W]=I[Z],I[Z]=q}}function k(I,O,_){for(var B=0;B<_;++B)for(var F=0;F<O;++F){var z=4*(O*B+F),N=I[z+3];if(N>0)for(var W=255/N,Z=0;Z<3;++Z)I[z+Z]=Math.min(W*I[z+Z],255)}}T.toImage=function(I){var O=this;I||(I="png"),O.staticMode&&O.container.appendChild(c),O.glplot.redraw();var _=O.glplot.gl,B=_.drawingBufferWidth,F=_.drawingBufferHeight;_.bindFramebuffer(_.FRAMEBUFFER,null);var z=new Uint8Array(B*F*4);_.readPixels(0,0,B,F,_.RGBA,_.UNSIGNED_BYTE,z),m(z,B,F),k(z,B,F);var N=document.createElement("canvas");N.width=B,N.height=F;var W=N.getContext("2d",{willReadFrequently:!0}),Z=W.createImageData(B,F);Z.data.set(z),W.putImageData(Z,0,0);var q;switch(I){case"jpeg":q=N.toDataURL("image/jpeg");break;case"webp":q=N.toDataURL("image/webp");break;default:q=N.toDataURL("image/png")}return O.staticMode&&O.container.removeChild(c),q},T.setConvert=function(){for(var I=this,O=0;O<3;O++){var _=I.fullSceneLayout[y[O]];t.setConvert(_,I.fullLayout),_.setScale=p.noop}},T.make4thDimension=function(){var I=this,O=I.graphDiv,_=O._fullLayout;I._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},t.setConvert(I._mockAxis,_)},Y.exports=x},52094:function(Y){Y.exports=function(e,b,P,s){s=s||e.length;for(var L=new Array(s),M=0;M<s;M++)L[M]=[e[M],b[M],P[M]];return L}},64859:function(Y,V,e){var b=e(25376),P=e(85656),s=e(22548),L=e(92872),M=e(34200),v=e(66741),p=e(92880).extendFlat,r=b({editType:"calc"});r.family.dflt='"Open Sans", verdana, arial, sans-serif',r.size.dflt=12,r.color.dflt=s.defaultLine,Y.exports={font:r,title:{text:{valType:"string",editType:"layoutstyle"},font:b({editType:"layoutstyle"}),subtitle:{text:{valType:"string",editType:"layoutstyle"},font:b({editType:"layoutstyle"}),editType:"layoutstyle"},xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:p(v({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:s.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:s.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:s.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:L.newshape,activeshape:L.activeshape,newselection:M.newselection,activeselection:M.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:p({},P.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:b({editType:"layoutstyle"})}}},47552:function(Y,V,e){var b=e(95376),P="1.13.4",s='© <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',L=['© <a target="_blank" href="https://carto.com/">Carto</a>',s].join(" "),M=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),v=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),p={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:s,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:L,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:L,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:M,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:M,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:v,tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},r=b(p);Y.exports={requiredVersion:P,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:p,styleValuesNonMapbox:r,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+P+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",r.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},89032:function(Y,V,e){var b=e(3400);Y.exports=function(s,L){var M=s.split(" "),v=M[0],p=M[1],r=b.isArrayOrTypedArray(L)?b.mean(L):L,t=.5+r/100,o=1.5+r/100,n=["",""],l=[0,0];switch(v){case"top":n[0]="top",l[1]=-o;break;case"bottom":n[0]="bottom",l[1]=o;break}switch(p){case"left":n[1]="right",l[0]=-t;break;case"right":n[1]="left",l[0]=t;break}var u;return n[0]&&n[1]?u=n.join("-"):n[0]?u=n[0]:n[1]?u=n[1]:u="center",{anchor:u,offset:l}}},33688:function(Y,V,e){var b=e(3480),P=e(3400),s=P.strTranslate,L=P.strScale,M=e(84888).KY,v=e(9616),p=e(33428),r=e(43616),t=e(72736),o=e(14440),n="mapbox",l=V.constants=e(47552);V.name=n,V.attr="subplot",V.idRoot=n,V.idRegex=V.attrRegex=P.counterRegex(n),V.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},V.layoutAttributes=e(5232),V.supplyLayoutDefaults=e(5976),V.plot=function(h){var w=h._fullLayout,c=h.calcdata,a=w._subplots[n];if(b.version!==l.requiredVersion)throw new Error(l.wrongVersionErrorMsg);var d=u(h,a);b.accessToken=d;for(var x=0;x<a.length;x++){var T=a[x],C=M(c,n,T),y=w[T],S=y._subplot;S||(S=new o(h,T),w[T]._subplot=S),S.viewInitial||(S.viewInitial={center:P.extendFlat({},y.center),zoom:y.zoom,bearing:y.bearing,pitch:y.pitch}),S.plot(C,w,h._promises)}},V.clean=function(g,h,w,c){for(var a=c._subplots[n]||[],d=0;d<a.length;d++){var x=a[d];!h[x]&&c[x]._subplot&&c[x]._subplot.destroy()}},V.toSVG=function(g){for(var h=g._fullLayout,w=h._subplots[n],c=h._size,a=0;a<w.length;a++){var d=h[w[a]],x=d.domain,T=d._subplot,C=T.toImage("png"),y=h._glimages.append("svg:image");y.attr({xmlns:v.svg,"xlink:href":C,x:c.l+c.w*x.x[0],y:c.t+c.h*(1-x.y[1]),width:c.w*(x.x[1]-x.x[0]),height:c.h*(x.y[1]-x.y[0]),preserveAspectRatio:"none"});var S=p.select(d._subplot.div),A=S.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!A){var i=h._glimages.append("g");i.attr("transform",s(c.l+c.w*x.x[0]+10,c.t+c.h*(1-x.y[0])-31)),i.append("path").attr("d",l.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),i.append("path").attr("d",l.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),i.append("path").attr("d",l.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),i.append("polygon").attr("points",l.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var E=S.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),m=h._glimages.append("g"),k=m.append("text");k.text(E).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":E});var I=r.bBox(k.node()),O=c.w*(x.x[1]-x.x[0]);if(I.width>O/2){var _=E.split("|").join("<br>");k.text(_).attr("data-unformatted",_).call(t.convertToTspans,g),I=r.bBox(k.node())}k.attr("transform",s(-3,-I.height+8)),m.insert("rect",".static-attribution").attr({x:-I.width-6,y:-I.height-3,width:I.width+6,height:I.height+3,fill:"rgba(255, 255, 255, 0.75)"});var B=1;I.width+6>O&&(B=O/(I.width+6));var F=[c.l+c.w*x.x[1],c.t+c.h*(1-x.y[0])];m.attr("transform",s(F[0],F[1])+L(B))}};function u(g,h){var w=g._fullLayout,c=g._context;if(c.mapboxAccessToken==="")return"";for(var a=[],d=[],x=!1,T=!1,C=0;C<h.length;C++){var y=w[h[C]],S=y.accesstoken;f(y.style)&&(S?P.pushUnique(a,S):(f(y._input.style)&&(P.error("Uses Mapbox map style, but did not set an access token."),x=!0),T=!0)),S&&P.pushUnique(d,S)}if(T){var A=x?l.noAccessTokenErrorMsg:l.missingStyleErrorMsg;throw P.error(A),new Error(A)}return a.length?(a.length>1&&P.warn(l.multipleTokensErrorMsg),a[0]):(d.length&&P.log(["Listed mapbox access token(s)",d.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function f(g){return typeof g=="string"&&(l.styleValuesMapbox.indexOf(g)!==-1||g.indexOf("mapbox://")===0||g.indexOf("stamen")===0)}V.updateFx=function(g){for(var h=g._fullLayout,w=h._subplots[n],c=0;c<w.length;c++){var a=h[w[c]]._subplot;a.updateFx(h)}}},22360:function(Y,V,e){var b=e(3400),P=e(72736).sanitizeHTML,s=e(89032),L=e(47552);function M(o,n){this.subplot=o,this.uid=o.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=L.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=M.prototype;v.update=function(n){this.visible?this.needsNewImage(n)?this.updateImage(n):this.needsNewSource(n)?(this.removeLayer(),this.updateSource(n),this.updateLayer(n)):this.needsNewLayer(n)?this.updateLayer(n):this.updateStyle(n):(this.updateSource(n),this.updateLayer(n)),this.visible=p(n)},v.needsNewImage=function(o){var n=this.subplot.map;return n.getSource(this.idSource)&&this.sourceType==="image"&&o.sourcetype==="image"&&(this.source!==o.source||JSON.stringify(this.coordinates)!==JSON.stringify(o.coordinates))},v.needsNewSource=function(o){return this.sourceType!==o.sourcetype||JSON.stringify(this.source)!==JSON.stringify(o.source)||this.layerType!==o.type},v.needsNewLayer=function(o){return this.layerType!==o.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(o){var n=this.subplot.map;n.getSource(this.idSource).updateImage({url:o.source,coordinates:o.coordinates});var l=this.findFollowingMapboxLayerId(this.lookupBelow());l!==null&&this.subplot.map.moveLayer(this.idLayer,l)},v.updateSource=function(o){var n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=o.sourcetype,this.source=o.source,!!p(o)){var l=t(o);n.addSource(this.idSource,l)}},v.findFollowingMapboxLayerId=function(o){if(o==="traces")for(var n=this.subplot.getMapLayers(),l=0;l<n.length;l++){var u=n[l].id;if(typeof u=="string"&&u.indexOf(L.traceLayerPrefix)===0){o=u;break}}return o},v.updateLayer=function(o){var n=this.subplot,l=r(o),u=this.lookupBelow(),f=this.findFollowingMapboxLayerId(u);this.removeLayer(),p(o)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":o.sourcelayer||"",type:o.type,minzoom:o.minzoom,maxzoom:o.maxzoom,layout:l.layout,paint:l.paint},f),this.layerType=o.type,this.below=u},v.updateStyle=function(o){if(p(o)){var n=r(o);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},v.removeLayer=function(){var o=this.subplot.map;o.getLayer(this.idLayer)&&o.removeLayer(this.idLayer)},v.dispose=function(){var o=this.subplot.map;o.getLayer(this.idLayer)&&o.removeLayer(this.idLayer),o.getSource(this.idSource)&&o.removeSource(this.idSource)};function p(o){if(!o.visible)return!1;var n=o.source;if(Array.isArray(n)&&n.length>0){for(var l=0;l<n.length;l++)if(typeof n[l]!="string"||n[l].length===0)return!1;return!0}return b.isPlainObject(n)||typeof n=="string"&&n.length>0}function r(o){var n={},l={};switch(o.type){case"circle":b.extendFlat(l,{"circle-radius":o.circle.radius,"circle-color":o.color,"circle-opacity":o.opacity});break;case"line":b.extendFlat(l,{"line-width":o.line.width,"line-color":o.color,"line-opacity":o.opacity,"line-dasharray":o.line.dash});break;case"fill":b.extendFlat(l,{"fill-color":o.color,"fill-outline-color":o.fill.outlinecolor,"fill-opacity":o.opacity});break;case"symbol":var u=o.symbol,f=s(u.textposition,u.iconsize);b.extendFlat(n,{"icon-image":u.icon+"-15","icon-size":u.iconsize/10,"text-field":u.text,"text-size":u.textfont.size,"text-anchor":f.anchor,"text-offset":f.offset,"symbol-placement":u.placement}),b.extendFlat(l,{"icon-color":o.color,"text-color":u.textfont.color,"text-opacity":o.opacity});break;case"raster":b.extendFlat(l,{"raster-fade-duration":0,"raster-opacity":o.opacity});break}return{layout:n,paint:l}}function t(o){var n=o.sourcetype,l=o.source,u={type:n},f;return n==="geojson"?f="data":n==="vector"?f=typeof l=="string"?"url":"tiles":n==="raster"?(f="tiles",u.tileSize=256):n==="image"&&(f="url",u.coordinates=o.coordinates),u[f]=l,o.sourceattribution&&(u.attribution=P(o.sourceattribution)),u}Y.exports=function(n,l,u){var f=new M(n,l);return f.update(u),f}},5232:function(Y,V,e){var b=e(3400),P=e(76308).defaultLine,s=e(86968).u,L=e(25376),M=e(52904).textposition,v=e(67824).overrideAll,p=e(31780).templatedArray,r=e(47552),t=L({noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0});t.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var o=Y.exports=v({_arrayAttrRegexps:[b.counterRegex("mapbox",".layers",!0)],domain:s({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:r.styleValuesMapbox.concat(r.styleValuesNonMapbox),dflt:r.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:p("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:P},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:P}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:t,textposition:b.extendFlat({},M,{arrayOk:!1})}})},"plot","from-root");o.uirevision={valType:"any",editType:"none"}},5976:function(Y,V,e){var b=e(3400),P=e(168),s=e(51272),L=e(5232);Y.exports=function(r,t,o){P(r,t,o,{type:"mapbox",attributes:L,handleDefaults:M,partition:"y",accessToken:t._mapboxAccessToken})};function M(p,r,t,o){t("accesstoken",o.accessToken),t("style"),t("center.lon"),t("center.lat"),t("zoom"),t("bearing"),t("pitch");var n=t("bounds.west"),l=t("bounds.east"),u=t("bounds.south"),f=t("bounds.north");(n===void 0||l===void 0||u===void 0||f===void 0)&&delete r.bounds,s(p,r,{name:"layers",handleItemDefaults:v}),r._input=p}function v(p,r){function t(g,h){return b.coerce(p,r,L.layers,g,h)}var o=t("visible");if(o){var n=t("sourcetype"),l=n==="raster"||n==="image";t("source"),t("sourceattribution"),n==="vector"&&t("sourcelayer"),n==="image"&&t("coordinates");var u;l&&(u="raster");var f=t("type",u);l&&f!=="raster"&&(f=r.type="raster",b.log("Source types *raster* and *image* must drawn *raster* layer type.")),t("below"),t("color"),t("opacity"),t("minzoom"),t("maxzoom"),f==="circle"&&t("circle.radius"),f==="line"&&(t("line.width"),t("line.dash")),f==="fill"&&t("fill.outlinecolor"),f==="symbol"&&(t("symbol.icon"),t("symbol.iconsize"),t("symbol.text"),b.coerceFont(t,"symbol.textfont",void 0,{noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}),t("symbol.textposition"),t("symbol.placement"))}}},14440:function(Y,V,e){var b=e(3480),P=e(3400),s=e(27144),L=e(24040),M=e(54460),v=e(86476),p=e(93024),r=e(72760),t=r.drawMode,o=r.selectMode,n=e(22676).prepSelect,l=e(22676).clearOutline,u=e(22676).clearSelectionsCache,f=e(22676).selectOnClick,g=e(47552),h=e(22360);function w(C,y){this.id=y,this.gd=C;var S=C._fullLayout,A=C._context;this.container=S._glcontainer.node(),this.isStatic=A.staticPlot,this.uid=S._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(S),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var c=w.prototype;c.plot=function(C,y,S){var A=this,i=y[A.id];A.map&&i.accesstoken!==A.accessToken&&(A.map.remove(),A.map=null,A.styleObj=null,A.traceHash={},A.layerList=[]);var E;A.map?E=new Promise(function(m,k){A.updateMap(C,y,m,k)}):E=new Promise(function(m,k){A.createMap(C,y,m,k)}),S.push(E)},c.createMap=function(C,y,S,A){var i=this,E=y[i.id],m=i.styleObj=d(E.style,y);i.accessToken=E.accesstoken;var k=E.bounds,I=k?[[k.west,k.south],[k.east,k.north]]:null,O=i.map=new b.Map({container:i.div,style:m.style,center:T(E.center),zoom:E.zoom,bearing:E.bearing,pitch:E.pitch,maxBounds:I,interactive:!i.isStatic,preserveDrawingBuffer:i.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new b.AttributionControl({compact:!0}));O._canvas.style.left="0px",O._canvas.style.top="0px",i.rejectOnError(A),i.isStatic||i.initFx(C,y);var _=[];_.push(new Promise(function(B){O.once("load",B)})),_=_.concat(s.fetchTraceGeoData(C)),Promise.all(_).then(function(){i.fillBelowLookup(C,y),i.updateData(C),i.updateLayout(y),i.resolveOnRender(S)}).catch(A)},c.updateMap=function(C,y,S,A){var i=this,E=i.map,m=y[this.id];i.rejectOnError(A);var k=[],I=d(m.style,y);JSON.stringify(i.styleObj)!==JSON.stringify(I)&&(i.styleObj=I,E.setStyle(I.style),i.traceHash={},k.push(new Promise(function(O){E.once("styledata",O)}))),k=k.concat(s.fetchTraceGeoData(C)),Promise.all(k).then(function(){i.fillBelowLookup(C,y),i.updateData(C),i.updateLayout(y),i.resolveOnRender(S)}).catch(A)},c.fillBelowLookup=function(C,y){var S=y[this.id],A=S.layers,i,E,m=this.belowLookup={},k=!1;for(i=0;i<C.length;i++){var I=C[i][0].trace,O=I._module;typeof I.below=="string"?E=I.below:O.getBelow&&(E=O.getBelow(I,this)),E===""&&(k=!0),m["trace-"+I.uid]=E||""}for(i=0;i<A.length;i++){var _=A[i];typeof _.below=="string"?E=_.below:k?E="traces":E="",m["layout-"+i]=E}var B={},F,z;for(F in m)E=m[F],B[E]?B[E].push(F):B[E]=[F];for(E in B){var N=B[E];if(N.length>1)for(i=0;i<N.length;i++)F=N[i],F.indexOf("trace-")===0?(z=F.split("trace-")[1],this.traceHash[z]&&(this.traceHash[z].below=null)):F.indexOf("layout-")===0&&(z=F.split("layout-")[1],this.layerList[z]&&(this.layerList[z].below=null))}};var a={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};c.updateData=function(C){var y=this.traceHash,S,A,i,E,m=C.slice().sort(function(B,F){return a[B[0].trace.type]-a[F[0].trace.type]});for(i=0;i<m.length;i++){var k=m[i];A=k[0].trace,S=y[A.uid];var I=!1;S&&(S.type===A.type?(S.update(k),I=!0):S.dispose()),!I&&A._module&&(y[A.uid]=A._module.plot(this,k))}var O=Object.keys(y);e:for(i=0;i<O.length;i++){var _=O[i];for(E=0;E<C.length;E++)if(A=C[E][0].trace,_===A.uid)continue e;S=y[_],S.dispose(),delete y[_]}},c.updateLayout=function(C){var y=this.map,S=C[this.id];!this.dragging&&!this.wheeling&&(y.setCenter(T(S.center)),y.setZoom(S.zoom),y.setBearing(S.bearing),y.setPitch(S.pitch)),this.updateLayers(C),this.updateFramework(C),this.updateFx(C),this.map.resize(),this.gd._context._scrollZoom.mapbox?y.scrollZoom.enable():y.scrollZoom.disable()},c.resolveOnRender=function(C){var y=this.map;y.on("render",function S(){y.loaded()&&(y.off("render",S),setTimeout(C,10))})},c.rejectOnError=function(C){var y=this.map;function S(){C(new Error(g.mapOnErrorMsg))}y.once("error",S),y.once("style.error",S),y.once("source.error",S),y.once("tile.error",S),y.once("layer.error",S)},c.createFramework=function(C){var y=this,S=y.div=document.createElement("div");S.id=y.uid,S.style.position="absolute",y.container.appendChild(S),y.xaxis={_id:"x",c2p:function(A){return y.project(A).x}},y.yaxis={_id:"y",c2p:function(A){return y.project(A).y}},y.updateFramework(C),y.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},M.setConvert(y.mockAxis,C)},c.initFx=function(C,y){var S=this,A=S.gd,i=S.map;i.on("moveend",function(k){if(S.map){var I=A._fullLayout;if(k.originalEvent||S.wheeling){var O=I[S.id];L.call("_storeDirectGUIEdit",A.layout,I._preGUI,S.getViewEdits(O));var _=S.getView();O._input.center=O.center=_.center,O._input.zoom=O.zoom=_.zoom,O._input.bearing=O.bearing=_.bearing,O._input.pitch=O.pitch=_.pitch,A.emit("plotly_relayout",S.getViewEditsWithDerived(_))}k.originalEvent&&k.originalEvent.type==="mouseup"?S.dragging=!1:S.wheeling&&(S.wheeling=!1),I._rehover&&I._rehover()}}),i.on("wheel",function(){S.wheeling=!0}),i.on("mousemove",function(k){var I=S.div.getBoundingClientRect(),O=[k.originalEvent.offsetX,k.originalEvent.offsetY];k.target.getBoundingClientRect=function(){return I},S.xaxis.p2c=function(){return i.unproject(O).lng},S.yaxis.p2c=function(){return i.unproject(O).lat},A._fullLayout._rehover=function(){A._fullLayout._hoversubplot===S.id&&A._fullLayout[S.id]&&p.hover(A,k,S.id)},p.hover(A,k,S.id),A._fullLayout._hoversubplot=S.id});function E(){p.loneUnhover(y._hoverlayer)}i.on("dragstart",function(){S.dragging=!0,E()}),i.on("zoomstart",E),i.on("mouseout",function(){A._fullLayout._hoversubplot=null});function m(){var k=S.getView();A.emit("plotly_relayouting",S.getViewEditsWithDerived(k))}i.on("drag",m),i.on("zoom",m),i.on("dblclick",function(){var k=A._fullLayout[S.id];L.call("_storeDirectGUIEdit",A.layout,A._fullLayout._preGUI,S.getViewEdits(k));var I=S.viewInitial;i.setCenter(T(I.center)),i.setZoom(I.zoom),i.setBearing(I.bearing),i.setPitch(I.pitch);var O=S.getView();k._input.center=k.center=O.center,k._input.zoom=k.zoom=O.zoom,k._input.bearing=k.bearing=O.bearing,k._input.pitch=k.pitch=O.pitch,A.emit("plotly_doubleclick",null),A.emit("plotly_relayout",S.getViewEditsWithDerived(O))}),S.clearOutline=function(){u(S.dragOptions),l(S.dragOptions.gd)},S.onClickInPanFn=function(k){return function(I){var O=A._fullLayout.clickmode;O.indexOf("select")>-1&&f(I.originalEvent,A,[S.xaxis],[S.yaxis],S.id,k),O.indexOf("event")>-1&&p.click(A,I.originalEvent)}}},c.updateFx=function(C){var y=this,S=y.map,A=y.gd;if(y.isStatic)return;function i(I){var O=y.map.unproject(I);return[O.lng,O.lat]}var E=C.dragmode,m;m=function(I,O){if(O.isRect){var _=I.range={};_[y.id]=[i([O.xmin,O.ymin]),i([O.xmax,O.ymax])]}else{var B=I.lassoPoints={};B[y.id]=O.map(i)}};var k=y.dragOptions;y.dragOptions=P.extendDeep(k||{},{dragmode:C.dragmode,element:y.div,gd:A,plotinfo:{id:y.id,domain:C[y.id].domain,xaxis:y.xaxis,yaxis:y.yaxis,fillRangeItems:m},xaxes:[y.xaxis],yaxes:[y.yaxis],subplot:y.id}),S.off("click",y.onClickInPanHandler),o(E)||t(E)?(S.dragPan.disable(),S.on("zoomstart",y.clearOutline),y.dragOptions.prepFn=function(I,O,_){n(I,O,_,y.dragOptions,E)},v.init(y.dragOptions)):(S.dragPan.enable(),S.off("zoomstart",y.clearOutline),y.div.onmousedown=null,y.div.ontouchstart=null,y.div.removeEventListener("touchstart",y.div._ontouchstart),y.onClickInPanHandler=y.onClickInPanFn(y.dragOptions),S.on("click",y.onClickInPanHandler))},c.updateFramework=function(C){var y=C[this.id].domain,S=C._size,A=this.div.style;A.width=S.w*(y.x[1]-y.x[0])+"px",A.height=S.h*(y.y[1]-y.y[0])+"px",A.left=S.l+y.x[0]*S.w+"px",A.top=S.t+(1-y.y[1])*S.h+"px",this.xaxis._offset=S.l+y.x[0]*S.w,this.xaxis._length=S.w*(y.x[1]-y.x[0]),this.yaxis._offset=S.t+(1-y.y[1])*S.h,this.yaxis._length=S.h*(y.y[1]-y.y[0])},c.updateLayers=function(C){var y=C[this.id],S=y.layers,A=this.layerList,i;if(S.length!==A.length){for(i=0;i<A.length;i++)A[i].dispose();for(A=this.layerList=[],i=0;i<S.length;i++)A.push(h(this,i,S[i]))}else for(i=0;i<S.length;i++)A[i].update(S[i])},c.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},c.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},c.setOptions=function(C,y,S){for(var A in S)this.map[y](C,A,S[A])},c.getMapLayers=function(){return this.map.getStyle().layers},c.addLayer=function(C,y){var S=this.map;if(typeof y=="string"){if(y===""){S.addLayer(C,y);return}for(var A=this.getMapLayers(),i=0;i<A.length;i++)if(y===A[i].id){S.addLayer(C,y);return}P.warn(["Trying to add layer with *below* value",y,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}S.addLayer(C)},c.project=function(C){return this.map.project(new b.LngLat(C[0],C[1]))},c.getView=function(){var C=this.map,y=C.getCenter(),S=y.lng,A=y.lat,i={lon:S,lat:A},E=C.getCanvas(),m=parseInt(E.style.width),k=parseInt(E.style.height);return{center:i,zoom:C.getZoom(),bearing:C.getBearing(),pitch:C.getPitch(),_derived:{coordinates:[C.unproject([0,0]).toArray(),C.unproject([m,0]).toArray(),C.unproject([m,k]).toArray(),C.unproject([0,k]).toArray()]}}},c.getViewEdits=function(C){for(var y=this.id,S=["center","zoom","bearing","pitch"],A={},i=0;i<S.length;i++){var E=S[i];A[y+"."+E]=C[E]}return A},c.getViewEditsWithDerived=function(C){var y=this.id,S=this.getViewEdits(C);return S[y+"._derived"]=C._derived,S};function d(C,y){var S={};if(P.isPlainObject(C))S.id=C.id,S.style=C;else if(typeof C=="string")if(S.id=C,g.styleValuesMapbox.indexOf(C)!==-1)S.style=x(C);else if(g.stylesNonMapbox[C]){S.style=g.stylesNonMapbox[C];var A=S.style.sources["plotly-"+C],i=A?A.tiles:void 0;i&&i[0]&&i[0].slice(-9)==="?api_key="&&(i[0]+=y._mapboxAccessToken)}else S.style=C;else S.id=g.styleValueDflt,S.style=x(g.styleValueDflt);return S.transition={duration:0,delay:0},S}function x(C){return g.styleUrlPrefix+C+"-"+g.styleUrlSuffix}function T(C){return[C.lon,C.lat]}Y.exports=w},66741:function(Y){Y.exports=function(V){var e=V.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},7316:function(Y,V,e){var b=e(33428),P=e(94336).m_,s=e(57624).SO,L=e(38248),M=e(83160),v=e(24040),p=e(73060),r=e(31780),t=e(3400),o=e(76308),n=e(39032).BADNUM,l=e(79811),u=e(1936).clearOutline,f=e(55308),g=e(85656),h=e(16672),w=e(84888)._M,c=t.relinkPrivateKeys,a=t._,d=Y.exports={};t.extendFlat(d,v),d.attributes=e(45464),d.attributes.type.values=d.allTypes,d.fontAttrs=e(25376),d.layoutAttributes=e(64859);var x=d.transformsRegistry,T=e(62460);d.executeAPICommand=T.executeAPICommand,d.computeAPICommandBindings=T.computeAPICommandBindings,d.manageCommandObserver=T.manageCommandObserver,d.hasSimpleAPICommandBindings=T.hasSimpleAPICommandBindings,d.redrawText=function(X){return X=t.getGraphDiv(X),new Promise(function(Q){setTimeout(function(){X._fullLayout&&(v.getComponentMethod("annotations","draw")(X),v.getComponentMethod("legend","draw")(X),v.getComponentMethod("colorbar","draw")(X),Q(d.previousPromises(X)))},300)})},d.resize=function(X){X=t.getGraphDiv(X);var Q,se=new Promise(function(J,G){(!X||t.isHidden(X))&&G(new Error("Resize must be passed a displayed plot div element.")),X._redrawTimer&&clearTimeout(X._redrawTimer),X._resolveResize&&(Q=X._resolveResize),X._resolveResize=J,X._redrawTimer=setTimeout(function(){if(!X.layout||X.layout.width&&X.layout.height||t.isHidden(X)){J(X);return}delete X.layout.width,delete X.layout.height;var oe=X.changed;X.autoplay=!0,v.call("relayout",X,{autosize:!0}).then(function(){X.changed=oe,X._resolveResize===J&&(delete X._resolveResize,J(X))})},100)});return Q&&Q(se),se},d.previousPromises=function(X){if((X._promises||[]).length)return Promise.all(X._promises).then(function(){X._promises=[]})},d.addLinks=function(X){if(!(!X._context.showLink&&!X._context.showSources)){var Q=X._fullLayout,se=t.ensureSingle(Q._paper,"text","js-plot-link-container",function(ge){ge.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:o.defaultLine,"pointer-events":"all"}).each(function(){var we=b.select(this);we.append("tspan").classed("js-link-to-tool",!0),we.append("tspan").classed("js-link-spacer",!0),we.append("tspan").classed("js-sourcelinks",!0)})}),J=se.node(),G={y:Q._paper.attr("height")-9};document.body.contains(J)&&J.getComputedTextLength()>=Q.width-20?(G["text-anchor"]="start",G.x=5):(G["text-anchor"]="end",G.x=Q._paper.attr("width")-7),se.attr(G);var oe=se.select(".js-link-to-tool"),te=se.select(".js-link-spacer"),fe=se.select(".js-sourcelinks");X._context.showSources&&X._context.showSources(X),X._context.showLink&&C(X,oe),te.text(oe.text()&&fe.text()?" - ":"")}};function C(X,Q){Q.text("");var se=Q.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(X._context.linkText+" »");if(X._context.sendData)se.on("click",function(){d.sendDataToCloud(X)});else{var J=window.location.pathname.split("/"),G=window.location.search;se.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+J[2].split(".")[0]+"/"+J[1]+G})}}d.sendDataToCloud=function(X){var Q=(window.PLOTLYENV||{}).BASE_URL||X._context.plotlyServerURL;if(Q){X.emit("plotly_beforeexport");var se=b.select(X).append("div").attr("id","hiddenform").style("display","none"),J=se.append("form").attr({action:Q+"/external",method:"post",target:"_blank"}),G=J.append("input").attr({type:"text",name:"data"});return G.node().value=d.graphJson(X,!1,"keepdata"),J.node().submit(),se.remove(),X.emit("plotly_afterexport"),!1}};var y=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],S=["year","month","dayMonth","dayMonthYear"];d.supplyDefaults=function(X,Q){var se=Q&&Q.skipUpdateCalc,J=X._fullLayout||{};if(J._skipDefaults){delete J._skipDefaults;return}var G=X._fullLayout={},oe=X.layout||{},te=X._fullData||[],fe=X._fullData=[],ge=X.data||[],we=X.calcdata||[],xe=X._context||{},Ce;X._transitionData||d.createTransitionData(X),G._dfltTitle={plot:a(X,"Click to enter Plot title"),subtitle:a(X,"Click to enter Plot subtitle"),x:a(X,"Click to enter X axis title"),y:a(X,"Click to enter Y axis title"),colorbar:a(X,"Click to enter Colorscale title"),annotation:a(X,"new text")},G._traceWord=a(X,"trace");var De=E(X,y);if(G._mapboxAccessToken=xe.mapboxAccessToken,J._initialAutoSizeIsDone){var Oe=J.width,Te=J.height;d.supplyLayoutGlobalDefaults(oe,G,De),oe.width||(G.width=Oe),oe.height||(G.height=Te),d.sanitizeMargins(G)}else{d.supplyLayoutGlobalDefaults(oe,G,De);var Re=!oe.width||!oe.height,Me=G.autosize,ke=xe.autosizable,Se=Re&&(Me||ke);Se?d.plotAutoSize(X,oe,G):Re&&d.sanitizeMargins(G),!Me&&Re&&(oe.width=G.width,oe.height=G.height)}G._d3locale=m(De,G.separators),G._extraFormat=E(X,S),G._initialAutoSizeIsDone=!0,G._dataLength=ge.length,G._modules=[],G._visibleModules=[],G._basePlotModules=[];var He=G._subplots=i(),je=G._splomAxes={x:{},y:{}},at=G._splomSubplots={};G._splomGridDflt={},G._scatterStackOpts={},G._firstScatter={},G._alignmentOpts={},G._colorAxes={},G._requestRangeslider={},G._traceUids=A(te,ge),G._globalTransforms=(X._context||{}).globalTransforms,d.supplyDataDefaults(ge,fe,oe,G);var Ze=Object.keys(je.x),$e=Object.keys(je.y);if(Ze.length>1&&$e.length>1){for(v.getComponentMethod("grid","sizeDefaults")(oe,G),Ce=0;Ce<Ze.length;Ce++)t.pushUnique(He.xaxis,Ze[Ce]);for(Ce=0;Ce<$e.length;Ce++)t.pushUnique(He.yaxis,$e[Ce]);for(var ut in at)t.pushUnique(He.cartesian,ut)}if(G._has=d._hasPlotType.bind(G),te.length===fe.length)for(Ce=0;Ce<fe.length;Ce++)c(fe[Ce],te[Ce]);d.supplyLayoutModuleDefaults(oe,G,fe,X._transitionData);var ht=G._visibleModules,vt=[];for(Ce=0;Ce<ht.length;Ce++){var xt=ht[Ce].crossTraceDefaults;xt&&t.pushUnique(vt,xt)}for(Ce=0;Ce<vt.length;Ce++)vt[Ce](fe,G);G._hasOnlyLargeSploms=G._basePlotModules.length===1&&G._basePlotModules[0].name==="splom"&&Ze.length>15&&$e.length>15&&G.shapes.length===0&&G.images.length===0,d.linkSubplots(fe,G,te,J),d.cleanPlot(fe,G,te,J);var St=!!(J._has&&J._has("gl2d")),tt=!!(G._has&&G._has("gl2d")),Ie=!!(J._has&&J._has("cartesian")),Ve=!!(G._has&&G._has("cartesian")),Ge=Ie||St,Xe=Ve||tt;Ge&&!Xe?J._bgLayer.remove():Xe&&!Ge&&(G._shouldCreateBgLayer=!0),J._zoomlayer&&!X._dragging&&u({_fullLayout:J}),k(fe,G),c(G,J),v.getComponentMethod("colorscale","crossTraceDefaults")(fe,G),G._preGUI||(G._preGUI={}),G._tracePreGUI||(G._tracePreGUI={});var Le=G._tracePreGUI,Fe={},Ue;for(Ue in Le)Fe[Ue]="old";for(Ce=0;Ce<fe.length;Ce++)Ue=fe[Ce]._fullInput.uid,Fe[Ue]||(Le[Ue]={}),Fe[Ue]="new";for(Ue in Fe)Fe[Ue]==="old"&&delete Le[Ue];F(G),v.getComponentMethod("rangeslider","makeData")(G),!se&&we.length===fe.length&&d.supplyDefaultsUpdateCalc(we,fe)},d.supplyDefaultsUpdateCalc=function(X,Q){for(var se=0;se<Q.length;se++){var J=Q[se],G=(X[se]||[])[0];if(G&&G.trace){var oe=G.trace;if(oe._hasCalcTransform){var te=oe._arrayAttrs,fe,ge,we;for(fe=0;fe<te.length;fe++)ge=te[fe],we=t.nestedProperty(oe,ge).get().slice(),t.nestedProperty(J,ge).set(we)}G.trace=J}}};function A(X,Q){var se=Q.length,J=[],G,oe;for(G=0;G<X.length;G++){var te=X[G]._fullInput;te!==oe&&J.push(te),oe=te}var fe=J.length,ge=new Array(se),we={};function xe(Oe,Te){ge[Te]=Oe,we[Oe]=1}function Ce(Oe,Te){if(Oe&&typeof Oe=="string"&&!we[Oe])return xe(Oe,Te),!0}for(G=0;G<se;G++){var De=Q[G].uid;typeof De=="number"&&(De=String(De)),!Ce(De,G)&&(G<fe&&Ce(J[G].uid,G)||xe(t.randstr(we),G))}return ge}function i(){var X=v.collectableSubplotTypes,Q={},se,J;if(!X){X=[];var G=v.subplotsRegistry;for(var oe in G){var te=G[oe],fe=te.attr;if(fe&&(X.push(oe),Array.isArray(fe)))for(J=0;J<fe.length;J++)t.pushUnique(X,fe[J])}}for(se=0;se<X.length;se++)Q[X[se]]=[];return Q}function E(X,Q){var se=X._context.locale;se||(se="en-US");var J=!1,G={};function oe(Ce){for(var De=!0,Oe=0;Oe<Q.length;Oe++){var Te=Q[Oe];G[Te]||(Ce[Te]?G[Te]=Ce[Te]:De=!1)}De&&(J=!0)}for(var te=0;te<2;te++){for(var fe=X._context.locales,ge=0;ge<2;ge++){var we=(fe[se]||{}).format;if(we&&(oe(we),J))break;fe=v.localeRegistry}var xe=se.split("-")[0];if(J||xe===se)break;se=xe}return J||oe(v.localeRegistry.en.format),G}function m(X,Q){return X.decimal=Q.charAt(0),X.thousands=Q.charAt(1),{numberFormat:function(se){try{se=s(X).format(t.adjustFormat(se))}catch{return t.warnBadFormat(se),t.noFormat}return se},timeFormat:P(X).utcFormat}}function k(X,Q){var se,J=[];Q.meta&&(se=Q._meta={meta:Q.meta,layout:{meta:Q.meta}});for(var G=0;G<X.length;G++){var oe=X[G];oe.meta?J[oe.index]=oe._meta={meta:oe.meta}:Q.meta&&(oe._meta={meta:Q.meta}),Q.meta&&(oe._meta.layout={meta:Q.meta})}J.length&&(se||(se=Q._meta={}),se.data=J)}d.createTransitionData=function(X){X._transitionData||(X._transitionData={}),X._transitionData._frames||(X._transitionData._frames=[]),X._transitionData._frameHash||(X._transitionData._frameHash={}),X._transitionData._counter||(X._transitionData._counter=0),X._transitionData._interruptCallbacks||(X._transitionData._interruptCallbacks=[])},d._hasPlotType=function(X){var Q,se=this._basePlotModules||[];for(Q=0;Q<se.length;Q++)if(se[Q].name===X)return!0;var J=this._modules||[];for(Q=0;Q<J.length;Q++){var G=J[Q].name;if(G===X)return!0;var oe=v.modules[G];if(oe&&oe.categories[X])return!0}return!1},d.cleanPlot=function(X,Q,se,J){var G,oe,te=J._basePlotModules||[];for(G=0;G<te.length;G++){var fe=te[G];fe.clean&&fe.clean(X,Q,se,J)}var ge=J._has&&J._has("gl"),we=Q._has&&Q._has("gl");ge&&!we&&J._glcontainer!==void 0&&(J._glcontainer.selectAll(".gl-canvas").remove(),J._glcontainer.selectAll(".no-webgl").remove(),J._glcanvas=null);var xe=!!J._infolayer;e:for(G=0;G<se.length;G++){var Ce=se[G],De=Ce.uid;for(oe=0;oe<X.length;oe++){var Oe=X[oe];if(De===Oe.uid)continue e}xe&&J._infolayer.select(".cb"+De).remove()}},d.linkSubplots=function(X,Q,se,J){var G,oe,te=J._plots||{},fe=Q._plots={},ge=Q._subplots,we={_fullData:X,_fullLayout:Q},xe=ge.cartesian.concat(ge.gl2d||[]);for(G=0;G<xe.length;G++){var Ce=xe[G],De=te[Ce],Oe=l.getFromId(we,Ce,"x"),Te=l.getFromId(we,Ce,"y"),Re;for(De?Re=fe[Ce]=De:(Re=fe[Ce]={},Re.id=Ce),Oe._counterAxes.push(Te._id),Te._counterAxes.push(Oe._id),Oe._subplotsWith.push(Ce),Te._subplotsWith.push(Ce),Re.xaxis=Oe,Re.yaxis=Te,Re._hasClipOnAxisFalse=!1,oe=0;oe<X.length;oe++){var Me=X[oe];if(Me.xaxis===Re.xaxis._id&&Me.yaxis===Re.yaxis._id&&Me.cliponaxis===!1){Re._hasClipOnAxisFalse=!0;break}}}var ke=l.list(we,null,!0),Se;for(G=0;G<ke.length;G++){Se=ke[G];var He=null;Se.overlaying&&(He=l.getFromId(we,Se.overlaying),He&&He.overlaying&&(Se.overlaying=!1,He=null)),Se._mainAxis=He||Se,He&&(Se.domain=He.domain.slice()),Se._anchorAxis=Se.anchor==="free"?null:l.getFromId(we,Se.anchor)}for(G=0;G<ke.length;G++)if(Se=ke[G],Se._counterAxes.sort(l.idSort),Se._subplotsWith.sort(t.subplotSort),Se._mainSubplot=I(Se,Q),Se._counterAxes.length&&(Se.spikemode&&Se.spikemode.indexOf("across")!==-1||Se.automargin&&Se.mirror&&Se.anchor!=="free"||v.getComponentMethod("rangeslider","isVisible")(Se))){var je=1,at=0;for(oe=0;oe<Se._counterAxes.length;oe++){var Ze=l.getFromId(we,Se._counterAxes[oe]);je=Math.min(je,Ze.domain[0]),at=Math.max(at,Ze.domain[1])}je<at&&(Se._counterDomainMin=je,Se._counterDomainMax=at)}};function I(X,Q){var se={_fullLayout:Q},J=X._id.charAt(0)==="x",G=X._mainAxis._anchorAxis,oe="",te="",fe="";if(G&&(fe=G._mainAxis._id,oe=J?X._id+fe:fe+X._id),!oe||!Q._plots[oe]){oe="";for(var ge=X._counterAxes,we=0;we<ge.length;we++){var xe=ge[we],Ce=J?X._id+xe:xe+X._id;te||(te=Ce);var De=l.getFromId(se,xe);if(fe&&De.overlaying===fe){oe=Ce;break}}}return oe||te}d.clearExpandedTraceDefaultColors=function(X){var Q,se,J;function G(te,fe,ge,we){se[we]=fe,se.length=we+1,te.valType==="color"&&te.dflt===void 0&&Q.push(se.join("."))}for(se=[],Q=X._module._colorAttrs,Q||(X._module._colorAttrs=Q=[],p.crawl(X._module.attributes,G)),J=0;J<Q.length;J++){var oe=t.nestedProperty(X,"_input."+Q[J]);oe.get()||t.nestedProperty(X,Q[J]).set(null)}},d.supplyDataDefaults=function(X,Q,se,J){var G=J._modules,oe=J._visibleModules,te=J._basePlotModules,fe=0,ge=0,we,xe,Ce;J._transformModules=[];function De($e){Q.push($e);var ut=$e._module;ut&&(t.pushUnique(G,ut),$e.visible===!0&&t.pushUnique(oe,ut),t.pushUnique(te,$e._module.basePlotModule),fe++,$e._input.visible!==!1&&ge++)}var Oe={},Te=[],Re=(se.template||{}).data||{},Me=r.traceTemplater(Re);for(we=0;we<X.length;we++){if(Ce=X[we],xe=Me.newTrace(Ce),xe.uid=J._traceUids[we],d.supplyTraceDefaults(Ce,xe,ge,J,we),xe.index=we,xe._input=Ce,xe._expandedIndex=fe,xe.transforms&&xe.transforms.length)for(var ke=Ce.visible!==!1&&xe.visible===!1,Se=_(xe,Q,se,J),He=0;He<Se.length;He++){var je=Se[He],at={_template:xe._template,type:xe.type,uid:xe.uid+He};ke&&je.visible===!1&&delete je.visible,d.supplyTraceDefaults(je,at,fe,J,we),c(at,je),at.index=we,at._input=Ce,at._fullInput=xe,at._expandedIndex=fe,at._expandedInput=je,De(at)}else xe._fullInput=xe,xe._expandedInput=xe,De(xe);v.traceIs(xe,"carpetAxis")&&(Oe[xe.carpet]=xe),v.traceIs(xe,"carpetDependent")&&Te.push(we)}for(we=0;we<Te.length;we++)if(xe=Q[Te[we]],!!xe.visible){var Ze=Oe[xe.carpet];if(xe._carpet=Ze,!Ze||!Ze.visible){xe.visible=!1;continue}xe.xaxis=Ze.xaxis,xe.yaxis=Ze.yaxis}},d.supplyAnimationDefaults=function(X){X=X||{};var Q,se={};function J(G,oe){return t.coerce(X||{},se,g,G,oe)}if(J("mode"),J("direction"),J("fromcurrent"),Array.isArray(X.frame))for(se.frame=[],Q=0;Q<X.frame.length;Q++)se.frame[Q]=d.supplyAnimationFrameDefaults(X.frame[Q]||{});else se.frame=d.supplyAnimationFrameDefaults(X.frame||{});if(Array.isArray(X.transition))for(se.transition=[],Q=0;Q<X.transition.length;Q++)se.transition[Q]=d.supplyAnimationTransitionDefaults(X.transition[Q]||{});else se.transition=d.supplyAnimationTransitionDefaults(X.transition||{});return se},d.supplyAnimationFrameDefaults=function(X){var Q={};function se(J,G){return t.coerce(X||{},Q,g.frame,J,G)}return se("duration"),se("redraw"),Q},d.supplyAnimationTransitionDefaults=function(X){var Q={};function se(J,G){return t.coerce(X||{},Q,g.transition,J,G)}return se("duration"),se("easing"),Q},d.supplyFrameDefaults=function(X){var Q={};function se(J,G){return t.coerce(X,Q,h,J,G)}return se("group"),se("name"),se("traces"),se("baseframe"),se("data"),se("layout"),Q},d.supplyTraceDefaults=function(X,Q,se,J,G){var oe=J.colorway||o.defaults,te=oe[se%oe.length],fe;function ge(He,je){return t.coerce(X,Q,d.attributes,He,je)}var we=ge("visible");ge("type"),ge("name",J._traceWord+" "+G),ge("uirevision",J.uirevision);var xe=d.getModule(Q);if(Q._module=xe,xe){var Ce=xe.basePlotModule,De=Ce.attr,Oe=Ce.attributes;if(De&&Oe){var Te=J._subplots,Re="";if(we||Ce.name!=="gl2d"){if(Array.isArray(De))for(fe=0;fe<De.length;fe++){var Me=De[fe],ke=t.coerce(X,Q,Oe,Me);Te[Me]&&t.pushUnique(Te[Me],ke),Re+=ke}else Re=t.coerce(X,Q,Oe,De);Te[Ce.name]&&t.pushUnique(Te[Ce.name],Re)}}}if(we){if(ge("customdata"),ge("ids"),ge("meta"),v.traceIs(Q,"showLegend")?(t.coerce(X,Q,xe.attributes.showlegend?xe.attributes:d.attributes,"showlegend"),ge("legend"),ge("legendwidth"),ge("legendgroup"),ge("legendgrouptitle.text"),ge("legendrank"),Q._dfltShowLegend=!0):Q._dfltShowLegend=!1,xe&&xe.supplyDefaults(X,Q,te,J),v.traceIs(Q,"noOpacity")||ge("opacity"),v.traceIs(Q,"notLegendIsolatable")&&(Q.visible=!!Q.visible),v.traceIs(Q,"noHover")||(Q.hovertemplate||t.coerceHoverinfo(X,Q,J),Q.type!=="parcats"&&v.getComponentMethod("fx","supplyDefaults")(X,Q,te,J)),xe&&xe.selectPoints){var Se=ge("selectedpoints");t.isTypedArray(Se)&&(Q.selectedpoints=Array.from(Se))}d.supplyTransformDefaults(X,Q,J)}return Q};function O(X){var Q=X.transforms;if(Array.isArray(Q)&&Q.length)for(var se=0;se<Q.length;se++){var J=Q[se],G=J._module||x[J.type];if(G&&G.makesData)return!0}return!1}d.hasMakesDataTransform=O,d.supplyTransformDefaults=function(X,Q,se){if(Q._length||O(X)){var J=se._globalTransforms||[],G=se._transformModules||[];if(!(!Array.isArray(X.transforms)&&J.length===0))for(var oe=X.transforms||[],te=J.concat(oe),fe=Q.transforms=[],ge=0;ge<te.length;ge++){var we=te[ge],xe=we.type,Ce=x[xe],De,Oe=!(we._module&&we._module===Ce),Te=Ce&&typeof Ce.transform=="function";Ce||t.warn("Unrecognized transform type "+xe+"."),Ce&&Ce.supplyDefaults&&(Oe||Te)?(De=Ce.supplyDefaults(we,Q,se,X),De.type=xe,De._module=Ce,t.pushUnique(G,Ce)):De=t.extendFlat({},we),fe.push(De)}}};function _(X,Q,se,J){for(var G=X.transforms,oe=[X],te=0;te<G.length;te++){var fe=G[te],ge=x[fe.type];ge&&ge.transform&&(oe=ge.transform(oe,{transform:fe,fullTrace:X,fullData:Q,layout:se,fullLayout:J,transformIndex:te}))}return oe}d.supplyLayoutGlobalDefaults=function(X,Q,se){function J(Ce,De){return t.coerce(X,Q,d.layoutAttributes,Ce,De)}var G=X.template;t.isPlainObject(G)&&(Q.template=G,Q._template=G.layout,Q._dataTemplate=G.data),J("autotypenumbers");var oe=t.coerceFont(J,"font"),te=oe.size;t.coerceFont(J,"title.font",oe,{overrideDflt:{size:Math.round(te*1.4)}}),J("title.text",Q._dfltTitle.plot),J("title.xref");var fe=J("title.yref");J("title.pad.t"),J("title.pad.r"),J("title.pad.b"),J("title.pad.l");var ge=J("title.automargin");J("title.x"),J("title.xanchor"),J("title.y"),J("title.yanchor"),J("title.subtitle.text",Q._dfltTitle.subtitle),t.coerceFont(J,"title.subtitle.font",oe,{overrideDflt:{size:Math.round(Q.title.font.size*.7)}}),ge&&(fe==="paper"&&(Q.title.y!==0&&(Q.title.y=1),Q.title.yanchor==="auto"&&(Q.title.yanchor=Q.title.y===0?"top":"bottom")),fe==="container"&&(Q.title.y==="auto"&&(Q.title.y=1),Q.title.yanchor==="auto"&&(Q.title.yanchor=Q.title.y<.5?"bottom":"top")));var we=J("uniformtext.mode");we&&J("uniformtext.minsize"),J("autosize",!(X.width&&X.height)),J("width"),J("height"),J("minreducedwidth"),J("minreducedheight"),J("margin.l"),J("margin.r"),J("margin.t"),J("margin.b"),J("margin.pad"),J("margin.autoexpand"),X.width&&X.height&&d.sanitizeMargins(Q),v.getComponentMethod("grid","sizeDefaults")(X,Q),J("paper_bgcolor"),J("separators",se.decimal+se.thousands),J("hidesources"),J("colorway"),J("datarevision");var xe=J("uirevision");J("editrevision",xe),J("selectionrevision",xe),v.getComponentMethod("modebar","supplyLayoutDefaults")(X,Q),v.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(X,Q,J),v.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(X,Q,J),J("meta"),t.isPlainObject(X.transition)&&(J("transition.duration"),J("transition.easing"),J("transition.ordering")),v.getComponentMethod("calendars","handleDefaults")(X,Q,"calendar"),v.getComponentMethod("fx","supplyLayoutGlobalDefaults")(X,Q,J),t.coerce(X,Q,f,"scattermode")};function B(X){return typeof X=="string"&&X.substr(X.length-2)==="px"&&parseFloat(X)}d.plotAutoSize=function(Q,se,J){var G=Q._context||{},oe=G.frameMargins,te,fe,ge=t.isPlotDiv(Q);if(ge&&Q.emit("plotly_autosize"),G.fillFrame)te=window.innerWidth,fe=window.innerHeight,document.body.style.overflow="hidden";else{var we=ge?window.getComputedStyle(Q):{};if(te=B(we.width)||B(we.maxWidth)||J.width,fe=B(we.height)||B(we.maxHeight)||J.height,L(oe)&&oe>0){var xe=1-2*oe;te=Math.round(xe*te),fe=Math.round(xe*fe)}}var Ce=d.layoutAttributes.width.min,De=d.layoutAttributes.height.min;te<Ce&&(te=Ce),fe<De&&(fe=De);var Oe=!se.width&&Math.abs(J.width-te)>1,Te=!se.height&&Math.abs(J.height-fe)>1;(Te||Oe)&&(Oe&&(J.width=te),Te&&(J.height=fe)),Q._initialAutoSize||(Q._initialAutoSize={width:te,height:fe}),d.sanitizeMargins(J)},d.supplyLayoutModuleDefaults=function(X,Q,se,J){var G=v.componentsRegistry,oe=Q._basePlotModules,te,fe,ge,we=v.subplotsRegistry.cartesian;for(te in G)ge=G[te],ge.includeBasePlot&&ge.includeBasePlot(X,Q);oe.length||oe.push(we),Q._has("cartesian")&&(v.getComponentMethod("grid","contentDefaults")(X,Q),we.finalizeSubplots(X,Q));for(var xe in Q._subplots)Q._subplots[xe].sort(t.subplotSort);for(fe=0;fe<oe.length;fe++)ge=oe[fe],ge.supplyLayoutDefaults&&ge.supplyLayoutDefaults(X,Q,se);var Ce=Q._modules;for(fe=0;fe<Ce.length;fe++)ge=Ce[fe],ge.supplyLayoutDefaults&&ge.supplyLayoutDefaults(X,Q,se);var De=Q._transformModules;for(fe=0;fe<De.length;fe++)ge=De[fe],ge.supplyLayoutDefaults&&ge.supplyLayoutDefaults(X,Q,se,J);for(te in G)ge=G[te],ge.supplyLayoutDefaults&&ge.supplyLayoutDefaults(X,Q,se)},d.purge=function(X){var Q=X._fullLayout||{};Q._glcontainer!==void 0&&(Q._glcontainer.selectAll(".gl-canvas").remove(),Q._glcontainer.remove(),Q._glcanvas=null),Q._modeBar&&Q._modeBar.destroy(),X._transitionData&&(X._transitionData._interruptCallbacks&&(X._transitionData._interruptCallbacks.length=0),X._transitionData._animationRaf&&window.cancelAnimationFrame(X._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(X),delete X.data,delete X.layout,delete X._fullData,delete X._fullLayout,delete X.calcdata,delete X.empty,delete X.fid,delete X.undoqueue,delete X.undonum,delete X.autoplay,delete X.changed,delete X._promises,delete X._redrawTimer,delete X._hmlumcount,delete X._hmpixcount,delete X._transitionData,delete X._transitioning,delete X._initialAutoSize,delete X._transitioningWithDuration,delete X._dragging,delete X._dragged,delete X._dragdata,delete X._hoverdata,delete X._snapshotInProgress,delete X._editing,delete X._mouseDownTime,delete X._legendMouseDownTime,X.removeAllListeners&&X.removeAllListeners()},d.style=function(X){var Q=X._fullLayout._visibleModules,se=[],J;for(J=0;J<Q.length;J++){var G=Q[J];G.style&&t.pushUnique(se,G.style)}for(J=0;J<se.length;J++)se[J](X)},d.sanitizeMargins=function(X){if(!(!X||!X.margin)){var Q=X.width,se=X.height,J=X.margin,G=Q-(J.l+J.r),oe=se-(J.t+J.b),te;G<0&&(te=(Q-1)/(J.l+J.r),J.l=Math.floor(te*J.l),J.r=Math.floor(te*J.r)),oe<0&&(te=(se-1)/(J.t+J.b),J.t=Math.floor(te*J.t),J.b=Math.floor(te*J.b))}},d.clearAutoMarginIds=function(X){X._fullLayout._pushmarginIds={}},d.allowAutoMargin=function(X,Q){X._fullLayout._pushmarginIds[Q]=1};function F(X){var Q=X.margin;if(!X._size){var se=X._size={l:Math.round(Q.l),r:Math.round(Q.r),t:Math.round(Q.t),b:Math.round(Q.b),p:Math.round(Q.pad)};se.w=Math.round(X.width)-se.l-se.r,se.h=Math.round(X.height)-se.t-se.b}X._pushmargin||(X._pushmargin={}),X._pushmarginIds||(X._pushmarginIds={}),X._reservedMargin||(X._reservedMargin={})}var z=2,N=2;d.autoMargin=function(X,Q,se){var J=X._fullLayout,G=J.width,oe=J.height,te=J.margin,fe=J.minreducedwidth,ge=J.minreducedheight,we=t.constrain(G-te.l-te.r,z,fe),xe=t.constrain(oe-te.t-te.b,N,ge),Ce=Math.max(0,G-we),De=Math.max(0,oe-xe),Oe=J._pushmargin,Te=J._pushmarginIds;if(te.autoexpand!==!1){if(!se)delete Oe[Q],delete Te[Q];else{var Re=se.pad;if(Re===void 0&&(Re=Math.min(12,te.l,te.r,te.t,te.b)),Ce){var Me=(se.l+se.r)/Ce;Me>1&&(se.l/=Me,se.r/=Me)}if(De){var ke=(se.t+se.b)/De;ke>1&&(se.t/=ke,se.b/=ke)}var Se=se.xl!==void 0?se.xl:se.x,He=se.xr!==void 0?se.xr:se.x,je=se.yt!==void 0?se.yt:se.y,at=se.yb!==void 0?se.yb:se.y;Oe[Q]={l:{val:Se,size:se.l+Re},r:{val:He,size:se.r+Re},b:{val:at,size:se.b+Re},t:{val:je,size:se.t+Re}},Te[Q]=1}if(!J._replotting)return d.doAutoMargin(X)}};function W(X){if("_redrawFromAutoMarginCount"in X._fullLayout)return!1;var Q=l.list(X,"",!0);for(var se in Q)if(Q[se].autoshift||Q[se].shift)return!0;return!1}d.doAutoMargin=function(X){var Q=X._fullLayout,se=Q.width,J=Q.height;Q._size||(Q._size={}),F(Q);var G=Q._size,oe=Q.margin,te={t:0,b:0,l:0,r:0},fe=t.extendFlat({},G),ge=oe.l,we=oe.r,xe=oe.t,Ce=oe.b,De=Q._pushmargin,Oe=Q._pushmarginIds,Te=Q.minreducedwidth,Re=Q.minreducedheight;if(oe.autoexpand!==!1){for(var Me in De)Oe[Me]||delete De[Me];var ke=X._fullLayout._reservedMargin;for(var Se in ke)for(var He in ke[Se]){var je=ke[Se][He];te[He]=Math.max(te[He],je)}De.base={l:{val:0,size:ge},r:{val:1,size:we},t:{val:1,size:xe},b:{val:0,size:Ce}};for(var at in te){var Ze=0;for(var $e in De)$e!=="base"&&L(De[$e][at].size)&&(Ze=De[$e][at].size>Ze?De[$e][at].size:Ze);var ut=Math.max(0,oe[at]-Ze);te[at]=Math.max(0,te[at]-ut)}for(var ht in De){var vt=De[ht].l||{},xt=De[ht].b||{},St=vt.val,tt=vt.size,Ie=xt.val,Ve=xt.size,Ge=se-te.r-te.l,Xe=J-te.t-te.b;for(var Le in De){if(L(tt)&&De[Le].r){var Fe=De[Le].r.val,Ue=De[Le].r.size;if(Fe>St){var Ee=(tt*Fe+(Ue-Ge)*St)/(Fe-St),he=(Ue*(1-St)+(tt-Ge)*(1-Fe))/(Fe-St);Ee+he>ge+we&&(ge=Ee,we=he)}}if(L(Ve)&&De[Le].t){var ye=De[Le].t.val,_e=De[Le].t.size;if(ye>Ie){var We=(Ve*ye+(_e-Xe)*Ie)/(ye-Ie),rt=(_e*(1-Ie)+(Ve-Xe)*(1-ye))/(ye-Ie);We+rt>Ce+xe&&(Ce=We,xe=rt)}}}}}var st=t.constrain(se-oe.l-oe.r,z,Te),Vt=t.constrain(J-oe.t-oe.b,N,Re),Xt=Math.max(0,se-st),Tt=Math.max(0,J-Vt);if(Xt){var Lt=(ge+we)/Xt;Lt>1&&(ge/=Lt,we/=Lt)}if(Tt){var Kt=(Ce+xe)/Tt;Kt>1&&(Ce/=Kt,xe/=Kt)}if(G.l=Math.round(ge)+te.l,G.r=Math.round(we)+te.r,G.t=Math.round(xe)+te.t,G.b=Math.round(Ce)+te.b,G.p=Math.round(oe.pad),G.w=Math.round(se)-G.l-G.r,G.h=Math.round(J)-G.t-G.b,!Q._replotting&&(d.didMarginChange(fe,G)||W(X))){"_redrawFromAutoMarginCount"in Q?Q._redrawFromAutoMarginCount++:Q._redrawFromAutoMarginCount=1;var vr=3*(1+Object.keys(Oe).length);if(Q._redrawFromAutoMarginCount<vr)return v.call("_doPlot",X);Q._size=fe,t.warn("Too many auto-margin redraws.")}Z(X)};function Z(X){var Q=l.list(X,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(se){for(var J=0;J<Q.length;J++){var G=Q[J][se];G&&G()}})}var q=["l","r","t","b","p","w","h"];d.didMarginChange=function(X,Q){for(var se=0;se<q.length;se++){var J=q[se],G=X[J],oe=Q[J];if(!L(G)||Math.abs(oe-G)>1)return!0}return!1},d.graphJson=function(X,Q,se,J,G,oe){(G&&Q&&!X._fullData||G&&!Q&&!X._fullLayout)&&d.supplyDefaults(X);var te=G?X._fullData:X.data,fe=G?X._fullLayout:X.layout,ge=(X._transitionData||{})._frames;function we(De,Oe){if(typeof De=="function")return Oe?"_function_":null;if(t.isPlainObject(De)){var Te={},Re;return Object.keys(De).sort().forEach(function(He){if(["_","["].indexOf(He.charAt(0))===-1){if(typeof De[He]=="function"){Oe&&(Te[He]="_function");return}if(se==="keepdata"){if(He.substr(He.length-3)==="src")return}else if(se==="keepstream"){if(Re=De[He+"src"],typeof Re=="string"&&Re.indexOf(":")>0&&!t.isPlainObject(De.stream))return}else if(se!=="keepall"&&(Re=De[He+"src"],typeof Re=="string"&&Re.indexOf(":")>0))return;Te[He]=we(De[He],Oe)}}),Te}var Me=Array.isArray(De),ke=t.isTypedArray(De);if((Me||ke)&&De.dtype&&De.shape){var Se=De.bdata;return we({dtype:De.dtype,shape:De.shape,bdata:t.isArrayBuffer(Se)?M.encode(Se):Se},Oe)}return Me?De.map(function(He){return we(He,Oe)}):ke?t.simpleMap(De,t.identity):t.isJSDate(De)?t.ms2DateTimeLocal(+De):De}var xe={data:(te||[]).map(function(De){var Oe=we(De);return Q&&delete Oe.fit,Oe})};if(!Q&&(xe.layout=we(fe),G)){var Ce=fe._size;xe.layout.computed={margin:{b:Ce.b,l:Ce.l,r:Ce.r,t:Ce.t}}}return ge&&(xe.frames=we(ge)),oe&&(xe.config=we(X._context,!0)),J==="object"?xe:JSON.stringify(xe)},d.modifyFrames=function(X,Q){var se,J,G,oe=X._transitionData._frames,te=X._transitionData._frameHash;for(se=0;se<Q.length;se++)switch(J=Q[se],J.type){case"replace":G=J.value;var fe=(oe[J.index]||{}).name,ge=G.name;oe[J.index]=te[ge]=G,ge!==fe&&(delete te[fe],te[ge]=G);break;case"insert":G=J.value,te[G.name]=G,oe.splice(J.index,0,G);break;case"delete":G=oe[J.index],delete te[G.name],oe.splice(J.index,1);break}return Promise.resolve()},d.computeFrame=function(X,Q){var se=X._transitionData._frameHash,J,G,oe,te;if(!Q)throw new Error("computeFrame must be given a string frame name");var fe=se[Q.toString()];if(!fe)return!1;for(var ge=[fe],we=[fe.name];fe.baseframe&&(fe=se[fe.baseframe.toString()])&&we.indexOf(fe.name)===-1;)ge.push(fe),we.push(fe.name);for(var xe={};fe=ge.pop();)if(fe.layout&&(xe.layout=d.extendLayout(xe.layout,fe.layout)),fe.data){if(xe.data||(xe.data=[]),G=fe.traces,!G)for(G=[],J=0;J<fe.data.length;J++)G[J]=J;for(xe.traces||(xe.traces=[]),J=0;J<fe.data.length;J++)oe=G[J],oe!=null&&(te=xe.traces.indexOf(oe),te===-1&&(te=xe.data.length,xe.traces[te]=oe),xe.data[te]=d.extendTrace(xe.data[te],fe.data[J]))}return xe},d.recomputeFrameHash=function(X){for(var Q=X._transitionData._frameHash={},se=X._transitionData._frames,J=0;J<se.length;J++){var G=se[J];G&&G.name&&(Q[G.name]=G)}},d.extendObjectWithContainers=function(X,Q,se){var J,G,oe,te,fe,ge,we,xe,Ce=t.extendDeepNoArrays({},Q||{}),De=t.expandObjectPaths(Ce),Oe={};if(se&&se.length)for(oe=0;oe<se.length;oe++)J=t.nestedProperty(De,se[oe]),G=J.get(),G===void 0?t.nestedProperty(Oe,se[oe]).set(null):(J.set(null),t.nestedProperty(Oe,se[oe]).set(G));if(X=t.extendDeepNoArrays(X||{},De),se&&se.length){for(oe=0;oe<se.length;oe++)if(fe=t.nestedProperty(Oe,se[oe]),we=fe.get(),!!we){for(ge=t.nestedProperty(X,se[oe]),xe=ge.get(),Array.isArray(xe)||(xe=[],ge.set(xe)),te=0;te<we.length;te++){var Te=we[te];Te===null?xe[te]=null:xe[te]=d.extendObjectWithContainers(xe[te],Te)}ge.set(xe)}}return X},d.dataArrayContainers=["transforms","dimensions"],d.layoutArrayContainers=v.layoutArrayContainers,d.extendTrace=function(X,Q){return d.extendObjectWithContainers(X,Q,d.dataArrayContainers)},d.extendLayout=function(X,Q){return d.extendObjectWithContainers(X,Q,d.layoutArrayContainers)},d.transition=function(X,Q,se,J,G,oe){var te={redraw:G.redraw},fe={},ge=[];return te.prepareFn=function(){for(var we=Array.isArray(Q)?Q.length:0,xe=J.slice(0,we),Ce=0;Ce<xe.length;Ce++){var De=xe[Ce],Oe=X._fullData[De],Te=Oe._module;if(Te){if(Te.animatable){var Re=Te.basePlotModule.name;fe[Re]||(fe[Re]=[]),fe[Re].push(De)}X.data[xe[Ce]]=d.extendTrace(X.data[xe[Ce]],Q[Ce])}}var Me=t.expandObjectPaths(t.extendDeepNoArrays({},se)),ke=/^[xy]axis[0-9]*$/;for(var Se in Me)ke.test(Se)&&delete Me[Se].range;d.extendLayout(X.layout,Me),delete X.calcdata,d.supplyDefaults(X),d.doCalcdata(X);var He=t.expandObjectPaths(se);if(He){var je=X._fullLayout._plots;for(var at in je){var Ze=je[at],$e=Ze.xaxis,ut=Ze.yaxis,ht=$e.range.slice(),vt=ut.range.slice(),xt=null,St=null,tt=null,Ie=null;Array.isArray(He[$e._name+".range"])?xt=He[$e._name+".range"].slice():Array.isArray((He[$e._name]||{}).range)&&(xt=He[$e._name].range.slice()),Array.isArray(He[ut._name+".range"])?St=He[ut._name+".range"].slice():Array.isArray((He[ut._name]||{}).range)&&(St=He[ut._name].range.slice()),ht&&xt&&($e.r2l(ht[0])!==$e.r2l(xt[0])||$e.r2l(ht[1])!==$e.r2l(xt[1]))&&(tt={xr0:ht,xr1:xt}),vt&&St&&(ut.r2l(vt[0])!==ut.r2l(St[0])||ut.r2l(vt[1])!==ut.r2l(St[1]))&&(Ie={yr0:vt,yr1:St}),(tt||Ie)&&ge.push(t.extendFlat({plotinfo:Ze},tt,Ie))}}return Promise.resolve()},te.runFn=function(we){var xe,Ce=X._fullLayout._basePlotModules,De=ge.length,Oe;if(se)for(Oe=0;Oe<Ce.length;Oe++)Ce[Oe].transitionAxes&&Ce[Oe].transitionAxes(X,ge,oe,we);De?(xe=t.extendFlat({},oe),xe.duration=0,delete fe.cartesian):xe=oe;for(var Te in fe){var Re=fe[Te],Me=X._fullData[Re[0]]._module;Me.basePlotModule.plot(X,Re,xe,we)}},re(X,oe,te)},d.transitionFromReact=function(X,Q,se,J){var G=X._fullLayout,oe=G.transition,te={},fe=[];return te.prepareFn=function(){var ge=G._plots;te.redraw=!1,Q.anim==="some"&&(te.redraw=!0),se.anim==="some"&&(te.redraw=!0);for(var we in ge){var xe=ge[we],Ce=xe.xaxis,De=xe.yaxis,Oe=J[Ce._name].range.slice(),Te=J[De._name].range.slice(),Re=Ce.range.slice(),Me=De.range.slice();Ce.setScale(),De.setScale();var ke=null,Se=null;(Ce.r2l(Oe[0])!==Ce.r2l(Re[0])||Ce.r2l(Oe[1])!==Ce.r2l(Re[1]))&&(ke={xr0:Oe,xr1:Re}),(De.r2l(Te[0])!==De.r2l(Me[0])||De.r2l(Te[1])!==De.r2l(Me[1]))&&(Se={yr0:Te,yr1:Me}),(ke||Se)&&fe.push(t.extendFlat({plotinfo:xe},ke,Se))}return Promise.resolve()},te.runFn=function(ge){for(var we=X._fullData,xe=X._fullLayout,Ce=xe._basePlotModules,De,Oe,Te,Re=[],Me=0;Me<we.length;Me++)Re.push(Me);function ke(){if(X._fullLayout)for(var He=0;He<Ce.length;He++)Ce[He].transitionAxes&&Ce[He].transitionAxes(X,fe,De,ge)}function Se(){if(X._fullLayout)for(var He=0;He<Ce.length;He++)Ce[He].plot(X,Te,Oe,ge)}fe.length&&Q.anim?oe.ordering==="traces first"?(De=t.extendFlat({},oe,{duration:0}),Te=Re,Oe=oe,setTimeout(ke,oe.duration),Se()):(De=oe,Te=null,Oe=t.extendFlat({},oe,{duration:0}),setTimeout(Se,De.duration),ke()):fe.length?(De=oe,ke()):Q.anim&&(Te=Re,Oe=oe,Se())},re(X,oe,te)};function re(X,Q,se){var J=!1;function G(Ce){var De=Promise.resolve();if(!Ce)return De;for(;Ce.length;)De=De.then(Ce.shift());return De}function oe(Ce){if(Ce)for(;Ce.length;)Ce.shift()}function te(){return X.emit("plotly_transitioning",[]),new Promise(function(Ce){X._transitioning=!0,Q.duration>0&&(X._transitioningWithDuration=!0),X._transitionData._interruptCallbacks.push(function(){J=!0}),se.redraw&&X._transitionData._interruptCallbacks.push(function(){return v.call("redraw",X)}),X._transitionData._interruptCallbacks.push(function(){X.emit("plotly_transitioninterrupted",[])});var De=0,Oe=0;function Te(){return De++,function(){Oe++,!J&&Oe===De&&fe(Ce)}}se.runFn(Te),setTimeout(Te())})}function fe(Ce){if(X._transitionData)return oe(X._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(se.redraw)return v.call("redraw",X)}).then(function(){X._transitioning=!1,X._transitioningWithDuration=!1,X.emit("plotly_transitioned",[])}).then(Ce)}function ge(){if(X._transitionData)return X._transitioning=!1,G(X._transitionData._interruptCallbacks)}var we=[d.previousPromises,ge,se.prepareFn,d.rehover,d.reselect,te],xe=t.syncOrAsync(we,X);return(!xe||!xe.then)&&(xe=Promise.resolve()),xe.then(function(){return X})}d.doCalcdata=function(X,Q){var se=l.list(X),J=X._fullData,G=X._fullLayout,oe,te,fe,ge,we=new Array(J.length),xe=(X.calcdata||[]).slice();for(X.calcdata=we,G._numBoxes=0,G._numViolins=0,G._violinScaleGroupStats={},X._hmpixcount=0,X._hmlumcount=0,G._piecolormap={},G._sunburstcolormap={},G._treemapcolormap={},G._iciclecolormap={},G._funnelareacolormap={},fe=0;fe<J.length;fe++)if(Array.isArray(Q)&&Q.indexOf(fe)===-1){we[fe]=xe[fe];continue}for(fe=0;fe<J.length;fe++)oe=J[fe],oe._arrayAttrs=p.findArrayAttributes(oe),oe._extremes={};var Ce=G._subplots.polar||[];for(fe=0;fe<Ce.length;fe++)se.push(G[Ce[fe]].radialaxis,G[Ce[fe]].angularaxis);for(var De in G._colorAxes){var Oe=G[De];Oe.cauto!==!1&&(delete Oe.cmin,delete Oe.cmax)}var Te=!1;function Re(Se){if(oe=J[Se],te=oe._module,oe.visible===!0&&oe.transforms){if(te&&te.calc){var He=te.calc(X,oe);He[0]&&He[0].t&&He[0].t._scene&&delete He[0].t._scene.dirty}for(ge=0;ge<oe.transforms.length;ge++){var je=oe.transforms[ge];te=x[je.type],te&&te.calcTransform&&(oe._hasCalcTransform=!0,Te=!0,te.calcTransform(X,oe,je))}}}function Me(Se,He){if(oe=J[Se],te=oe._module,!!te.isContainer===He){var je=[];if(oe.visible===!0&&oe._length!==0){delete oe._indexToPoints;var at=oe.transforms||[];for(ge=at.length-1;ge>=0;ge--)if(at[ge].enabled){oe._indexToPoints=at[ge]._indexToPoints;break}te&&te.calc&&(je=te.calc(X,oe))}(!Array.isArray(je)||!je[0])&&(je=[{x:n,y:n}]),je[0].t||(je[0].t={}),je[0].trace=oe,we[Se]=je}}for(K(se,J,G),fe=0;fe<J.length;fe++)Me(fe,!0);for(fe=0;fe<J.length;fe++)Re(fe);for(Te&&K(se,J,G),fe=0;fe<J.length;fe++)Me(fe,!0);for(fe=0;fe<J.length;fe++)Me(fe,!1);$(X);var ke=ie(se,X);if(ke.length){for(G._numBoxes=0,G._numViolins=0,fe=0;fe<ke.length;fe++)Me(ke[fe],!0);for(fe=0;fe<ke.length;fe++)Me(ke[fe],!1);$(X)}v.getComponentMethod("fx","calc")(X),v.getComponentMethod("errorbars","calc")(X)};var le=/(total|sum|min|max|mean|geometric mean|median) (ascending|descending)/;function ie(X,Q){var se=[],J,G,oe,te,fe;function ge(Le,Fe,Ue){var Ee=Fe._id.charAt(0);if(Le==="histogram2dcontour"){var he=Fe._counterAxes[0],ye=l.getFromId(Q,he),_e=Ee==="x"||he==="x"&&ye.type==="category",We=Ee==="y"||he==="y"&&ye.type==="category";return function(rt,st){return rt===0||st===0||_e&&rt===Ue[st].length-1||We&&st===Ue.length-1?-1:(Ee==="y"?st:rt)-1}}else return function(rt,st){return Ee==="y"?st:rt}}var we={min:function(Le){return t.aggNums(Math.min,null,Le)},max:function(Le){return t.aggNums(Math.max,null,Le)},sum:function(Le){return t.aggNums(function(Fe,Ue){return Fe+Ue},null,Le)},total:function(Le){return t.aggNums(function(Fe,Ue){return Fe+Ue},null,Le)},mean:function(Le){return t.mean(Le)},"geometric mean":function(Le){return t.geometricMean(Le)},median:function(Le){return t.median(Le)}};function xe(Le,Fe){return Le[1]-Fe[1]}function Ce(Le,Fe){return Fe[1]-Le[1]}for(J=0;J<X.length;J++){var De=X[J];if(De.type==="category"){var Oe=De.categoryorder.match(le);if(Oe){var Te=Oe[1],Re=Oe[2],Me=De._id.charAt(0),ke=Me==="x",Se=[];for(G=0;G<De._categories.length;G++)Se.push([De._categories[G],[]]);for(G=0;G<De._traceIndices.length;G++){var He=De._traceIndices[G],je=Q._fullData[He];if(je.visible===!0){var at=je.type;v.traceIs(je,"histogram")&&(delete je._xautoBinFinished,delete je._yautoBinFinished);var Ze=at==="splom",$e=at==="scattergl",ut=Q.calcdata[He];for(oe=0;oe<ut.length;oe++){var ht=ut[oe],vt,xt;if(Ze){var St=je._axesDim[De._id];if(!ke){var tt=je._diag[St][0];tt&&(De=Q._fullLayout[l.id2name(tt)])}var Ie=ht.trace.dimensions[St].values;for(te=0;te<Ie.length;te++)for(vt=De._categoriesMap[Ie[te]],fe=0;fe<ht.trace.dimensions.length;fe++)if(fe!==St){var Ve=ht.trace.dimensions[fe];Se[vt][1].push(Ve.values[te])}}else if($e){for(te=0;te<ht.t.x.length;te++)ke?(vt=ht.t.x[te],xt=ht.t.y[te]):(vt=ht.t.y[te],xt=ht.t.x[te]),Se[vt][1].push(xt);ht.t&&ht.t._scene&&delete ht.t._scene.dirty}else if(ht.hasOwnProperty("z")){xt=ht.z;var Ge=ge(je.type,De,xt);for(te=0;te<xt.length;te++)for(fe=0;fe<xt[te].length;fe++)vt=Ge(fe,te),vt+1&&Se[vt][1].push(xt[te][fe])}else for(vt=ht.p,vt===void 0&&(vt=ht[Me]),xt=ht.s,xt===void 0&&(xt=ht.v),xt===void 0&&(xt=ke?ht.y:ht.x),Array.isArray(xt)||(xt===void 0?xt=[]:xt=[xt]),te=0;te<xt.length;te++)Se[vt][1].push(xt[te])}}}De._categoriesValue=Se;var Xe=[];for(G=0;G<Se.length;G++)Xe.push([Se[G][0],we[Te](Se[G][1])]);Xe.sort(Re==="descending"?Ce:xe),De._categoriesAggregatedValue=Xe,De._initialCategories=Xe.map(function(Le){return Le[0]}),se=se.concat(De.sortByInitialCategories())}}}return se}function K(X,Q,se){var J={};function G(ge){ge.clearCalc(),ge.type==="multicategory"&&ge.setupMultiCategory(Q),J[ge._id]=1}t.simpleMap(X,G);for(var oe=se._axisMatchGroups||[],te=0;te<oe.length;te++)for(var fe in oe[te])J[fe]||G(se[l.id2name(fe)])}function $(X){var Q=X._fullLayout,se=Q._visibleModules,J={},G,oe,te;for(oe=0;oe<se.length;oe++){var fe=se[oe],ge=fe.crossTraceCalc;if(ge){var we=fe.basePlotModule.name;J[we]?t.pushUnique(J[we],ge):J[we]=[ge]}}for(te in J){var xe=J[te],Ce=Q._subplots[te];if(Array.isArray(Ce))for(G=0;G<Ce.length;G++){var De=Ce[G],Oe=te==="cartesian"?Q._plots[De]:Q[De];for(oe=0;oe<xe.length;oe++)xe[oe](X,Oe,De)}else for(oe=0;oe<xe.length;oe++)xe[oe](X)}}d.rehover=function(X){X._fullLayout._rehover&&X._fullLayout._rehover()},d.redrag=function(X){X._fullLayout._redrag&&X._fullLayout._redrag()},d.reselect=function(X){var Q=X._fullLayout,se=(X.layout||{}).selections,J=Q._previousSelections;Q._previousSelections=se;var G=Q._reselect||JSON.stringify(se)!==JSON.stringify(J);v.getComponentMethod("selections","reselect")(X,G)},d.generalUpdatePerTraceModule=function(X,Q,se,J){var G=Q.traceHash,oe={},te;for(te=0;te<se.length;te++){var fe=se[te],ge=fe[0].trace;ge.visible&&(oe[ge.type]=oe[ge.type]||[],oe[ge.type].push(fe))}for(var we in G)if(!oe[we]){var xe=G[we][0],Ce=xe[0].trace;Ce.visible=!1,oe[we]=[xe]}for(var De in oe){var Oe=oe[De],Te=Oe[0][0].trace._module;Te.plot(X,Q,t.filterVisible(Oe),J)}Q.traceHash=oe},d.plotBasePlot=function(X,Q,se,J,G){var oe=v.getModule(X),te=w(Q.calcdata,oe)[0];oe.plot(Q,te,J,G)},d.cleanBasePlot=function(X,Q,se,J,G){var oe=G._has&&G._has(X),te=se._has&&se._has(X);oe&&!te&&G["_"+X+"layer"].selectAll("g.trace").remove()}},39360:function(Y){Y.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},57384:function(Y,V,e){var b=e(3400),P=e(92065).tester,s=b.findIndexOfMin,L=b.isAngleInsideSector,M=b.angleDelta,v=b.angleDist;function p(a,d,x,T,C){if(!L(d,T))return!1;var y,S;x[0]<x[1]?(y=x[0],S=x[1]):(y=x[1],S=x[0]);var A=P(l(y,T[0],T[1],C)),i=P(l(S,T[0],T[1],C)),E=[a*Math.cos(d),a*Math.sin(d)];return i.contains(E)&&!A.contains(E)}function r(a,d,x,T){var C,y,S=T[0],A=T[1],i=g(Math.sin(d)-Math.sin(a)),E=g(Math.cos(d)-Math.cos(a)),m=Math.tan(x),k=g(1/m),I=i/E,O=A-I*S;return k?i&&E?(C=O/(m-I),y=m*C):E?(C=A*k,y=A):(C=S,y=S*m):i&&E?(C=0,y=O):E?(C=0,y=A):C=y=NaN,[C,y]}function t(a,d,x,T){var C=-d*x,y=d*d+1,S=2*(d*C-x),A=C*C+x*x-a*a,i=Math.sqrt(S*S-4*y*A),E=(-S+i)/(2*y),m=(-S-i)/(2*y);return[[E,d*E+C+T],[m,d*m+C+T]]}function o(a,d){var x=d.length,T=new Array(x+1),C;for(C=0;C<x;C++){var y=d[C];T[C]=[a*Math.cos(y),a*Math.sin(y)]}return T[C]=T[0].slice(),T}function n(a,d,x,T){var C=T.length,y=[],S,A;function i(z){return[a*Math.cos(z),a*Math.sin(z)]}function E(z,N,W){return r(z,N,W,i(z))}function m(z){return b.mod(z,C)}function k(z){return L(z,[d,x])}var I=s(T,function(z){return k(z)?v(z,d):1/0}),O=E(T[I],T[m(I-1)],d);for(y.push(O),S=I,A=0;A<C;S++,A++){var _=T[m(S)];if(!k(_))break;y.push(i(_))}var B=s(T,function(z){return k(z)?v(z,x):1/0}),F=E(T[B],T[m(B+1)],x);return y.push(F),y.push([0,0]),y.push(y[0].slice()),y}function l(a,d,x,T){return b.isFullCircle([d,x])?o(a,T):n(a,d,x,T)}function u(a,d,x,T){for(var C=1/0,y=1/0,S=l(a,d,x,T),A=0;A<S.length;A++){var i=S[A];C=Math.min(C,i[0]),y=Math.min(y,-i[1])}return[C,y]}function f(a,d){var x=function(y){var S=M(y,a);return S>0?S:1/0},T=s(d,x),C=b.mod(T+1,d.length);return[d[T],d[C]]}function g(a){return Math.abs(a)>1e-10?a:0}function h(a,d,x){d=d||0,x=x||0;for(var T=a.length,C=new Array(T),y=0;y<T;y++){var S=a[y];C[y]=[d+S[0],x-S[1]]}return C}function w(a,d,x,T,C,y){var S=l(a,d,x,T);return"M"+h(S,C,y).join("L")}function c(a,d,x,T,C,y,S){var A,i;a<d?(A=a,i=d):(A=d,i=a);var E=h(l(A,x,T,C),y,S),m=h(l(i,x,T,C),y,S);return"M"+m.reverse().join("L")+"M"+E.join("L")}Y.exports={isPtInsidePolygon:p,findPolygonOffset:u,findEnclosingVertexAngles:f,findIntersectionXY:r,findXYatLength:t,clampTiny:g,pathPolygon:w,pathPolygonAnnulus:c}},40872:function(Y,V,e){var b=e(84888).KY,P=e(3400).counterRegex,s=e(62400),L=e(39360),M=L.attr,v=L.name,p=P(v),r={};r[M]={valType:"subplotid",dflt:v,editType:"calc"};function t(n){for(var l=n._fullLayout,u=n.calcdata,f=l._subplots[v],g=0;g<f.length;g++){var h=f[g],w=b(u,v,h),c=l[h]._subplot;c||(c=s(n,h),l[h]._subplot=c),c.plot(w,l,n._promises)}}function o(n,l,u,f){for(var g=f._subplots[v]||[],h=f._has&&f._has("gl"),w=l._has&&l._has("gl"),c=h&&!w,a=0;a<g.length;a++){var d=g[a],x=f[d]._subplot;if(!l[d]&&x){x.framework.remove(),x.layers["radial-axis-title"].remove();for(var T in x.clipPaths)x.clipPaths[T].remove()}c&&x._scene&&(x._scene.destroy(),x._scene=null)}}Y.exports={attr:M,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:r,layoutAttributes:e(95300),supplyLayoutDefaults:e(84380),plot:t,clean:o,toSVG:e(57952).toSVG}},95300:function(Y,V,e){var b=e(22548),P=e(94724),s=e(86968).u,L=e(3400).extendFlat,M=e(67824).overrideAll,v=M({color:P.color,showline:L({},P.showline,{dflt:!0}),linecolor:P.linecolor,linewidth:P.linewidth,showgrid:L({},P.showgrid,{dflt:!0}),gridcolor:P.gridcolor,gridwidth:P.gridwidth,griddash:P.griddash},"plot","from-root"),p=M({tickmode:P.minor.tickmode,nticks:P.nticks,tick0:P.tick0,dtick:P.dtick,tickvals:P.tickvals,ticktext:P.ticktext,ticks:P.ticks,ticklen:P.ticklen,tickwidth:P.tickwidth,tickcolor:P.tickcolor,ticklabelstep:P.ticklabelstep,showticklabels:P.showticklabels,labelalias:P.labelalias,showtickprefix:P.showtickprefix,tickprefix:P.tickprefix,showticksuffix:P.showticksuffix,ticksuffix:P.ticksuffix,showexponent:P.showexponent,exponentformat:P.exponentformat,minexponent:P.minexponent,separatethousands:P.separatethousands,tickfont:P.tickfont,tickangle:P.tickangle,tickformat:P.tickformat,tickformatstops:P.tickformatstops,layer:P.layer},"plot","from-root"),r={visible:L({},P.visible,{dflt:!0}),type:L({},P.type,{values:["-","linear","log","date","category"]}),autotypenumbers:P.autotypenumbers,autorangeoptions:{minallowed:P.autorangeoptions.minallowed,maxallowed:P.autorangeoptions.maxallowed,clipmin:P.autorangeoptions.clipmin,clipmax:P.autorangeoptions.clipmax,include:P.autorangeoptions.include,editType:"plot"},autorange:L({},P.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:L({},P.minallowed,{editType:"plot"}),maxallowed:L({},P.maxallowed,{editType:"plot"}),range:L({},P.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:P.categoryorder,categoryarray:P.categoryarray,angle:{valType:"angle",editType:"plot"},autotickangles:P.autotickangles,side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:L({},P.title.text,{editType:"plot",dflt:""}),font:L({},P.title.font,{editType:"plot"}),editType:"plot"},hoverformat:P.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:P._deprecated.title,titlefont:P._deprecated.titlefont}};L(r,v,p);var t={visible:L({},P.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:P.autotypenumbers,categoryorder:P.categoryorder,categoryarray:P.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:P.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};L(t,v,p),Y.exports={domain:s({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:b.background},radialaxis:r,angularaxis:t,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},84380:function(Y,V,e){var b=e(3400),P=e(76308),s=e(31780),L=e(168),M=e(84888).op,v=e(26332),p=e(25404),r=e(95936),t=e(42568),o=e(22416),n=e(42136),l=e(76808),u=e(52976),f=e(95300),g=e(57696),h=e(39360),w=h.axisNames;function c(d,x,T,C){var y=T("bgcolor");C.bgColor=P.combine(y,C.paper_bgcolor);var S=T("sector");T("hole");var A=M(C.fullData,h.name,C.id),i=C.layoutOut,E;function m(fe,ge){return T(E+"."+fe,ge)}for(var k=0;k<w.length;k++){E=w[k],b.isPlainObject(d[E])||(d[E]={});var I=d[E],O=s.newContainer(x,E);O._id=O._name=E,O._attr=C.id+"."+E,O._traceIndices=A.map(function(fe){return fe._expandedIndex});var _=h.axisName2dataArray[E],B=a(I,O,m,A,_,C);o(I,O,m,{axData:A,dataAttr:_});var F=m("visible");switch(g(O,x,i),m("uirevision",x.uirevision),O._m=1,E){case"radialaxis":m("minallowed"),m("maxallowed");var z=m("range"),N=O.getAutorangeDflt(z),W=m("autorange",N),Z;z&&(z[0]===null&&z[1]===null||(z[0]===null||z[1]===null)&&(W==="reversed"||W===!0)||z[0]!==null&&(W==="min"||W==="max reversed")||z[1]!==null&&(W==="max"||W==="min reversed"))&&(z=void 0,delete O.range,O.autorange=!0,Z=!0),Z||(N=O.getAutorangeDflt(z),W=m("autorange",N)),I.autorange=W,W&&(l(m,W,z),(B==="linear"||B==="-")&&m("rangemode"),O.isReversed()&&(O._m=-1)),O.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(B==="date"){b.log("Polar plots do not support date angular axes yet.");for(var q=0;q<A.length;q++)A[q].visible=!1;B=I.type=O.type="linear"}m(B==="linear"?"thetaunit":"period");var re=m("direction");m("rotation",{counterclockwise:0,clockwise:90}[re]);break}if(t(I,O,m,O.type,{tickSuffixDflt:O.thetaunit==="degrees"?"°":void 0}),F){var le,ie,K,$,X,Q,se,J,G,oe,te=C.font||{};le=m("color"),ie=le===I.color?le:te.color,K=te.size,$=te.family,X=te.weight,Q=te.style,se=te.variant,J=te.textcase,G=te.lineposition,oe=te.shadow,v(I,O,m,O.type),r(I,O,m,O.type,{font:{weight:X,style:Q,variant:se,textcase:J,lineposition:G,shadow:oe,color:ie,size:K,family:$},noAutotickangles:E==="angularaxis",noTicklabelshift:!0,noTicklabelstandoff:!0}),p(I,O,m,{outerTicks:!0}),n(I,O,m,{dfltColor:le,bgColor:C.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:f[E]}),m("layer"),E==="radialaxis"&&(m("side"),m("angle",S[0]),m("title.text"),b.coerceFont(m,"title.font",{weight:X,style:Q,variant:se,textcase:J,lineposition:G,shadow:oe,color:ie,size:b.bigFont(K),family:$}))}B!=="category"&&m("hoverformat"),O._input=I}x.angularaxis.type==="category"&&T("gridshape")}function a(d,x,T,C,y,S){var A=T("autotypenumbers",S.autotypenumbersDflt),i=T("type");if(i==="-"){for(var E,m=0;m<C.length;m++)if(C[m].visible){E=C[m];break}E&&E[y]&&(x.type=u(E[y],"gregorian",{noMultiCategory:!0,autotypenumbers:A})),x.type==="-"?x.type="linear":d.type=x.type}return x.type}Y.exports=function(x,T,C){L(x,T,C,{type:h.name,attributes:f,handleDefaults:c,font:T.font,autotypenumbersDflt:T.autotypenumbers,paper_bgcolor:T.paper_bgcolor,fullData:C,layoutOut:T})}},62400:function(Y,V,e){var b=e(33428),P=e(49760),s=e(24040),L=e(3400),M=L.strRotate,v=L.strTranslate,p=e(76308),r=e(43616),t=e(7316),o=e(54460),n=e(78344),l=e(57696),u=e(19280).doAutoRange,f=e(51184),g=e(86476),h=e(93024),w=e(81668),c=e(22676).prepSelect,a=e(22676).selectOnClick,d=e(22676).clearOutline,x=e(93972),T=e(73696),C=e(39172).redrawReglTraces,y=e(84284).MID_SHIFT,S=e(39360),A=e(57384),i=e(36416),E=i.smith,m=i.reactanceArc,k=i.resistanceArc,I=i.smithTransform,O=L._,_=L.mod,B=L.deg2rad,F=L.rad2deg;function z(le,ie,K){this.isSmith=K||!1,this.id=ie,this.gd=le,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var $=le._fullLayout,X="clip"+$._uid+ie;this.clipIds.forTraces=X+"-for-traces",this.clipPaths.forTraces=$._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=$["_"+(K?"smith":"polar")+"layer"].append("g").attr("class",ie),this.getHole=function(Q){return this.isSmith?0:Q.hole},this.getSector=function(Q){return this.isSmith?[0,360]:Q.sector},this.getRadial=function(Q){return this.isSmith?Q.realaxis:Q.radialaxis},this.getAngular=function(Q){return this.isSmith?Q.imaginaryaxis:Q.angularaxis},K||(this.radialTickLayout=null,this.angularTickLayout=null)}var N=z.prototype;Y.exports=function(ie,K,$){return new z(ie,K,$)},N.plot=function(le,ie){for(var K=this,$=ie[K.id],X=!1,Q=0;Q<le.length;Q++){var se=le[Q][0].trace;if(se.cliponaxis===!1){X=!0;break}}K._hasClipOnAxisFalse=X,K.updateLayers(ie,$),K.updateLayout(ie,$),t.generalUpdatePerTraceModule(K.gd,K,le,$),K.updateFx(ie,$),K.isSmith&&(delete $.realaxis.range,delete $.imaginaryaxis.range)},N.updateLayers=function(le,ie){var K=this,$=K.isSmith,X=K.layers,Q=K.getRadial(ie),se=K.getAngular(ie),J=S.layerNames,G=J.indexOf("frontplot"),oe=J.slice(0,G),te=se.layer==="below traces",fe=Q.layer==="below traces";te&&oe.push("angular-line"),fe&&oe.push("radial-line"),te&&oe.push("angular-axis"),fe&&oe.push("radial-axis"),oe.push("frontplot"),te||oe.push("angular-line"),fe||oe.push("radial-line"),te||oe.push("angular-axis"),fe||oe.push("radial-axis");var ge=($?"smith":"polar")+"sublayer",we=K.framework.selectAll("."+ge).data(oe,String);we.enter().append("g").attr("class",function(xe){return ge+" "+xe}).each(function(xe){var Ce=X[xe]=b.select(this);switch(xe){case"frontplot":$||Ce.append("g").classed("barlayer",!0),Ce.append("g").classed("scatterlayer",!0);break;case"backplot":Ce.append("g").classed("maplayer",!0);break;case"plotbg":X.bg=Ce.append("path");break;case"radial-grid":Ce.style("fill","none");break;case"angular-grid":Ce.style("fill","none");break;case"radial-line":Ce.append("line").style("fill","none");break;case"angular-line":Ce.append("path").style("fill","none");break}}),we.order()},N.updateLayout=function(le,ie){var K=this,$=K.layers,X=le._size,Q=K.getRadial(ie),se=K.getAngular(ie),J=ie.domain.x,G=ie.domain.y;K.xOffset=X.l+X.w*J[0],K.yOffset=X.t+X.h*(1-G[1]);var oe=K.xLength=X.w*(J[1]-J[0]),te=K.yLength=X.h*(G[1]-G[0]),fe=K.getSector(ie);K.sectorInRad=fe.map(B);var ge=K.sectorBBox=Z(fe),we=ge[2]-ge[0],xe=ge[3]-ge[1],Ce=te/oe,De=Math.abs(xe/we),Oe,Te,Re,Me,ke;Ce>De?(Oe=oe,Te=oe*De,ke=(te-Te)/X.h/2,Re=[J[0],J[1]],Me=[G[0]+ke,G[1]-ke]):(Oe=te/De,Te=te,ke=(oe-Oe)/X.w/2,Re=[J[0]+ke,J[1]-ke],Me=[G[0],G[1]]),K.xLength2=Oe,K.yLength2=Te,K.xDomain2=Re,K.yDomain2=Me;var Se=K.xOffset2=X.l+X.w*Re[0],He=K.yOffset2=X.t+X.h*(1-Me[1]),je=K.radius=Oe/we,at=K.innerRadius=K.getHole(ie)*je,Ze=K.cx=Se-je*ge[0],$e=K.cy=He+je*ge[3],ut=K.cxx=Ze-Se,ht=K.cyy=$e-He,vt=Q.side,xt;vt==="counterclockwise"?(xt=vt,vt="top"):vt==="clockwise"&&(xt=vt,vt="bottom"),K.radialAxis=K.mockAxis(le,ie,Q,{_id:"x",side:vt,_trueSide:xt,domain:[at/X.w,je/X.w]}),K.angularAxis=K.mockAxis(le,ie,se,{side:"right",domain:[0,Math.PI],autorange:!1}),K.doAutoRange(le,ie),K.updateAngularAxis(le,ie),K.updateRadialAxis(le,ie),K.updateRadialAxisTitle(le,ie),K.xaxis=K.mockCartesianAxis(le,ie,{_id:"x",domain:Re}),K.yaxis=K.mockCartesianAxis(le,ie,{_id:"y",domain:Me});var St=K.pathSubplot();K.clipPaths.forTraces.select("path").attr("d",St).attr("transform",v(ut,ht)),$.frontplot.attr("transform",v(Se,He)).call(r.setClipUrl,K._hasClipOnAxisFalse?null:K.clipIds.forTraces,K.gd),$.bg.attr("d",St).attr("transform",v(Ze,$e)).call(p.fill,ie.bgcolor)},N.mockAxis=function(le,ie,K,$){var X=L.extendFlat({},K,$);return l(X,ie,le),X},N.mockCartesianAxis=function(le,ie,K){var $=this,X=$.isSmith,Q=K._id,se=L.extendFlat({type:"linear"},K);n(se,le);var J={x:[0,2],y:[1,3]};return se.setRange=function(){var G=$.sectorBBox,oe=J[Q],te=$.radialAxis._rl,fe=(te[1]-te[0])/(1-$.getHole(ie));se.range=[G[oe[0]]*fe,G[oe[1]]*fe]},se.isPtWithinRange=Q==="x"&&!X?function(G){return $.isPtInside(G)}:function(){return!0},se.setRange(),se.setScale(),se},N.doAutoRange=function(le,ie){var K=this,$=K.gd,X=K.radialAxis,Q=K.getRadial(ie);u($,X);var se=X.range;if(Q.range=se.slice(),Q._input.range=se.slice(),X._rl=[X.r2l(se[0],null,"gregorian"),X.r2l(se[1],null,"gregorian")],X.minallowed!==void 0){var J=X.r2l(X.minallowed);X._rl[0]>X._rl[1]?X._rl[1]=Math.max(X._rl[1],J):X._rl[0]=Math.max(X._rl[0],J)}if(X.maxallowed!==void 0){var G=X.r2l(X.maxallowed);X._rl[0]<X._rl[1]?X._rl[1]=Math.min(X._rl[1],G):X._rl[0]=Math.min(X._rl[0],G)}},N.updateRadialAxis=function(le,ie){var K=this,$=K.gd,X=K.layers,Q=K.radius,se=K.innerRadius,J=K.cx,G=K.cy,oe=K.getRadial(ie),te=_(K.getSector(ie)[0],360),fe=K.radialAxis,ge=se<Q,we=K.isSmith;we||(K.fillViewInitialKey("radialaxis.angle",oe.angle),K.fillViewInitialKey("radialaxis.range",fe.range.slice()),fe.setGeometry()),fe.tickangle==="auto"&&te>90&&te<=270&&(fe.tickangle=180);var xe=we?function(je){var at=I(K,E([je.x,0]));return v(at[0]-J,at[1]-G)}:function(je){return v(fe.l2p(je.x)+se,0)},Ce=we?function(je){return k(K,je.x,-1/0,1/0)}:function(je){return K.pathArc(fe.r2p(je.x)+se)},De=W(oe);if(K.radialTickLayout!==De&&(X["radial-axis"].selectAll(".xtick").remove(),K.radialTickLayout=De),ge){fe.setScale();var Oe=0,Te=we?(fe.tickvals||[]).filter(function(je){return je>=0}).map(function(je){return o.tickText(fe,je,!0,!1)}):o.calcTicks(fe),Re=we?Te:o.clipEnds(fe,Te),Me=o.getTickSigns(fe)[2];we&&((fe.ticks==="top"&&fe.side==="bottom"||fe.ticks==="bottom"&&fe.side==="top")&&(Me=-Me),fe.ticks==="top"&&fe.side==="top"&&(Oe=-fe.ticklen),fe.ticks==="bottom"&&fe.side==="bottom"&&(Oe=fe.ticklen)),o.drawTicks($,fe,{vals:Te,layer:X["radial-axis"],path:o.makeTickPath(fe,0,Me),transFn:xe,crisp:!1}),o.drawGrid($,fe,{vals:Re,layer:X["radial-grid"],path:Ce,transFn:L.noop,crisp:!1}),o.drawLabels($,fe,{vals:Te,layer:X["radial-axis"],transFn:xe,labelFns:o.makeLabelFns(fe,Oe)})}var ke=K.radialAxisAngle=K.vangles?F(q(B(oe.angle),K.vangles)):oe.angle,Se=v(J,G),He=Se+M(-ke);re(X["radial-axis"],ge&&(oe.showticklabels||oe.ticks),{transform:He}),re(X["radial-grid"],ge&&oe.showgrid,{transform:we?"":Se}),re(X["radial-line"].select("line"),ge&&oe.showline,{x1:we?-Q:se,y1:0,x2:Q,y2:0,transform:He}).attr("stroke-width",oe.linewidth).call(p.stroke,oe.linecolor)},N.updateRadialAxisTitle=function(le,ie,K){if(!this.isSmith){var $=this,X=$.gd,Q=$.radius,se=$.cx,J=$.cy,G=$.getRadial(ie),oe=$.id+"title",te=0;if(G.title){var fe=r.bBox($.layers["radial-axis"].node()).height,ge=G.title.font.size,we=G.side;te=we==="top"?ge:we==="counterclockwise"?-(fe+ge*.4):fe+ge*.8}var xe=K!==void 0?K:$.radialAxisAngle,Ce=B(xe),De=Math.cos(Ce),Oe=Math.sin(Ce),Te=se+Q/2*De+te*Oe,Re=J-Q/2*Oe+te*De;$.layers["radial-axis-title"]=w.draw(X,oe,{propContainer:G,propName:$.id+".radialaxis.title",placeholder:O(X,"Click to enter radial axis title"),attributes:{x:Te,y:Re,"text-anchor":"middle"},transform:{rotate:-xe}})}},N.updateAngularAxis=function(le,ie){var K=this,$=K.gd,X=K.layers,Q=K.radius,se=K.innerRadius,J=K.cx,G=K.cy,oe=K.getAngular(ie),te=K.angularAxis,fe=K.isSmith;fe||(K.fillViewInitialKey("angularaxis.rotation",oe.rotation),te.setGeometry(),te.setScale());var ge=fe?function(at){var Ze=I(K,E([0,at.x]));return Math.atan2(Ze[0]-J,Ze[1]-G)-Math.PI/2}:function(at){return te.t2g(at.x)};te.type==="linear"&&te.thetaunit==="radians"&&(te.tick0=F(te.tick0),te.dtick=F(te.dtick));var we=function(at){return v(J+Q*Math.cos(at),G-Q*Math.sin(at))},xe=fe?function(at){var Ze=I(K,E([0,at.x]));return v(Ze[0],Ze[1])}:function(at){return we(ge(at))},Ce=fe?function(at){var Ze=I(K,E([0,at.x])),$e=Math.atan2(Ze[0]-J,Ze[1]-G)-Math.PI/2;return v(Ze[0],Ze[1])+M(-F($e))}:function(at){var Ze=ge(at);return we(Ze)+M(-F(Ze))},De=fe?function(at){return m(K,at.x,0,1/0)}:function(at){var Ze=ge(at),$e=Math.cos(Ze),ut=Math.sin(Ze);return"M"+[J+se*$e,G-se*ut]+"L"+[J+Q*$e,G-Q*ut]},Oe=o.makeLabelFns(te,0),Te=Oe.labelStandoff,Re={};Re.xFn=function(at){var Ze=ge(at);return Math.cos(Ze)*Te},Re.yFn=function(at){var Ze=ge(at),$e=Math.sin(Ze)>0?.2:1;return-Math.sin(Ze)*(Te+at.fontSize*$e)+Math.abs(Math.cos(Ze))*(at.fontSize*y)},Re.anchorFn=function(at){var Ze=ge(at),$e=Math.cos(Ze);return Math.abs($e)<.1?"middle":$e>0?"start":"end"},Re.heightFn=function(at,Ze,$e){var ut=ge(at);return-.5*(1+Math.sin(ut))*$e};var Me=W(oe);K.angularTickLayout!==Me&&(X["angular-axis"].selectAll("."+te._id+"tick").remove(),K.angularTickLayout=Me);var ke=fe?[1/0].concat(te.tickvals||[]).map(function(at){return o.tickText(te,at,!0,!1)}):o.calcTicks(te);fe&&(ke[0].text="∞",ke[0].fontSize*=1.75);var Se;if(ie.gridshape==="linear"?(Se=ke.map(ge),L.angleDelta(Se[0],Se[1])<0&&(Se=Se.slice().reverse())):Se=null,K.vangles=Se,te.type==="category"&&(ke=ke.filter(function(at){return L.isAngleInsideSector(ge(at),K.sectorInRad)})),te.visible){var He=te.ticks==="inside"?-1:1,je=(te.linewidth||1)/2;o.drawTicks($,te,{vals:ke,layer:X["angular-axis"],path:"M"+He*je+",0h"+He*te.ticklen,transFn:Ce,crisp:!1}),o.drawGrid($,te,{vals:ke,layer:X["angular-grid"],path:De,transFn:L.noop,crisp:!1}),o.drawLabels($,te,{vals:ke,layer:X["angular-axis"],repositionOnUpdate:!0,transFn:xe,labelFns:Re})}re(X["angular-line"].select("path"),oe.showline,{d:K.pathSubplot(),transform:v(J,G)}).attr("stroke-width",oe.linewidth).call(p.stroke,oe.linecolor)},N.updateFx=function(le,ie){if(!this.gd._context.staticPlot){var K=!this.isSmith;K&&(this.updateAngularDrag(le),this.updateRadialDrag(le,ie,0),this.updateRadialDrag(le,ie,1)),this.updateHoverAndMainDrag(le)}},N.updateHoverAndMainDrag=function(le){var ie=this,K=ie.isSmith,$=ie.gd,X=ie.layers,Q=le._zoomlayer,se=S.MINZOOM,J=S.OFFEDGE,G=ie.radius,oe=ie.innerRadius,te=ie.cx,fe=ie.cy,ge=ie.cxx,we=ie.cyy,xe=ie.sectorInRad,Ce=ie.vangles,De=ie.radialAxis,Oe=A.clampTiny,Te=A.findXYatLength,Re=A.findEnclosingVertexAngles,Me=S.cornerHalfWidth,ke=S.cornerLen/2,Se,He,je=f.makeDragger(X,"path","maindrag",le.dragmode===!1?"none":"crosshair");b.select(je).attr("d",ie.pathSubplot()).attr("transform",v(te,fe)),je.onmousemove=function(Tt){h.hover($,Tt,ie.id),$._fullLayout._lasthover=je,$._fullLayout._hoversubplot=ie.id},je.onmouseout=function(Tt){$._dragging||g.unhover($,Tt)};var at={element:je,gd:$,subplot:ie.id,plotinfo:{id:ie.id,xaxis:ie.xaxis,yaxis:ie.yaxis},xaxes:[ie.xaxis],yaxes:[ie.yaxis]},Ze,$e,ut,ht,vt,xt,St,tt,Ie;function Ve(Tt,Lt){return Math.sqrt(Tt*Tt+Lt*Lt)}function Ge(Tt,Lt){return Ve(Tt-ge,Lt-we)}function Xe(Tt,Lt){return Math.atan2(we-Lt,Tt-ge)}function Le(Tt,Lt){return[Tt*Math.cos(Lt),Tt*Math.sin(-Lt)]}function Fe(Tt,Lt){if(Tt===0)return ie.pathSector(2*Me);var Kt=ke/Tt,vr=Lt-Kt,pt=Lt+Kt,jt=Math.max(0,Math.min(Tt,G)),$t=jt-Me,mr=jt+Me;return"M"+Le($t,vr)+"A"+[$t,$t]+" 0,0,0 "+Le($t,pt)+"L"+Le(mr,pt)+"A"+[mr,mr]+" 0,0,1 "+Le(mr,vr)+"Z"}function Ue(Tt,Lt,Kt){if(Tt===0)return ie.pathSector(2*Me);var vr=Le(Tt,Lt),pt=Le(Tt,Kt),jt=Oe((vr[0]+pt[0])/2),$t=Oe((vr[1]+pt[1])/2),mr,or;if(jt&&$t){var gt=$t/jt,lt=-1/gt,bt=Te(Me,gt,jt,$t);mr=Te(ke,lt,bt[0][0],bt[0][1]),or=Te(ke,lt,bt[1][0],bt[1][1])}else{var Et,kt;$t?(Et=ke,kt=Me):(Et=Me,kt=ke),mr=[[jt-Et,$t-kt],[jt+Et,$t-kt]],or=[[jt-Et,$t+kt],[jt+Et,$t+kt]]}return"M"+mr.join("L")+"L"+or.reverse().join("L")+"Z"}function Ee(){ut=null,ht=null,vt=ie.pathSubplot(),xt=!1;var Tt=$._fullLayout[ie.id];St=P(Tt.bgcolor).getLuminance(),tt=f.makeZoombox(Q,St,te,fe,vt),tt.attr("fill-rule","evenodd"),Ie=f.makeCorners(Q,te,fe),d($)}function he(Tt,Lt){return Lt=Math.max(Math.min(Lt,G),oe),Tt<J?Tt=0:G-Tt<J?Tt=G:Lt<J?Lt=0:G-Lt<J&&(Lt=G),Math.abs(Lt-Tt)>se?(Tt<Lt?(ut=Tt,ht=Lt):(ut=Lt,ht=Tt),!0):(ut=null,ht=null,!1)}function ye(Tt,Lt){Tt=Tt||vt,Lt=Lt||"M0,0Z",tt.attr("d",Tt),Ie.attr("d",Lt),f.transitionZoombox(tt,Ie,xt,St),xt=!0;var Kt={};Vt(Kt),$.emit("plotly_relayouting",Kt)}function _e(Tt,Lt){Tt=Tt*Se,Lt=Lt*He;var Kt=Ze+Tt,vr=$e+Lt,pt=Ge(Ze,$e),jt=Math.min(Ge(Kt,vr),G),$t=Xe(Ze,$e),mr,or;he(pt,jt)&&(mr=vt+ie.pathSector(ht),ut&&(mr+=ie.pathSector(ut)),or=Fe(ut,$t)+Fe(ht,$t)),ye(mr,or)}function We(Tt,Lt,Kt,vr){var pt=A.findIntersectionXY(Kt,vr,Kt,[Tt-ge,we-Lt]);return Ve(pt[0],pt[1])}function rt(Tt,Lt){var Kt=Ze+Tt,vr=$e+Lt,pt=Xe(Ze,$e),jt=Xe(Kt,vr),$t=Re(pt,Ce),mr=Re(jt,Ce),or=We(Ze,$e,$t[0],$t[1]),gt=Math.min(We(Kt,vr,mr[0],mr[1]),G),lt,bt;he(or,gt)&&(lt=vt+ie.pathSector(ht),ut&&(lt+=ie.pathSector(ut)),bt=[Ue(ut,$t[0],$t[1]),Ue(ht,$t[0],$t[1])].join(" ")),ye(lt,bt)}function st(){if(f.removeZoombox($),!(ut===null||ht===null)){var Tt={};Vt(Tt),f.showDoubleClickNotifier($),s.call("_guiRelayout",$,Tt)}}function Vt(Tt){var Lt=De._rl,Kt=(Lt[1]-Lt[0])/(1-oe/G)/G,vr=[Lt[0]+(ut-oe)*Kt,Lt[0]+(ht-oe)*Kt];Tt[ie.id+".radialaxis.range"]=vr}function Xt(Tt,Lt){var Kt=$._fullLayout.clickmode;if(f.removeZoombox($),Tt===2){var vr={};for(var pt in ie.viewInitial)vr[ie.id+"."+pt]=ie.viewInitial[pt];$.emit("plotly_doubleclick",null),s.call("_guiRelayout",$,vr)}Kt.indexOf("select")>-1&&Tt===1&&a(Lt,$,[ie.xaxis],[ie.yaxis],ie.id,at),Kt.indexOf("event")>-1&&h.click($,Lt,ie.id)}at.prepFn=function(Tt,Lt,Kt){var vr=$._fullLayout.dragmode,pt=je.getBoundingClientRect();$._fullLayout._calcInverseTransform($);var jt=$._fullLayout._invTransform;Se=$._fullLayout._invScaleX,He=$._fullLayout._invScaleY;var $t=L.apply3DTransform(jt)(Lt-pt.left,Kt-pt.top);if(Ze=$t[0],$e=$t[1],Ce){var mr=A.findPolygonOffset(G,xe[0],xe[1],Ce);Ze+=ge+mr[0],$e+=we+mr[1]}switch(vr){case"zoom":at.clickFn=Xt,K||(Ce?at.moveFn=rt:at.moveFn=_e,at.doneFn=st,Ee());break;case"select":case"lasso":c(Tt,Lt,Kt,at,vr);break}},g.init(at)},N.updateRadialDrag=function(le,ie,K){var $=this,X=$.gd,Q=$.layers,se=$.radius,J=$.innerRadius,G=$.cx,oe=$.cy,te=$.radialAxis,fe=S.radialDragBoxSize,ge=fe/2;if(!te.visible)return;var we=B($.radialAxisAngle),xe=te._rl,Ce=xe[0],De=xe[1],Oe=xe[K],Te=.75*(xe[1]-xe[0])/(1-$.getHole(ie))/se,Re,Me,ke;K?(Re=G+(se+ge)*Math.cos(we),Me=oe-(se+ge)*Math.sin(we),ke="radialdrag"):(Re=G+(J-ge)*Math.cos(we),Me=oe-(J-ge)*Math.sin(we),ke="radialdrag-inner");var Se=f.makeRectDragger(Q,ke,"crosshair",-ge,-ge,fe,fe),He={element:Se,gd:X};le.dragmode===!1&&(He.dragmode=!1),re(b.select(Se),te.visible&&J<se,{transform:v(Re,Me)});var je,at,Ze;function $e(St,tt){if(je)je(St,tt);else{var Ie=[St,-tt],Ve=[Math.cos(we),Math.sin(we)],Ge=Math.abs(L.dot(Ie,Ve)/Math.sqrt(L.dot(Ie,Ie)));isNaN(Ge)||(je=Ge<.5?vt:xt)}var Xe={};ut(Xe),X.emit("plotly_relayouting",Xe)}function ut(St){at!==null?St[$.id+".radialaxis.angle"]=at:Ze!==null&&(St[$.id+".radialaxis.range["+K+"]"]=Ze)}function ht(){at!==null?s.call("_guiRelayout",X,$.id+".radialaxis.angle",at):Ze!==null&&s.call("_guiRelayout",X,$.id+".radialaxis.range["+K+"]",Ze)}function vt(St,tt){if(K!==0){var Ie=Re+St,Ve=Me+tt;at=Math.atan2(oe-Ve,Ie-G),$.vangles&&(at=q(at,$.vangles)),at=F(at);var Ge=v(G,oe)+M(-at);Q["radial-axis"].attr("transform",Ge),Q["radial-line"].select("line").attr("transform",Ge);var Xe=$.gd._fullLayout,Le=Xe[$.id];$.updateRadialAxisTitle(Xe,Le,at)}}function xt(St,tt){var Ie=L.dot([St,-tt],[Math.cos(we),Math.sin(we)]);if(Ze=Oe-Te*Ie,Te>0!=(K?Ze>Ce:Ze<De)){Ze=null;return}var Ve=X._fullLayout,Ge=Ve[$.id];te.range[K]=Ze,te._rl[K]=Ze,$.updateRadialAxis(Ve,Ge),$.xaxis.setRange(),$.xaxis.setScale(),$.yaxis.setRange(),$.yaxis.setScale();var Xe=!1;for(var Le in $.traceHash){var Fe=$.traceHash[Le],Ue=L.filterVisible(Fe),Ee=Fe[0][0].trace._module;Ee.plot(X,$,Ue,Ge),s.traceIs(Le,"gl")&&Ue.length&&(Xe=!0)}Xe&&(T(X),C(X))}He.prepFn=function(){je=null,at=null,Ze=null,He.moveFn=$e,He.doneFn=ht,d(X)},He.clampFn=function(St,tt){return Math.sqrt(St*St+tt*tt)<S.MINDRAG&&(St=0,tt=0),[St,tt]},g.init(He)},N.updateAngularDrag=function(le){var ie=this,K=ie.gd,$=ie.layers,X=ie.radius,Q=ie.angularAxis,se=ie.cx,J=ie.cy,G=ie.cxx,oe=ie.cyy,te=S.angularDragBoxSize,fe=f.makeDragger($,"path","angulardrag",le.dragmode===!1?"none":"move"),ge={element:fe,gd:K};le.dragmode===!1?ge.dragmode=!1:b.select(fe).attr("d",ie.pathAnnulus(X,X+te)).attr("transform",v(se,J)).call(x,"move");function we(Ze,$e){return Math.atan2(oe+te-$e,Ze-G-te)}var xe=$.frontplot.select(".scatterlayer").selectAll(".trace"),Ce=xe.selectAll(".point"),De=xe.selectAll(".textpoint"),Oe,Te,Re,Me,ke,Se;function He(Ze,$e){var ut=ie.gd._fullLayout,ht=ut[ie.id],vt=Oe+Ze*le._invScaleX,xt=Te+$e*le._invScaleY,St=we(vt,xt),tt=F(St-Se);if(Me=Re+tt,$.frontplot.attr("transform",v(ie.xOffset2,ie.yOffset2)+M([-tt,G,oe])),ie.vangles){ke=ie.radialAxisAngle+tt;var Ie=v(se,J)+M(-tt),Ve=v(se,J)+M(-ke);$.bg.attr("transform",Ie),$["radial-grid"].attr("transform",Ie),$["radial-axis"].attr("transform",Ve),$["radial-line"].select("line").attr("transform",Ve),ie.updateRadialAxisTitle(ut,ht,ke)}else ie.clipPaths.forTraces.select("path").attr("transform",v(G,oe)+M(tt));Ce.each(function(){var he=b.select(this),ye=r.getTranslate(he);he.attr("transform",v(ye.x,ye.y)+M([tt]))}),De.each(function(){var he=b.select(this),ye=he.select("text"),_e=r.getTranslate(he);he.attr("transform",M([tt,ye.attr("x"),ye.attr("y")])+v(_e.x,_e.y))}),Q.rotation=L.modHalf(Me,360),ie.updateAngularAxis(ut,ht),ie._hasClipOnAxisFalse&&!L.isFullCircle(ie.sectorInRad)&&xe.call(r.hideOutsideRangePoints,ie);var Ge=!1;for(var Xe in ie.traceHash)if(s.traceIs(Xe,"gl")){var Le=ie.traceHash[Xe],Fe=L.filterVisible(Le),Ue=Le[0][0].trace._module;Ue.plot(K,ie,Fe,ht),Fe.length&&(Ge=!0)}Ge&&(T(K),C(K));var Ee={};je(Ee),K.emit("plotly_relayouting",Ee)}function je(Ze){Ze[ie.id+".angularaxis.rotation"]=Me,ie.vangles&&(Ze[ie.id+".radialaxis.angle"]=ke)}function at(){De.select("text").attr("transform",null);var Ze={};je(Ze),s.call("_guiRelayout",K,Ze)}ge.prepFn=function(Ze,$e,ut){var ht=le[ie.id];Re=ht.angularaxis.rotation;var vt=fe.getBoundingClientRect();Oe=$e-vt.left,Te=ut-vt.top,K._fullLayout._calcInverseTransform(K);var xt=L.apply3DTransform(le._invTransform)(Oe,Te);Oe=xt[0],Te=xt[1],Se=we(Oe,Te),ge.moveFn=He,ge.doneFn=at,d(K)},ie.vangles&&!L.isFullCircle(ie.sectorInRad)&&(ge.prepFn=L.noop,x(b.select(fe),null)),g.init(ge)},N.isPtInside=function(le){if(this.isSmith)return!0;var ie=this.sectorInRad,K=this.vangles,$=this.angularAxis.c2g(le.theta),X=this.radialAxis,Q=X.c2l(le.r),se=X._rl,J=K?A.isPtInsidePolygon:L.isPtInsideSector;return J(Q,$,se,ie,K)},N.pathArc=function(le){var ie=this.sectorInRad,K=this.vangles,$=K?A.pathPolygon:L.pathArc;return $(le,ie[0],ie[1],K)},N.pathSector=function(le){var ie=this.sectorInRad,K=this.vangles,$=K?A.pathPolygon:L.pathSector;return $(le,ie[0],ie[1],K)},N.pathAnnulus=function(le,ie){var K=this.sectorInRad,$=this.vangles,X=$?A.pathPolygonAnnulus:L.pathAnnulus;return X(le,ie,K[0],K[1],$)},N.pathSubplot=function(){var le=this.innerRadius,ie=this.radius;return le?this.pathAnnulus(le,ie):this.pathSector(ie)},N.fillViewInitialKey=function(le,ie){le in this.viewInitial||(this.viewInitial[le]=ie)};function W(le){var ie=le.ticks+String(le.ticklen)+String(le.showticklabels);return"side"in le&&(ie+=le.side),ie}function Z(le){var ie=le[0],K=le[1],$=K-ie,X=_(ie,360),Q=X+$,se=Math.cos(B(X)),J=Math.sin(B(X)),G=Math.cos(B(Q)),oe=Math.sin(B(Q)),te,fe,ge,we;return X<=90&&Q>=90||X>90&&Q>=450?we=1:J<=0&&oe<=0?we=0:we=Math.max(J,oe),X<=180&&Q>=180||X>180&&Q>=540?te=-1:se>=0&&G>=0?te=0:te=Math.min(se,G),X<=270&&Q>=270||X>270&&Q>=630?fe=-1:J>=0&&oe>=0?fe=0:fe=Math.min(J,oe),Q>=360?ge=1:se<=0&&G<=0?ge=0:ge=Math.max(se,G),[te,fe,ge,we]}function q(le,ie){var K=function(X){return L.angleDist(le,X)},$=L.findIndexOfMin(ie,K);return ie[$]}function re(le,ie,K){return ie?(le.attr("display",null),le.attr(K)):le&&le.attr("display","none"),le}},57696:function(Y,V,e){var b=e(3400),P=e(78344),s=b.deg2rad,L=b.rad2deg;Y.exports=function(o,n,l){switch(P(o,l),o._id){case"x":case"radialaxis":M(o,n);break;case"angularaxis":r(o,n);break}};function M(t,o){var n=o._subplot;t.setGeometry=function(){var l=t._rl[0],u=t._rl[1],f=n.innerRadius,g=(n.radius-f)/(u-l),h=f/g,w=l>u?function(c){return c<=0}:function(c){return c>=0};t.c2g=function(c){var a=t.c2l(c)-l;return(w(a)?a:0)+h},t.g2c=function(c){return t.l2c(c+l-h)},t.g2p=function(c){return c*g},t.c2p=function(c){return t.g2p(t.c2g(c))}}}function v(t,o){return o==="degrees"?s(t):t}function p(t,o){return o==="degrees"?L(t):t}function r(t,o){var n=t.type;if(n==="linear"){var l=t.d2c,u=t.c2d;t.d2c=function(f,g){return v(l(f),g)},t.c2d=function(f,g){return u(p(f,g))}}t.makeCalcdata=function(f,g){var h=f[g],w=f._length,c,a,d=function(S){return t.d2c(S,f.thetaunit)};if(h)for(c=new Array(w),a=0;a<w;a++)c[a]=d(h[a]);else{var x=g+"0",T="d"+g,C=x in f?d(f[x]):0,y=f[T]?d(f[T]):(t.period||2*Math.PI)/w;for(c=new Array(w),a=0;a<w;a++)c[a]=C+a*y}return c},t.setGeometry=function(){var f=o.sector,g=f.map(s),h={clockwise:-1,counterclockwise:1}[t.direction],w=s(t.rotation),c=function(A){return h*A+w},a=function(A){return(A-w)/h},d,x,T,C;switch(n){case"linear":x=d=b.identity,C=s,T=L,t.range=b.isFullCircle(g)?[f[0],f[0]+360]:g.map(a).map(L);break;case"category":var y=t._categories.length,S=t.period?Math.max(t.period,y):y;S===0&&(S=1),x=C=function(A){return A*2*Math.PI/S},d=T=function(A){return A*S/Math.PI/2},t.range=[0,S];break}t.c2g=function(A){return c(x(A))},t.g2c=function(A){return d(a(A))},t.t2g=function(A){return c(C(A))},t.g2t=function(A){return T(a(A))}}}},55012:function(Y){Y.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},36416:function(Y){function V(M){return M<0?-1:M>0?1:0}function e(M){var v=M[0],p=M[1];if(!isFinite(v)||!isFinite(p))return[1,0];var r=(v+1)*(v+1)+p*p;return[(v*v+p*p-1)/r,2*p/r]}function b(M,v){var p=v[0],r=v[1];return[p*M.radius+M.cx,-r*M.radius+M.cy]}function P(M,v){return v*M.radius}function s(M,v,p,r){var t=b(M,e([p,v])),o=t[0],n=t[1],l=b(M,e([r,v])),u=l[0],f=l[1];if(v===0)return["M"+o+","+n,"L"+u+","+f].join(" ");var g=P(M,1/Math.abs(v));return["M"+o+","+n,"A"+g+","+g+" 0 0,"+(v<0?1:0)+" "+u+","+f].join(" ")}function L(M,v,p,r){var t=P(M,1/(v+1)),o=b(M,e([v,p])),n=o[0],l=o[1],u=b(M,e([v,r])),f=u[0],g=u[1];if(V(p)!==V(r)){var h=b(M,e([v,0])),w=h[0],c=h[1];return["M"+n+","+l,"A"+t+","+t+" 0 0,"+(0<p?0:1)+" "+w+","+c,"A"+t+","+t+" 0 0,"+(r<0?0:1)+f+","+g].join(" ")}return["M"+n+","+l,"A"+t+","+t+" 0 0,"+(r<p?0:1)+" "+f+","+g].join(" ")}Y.exports={smith:e,reactanceArc:s,resistanceArc:L,smithTransform:b}},47788:function(Y,V,e){var b=e(84888).KY,P=e(3400).counterRegex,s=e(62400),L=e(55012),M=L.attr,v=L.name,p=P(v),r={};r[M]={valType:"subplotid",dflt:v,editType:"calc"};function t(n){for(var l=n._fullLayout,u=n.calcdata,f=l._subplots[v],g=0;g<f.length;g++){var h=f[g],w=b(u,v,h),c=l[h]._subplot;c||(c=s(n,h,!0),l[h]._subplot=c),c.plot(w,l,n._promises)}}function o(n,l,u,f){for(var g=f._subplots[v]||[],h=0;h<g.length;h++){var w=g[h],c=f[w]._subplot;if(!l[w]&&c){c.framework.remove();for(var a in c.clipPaths)c.clipPaths[a].remove()}}}Y.exports={attr:M,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:r,layoutAttributes:e(6183),supplyLayoutDefaults:e(22836),plot:t,clean:o,toSVG:e(57952).toSVG}},6183:function(Y,V,e){var b=e(22548),P=e(94724),s=e(86968).u,L=e(3400).extendFlat,M=e(67824).overrideAll,v=M({color:P.color,showline:L({},P.showline,{dflt:!0}),linecolor:P.linecolor,linewidth:P.linewidth,showgrid:L({},P.showgrid,{dflt:!0}),gridcolor:P.gridcolor,gridwidth:P.gridwidth,griddash:P.griddash},"plot","from-root"),p=M({ticklen:P.ticklen,tickwidth:L({},P.tickwidth,{dflt:2}),tickcolor:P.tickcolor,showticklabels:P.showticklabels,labelalias:P.labelalias,showtickprefix:P.showtickprefix,tickprefix:P.tickprefix,showticksuffix:P.showticksuffix,ticksuffix:P.ticksuffix,tickfont:P.tickfont,tickformat:P.tickformat,hoverformat:P.hoverformat,layer:P.layer},"plot","from-root"),r=L({visible:L({},P.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:L({},P.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,p),t=L({visible:L({},P.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:P.ticks,editType:"calc"},v,p);Y.exports={domain:s({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:b.background},realaxis:r,imaginaryaxis:t,editType:"calc"}},22836:function(Y,V,e){var b=e(3400),P=e(76308),s=e(31780),L=e(168),M=e(84888).op,v=e(42568),p=e(95936),r=e(42136),t=e(78344),o=e(6183),n=e(55012),l=n.axisNames,u=g(function(h){return b.isTypedArray(h)&&(h=Array.from(h)),h.slice().reverse().map(function(w){return-w}).concat([0]).concat(h)},String);function f(h,w,c,a){var d=c("bgcolor");a.bgColor=P.combine(d,a.paper_bgcolor);var x=M(a.fullData,n.name,a.id),T=a.layoutOut,C;function y(N,W){return c(C+"."+N,W)}for(var S=0;S<l.length;S++){C=l[S],b.isPlainObject(h[C])||(h[C]={});var A=h[C],i=s.newContainer(w,C);i._id=i._name=C,i._attr=a.id+"."+C,i._traceIndices=x.map(function(N){return N._expandedIndex});var E=y("visible");if(i.type="linear",t(i,T),v(A,i,y,i.type),E){var m=C==="realaxis";if(m&&y("side"),m)y("tickvals");else{var k=u(w.realaxis.tickvals||o.realaxis.tickvals.dflt);y("tickvals",k)}b.isTypedArray(i.tickvals)&&(i.tickvals=Array.from(i.tickvals));var I,O,_,B,F=a.font||{};E&&(I=y("color"),O=I===A.color?I:F.color,_=F.size,B=F.family),p(A,i,y,i.type,{noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,noTicklabelstep:!0,noAng:!m,noExp:!0,font:{color:O,size:_,family:B}}),b.coerce2(h,w,o,C+".ticklen"),b.coerce2(h,w,o,C+".tickwidth"),b.coerce2(h,w,o,C+".tickcolor",w.color);var z=y("ticks");z||(delete w[C].ticklen,delete w[C].tickwidth,delete w[C].tickcolor),r(A,i,y,{dfltColor:I,bgColor:a.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:o[C]}),y("layer")}y("hoverformat"),delete i.type,i._input=A}}Y.exports=function(w,c,a){L(w,c,a,{noUirevision:!0,type:n.name,attributes:o,handleDefaults:f,font:c.font,paper_bgcolor:c.paper_bgcolor,fullData:a,layoutOut:c})};function g(h,w){var c={};return function(a){var d=w?w(a):a;if(d in c)return c[d];var x=h(a);return c[d]=x,x}}},168:function(Y,V,e){var b=e(3400),P=e(31780),s=e(86968).Q;Y.exports=function(M,v,p,r){var t=r.type,o=r.attributes,n=r.handleDefaults,l=r.partition||"x",u=v._subplots[t],f=u.length,g=f&&u[0].replace(/\d+$/,""),h,w;function c(T,C){return b.coerce(h,w,o,T,C)}for(var a=0;a<f;a++){var d=u[a];M[d]?h=M[d]:h=M[d]={},w=P.newContainer(v,d,g),r.noUirevision||c("uirevision",v.uirevision);var x={};x[l]=[a/f,(a+1)/f],s(w,v,c,x),r.id=d,n(h,w,c,r)}}},21776:function(Y,V,e){var b=e(26880);b.FORMAT_LINK,b.DATE_FORMAT_LINK;function P(s){var L=s.description?" "+s.description:"",M=s.keys||[];if(M.length>0){for(var v=[],p=0;p<M.length;p++)v[p]="`"+M[p]+"`";L=L+"Finally, the template string has access to ",M.length===1?L=L+"variable "+v[0]:L=L+"variables "+v.slice(0,-1).join(", ")+" and "+v.slice(-1)+"."}return L}V.Ks=function(s,L){s=s||{},L=L||{},P(L);var M={valType:"string",dflt:"",editType:s.editType||"none"};return s.arrayOk!==!1&&(M.arrayOk=!0),M},V.Gw=function(s,L){s=s||{},L=L||{},P(L);var M={valType:"string",dflt:"",editType:s.editType||"calc"};return s.arrayOk!==!1&&(M.arrayOk=!0),M},V.ye=function(s,L){s=s||{},L=L||{},s.newshape,P(L);var M={valType:"string",dflt:"",editType:s.editType||"arraydraw"};return M}},19352:function(Y,V,e){var b=e(24696),P=e(84888).KY,s=e(3400).counterRegex,L="ternary";V.name=L;var M=V.attr="subplot";V.idRoot=L,V.idRegex=V.attrRegex=s(L);var v=V.attributes={};v[M]={valType:"subplotid",dflt:"ternary",editType:"calc"},V.layoutAttributes=e(86379),V.supplyLayoutDefaults=e(38536),V.plot=function(r){for(var t=r._fullLayout,o=r.calcdata,n=t._subplots[L],l=0;l<n.length;l++){var u=n[l],f=P(o,L,u),g=t[u]._subplot;g||(g=new b({id:u,graphDiv:r,container:t._ternarylayer.node()},t),t[u]._subplot=g),g.plot(f,t,r._promises)}},V.clean=function(p,r,t,o){for(var n=o._subplots[L]||[],l=0;l<n.length;l++){var u=n[l],f=o[u]._subplot;!r[u]&&f&&(f.plotContainer.remove(),f.clipDef.remove(),f.clipDefRelative.remove(),f.layers["a-title"].remove(),f.layers["b-title"].remove(),f.layers["c-title"].remove())}}},86379:function(Y,V,e){var b=e(22548),P=e(86968).u,s=e(94724),L=e(67824).overrideAll,M=e(92880).extendFlat,v={title:{text:s.title.text,font:s.title.font},color:s.color,tickmode:s.minor.tickmode,nticks:M({},s.nticks,{dflt:6,min:1}),tick0:s.tick0,dtick:s.dtick,tickvals:s.tickvals,ticktext:s.ticktext,ticks:s.ticks,ticklen:s.ticklen,tickwidth:s.tickwidth,tickcolor:s.tickcolor,ticklabelstep:s.ticklabelstep,showticklabels:s.showticklabels,labelalias:s.labelalias,showtickprefix:s.showtickprefix,tickprefix:s.tickprefix,showticksuffix:s.showticksuffix,ticksuffix:s.ticksuffix,showexponent:s.showexponent,exponentformat:s.exponentformat,minexponent:s.minexponent,separatethousands:s.separatethousands,tickfont:s.tickfont,tickangle:s.tickangle,tickformat:s.tickformat,tickformatstops:s.tickformatstops,hoverformat:s.hoverformat,showline:M({},s.showline,{dflt:!0}),linecolor:s.linecolor,linewidth:s.linewidth,showgrid:M({},s.showgrid,{dflt:!0}),gridcolor:s.gridcolor,gridwidth:s.gridwidth,griddash:s.griddash,layer:s.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:s._deprecated.title,titlefont:s._deprecated.titlefont}},p=Y.exports=L({domain:P({name:"ternary"}),bgcolor:{valType:"color",dflt:b.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");p.uirevision={valType:"any",editType:"none"},p.aaxis.uirevision=p.baxis.uirevision=p.caxis.uirevision={valType:"any",editType:"none"}},38536:function(Y,V,e){var b=e(76308),P=e(31780),s=e(3400),L=e(168),M=e(95936),v=e(42568),p=e(25404),r=e(26332),t=e(42136),o=e(86379),n=["aaxis","baxis","caxis"];Y.exports=function(g,h,w){L(g,h,w,{type:"ternary",attributes:o,handleDefaults:l,font:h.font,paper_bgcolor:h.paper_bgcolor})};function l(f,g,h,w){var c=h("bgcolor"),a=h("sum");w.bgColor=b.combine(c,w.paper_bgcolor);for(var d,x,T,C=0;C<n.length;C++)d=n[C],x=f[d]||{},T=P.newContainer(g,d),T._name=d,u(x,T,w,g);var y=g.aaxis,S=g.baxis,A=g.caxis;y.min+S.min+A.min>=a&&(y.min=0,S.min=0,A.min=0,f.aaxis&&delete f.aaxis.min,f.baxis&&delete f.baxis.min,f.caxis&&delete f.caxis.min)}function u(f,g,h,w){var c=o[g._name];function a(i,E){return s.coerce(f,g,c,i,E)}a("uirevision",w.uirevision),g.type="linear";var d=a("color"),x=d!==c.color.dflt?d:h.font.color,T=g._name,C=T.charAt(0).toUpperCase(),y="Component "+C,S=a("title.text",y);g._hovertitle=S===y?S:C,s.coerceFont(a,"title.font",h.font,{overrideDflt:{size:s.bigFont(h.font.size),color:x}}),a("min"),r(f,g,a,"linear"),v(f,g,a,"linear"),M(f,g,a,"linear",{noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0}),p(f,g,a,{outerTicks:!0});var A=a("showticklabels");A&&(s.coerceFont(a,"tickfont",h.font,{overrideDflt:{color:x}}),a("tickangle"),a("tickformat")),t(f,g,a,{dfltColor:d,bgColor:h.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:c}),a("hoverformat"),a("layer")}},24696:function(Y,V,e){var b=e(33428),P=e(49760),s=e(24040),L=e(3400),M=L.strTranslate,v=L._,p=e(76308),r=e(43616),t=e(78344),o=e(92880).extendFlat,n=e(7316),l=e(54460),u=e(86476),f=e(93024),g=e(72760),h=g.freeMode,w=g.rectMode,c=e(81668),a=e(22676).prepSelect,d=e(22676).selectOnClick,x=e(22676).clearOutline,T=e(22676).clearSelectionsCache,C=e(33816);function y(F,z){this.id=F.id,this.graphDiv=F.graphDiv,this.init(z),this.makeFramework(z),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}Y.exports=y;var S=y.prototype;S.init=function(F){this.container=F._ternarylayer,this.defs=F._defs,this.layoutId=F._uid,this.traceHash={},this.layers={}},S.plot=function(F,z){var N=this,W=z[N.id],Z=z._size;N._hasClipOnAxisFalse=!1;for(var q=0;q<F.length;q++){var re=F[q][0].trace;if(re.cliponaxis===!1){N._hasClipOnAxisFalse=!0;break}}N.updateLayers(W),N.adjustLayout(W,Z),n.generalUpdatePerTraceModule(N.graphDiv,N,F,W),N.layers.plotbg.select("path").call(p.fill,W.bgcolor)},S.makeFramework=function(F){var z=this,N=z.graphDiv,W=F[z.id],Z=z.clipId="clip"+z.layoutId+z.id,q=z.clipIdRelative="clip-relative"+z.layoutId+z.id;z.clipDef=L.ensureSingleById(F._clips,"clipPath",Z,function(re){re.append("path").attr("d","M0,0Z")}),z.clipDefRelative=L.ensureSingleById(F._clips,"clipPath",q,function(re){re.append("path").attr("d","M0,0Z")}),z.plotContainer=L.ensureSingle(z.container,"g",z.id),z.updateLayers(W),r.setClipUrl(z.layers.backplot,Z,N),r.setClipUrl(z.layers.grids,Z,N)},S.updateLayers=function(F){var z=this,N=z.layers,W=["draglayer","plotbg","backplot","grids"];F.aaxis.layer==="below traces"&&W.push("aaxis","aline"),F.baxis.layer==="below traces"&&W.push("baxis","bline"),F.caxis.layer==="below traces"&&W.push("caxis","cline"),W.push("frontplot"),F.aaxis.layer==="above traces"&&W.push("aaxis","aline"),F.baxis.layer==="above traces"&&W.push("baxis","bline"),F.caxis.layer==="above traces"&&W.push("caxis","cline");var Z=z.plotContainer.selectAll("g.toplevel").data(W,String),q=["agrid","bgrid","cgrid"];Z.enter().append("g").attr("class",function(re){return"toplevel "+re}).each(function(re){var le=b.select(this);N[re]=le,re==="frontplot"?le.append("g").classed("scatterlayer",!0):re==="backplot"?le.append("g").classed("maplayer",!0):re==="plotbg"?le.append("path").attr("d","M0,0Z"):re==="aline"||re==="bline"||re==="cline"?le.append("path"):re==="grids"&&q.forEach(function(ie){N[ie]=le.append("g").classed("grid "+ie,!0)})}),Z.order()};var A=Math.sqrt(4/3);S.adjustLayout=function(F,z){var N=this,W=F.domain,Z=(W.x[0]+W.x[1])/2,q=(W.y[0]+W.y[1])/2,re=W.x[1]-W.x[0],le=W.y[1]-W.y[0],ie=re*z.w,K=le*z.h,$=F.sum,X=F.aaxis.min,Q=F.baxis.min,se=F.caxis.min,J,G,oe,te,fe,ge;ie>A*K?(te=K,oe=te*A):(oe=ie,te=oe/A),fe=re*oe/ie,ge=le*te/K,J=z.l+z.w*Z-oe/2,G=z.t+z.h*(1-q)-te/2,N.x0=J,N.y0=G,N.w=oe,N.h=te,N.sum=$,N.xaxis={type:"linear",range:[X+2*se-$,$-X-2*Q],domain:[Z-fe/2,Z+fe/2],_id:"x"},t(N.xaxis,N.graphDiv._fullLayout),N.xaxis.setScale(),N.xaxis.isPtWithinRange=function(He){return He.a>=N.aaxis.range[0]&&He.a<=N.aaxis.range[1]&&He.b>=N.baxis.range[1]&&He.b<=N.baxis.range[0]&&He.c>=N.caxis.range[1]&&He.c<=N.caxis.range[0]},N.yaxis={type:"linear",range:[X,$-Q-se],domain:[q-ge/2,q+ge/2],_id:"y"},t(N.yaxis,N.graphDiv._fullLayout),N.yaxis.setScale(),N.yaxis.isPtWithinRange=function(){return!0};var we=N.yaxis.domain[0],xe=N.aaxis=o({},F.aaxis,{range:[X,$-Q-se],side:"left",tickangle:(+F.aaxis.tickangle||0)-30,domain:[we,we+ge*A],anchor:"free",position:0,_id:"y",_length:oe});t(xe,N.graphDiv._fullLayout),xe.setScale();var Ce=N.baxis=o({},F.baxis,{range:[$-X-se,Q],side:"bottom",domain:N.xaxis.domain,anchor:"free",position:0,_id:"x",_length:oe});t(Ce,N.graphDiv._fullLayout),Ce.setScale();var De=N.caxis=o({},F.caxis,{range:[$-X-Q,se],side:"right",tickangle:(+F.caxis.tickangle||0)+30,domain:[we,we+ge*A],anchor:"free",position:0,_id:"y",_length:oe});t(De,N.graphDiv._fullLayout),De.setScale();var Oe="M"+J+","+(G+te)+"h"+oe+"l-"+oe/2+",-"+te+"Z";N.clipDef.select("path").attr("d",Oe),N.layers.plotbg.select("path").attr("d",Oe);var Te="M0,"+te+"h"+oe+"l-"+oe/2+",-"+te+"Z";N.clipDefRelative.select("path").attr("d",Te);var Re=M(J,G);N.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Re),N.clipDefRelative.select("path").attr("transform",null);var Me=M(J-Ce._offset,G+te);N.layers.baxis.attr("transform",Me),N.layers.bgrid.attr("transform",Me);var ke=M(J+oe/2,G)+"rotate(30)"+M(0,-xe._offset);N.layers.aaxis.attr("transform",ke),N.layers.agrid.attr("transform",ke);var Se=M(J+oe/2,G)+"rotate(-30)"+M(0,-De._offset);N.layers.caxis.attr("transform",Se),N.layers.cgrid.attr("transform",Se),N.drawAxes(!0),N.layers.aline.select("path").attr("d",xe.showline?"M"+J+","+(G+te)+"l"+oe/2+",-"+te:"M0,0").call(p.stroke,xe.linecolor||"#000").style("stroke-width",(xe.linewidth||0)+"px"),N.layers.bline.select("path").attr("d",Ce.showline?"M"+J+","+(G+te)+"h"+oe:"M0,0").call(p.stroke,Ce.linecolor||"#000").style("stroke-width",(Ce.linewidth||0)+"px"),N.layers.cline.select("path").attr("d",De.showline?"M"+(J+oe/2)+","+G+"l"+oe/2+","+te:"M0,0").call(p.stroke,De.linecolor||"#000").style("stroke-width",(De.linewidth||0)+"px"),N.graphDiv._context.staticPlot||N.initInteractions(),r.setClipUrl(N.layers.frontplot,N._hasClipOnAxisFalse?null:N.clipId,N.graphDiv)},S.drawAxes=function(F){var z=this,N=z.graphDiv,W=z.id.substr(7)+"title",Z=z.layers,q=z.aaxis,re=z.baxis,le=z.caxis;if(z.drawAx(q),z.drawAx(re),z.drawAx(le),F){var ie=Math.max(q.showticklabels?q.tickfont.size/2:0,(le.showticklabels?le.tickfont.size*.75:0)+(le.ticks==="outside"?le.ticklen*.87:0)),K=(re.showticklabels?re.tickfont.size:0)+(re.ticks==="outside"?re.ticklen:0)+3;Z["a-title"]=c.draw(N,"a"+W,{propContainer:q,propName:z.id+".aaxis.title",placeholder:v(N,"Click to enter Component A title"),attributes:{x:z.x0+z.w/2,y:z.y0-q.title.font.size/3-ie,"text-anchor":"middle"}}),Z["b-title"]=c.draw(N,"b"+W,{propContainer:re,propName:z.id+".baxis.title",placeholder:v(N,"Click to enter Component B title"),attributes:{x:z.x0-K,y:z.y0+z.h+re.title.font.size*.83+K,"text-anchor":"middle"}}),Z["c-title"]=c.draw(N,"c"+W,{propContainer:le,propName:z.id+".caxis.title",placeholder:v(N,"Click to enter Component C title"),attributes:{x:z.x0+z.w+K,y:z.y0+z.h+le.title.font.size*.83+K,"text-anchor":"middle"}})}},S.drawAx=function(F){var z=this,N=z.graphDiv,W=F._name,Z=W.charAt(0),q=F._id,re=z.layers[W],le=30,ie=Z+"tickLayout",K=i(F);z[ie]!==K&&(re.selectAll("."+q+"tick").remove(),z[ie]=K),F.setScale();var $=l.calcTicks(F),X=l.clipEnds(F,$),Q=l.makeTransTickFn(F),se=l.getTickSigns(F)[2],J=L.deg2rad(le),G=se*(F.linewidth||1)/2,oe=se*F.ticklen,te=z.w,fe=z.h,ge=Z==="b"?"M0,"+G+"l"+Math.sin(J)*oe+","+Math.cos(J)*oe:"M"+G+",0l"+Math.cos(J)*oe+","+-Math.sin(J)*oe,we={a:"M0,0l"+fe+",-"+te/2,b:"M0,0l-"+te/2+",-"+fe,c:"M0,0l-"+fe+","+te/2}[Z];l.drawTicks(N,F,{vals:F.ticks==="inside"?X:$,layer:re,path:ge,transFn:Q,crisp:!1}),l.drawGrid(N,F,{vals:X,layer:z.layers[Z+"grid"],path:we,transFn:Q,crisp:!1}),l.drawLabels(N,F,{vals:$,layer:re,transFn:Q,labelFns:l.makeLabelFns(F,0,le)})};function i(F){return F.ticks+String(F.ticklen)+String(F.showticklabels)}var E=C.MINZOOM/2+.87,m="m-0.87,.5h"+E+"v3h-"+(E+5.2)+"l"+(E/2+2.6)+",-"+(E*.87+4.5)+"l2.6,1.5l-"+E/2+","+E*.87+"Z",k="m0.87,.5h-"+E+"v3h"+(E+5.2)+"l-"+(E/2+2.6)+",-"+(E*.87+4.5)+"l-2.6,1.5l"+E/2+","+E*.87+"Z",I="m0,1l"+E/2+","+E*.87+"l2.6,-1.5l-"+(E/2+2.6)+",-"+(E*.87+4.5)+"l-"+(E/2+2.6)+","+(E*.87+4.5)+"l2.6,1.5l"+E/2+",-"+E*.87+"Z",O="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",_=!0;S.clearOutline=function(){T(this.dragOptions),x(this.dragOptions.gd)},S.initInteractions=function(){var F=this,z=F.layers.plotbg.select("path").node(),N=F.graphDiv,W=N._fullLayout._zoomlayer,Z,q;this.dragOptions={element:z,gd:N,plotinfo:{id:F.id,domain:N._fullLayout[F.id].domain,xaxis:F.xaxis,yaxis:F.yaxis},subplot:F.id,prepFn:function(Me,ke,Se){F.dragOptions.xaxes=[F.xaxis],F.dragOptions.yaxes=[F.yaxis],Z=N._fullLayout._invScaleX,q=N._fullLayout._invScaleY;var He=F.dragOptions.dragmode=N._fullLayout.dragmode;h(He)?F.dragOptions.minDrag=1:F.dragOptions.minDrag=void 0,He==="zoom"?(F.dragOptions.moveFn=Ce,F.dragOptions.clickFn=te,F.dragOptions.doneFn=De,fe(Me,ke,Se)):He==="pan"?(F.dragOptions.moveFn=Te,F.dragOptions.clickFn=te,F.dragOptions.doneFn=Re,Oe(),F.clearOutline(N)):(w(He)||h(He))&&a(Me,ke,Se,F.dragOptions,He)}};var re,le,ie,K,$,X,Q,se,J,G;function oe(Me){var ke={};return ke[F.id+".aaxis.min"]=Me.a,ke[F.id+".baxis.min"]=Me.b,ke[F.id+".caxis.min"]=Me.c,ke}function te(Me,ke){var Se=N._fullLayout.clickmode;B(N),Me===2&&(N.emit("plotly_doubleclick",null),s.call("_guiRelayout",N,oe({a:0,b:0,c:0}))),Se.indexOf("select")>-1&&Me===1&&d(ke,N,[F.xaxis],[F.yaxis],F.id,F.dragOptions),Se.indexOf("event")>-1&&f.click(N,ke,F.id)}function fe(Me,ke,Se){var He=z.getBoundingClientRect();re=ke-He.left,le=Se-He.top,N._fullLayout._calcInverseTransform(N);var je=N._fullLayout._invTransform,at=L.apply3DTransform(je)(re,le);re=at[0],le=at[1],ie={a:F.aaxis.range[0],b:F.baxis.range[1],c:F.caxis.range[1]},$=ie,K=F.aaxis.range[1]-ie.a,X=P(F.graphDiv._fullLayout[F.id].bgcolor).getLuminance(),Q="M0,"+F.h+"L"+F.w/2+", 0L"+F.w+","+F.h+"Z",se=!1,J=W.append("path").attr("class","zoombox").attr("transform",M(F.x0,F.y0)).style({fill:X>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",Q),G=W.append("path").attr("class","zoombox-corners").attr("transform",M(F.x0,F.y0)).style({fill:p.background,stroke:p.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),F.clearOutline(N)}function ge(Me,ke){return 1-ke/F.h}function we(Me,ke){return 1-(Me+(F.h-ke)/Math.sqrt(3))/F.w}function xe(Me,ke){return(Me-(F.h-ke)/Math.sqrt(3))/F.w}function Ce(Me,ke){var Se=re+Me*Z,He=le+ke*q,je=Math.max(0,Math.min(1,ge(re,le),ge(Se,He))),at=Math.max(0,Math.min(1,we(re,le),we(Se,He))),Ze=Math.max(0,Math.min(1,xe(re,le),xe(Se,He))),$e=(je/2+Ze)*F.w,ut=(1-je/2-at)*F.w,ht=($e+ut)/2,vt=ut-$e,xt=(1-je)*F.h,St=xt-vt/A;vt<C.MINZOOM?($=ie,J.attr("d",Q),G.attr("d","M0,0Z")):($={a:ie.a+je*K,b:ie.b+at*K,c:ie.c+Ze*K},J.attr("d",Q+"M"+$e+","+xt+"H"+ut+"L"+ht+","+St+"L"+$e+","+xt+"Z"),G.attr("d","M"+re+","+le+O+"M"+$e+","+xt+m+"M"+ut+","+xt+k+"M"+ht+","+St+I)),se||(J.transition().style("fill",X>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),G.transition().style("opacity",1).duration(200),se=!0),N.emit("plotly_relayouting",oe($))}function De(){B(N),$!==ie&&(s.call("_guiRelayout",N,oe($)),_&&N.data&&N._context.showTips&&(L.notifier(v(N,"Double-click to zoom back out"),"long"),_=!1))}function Oe(){ie={a:F.aaxis.range[0],b:F.baxis.range[1],c:F.caxis.range[1]},$=ie}function Te(Me,ke){var Se=Me/F.xaxis._m,He=ke/F.yaxis._m;$={a:ie.a-He,b:ie.b+(Se+He)/2,c:ie.c-(Se-He)/2};var je=[$.a,$.b,$.c].sort(L.sorterAsc),at={a:je.indexOf($.a),b:je.indexOf($.b),c:je.indexOf($.c)};je[0]<0&&(je[1]+je[0]/2<0?(je[2]+=je[0]+je[1],je[0]=je[1]=0):(je[2]+=je[0]/2,je[1]+=je[0]/2,je[0]=0),$={a:je[at.a],b:je[at.b],c:je[at.c]},ke=(ie.a-$.a)*F.yaxis._m,Me=(ie.c-$.c-ie.b+$.b)*F.xaxis._m);var Ze=M(F.x0+Me,F.y0+ke);F.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Ze);var $e=M(-Me,-ke);F.clipDefRelative.select("path").attr("transform",$e),F.aaxis.range=[$.a,F.sum-$.b-$.c],F.baxis.range=[F.sum-$.a-$.c,$.b],F.caxis.range=[F.sum-$.a-$.b,$.c],F.drawAxes(!1),F._hasClipOnAxisFalse&&F.plotContainer.select(".scatterlayer").selectAll(".trace").call(r.hideOutsideRangePoints,F),N.emit("plotly_relayouting",oe($))}function Re(){s.call("_guiRelayout",N,oe($))}z.onmousemove=function(Me){f.hover(N,Me,F.id),N._fullLayout._lasthover=z,N._fullLayout._hoversubplot=F.id},z.onmouseout=function(Me){N._dragging||u.unhover(N,Me)},u.init(this.dragOptions)};function B(F){b.select(F).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},24040:function(Y,V,e){var b=e(24248),P=e(16628),s=e(52416),L=e(63620),M=e(52200).addStyleRule,v=e(92880),p=e(45464),r=e(64859),t=v.extendFlat,o=v.extendDeepAll;V.modules={},V.allCategories={},V.allTypes=[],V.subplotsRegistry={},V.transformsRegistry={},V.componentsRegistry={},V.layoutArrayContainers=[],V.layoutArrayRegexes=[],V.traceLayoutAttributes={},V.localeRegistry={},V.apiMethodRegistry={},V.collectableSubplotTypes=null,V.register=function(T){if(V.collectableSubplotTypes=null,T)T&&!Array.isArray(T)&&(T=[T]);else throw new Error("No argument passed to Plotly.register.");for(var C=0;C<T.length;C++){var y=T[C];if(!y)throw new Error("Invalid module was attempted to be registered!");switch(y.moduleType){case"trace":n(y);break;case"transform":f(y);break;case"component":u(y);break;case"locale":g(y);break;case"apiMethod":var S=y.name;V.apiMethodRegistry[S]=y.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},V.getModule=function(x){var T=V.modules[d(x)];return T?T._module:!1},V.traceIs=function(x,T){if(x=d(x),x==="various")return!1;var C=V.modules[x];return C||(x&&b.log("Unrecognized trace type "+x+"."),C=V.modules[p.type.dflt]),!!C.categories[T]},V.getTransformIndices=function(x,T){for(var C=[],y=x.transforms||[],S=0;S<y.length;S++)y[S].type===T&&C.push(S);return C},V.hasTransform=function(x,T){for(var C=x.transforms||[],y=0;y<C.length;y++)if(C[y].type===T)return!0;return!1},V.getComponentMethod=function(x,T){var C=V.componentsRegistry[x];return C&&C[T]||P},V.call=function(){var x=arguments[0],T=[].slice.call(arguments,1);return V.apiMethodRegistry[x].apply(null,T)};function n(x){var T=x.name,C=x.categories,y=x.meta;if(V.modules[T]){b.log("Type "+T+" already registered");return}V.subplotsRegistry[x.basePlotModule.name]||l(x.basePlotModule);for(var S={},A=0;A<C.length;A++)S[C[A]]=!0,V.allCategories[C[A]]=!0;V.modules[T]={_module:x,categories:S},y&&Object.keys(y).length&&(V.modules[T].meta=y),V.allTypes.push(T);for(var i in V.componentsRegistry)w(i,T);x.layoutAttributes&&t(V.traceLayoutAttributes,x.layoutAttributes);var E=x.basePlotModule,m=E.name;if(m==="mapbox"){var k=E.constants.styleRules;for(var I in k)M(".js-plotly-plot .plotly .mapboxgl-"+I,k[I])}(m==="geo"||m==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function l(x){var T=x.name;if(V.subplotsRegistry[T]){b.log("Plot type "+T+" already registered.");return}h(x),V.subplotsRegistry[T]=x;for(var C in V.componentsRegistry)a(C,x.name)}function u(x){if(typeof x.name!="string")throw new Error("Component module *name* must be a string.");var T=x.name;V.componentsRegistry[T]=x,x.layoutAttributes&&(x.layoutAttributes._isLinkedToArray&&s(V.layoutArrayContainers,T),h(x));for(var C in V.modules)w(T,C);for(var y in V.subplotsRegistry)a(T,y);for(var S in V.transformsRegistry)c(T,S);x.schema&&x.schema.layout&&o(r,x.schema.layout)}function f(x){if(typeof x.name!="string")throw new Error("Transform module *name* must be a string.");var T="Transform module "+x.name,C=typeof x.transform=="function",y=typeof x.calcTransform=="function";if(!C&&!y)throw new Error(T+" is missing a *transform* or *calcTransform* method.");C&&y&&b.log([T+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),L(x.attributes)||b.log(T+" registered without an *attributes* object."),typeof x.supplyDefaults!="function"&&b.log(T+" registered without a *supplyDefaults* method."),V.transformsRegistry[x.name]=x;for(var S in V.componentsRegistry)c(S,x.name)}function g(x){var T=x.name,C=T.split("-")[0],y=x.dictionary,S=x.format,A=y&&Object.keys(y).length,i=S&&Object.keys(S).length,E=V.localeRegistry,m=E[T];if(m||(E[T]=m={}),C!==T){var k=E[C];k||(E[C]=k={}),A&&k.dictionary===m.dictionary&&(k.dictionary=y),i&&k.format===m.format&&(k.format=S)}A&&(m.dictionary=y),i&&(m.format=S)}function h(x){if(x.layoutAttributes){var T=x.layoutAttributes._arrayAttrRegexps;if(T)for(var C=0;C<T.length;C++)s(V.layoutArrayRegexes,T[C])}}function w(x,T){var C=V.componentsRegistry[x].schema;if(!(!C||!C.traces)){var y=C.traces[T];y&&o(V.modules[T]._module.attributes,y)}}function c(x,T){var C=V.componentsRegistry[x].schema;if(!(!C||!C.transforms)){var y=C.transforms[T];y&&o(V.transformsRegistry[T].attributes,y)}}function a(x,T){var C=V.componentsRegistry[x].schema;if(!(!C||!C.subplots)){var y=V.subplotsRegistry[T],S=y.layoutAttributes,A=y.attr==="subplot"?y.name:y.attr;Array.isArray(A)&&(A=A[0]);var i=C.subplots[A];S&&i&&o(S,i)}}function d(x){return typeof x=="object"&&(x=x.type),x}},91536:function(Y,V,e){var b=e(24040),P=e(3400),s=P.extendFlat,L=P.extendDeep;function M(p){var r;switch(p){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function v(p){var r=["xaxis","yaxis","zaxis"];return r.indexOf(p.slice(0,5))>-1}Y.exports=function(r,t){var o,n=r.data,l=r.layout,u=L([],n),f=L({},l,M(t.tileClass)),g=r._context||{};if(t.width&&(f.width=t.width),t.height&&(f.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){f.annotations=[];var h=Object.keys(f);for(o=0;o<h.length;o++)v(h[o])&&(f[h[o]].title={text:""});for(o=0;o<u.length;o++){var w=u[o];w.showscale=!1,w.marker&&(w.marker.showscale=!1),b.traceIs(w,"pie-like")&&(w.textposition="none")}}if(Array.isArray(t.annotations))for(o=0;o<t.annotations.length;o++)f.annotations.push(t.annotations[o]);var c=Object.keys(f).filter(function(C){return C.match(/^scene\d*$/)});if(c.length){var a={};for(t.tileClass==="thumbnail"&&(a={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),o=0;o<c.length;o++){var d=f[c[o]];d.xaxis||(d.xaxis={}),d.yaxis||(d.yaxis={}),d.zaxis||(d.zaxis={}),s(d.xaxis,a),s(d.yaxis,a),s(d.zaxis,a),d._scene=null}}var x=document.createElement("div");t.tileClass&&(x.className=t.tileClass);var T={gd:x,td:x,layout:f,data:u,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:g.mapboxAccessToken}};return t.setBackground!=="transparent"&&(T.config.setBackground=t.setBackground||"opaque"),T.gd.defaultLayout=M(t.tileClass),T}},39792:function(Y,V,e){var b=e(3400),P=e(67024),s=e(48616),L=e(81792);function M(v,p){var r;return b.isPlainObject(v)||(r=b.getGraphDiv(v)),p=p||{},p.format=p.format||"png",p.width=p.width||null,p.height=p.height||null,p.imageDataOnly=!0,new Promise(function(t,o){r&&r._snapshotInProgress&&o(new Error("Snapshotting already in progress.")),b.isIE()&&p.format!=="svg"&&o(new Error(L.MSG_IE_BAD_FORMAT)),r&&(r._snapshotInProgress=!0);var n=P(v,p),l=p.filename||v.fn||"newplot";l+="."+p.format.replace("-","."),n.then(function(u){return r&&(r._snapshotInProgress=!1),s(u,l,p.format)}).then(function(u){t(u)}).catch(function(u){r&&(r._snapshotInProgress=!1),o(u)})})}Y.exports=M},48616:function(Y,V,e){var b=e(3400),P=e(81792);function s(L,M,v){var p=document.createElement("a"),r="download"in p,t=new Promise(function(o,n){var l,u;if(b.isIE())return l=P.createBlob(L,"svg"),window.navigator.msSaveBlob(l,M),l=null,o(M);if(r)return l=P.createBlob(L,v),u=P.createObjectURL(l),p.href=u,p.download=M,document.body.appendChild(p),p.click(),document.body.removeChild(p),P.revokeObjectURL(u),l=null,o(M);if(b.isSafari()){var f=v==="svg"?",":";base64,";return P.octetStream(f+encodeURIComponent(L)),o(M)}n(new Error("download error"))});return t}Y.exports=s},81792:function(Y,V,e){var b=e(24040);V.getDelay=function(L){return L._has&&(L._has("gl3d")||L._has("gl2d")||L._has("mapbox"))?500:0},V.getRedrawFunc=function(L){return function(){b.getComponentMethod("colorbar","draw")(L)}},V.encodeSVG=function(L){return"data:image/svg+xml,"+encodeURIComponent(L)},V.encodeJSON=function(L){return"data:application/json,"+encodeURIComponent(L)};var P=window.URL||window.webkitURL;V.createObjectURL=function(L){return P.createObjectURL(L)},V.revokeObjectURL=function(L){return P.revokeObjectURL(L)},V.createBlob=function(L,M){if(M==="svg")return new window.Blob([L],{type:"image/svg+xml;charset=utf-8"});if(M==="full-json")return new window.Blob([L],{type:"application/json;charset=utf-8"});var v=s(window.atob(L));return new window.Blob([v],{type:"image/"+M})},V.octetStream=function(L){document.location.href="data:application/octet-stream"+L};function s(L){for(var M=L.length,v=new ArrayBuffer(M),p=new Uint8Array(v),r=0;r<M;r++)p[r]=L.charCodeAt(r);return v}V.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,V.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},78904:function(Y,V,e){var b=e(81792),P={getDelay:b.getDelay,getRedrawFunc:b.getRedrawFunc,clone:e(91536),toSVG:e(37164),svgToImg:e(63268),toImage:e(61808),downloadImage:e(39792)};Y.exports=P},63268:function(Y,V,e){var b=e(3400),P=e(61252).EventEmitter,s=e(81792);function L(M){var v=M.emitter||new P,p=new Promise(function(r,t){var o=window.Image,n=M.svg,l=M.format||"png";if(b.isIE()&&l!=="svg"){var u=new Error(s.MSG_IE_BAD_FORMAT);return t(u),M.promise?p:v.emit("error",u)}var f=M.canvas,g=M.scale||1,h=M.width||300,w=M.height||150,c=g*h,a=g*w,d=f.getContext("2d",{willReadFrequently:!0}),x=new o,T,C;l==="svg"||b.isSafari()?C=s.encodeSVG(n):(T=s.createBlob(n,"svg"),C=s.createObjectURL(T)),f.width=c,f.height=a,x.onload=function(){var y;switch(T=null,s.revokeObjectURL(C),l!=="svg"&&d.drawImage(x,0,0,c,a),l){case"jpeg":y=f.toDataURL("image/jpeg");break;case"png":y=f.toDataURL("image/png");break;case"webp":y=f.toDataURL("image/webp");break;case"svg":y=C;break;default:var S="Image format is not jpeg, png, svg or webp.";if(t(new Error(S)),!M.promise)return v.emit("error",S)}r(y),M.promise||v.emit("success",y)},x.onerror=function(y){if(T=null,s.revokeObjectURL(C),t(y),!M.promise)return v.emit("error",y)},x.src=C});return M.promise?p:v}Y.exports=L},61808:function(Y,V,e){var b=e(61252).EventEmitter,P=e(24040),s=e(3400),L=e(81792),M=e(91536),v=e(37164),p=e(63268);function r(t,o){var n=new b,l=M(t,{format:"png"}),u=l.gd;u.style.position="absolute",u.style.left="-5000px",document.body.appendChild(u);function f(){var h=L.getDelay(u._fullLayout);setTimeout(function(){var w=v(u),c=document.createElement("canvas");c.id=s.randstr(),n=p({format:o.format,width:u._fullLayout.width,height:u._fullLayout.height,canvas:c,emitter:n,svg:w}),n.clean=function(){u&&document.body.removeChild(u)}},h)}var g=L.getRedrawFunc(u);return P.call("_doPlot",u,l.data,l.layout,l.config).then(g).then(f).catch(function(h){n.emit("error",h)}),n}Y.exports=r},37164:function(Y,V,e){var b=e(33428),P=e(3400),s=e(43616),L=e(76308),M=e(9616),v=/"/g,p="TOBESTRIPPED",r=new RegExp('("'+p+")|("+p+'")',"g");function t(n){var l=b.select("body").append("div").style({display:"none"}).html(""),u=n.replace(/(&[^;]*;)/gi,function(f){return f==="&lt;"?"&#60;":f==="&rt;"?"&#62;":f.indexOf("<")!==-1||f.indexOf(">")!==-1?"":l.html(f).text()});return l.remove(),u}function o(n){return n.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}Y.exports=function(l,u,f){var g=l._fullLayout,h=g._paper,w=g._toppaper,c=g.width,a=g.height,d;h.insert("rect",":first-child").call(s.setRect,0,0,c,a).call(L.fill,g.paper_bgcolor);var x=g._basePlotModules||[];for(d=0;d<x.length;d++){var T=x[d];T.toSVG&&T.toSVG(l)}if(w){var C=w.node().childNodes,y=Array.prototype.slice.call(C);for(d=0;d<y.length;d++){var S=y[d];S.childNodes.length&&h.node().appendChild(S)}}g._draggers&&g._draggers.remove(),h.node().style.background="",h.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var i=b.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){i.remove();return}else i.style({visibility:null,display:null});var E=this.style.fontFamily;E&&E.indexOf('"')!==-1&&i.style("font-family",E.replace(v,p));var m=this.style.fontWeight;m&&(m==="normal"||m==="400")&&i.style("font-weight",void 0);var k=this.style.fontStyle;k&&k==="normal"&&i.style("font-style",void 0);var I=this.style.fontVariant;I&&I==="normal"&&i.style("font-variant",void 0)}),h.selectAll(".gradient_filled,.pattern_filled").each(function(){var i=b.select(this),E=this.style.fill;E&&E.indexOf("url(")!==-1&&i.style("fill",E.replace(v,p));var m=this.style.stroke;m&&m.indexOf("url(")!==-1&&i.style("stroke",m.replace(v,p))}),(u==="pdf"||u==="eps")&&h.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),h.node().setAttributeNS(M.xmlns,"xmlns",M.svg),h.node().setAttributeNS(M.xmlns,"xmlns:xlink",M.xlink),u==="svg"&&f&&(h.attr("width",f*c),h.attr("height",f*a),h.attr("viewBox","0 0 "+c+" "+a));var A=new window.XMLSerializer().serializeToString(h.node());return A=t(A),A=o(A),A=A.replace(r,"'"),P.isIE()&&(A=A.replace(/"/gi,"'"),A=A.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),A=A.replace(/(\\')/gi,'"')),A}},84664:function(Y,V,e){var b=e(3400);Y.exports=function(s,L){for(var M=0;M<s.length;M++)s[M].i=M;b.mergeArray(L.text,s,"tx"),b.mergeArray(L.hovertext,s,"htx");var v=L.marker;if(v){b.mergeArray(v.opacity,s,"mo",!0),b.mergeArray(v.color,s,"mc");var p=v.line;p&&(b.mergeArray(p.color,s,"mlc"),b.mergeArrayCastPositive(p.width,s,"mlw"))}}},20832:function(Y,V,e){var b=e(52904),P=e(29736).axisHoverFormat,s=e(21776).Ks,L=e(21776).Gw,M=e(49084),v=e(25376),p=e(78048),r=e(98192).c,t=e(92880).extendFlat,o=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=b.marker,l=n.line,u=t({},l.width,{dflt:0}),f=t({width:u,editType:"calc"},M("marker.line")),g=t({line:f,editType:"calc"},M("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:r,cornerradius:{valType:"any",editType:"calc"}});Y.exports={x:b.x,x0:b.x0,dx:b.dx,y:b.y,y0:b.y0,dy:b.dy,xperiod:b.xperiod,yperiod:b.yperiod,xperiod0:b.xperiod0,yperiod0:b.yperiod0,xperiodalignment:b.xperiodalignment,yperiodalignment:b.yperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),text:b.text,texttemplate:L({editType:"plot"},{keys:p.eventDataKeys}),hovertext:b.hovertext,hovertemplate:s({},{keys:p.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:t({},o,{}),insidetextfont:t({},o,{}),outsidetextfont:t({},o,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:t({},b.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:g,offsetgroup:b.offsetgroup,alignmentgroup:b.alignmentgroup,selected:{marker:{opacity:b.selected.marker.opacity,color:b.selected.marker.color,editType:"style"},textfont:b.selected.textfont,editType:"style"},unselected:{marker:{opacity:b.unselected.marker.opacity,color:b.unselected.marker.color,editType:"style"},textfont:b.unselected.textfont,editType:"style"},zorder:b.zorder,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},71820:function(Y,V,e){var b=e(54460),P=e(1220),s=e(94288).hasColorscale,L=e(47128),M=e(84664),v=e(4500);Y.exports=function(r,t){var o=b.getFromId(r,t.xaxis||"x"),n=b.getFromId(r,t.yaxis||"y"),l,u,f,g,h,w,c={msUTC:!!(t.base||t.base===0)};t.orientation==="h"?(l=o.makeCalcdata(t,"x",c),f=n.makeCalcdata(t,"y"),g=P(t,n,"y",f),h=!!t.yperiodalignment,w="y"):(l=n.makeCalcdata(t,"y",c),f=o.makeCalcdata(t,"x"),g=P(t,o,"x",f),h=!!t.xperiodalignment,w="x"),u=g.vals;for(var a=Math.min(u.length,l.length),d=new Array(a),x=0;x<a;x++)d[x]={p:u[x],s:l[x]},h&&(d[x].orig_p=f[x],d[x][w+"End"]=g.ends[x],d[x][w+"Start"]=g.starts[x]),t.ids&&(d[x].id=String(t.ids[x]));return s(t,"marker")&&L(r,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),s(t,"marker.line")&&L(r,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),M(d,t),v(d,t),d}},78048:function(Y){Y.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},96376:function(Y,V,e){var b=e(38248),P=e(3400).isArrayOrTypedArray,s=e(39032).BADNUM,L=e(24040),M=e(54460),v=e(71888).getAxisGroup,p=e(72592);function r(m,k){for(var I=k.xaxis,O=k.yaxis,_=m._fullLayout,B=m._fullData,F=m.calcdata,z=[],N=[],W=0;W<B.length;W++){var Z=B[W];if(Z.visible===!0&&L.traceIs(Z,"bar")&&Z.xaxis===I._id&&Z.yaxis===O._id&&(Z.orientation==="h"?z.push(F[W]):N.push(F[W]),Z._computePh))for(var q=m.calcdata[W],re=0;re<q.length;re++)typeof q[re].ph0=="function"&&(q[re].ph0=q[re].ph0()),typeof q[re].ph1=="function"&&(q[re].ph1=q[re].ph1())}var le={xCat:I.type==="category"||I.type==="multicategory",yCat:O.type==="category"||O.type==="multicategory",mode:_.barmode,norm:_.barnorm,gap:_.bargap,groupgap:_.bargroupgap};t(m,I,O,N,le),t(m,O,I,z,le)}function t(m,k,I,O,_){if(O.length){var B,F,z,N,W;switch(l(I,O),_.mode){case"overlay":u(k,I,O,_);break;case"group":for(B=[],F=[],z=0;z<O.length;z++)N=O[z],W=N[0].trace,W.offset===void 0?F.push(N):B.push(N);F.length&&f(m,k,I,F,_),B.length&&u(k,I,B,_);break;case"stack":case"relative":for(B=[],F=[],z=0;z<O.length;z++)N=O[z],W=N[0].trace,W.base===void 0?F.push(N):B.push(N);n(F),F.length&&g(m,k,I,F,_),B.length&&u(k,I,B,_);break}o(O),i(O,k)}}function o(m){var k,I,O,_,B,F,z;for(k=0;k<m.length;k++)I=m[k],O=I[0].trace,_=I[0].t,_.cornerradiusvalue===void 0&&(B=O.marker?O.marker.cornerradius:void 0,B!==void 0&&(F=b(B)?+B:+B.slice(0,-1),z=b(B)?"px":"%",_.cornerradiusvalue=F,_.cornerradiusform=z))}function n(m){if(!(m.length<2)){var k,I,O,_,B,F,z;for(k=0;k<m.length&&(I=m[k],O=I[0].trace,B=O.marker?O.marker.cornerradius:void 0,B===void 0);k++);if(B!==void 0)for(F=b(B)?+B:+B.slice(0,-1),z=b(B)?"px":"%",k=0;k<m.length;k++)I=m[k],_=I[0].t,_.cornerradiusvalue=F,_.cornerradiusform=z}}function l(m,k){var I,O;for(I=0;I<k.length;I++){var _=k[I],B=_[0].trace,F=B.type==="funnel"?B._base:B.base,z,N=B.orientation==="h"?B.xcalendar:B.ycalendar,W=m.type==="category"||m.type==="multicategory"?function(){return null}:m.d2c;if(P(F)){for(O=0;O<Math.min(F.length,_.length);O++)z=W(F[O],0,N),b(z)?(_[O].b=+z,_[O].hasB=1):_[O].b=0;for(;O<_.length;O++)_[O].b=0}else{z=W(F,0,N);var Z=b(z);for(z=Z?z:0,O=0;O<_.length;O++)_[O].b=z,Z&&(_[O].hasB=1)}}}function u(m,k,I,O){for(var _=0;_<I.length;_++){var B=I[_],F=new p([B],{posAxis:m,sepNegVal:!1,overlapNoMerge:!O.norm});h(m,F,O),O.norm?(C(F),S(k,F,O)):x(k,F)}}function f(m,k,I,O,_){var B=new p(O,{posAxis:k,sepNegVal:!1,overlapNoMerge:!_.norm});w(m,k,B,_),y(B,k),_.norm?(C(B),S(I,B,_)):x(I,B)}function g(m,k,I,O,_){var B=new p(O,{posAxis:k,sepNegVal:_.mode==="relative",overlapNoMerge:!(_.norm||_.mode==="stack"||_.mode==="relative")});h(k,B,_),T(I,B,_);for(var F=0;F<O.length;F++)for(var z=O[F],N=0;N<z.length;N++){var W=z[N];if(W.s!==s){var Z=W.b+W.s===B.get(W.p,W.s);Z&&(W._outmost=!0)}}_.norm&&S(I,B,_)}function h(m,k,I){for(var O=k.minDiff,_=k.traces,B=O*(1-I.gap),F=B,z=F*(1-(I.groupgap||0)),N=-z/2,W=0;W<_.length;W++){var Z=_[W],q=Z[0].t;q.barwidth=z,q.poffset=N,q.bargroupwidth=B,q.bardelta=O}k.binWidth=_[0][0].t.barwidth/100,c(k),a(m,k),d(m,k)}function w(m,k,I,O){for(var _=m._fullLayout,B=I.positions,F=I.distinctPositions,z=I.minDiff,N=I.traces,W=N.length,Z=B.length!==F.length,q=z*(1-O.gap),re=v(_,k._id)+N[0][0].trace.orientation,le=_._alignmentOpts[re]||{},ie=0;ie<W;ie++){var K=N[ie],$=K[0].trace,X=le[$.alignmentgroup]||{},Q=Object.keys(X.offsetGroups||{}).length,se;Q?se=q/Q:se=Z?q/W:q;var J=se*(1-(O.groupgap||0)),G;Q?G=((2*$._offsetIndex+1-Q)*se-J)/2:G=Z?((2*ie+1-W)*se-J)/2:-J/2;var oe=K[0].t;oe.barwidth=J,oe.poffset=G,oe.bargroupwidth=q,oe.bardelta=z}I.binWidth=N[0][0].t.barwidth/100,c(I),a(k,I),d(k,I,Z)}function c(m){var k=m.traces,I,O;for(I=0;I<k.length;I++){var _=k[I],B=_[0],F=B.trace,z=B.t,N=F._offset||F.offset,W=z.poffset,Z;if(P(N)){for(Z=Array.prototype.slice.call(N,0,_.length),O=0;O<Z.length;O++)b(Z[O])||(Z[O]=W);for(O=Z.length;O<_.length;O++)Z.push(W);z.poffset=Z}else N!==void 0&&(z.poffset=N);var q=F._width||F.width,re=z.barwidth;if(P(q)){var le=Array.prototype.slice.call(q,0,_.length);for(O=0;O<le.length;O++)b(le[O])||(le[O]=re);for(O=le.length;O<_.length;O++)le.push(re);if(z.barwidth=le,N===void 0){for(Z=[],O=0;O<_.length;O++)Z.push(W+(re-le[O])/2);z.poffset=Z}}else q!==void 0&&(z.barwidth=q,N===void 0&&(z.poffset=W+(re-q)/2))}}function a(m,k){for(var I=k.traces,O=E(m),_=0;_<I.length;_++)for(var B=I[_],F=B[0].t,z=F.poffset,N=P(z),W=F.barwidth,Z=P(W),q=0;q<B.length;q++){var re=B[q],le=re.w=Z?W[q]:W;re.p===void 0&&(re.p=re[O],re["orig_"+O]=re[O]);var ie=(N?z[q]:z)+le/2;re[O]=re.p+ie}}function d(m,k,I){var O=k.traces,_=k.minDiff,B=_/2;M.minDtick(m,k.minDiff,k.distinctPositions[0],I);for(var F=0;F<O.length;F++){var z=O[F],N=z[0],W=N.trace,Z=[],q,re,le,ie;for(ie=0;ie<z.length;ie++)q=z[ie],re=q.p-B,le=q.p+B,Z.push(re,le);if(W.width||W.offset){var K=N.t,$=K.poffset,X=K.barwidth,Q=P($),se=P(X);for(ie=0;ie<z.length;ie++){q=z[ie];var J=Q?$[ie]:$,G=se?X[ie]:X;re=q.p+J,le=re+G,Z.push(re,le)}}W._extremes[m._id]=M.findExtremes(m,Z,{padded:!1})}}function x(m,k){for(var I=k.traces,O=E(m),_=0;_<I.length;_++){for(var B=I[_],F=B[0].trace,z=F.type==="scatter",N=F.orientation==="v",W=[],Z=!1,q=0;q<B.length;q++){var re=B[q],le=z?0:re.b,ie=z?N?re.y:re.x:le+re.s;re[O]=ie,W.push(ie),re.hasB&&W.push(le),(!re.hasB||!re.b)&&(Z=!0)}F._extremes[m._id]=M.findExtremes(m,W,{tozero:Z,padded:!0})}}function T(m,k,I){var O=E(m),_=k.traces,B,F,z,N,W,Z;for(N=0;N<_.length;N++)if(B=_[N],F=B[0].trace,F.type==="funnel")for(W=0;W<B.length;W++)Z=B[W],Z.s!==s&&k.put(Z.p,-.5*Z.s);for(N=0;N<_.length;N++){B=_[N],F=B[0].trace,z=F.type==="funnel";var q=[];for(W=0;W<B.length;W++)if(Z=B[W],Z.s!==s){var re;z?re=Z.s:re=Z.s+Z.b;var le=k.put(Z.p,re),ie=le+re;Z.b=le,Z[O]=ie,I.norm||(q.push(ie),Z.hasB&&q.push(le))}I.norm||(F._extremes[m._id]=M.findExtremes(m,q,{tozero:!0,padded:!0}))}}function C(m){for(var k=m.traces,I=0;I<k.length;I++)for(var O=k[I],_=0;_<O.length;_++){var B=O[_];B.s!==s&&m.put(B.p,B.b+B.s)}}function y(m,k){for(var I=m.traces,O=0;O<I.length;O++){var _=I[O],B=_[0].trace;if(B.base===void 0)for(var F=new p([_],{posAxis:k,sepNegVal:!0,overlapNoMerge:!0}),z=0;z<_.length;z++){var N=_[z];if(N.p!==s){var W=F.put(N.p,N.b+N.s);W&&(N.b=W)}}}}function S(m,k,I){var O=k.traces,_=E(m),B=I.norm==="fraction"?1:100,F=B/1e9,z=m.l2c(m.c2l(0)),N=I.mode==="stack"?B:z;function W(G){return b(m.c2l(G))&&(G<z-F||G>N+F||!b(z))}for(var Z=0;Z<O.length;Z++){for(var q=O[Z],re=q[0].trace,le=[],ie=!1,K=!1,$=0;$<q.length;$++){var X=q[$];if(X.s!==s){var Q=Math.abs(B/k.get(X.p,X.s));X.b*=Q,X.s*=Q;var se=X.b,J=se+X.s;X[_]=J,le.push(J),K=K||W(J),X.hasB&&(le.push(se),K=K||W(se)),(!X.hasB||!X.b)&&(ie=!0)}}re._extremes[m._id]=M.findExtremes(m,le,{tozero:ie,padded:K})}}function A(m,k,I,O){for(var _=E(O),B=0;B<m.length;B++)for(var F=m[B],z=0;z<F.length;z++){var N=F[z],W=N[_];N._sMin=k[W],N._sMax=I[W]}}function i(m,k){var I=E(k),O={},_,B,F,z=1/0,N=-1/0;for(_=0;_<m.length;_++)for(F=m[_],B=0;B<F.length;B++){var W=F[B].p;b(W)&&(z=Math.min(z,W),N=Math.max(N,W))}var Z=1e4/(N-z),q=O.round=function(fe){return String(Math.round(Z*(fe-z)))},re={},le={},ie=m.some(function(fe){var ge=fe[0].trace;return"marker"in ge&&ge.marker.cornerradius});for(_=0;_<m.length;_++){F=m[_],F[0].t.extents=O;var K=F[0].t.poffset,$=P(K);for(B=0;B<F.length;B++){var X=F[B],Q=X[I]-X.w/2;if(b(Q)){var se=X[I]+X.w/2,J=q(X.p);O[J]?O[J]=[Math.min(Q,O[J][0]),Math.max(se,O[J][1])]:O[J]=[Q,se]}if(X.p0=X.p+($?K[B]:K),X.p1=X.p0+X.w,X.s0=X.b,X.s1=X.s0+X.s,ie){var G=Math.min(X.s0,X.s1)||0,oe=Math.max(X.s0,X.s1)||0,te=X[I];re[te]=te in re?Math.min(re[te],G):G,le[te]=te in le?Math.max(le[te],oe):oe}}}ie&&A(m,re,le,k)}function E(m){return m._id.charAt(0)}Y.exports={crossTraceCalc:r,setGroupPositions:t}},31508:function(Y,V,e){var b=e(38248),P=e(3400),s=e(76308),L=e(24040),M=e(43980),v=e(31147),p=e(55592),r=e(20011),t=e(20832),o=P.coerceFont;function n(g,h,w,c){function a(y,S){return P.coerce(g,h,t,y,S)}var d=M(g,h,c,a);if(!d){h.visible=!1;return}v(g,h,c,a),a("xhoverformat"),a("yhoverformat"),a("zorder"),a("orientation",h.x&&!h.y?"h":"v"),a("base"),a("offset"),a("width"),a("text"),a("hovertext"),a("hovertemplate");var x=a("textposition");f(g,h,c,a,x,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),p(g,h,a,w,c);var T=(h.marker.line||{}).color,C=L.getComponentMethod("errorbars","supplyDefaults");C(g,h,T||s.defaultLine,{axis:"y"}),C(g,h,T||s.defaultLine,{axis:"x",inherit:"y"}),P.coerceSelectionMarkerOpacity(h,a)}function l(g,h){var w,c;function a(T,C){return P.coerce(c._input,c,t,T,C)}for(var d=0;d<g.length;d++)if(c=g[d],c.type==="bar"){w=c._input;var x=a("marker.cornerradius",h.barcornerradius);c.marker&&(c.marker.cornerradius=u(x)),h.barmode==="group"&&r(w,c,h,a)}}function u(g){if(b(g)){if(g=+g,g>=0)return g}else if(typeof g=="string"&&(g=g.trim(),g.slice(-1)==="%"&&b(g.slice(0,-1))&&(g=+g.slice(0,-1),g>=0)))return g+"%"}function f(g,h,w,c,a,d){d=d||{};var x=d.moduleHasSelected!==!1,T=d.moduleHasUnselected!==!1,C=d.moduleHasConstrain!==!1,y=d.moduleHasCliponaxis!==!1,S=d.moduleHasTextangle!==!1,A=d.moduleHasInsideanchor!==!1,i=!!d.hasPathbar,E=Array.isArray(a)||a==="auto",m=E||a==="inside",k=E||a==="outside";if(m||k){var I=o(c,"textfont",w.font),O=P.extendFlat({},I),_=g.textfont&&g.textfont.color,B=!_;if(B&&delete O.color,o(c,"insidetextfont",O),i){var F=P.extendFlat({},I);B&&delete F.color,o(c,"pathbar.textfont",F)}k&&o(c,"outsidetextfont",I),x&&c("selected.textfont.color"),T&&c("unselected.textfont.color"),C&&c("constraintext"),y&&c("cliponaxis"),S&&c("textangle"),c("texttemplate")}m&&A&&c("insidetextanchor")}Y.exports={supplyDefaults:n,crossTraceDefaults:l,handleText:f,validateCornerradius:u}},52160:function(Y){Y.exports=function(e,b,P){return e.x="xVal"in b?b.xVal:b.x,e.y="yVal"in b?b.yVal:b.y,b.xa&&(e.xaxis=b.xa),b.ya&&(e.yaxis=b.ya),P.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},60444:function(Y,V,e){var b=e(38248),P=e(49760),s=e(3400).isArrayOrTypedArray;V.coerceString=function(L,M,v){if(typeof M=="string"){if(M||!L.noBlank)return M}else if((typeof M=="number"||M===!0)&&!L.strict)return String(M);return v!==void 0?v:L.dflt},V.coerceNumber=function(L,M,v){if(b(M)){M=+M;var p=L.min,r=L.max,t=p!==void 0&&M<p||r!==void 0&&M>r;if(!t)return M}return v!==void 0?v:L.dflt},V.coerceColor=function(L,M,v){return P(M).isValid()?M:v!==void 0?v:L.dflt},V.coerceEnumerated=function(L,M,v){return L.coerceNumber&&(M=+M),L.values.indexOf(M)!==-1?M:v!==void 0?v:L.dflt},V.getValue=function(L,M){var v;return s(L)?M<L.length&&(v=L[M]):v=L,v},V.getLineWidth=function(L,M){var v=0<M.mlw?M.mlw:s(L.marker.line.width)?0:L.marker.line.width;return v}},63400:function(Y,V,e){var b=e(93024),P=e(24040),s=e(76308),L=e(3400).fillText,M=e(60444).getLineWidth,v=e(54460).hoverLabelText,p=e(39032).BADNUM;function r(n,l,u,f,g){var h=t(n,l,u,f,g);if(h){var w=h.cd,c=w[0].trace,a=w[h.index];return h.color=o(c,a),P.getComponentMethod("errorbars","hoverInfo")(a,c,h),[h]}}function t(n,l,u,f,g){var h=n.cd,w=h[0].trace,c=h[0].t,a=f==="closest",d=w.type==="waterfall",x=n.maxHoverDistance,T=n.maxSpikeDistance,C,y,S,A,i,E,m;w.orientation==="h"?(C=u,y=l,S="y",A="x",i=le,E=Z):(C=l,y=u,S="x",A="y",E=le,i=Z);var k=w[S+"period"],I=a||k;function O(fe){return B(fe,-1)}function _(fe){return B(fe,1)}function B(fe,ge){var we=fe.w;return fe[S]+ge*we/2}function F(fe){return fe[S+"End"]-fe[S+"Start"]}var z=a?O:k?function(fe){return fe.p-F(fe)/2}:function(fe){return Math.min(O(fe),fe.p-c.bardelta/2)},N=a?_:k?function(fe){return fe.p+F(fe)/2}:function(fe){return Math.max(_(fe),fe.p+c.bardelta/2)};function W(fe,ge,we){return g.finiteRange&&(we=0),b.inbox(fe-C,ge-C,we+Math.min(1,Math.abs(ge-fe)/m)-1)}function Z(fe){return W(z(fe),N(fe),x)}function q(fe){return W(O(fe),_(fe),T)}function re(fe){var ge=fe[A];if(d){var we=Math.abs(fe.rawS)||0;y>0?ge+=we:y<0&&(ge-=we)}return ge}function le(fe){var ge=y,we=fe.b,xe=re(fe);return b.inbox(we-ge,xe-ge,x+(xe-ge)/(xe-we)-1)}function ie(fe){var ge=y,we=fe.b,xe=re(fe);return b.inbox(we-ge,xe-ge,T+(xe-ge)/(xe-we)-1)}var K=n[S+"a"],$=n[A+"a"];m=Math.abs(K.r2c(K.range[1])-K.r2c(K.range[0]));function X(fe){return(i(fe)+E(fe))/2}var Q=b.getDistanceFunction(f,i,E,X);if(b.getClosest(h,Q,n),n.index!==!1&&h[n.index].p!==p){I||(z=function(fe){return Math.min(O(fe),fe.p-c.bargroupwidth/2)},N=function(fe){return Math.max(_(fe),fe.p+c.bargroupwidth/2)});var se=n.index,J=h[se],G=w.base?J.b+J.s:J.s;n[A+"0"]=n[A+"1"]=$.c2p(J[A],!0),n[A+"LabelVal"]=G;var oe=c.extents[c.extents.round(J.p)];n[S+"0"]=K.c2p(a?z(J):oe[0],!0),n[S+"1"]=K.c2p(a?N(J):oe[1],!0);var te=J.orig_p!==void 0;return n[S+"LabelVal"]=te?J.orig_p:J.p,n.labelLabel=v(K,n[S+"LabelVal"],w[S+"hoverformat"]),n.valueLabel=v($,n[A+"LabelVal"],w[A+"hoverformat"]),n.baseLabel=v($,J.b,w[A+"hoverformat"]),n.spikeDistance=(ie(J)+q(J))/2,n[S+"Spike"]=K.c2p(J.p,!0),L(J,w,n),n.hovertemplate=w.hovertemplate,n}}function o(n,l){var u=l.mcc||n.marker.color,f=l.mlcc||n.marker.line.color,g=M(n,l);if(s.opacity(u))return u;if(s.opacity(f)&&g)return f}Y.exports={hoverPoints:r,hoverOnBars:t,getTraceColor:o}},51132:function(Y,V,e){Y.exports={attributes:e(20832),layoutAttributes:e(39324),supplyDefaults:e(31508).supplyDefaults,crossTraceDefaults:e(31508).crossTraceDefaults,supplyLayoutDefaults:e(37156),calc:e(71820),crossTraceCalc:e(96376).crossTraceCalc,colorbar:e(5528),arraysToCalcdata:e(84664),plot:e(98184).plot,style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(63400).hoverPoints,eventData:e(52160),selectPoints:e(45784),moduleType:"trace",name:"bar",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},39324:function(Y){Y.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},37156:function(Y,V,e){var b=e(24040),P=e(54460),s=e(3400),L=e(39324),M=e(31508).validateCornerradius;Y.exports=function(v,p,r){function t(d,x){return s.coerce(v,p,L,d,x)}for(var o=!1,n=!1,l=!1,u={},f=t("barmode"),g=0;g<r.length;g++){var h=r[g];if(b.traceIs(h,"bar")&&h.visible)o=!0;else continue;if(f==="group"){var w=h.xaxis+h.yaxis;u[w]&&(l=!0),u[w]=!0}if(h.visible&&h.type==="histogram"){var c=P.getFromId({_fullLayout:p},h[h.orientation==="v"?"xaxis":"yaxis"]);c.type!=="category"&&(n=!0)}}if(!o){delete p.barmode;return}f!=="overlay"&&t("barnorm"),t("bargap",n&&!l?0:.2),t("bargroupgap");var a=t("barcornerradius");p.barcornerradius=M(a)}},98184:function(Y,V,e){var b=e(33428),P=e(38248),s=e(3400),L=e(72736),M=e(76308),v=e(43616),p=e(24040),r=e(54460).tickText,t=e(82744),o=t.recordMinTextSize,n=t.clearMinTextSize,l=e(60100),u=e(60444),f=e(78048),g=e(20832),h=g.text,w=g.textposition,c=e(10624).appendArrayPointValue,a=f.TEXTPAD;function d(Z){return Z.id}function x(Z){if(Z.ids)return d}function T(Z){return(Z>0)-(Z<0)}function C(Z,q){return Z<q?1:-1}function y(Z,q,re,le){var ie=[],K=[],$=le?q:re,X=le?re:q;return ie[0]=$.c2p(Z.s0,!0),K[0]=X.c2p(Z.p0,!0),ie[1]=$.c2p(Z.s1,!0),K[1]=X.c2p(Z.p1,!0),le?[ie,K]:[K,ie]}function S(Z,q,re,le){if(!q.uniformtext.mode&&A(re)){var ie;return le&&(ie=le()),Z.transition().duration(re.duration).ease(re.easing).each("end",function(){ie&&ie()}).each("interrupt",function(){ie&&ie()})}else return Z}function A(Z){return Z&&Z.duration>0}function i(Z,q,re,le,ie,K){var $=q.xaxis,X=q.yaxis,Q=Z._fullLayout,se=Z._context.staticPlot;ie||(ie={mode:Q.barmode,norm:Q.barmode,gap:Q.bargap,groupgap:Q.bargroupgap},n("bar",Q));var J=s.makeTraceGroups(le,re,"trace bars").each(function(G){var oe=b.select(this),te=G[0].trace,fe=G[0].t,ge=te.type==="waterfall",we=te.type==="funnel",xe=te.type==="histogram",Ce=te.type==="bar",De=Ce||we,Oe=0;ge&&te.connector.visible&&te.connector.mode==="between"&&(Oe=te.connector.line.width/2);var Te=te.orientation==="h",Re=A(ie),Me=s.ensureSingle(oe,"g","points"),ke=x(te),Se=Me.selectAll("g.point").data(s.identity,ke);Se.enter().append("g").classed("point",!0),Se.exit().remove(),Se.each(function(je,at){var Ze=b.select(this),$e=y(je,$,X,Te),ut=$e[0][0],ht=$e[0][1],vt=$e[1][0],xt=$e[1][1],St=(Te?ht-ut:xt-vt)===0;St&&De&&u.getLineWidth(te,je)&&(St=!1),St||(St=!P(ut)||!P(ht)||!P(vt)||!P(xt)),je.isBlank=St,St&&(Te?ht=ut:xt=vt),Oe&&!St&&(Te?(ut-=C(ut,ht)*Oe,ht+=C(ut,ht)*Oe):(vt-=C(vt,xt)*Oe,xt+=C(vt,xt)*Oe));var tt,Ie;if(te.type==="waterfall"){if(!St){var Ve=te[je.dir].marker;tt=Ve.line.width,Ie=Ve.color}}else tt=u.getLineWidth(te,je),Ie=je.mc||te.marker.color;function Ge(lt){var bt=b.round(tt/2%1,2);return ie.gap===0&&ie.groupgap===0?b.round(Math.round(lt)-bt,2):lt}function Xe(lt,bt,Et){return Et&&lt===bt?lt:Math.abs(lt-bt)>=2?Ge(lt):lt>bt?Math.ceil(lt):Math.floor(lt)}var Le=M.opacity(Ie),Fe=Le<1||tt>.01?Ge:Xe;Z._context.staticPlot||(ut=Fe(ut,ht,Te),ht=Fe(ht,ut,Te),vt=Fe(vt,xt,!Te),xt=Fe(xt,vt,!Te));var Ue=Te?$.c2p:X.c2p,Ee;je.s0>0?Ee=je._sMax:je.s0<0?Ee=je._sMin:Ee=je.s1>0?je._sMax:je._sMin;function he(lt,bt){if(!lt)return 0;var Et=Math.abs(Te?xt-vt:ht-ut),kt=Math.abs(Te?ht-ut:xt-vt),Ot=Fe(Math.abs(Ue(Ee,!0)-Ue(0,!0))),Ft=je.hasB?Math.min(Et/2,kt/2):Math.min(Et/2,Ot),Bt;if(bt==="%"){var Jt=Math.min(50,lt);Bt=Et*(Jt/100)}else Bt=lt;return Fe(Math.max(Math.min(Bt,Ft),0))}var ye=Ce||xe?he(fe.cornerradiusvalue,fe.cornerradiusform):0,_e,We,rt="M"+ut+","+vt+"V"+xt+"H"+ht+"V"+vt+"Z",st=0;if(ye&&je.s){var Vt=T(je.s0)===0||T(je.s)===T(je.s0)?je.s1:je.s0;if(st=Fe(je.hasB?0:Math.abs(Ue(Ee,!0)-Ue(Vt,!0))),st<ye){var Xt=C(ut,ht),Tt=C(vt,xt),Lt=Xt===-Tt?1:0;if(Te)if(je.hasB)_e="M"+(ut+ye*Xt)+","+vt+"A "+ye+","+ye+" 0 0 "+Lt+" "+ut+","+(vt+ye*Tt)+"V"+(xt-ye*Tt)+"A "+ye+","+ye+" 0 0 "+Lt+" "+(ut+ye*Xt)+","+xt+"H"+(ht-ye*Xt)+"A "+ye+","+ye+" 0 0 "+Lt+" "+ht+","+(xt-ye*Tt)+"V"+(vt+ye*Tt)+"A "+ye+","+ye+" 0 0 "+Lt+" "+(ht-ye*Xt)+","+vt+"Z";else{We=Math.abs(ht-ut)+st;var Kt=We<ye?ye-Math.sqrt(We*(2*ye-We)):0,vr=st>0?Math.sqrt(st*(2*ye-st)):0,pt=Xt>0?Math.max:Math.min;_e="M"+ut+","+vt+"V"+(xt-Kt*Tt)+"H"+pt(ht-(ye-st)*Xt,ut)+"A "+ye+","+ye+" 0 0 "+Lt+" "+ht+","+(xt-ye*Tt-vr)+"V"+(vt+ye*Tt+vr)+"A "+ye+","+ye+" 0 0 "+Lt+" "+pt(ht-(ye-st)*Xt,ut)+","+(vt+Kt*Tt)+"Z"}else if(je.hasB)_e="M"+(ut+ye*Xt)+","+vt+"A "+ye+","+ye+" 0 0 "+Lt+" "+ut+","+(vt+ye*Tt)+"V"+(xt-ye*Tt)+"A "+ye+","+ye+" 0 0 "+Lt+" "+(ut+ye*Xt)+","+xt+"H"+(ht-ye*Xt)+"A "+ye+","+ye+" 0 0 "+Lt+" "+ht+","+(xt-ye*Tt)+"V"+(vt+ye*Tt)+"A "+ye+","+ye+" 0 0 "+Lt+" "+(ht-ye*Xt)+","+vt+"Z";else{We=Math.abs(xt-vt)+st;var jt=We<ye?ye-Math.sqrt(We*(2*ye-We)):0,$t=st>0?Math.sqrt(st*(2*ye-st)):0,mr=Tt>0?Math.max:Math.min;_e="M"+(ut+jt*Xt)+","+vt+"V"+mr(xt-(ye-st)*Tt,vt)+"A "+ye+","+ye+" 0 0 "+Lt+" "+(ut+ye*Xt-$t)+","+xt+"H"+(ht-ye*Xt+$t)+"A "+ye+","+ye+" 0 0 "+Lt+" "+(ht-jt*Xt)+","+mr(xt-(ye-st)*Tt,vt)+"V"+vt+"Z"}}else _e=rt}else _e=rt;var or=S(s.ensureSingle(Ze,"path"),Q,ie,K);if(or.style("vector-effect",se?"none":"non-scaling-stroke").attr("d",isNaN((ht-ut)*(xt-vt))||St&&Z._context.staticPlot?"M0,0Z":_e).call(v.setClipUrl,q.layerClipId,Z),!Q.uniformtext.mode&&Re){var gt=v.makePointStyleFns(te);v.singlePointStyle(je,or,te,gt,Z)}E(Z,q,Ze,G,at,ut,ht,vt,xt,ye,st,ie,K),q.layerClipId&&v.hideOutsideRangePoint(je,Ze.select("text"),$,X,te.xcalendar,te.ycalendar)});var He=te.cliponaxis===!1;v.setClipUrl(oe,He?null:q.layerClipId,Z)});p.getComponentMethod("errorbars","plot")(Z,J,q,ie)}function E(Z,q,re,le,ie,K,$,X,Q,se,J,G,oe){var te=q.xaxis,fe=q.yaxis,ge=Z._fullLayout,we;function xe(We,rt,st){var Vt=s.ensureSingle(We,"text").text(rt).attr({class:"bartext bartext-"+we,"text-anchor":"middle","data-notex":1}).call(v.font,st).call(L.convertToTspans,Z);return Vt}var Ce=le[0].trace,De=Ce.orientation==="h",Oe=F(ge,le,ie,te,fe);we=z(Ce,ie);var Te=G.mode==="stack"||G.mode==="relative",Re=le[ie],Me=!Te||Re._outmost,ke=Re.hasB,Se=se&&se-J>a;if(!Oe||we==="none"||(Re.isBlank||K===$||X===Q)&&(we==="auto"||we==="inside")){re.select("text").remove();return}var He=ge.font,je=l.getBarColor(le[ie],Ce),at=l.getInsideTextFont(Ce,ie,He,je),Ze=l.getOutsideTextFont(Ce,ie,He),$e=Ce.insidetextanchor||"end",ut=re.datum();De?te.type==="log"&&ut.s0<=0&&(te.range[0]<te.range[1]?K=0:K=te._length):fe.type==="log"&&ut.s0<=0&&(fe.range[0]<fe.range[1]?X=fe._length:X=0);var ht=Math.abs($-K),vt=Math.abs(Q-X),xt=ht-2*a,St=vt-2*a,tt,Ie,Ve,Ge,Xe;if(we==="outside"&&!Me&&!Re.hasB&&(we="inside"),we==="auto")if(Me){we="inside",Xe=s.ensureUniformFontSize(Z,at),tt=xe(re,Oe,Xe),Ie=v.bBox(tt.node()),Ve=Ie.width,Ge=Ie.height;var Le=Ve>0&&Ge>0,Fe;Se?ke?Fe=m(xt-2*se,St,Ve,Ge,De)||m(xt,St-2*se,Ve,Ge,De):De?Fe=m(xt-(se-J),St,Ve,Ge,De)||m(xt,St-2*(se-J),Ve,Ge,De):Fe=m(xt,St-(se-J),Ve,Ge,De)||m(xt-2*(se-J),St,Ve,Ge,De):Fe=m(xt,St,Ve,Ge,De),Le&&Fe?we="inside":(we="outside",tt.remove(),tt=null)}else we="inside";if(!tt){Xe=s.ensureUniformFontSize(Z,we==="outside"?Ze:at),tt=xe(re,Oe,Xe);var Ue=tt.attr("transform");if(tt.attr("transform",""),Ie=v.bBox(tt.node()),Ve=Ie.width,Ge=Ie.height,tt.attr("transform",Ue),Ve<=0||Ge<=0){tt.remove();return}}var Ee=Ce.textangle,he,ye;we==="outside"?(ye=Ce.constraintext==="both"||Ce.constraintext==="outside",he=B(K,$,X,Q,Ie,{isHorizontal:De,constrained:ye,angle:Ee})):(ye=Ce.constraintext==="both"||Ce.constraintext==="inside",he=O(K,$,X,Q,Ie,{isHorizontal:De,constrained:ye,angle:Ee,anchor:$e,hasB:ke,r:se,overhead:J})),he.fontSize=Xe.size,o(Ce.type==="histogram"?"bar":Ce.type,he,ge),Re.transform=he;var _e=S(tt,ge,G,oe);s.setTransormAndDisplay(_e,he)}function m(Z,q,re,le,ie){if(Z<0||q<0)return!1;var K=re<=Z&&le<=q,$=re<=q&&le<=Z,X=ie?Z>=re*(q/le):q>=le*(Z/re);return K||$||X}function k(Z){return Z==="auto"?0:Z}function I(Z,q){var re=Math.PI/180*q,le=Math.abs(Math.sin(re)),ie=Math.abs(Math.cos(re));return{x:Z.width*ie+Z.height*le,y:Z.width*le+Z.height*ie}}function O(Z,q,re,le,ie,K){var $=!!K.isHorizontal,X=!!K.constrained,Q=K.angle||0,se=K.anchor,J=se==="end",G=se==="start",oe=K.leftToRight||0,te=(oe+1)/2,fe=1-te,ge=K.hasB,we=K.r,xe=K.overhead,Ce=ie.width,De=ie.height,Oe=Math.abs(q-Z),Te=Math.abs(le-re),Re=Oe>2*a&&Te>2*a?a:0;Oe-=2*Re,Te-=2*Re;var Me=k(Q);Q==="auto"&&!(Ce<=Oe&&De<=Te)&&(Ce>Oe||De>Te)&&(!(Ce>Te||De>Oe)||Ce<De!=Oe<Te)&&(Me+=90);var ke=I(ie,Me),Se,He;if(we&&we-xe>a){var je=_(Z,q,re,le,ke,we,xe,$,ge);Se=je.scale,He=je.pad}else Se=1,X&&(Se=Math.min(1,Oe/ke.x,Te/ke.y)),He=0;var at=ie.left*fe+ie.right*te,Ze=(ie.top+ie.bottom)/2,$e=(Z+a)*fe+(q-a)*te,ut=(re+le)/2,ht=0,vt=0;if(G||J){var xt=($?ke.x:ke.y)/2;we&&(J||ge)&&(Re+=He);var St=$?C(Z,q):C(re,le);$?G?($e=Z+St*Re,ht=-St*xt):($e=q-St*Re,ht=St*xt):G?(ut=re+St*Re,vt=-St*xt):(ut=le-St*Re,vt=St*xt)}return{textX:at,textY:Ze,targetX:$e,targetY:ut,anchorX:ht,anchorY:vt,scale:Se,rotate:Me}}function _(Z,q,re,le,ie,K,$,X,Q){var se=Math.max(0,Math.abs(q-Z)-2*a),J=Math.max(0,Math.abs(le-re)-2*a),G=K-a,oe=$?G-Math.sqrt(G*G-(G-$)*(G-$)):G,te=Q?G*2:X?G-$:2*oe,fe=Q?G*2:X?2*oe:G-$,ge,we,xe,Ce,De;return ie.y/ie.x>=J/(se-te)?Ce=J/ie.y:ie.y/ie.x<=(J-fe)/se?Ce=se/ie.x:!Q&&X?(ge=ie.x*ie.x+ie.y*ie.y/4,we=-2*ie.x*(se-G)-ie.y*(J/2-G),xe=(se-G)*(se-G)+(J/2-G)*(J/2-G)-G*G,Ce=(-we+Math.sqrt(we*we-4*ge*xe))/(2*ge)):Q?(ge=(ie.x*ie.x+ie.y*ie.y)/4,we=-ie.x*(se/2-G)-ie.y*(J/2-G),xe=(se/2-G)*(se/2-G)+(J/2-G)*(J/2-G)-G*G,Ce=(-we+Math.sqrt(we*we-4*ge*xe))/(2*ge)):(ge=ie.x*ie.x/4+ie.y*ie.y,we=-ie.x*(se/2-G)-2*ie.y*(J-G),xe=(se/2-G)*(se/2-G)+(J-G)*(J-G)-G*G,Ce=(-we+Math.sqrt(we*we-4*ge*xe))/(2*ge)),Ce=Math.min(1,Ce),X?De=Math.max(0,G-Math.sqrt(Math.max(0,G*G-(G-(J-ie.y*Ce)/2)*(G-(J-ie.y*Ce)/2)))-$):De=Math.max(0,G-Math.sqrt(Math.max(0,G*G-(G-(se-ie.x*Ce)/2)*(G-(se-ie.x*Ce)/2)))-$),{scale:Ce,pad:De}}function B(Z,q,re,le,ie,K){var $=!!K.isHorizontal,X=!!K.constrained,Q=K.angle||0,se=ie.width,J=ie.height,G=Math.abs(q-Z),oe=Math.abs(le-re),te;$?te=oe>2*a?a:0:te=G>2*a?a:0;var fe=1;X&&(fe=$?Math.min(1,oe/J):Math.min(1,G/se));var ge=k(Q),we=I(ie,ge),xe=($?we.x:we.y)/2,Ce=(ie.left+ie.right)/2,De=(ie.top+ie.bottom)/2,Oe=(Z+q)/2,Te=(re+le)/2,Re=0,Me=0,ke=$?C(q,Z):C(re,le);return $?(Oe=q-ke*te,Re=ke*xe):(Te=le+ke*te,Me=-ke*xe),{textX:Ce,textY:De,targetX:Oe,targetY:Te,anchorX:Re,anchorY:Me,scale:fe,rotate:ge}}function F(Z,q,re,le,ie){var K=q[0].trace,$=K.texttemplate,X;return $?X=N(Z,q,re,le,ie):K.textinfo?X=W(q,re,le,ie):X=u.getValue(K.text,re),u.coerceString(h,X)}function z(Z,q){var re=u.getValue(Z.textposition,q);return u.coerceEnumerated(w,re)}function N(Z,q,re,le,ie){var K=q[0].trace,$=s.castOption(K,re,"texttemplate");if(!$)return"";var X=K.type==="histogram",Q=K.type==="waterfall",se=K.type==="funnel",J=K.orientation==="h",G,oe,te,fe;J?(G="y",oe=ie,te="x",fe=le):(G="x",oe=le,te="y",fe=ie);function ge(Re){return r(oe,oe.c2l(Re),!0).text}function we(Re){return r(fe,fe.c2l(Re),!0).text}var xe=q[re],Ce={};Ce.label=xe.p,Ce.labelLabel=Ce[G+"Label"]=ge(xe.p);var De=s.castOption(K,xe.i,"text");(De===0||De)&&(Ce.text=De),Ce.value=xe.s,Ce.valueLabel=Ce[te+"Label"]=we(xe.s);var Oe={};c(Oe,K,xe.i),(X||Oe.x===void 0)&&(Oe.x=J?Ce.value:Ce.label),(X||Oe.y===void 0)&&(Oe.y=J?Ce.label:Ce.value),(X||Oe.xLabel===void 0)&&(Oe.xLabel=J?Ce.valueLabel:Ce.labelLabel),(X||Oe.yLabel===void 0)&&(Oe.yLabel=J?Ce.labelLabel:Ce.valueLabel),Q&&(Ce.delta=+xe.rawS||xe.s,Ce.deltaLabel=we(Ce.delta),Ce.final=xe.v,Ce.finalLabel=we(Ce.final),Ce.initial=Ce.final-Ce.delta,Ce.initialLabel=we(Ce.initial)),se&&(Ce.value=xe.s,Ce.valueLabel=we(Ce.value),Ce.percentInitial=xe.begR,Ce.percentInitialLabel=s.formatPercent(xe.begR),Ce.percentPrevious=xe.difR,Ce.percentPreviousLabel=s.formatPercent(xe.difR),Ce.percentTotal=xe.sumR,Ce.percenTotalLabel=s.formatPercent(xe.sumR));var Te=s.castOption(K,xe.i,"customdata");return Te&&(Ce.customdata=Te),s.texttemplateString($,Ce,Z._d3locale,Oe,Ce,K._meta||{})}function W(Z,q,re,le){var ie=Z[0].trace,K=ie.orientation==="h",$=ie.type==="waterfall",X=ie.type==="funnel";function Q(Te){var Re=K?le:re;return r(Re,Te,!0).text}function se(Te){var Re=K?re:le;return r(Re,+Te,!0).text}var J=ie.textinfo,G=Z[q],oe=J.split("+"),te=[],fe,ge=function(Te){return oe.indexOf(Te)!==-1};if(ge("label")&&te.push(Q(Z[q].p)),ge("text")&&(fe=s.castOption(ie,G.i,"text"),(fe===0||fe)&&te.push(fe)),$){var we=+G.rawS||G.s,xe=G.v,Ce=xe-we;ge("initial")&&te.push(se(Ce)),ge("delta")&&te.push(se(we)),ge("final")&&te.push(se(xe))}if(X){ge("value")&&te.push(se(G.s));var De=0;ge("percent initial")&&De++,ge("percent previous")&&De++,ge("percent total")&&De++;var Oe=De>1;ge("percent initial")&&(fe=s.formatPercent(G.begR),Oe&&(fe+=" of initial"),te.push(fe)),ge("percent previous")&&(fe=s.formatPercent(G.difR),Oe&&(fe+=" of previous"),te.push(fe)),ge("percent total")&&(fe=s.formatPercent(G.sumR),Oe&&(fe+=" of total"),te.push(fe))}return te.join("<br>")}Y.exports={plot:i,toMoveInsideBar:O}},45784:function(Y){Y.exports=function(b,P){var s=b.cd,L=b.xaxis,M=b.yaxis,v=s[0].trace,p=v.type==="funnel",r=v.orientation==="h",t=[],o;if(P===!1)for(o=0;o<s.length;o++)s[o].selected=0;else for(o=0;o<s.length;o++){var n=s[o],l="ct"in n?n.ct:V(n,L,M,r,p);P.contains(l,!1,o,b)?(t.push({pointNumber:o,x:L.c2d(n.x),y:M.c2d(n.y)}),n.selected=1):n.selected=0}return t};function V(e,b,P,s,L){var M=b.c2p(s?e.s0:e.p0,!0),v=b.c2p(s?e.s1:e.p1,!0),p=P.c2p(s?e.p0:e.s0,!0),r=P.c2p(s?e.p1:e.s1,!0);return L?[(M+v)/2,(p+r)/2]:s?[v,(p+r)/2]:[(M+v)/2,r]}},72592:function(Y,V,e){Y.exports=P;var b=e(3400).distinctVals;function P(s,L){this.traces=s,this.sepNegVal=L.sepNegVal,this.overlapNoMerge=L.overlapNoMerge;for(var M=1/0,v=L.posAxis._id.charAt(0),p=[],r=0;r<s.length;r++){for(var t=s[r],o=0;o<t.length;o++){var n=t[o],l=n.p;l===void 0&&(l=n[v]),l!==void 0&&p.push(l)}t[0]&&t[0].width1&&(M=Math.min(t[0].width1,M))}this.positions=p;var u=b(p);this.distinctPositions=u.vals,u.vals.length===1&&M!==1/0?this.minDiff=M:this.minDiff=Math.min(u.minDiff,M);var f=(L.posAxis||{}).type;(f==="category"||f==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}P.prototype.put=function(L,M){var v=this.getLabel(L,M),p=this.bins[v]||0;return this.bins[v]=p+M,p},P.prototype.get=function(L,M){var v=this.getLabel(L,M);return this.bins[v]||0},P.prototype.getLabel=function(L,M){var v=M<0&&this.sepNegVal?"v":"^",p=this.overlapNoMerge?L:Math.round(L/this.binWidth);return v+p}},60100:function(Y,V,e){var b=e(33428),P=e(76308),s=e(43616),L=e(3400),M=e(24040),v=e(82744).resizeText,p=e(20832),r=p.textfont,t=p.insidetextfont,o=p.outsidetextfont,n=e(60444);function l(y){var S=b.select(y).selectAll('g[class^="barlayer"]').selectAll("g.trace");v(y,S,"bar");var A=S.size(),i=y._fullLayout;S.style("opacity",function(E){return E[0].trace.opacity}).each(function(E){(i.barmode==="stack"&&A>1||i.bargap===0&&i.bargroupgap===0&&!E[0].trace.marker.line.width)&&b.select(this).attr("shape-rendering","crispEdges")}),S.selectAll("g.points").each(function(E){var m=b.select(this),k=E[0].trace;u(m,k,y)}),M.getComponentMethod("errorbars","style")(S)}function u(y,S,A){s.pointStyle(y.selectAll("path"),S,A),f(y,S,A)}function f(y,S,A){y.selectAll("text").each(function(i){var E=b.select(this),m=L.ensureUniformFontSize(A,c(E,i,S,A));s.font(E,m)})}function g(y,S,A){var i=S[0].trace;i.selectedpoints?h(A,i,y):(u(A,i,y),M.getComponentMethod("errorbars","style")(A))}function h(y,S,A){s.selectedPointStyle(y.selectAll("path"),S),w(y.selectAll("text"),S,A)}function w(y,S,A){y.each(function(i){var E=b.select(this),m;if(i.selected){m=L.ensureUniformFontSize(A,c(E,i,S,A));var k=S.selected.textfont&&S.selected.textfont.color;k&&(m.color=k),s.font(E,m)}else s.selectedTextStyle(E,S)})}function c(y,S,A,i){var E=i._fullLayout.font,m=A.textfont;if(y.classed("bartext-inside")){var k=C(S,A);m=d(A,S.i,E,k)}else y.classed("bartext-outside")&&(m=x(A,S.i,E));return m}function a(y,S,A){return T(r,y.textfont,S,A)}function d(y,S,A,i){var E=a(y,S,A),m=y._input.textfont===void 0||y._input.textfont.color===void 0||Array.isArray(y.textfont.color)&&y.textfont.color[S]===void 0;return m&&(E={color:P.contrast(i),family:E.family,size:E.size,weight:E.weight,style:E.style,variant:E.variant,textcase:E.textcase,lineposition:E.lineposition,shadow:E.shadow}),T(t,y.insidetextfont,S,E)}function x(y,S,A){var i=a(y,S,A);return T(o,y.outsidetextfont,S,i)}function T(y,S,A,i){S=S||{};var E=n.getValue(S.family,A),m=n.getValue(S.size,A),k=n.getValue(S.color,A),I=n.getValue(S.weight,A),O=n.getValue(S.style,A),_=n.getValue(S.variant,A),B=n.getValue(S.textcase,A),F=n.getValue(S.lineposition,A),z=n.getValue(S.shadow,A);return{family:n.coerceString(y.family,E,i.family),size:n.coerceNumber(y.size,m,i.size),color:n.coerceColor(y.color,k,i.color),weight:n.coerceString(y.weight,I,i.weight),style:n.coerceString(y.style,O,i.style),variant:n.coerceString(y.variant,_,i.variant),textcase:n.coerceString(y.variant,B,i.textcase),lineposition:n.coerceString(y.variant,F,i.lineposition),shadow:n.coerceString(y.variant,z,i.shadow)}}function C(y,S){return S.type==="waterfall"?S[y.dir].marker.color:y.mcc||y.mc||S.marker.color}Y.exports={style:l,styleTextPoints:f,styleOnSelect:g,getInsideTextFont:d,getOutsideTextFont:x,getBarColor:C,resizeText:v}},55592:function(Y,V,e){var b=e(76308),P=e(94288).hasColorscale,s=e(27260),L=e(3400).coercePattern;Y.exports=function(v,p,r,t,o){var n=r("marker.color",t),l=P(v,"marker");l&&s(v,p,o,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",b.defaultLine),P(v,"marker.line")&&s(v,p,o,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width"),r("marker.opacity"),L(r,"marker.pattern",n,l),r("selected.marker.color"),r("unselected.marker.color")}},82744:function(Y,V,e){var b=e(33428),P=e(3400);function s(p,r,t){var o=p._fullLayout,n=o["_"+t+"Text_minsize"];if(n){var l=o.uniformtext.mode==="hide",u;switch(t){case"funnelarea":case"pie":case"sunburst":u="g.slice";break;case"treemap":case"icicle":u="g.slice, g.pathbar";break;default:u="g.points > g.point"}r.selectAll(u).each(function(f){var g=f.transform;if(g){g.scale=l&&g.hide?0:n/g.fontSize;var h=b.select(this).select("text");P.setTransormAndDisplay(h,g)}})}}function L(p,r,t){if(t.uniformtext.mode){var o=v(p),n=t.uniformtext.minsize,l=r.scale*r.fontSize;r.hide=l<n,t[o]=t[o]||1/0,r.hide||(t[o]=Math.min(t[o],Math.max(l,n)))}}function M(p,r){var t=v(p);r[t]=void 0}function v(p){return"_"+p+"Text_minsize"}Y.exports={recordMinTextSize:L,clearMinTextSize:M,resizeText:s}},78100:function(Y,V,e){var b=e(21776).Ks,P=e(92880).extendFlat,s=e(8319),L=e(20832);Y.exports={r:s.r,theta:s.theta,r0:s.r0,dr:s.dr,theta0:s.theta0,dtheta:s.dtheta,thetaunit:s.thetaunit,base:P({},L.base,{}),offset:P({},L.offset,{}),width:P({},L.width,{}),text:P({},L.text,{}),hovertext:P({},L.hovertext,{}),marker:M(),hoverinfo:s.hoverinfo,hovertemplate:b(),selected:L.selected,unselected:L.unselected};function M(){var v=P({},L.marker);return delete v.cornerradius,v}},47056:function(Y,V,e){var b=e(94288).hasColorscale,P=e(47128),s=e(3400).isArrayOrTypedArray,L=e(84664),M=e(96376).setGroupPositions,v=e(4500),p=e(24040).traceIs,r=e(3400).extendFlat;function t(n,l){for(var u=n._fullLayout,f=l.subplot,g=u[f].radialaxis,h=u[f].angularaxis,w=g.makeCalcdata(l,"r"),c=h.makeCalcdata(l,"theta"),a=l._length,d=new Array(a),x=w,T=c,C=0;C<a;C++)d[C]={p:T[C],s:x[C]};function y(S){var A=l[S];A!==void 0&&(l["_"+S]=s(A)?h.makeCalcdata(l,S):h.d2c(A,l.thetaunit))}return h.type==="linear"&&(y("width"),y("offset")),b(l,"marker")&&P(n,l,{vals:l.marker.color,containerStr:"marker",cLetter:"c"}),b(l,"marker.line")&&P(n,l,{vals:l.marker.line.color,containerStr:"marker.line",cLetter:"c"}),L(d,l),v(d,l),d}function o(n,l,u){for(var f=n.calcdata,g=[],h=0;h<f.length;h++){var w=f[h],c=w[0].trace;c.visible===!0&&p(c,"bar")&&c.subplot===u&&g.push(w)}var a=r({},l.radialaxis,{_id:"x"}),d=l.angularaxis;M(n,d,a,g,{mode:l.barmode,norm:l.barnorm,gap:l.bargap,groupgap:l.bargroupgap})}Y.exports={calc:t,crossTraceCalc:o}},70384:function(Y,V,e){var b=e(3400),P=e(85968).handleRThetaDefaults,s=e(55592),L=e(78100);Y.exports=function(v,p,r,t){function o(l,u){return b.coerce(v,p,L,l,u)}var n=P(v,p,t,o);if(!n){p.visible=!1;return}o("thetaunit"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate"),s(v,p,o,r,t),b.coerceSelectionMarkerOpacity(p,o)}},68896:function(Y,V,e){var b=e(93024),P=e(3400),s=e(63400).getTraceColor,L=P.fillText,M=e(8504).makeHoverPointText,v=e(57384).isPtInsidePolygon;Y.exports=function(r,t,o){var n=r.cd,l=n[0].trace,u=r.subplot,f=u.radialAxis,g=u.angularAxis,h=u.vangles,w=h?v:P.isPtInsideSector,c=r.maxHoverDistance,a=g._period||2*Math.PI,d=Math.abs(f.g2p(Math.sqrt(t*t+o*o))),x=Math.atan2(o,t);f.range[0]>f.range[1]&&(x+=Math.PI);var T=function(A){return w(d,x,[A.rp0,A.rp1],[A.thetag0,A.thetag1],h)?c+Math.min(1,Math.abs(A.thetag1-A.thetag0)/a)-1+(A.rp1-d)/(A.rp1-A.rp0)-1:1/0};if(b.getClosest(n,T,r),r.index!==!1){var C=r.index,y=n[C];r.x0=r.x1=y.ct[0],r.y0=r.y1=y.ct[1];var S=P.extendFlat({},y,{r:y.s,theta:y.p});return L(y,l,r),M(S,l,u,r),r.hovertemplate=l.hovertemplate,r.color=s(l,y),r.xLabelVal=r.yLabelVal=void 0,y.s<0&&(r.idealAlign="left"),[r]}}},94456:function(Y,V,e){Y.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(40872),categories:["polar","bar","showLegend"],attributes:e(78100),layoutAttributes:e(9320),supplyDefaults:e(70384),supplyLayoutDefaults:e(89580),calc:e(47056).calc,crossTraceCalc:e(47056).crossTraceCalc,plot:e(42040),colorbar:e(5528),formatLabels:e(22852),style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(68896),selectPoints:e(45784),meta:{}}},9320:function(Y){Y.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},89580:function(Y,V,e){var b=e(3400),P=e(9320);Y.exports=function(s,L,M){var v={},p;function r(n,l){return b.coerce(s[p]||{},L[p],P,n,l)}for(var t=0;t<M.length;t++){var o=M[t];o.type==="barpolar"&&o.visible===!0&&(p=o.subplot,v[p]||(r("barmode"),r("bargap"),v[p]=1))}}},42040:function(Y,V,e){var b=e(33428),P=e(38248),s=e(3400),L=e(43616),M=e(57384);Y.exports=function(r,t,o){var n=r._context.staticPlot,l=t.xaxis,u=t.yaxis,f=t.radialAxis,g=t.angularAxis,h=v(t),w=t.layers.frontplot.select("g.barlayer");s.makeTraceGroups(w,o,"trace bars").each(function(){var c=b.select(this),a=s.ensureSingle(c,"g","points"),d=a.selectAll("g.point").data(s.identity);d.enter().append("g").style("vector-effect",n?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),d.exit().remove(),d.each(function(x){var T=b.select(this),C=x.rp0=f.c2p(x.s0),y=x.rp1=f.c2p(x.s1),S=x.thetag0=g.c2g(x.p0),A=x.thetag1=g.c2g(x.p1),i;if(!P(C)||!P(y)||!P(S)||!P(A)||C===y||S===A)i="M0,0Z";else{var E=f.c2g(x.s1),m=(S+A)/2;x.ct=[l.c2p(E*Math.cos(m)),u.c2p(E*Math.sin(m))],i=h(C,y,S,A)}s.ensureSingle(T,"path").attr("d",i)}),L.setClipUrl(c,t._hasClipOnAxisFalse?t.clipIds.forTraces:null,r)})};function v(p){var r=p.cxx,t=p.cyy;return p.vangles?function(o,n,l,u){var f,g;s.angleDelta(l,u)>0?(f=l,g=u):(f=u,g=l);var h=M.findEnclosingVertexAngles(f,p.vangles)[0],w=M.findEnclosingVertexAngles(g,p.vangles)[1],c=[h,(f+g)/2,w];return M.pathPolygonAnnulus(o,n,f,g,c,r,t)}:function(o,n,l,u){return s.pathAnnulus(o,n,l,u,r,t)}}},63188:function(Y,V,e){var b=e(98304),P=e(52904),s=e(20832),L=e(22548),M=e(29736).axisHoverFormat,v=e(21776).Ks,p=e(92880).extendFlat,r=P.marker,t=r.line;Y.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:P.xperiod,yperiod:P.yperiod,xperiod0:P.xperiod0,yperiod0:P.yperiod0,xperiodalignment:P.xperiodalignment,yperiodalignment:P.yperiodalignment,xhoverformat:M("x"),yhoverformat:M("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:p({},r.symbol,{arrayOk:!1,editType:"plot"}),opacity:p({},r.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:p({},r.angle,{arrayOk:!1,editType:"calc"}),size:p({},r.size,{arrayOk:!1,editType:"calc"}),color:p({},r.color,{arrayOk:!1,editType:"style"}),line:{color:p({},t.color,{arrayOk:!1,dflt:L.defaultLine,editType:"style"}),width:p({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:b(),whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:s.offsetgroup,alignmentgroup:s.alignmentgroup,selected:{marker:P.selected.marker,editType:"style"},unselected:{marker:P.unselected.marker,editType:"style"},text:p({},P.text,{}),hovertext:p({},P.hovertext,{}),hovertemplate:v({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"},zorder:P.zorder}},62555:function(Y,V,e){var b=e(38248),P=e(54460),s=e(1220),L=e(3400),M=e(39032).BADNUM,v=L._;Y.exports=function(x,T){var C=x._fullLayout,y=P.getFromId(x,T.xaxis||"x"),S=P.getFromId(x,T.yaxis||"y"),A=[],i=T.type==="violin"?"_numViolins":"_numBoxes",E,m,k,I,O,_,B;T.orientation==="h"?(k=y,I="x",O=S,_="y",B=!!T.yperiodalignment):(k=S,I="y",O=y,_="x",B=!!T.xperiodalignment);var F=p(T,_,O,C[i]),z=F[0],N=F[1],W=L.distinctVals(z,O),Z=W.vals,q=W.minDiff/2,re,le,ie,K,$,X,Q=(T.boxpoints||T.points)==="all"?L.identity:function(St){return St.v<re.lf||St.v>re.uf};if(T._hasPreCompStats){var se=T[I],J=function(St){return k.d2c((T[St]||[])[E])},G=1/0,oe=-1/0;for(E=0;E<T._length;E++){var te=z[E];if(b(te)){if(re={},re.pos=re[_]=te,B&&N&&(re.orig_p=N[E]),re.q1=J("q1"),re.med=J("median"),re.q3=J("q3"),le=[],se&&L.isArrayOrTypedArray(se[E]))for(m=0;m<se[E].length;m++)X=k.d2c(se[E][m]),X!==M&&($={v:X,i:[E,m]},n($,T,[E,m]),le.push($));if(re.pts=le.sort(u),ie=re[I]=le.map(f),K=ie.length,re.med!==M&&re.q1!==M&&re.q3!==M&&re.med>=re.q1&&re.q3>=re.med){var fe=J("lowerfence");re.lf=fe!==M&&fe<=re.q1?fe:g(re,ie,K);var ge=J("upperfence");re.uf=ge!==M&&ge>=re.q3?ge:h(re,ie,K);var we=J("mean");re.mean=we!==M?we:K?L.mean(ie,K):(re.q1+re.q3)/2;var xe=J("sd");re.sd=we!==M&&xe>=0?xe:K?L.stdev(ie,K,re.mean):re.q3-re.q1,re.lo=w(re),re.uo=c(re);var Ce=J("notchspan");Ce=Ce!==M&&Ce>0?Ce:a(re,K),re.ln=re.med-Ce,re.un=re.med+Ce;var De=re.lf,Oe=re.uf;T.boxpoints&&ie.length&&(De=Math.min(De,ie[0]),Oe=Math.max(Oe,ie[K-1])),T.notched&&(De=Math.min(De,re.ln),Oe=Math.max(Oe,re.un)),re.min=De,re.max=Oe}else{L.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+re.q1,"median = "+re.med,"q3 = "+re.q3].join(`
`));var Te;re.med!==M?Te=re.med:re.q1!==M?re.q3!==M?Te=(re.q1+re.q3)/2:Te=re.q1:re.q3!==M?Te=re.q3:Te=0,re.med=Te,re.q1=re.q3=Te,re.lf=re.uf=Te,re.mean=re.sd=Te,re.ln=re.un=Te,re.min=re.max=Te}G=Math.min(G,re.min),oe=Math.max(oe,re.max),re.pts2=le.filter(Q),A.push(re)}}T._extremes[k._id]=P.findExtremes(k,[G,oe],{padded:!0})}else{var Re=k.makeCalcdata(T,I),Me=r(Z,q),ke=Z.length,Se=t(ke);for(E=0;E<T._length;E++)if(X=Re[E],!!b(X)){var He=L.findBin(z[E],Me);He>=0&&He<ke&&($={v:X,i:E},n($,T,E),Se[He].push($))}var je=1/0,at=-1/0,Ze=T.quartilemethod,$e=Ze==="exclusive",ut=Ze==="inclusive";for(E=0;E<ke;E++)if(Se[E].length>0){if(re={},re.pos=re[_]=Z[E],le=re.pts=Se[E].sort(u),ie=re[I]=le.map(f),K=ie.length,re.min=ie[0],re.max=ie[K-1],re.mean=L.mean(ie,K),re.sd=L.stdev(ie,K,re.mean)*T.sdmultiple,re.med=L.interp(ie,.5),K%2&&($e||ut)){var ht,vt;$e?(ht=ie.slice(0,K/2),vt=ie.slice(K/2+1)):ut&&(ht=ie.slice(0,K/2+1),vt=ie.slice(K/2)),re.q1=L.interp(ht,.5),re.q3=L.interp(vt,.5)}else re.q1=L.interp(ie,.25),re.q3=L.interp(ie,.75);re.lf=g(re,ie,K),re.uf=h(re,ie,K),re.lo=w(re),re.uo=c(re);var xt=a(re,K);re.ln=re.med-xt,re.un=re.med+xt,je=Math.min(je,re.ln),at=Math.max(at,re.un),re.pts2=le.filter(Q),A.push(re)}T.notched&&L.isTypedArray(Re)&&(Re=Array.from(Re)),T._extremes[k._id]=P.findExtremes(k,T.notched?Re.concat([je,at]):Re,{padded:!0})}return l(A,T),A.length>0?(A[0].t={num:C[i],dPos:q,posLetter:_,valLetter:I,labels:{med:v(x,"median:"),min:v(x,"min:"),q1:v(x,"q1:"),q3:v(x,"q3:"),max:v(x,"max:"),mean:T.boxmean==="sd"||T.sizemode==="sd"?v(x,"mean ± σ:").replace("σ",T.sdmultiple===1?"σ":T.sdmultiple+"σ"):v(x,"mean:"),lf:v(x,"lower fence:"),uf:v(x,"upper fence:")}},C[i]++,A):[{t:{empty:!0}}]};function p(d,x,T,C){var y=x in d,S=x+"0"in d,A="d"+x in d;if(y||S&&A){var i=T.makeCalcdata(d,x),E=s(d,T,x,i).vals;return[E,i]}var m;S?m=d[x+"0"]:"name"in d&&(T.type==="category"||b(d.name)&&["linear","log"].indexOf(T.type)!==-1||L.isDateTime(d.name)&&T.type==="date")?m=d.name:m=C;for(var k=T.type==="multicategory"?T.r2c_just_indices(m):T.d2c(m,0,d[x+"calendar"]),I=d._length,O=new Array(I),_=0;_<I;_++)O[_]=k;return[O]}function r(d,x){for(var T=d.length,C=new Array(T+1),y=0;y<T;y++)C[y]=d[y]-x;return C[T]=d[T-1]+x,C}function t(d){for(var x=new Array(d),T=0;T<d;T++)x[T]=[];return x}var o={text:"tx",hovertext:"htx"};function n(d,x,T){for(var C in o)L.isArrayOrTypedArray(x[C])&&(Array.isArray(T)?L.isArrayOrTypedArray(x[C][T[0]])&&(d[o[C]]=x[C][T[0]][T[1]]):d[o[C]]=x[C][T])}function l(d,x){if(L.isArrayOrTypedArray(x.selectedpoints))for(var T=0;T<d.length;T++){for(var C=d[T].pts||[],y={},S=0;S<C.length;S++)y[C[S].i]=S;L.tagSelected(C,x,y)}}function u(d,x){return d.v-x.v}function f(d){return d.v}function g(d,x,T){return T===0?d.q1:Math.min(d.q1,x[Math.min(L.findBin(2.5*d.q1-1.5*d.q3,x,!0)+1,T-1)])}function h(d,x,T){return T===0?d.q3:Math.max(d.q3,x[Math.max(L.findBin(2.5*d.q3-1.5*d.q1,x),0)])}function w(d){return 4*d.q1-3*d.q3}function c(d){return 4*d.q3-3*d.q1}function a(d,x){return x===0?0:1.57*(d.q3-d.q1)/Math.sqrt(x)}},96404:function(Y,V,e){var b=e(54460),P=e(3400),s=e(71888).getAxisGroup,L=["v","h"];function M(p,r){for(var t=p.calcdata,o=r.xaxis,n=r.yaxis,l=0;l<L.length;l++){for(var u=L[l],f=u==="h"?n:o,g=[],h=0;h<t.length;h++){var w=t[h],c=w[0].t,a=w[0].trace;a.visible===!0&&(a.type==="box"||a.type==="candlestick")&&!c.empty&&(a.orientation||"v")===u&&a.xaxis===o._id&&a.yaxis===n._id&&g.push(h)}v("box",p,g,f)}}function v(p,r,t,o){var n=r.calcdata,l=r._fullLayout,u=o._id,f=u.charAt(0),g,h,w,c=[],a=0;for(g=0;g<t.length;g++)for(w=n[t[g]],h=0;h<w.length;h++)c.push(o.c2l(w[h].pos,!0)),a+=(w[h].pts2||[]).length;if(c.length){var d=P.distinctVals(c);(o.type==="category"||o.type==="multicategory")&&(d.minDiff=1);var x=d.minDiff/2;b.minDtick(o,d.minDiff,d.vals[0],!0);var T=p==="violin"?"_numViolins":"_numBoxes",C=l[T],y=l[p+"mode"]==="group"&&C>1,S=1-l[p+"gap"],A=1-l[p+"groupgap"];for(g=0;g<t.length;g++){w=n[t[g]];var i=w[0].trace,E=w[0].t,m=i.width,k=i.side,I,O,_,B;if(m)I=O=B=m/2,_=0;else if(I=x,y){var F=s(l,o._id)+i.orientation,z=l._alignmentOpts[F]||{},N=z[i.alignmentgroup]||{},W=Object.keys(N.offsetGroups||{}).length,Z=W||C,q=W?i._offsetIndex:E.num;O=I*S*A/Z,_=2*I*(-.5+(q+.5)/Z)*S,B=I*S/Z}else O=I*S*A,_=0,B=I;E.dPos=I,E.bPos=_,E.bdPos=O,E.wHover=B;var re,le,ie=_+O,K,$,X,Q,se,J,G=!!m,oe=(i.boxpoints||i.points)&&a>0;if(k==="positive"?(re=I*(m?1:.5),K=ie,le=K=_):k==="negative"?(re=K=_,le=I*(m?1:.5),$=ie):(re=le=I,K=$=ie),oe){var te=i.pointpos,fe=i.jitter,ge=i.marker.size/2,we=0;te+fe>=0&&(we=ie*(te+fe),we>re?(G=!0,se=ge,X=we):we>K&&(se=ge,X=re)),we<=re&&(X=re);var xe=0;te-fe<=0&&(xe=-ie*(te-fe),xe>le?(G=!0,J=ge,Q=xe):xe>$&&(J=ge,Q=le)),xe<=le&&(Q=le)}else X=re,Q=le;var Ce=new Array(w.length);for(h=0;h<w.length;h++)Ce[h]=w[h].pos;i._extremes[u]=b.findExtremes(o,Ce,{padded:G,vpadminus:Q,vpadplus:X,vpadLinearized:!0,ppadminus:{x:J,y:se}[f],ppadplus:{x:se,y:J}[f]})}}}Y.exports={crossTraceCalc:M,setPositionOffset:v}},90624:function(Y,V,e){var b=e(3400),P=e(24040),s=e(76308),L=e(31147),M=e(20011),v=e(52976),p=e(63188);function r(l,u,f,g){function h(A,i){return b.coerce(l,u,p,A,i)}if(t(l,u,h,g),u.visible!==!1){L(l,u,g,h),h("xhoverformat"),h("yhoverformat");var w=u._hasPreCompStats;w&&(h("lowerfence"),h("upperfence")),h("line.color",(l.marker||{}).color||f),h("line.width"),h("fillcolor",s.addOpacity(u.line.color,.5));var c=!1;if(w){var a=h("mean"),d=h("sd");a&&a.length&&(c=!0,d&&d.length&&(c="sd"))}h("whiskerwidth");var x=h("sizemode"),T;x==="quartiles"&&(T=h("boxmean",c)),h("showwhiskers",x==="quartiles"),(x==="sd"||T==="sd")&&h("sdmultiple"),h("width"),h("quartilemethod");var C=!1;if(w){var y=h("notchspan");y&&y.length&&(C=!0)}else b.validate(l.notchwidth,p.notchwidth)&&(C=!0);var S=h("notched",C);S&&h("notchwidth"),o(l,u,h,{prefix:"box"}),h("zorder")}}function t(l,u,f,g){function h(W){var Z=0;return W&&W.length&&(Z+=1,b.isArrayOrTypedArray(W[0])&&W[0].length&&(Z+=1)),Z}function w(W){return b.validate(l[W],p[W])}var c=f("y"),a=f("x"),d;if(u.type==="box"){var x=f("q1"),T=f("median"),C=f("q3");u._hasPreCompStats=x&&x.length&&T&&T.length&&C&&C.length,d=Math.min(b.minRowLength(x),b.minRowLength(T),b.minRowLength(C))}var y=h(c),S=h(a),A=y&&b.minRowLength(c),i=S&&b.minRowLength(a),E=g.calendar,m={autotypenumbers:g.autotypenumbers},k,I;if(u._hasPreCompStats)switch(String(S)+String(y)){case"00":var O=w("x0")||w("dx"),_=w("y0")||w("dy");_&&!O?k="h":k="v",I=d;break;case"10":k="v",I=Math.min(d,i);break;case"20":k="h",I=Math.min(d,a.length);break;case"01":k="h",I=Math.min(d,A);break;case"02":k="v",I=Math.min(d,c.length);break;case"12":k="v",I=Math.min(d,i,c.length);break;case"21":k="h",I=Math.min(d,a.length,A);break;case"11":I=0;break;case"22":var B=!1,F;for(F=0;F<a.length;F++)if(v(a[F],E,m)==="category"){B=!0;break}if(B)k="v",I=Math.min(d,i,c.length);else{for(F=0;F<c.length;F++)if(v(c[F],E,m)==="category"){B=!0;break}B?(k="h",I=Math.min(d,a.length,A)):(k="v",I=Math.min(d,i,c.length))}break}else y>0?(k="v",S>0?I=Math.min(i,A):I=Math.min(A)):S>0?(k="h",I=Math.min(i)):I=0;if(!I){u.visible=!1;return}u._length=I;var z=f("orientation",k);u._hasPreCompStats?z==="v"&&S===0?(f("x0",0),f("dx",1)):z==="h"&&y===0&&(f("y0",0),f("dy",1)):z==="v"&&S===0?f("x0"):z==="h"&&y===0&&f("y0");var N=P.getComponentMethod("calendars","handleTraceDefaults");N(l,u,["x","y"],g)}function o(l,u,f,g){var h=g.prefix,w=b.coerce2(l,u,p,"marker.outliercolor"),c=f("marker.line.outliercolor"),a="outliers";u._hasPreCompStats?a="all":(w||c)&&(a="suspectedoutliers");var d=f(h+"points",a);d?(f("jitter",d==="all"?.3:0),f("pointpos",d==="all"?-1.5:0),f("marker.symbol"),f("marker.opacity"),f("marker.size"),f("marker.angle"),f("marker.color",u.line.color),f("marker.line.color"),f("marker.line.width"),d==="suspectedoutliers"&&(f("marker.line.outliercolor",u.marker.color),f("marker.line.outlierwidth")),f("selected.marker.color"),f("unselected.marker.color"),f("selected.marker.size"),f("unselected.marker.size"),f("text"),f("hovertext")):delete u.marker;var x=f("hoveron");(x==="all"||x.indexOf("points")!==-1)&&f("hovertemplate"),b.coerceSelectionMarkerOpacity(u,f)}function n(l,u){var f,g;function h(a){return b.coerce(g._input,g,p,a)}for(var w=0;w<l.length;w++){g=l[w];var c=g.type;(c==="box"||c==="violin")&&(f=g._input,u[c+"mode"]==="group"&&M(f,g,u,h))}}Y.exports={supplyDefaults:r,crossTraceDefaults:n,handleSampleDefaults:t,handlePointsDefaults:o}},10392:function(Y){Y.exports=function(e,b){return b.hoverOnBox&&(e.hoverOnBox=b.hoverOnBox),"xVal"in b&&(e.x=b.xVal),"yVal"in b&&(e.y=b.yVal),b.xa&&(e.xaxis=b.xa),b.ya&&(e.yaxis=b.ya),e}},27576:function(Y,V,e){var b=e(54460),P=e(3400),s=e(93024),L=e(76308),M=P.fillText;function v(t,o,n,l){var u=t.cd,f=u[0].trace,g=f.hoveron,h=[],w;return g.indexOf("boxes")!==-1&&(h=h.concat(p(t,o,n,l))),g.indexOf("points")!==-1&&(w=r(t,o,n)),l==="closest"?w?[w]:h:(w&&h.push(w),h)}function p(t,o,n,l){var u=t.cd,f=t.xa,g=t.ya,h=u[0].trace,w=u[0].t,c=h.type==="violin",a,d,x,T,C,y,S,A,i,E,m,k=w.bdPos,I,O,_=w.wHover,B=function(xe){return x.c2l(xe.pos)+w.bPos-x.c2l(y)};c&&h.side!=="both"?(h.side==="positive"&&(i=function(xe){var Ce=B(xe);return s.inbox(Ce,Ce+_,E)},I=k,O=0),h.side==="negative"&&(i=function(xe){var Ce=B(xe);return s.inbox(Ce-_,Ce,E)},I=0,O=k)):(i=function(xe){var Ce=B(xe);return s.inbox(Ce-_,Ce+_,E)},I=O=k);var F;c?F=function(xe){return s.inbox(xe.span[0]-C,xe.span[1]-C,E)}:F=function(xe){return s.inbox(xe.min-C,xe.max-C,E)},h.orientation==="h"?(C=o,y=n,S=F,A=i,a="y",x=g,d="x",T=f):(C=n,y=o,S=i,A=F,a="x",x=f,d="y",T=g);var z=Math.min(1,k/Math.abs(x.r2c(x.range[1])-x.r2c(x.range[0])));E=t.maxHoverDistance-z,m=t.maxSpikeDistance-z;function N(xe){return(S(xe)+A(xe))/2}var W=s.getDistanceFunction(l,S,A,N);if(s.getClosest(u,W,t),t.index===!1)return[];var Z=u[t.index],q=h.line.color,re=(h.marker||{}).color;L.opacity(q)&&h.line.width?t.color=q:L.opacity(re)&&h.boxpoints?t.color=re:t.color=h.fillcolor,t[a+"0"]=x.c2p(Z.pos+w.bPos-O,!0),t[a+"1"]=x.c2p(Z.pos+w.bPos+I,!0),t[a+"LabelVal"]=Z.orig_p!==void 0?Z.orig_p:Z.pos;var le=a+"Spike";t.spikeDistance=N(Z)*m/E,t[le]=x.c2p(Z.pos,!0);var ie=h.boxmean||h.sizemode==="sd"||(h.meanline||{}).visible,K=h.boxpoints||h.points,$=K&&ie?["max","uf","q3","med","mean","q1","lf","min"]:K&&!ie?["max","uf","q3","med","q1","lf","min"]:!K&&ie?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],X=T.range[1]<T.range[0];h.orientation===(X?"v":"h")&&$.reverse();for(var Q=t.spikeDistance,se=t[le],J=[],G=0;G<$.length;G++){var oe=$[G];if(oe in Z){var te=Z[oe],fe=T.c2p(te,!0),ge=P.extendFlat({},t);ge.attr=oe,ge[d+"0"]=ge[d+"1"]=fe,ge[d+"LabelVal"]=te,ge[d+"Label"]=(w.labels?w.labels[oe]+" ":"")+b.hoverLabelText(T,te,h[d+"hoverformat"]),ge.hoverOnBox=!0,oe==="mean"&&"sd"in Z&&(h.boxmean==="sd"||h.sizemode==="sd")&&(ge[d+"err"]=Z.sd),ge.hovertemplate=!1,J.push(ge)}}t.name="",t.spikeDistance=void 0,t[le]=void 0;for(var we=0;we<J.length;we++)J[we].attr!=="med"?(J[we].name="",J[we].spikeDistance=void 0,J[we][le]=void 0):(J[we].spikeDistance=Q,J[we][le]=se);return J}function r(t,o,n){for(var l=t.cd,u=t.xa,f=t.ya,g=l[0].trace,h=u.c2p(o),w=f.c2p(n),c,a=function(F){var z=Math.max(3,F.mrc||0);return Math.max(Math.abs(u.c2p(F.x)-h)-z,1-3/z)},d=function(F){var z=Math.max(3,F.mrc||0);return Math.max(Math.abs(f.c2p(F.y)-w)-z,1-3/z)},x=s.quadrature(a,d),T=!1,C,y,S=0;S<l.length;S++){C=l[S];for(var A=0;A<(C.pts||[]).length;A++){y=C.pts[A];var i=x(y);i<=t.distance&&(t.distance=i,T=[S,A])}}if(!T)return!1;C=l[T[0]],y=C.pts[T[1]];var E=u.c2p(y.x,!0),m=f.c2p(y.y,!0),k=y.mrc||1;c=P.extendFlat({},t,{index:y.i,color:(g.marker||{}).color,name:g.name,x0:E-k,x1:E+k,y0:m-k,y1:m+k,spikeDistance:t.distance,hovertemplate:g.hovertemplate});var I=C.orig_p,O=I!==void 0?I:C.pos,_;g.orientation==="h"?(_=f,c.xLabelVal=y.x,c.yLabelVal=O):(_=u,c.xLabelVal=O,c.yLabelVal=y.y);var B=_._id.charAt(0);return c[B+"Spike"]=_.c2p(C.pos,!0),M(y,g,c),c}Y.exports={hoverPoints:v,hoverOnBoxes:p,hoverOnPoints:r}},67244:function(Y,V,e){Y.exports={attributes:e(63188),layoutAttributes:e(16560),supplyDefaults:e(90624).supplyDefaults,crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(68832).supplyLayoutDefaults,calc:e(62555),crossTraceCalc:e(96404).crossTraceCalc,plot:e(18728).plot,style:e(25776).style,styleOnSelect:e(25776).styleOnSelect,hoverPoints:e(27576).hoverPoints,eventData:e(10392),selectPoints:e(8264),moduleType:"trace",name:"box",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},16560:function(Y){Y.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},68832:function(Y,V,e){var b=e(24040),P=e(3400),s=e(16560);function L(v,p,r,t,o){for(var n=o+"Layout",l=!1,u=0;u<r.length;u++){var f=r[u];if(b.traceIs(f,n)){l=!0;break}}l&&(t(o+"mode"),t(o+"gap"),t(o+"groupgap"))}function M(v,p,r){function t(o,n){return P.coerce(v,p,s,o,n)}L(v,p,r,t,"box")}Y.exports={supplyLayoutDefaults:M,_supply:L}},18728:function(Y,V,e){var b=e(33428),P=e(3400),s=e(43616),L=5,M=.01;function v(o,n,l,u){var f=o._context.staticPlot,g=n.xaxis,h=n.yaxis;P.makeTraceGroups(u,l,"trace boxes").each(function(w){var c=b.select(this),a=w[0],d=a.t,x=a.trace;if(d.wdPos=d.bdPos*x.whiskerwidth,x.visible!==!0||d.empty){c.remove();return}var T,C;x.orientation==="h"?(T=h,C=g):(T=g,C=h),p(c,{pos:T,val:C},x,d,f),r(c,{x:g,y:h},x,d),t(c,{pos:T,val:C},x,d)})}function p(o,n,l,u,f){var g=l.orientation==="h",h=n.val,w=n.pos,c=!!w.rangebreaks,a=u.bPos,d=u.wdPos||0,x=u.bPosPxOffset||0,T=l.whiskerwidth||0,C=l.showwhiskers!==!1,y=l.notched||!1,S=y?1-2*l.notchwidth:1,A,i;Array.isArray(u.bdPos)?(A=u.bdPos[0],i=u.bdPos[1]):(A=u.bdPos,i=u.bdPos);var E=o.selectAll("path.box").data(l.type!=="violin"||l.box.visible?P.identity:[]);E.enter().append("path").style("vector-effect",f?"none":"non-scaling-stroke").attr("class","box"),E.exit().remove(),E.each(function(m){if(m.empty)return b.select(this).attr("d","M0,0Z");var k=w.c2l(m.pos+a,!0),I=w.l2p(k-A)+x,O=w.l2p(k+i)+x,_=c?(I+O)/2:w.l2p(k)+x,B=l.whiskerwidth,F=c?I*B+(1-B)*_:w.l2p(k-d)+x,z=c?O*B+(1-B)*_:w.l2p(k+d)+x,N=w.l2p(k-A*S)+x,W=w.l2p(k+i*S)+x,Z=l.sizemode==="sd",q=h.c2p(Z?m.mean-m.sd:m.q1,!0),re=Z?h.c2p(m.mean+m.sd,!0):h.c2p(m.q3,!0),le=P.constrain(Z?h.c2p(m.mean,!0):h.c2p(m.med,!0),Math.min(q,re)+1,Math.max(q,re)-1),ie=m.lf===void 0||l.boxpoints===!1||Z,K=h.c2p(ie?m.min:m.lf,!0),$=h.c2p(ie?m.max:m.uf,!0),X=h.c2p(m.ln,!0),Q=h.c2p(m.un,!0);g?b.select(this).attr("d","M"+le+","+N+"V"+W+"M"+q+","+I+"V"+O+(y?"H"+X+"L"+le+","+W+"L"+Q+","+O:"")+"H"+re+"V"+I+(y?"H"+Q+"L"+le+","+N+"L"+X+","+I:"")+"Z"+(C?"M"+q+","+_+"H"+K+"M"+re+","+_+"H"+$+(T===0?"":"M"+K+","+F+"V"+z+"M"+$+","+F+"V"+z):"")):b.select(this).attr("d","M"+N+","+le+"H"+W+"M"+I+","+q+"H"+O+(y?"V"+X+"L"+W+","+le+"L"+O+","+Q:"")+"V"+re+"H"+I+(y?"V"+Q+"L"+N+","+le+"L"+I+","+X:"")+"Z"+(C?"M"+_+","+q+"V"+K+"M"+_+","+re+"V"+$+(T===0?"":"M"+F+","+K+"H"+z+"M"+F+","+$+"H"+z):""))})}function r(o,n,l,u){var f=n.x,g=n.y,h=u.bdPos,w=u.bPos,c=l.boxpoints||l.points;P.seedPseudoRandom();var a=function(T){return T.forEach(function(C){C.t=u,C.trace=l}),T},d=o.selectAll("g.points").data(c?a:[]);d.enter().append("g").attr("class","points"),d.exit().remove();var x=d.selectAll("path").data(function(T){var C,y=T.pts2,S=Math.max((T.max-T.min)/10,T.q3-T.q1),A=S*1e-9,i=S*M,E=[],m=0,k;if(l.jitter){if(S===0)for(m=1,E=new Array(y.length),C=0;C<y.length;C++)E[C]=1;else for(C=0;C<y.length;C++){var I=Math.max(0,C-L),O=y[I].v,_=Math.min(y.length-1,C+L),B=y[_].v;c!=="all"&&(y[C].v<T.lf?B=Math.min(B,T.lf):O=Math.max(O,T.uf));var F=Math.sqrt(i*(_-I)/(B-O+A))||0;F=P.constrain(Math.abs(F),0,1),E.push(F),m=Math.max(F,m)}k=l.jitter*2/(m||1)}for(C=0;C<y.length;C++){var z=y[C],N=z.v,W=l.jitter?k*E[C]*(P.pseudoRandom()-.5):0,Z=T.pos+w+h*(l.pointpos+W);l.orientation==="h"?(z.y=Z,z.x=N):(z.x=Z,z.y=N),c==="suspectedoutliers"&&N<T.uo&&N>T.lo&&(z.so=!0)}return y});x.enter().append("path").classed("point",!0),x.exit().remove(),x.call(s.translatePoints,f,g)}function t(o,n,l,u){var f=n.val,g=n.pos,h=!!g.rangebreaks,w=u.bPos,c=u.bPosPxOffset||0,a=l.boxmean||(l.meanline||{}).visible,d,x;Array.isArray(u.bdPos)?(d=u.bdPos[0],x=u.bdPos[1]):(d=u.bdPos,x=u.bdPos);var T=o.selectAll("path.mean").data(l.type==="box"&&l.boxmean||l.type==="violin"&&l.box.visible&&l.meanline.visible?P.identity:[]);T.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),T.exit().remove(),T.each(function(C){var y=g.c2l(C.pos+w,!0),S=g.l2p(y-d)+c,A=g.l2p(y+x)+c,i=h?(S+A)/2:g.l2p(y)+c,E=f.c2p(C.mean,!0),m=f.c2p(C.mean-C.sd,!0),k=f.c2p(C.mean+C.sd,!0);l.orientation==="h"?b.select(this).attr("d","M"+E+","+S+"V"+A+(a==="sd"?"m0,0L"+m+","+i+"L"+E+","+S+"L"+k+","+i+"Z":"")):b.select(this).attr("d","M"+S+","+E+"H"+A+(a==="sd"?"m0,0L"+i+","+m+"L"+S+","+E+"L"+i+","+k+"Z":""))})}Y.exports={plot:v,plotBoxAndWhiskers:p,plotPoints:r,plotBoxMean:t}},8264:function(Y){Y.exports=function(e,b){var P=e.cd,s=e.xaxis,L=e.yaxis,M=[],v,p;if(b===!1)for(v=0;v<P.length;v++)for(p=0;p<(P[v].pts||[]).length;p++)P[v].pts[p].selected=0;else for(v=0;v<P.length;v++)for(p=0;p<(P[v].pts||[]).length;p++){var r=P[v].pts[p],t=s.c2p(r.x),o=L.c2p(r.y);b.contains([t,o],null,r.i,e)?(M.push({pointNumber:r.i,x:s.c2d(r.x),y:L.c2d(r.y)}),r.selected=1):r.selected=0}return M}},25776:function(Y,V,e){var b=e(33428),P=e(76308),s=e(43616);function L(v,p,r){var t=r||b.select(v).selectAll("g.trace.boxes");t.style("opacity",function(o){return o[0].trace.opacity}),t.each(function(o){var n=b.select(this),l=o[0].trace,u=l.line.width;function f(w,c,a,d){w.style("stroke-width",c+"px").call(P.stroke,a).call(P.fill,d)}var g=n.selectAll("path.box");if(l.type==="candlestick")g.each(function(w){if(!w.empty){var c=b.select(this),a=l[w.dir];f(c,a.line.width,a.line.color,a.fillcolor),c.style("opacity",l.selectedpoints&&!w.selected?.3:1)}});else{f(g,u,l.line.color,l.fillcolor),n.selectAll("path.mean").style({"stroke-width":u,"stroke-dasharray":2*u+"px,"+u+"px"}).call(P.stroke,l.line.color);var h=n.selectAll("path.point");s.pointStyle(h,l,v)}})}function M(v,p,r){var t=p[0].trace,o=r.selectAll("path.point");t.selectedpoints?s.selectedPointStyle(o,t):s.pointStyle(o,t,v)}Y.exports={style:L,styleOnSelect:M}},64216:function(Y,V,e){var b=e(3400).extendFlat,P=e(29736).axisHoverFormat,s=e(20279),L=e(63188);function M(v){return{line:{color:b({},L.line.color,{dflt:v}),width:L.line.width,editType:"style"},fillcolor:L.fillcolor,editType:"style"}}Y.exports={xperiod:s.xperiod,xperiod0:s.xperiod0,xperiodalignment:s.xperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),x:s.x,open:s.open,high:s.high,low:s.low,close:s.close,line:{width:b({},L.line.width,{}),editType:"style"},increasing:M(s.increasing.line.color.dflt),decreasing:M(s.decreasing.line.color.dflt),text:s.text,hovertext:s.hovertext,whiskerwidth:b({},L.whiskerwidth,{dflt:0}),hoverlabel:s.hoverlabel,zorder:L.zorder}},46283:function(Y,V,e){var b=e(3400),P=e(54460),s=e(1220),L=e(42812).calcCommon;Y.exports=function(v,p){var r=v._fullLayout,t=P.getFromId(v,p.xaxis),o=P.getFromId(v,p.yaxis),n=t.makeCalcdata(p,"x"),l=s(p,t,"x",n).vals,u=L(v,p,n,l,o,M);return u.length?(b.extendFlat(u[0].t,{num:r._numBoxes,dPos:b.distinctVals(l).minDiff/2,posLetter:"x",valLetter:"y"}),r._numBoxes++,u):[{t:{empty:!0}}]};function M(v,p,r,t){return{min:r,q1:Math.min(v,t),med:t,q3:Math.max(v,t),max:p}}},64588:function(Y,V,e){var b=e(3400),P=e(76308),s=e(52744),L=e(31147),M=e(64216);Y.exports=function(r,t,o,n){function l(f,g){return b.coerce(r,t,M,f,g)}var u=s(r,t,l,n);if(!u){t.visible=!1;return}L(r,t,n,l,{x:!0}),l("xhoverformat"),l("yhoverformat"),l("line.width"),v(r,t,l,"increasing"),v(r,t,l,"decreasing"),l("text"),l("hovertext"),l("whiskerwidth"),n._requestRangeslider[t.xaxis]=!0,l("zorder")};function v(p,r,t,o){var n=t(o+".line.color");t(o+".line.width",r.line.width),t(o+".fillcolor",P.addOpacity(n,.5))}},61712:function(Y,V,e){Y.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(57952),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(64216),layoutAttributes:e(16560),supplyLayoutDefaults:e(68832).supplyLayoutDefaults,crossTraceCalc:e(96404).crossTraceCalc,supplyDefaults:e(64588),calc:e(46283),plot:e(18728).plot,layerName:"boxlayer",style:e(25776).style,hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},93504:function(Y,V,e){var b=e(63856),P=e(31780);Y.exports=function(M,v,p,r,t){var o=r("a");o||(r("da"),r("a0"));var n=r("b");n||(r("db"),r("b0")),s(M,v,p,t)};function s(L,M,v,p){var r=["aaxis","baxis"];r.forEach(function(t){var o=t.charAt(0),n=L[t]||{},l=P.newContainer(M,t),u={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,noTicklabelstep:!0,tickfont:"x",id:o+"axis",letter:o,font:M.font,name:t,data:L[o],calendar:M.calendar,dfltColor:p,bgColor:v.paper_bgcolor,autotypenumbersDflt:v.autotypenumbers,fullLayout:v};b(n,l,u),l._categories=l._categories||[],!L[t]&&n.type!=="-"&&(L[t]={type:n.type})})}},51676:function(Y,V,e){var b=e(3400).isArrayOrTypedArray;Y.exports=function(s){return P(s,0)};function P(s,L){if(!b(s)||L>=10)return null;for(var M=1/0,v=-1/0,p=s.length,r=0;r<p;r++){var t=s[r];if(b(t)){var o=P(t,L+1);o&&(M=Math.min(o[0],M),v=Math.max(o[1],v))}else M=Math.min(t,M),v=Math.max(t,v)}return[M,v]}},85720:function(Y,V,e){var b=e(25376),P=e(98692),s=e(22548),L=b({editType:"calc"}),M=e(52904).zorder;L.family.dflt='"Open Sans", verdana, arial, sans-serif',L.size.dflt=12,L.color.dflt=s.defaultLine,Y.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:P,baxis:P,font:L,color:{valType:"color",dflt:s.defaultLine,editType:"plot"},transforms:void 0,zorder:M}},77712:function(Y,V,e){var b=e(3400).isArrayOrTypedArray;Y.exports=function(P,s,L,M){var v,p,r,t,o,n,l,u,f,g,h,w,c,a=b(L)?"a":"b",d=a==="a"?P.aaxis:P.baxis,x=d.smoothing,T=a==="a"?P.a2i:P.b2j,C=a==="a"?L:M,y=a==="a"?M:L,S=a==="a"?s.a.length:s.b.length,A=a==="a"?s.b.length:s.a.length,i=Math.floor(a==="a"?P.b2j(y):P.a2i(y)),E=a==="a"?function(q){return P.evalxy([],q,i)}:function(q){return P.evalxy([],i,q)};x&&(r=Math.max(0,Math.min(A-2,i)),t=i-r,p=a==="a"?function(q,re){return P.dxydi([],q,r,re,t)}:function(q,re){return P.dxydj([],r,q,t,re)});var m=T(C[0]),k=T(C[1]),I=m<k?1:-1,O=(k-m)*1e-8,_=I>0?Math.floor:Math.ceil,B=I>0?Math.ceil:Math.floor,F=I>0?Math.min:Math.max,z=I>0?Math.max:Math.min,N=_(m+O),W=B(k-O);l=E(m);var Z=[[l]];for(v=N;v*I<W*I;v+=I)o=[],h=z(m,v),w=F(k,v+I),c=w-h,n=Math.max(0,Math.min(S-2,Math.floor(.5*(h+w)))),u=E(w),x&&(f=p(n,h-n),g=p(n,w-n),o.push([l[0]+f[0]/3*c,l[1]+f[1]/3*c]),o.push([u[0]-g[0]/3*c,u[1]-g[1]/3*c])),o.push(u),Z.push(o),l=u;return Z}},98692:function(Y,V,e){var b=e(25376),P=e(22548),s=e(94724),L=e(29736).descriptionWithDates,M=e(67824).overrideAll,v=e(98192).u,p=e(92880).extendFlat;Y.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:b({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:s.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:p({},s.labelalias,{editType:"calc"}),tickfont:b({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:L("tick label")},tickformatstops:M(s.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:P.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:p({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:p({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:P.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:b({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},63856:function(Y,V,e){var b=e(85720),P=e(76308).addOpacity,s=e(24040),L=e(3400),M=e(26332),v=e(95936),p=e(42568),r=e(22416),t=e(78344),o=e(52976);Y.exports=function(u,f,g){var h=g.letter,w=g.font||{},c=b[h+"axis"];function a(N,W){return L.coerce(u,f,c,N,W)}function d(N,W){return L.coerce2(u,f,c,N,W)}g.name&&(f._name=g.name,f._id=g.name),a("autotypenumbers",g.autotypenumbersDflt);var x=a("type");if(x==="-"&&(g.data&&n(f,g.data),f.type==="-"?f.type="linear":x=u.type=f.type),a("smoothing"),a("cheatertype"),a("showticklabels"),a("labelprefix",h+" = "),a("labelsuffix"),a("showtickprefix"),a("showticksuffix"),a("separatethousands"),a("tickformat"),a("exponentformat"),a("minexponent"),a("showexponent"),a("categoryorder"),a("tickmode"),a("tickvals"),a("ticktext"),a("tick0"),a("dtick"),f.tickmode==="array"&&(a("arraytick0"),a("arraydtick")),a("labelpadding"),f._hovertitle=h,x==="date"){var T=s.getComponentMethod("calendars","handleDefaults");T(u,f,"calendar",g.calendar)}t(f,g.fullLayout),f.c2p=L.identity;var C=a("color",g.dfltColor),y=C===u.color?C:w.color,S=a("title.text");S&&(L.coerceFont(a,"title.font",w,{overrideDflt:{size:L.bigFont(w.size),color:y}}),a("title.offset")),a("tickangle");var A=a("autorange",!f.isValidRange(u.range));A&&a("rangemode"),a("range"),f.cleanRange(),a("fixedrange"),M(u,f,a,x),p(u,f,a,x,g),v(u,f,a,x,g),r(u,f,a,{data:g.data,dataAttr:h});var i=d("gridcolor",P(C,.3)),E=d("gridwidth"),m=d("griddash"),k=a("showgrid");k||(delete f.gridcolor,delete f.gridwidth,delete f.griddash);var I=d("startlinecolor",C),O=d("startlinewidth",E),_=a("startline",f.showgrid||!!I||!!O);_||(delete f.startlinecolor,delete f.startlinewidth);var B=d("endlinecolor",C),F=d("endlinewidth",E),z=a("endline",f.showgrid||!!B||!!F);return z||(delete f.endlinecolor,delete f.endlinewidth),k?(a("minorgridcount"),a("minorgridwidth",E),a("minorgriddash",m),a("minorgridcolor",P(i,.06)),f.minorgridcount||(delete f.minorgridwidth,delete f.minorgriddash,delete f.minorgridcolor)):(delete f.gridcolor,delete f.gridwidth,delete f.griddash),f.showticklabels==="none"&&(delete f.tickfont,delete f.tickangle,delete f.showexponent,delete f.exponentformat,delete f.minexponent,delete f.tickformat,delete f.showticksuffix,delete f.showtickprefix),f.showticksuffix||delete f.ticksuffix,f.showtickprefix||delete f.tickprefix,a("tickmode"),f};function n(l,u){if(l.type==="-"){var f=l._id,g=f.charAt(0),h=g+"calendar",w=l[h];l.type=o(u,w,{autotypenumbers:l.autotypenumbers})}}},58744:function(Y,V,e){var b=e(54460),P=e(3400).isArray1D,s=e(60776),L=e(51676),M=e(19216),v=e(14724),p=e(24944),r=e(26136),t=e(51512),o=e(2872),n=e(81e3);Y.exports=function(u,f){var g=b.getFromId(u,f.xaxis),h=b.getFromId(u,f.yaxis),w=f.aaxis,c=f.baxis,a=f.x,d=f.y,x=[];a&&P(a)&&x.push("x"),d&&P(d)&&x.push("y"),x.length&&o(f,w,c,"a","b",x);var T=f._a=f._a||f.a,C=f._b=f._b||f.b;a=f._x||f.x,d=f._y||f.y;var y={};if(f._cheater){var S=w.cheatertype==="index"?T.length:T,A=c.cheatertype==="index"?C.length:C;a=s(S,A,f.cheaterslope)}f._x=a=r(a),f._y=d=r(d),t(a,T,C),t(d,T,C),n(f),f.setScale();var i=L(a),E=L(d),m=.5*(i[1]-i[0]),k=.5*(i[1]+i[0]),I=.5*(E[1]-E[0]),O=.5*(E[1]+E[0]),_=1.3;return i=[k-m*_,k+m*_],E=[O-I*_,O+I*_],f._extremes[g._id]=b.findExtremes(g,i,{padded:!0}),f._extremes[h._id]=b.findExtremes(h,E,{padded:!0}),M(f,"a","b"),M(f,"b","a"),v(f,w),v(f,c),y.clipsegments=p(f._xctrl,f._yctrl,w,c),y.x=a,y.y=d,y.a=T,y.b=C,[y]}},24944:function(Y){Y.exports=function(e,b,P,s){var L,M,v,p=[],r=!!P.smoothing,t=!!s.smoothing,o=e[0].length-1,n=e.length-1;for(L=0,M=[],v=[];L<=o;L++)M[L]=e[0][L],v[L]=b[0][L];for(p.push({x:M,y:v,bicubic:r}),L=0,M=[],v=[];L<=n;L++)M[L]=e[L][o],v[L]=b[L][o];for(p.push({x:M,y:v,bicubic:t}),L=o,M=[],v=[];L>=0;L--)M[o-L]=e[n][L],v[o-L]=b[n][L];for(p.push({x:M,y:v,bicubic:r}),L=n,M=[],v=[];L>=0;L--)M[n-L]=e[L][0],v[n-L]=b[L][0];return p.push({x:M,y:v,bicubic:t}),p}},19216:function(Y,V,e){var b=e(54460),P=e(92880).extendFlat;Y.exports=function(L,M,v){var p,r,t,o,n,l,u,f,g,h,w,c,a,d,x=L["_"+M],T=L[M+"axis"],C=T._gridlines=[],y=T._minorgridlines=[],S=T._boundarylines=[],A=L["_"+v],i=L[v+"axis"];T.tickmode==="array"&&(T.tickvals=x.slice());var E=L._xctrl,m=L._yctrl,k=E[0].length,I=E.length,O=L._a.length,_=L._b.length;b.prepTicks(T),T.tickmode==="array"&&delete T.tickvals;var B=T.smoothing?3:1;function F(N){var W,Z,q,re,le,ie,K,$,X,Q,se,J,G=[],oe=[],te={};if(M==="b")for(Z=L.b2j(N),q=Math.floor(Math.max(0,Math.min(_-2,Z))),re=Z-q,te.length=_,te.crossLength=O,te.xy=function(fe){return L.evalxy([],fe,Z)},te.dxy=function(fe,ge){return L.dxydi([],fe,q,ge,re)},W=0;W<O;W++)ie=Math.min(O-2,W),K=W-ie,$=L.evalxy([],W,Z),i.smoothing&&W>0&&(X=L.dxydi([],W-1,q,0,re),G.push(le[0]+X[0]/3),oe.push(le[1]+X[1]/3),Q=L.dxydi([],W-1,q,1,re),G.push($[0]-Q[0]/3),oe.push($[1]-Q[1]/3)),G.push($[0]),oe.push($[1]),le=$;else for(W=L.a2i(N),ie=Math.floor(Math.max(0,Math.min(O-2,W))),K=W-ie,te.length=O,te.crossLength=_,te.xy=function(fe){return L.evalxy([],W,fe)},te.dxy=function(fe,ge){return L.dxydj([],ie,fe,K,ge)},Z=0;Z<_;Z++)q=Math.min(_-2,Z),re=Z-q,$=L.evalxy([],W,Z),i.smoothing&&Z>0&&(se=L.dxydj([],ie,Z-1,K,0),G.push(le[0]+se[0]/3),oe.push(le[1]+se[1]/3),J=L.dxydj([],ie,Z-1,K,1),G.push($[0]-J[0]/3),oe.push($[1]-J[1]/3)),G.push($[0]),oe.push($[1]),le=$;return te.axisLetter=M,te.axis=T,te.crossAxis=i,te.value=N,te.constvar=v,te.index=f,te.x=G,te.y=oe,te.smoothing=i.smoothing,te}function z(N){var W,Z,q,re,le,ie=[],K=[],$={};if($.length=x.length,$.crossLength=A.length,M==="b")for(q=Math.max(0,Math.min(_-2,N)),le=Math.min(1,Math.max(0,N-q)),$.xy=function(X){return L.evalxy([],X,N)},$.dxy=function(X,Q){return L.dxydi([],X,q,Q,le)},W=0;W<k;W++)ie[W]=E[N*B][W],K[W]=m[N*B][W];else for(Z=Math.max(0,Math.min(O-2,N)),re=Math.min(1,Math.max(0,N-Z)),$.xy=function(X){return L.evalxy([],N,X)},$.dxy=function(X,Q){return L.dxydj([],Z,X,re,Q)},W=0;W<I;W++)ie[W]=E[W][N*B],K[W]=m[W][N*B];return $.axisLetter=M,$.axis=T,$.crossAxis=i,$.value=x[N],$.constvar=v,$.index=N,$.x=ie,$.y=K,$.smoothing=i.smoothing,$}if(T.tickmode==="array"){for(o=5e-15,n=[Math.floor((x.length-1-T.arraytick0)/T.arraydtick*(1+o)),Math.ceil(-T.arraytick0/T.arraydtick/(1+o))].sort(function(N,W){return N-W}),l=n[0]-1,u=n[1]+1,f=l;f<u;f++)r=T.arraytick0+T.arraydtick*f,!(r<0||r>x.length-1)&&C.push(P(z(r),{color:T.gridcolor,width:T.gridwidth,dash:T.griddash}));for(f=l;f<u;f++)if(t=T.arraytick0+T.arraydtick*f,w=Math.min(t+T.arraydtick,x.length-1),!(t<0||t>x.length-1)&&!(w<0||w>x.length-1))for(c=x[t],a=x[w],p=0;p<T.minorgridcount;p++)d=w-t,!(d<=0)&&(h=c+(a-c)*(p+1)/(T.minorgridcount+1)*(T.arraydtick/d),!(h<x[0]||h>x[x.length-1])&&y.push(P(F(h),{color:T.minorgridcolor,width:T.minorgridwidth,dash:T.minorgriddash})));T.startline&&S.push(P(z(0),{color:T.startlinecolor,width:T.startlinewidth})),T.endline&&S.push(P(z(x.length-1),{color:T.endlinecolor,width:T.endlinewidth}))}else{for(o=5e-15,n=[Math.floor((x[x.length-1]-T.tick0)/T.dtick*(1+o)),Math.ceil((x[0]-T.tick0)/T.dtick/(1+o))].sort(function(N,W){return N-W}),l=n[0],u=n[1],f=l;f<=u;f++)g=T.tick0+T.dtick*f,C.push(P(F(g),{color:T.gridcolor,width:T.gridwidth,dash:T.griddash}));for(f=l-1;f<u+1;f++)for(g=T.tick0+T.dtick*f,p=0;p<T.minorgridcount;p++)h=g+T.dtick*(p+1)/(T.minorgridcount+1),!(h<x[0]||h>x[x.length-1])&&y.push(P(F(h),{color:T.minorgridcolor,width:T.minorgridwidth,dash:T.minorgriddash}));T.startline&&S.push(P(F(x[0]),{color:T.startlinecolor,width:T.startlinewidth})),T.endline&&S.push(P(F(x[x.length-1]),{color:T.endlinecolor,width:T.endlinewidth}))}}},14724:function(Y,V,e){var b=e(54460),P=e(92880).extendFlat;Y.exports=function(L,M){var v,p,r,t,o,n=M._labels=[],l=M._gridlines;for(v=0;v<l.length;v++)o=l[v],["start","both"].indexOf(M.showticklabels)!==-1&&(p=b.tickText(M,o.value),P(p,{prefix:r,suffix:t,endAnchor:!0,xy:o.xy(0),dxy:o.dxy(0,0),axis:o.axis,length:o.crossAxis.length,font:o.axis.tickfont,isFirst:v===0,isLast:v===l.length-1}),n.push(p)),["end","both"].indexOf(M.showticklabels)!==-1&&(p=b.tickText(M,o.value),P(p,{endAnchor:!1,xy:o.xy(o.crossLength-1),dxy:o.dxy(o.crossLength-2,1),axis:o.axis,length:o.crossAxis.length,font:o.axis.tickfont,isFirst:v===0,isLast:v===l.length-1}),n.push(p))}},62284:function(Y){var V=.5;Y.exports=function(b,P,s,L){var M=b[0]-P[0],v=b[1]-P[1],p=s[0]-P[0],r=s[1]-P[1],t=Math.pow(M*M+v*v,V/2),o=Math.pow(p*p+r*r,V/2),n=(o*o*M-t*t*p)*L,l=(o*o*v-t*t*r)*L,u=o*(t+o)*3,f=t*(t+o)*3;return[[P[0]+(u&&n/u),P[1]+(u&&l/u)],[P[0]-(f&&n/f),P[1]-(f&&l/f)]]}},60776:function(Y,V,e){var b=e(3400).isArrayOrTypedArray;Y.exports=function(P,s,L){var M,v,p,r,t,o,n=[],l=b(P)?P.length:P,u=b(s)?s.length:s,f=b(P)?P:null,g=b(s)?s:null;f&&(p=(f.length-1)/(f[f.length-1]-f[0])/(l-1)),g&&(r=(g.length-1)/(g[g.length-1]-g[0])/(u-1));var h,w=1/0,c=-1/0;for(v=0;v<u;v++)for(n[v]=[],o=g?(g[v]-g[0])*r:v/(u-1),M=0;M<l;M++)t=f?(f[M]-f[0])*p:M/(l-1),h=t-o*L,w=Math.min(h,w),c=Math.max(h,c),n[v][M]=h;var a=1/(c-w),d=-w*a;for(v=0;v<u;v++)for(M=0;M<l;M++)n[v][M]=a*n[v][M]+d;return n}},30180:function(Y,V,e){var b=e(62284),P=e(3400).ensureArray;function s(L,M,v){var p=-.5*v[0]+1.5*M[0],r=-.5*v[1]+1.5*M[1];return[(2*p+L[0])/3,(2*r+L[1])/3]}Y.exports=function(M,v,p,r,t,o){var n,l,u,f,g,h,w,c,a,d,x=p[0].length,T=p.length,C=t?3*x-2:x,y=o?3*T-2:T;for(M=P(M,y),v=P(v,y),u=0;u<y;u++)M[u]=P(M[u],C),v[u]=P(v[u],C);for(l=0,f=0;l<T;l++,f+=o?3:1)for(g=M[f],h=v[f],w=p[l],c=r[l],n=0,u=0;n<x;n++,u+=t?3:1)g[u]=w[n],h[u]=c[n];if(t)for(l=0,f=0;l<T;l++,f+=o?3:1){for(n=1,u=3;n<x-1;n++,u+=3)a=b([p[l][n-1],r[l][n-1]],[p[l][n],r[l][n]],[p[l][n+1],r[l][n+1]],t),M[f][u-1]=a[0][0],v[f][u-1]=a[0][1],M[f][u+1]=a[1][0],v[f][u+1]=a[1][1];d=s([M[f][0],v[f][0]],[M[f][2],v[f][2]],[M[f][3],v[f][3]]),M[f][1]=d[0],v[f][1]=d[1],d=s([M[f][C-1],v[f][C-1]],[M[f][C-3],v[f][C-3]],[M[f][C-4],v[f][C-4]]),M[f][C-2]=d[0],v[f][C-2]=d[1]}if(o)for(u=0;u<C;u++){for(f=3;f<y-3;f+=3)a=b([M[f-3][u],v[f-3][u]],[M[f][u],v[f][u]],[M[f+3][u],v[f+3][u]],o),M[f-1][u]=a[0][0],v[f-1][u]=a[0][1],M[f+1][u]=a[1][0],v[f+1][u]=a[1][1];d=s([M[0][u],v[0][u]],[M[2][u],v[2][u]],[M[3][u],v[3][u]]),M[1][u]=d[0],v[1][u]=d[1],d=s([M[y-1][u],v[y-1][u]],[M[y-3][u],v[y-3][u]],[M[y-4][u],v[y-4][u]]),M[y-2][u]=d[0],v[y-2][u]=d[1]}if(t&&o)for(f=1;f<y;f+=(f+1)%3===0?2:1){for(u=3;u<C-3;u+=3)a=b([M[f][u-3],v[f][u-3]],[M[f][u],v[f][u]],[M[f][u+3],v[f][u+3]],t),M[f][u-1]=.5*(M[f][u-1]+a[0][0]),v[f][u-1]=.5*(v[f][u-1]+a[0][1]),M[f][u+1]=.5*(M[f][u+1]+a[1][0]),v[f][u+1]=.5*(v[f][u+1]+a[1][1]);d=s([M[f][0],v[f][0]],[M[f][2],v[f][2]],[M[f][3],v[f][3]]),M[f][1]=.5*(M[f][1]+d[0]),v[f][1]=.5*(v[f][1]+d[1]),d=s([M[f][C-1],v[f][C-1]],[M[f][C-3],v[f][C-3]],[M[f][C-4],v[f][C-4]]),M[f][C-2]=.5*(M[f][C-2]+d[0]),v[f][C-2]=.5*(v[f][C-2]+d[1])}return[M,v]}},24588:function(Y){Y.exports={RELATIVE_CULL_TOLERANCE:1e-6}},26435:function(Y){Y.exports=function(V,e,b){return e&&b?function(P,s,L,M,v){P||(P=[]);var p,r,t,o,n,l;s*=3,L*=3;var u=M*M,f=1-M,g=f*f,h=f*M*2,w=-3*g,c=3*(g-h),a=3*(h-u),d=3*u,x=v*v,T=x*v,C=1-v,y=C*C,S=y*C;for(l=0;l<V.length;l++)n=V[l],p=w*n[L][s]+c*n[L][s+1]+a*n[L][s+2]+d*n[L][s+3],r=w*n[L+1][s]+c*n[L+1][s+1]+a*n[L+1][s+2]+d*n[L+1][s+3],t=w*n[L+2][s]+c*n[L+2][s+1]+a*n[L+2][s+2]+d*n[L+2][s+3],o=w*n[L+3][s]+c*n[L+3][s+1]+a*n[L+3][s+2]+d*n[L+3][s+3],P[l]=S*p+3*(y*v*r+C*x*t)+T*o;return P}:e?function(P,s,L,M,v){P||(P=[]);var p,r,t,o;s*=3;var n=M*M,l=1-M,u=l*l,f=l*M*2,g=-3*u,h=3*(u-f),w=3*(f-n),c=3*n,a=1-v;for(t=0;t<V.length;t++)o=V[t],p=g*o[L][s]+h*o[L][s+1]+w*o[L][s+2]+c*o[L][s+3],r=g*o[L+1][s]+h*o[L+1][s+1]+w*o[L+1][s+2]+c*o[L+1][s+3],P[t]=a*p+v*r;return P}:b?function(P,s,L,M,v){P||(P=[]);var p,r,t,o,n,l;L*=3;var u=v*v,f=u*v,g=1-v,h=g*g,w=h*g;for(n=0;n<V.length;n++)l=V[n],p=l[L][s+1]-l[L][s],r=l[L+1][s+1]-l[L+1][s],t=l[L+2][s+1]-l[L+2][s],o=l[L+3][s+1]-l[L+3][s],P[n]=w*p+3*(h*v*r+g*u*t)+f*o;return P}:function(P,s,L,M,v){P||(P=[]);var p,r,t,o,n=1-v;for(t=0;t<V.length;t++)o=V[t],p=o[L][s+1]-o[L][s],r=o[L+1][s+1]-o[L+1][s],P[t]=n*p+v*r;return P}}},24464:function(Y){Y.exports=function(V,e,b){return e&&b?function(P,s,L,M,v){P||(P=[]);var p,r,t,o,n,l;s*=3,L*=3;var u=M*M,f=u*M,g=1-M,h=g*g,w=h*g,c=v*v,a=1-v,d=a*a,x=a*v*2,T=-3*d,C=3*(d-x),y=3*(x-c),S=3*c;for(l=0;l<V.length;l++)n=V[l],p=T*n[L][s]+C*n[L+1][s]+y*n[L+2][s]+S*n[L+3][s],r=T*n[L][s+1]+C*n[L+1][s+1]+y*n[L+2][s+1]+S*n[L+3][s+1],t=T*n[L][s+2]+C*n[L+1][s+2]+y*n[L+2][s+2]+S*n[L+3][s+2],o=T*n[L][s+3]+C*n[L+1][s+3]+y*n[L+2][s+3]+S*n[L+3][s+3],P[l]=w*p+3*(h*M*r+g*u*t)+f*o;return P}:e?function(P,s,L,M,v){P||(P=[]);var p,r,t,o,n,l;s*=3;var u=v*v,f=u*v,g=1-v,h=g*g,w=h*g;for(n=0;n<V.length;n++)l=V[n],p=l[L+1][s]-l[L][s],r=l[L+1][s+1]-l[L][s+1],t=l[L+1][s+2]-l[L][s+2],o=l[L+1][s+3]-l[L][s+3],P[n]=w*p+3*(h*v*r+g*u*t)+f*o;return P}:b?function(P,s,L,M,v){P||(P=[]);var p,r,t,o;L*=3;var n=1-M,l=v*v,u=1-v,f=u*u,g=u*v*2,h=-3*f,w=3*(f-g),c=3*(g-l),a=3*l;for(t=0;t<V.length;t++)o=V[t],p=h*o[L][s]+w*o[L+1][s]+c*o[L+2][s]+a*o[L+3][s],r=h*o[L][s+1]+w*o[L+1][s+1]+c*o[L+2][s+1]+a*o[L+3][s+1],P[t]=n*p+M*r;return P}:function(P,s,L,M,v){P||(P=[]);var p,r,t,o,n=1-M;for(t=0;t<V.length;t++)o=V[t],p=o[L+1][s]-o[L][s],r=o[L+1][s+1]-o[L][s+1],P[t]=n*p+M*r;return P}}},29056:function(Y){Y.exports=function(V,e,b,P,s){var L=e-2,M=b-2;return P&&s?function(v,p,r){v||(v=[]);var t,o,n,l,u,f,g=Math.max(0,Math.min(Math.floor(p),L)),h=Math.max(0,Math.min(Math.floor(r),M)),w=Math.max(0,Math.min(1,p-g)),c=Math.max(0,Math.min(1,r-h));g*=3,h*=3;var a=w*w,d=a*w,x=1-w,T=x*x,C=T*x,y=c*c,S=y*c,A=1-c,i=A*A,E=i*A;for(f=0;f<V.length;f++)u=V[f],t=C*u[h][g]+3*(T*w*u[h][g+1]+x*a*u[h][g+2])+d*u[h][g+3],o=C*u[h+1][g]+3*(T*w*u[h+1][g+1]+x*a*u[h+1][g+2])+d*u[h+1][g+3],n=C*u[h+2][g]+3*(T*w*u[h+2][g+1]+x*a*u[h+2][g+2])+d*u[h+2][g+3],l=C*u[h+3][g]+3*(T*w*u[h+3][g+1]+x*a*u[h+3][g+2])+d*u[h+3][g+3],v[f]=E*t+3*(i*c*o+A*y*n)+S*l;return v}:P?function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),L)),o=Math.max(0,Math.min(Math.floor(r),M)),n=Math.max(0,Math.min(1,p-t)),l=Math.max(0,Math.min(1,r-o)),u,f,g,h,w,c;t*=3;var a=n*n,d=a*n,x=1-n,T=x*x,C=T*x,y=1-l;for(w=0;w<V.length;w++)c=V[w],u=y*c[o][t]+l*c[o+1][t],f=y*c[o][t+1]+l*c[o+1][t+1],g=y*c[o][t+2]+l*c[o+1][t+1],h=y*c[o][t+3]+l*c[o+1][t+1],v[w]=C*u+3*(T*n*f+x*a*g)+d*h;return v}:s?function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),L)),o=Math.max(0,Math.min(Math.floor(r),M)),n=Math.max(0,Math.min(1,p-t)),l=Math.max(0,Math.min(1,r-o)),u,f,g,h,w,c;o*=3;var a=l*l,d=a*l,x=1-l,T=x*x,C=T*x,y=1-n;for(w=0;w<V.length;w++)c=V[w],u=y*c[o][t]+n*c[o][t+1],f=y*c[o+1][t]+n*c[o+1][t+1],g=y*c[o+2][t]+n*c[o+2][t+1],h=y*c[o+3][t]+n*c[o+3][t+1],v[w]=C*u+3*(T*l*f+x*a*g)+d*h;return v}:function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),L)),o=Math.max(0,Math.min(Math.floor(r),M)),n=Math.max(0,Math.min(1,p-t)),l=Math.max(0,Math.min(1,r-o)),u,f,g,h,w=1-l,c=1-n;for(g=0;g<V.length;g++)h=V[g],u=c*h[o][t]+n*h[o][t+1],f=c*h[o+1][t]+n*h[o+1][t+1],v[g]=w*u+l*f;return v}}},38356:function(Y,V,e){var b=e(3400),P=e(86411),s=e(93504),L=e(85720),M=e(22548);Y.exports=function(p,r,t,o){function n(f,g){return b.coerce(p,r,L,f,g)}r._clipPathId="clip"+r.uid+"carpet";var l=n("color",M.defaultLine);if(b.coerceFont(n,"font",o.font),n("carpet"),s(p,r,o,n,l),!r.a||!r.b){r.visible=!1;return}r.a.length<3&&(r.aaxis.smoothing=0),r.b.length<3&&(r.baxis.smoothing=0);var u=P(p,r,n);u||(r.visible=!1),r._cheater&&n("cheaterslope"),n("zorder")}},95856:function(Y,V,e){Y.exports={attributes:e(85720),supplyDefaults:e(38356),plot:e(164),calc:e(58744),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},50948:function(Y){Y.exports=function(V,e){for(var b=V._fullData.length,P,s=0;s<b;s++){var L=V._fullData[s];if(L.index!==e.index&&L.type==="carpet"&&(P||(P=L),L.carpet===e.carpet))return L}return P}},53416:function(Y){Y.exports=function(e,b,P){if(e.length===0)return"";var s,L=[],M=P?3:1;for(s=0;s<e.length;s+=M)L.push(e[s]+","+b[s]),P&&s<e.length-M&&(L.push("C"),L.push([e[s+1]+","+b[s+1],e[s+2]+","+b[s+2]+" "].join(" ")));return L.join(P?"":"L")}},87072:function(Y,V,e){var b=e(3400).isArrayOrTypedArray;Y.exports=function(s,L,M){var v;for(b(s)?s.length>L.length&&(s=s.slice(0,L.length)):s=[],v=0;v<L.length;v++)s[v]=M(L[v]);return s}},15584:function(Y){Y.exports=function(e,b,P,s,L,M){var v=L[0]*e.dpdx(b),p=L[1]*e.dpdy(P),r=1,t=1;if(M){var o=Math.sqrt(L[0]*L[0]+L[1]*L[1]),n=Math.sqrt(M[0]*M[0]+M[1]*M[1]),l=(L[0]*M[0]+L[1]*M[1])/o/n;t=Math.max(0,l)}var u=Math.atan2(p,v)*180/Math.PI;return u<-90?(u+=180,r=-r):u>90&&(u-=180,r=-r),{angle:u,flip:r,p:e.c2p(s,b,P),offsetMultplier:t}}},164:function(Y,V,e){var b=e(33428),P=e(43616),s=e(87072),L=e(53416),M=e(15584),v=e(72736),p=e(3400),r=p.strRotate,t=p.strTranslate,o=e(84284);Y.exports=function(a,d,x,T){var C=a._context.staticPlot,y=d.xaxis,S=d.yaxis,A=a._fullLayout,i=A._clips;p.makeTraceGroups(T,x,"trace").each(function(E){var m=b.select(this),k=E[0],I=k.trace,O=I.aaxis,_=I.baxis,B=p.ensureSingle(m,"g","minorlayer"),F=p.ensureSingle(m,"g","majorlayer"),z=p.ensureSingle(m,"g","boundarylayer"),N=p.ensureSingle(m,"g","labellayer");m.style("opacity",I.opacity),l(y,S,F,O,"a",O._gridlines,!0),l(y,S,F,_,"b",_._gridlines,!0),l(y,S,B,O,"a",O._minorgridlines,!0),l(y,S,B,_,"b",_._minorgridlines,!0),l(y,S,z,O,"a-boundary",O._boundarylines,C),l(y,S,z,_,"b-boundary",_._boundarylines,C);var W=u(a,y,S,I,k,N,O._labels,"a-label"),Z=u(a,y,S,I,k,N,_._labels,"b-label");f(a,N,I,k,y,S,W,Z),n(I,k,i,y,S)})};function n(c,a,d,x,T){var C,y,S,A,i=d.select("#"+c._clipPathId);i.size()||(i=d.append("clipPath").classed("carpetclip",!0));var E=p.ensureSingle(i,"path","carpetboundary"),m=a.clipsegments,k=[];for(A=0;A<m.length;A++)C=m[A],y=s([],C.x,x.c2p),S=s([],C.y,T.c2p),k.push(L(y,S,C.bicubic));var I="M"+k.join("L")+"Z";i.attr("id",c._clipPathId),E.attr("d",I)}function l(c,a,d,x,T,C,y){var S="const-"+T+"-lines",A=d.selectAll("."+S).data(C);A.enter().append("path").classed(S,!0).style("vector-effect",y?"none":"non-scaling-stroke"),A.each(function(i){var E=i,m=E.x,k=E.y,I=s([],m,c.c2p),O=s([],k,a.c2p),_="M"+L(I,O,E.smoothing),B=b.select(this);B.attr("d",_).style("stroke-width",E.width).style("stroke",E.color).style("stroke-dasharray",P.dashStyle(E.dash,E.width)).style("fill","none")}),A.exit().remove()}function u(c,a,d,x,T,C,y,S){var A=C.selectAll("text."+S).data(y);A.enter().append("text").classed(S,!0);var i=0,E={};return A.each(function(m,k){var I;if(m.axis.tickangle==="auto")I=M(x,a,d,m.xy,m.dxy);else{var O=(m.axis.tickangle+180)*Math.PI/180;I=M(x,a,d,m.xy,[Math.cos(O),Math.sin(O)])}k||(E={angle:I.angle,flip:I.flip});var _=(m.endAnchor?-1:1)*I.flip,B=b.select(this).attr({"text-anchor":_>0?"start":"end","data-notex":1}).call(P.font,m.font).text(m.text).call(v.convertToTspans,c),F=P.bBox(this);B.attr("transform",t(I.p[0],I.p[1])+r(I.angle)+t(m.axis.labelpadding*_,F.height*.3)),i=Math.max(i,F.width+m.axis.labelpadding)}),A.exit().remove(),E.maxExtent=i,E}function f(c,a,d,x,T,C,y,S){var A,i,E,m,k=p.aggNums(Math.min,null,d.a),I=p.aggNums(Math.max,null,d.a),O=p.aggNums(Math.min,null,d.b),_=p.aggNums(Math.max,null,d.b);A=.5*(k+I),i=O,E=d.ab2xy(A,i,!0),m=d.dxyda_rough(A,i),y.angle===void 0&&p.extendFlat(y,M(d,T,C,E,d.dxydb_rough(A,i))),w(c,a,d,x,E,m,d.aaxis,T,C,y,"a-title"),A=k,i=.5*(O+_),E=d.ab2xy(A,i,!0),m=d.dxydb_rough(A,i),S.angle===void 0&&p.extendFlat(S,M(d,T,C,E,d.dxyda_rough(A,i))),w(c,a,d,x,E,m,d.baxis,T,C,S,"b-title")}var g=o.LINE_SPACING,h=(1-o.MID_SHIFT)/g+1;function w(c,a,d,x,T,C,y,S,A,i,E){var m=[];y.title.text&&m.push(y.title.text);var k=a.selectAll("text."+E).data(m),I=i.maxExtent;k.enter().append("text").classed(E,!0),k.each(function(){var O=M(d,S,A,T,C);["start","both"].indexOf(y.showticklabels)===-1&&(I=0);var _=y.title.font.size;I+=_+y.title.offset;var B=i.angle+(i.flip<0?180:0),F=(B-O.angle+450)%360,z=F>90&&F<270,N=b.select(this);N.text(y.title.text).call(v.convertToTspans,c),z&&(I=(-v.lineCount(N)+h)*g*_-I),N.attr("transform",t(O.p[0],O.p[1])+r(O.angle)+t(0,I)).attr("text-anchor","middle").call(P.font,y.title.font)}),k.exit().remove()}},81e3:function(Y,V,e){var b=e(24588),P=e(14952).findBin,s=e(30180),L=e(29056),M=e(26435),v=e(24464);Y.exports=function(r){var t=r._a,o=r._b,n=t.length,l=o.length,u=r.aaxis,f=r.baxis,g=t[0],h=t[n-1],w=o[0],c=o[l-1],a=t[t.length-1]-t[0],d=o[o.length-1]-o[0],x=a*b.RELATIVE_CULL_TOLERANCE,T=d*b.RELATIVE_CULL_TOLERANCE;g-=x,h+=x,w-=T,c+=T,r.isVisible=function(C,y){return C>g&&C<h&&y>w&&y<c},r.isOccluded=function(C,y){return C<g||C>h||y<w||y>c},r.setScale=function(){var C=r._x,y=r._y,S=s(r._xctrl,r._yctrl,C,y,u.smoothing,f.smoothing);r._xctrl=S[0],r._yctrl=S[1],r.evalxy=L([r._xctrl,r._yctrl],n,l,u.smoothing,f.smoothing),r.dxydi=M([r._xctrl,r._yctrl],u.smoothing,f.smoothing),r.dxydj=v([r._xctrl,r._yctrl],u.smoothing,f.smoothing)},r.i2a=function(C){var y=Math.max(0,Math.floor(C[0]),n-2),S=C[0]-y;return(1-S)*t[y]+S*t[y+1]},r.j2b=function(C){var y=Math.max(0,Math.floor(C[1]),n-2),S=C[1]-y;return(1-S)*o[y]+S*o[y+1]},r.ij2ab=function(C){return[r.i2a(C[0]),r.j2b(C[1])]},r.a2i=function(C){var y=Math.max(0,Math.min(P(C,t),n-2)),S=t[y],A=t[y+1];return Math.max(0,Math.min(n-1,y+(C-S)/(A-S)))},r.b2j=function(C){var y=Math.max(0,Math.min(P(C,o),l-2)),S=o[y],A=o[y+1];return Math.max(0,Math.min(l-1,y+(C-S)/(A-S)))},r.ab2ij=function(C){return[r.a2i(C[0]),r.b2j(C[1])]},r.i2c=function(C,y){return r.evalxy([],C,y)},r.ab2xy=function(C,y,S){if(!S&&(C<t[0]||C>t[n-1]|y<o[0]||y>o[l-1]))return[!1,!1];var A=r.a2i(C),i=r.b2j(y),E=r.evalxy([],A,i);if(S){var m=0,k=0,I=[],O,_,B,F;C<t[0]?(O=0,_=0,m=(C-t[0])/(t[1]-t[0])):C>t[n-1]?(O=n-2,_=1,m=(C-t[n-1])/(t[n-1]-t[n-2])):(O=Math.max(0,Math.min(n-2,Math.floor(A))),_=A-O),y<o[0]?(B=0,F=0,k=(y-o[0])/(o[1]-o[0])):y>o[l-1]?(B=l-2,F=1,k=(y-o[l-1])/(o[l-1]-o[l-2])):(B=Math.max(0,Math.min(l-2,Math.floor(i))),F=i-B),m&&(r.dxydi(I,O,B,_,F),E[0]+=I[0]*m,E[1]+=I[1]*m),k&&(r.dxydj(I,O,B,_,F),E[0]+=I[0]*k,E[1]+=I[1]*k)}return E},r.c2p=function(C,y,S){return[y.c2p(C[0]),S.c2p(C[1])]},r.p2x=function(C,y,S){return[y.p2c(C[0]),S.p2c(C[1])]},r.dadi=function(C){var y=Math.max(0,Math.min(t.length-2,C));return t[y+1]-t[y]},r.dbdj=function(C){var y=Math.max(0,Math.min(o.length-2,C));return o[y+1]-o[y]},r.dxyda=function(C,y,S,A){var i=r.dxydi(null,C,y,S,A),E=r.dadi(C,S);return[i[0]/E,i[1]/E]},r.dxydb=function(C,y,S,A){var i=r.dxydj(null,C,y,S,A),E=r.dbdj(y,A);return[i[0]/E,i[1]/E]},r.dxyda_rough=function(C,y,S){var A=a*(S||.1),i=r.ab2xy(C+A,y,!0),E=r.ab2xy(C-A,y,!0);return[(i[0]-E[0])*.5/A,(i[1]-E[1])*.5/A]},r.dxydb_rough=function(C,y,S){var A=d*(S||.1),i=r.ab2xy(C,y+A,!0),E=r.ab2xy(C,y-A,!0);return[(i[0]-E[0])*.5/A,(i[1]-E[1])*.5/A]},r.dpdx=function(C){return C._m},r.dpdy=function(C){return C._m}}},51512:function(Y,V,e){var b=e(3400);Y.exports=function(s,L,M){var v,p,r,t=[],o=[],n=s[0].length,l=s.length;function u(Z,q){var re=0,le,ie=0;return Z>0&&(le=s[q][Z-1])!==void 0&&(ie++,re+=le),Z<n-1&&(le=s[q][Z+1])!==void 0&&(ie++,re+=le),q>0&&(le=s[q-1][Z])!==void 0&&(ie++,re+=le),q<l-1&&(le=s[q+1][Z])!==void 0&&(ie++,re+=le),re/Math.max(1,ie)}var f=0;for(v=0;v<n;v++)for(p=0;p<l;p++)s[p][v]===void 0&&(t.push(v),o.push(p),s[p][v]=u(v,p)),f=Math.max(f,Math.abs(s[p][v]));if(!t.length)return s;var g,h,w,c,a,d,x,T,C,y,S,A=1e-5,i=0,E=100,m=0,k=t.length;do{for(i=0,r=0;r<k;r++){v=t[r],p=o[r];var I=0,O=0,_,B,F,z,N,W;v===0?(N=Math.min(n-1,2),F=L[N],z=L[1],_=s[p][N],B=s[p][1],O+=B+(B-_)*(L[0]-z)/(z-F),I++):v===n-1&&(N=Math.max(0,n-3),F=L[N],z=L[n-2],_=s[p][N],B=s[p][n-2],O+=B+(B-_)*(L[n-1]-z)/(z-F),I++),(v===0||v===n-1)&&p>0&&p<l-1&&(g=M[p+1]-M[p],h=M[p]-M[p-1],O+=(h*s[p+1][v]+g*s[p-1][v])/(h+g),I++),p===0?(W=Math.min(l-1,2),F=M[W],z=M[1],_=s[W][v],B=s[1][v],O+=B+(B-_)*(M[0]-z)/(z-F),I++):p===l-1&&(W=Math.max(0,l-3),F=M[W],z=M[l-2],_=s[W][v],B=s[l-2][v],O+=B+(B-_)*(M[l-1]-z)/(z-F),I++),(p===0||p===l-1)&&v>0&&v<n-1&&(g=L[v+1]-L[v],h=L[v]-L[v-1],O+=(h*s[p][v+1]+g*s[p][v-1])/(h+g),I++),I?O/=I:(w=L[v+1]-L[v],c=L[v]-L[v-1],a=M[p+1]-M[p],d=M[p]-M[p-1],x=w*c*(w+c),T=a*d*(a+d),O=(x*(d*s[p+1][v]+a*s[p-1][v])+T*(c*s[p][v+1]+w*s[p][v-1]))/(T*(c+w)+x*(d+a))),C=O-s[p][v],y=C/f,i+=y*y,S=I?0:.85,s[p][v]+=C*(1+S)}i=Math.sqrt(i)}while(m++<E&&i>A);return b.log("Smoother converged to",i,"after",m,"iterations"),s}},86411:function(Y,V,e){var b=e(3400).isArray1D;Y.exports=function(s,L,M){var v=M("x"),p=v&&v.length,r=M("y"),t=r&&r.length;if(!p&&!t)return!1;if(L._cheater=!v,(!p||b(v))&&(!t||b(r))){var o=p?v.length:1/0;t&&(o=Math.min(o,r.length)),L.a&&L.a.length&&(o=Math.min(o,L.a.length)),L.b&&L.b.length&&(o=Math.min(o,L.b.length)),L._length=o}else L._length=null;return!0}},83372:function(Y,V,e){var b=e(21776).Ks,P=e(6096),s=e(49084),L=e(45464),M=e(22548).defaultLine,v=e(92880).extendFlat,p=P.marker.line;Y.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:P.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},P.geojson,{}),featureidkey:P.featureidkey,text:v({},P.text,{}),hovertext:v({},P.hovertext,{}),marker:{line:{color:v({},p.color,{dflt:M}),width:v({},p.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:P.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:P.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},L.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:b(),showlegend:v({},L.showlegend,{dflt:!1})},s("",{cLetter:"z",editTypeOverride:"calc"}))},7924:function(Y,V,e){var b=e(38248),P=e(39032).BADNUM,s=e(47128),L=e(20148),M=e(4500);function v(p){return p&&typeof p=="string"}Y.exports=function(r,t){var o=t._length,n=new Array(o),l;t.geojson?l=function(w){return v(w)||b(w)}:l=v;for(var u=0;u<o;u++){var f=n[u]={},g=t.locations[u],h=t.z[u];l(g)&&b(h)?(f.loc=g,f.z=h):(f.loc=null,f.z=P),f.index=u}return L(n,t),s(r,t,{vals:t.z,containerStr:"",cLetter:"z"}),M(n,t),n}},30972:function(Y,V,e){var b=e(3400),P=e(27260),s=e(83372);Y.exports=function(M,v,p,r){function t(h,w){return b.coerce(M,v,s,h,w)}var o=t("locations"),n=t("z");if(!(o&&o.length&&b.isArrayOrTypedArray(n)&&n.length)){v.visible=!1;return}v._length=Math.min(o.length,n.length);var l=t("geojson"),u;(typeof l=="string"&&l!==""||b.isPlainObject(l))&&(u="geojson-id");var f=t("locationmode",u);f==="geojson-id"&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate");var g=t("marker.line.width");g&&t("marker.line.color"),t("marker.opacity"),P(M,v,r,t,{prefix:"",cLetter:"z"}),b.coerceSelectionMarkerOpacity(v,t)}},52428:function(Y){Y.exports=function(e,b,P,s,L){e.location=b.location,e.z=b.z;var M=s[L];return M.fIn&&M.fIn.properties&&(e.properties=M.fIn.properties),e.ct=M.ct,e}},69224:function(Y,V,e){var b=e(54460),P=e(83372),s=e(3400).fillText;Y.exports=function(v,p,r){var t=v.cd,o=t[0].trace,n=v.subplot,l,u,f,g,h=[p,r],w=[p+360,r];for(u=0;u<t.length;u++)if(l=t[u],g=!1,l._polygons){for(f=0;f<l._polygons.length;f++)l._polygons[f].contains(h)&&(g=!g),l._polygons[f].contains(w)&&(g=!g);if(g)break}if(!(!g||!l))return v.x0=v.x1=v.xa.c2p(l.ct),v.y0=v.y1=v.ya.c2p(l.ct),v.index=l.index,v.location=l.loc,v.z=l.z,v.zLabel=b.tickText(n.mockAxis,n.mockAxis.c2l(l.z),"hover").text,v.hovertemplate=l.hovertemplate,L(v,o,l),[v]};function L(M,v,p){if(!v.hovertemplate){var r=p.hi||v.hoverinfo,t=String(p.loc),o=r==="all"?P.hoverinfo.flags:r.split("+"),n=o.indexOf("name")!==-1,l=o.indexOf("location")!==-1,u=o.indexOf("z")!==-1,f=o.indexOf("text")!==-1,g=!n&&l,h=[];g?M.nameOverride=t:(n&&(M.nameOverride=v.name),l&&h.push(t)),u&&h.push(M.zLabel),f&&s(p,v,h),M.extraText=h.join("<br>")}}},54272:function(Y,V,e){Y.exports={attributes:e(83372),supplyDefaults:e(30972),colorbar:e(96288),calc:e(7924),calcGeoJSON:e(88364).calcGeoJSON,plot:e(88364).plot,style:e(7947).style,styleOnSelect:e(7947).styleOnSelect,hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),moduleType:"trace",name:"choropleth",basePlotModule:e(10816),categories:["geo","noOpacity","showLegend"],meta:{}}},88364:function(Y,V,e){var b=e(33428),P=e(3400),s=e(27144),L=e(59972).getTopojsonFeatures,M=e(19280).findExtremes,v=e(7947).style;function p(t,o,n){var l=o.layers.backplot.select(".choroplethlayer");P.makeTraceGroups(l,n,"trace choropleth").each(function(u){var f=b.select(this),g=f.selectAll("path.choroplethlocation").data(P.identity);g.enter().append("path").classed("choroplethlocation",!0),g.exit().remove(),v(t,u)})}function r(t,o){for(var n=t[0].trace,l=o[n.geo],u=l._subplot,f=n.locationmode,g=n._length,h=f==="geojson-id"?s.extractTraceFeature(t):L(n,u.topojson),w=[],c=[],a=0;a<g;a++){var d=t[a],x=f==="geojson-id"?d.fOut:s.locationToFeature(f,d.loc,h);if(x){d.geojson=x,d.ct=x.properties.ct,d._polygons=s.feature2polygons(x);var T=s.computeBbox(x);w.push(T[0],T[2]),c.push(T[1],T[3])}else d.geojson=null}if(l.fitbounds==="geojson"&&f==="geojson-id"){var C=s.computeBbox(s.getTraceGeojson(n));w=[C[0],C[2]],c=[C[1],C[3]]}var y={padded:!0};n._extremes.lon=M(l.lonaxis._ax,w,y),n._extremes.lat=M(l.lataxis._ax,c,y)}Y.exports={calcGeoJSON:r,plot:p}},17328:function(Y){Y.exports=function(e,b){var P=e.cd,s=e.xaxis,L=e.yaxis,M=[],v,p,r,t,o;if(b===!1)for(v=0;v<P.length;v++)P[v].selected=0;else for(v=0;v<P.length;v++)p=P[v],r=p.ct,r&&(t=s.c2p(r),o=L.c2p(r),b.contains([t,o],null,v,e)?(M.push({pointNumber:v,lon:r[0],lat:r[1]}),p.selected=1):p.selected=0);return M}},7947:function(Y,V,e){var b=e(33428),P=e(76308),s=e(43616),L=e(8932);function M(r,t){t&&v(r,t)}function v(r,t){var o=t[0].trace,n=t[0].node3,l=n.selectAll(".choroplethlocation"),u=o.marker||{},f=u.line||{},g=L.makeColorScaleFuncFromTrace(o);l.each(function(h){b.select(this).attr("fill",g(h.z)).call(P.stroke,h.mlc||f.color).call(s.dashLine,"",h.mlw||f.width||0).style("opacity",u.opacity)}),s.selectedPointStyle(l,o)}function p(r,t){var o=t[0].node3,n=t[0].trace;n.selectedpoints?s.selectedPointStyle(o.selectAll(".choroplethlocation"),n):v(r,t)}Y.exports={style:M,styleOnSelect:p}},45608:function(Y,V,e){var b=e(83372),P=e(49084),s=e(21776).Ks,L=e(45464),M=e(92880).extendFlat;Y.exports=M({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:M({},b.featureidkey,{}),below:{valType:"string",editType:"plot"},text:b.text,hovertext:b.hovertext,marker:{line:{color:M({},b.marker.line.color,{editType:"plot"}),width:M({},b.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:M({},b.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:M({},b.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:M({},b.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:b.hoverinfo,hovertemplate:s({},{keys:["properties"]}),showlegend:M({},L.showlegend,{dflt:!1})},P("",{cLetter:"z",editTypeOverride:"calc"}))},13504:function(Y,V,e){var b=e(38248),P=e(3400),s=e(8932),L=e(43616),M=e(44808).makeBlank,v=e(27144);function p(t){var o=t[0].trace,n=o.visible===!0&&o._length!==0,l={layout:{visibility:"none"},paint:{}},u={layout:{visibility:"none"},paint:{}},f=o._opts={fill:l,line:u,geojson:M()};if(!n)return f;var g=v.extractTraceFeature(t);if(!g)return f;var h=s.makeColorScaleFuncFromTrace(o),w=o.marker,c=w.line||{},a;P.isArrayOrTypedArray(w.opacity)&&(a=function(i){var E=i.mo;return b(E)?+P.constrain(E,0,1):0});var d;P.isArrayOrTypedArray(c.color)&&(d=function(i){return i.mlc});var x;P.isArrayOrTypedArray(c.width)&&(x=function(i){return i.mlw});for(var T=0;T<t.length;T++){var C=t[T],y=C.fOut;if(y){var S=y.properties;S.fc=h(C.z),a&&(S.mo=a(C)),d&&(S.mlc=d(C)),x&&(S.mlw=x(C)),C.ct=S.ct,C._polygons=v.feature2polygons(y)}}var A=a?{type:"identity",property:"mo"}:w.opacity;return P.extendFlat(l.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":A}),P.extendFlat(u.paint,{"line-color":d?{type:"identity",property:"mlc"}:c.color,"line-width":x?{type:"identity",property:"mlw"}:c.width,"line-opacity":A}),l.layout.visibility="visible",u.layout.visibility="visible",f.geojson={type:"FeatureCollection",features:g},r(t),f}function r(t){var o=t[0].trace,n=o._opts,l;if(o.selectedpoints){for(var u=L.makeSelectedPointStyleFns(o),f=0;f<t.length;f++){var g=t[f];g.fOut&&(g.fOut.properties.mo2=u.selectedOpacityFn(g))}l={type:"identity",property:"mo2"}}else l=P.isArrayOrTypedArray(o.marker.opacity)?{type:"identity",property:"mo"}:o.marker.opacity;return P.extendFlat(n.fill.paint,{"fill-opacity":l}),P.extendFlat(n.line.paint,{"line-opacity":l}),n}Y.exports={convert:p,convertOnSelect:r}},9352:function(Y,V,e){var b=e(3400),P=e(27260),s=e(45608);Y.exports=function(M,v,p,r){function t(f,g){return b.coerce(M,v,s,f,g)}var o=t("locations"),n=t("z"),l=t("geojson");if(!b.isArrayOrTypedArray(o)||!o.length||!b.isArrayOrTypedArray(n)||!n.length||!(typeof l=="string"&&l!==""||b.isPlainObject(l))){v.visible=!1;return}t("featureidkey"),v._length=Math.min(o.length,n.length),t("below"),t("text"),t("hovertext"),t("hovertemplate");var u=t("marker.line.width");u&&t("marker.line.color"),t("marker.opacity"),P(M,v,r,t,{prefix:"",cLetter:"z"}),b.coerceSelectionMarkerOpacity(v,t)}},85404:function(Y,V,e){Y.exports={attributes:e(45608),supplyDefaults:e(9352),colorbar:e(96288),calc:e(7924),plot:e(61288),hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),styleOnSelect:function(b,P){if(P){var s=P[0].trace;s._glTrace.updateOnSelect(P)}},getBelow:function(b,P){for(var s=P.getMapLayers(),L=s.length-2;L>=0;L--){var M=s[L].id;if(typeof M=="string"&&M.indexOf("water")===0){for(var v=L+1;v<s.length;v++)if(M=s[v].id,typeof M=="string"&&M.indexOf("plotly-")===-1)return M}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(33688),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},61288:function(Y,V,e){var b=e(13504).convert,P=e(13504).convertOnSelect,s=e(47552).traceLayerPrefix;function L(v,p){this.type="choroplethmapbox",this.subplot=v,this.uid=p,this.sourceId="source-"+p,this.layerList=[["fill",s+p+"-fill"],["line",s+p+"-line"]],this.below=null}var M=L.prototype;M.update=function(v){this._update(b(v)),v[0].trace._glTrace=this},M.updateOnSelect=function(v){this._update(P(v))},M._update=function(v){var p=this.subplot,r=this.layerList,t=p.belowLookup["trace-"+this.uid];p.map.getSource(this.sourceId).setData(v.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(v,t),this.below=t);for(var o=0;o<r.length;o++){var n=r[o],l=n[0],u=n[1],f=v[l];p.setOptions(u,"setLayoutProperty",f.layout),f.layout.visibility==="visible"&&p.setOptions(u,"setPaintProperty",f.paint)}},M._addLayers=function(v,p){for(var r=this.subplot,t=this.layerList,o=this.sourceId,n=0;n<t.length;n++){var l=t[n],u=l[0],f=v[u];r.addLayer({type:u,id:l[1],source:o,layout:f.layout,paint:f.paint},p)}},M._removeLayers=function(){for(var v=this.subplot.map,p=this.layerList,r=p.length-1;r>=0;r--)v.removeLayer(p[r][1])},M.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},Y.exports=function(p,r){var t=r[0].trace,o=new L(p,t.uid),n=o.sourceId,l=b(r),u=o.below=p.belowLookup["trace-"+t.uid];return p.map.addSource(n,{type:"geojson",data:l.geojson}),o._addLayers(l,u),r[0].trace._glTrace=o,o}},86040:function(Y,V,e){var b=e(49084),P=e(29736).axisHoverFormat,s=e(21776).Ks,L=e(52948),M=e(45464),v=e(92880).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute","raw"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:s({editType:"calc"},{keys:["norm"]}),uhoverformat:P("u",1),vhoverformat:P("v",1),whoverformat:P("w",1),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),showlegend:v({},M.showlegend,{dflt:!1})};v(p,b("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){p[t]=L[t]}),p.hoverinfo=v({},M.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,Y.exports=p},83344:function(Y,V,e){var b=e(47128);Y.exports=function(s,L){for(var M=L.u,v=L.v,p=L.w,r=Math.min(L.x.length,L.y.length,L.z.length,M.length,v.length,p.length),t=-1/0,o=1/0,n=0;n<r;n++){var l=M[n],u=v[n],f=p[n],g=Math.sqrt(l*l+u*u+f*f);t=Math.max(t,g),o=Math.min(o,g)}L._len=r,L._normMax=t,b(s,L,{vals:[o,t],containerStr:"",cLetter:"c"})}},6648:function(Y,V,e){var b=e(67792).gl_cone3d,P=e(67792).gl_cone3d.createConeMesh,s=e(3400).simpleMap,L=e(33040).parseColorScale,M=e(8932).extractOpts,v=e(3400).isArrayOrTypedArray,p=e(52094);function r(g,h){this.scene=g,this.uid=h,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(g){if(g.object===this.mesh){var h=g.index=g.data.index,w=this.data.x[h],c=this.data.y[h],a=this.data.z[h],d=this.data.u[h],x=this.data.v[h],T=this.data.w[h];g.traceCoordinate=[w,c,a,d,x,T,Math.sqrt(d*d+x*x+T*T)];var C=this.data.hovertext||this.data.text;return v(C)&&C[h]!==void 0?g.textLabel=C[h]:C&&(g.textLabel=C),!0}};var o={xaxis:0,yaxis:1,zaxis:2},n={tip:1,tail:0,cm:.25,center:.5},l={tip:1,tail:1,cm:.75,center:.5};function u(g,h){var w=g.fullSceneLayout,c=g.dataScale,a={};function d(S,A){var i=w[A],E=c[o[A]];return s(S,function(m){return i.d2l(m)*E})}a.vectors=p(d(h.u,"xaxis"),d(h.v,"yaxis"),d(h.w,"zaxis"),h._len),a.positions=p(d(h.x,"xaxis"),d(h.y,"yaxis"),d(h.z,"zaxis"),h._len);var x=M(h);a.colormap=L(h),a.vertexIntensityBounds=[x.min/h._normMax,x.max/h._normMax],a.coneOffset=n[h.anchor];var T=h.sizemode;T==="scaled"?a.coneSize=h.sizeref||.5:T==="absolute"?a.coneSize=h.sizeref&&h._normMax?h.sizeref/h._normMax:.5:T==="raw"&&(a.coneSize=h.sizeref),a.coneSizemode=T;var C=b(a),y=h.lightposition;return C.lightPosition=[y.x,y.y,y.z],C.ambient=h.lighting.ambient,C.diffuse=h.lighting.diffuse,C.specular=h.lighting.specular,C.roughness=h.lighting.roughness,C.fresnel=h.lighting.fresnel,C.opacity=h.opacity,h._pad=l[h.anchor]*C.vectorScale*C.coneScale*h._normMax,C}t.update=function(g){this.data=g;var h=u(this.scene,g);this.mesh.update(h)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function f(g,h){var w=g.glplot.gl,c=u(g,h),a=P(w,c),d=new r(g,h.uid);return d.mesh=a,d.data=h,a._trace=d,g.glplot.add(a),d}Y.exports=f},86096:function(Y,V,e){var b=e(3400),P=e(27260),s=e(86040);Y.exports=function(M,v,p,r){function t(w,c){return b.coerce(M,v,s,w,c)}var o=t("u"),n=t("v"),l=t("w"),u=t("x"),f=t("y"),g=t("z");if(!o||!o.length||!n||!n.length||!l||!l.length||!u||!u.length||!f||!f.length||!g||!g.length){v.visible=!1;return}var h=t("sizemode");t("sizeref",h==="raw"?1:.5),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),P(M,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},26048:function(Y,V,e){Y.exports={moduleType:"trace",name:"cone",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(86040),supplyDefaults:e(86096),colorbar:{min:"cmin",max:"cmax"},calc:e(83344),plot:e(6648),eventData:function(b,P){return b.norm=P.traceCoordinate[6],b},meta:{}}},67104:function(Y,V,e){var b=e(83328),P=e(52904),s=e(29736),L=s.axisHoverFormat,M=s.descriptionOnlyNumbers,v=e(49084),p=e(98192).u,r=e(25376),t=e(92880).extendFlat,o=e(69104),n=o.COMPARISON_OPS2,l=o.INTERVAL_OPS,u=P.line;Y.exports=t({z:b.z,x:b.x,x0:b.x0,dx:b.dx,y:b.y,y0:b.y0,dy:b.dy,xperiod:b.xperiod,yperiod:b.yperiod,xperiod0:P.xperiod0,yperiod0:P.yperiod0,xperiodalignment:b.xperiodalignment,yperiodalignment:b.yperiodalignment,text:b.text,hovertext:b.hovertext,transpose:b.transpose,xtype:b.xtype,ytype:b.ytype,xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:b.hovertemplate,texttemplate:t({},b.texttemplate,{}),textfont:t({},b.textfont,{}),hoverongaps:b.hoverongaps,connectgaps:t({},b.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:r({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:M("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(l),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:t({},u.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:p,smoothing:t({},u.smoothing,{}),editType:"plot"},zorder:P.zorder},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},20688:function(Y,V,e){var b=e(8932),P=e(19512),s=e(54444),L=e(46960);Y.exports=function(v,p){var r=P(v,p),t=r[0].z;s(p,t);var o=p.contours,n=b.extractOpts(p),l;if(o.coloring==="heatmap"&&n.auto&&p.autocontour===!1){var u=o.start,f=L(o),g=o.size||1,h=Math.floor((f-u)/g)+1;isFinite(g)||(g=1,h=1);var w=u-g/2,c=w+h*g;l=[w,c]}else l=t;return b.calc(v,p,{vals:l,cLetter:"z"}),r}},56008:function(Y){Y.exports=function(V,e){var b=V[0],P=b.z,s;switch(e.type){case"levels":var L=Math.min(P[0][0],P[0][1]);for(s=0;s<V.length;s++){var M=V[s];M.prefixBoundary=!M.edgepaths.length&&(L>M.level||M.starts.length&&L===M.level)}break;case"constraint":if(b.prefixBoundary=!1,b.edgepaths.length)return;var v=b.x.length,p=b.y.length,r=-1/0,t=1/0;for(s=0;s<p;s++)t=Math.min(t,P[s][0]),t=Math.min(t,P[s][v-1]),r=Math.max(r,P[s][0]),r=Math.max(r,P[s][v-1]);for(s=1;s<v-1;s++)t=Math.min(t,P[0][s]),t=Math.min(t,P[p-1][s]),r=Math.max(r,P[0][s]),r=Math.max(r,P[p-1][s]);var o=e.value,n,l;switch(e._operation){case">":o>r&&(b.prefixBoundary=!0);break;case"<":(o<t||b.starts.length&&o===t)&&(b.prefixBoundary=!0);break;case"[]":n=Math.min(o[0],o[1]),l=Math.max(o[0],o[1]),(l<t||n>r||b.starts.length&&l===t)&&(b.prefixBoundary=!0);break;case"][":n=Math.min(o[0],o[1]),l=Math.max(o[0],o[1]),n<t&&l>r&&(b.prefixBoundary=!0);break}break}}},55296:function(Y,V,e){var b=e(8932),P=e(41076),s=e(46960);function L(M,v,p){var r=v.contours,t=v.line,o=r.size||1,n=r.coloring,l=P(v,{isColorbar:!0});if(n==="heatmap"){var u=b.extractOpts(v);p._fillgradient=u.reversescale?b.flipScale(u.colorscale):u.colorscale,p._zrange=[u.min,u.max]}else n==="fill"&&(p._fillcolor=l);p._line={color:n==="lines"?l:t.color,width:r.showlines!==!1?t.width:0,dash:t.dash},p._levels={start:r.start,end:s(r),size:o}}Y.exports={min:"zmin",max:"zmax",calc:L}},93252:function(Y){Y.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},95536:function(Y,V,e){var b=e(38248),P=e(17428),s=e(76308),L=s.addOpacity,M=s.opacity,v=e(69104),p=e(3400).isArrayOrTypedArray,r=v.CONSTRAINT_REDUCTION,t=v.COMPARISON_OPS2;Y.exports=function(l,u,f,g,h,w){var c=u.contours,a,d,x,T=f("contours.operation");if(c._operation=r[T],o(f,c),T==="="?a=c.showlines=!0:(a=f("contours.showlines"),x=f("fillcolor",L((l.line||{}).color||h,.5))),a){var C=x&&M(x)?L(u.fillcolor,1):h;d=f("line.color",C),f("line.width",2),f("line.dash")}f("line.smoothing"),P(f,g,d,w)};function o(n,l){var u;t.indexOf(l.operation)===-1?(n("contours.value",[0,1]),p(l.value)?l.value.length>2?l.value=l.value.slice(2):l.length===0?l.value=[0,1]:l.length<2?(u=parseFloat(l.value[0]),l.value=[u,u+1]):l.value=[parseFloat(l.value[0]),parseFloat(l.value[1])]:b(l.value)&&(u=parseFloat(l.value),l.value=[u,u+1])):(n("contours.value",0),b(l.value)||(p(l.value)?l.value=parseFloat(l.value[0]):l.value=0))}},3212:function(Y,V,e){var b=e(69104),P=e(38248);Y.exports={"[]":L("[]"),"][":L("]["),">":M(">"),"<":M("<"),"=":M("=")};function s(v,p){var r=Array.isArray(p),t;function o(n){return P(n)?+n:null}return b.COMPARISON_OPS2.indexOf(v)!==-1?t=o(r?p[0]:p):b.INTERVAL_OPS.indexOf(v)!==-1?t=r?[o(p[0]),o(p[1])]:[o(p),o(p)]:b.SET_OPS.indexOf(v)!==-1&&(t=r?p.map(o):[o(p)]),t}function L(v){return function(p){p=s(v,p);var r=Math.min(p[0],p[1]),t=Math.max(p[0],p[1]);return{start:r,end:t,size:t-r}}}function M(v){return function(p){return p=s(v,p),{start:p,end:1/0,size:1/0}}}},84952:function(Y){Y.exports=function(e,b,P,s){var L=s("contours.start"),M=s("contours.end"),v=L===!1||M===!1,p=P("contours.size"),r;v?r=b.autocontour=!0:r=P("autocontour",!1),(r||!p)&&P("ncontours")}},82172:function(Y,V,e){var b=e(3400);Y.exports=function(s,L){var M,v,p,r=function(n){return n.reverse()},t=function(n){return n};switch(L){case"=":case"<":return s;case">":for(s.length!==1&&b.warn("Contour data invalid for the specified inequality operation."),v=s[0],M=0;M<v.edgepaths.length;M++)v.edgepaths[M]=r(v.edgepaths[M]);for(M=0;M<v.paths.length;M++)v.paths[M]=r(v.paths[M]);for(M=0;M<v.starts.length;M++)v.starts[M]=r(v.starts[M]);return s;case"][":var o=r;r=t,t=o;case"[]":for(s.length!==2&&b.warn("Contour data invalid for the specified inequality range operation."),v=P(s[0]),p=P(s[1]),M=0;M<v.edgepaths.length;M++)v.edgepaths[M]=r(v.edgepaths[M]);for(M=0;M<v.paths.length;M++)v.paths[M]=r(v.paths[M]);for(M=0;M<v.starts.length;M++)v.starts[M]=r(v.starts[M]);for(;p.edgepaths.length;)v.edgepaths.push(t(p.edgepaths.shift()));for(;p.paths.length;)v.paths.push(t(p.paths.shift()));for(;p.starts.length;)v.starts.push(t(p.starts.shift()));return[v]}};function P(s){return b.extendFlat({},s,{edgepaths:b.extendDeep([],s.edgepaths),paths:b.extendDeep([],s.paths),starts:b.extendDeep([],s.starts)})}},57004:function(Y,V,e){var b=e(3400),P=e(51264),s=e(31147),L=e(95536),M=e(84952),v=e(97680),p=e(39096),r=e(67104);Y.exports=function(o,n,l,u){function f(c,a){return b.coerce(o,n,r,c,a)}function g(c){return b.coerce2(o,n,r,c)}var h=P(o,n,f,u);if(!h){n.visible=!1;return}s(o,n,u,f),f("xhoverformat"),f("yhoverformat"),f("text"),f("hovertext"),f("hoverongaps"),f("hovertemplate");var w=f("contours.type")==="constraint";f("connectgaps",b.isArray1D(n.z)),w?L(o,n,f,u,l):(M(o,n,f,g),v(o,n,f,u)),n.contours&&n.contours.coloring==="heatmap"&&p(f,u),f("zorder")}},61512:function(Y,V,e){var b=e(3400),P=e(3212),s=e(46960);Y.exports=function(M,v,p){for(var r=M.type==="constraint"?P[M._operation](M.value):M,t=r.size,o=[],n=s(r),l=p.trace._carpetTrace,u=l?{xaxis:l.aaxis,yaxis:l.baxis,x:p.a,y:p.b}:{xaxis:v.xaxis,yaxis:v.yaxis,x:p.x,y:p.y},f=r.start;f<n;f+=t)if(o.push(b.extendFlat({level:f,crossings:{},starts:[],edgepaths:[],paths:[],z:p.z,smoothing:p.trace.line.smoothing},u)),o.length>1e3){b.warn("Too many contours, clipping at 1000",M);break}return o}},46960:function(Y){Y.exports=function(e){return e.end+e.size/1e6}},88748:function(Y,V,e){var b=e(3400),P=e(93252);Y.exports=function(t,o,n){var l,u,f,g,h;for(o=o||.01,n=n||.01,f=0;f<t.length;f++){for(g=t[f],h=0;h<g.starts.length;h++)u=g.starts[h],M(g,u,"edge",o,n);for(l=0;Object.keys(g.crossings).length&&l<1e4;)l++,u=Object.keys(g.crossings)[0].split(",").map(Number),M(g,u,void 0,o,n);l===1e4&&b.log("Infinite loop in contour?")}};function s(r,t,o,n){return Math.abs(r[0]-t[0])<o&&Math.abs(r[1]-t[1])<n}function L(r,t){var o=r[2]-t[2],n=r[3]-t[3];return Math.sqrt(o*o+n*n)}function M(r,t,o,n,l){var u=t.join(","),f=r.crossings[u],g=v(f,o,t),h=[p(r,t,[-g[0],-g[1]])],w=r.z.length,c=r.z[0].length,a=t.slice(),d=g.slice(),x;for(x=0;x<1e4;x++){if(f>20?(f=P.CHOOSESADDLE[f][(g[0]||g[1])<0?0:1],r.crossings[u]=P.SADDLEREMAINDER[f]):delete r.crossings[u],g=P.NEWDELTA[f],!g){b.log("Found bad marching index:",f,t,r.level);break}h.push(p(r,t,g)),t[0]+=g[0],t[1]+=g[1],u=t.join(","),s(h[h.length-1],h[h.length-2],n,l)&&h.pop();var T=g[0]&&(t[0]<0||t[0]>c-2)||g[1]&&(t[1]<0||t[1]>w-2),C=t[0]===a[0]&&t[1]===a[1]&&g[0]===d[0]&&g[1]===d[1];if(C||o&&T)break;f=r.crossings[u]}x===1e4&&b.log("Infinite loop in contour?");var y=s(h[0],h[h.length-1],n,l),S=0,A=.2*r.smoothing,i=[],E=0,m,k,I,O,_,B,F,z,N,W,Z;for(x=1;x<h.length;x++)F=L(h[x],h[x-1]),S+=F,i.push(F);var q=S/i.length*A;function re(K){return h[K%h.length]}for(x=h.length-2;x>=E;x--)if(m=i[x],m<q){for(I=0,k=x-1;k>=E&&m+i[k]<q;k--)m+=i[k];if(y&&x===h.length-2)for(I=0;I<k&&m+i[I]<q;I++)m+=i[I];_=x-k+I+1,B=Math.floor((x+k+I+2)/2),!y&&x===h.length-2?O=h[h.length-1]:!y&&k===-1?O=h[0]:_%2?O=re(B):O=[(re(B)[0]+re(B+1)[0])/2,(re(B)[1]+re(B+1)[1])/2],h.splice(k+1,x-k+1,O),x=k+1,I&&(E=I),y&&(x===h.length-2?h[I]=h[h.length-1]:x===0&&(h[h.length-1]=h[0]))}for(h.splice(0,E),x=0;x<h.length;x++)h[x].length=2;if(!(h.length<2))if(y)h.pop(),r.paths.push(h);else{o||b.log("Unclosed interior contour?",r.level,a.join(","),h.join("L"));var le=!1;for(z=0;z<r.edgepaths.length;z++)if(W=r.edgepaths[z],!le&&s(W[0],h[h.length-1],n,l)){h.pop(),le=!0;var ie=!1;for(N=0;N<r.edgepaths.length;N++)if(Z=r.edgepaths[N],s(Z[Z.length-1],h[0],n,l)){ie=!0,h.shift(),r.edgepaths.splice(z,1),N===z?r.paths.push(h.concat(Z)):(N>z&&N--,r.edgepaths[N]=Z.concat(h,W));break}ie||(r.edgepaths[z]=h.concat(W))}for(z=0;z<r.edgepaths.length&&!le;z++)W=r.edgepaths[z],s(W[W.length-1],h[0],n,l)&&(h.shift(),r.edgepaths[z]=W.concat(h),le=!0);le||r.edgepaths.push(h)}}function v(r,t,o){var n=0,l=0;return r>20&&t?r===208||r===1114?n=o[0]===0?1:-1:l=o[1]===0?1:-1:P.BOTTOMSTART.indexOf(r)!==-1?l=1:P.LEFTSTART.indexOf(r)!==-1?n=1:P.TOPSTART.indexOf(r)!==-1?l=-1:n=-1,[n,l]}function p(r,t,o){var n=t[0]+Math.max(o[0],0),l=t[1]+Math.max(o[1],0),u=r.z[l][n],f=r.xaxis,g=r.yaxis;if(o[1]){var h=(r.level-u)/(r.z[l][n+1]-u),w=(h!==1?(1-h)*f.c2l(r.x[n]):0)+(h!==0?h*f.c2l(r.x[n+1]):0);return[f.c2p(f.l2c(w),!0),g.c2p(r.y[l],!0),n+h,l]}else{var c=(r.level-u)/(r.z[l+1][n]-u),a=(c!==1?(1-c)*g.c2l(r.y[l]):0)+(c!==0?c*g.c2l(r.y[l+1]):0);return[f.c2p(r.x[n],!0),g.c2p(g.l2c(a),!0),n,l+c]}}},38200:function(Y,V,e){var b=e(76308),P=e(55512);Y.exports=function(L,M,v,p,r){r||(r={}),r.isContour=!0;var t=P(L,M,v,p,r);return t&&t.forEach(function(o){var n=o.trace;n.contours.type==="constraint"&&(n.fillcolor&&b.opacity(n.fillcolor)?o.color=b.addOpacity(n.fillcolor,1):n.contours.showlines&&b.opacity(n.line.color)&&(o.color=b.addOpacity(n.line.color,1)))}),t}},66240:function(Y,V,e){Y.exports={attributes:e(67104),supplyDefaults:e(57004),calc:e(20688),plot:e(23676).plot,style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"contour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},17428:function(Y,V,e){var b=e(3400);Y.exports=function(s,L,M,v){v||(v={});var p=s("contours.showlabels");if(p){var r=L.font;b.coerceFont(s,"contours.labelfont",r,{overrideDflt:{color:M}}),s("contours.labelformat")}v.hasHover!==!1&&s("zhoverformat")}},41076:function(Y,V,e){var b=e(33428),P=e(8932),s=e(46960);Y.exports=function(M){var v=M.contours,p=v.start,r=s(v),t=v.size||1,o=Math.floor((r-p)/t)+1,n=v.coloring==="lines"?0:1,l=P.extractOpts(M);isFinite(t)||(t=1,o=1);var u=l.reversescale?P.flipScale(l.colorscale):l.colorscale,f=u.length,g=new Array(f),h=new Array(f),w,c,a=l.min,d=l.max;if(v.coloring==="heatmap"){for(c=0;c<f;c++)w=u[c],g[c]=w[0]*(d-a)+a,h[c]=w[1];var x=b.extent([a,d,v.start,v.start+t*(o-1)]),T=x[a<d?0:1],C=x[a<d?1:0];T!==a&&(g.splice(0,0,T),h.splice(0,0,h[0])),C!==d&&(g.push(C),h.push(h[h.length-1]))}else{var y=M._input&&typeof M._input.zmin=="number"&&typeof M._input.zmax=="number";for(y&&(p<=a||r>=d)&&(p<=a&&(p=a),r>=d&&(r=d),o=Math.floor((r-p)/t)+1,n=0),c=0;c<f;c++)w=u[c],g[c]=(w[0]*(o+n-1)-n/2)*t+p,h[c]=w[1];(y||M.autocontour)&&(g[0]>a&&(g.unshift(a),h.unshift(h[0])),g[g.length-1]<d&&(g.push(d),h.push(h[h.length-1])))}return P.makeColorScaleFunc({domain:g,range:h},{noNumericCheck:!0})}},72424:function(Y,V,e){var b=e(93252);Y.exports=function(L){var M=L[0].z,v=M.length,p=M[0].length,r=v===2||p===2,t,o,n,l,u,f,g,h,w;for(o=0;o<v-1;o++)for(l=[],o===0&&(l=l.concat(b.BOTTOMSTART)),o===v-2&&(l=l.concat(b.TOPSTART)),t=0;t<p-1;t++)for(n=l.slice(),t===0&&(n=n.concat(b.LEFTSTART)),t===p-2&&(n=n.concat(b.RIGHTSTART)),u=t+","+o,f=[[M[o][t],M[o][t+1]],[M[o+1][t],M[o+1][t+1]]],w=0;w<L.length;w++)h=L[w],g=P(h.level,f),g&&(h.crossings[u]=g,n.indexOf(g)!==-1&&(h.starts.push([t,o]),r&&n.indexOf(g,n.indexOf(g)+1)!==-1&&h.starts.push([t,o])))};function P(s,L){var M=(L[0][0]>s?0:1)+(L[0][1]>s?0:2)+(L[1][1]>s?0:4)+(L[1][0]>s?0:8);if(M===5||M===10){var v=(L[0][0]+L[0][1]+L[1][0]+L[1][1])/4;return s>v?M===5?713:1114:M===5?104:208}return M===15?0:M}},23676:function(Y,V,e){var b=e(33428),P=e(3400),s=e(43616),L=e(8932),M=e(72736),v=e(54460),p=e(78344),r=e(41420),t=e(72424),o=e(88748),n=e(61512),l=e(82172),u=e(56008),f=e(93252),g=f.LABELOPTIMIZER;V.plot=function(y,S,A,i){var E=S.xaxis,m=S.yaxis;P.makeTraceGroups(i,A,"contour").each(function(k){var I=b.select(this),O=k[0],_=O.trace,B=O.x,F=O.y,z=_.contours,N=n(z,S,O),W=P.ensureSingle(I,"g","heatmapcoloring"),Z=[];z.coloring==="heatmap"&&(Z=[k]),r(y,S,Z,W),t(N),o(N);var q=E.c2p(B[0],!0),re=E.c2p(B[B.length-1],!0),le=m.c2p(F[0],!0),ie=m.c2p(F[F.length-1],!0),K=[[q,ie],[re,ie],[re,le],[q,le]],$=N;z.type==="constraint"&&($=l(N,z._operation)),h(I,K,z),w(I,$,K,z),a(I,N,y,O,z),x(I,S,y,O,K)})};function h(C,y,S){var A=P.ensureSingle(C,"g","contourbg"),i=A.selectAll("path").data(S.coloring==="fill"?[0]:[]);i.enter().append("path"),i.exit().remove(),i.attr("d","M"+y.join("L")+"Z").style("stroke","none")}function w(C,y,S,A){var i=A.coloring==="fill"||A.type==="constraint"&&A._operation!=="=",E="M"+S.join("L")+"Z";i&&u(y,A);var m=P.ensureSingle(C,"g","contourfill"),k=m.selectAll("path").data(i?y:[]);k.enter().append("path"),k.exit().remove(),k.each(function(I){var O=(I.prefixBoundary?E:"")+c(I,S);O?b.select(this).attr("d",O).style("stroke","none"):b.select(this).remove()})}function c(C,y){var S="",A=0,i=C.edgepaths.map(function(q,re){return re}),E=!0,m,k,I,O,_,B;function F(q){return Math.abs(q[1]-y[0][1])<.01}function z(q){return Math.abs(q[1]-y[2][1])<.01}function N(q){return Math.abs(q[0]-y[0][0])<.01}function W(q){return Math.abs(q[0]-y[2][0])<.01}for(;i.length;){for(B=s.smoothopen(C.edgepaths[A],C.smoothing),S+=E?B:B.replace(/^M/,"L"),i.splice(i.indexOf(A),1),m=C.edgepaths[A][C.edgepaths[A].length-1],O=-1,I=0;I<4;I++){if(!m){P.log("Missing end?",A,C);break}for(F(m)&&!W(m)?k=y[1]:N(m)?k=y[0]:z(m)?k=y[3]:W(m)&&(k=y[2]),_=0;_<C.edgepaths.length;_++){var Z=C.edgepaths[_][0];Math.abs(m[0]-k[0])<.01?Math.abs(m[0]-Z[0])<.01&&(Z[1]-m[1])*(k[1]-Z[1])>=0&&(k=Z,O=_):Math.abs(m[1]-k[1])<.01?Math.abs(m[1]-Z[1])<.01&&(Z[0]-m[0])*(k[0]-Z[0])>=0&&(k=Z,O=_):P.log("endpt to newendpt is not vert. or horz.",m,k,Z)}if(m=k,O>=0)break;S+="L"+k}if(O===C.edgepaths.length){P.log("unclosed perimeter path");break}A=O,E=i.indexOf(A)===-1,E&&(A=i[0],S+="Z")}for(A=0;A<C.paths.length;A++)S+=s.smoothclosed(C.paths[A],C.smoothing);return S}function a(C,y,S,A,i){var E=S._context.staticPlot,m=P.ensureSingle(C,"g","contourlines"),k=i.showlines!==!1,I=i.showlabels,O=k&&I,_=V.createLines(m,k||I,y,E),B=V.createLineClip(m,O,S,A.trace.uid),F=C.selectAll("g.contourlabels").data(I?[0]:[]);if(F.exit().remove(),F.enter().append("g").classed("contourlabels",!0),I){var z=[],N=[];P.clearLocationCache();var W=V.labelFormatter(S,A),Z=s.tester.append("text").attr("data-notex",1).call(s.font,i.labelfont),q=y[0].xaxis,re=y[0].yaxis,le=q._length,ie=re._length,K=q.range,$=re.range,X=P.aggNums(Math.min,null,A.x),Q=P.aggNums(Math.max,null,A.x),se=P.aggNums(Math.min,null,A.y),J=P.aggNums(Math.max,null,A.y),G=Math.max(q.c2p(X,!0),0),oe=Math.min(q.c2p(Q,!0),le),te=Math.max(re.c2p(J,!0),0),fe=Math.min(re.c2p(se,!0),ie),ge={};K[0]<K[1]?(ge.left=G,ge.right=oe):(ge.left=oe,ge.right=G),$[0]<$[1]?(ge.top=te,ge.bottom=fe):(ge.top=fe,ge.bottom=te),ge.middle=(ge.top+ge.bottom)/2,ge.center=(ge.left+ge.right)/2,z.push([[ge.left,ge.top],[ge.right,ge.top],[ge.right,ge.bottom],[ge.left,ge.bottom]]);var we=Math.sqrt(le*le+ie*ie),xe=f.LABELDISTANCE*we/Math.max(1,y.length/f.LABELINCREASE);_.each(function(Ce){var De=V.calcTextOpts(Ce.level,W,Z,S);b.select(this).selectAll("path").each(function(){var Oe=this,Te=P.getVisibleSegment(Oe,ge,De.height/2);if(Te&&!(Te.len<(De.width+De.height)*f.LABELMIN))for(var Re=Math.min(Math.ceil(Te.len/xe),f.LABELMAX),Me=0;Me<Re;Me++){var ke=V.findBestTextLocation(Oe,Te,De,N,ge);if(!ke)break;V.addLabelData(ke,De,N,z)}})}),Z.remove(),V.drawLabels(F,N,S,B,O?z:null)}I&&!k&&_.remove()}V.createLines=function(C,y,S,A){var i=S[0].smoothing,E=C.selectAll("g.contourlevel").data(y?S:[]);if(E.exit().remove(),E.enter().append("g").classed("contourlevel",!0),y){var m=E.selectAll("path.openline").data(function(I){return I.pedgepaths||I.edgepaths});m.exit().remove(),m.enter().append("path").classed("openline",!0),m.attr("d",function(I){return s.smoothopen(I,i)}).style("stroke-miterlimit",1).style("vector-effect",A?"none":"non-scaling-stroke");var k=E.selectAll("path.closedline").data(function(I){return I.ppaths||I.paths});k.exit().remove(),k.enter().append("path").classed("closedline",!0),k.attr("d",function(I){return s.smoothclosed(I,i)}).style("stroke-miterlimit",1).style("vector-effect",A?"none":"non-scaling-stroke")}return E},V.createLineClip=function(C,y,S,A){var i=S._fullLayout._clips,E=y?"clipline"+A:null,m=i.selectAll("#"+E).data(y?[0]:[]);return m.exit().remove(),m.enter().append("clipPath").classed("contourlineclip",!0).attr("id",E),s.setClipUrl(C,E,S),m},V.labelFormatter=function(C,y){var S=C._fullLayout,A=y.trace,i=A.contours,E={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(i.labelformat)E.tickformat=i.labelformat,p(E,S);else{var m=L.extractOpts(A);if(m&&m.colorbar&&m.colorbar._axis)E=m.colorbar._axis;else{if(i.type==="constraint"){var k=i.value;P.isArrayOrTypedArray(k)?E.range=[k[0],k[k.length-1]]:E.range=[k,k]}else E.range=[i.start,i.end],E.nticks=(i.end-i.start)/i.size;E.range[0]===E.range[1]&&(E.range[1]+=E.range[0]||1),E.nticks||(E.nticks=1e3),p(E,S),v.prepTicks(E),E._tmin=null,E._tmax=null}}return function(I){return v.tickText(E,I).text}},V.calcTextOpts=function(C,y,S,A){var i=y(C);S.text(i).call(M.convertToTspans,A);var E=S.node(),m=s.bBox(E,!0);return{text:i,width:m.width,height:m.height,fontSize:+E.style["font-size"].replace("px",""),level:C,dy:(m.top+m.bottom)/2}},V.findBestTextLocation=function(C,y,S,A,i){var E=S.width,m,k,I,O,_;y.isClosed?(k=y.len/g.INITIALSEARCHPOINTS,m=y.min+k/2,I=y.max):(k=(y.len-E)/(g.INITIALSEARCHPOINTS+1),m=y.min+k+E/2,I=y.max-(k+E)/2);for(var B=1/0,F=0;F<g.ITERATIONS;F++){for(var z=m;z<I;z+=k){var N=P.getTextLocation(C,y.total,z,E),W=d(N,S,A,i);W<B&&(B=W,_=N,O=z)}if(B>g.MAXCOST*2)break;F&&(k/=2),m=O-k/2,I=m+k*1.5}if(B<=g.MAXCOST)return _};function d(C,y,S,A){var i=y.width/2,E=y.height/2,m=C.x,k=C.y,I=C.theta,O=Math.cos(I)*i,_=Math.sin(I)*i,B=(m>A.center?A.right-m:m-A.left)/(O+Math.abs(Math.sin(I)*E)),F=(k>A.middle?A.bottom-k:k-A.top)/(Math.abs(_)+Math.cos(I)*E);if(B<1||F<1)return 1/0;var z=g.EDGECOST*(1/(B-1)+1/(F-1));z+=g.ANGLECOST*I*I;for(var N=m-O,W=k-_,Z=m+O,q=k+_,re=0;re<S.length;re++){var le=S[re],ie=Math.cos(le.theta)*le.width/2,K=Math.sin(le.theta)*le.width/2,$=P.segmentDistance(N,W,Z,q,le.x-ie,le.y-K,le.x+ie,le.y+K)*2/(y.height+le.height),X=le.level===y.level,Q=X?g.SAMELEVELDISTANCE:1;if($<=Q)return 1/0;var se=g.NEIGHBORCOST*(X?g.SAMELEVELFACTOR:1);z+=se/($-Q)}return z}V.addLabelData=function(C,y,S,A){var i=y.fontSize,E=y.width+i/3,m=Math.max(0,y.height-i/3),k=C.x,I=C.y,O=C.theta,_=Math.sin(O),B=Math.cos(O),F=function(N,W){return[k+N*B-W*_,I+N*_+W*B]},z=[F(-E/2,-m/2),F(-E/2,m/2),F(E/2,m/2),F(E/2,-m/2)];S.push({text:y.text,x:k,y:I,dy:y.dy,theta:O,level:y.level,width:E,height:m}),A.push(z)},V.drawLabels=function(C,y,S,A,i){var E=C.selectAll("text").data(y,function(O){return O.text+","+O.x+","+O.y+","+O.theta});if(E.exit().remove(),E.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(O){var _=O.x+Math.sin(O.theta)*O.dy,B=O.y-Math.cos(O.theta)*O.dy;b.select(this).text(O.text).attr({x:_,y:B,transform:"rotate("+180*O.theta/Math.PI+" "+_+" "+B+")"}).call(M.convertToTspans,S)}),i){for(var m="",k=0;k<i.length;k++)m+="M"+i[k].join("L")+"Z";var I=P.ensureSingle(A,"path","");I.attr("d",m)}};function x(C,y,S,A,i){var E=A.trace,m=S._fullLayout._clips,k="clip"+E.uid,I=m.selectAll("#"+k).data(E.connectgaps?[]:[0]);if(I.enter().append("clipPath").classed("contourclip",!0).attr("id",k),I.exit().remove(),E.connectgaps===!1){var O={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:y.xaxis,yaxis:y.yaxis,x:A.x,y:A.y,z:T(A),smoothing:0};t([O]),o([O]),u([O],{type:"levels"});var _=P.ensureSingle(I,"path","");_.attr("d",(O.prefixBoundary?"M"+i.join("L")+"Z":"")+c(O,i))}else k=null;s.setClipUrl(C,k,S)}function T(C){var y=C.trace._emptypoints,S=[],A=C.z.length,i=C.z[0].length,E,m=[],k;for(E=0;E<i;E++)m.push(1);for(E=0;E<A;E++)S.push(m.slice());for(E=0;E<y.length;E++)k=y[E],S[k[0]][k[1]]=0;return C.zmask=S,S}},54444:function(Y,V,e){var b=e(54460),P=e(3400);Y.exports=function(M,v){var p=M.contours;if(M.autocontour){var r=M.zmin,t=M.zmax;(M.zauto||r===void 0)&&(r=P.aggNums(Math.min,null,v)),(M.zauto||t===void 0)&&(t=P.aggNums(Math.max,null,v));var o=s(r,t,M.ncontours);p.size=o.dtick,p.start=b.tickFirst(o),o.range.reverse(),p.end=b.tickFirst(o),p.start===r&&(p.start+=p.size),p.end===t&&(p.end-=p.size),p.start>p.end&&(p.start=p.end=(p.start+p.end)/2),M._input.contours||(M._input.contours={}),P.extendFlat(M._input.contours,{start:p.start,end:p.end,size:p.size}),M._input.autocontour=!0}else if(p.type!=="constraint"){var n=p.start,l=p.end,u=M._input.contours;if(n>l&&(p.start=u.start=l,l=p.end=u.end=n,n=p.start),!(p.size>0)){var f;n===l?f=1:f=s(n,l,M.ncontours).dtick,u.size=p.size=f}}};function s(L,M,v){var p={type:"linear",range:[L,M]};return b.autoTicks(p,(M-L)/(v||15)),p}},52440:function(Y,V,e){var b=e(33428),P=e(43616),s=e(41648),L=e(41076);Y.exports=function(v){var p=b.select(v).selectAll("g.contour");p.style("opacity",function(r){return r[0].trace.opacity}),p.each(function(r){var t=b.select(this),o=r[0].trace,n=o.contours,l=o.line,u=n.size||1,f=n.start,g=n.type==="constraint",h=!g&&n.coloring==="lines",w=!g&&n.coloring==="fill",c=h||w?L(o):null;t.selectAll("g.contourlevel").each(function(x){b.select(this).selectAll("path").call(P.lineGroupStyle,l.width,h?c(x.level):l.color,l.dash)});var a=n.labelfont;if(t.selectAll("g.contourlabels text").each(function(x){P.font(b.select(this),{weight:a.weight,style:a.style,variant:a.variant,textcase:a.textcase,lineposition:a.lineposition,shadow:a.shadow,family:a.family,size:a.size,color:a.color||(h?c(x.level):l.color)})}),g)t.selectAll("g.contourfill path").style("fill",o.fillcolor);else if(w){var d;t.selectAll("g.contourfill path").style("fill",function(x){return d===void 0&&(d=x.level),c(x.level+.5*u)}),d===void 0&&(d=f),t.selectAll("g.contourbg path").style("fill",c(d-.5*u))}}),s(v)}},97680:function(Y,V,e){var b=e(27260),P=e(17428);Y.exports=function(L,M,v,p,r){var t=v("contours.coloring"),o,n="";t==="fill"&&(o=v("contours.showlines")),o!==!1&&(t!=="lines"&&(n=v("line.color","#000")),v("line.width",.5),v("line.dash")),t!=="none"&&(L.showlegend!==!0&&(M.showlegend=!1),M._dfltShowLegend=!1,b(L,M,p,v,{prefix:"",cLetter:"z"})),v("line.smoothing"),P(v,p,n,r)}},37960:function(Y,V,e){var b=e(83328),P=e(67104),s=e(49084),L=e(92880).extendFlat,M=P.contours;Y.exports=L({carpet:{valType:"string",editType:"calc"},z:b.z,a:b.x,a0:b.x0,da:b.dx,b:b.y,b0:b.y0,db:b.dy,text:b.text,hovertext:b.hovertext,transpose:b.transpose,atype:b.xtype,btype:b.ytype,fillcolor:P.fillcolor,autocontour:P.autocontour,ncontours:P.ncontours,contours:{type:M.type,start:M.start,end:M.end,size:M.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:M.showlines,showlabels:M.showlabels,labelfont:M.labelfont,labelformat:M.labelformat,operation:M.operation,value:M.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:P.line.color,width:P.line.width,dash:P.line.dash,smoothing:P.line.smoothing,editType:"plot"},zorder:P.zorder,transforms:void 0},s("",{cLetter:"z",autoColorDflt:!1}))},30572:function(Y,V,e){var b=e(47128),P=e(3400),s=e(2872),L=e(26136),M=e(70448),v=e(11240),p=e(35744),r=e(3252),t=e(50948),o=e(54444);Y.exports=function(u,f){var g=f._carpetTrace=t(u,f);if(!(!g||!g.visible||g.visible==="legendonly")){if(!f.a||!f.b){var h=u.data[g.index],w=u.data[f.index];w.a||(w.a=h.a),w.b||(w.b=h.b),r(w,f,f._defaultColor,u._fullLayout)}var c=n(u,f);return o(f,f._z),c}};function n(l,u){var f=u._carpetTrace,g=f.aaxis,h=f.baxis,w,c,a,d,x,T,C;g._minDtick=0,h._minDtick=0,P.isArray1D(u.z)&&s(u,g,h,"a","b",["z"]),w=u._a=u._a||u.a,d=u._b=u._b||u.b,w=w?g.makeCalcdata(u,"_a"):[],d=d?h.makeCalcdata(u,"_b"):[],c=u.a0||0,a=u.da||1,x=u.b0||0,T=u.db||1,C=u._z=L(u._z||u.z,u.transpose),u._emptypoints=v(C),M(C,u._emptypoints);var y=P.maxRowLength(C),S=u.xtype==="scaled"?"":w,A=p(u,S,c,a,y,g),i=u.ytype==="scaled"?"":d,E=p(u,i,x,T,C.length,h),m={a:A,b:E,z:C};return u.contours.type==="levels"&&u.contours.coloring!=="none"&&b(l,u,{vals:C,containerStr:"",cLetter:"z"}),[m]}},3252:function(Y,V,e){var b=e(3400),P=e(51264),s=e(37960),L=e(95536),M=e(84952),v=e(97680);Y.exports=function(r,t,o,n){function l(h,w){return b.coerce(r,t,s,h,w)}function u(h){return b.coerce2(r,t,s,h)}if(l("carpet"),r.a&&r.b){var f=P(r,t,l,n,"a","b");if(!f){t.visible=!1;return}l("text");var g=l("contours.type")==="constraint";g?L(r,t,l,n,o,{hasHover:!1}):(M(r,t,l,u),v(r,t,l,n,{hasHover:!1}))}else t._defaultColor=o,t._length=null;l("zorder")}},40448:function(Y,V,e){Y.exports={attributes:e(37960),supplyDefaults:e(3252),colorbar:e(55296),calc:e(30572),plot:e(94440),style:e(52440),moduleType:"trace",name:"contourcarpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},94440:function(Y,V,e){var b=e(33428),P=e(87072),s=e(53416),L=e(43616),M=e(3400),v=e(72424),p=e(88748),r=e(23676),t=e(93252),o=e(82172),n=e(61512),l=e(56008),u=e(50948),f=e(77712);Y.exports=function(S,A,i,E){var m=A.xaxis,k=A.yaxis;M.makeTraceGroups(E,i,"contour").each(function(I){var O=b.select(this),_=I[0],B=_.trace,F=B._carpetTrace=u(S,B),z=S.calcdata[F.index][0];if(!F.visible||F.visible==="legendonly")return;var N=_.a,W=_.b,Z=B.contours,q=n(Z,A,_),re=Z.type==="constraint",le=Z._operation,ie=re?le==="="?"lines":"fill":Z.coloring;function K(we){var xe=F.ab2xy(we[0],we[1],!0);return[m.c2p(xe[0]),k.c2p(xe[1])]}var $=[[N[0],W[W.length-1]],[N[N.length-1],W[W.length-1]],[N[N.length-1],W[0]],[N[0],W[0]]];v(q);var X=(N[N.length-1]-N[0])*1e-8,Q=(W[W.length-1]-W[0])*1e-8;p(q,X,Q);var se=q;Z.type==="constraint"&&(se=o(q,le)),g(q,K);var J,G,oe,te,fe=[];for(te=z.clipsegments.length-1;te>=0;te--)J=z.clipsegments[te],G=P([],J.x,m.c2p),oe=P([],J.y,k.c2p),G.reverse(),oe.reverse(),fe.push(s(G,oe,J.bicubic));var ge="M"+fe.join("L")+"Z";x(O,z.clipsegments,m,k,re,ie),T(B,O,m,k,se,$,K,F,z,ie,ge),h(O,q,S,_,Z,A,F),L.setClipUrl(O,F._clipPathId,S)})};function g(y,S){var A,i,E,m,k,I,O,_,B;for(A=0;A<y.length;A++){for(m=y[A],k=m.pedgepaths=[],I=m.ppaths=[],i=0;i<m.edgepaths.length;i++){for(B=m.edgepaths[i],O=[],E=0;E<B.length;E++)O[E]=S(B[E]);k.push(O)}for(i=0;i<m.paths.length;i++){for(B=m.paths[i],_=[],E=0;E<B.length;E++)_[E]=S(B[E]);I.push(_)}}}function h(y,S,A,i,E,m,k){var I=A._context.staticPlot,O=M.ensureSingle(y,"g","contourlines"),_=E.showlines!==!1,B=E.showlabels,F=_&&B,z=r.createLines(O,_||B,S,I),N=r.createLineClip(O,F,A,i.trace.uid),W=y.selectAll("g.contourlabels").data(B?[0]:[]);if(W.exit().remove(),W.enter().append("g").classed("contourlabels",!0),B){var Z=m.xaxis,q=m.yaxis,re=Z._length,le=q._length,ie=[[[0,0],[re,0],[re,le],[0,le]]],K=[];M.clearLocationCache();var $=r.labelFormatter(A,i),X=L.tester.append("text").attr("data-notex",1).call(L.font,E.labelfont),Q={left:0,right:re,center:re/2,top:0,bottom:le,middle:le/2},se=Math.sqrt(re*re+le*le),J=t.LABELDISTANCE*se/Math.max(1,S.length/t.LABELINCREASE);z.each(function(G){var oe=r.calcTextOpts(G.level,$,X,A);b.select(this).selectAll("path").each(function(te){var fe=this,ge=M.getVisibleSegment(fe,Q,oe.height/2);if(ge&&(w(fe,te,G,ge,k,oe.height),!(ge.len<(oe.width+oe.height)*t.LABELMIN)))for(var we=Math.min(Math.ceil(ge.len/J),t.LABELMAX),xe=0;xe<we;xe++){var Ce=r.findBestTextLocation(fe,ge,oe,K,Q);if(!Ce)break;r.addLabelData(Ce,oe,K,ie)}})}),X.remove(),r.drawLabels(W,K,A,N,F?ie:null)}B&&!_&&z.remove()}function w(y,S,A,i,E,m){for(var k,I=0;I<A.pedgepaths.length;I++)S===A.pedgepaths[I]&&(k=A.edgepaths[I]);if(!k)return;var O=E.a[0],_=E.a[E.a.length-1],B=E.b[0],F=E.b[E.b.length-1];function z(re,le){var ie=0,K,$=.1;return(Math.abs(re[0]-O)<$||Math.abs(re[0]-_)<$)&&(K=a(E.dxydb_rough(re[0],re[1],$)),ie=Math.max(ie,m*d(le,K)/2)),(Math.abs(re[1]-B)<$||Math.abs(re[1]-F)<$)&&(K=a(E.dxyda_rough(re[0],re[1],$)),ie=Math.max(ie,m*d(le,K)/2)),ie}var N=c(y,0,1),W=c(y,i.total,i.total-1),Z=z(k[0],N),q=i.total-z(k[k.length-1],W);i.min<Z&&(i.min=Z),i.max>q&&(i.max=q),i.len=i.max-i.min}function c(y,S,A){var i=y.getPointAtLength(S),E=y.getPointAtLength(A),m=E.x-i.x,k=E.y-i.y,I=Math.sqrt(m*m+k*k);return[m/I,k/I]}function a(y){var S=Math.sqrt(y[0]*y[0]+y[1]*y[1]);return[y[0]/S,y[1]/S]}function d(y,S){var A=Math.abs(y[0]*S[0]+y[1]*S[1]),i=Math.sqrt(1-A*A);return i/A}function x(y,S,A,i,E,m){var k,I,O,_,B=M.ensureSingle(y,"g","contourbg"),F=B.selectAll("path").data(m==="fill"&&!E?[0]:[]);F.enter().append("path"),F.exit().remove();var z=[];for(_=0;_<S.length;_++)k=S[_],I=P([],k.x,A.c2p),O=P([],k.y,i.c2p),z.push(s(I,O,k.bicubic));F.attr("d","M"+z.join("L")+"Z").style("stroke","none")}function T(y,S,A,i,E,m,k,I,O,_,B){var F=_==="fill";F&&l(E,y.contours);var z=M.ensureSingle(S,"g","contourfill"),N=z.selectAll("path").data(F?E:[]);N.enter().append("path"),N.exit().remove(),N.each(function(W){var Z=(W.prefixBoundary?B:"")+C(y,W,m,k,I,O,A,i);Z?b.select(this).attr("d",Z).style("stroke","none"):b.select(this).remove()})}function C(y,S,A,i,E,m,k,I){var O,_="",B=S.edgepaths.map(function(oe,te){return te}),F=!0,z,N,W,Z,q,re,le=Math.abs(A[0][0]-A[2][0])*1e-4,ie=Math.abs(A[0][1]-A[2][1])*1e-4;function K(oe){return Math.abs(oe[1]-A[0][1])<ie}function $(oe){return Math.abs(oe[1]-A[2][1])<ie}function X(oe){return Math.abs(oe[0]-A[0][0])<le}function Q(oe){return Math.abs(oe[0]-A[2][0])<le}function se(oe,te){var fe,ge,we,xe,Ce="";for(K(oe)&&!Q(oe)||$(oe)&&!X(oe)?(xe=E.aaxis,we=f(E,m,[oe[0],te[0]],.5*(oe[1]+te[1]))):(xe=E.baxis,we=f(E,m,.5*(oe[0]+te[0]),[oe[1],te[1]])),fe=1;fe<we.length;fe++)for(Ce+=xe.smoothing?"C":"L",ge=0;ge<we[fe].length;ge++){var De=we[fe][ge];Ce+=[k.c2p(De[0]),I.c2p(De[1])]+" "}return Ce}for(O=0,z=null;B.length;){var J=S.edgepaths[O][0];for(z&&(_+=se(z,J)),re=L.smoothopen(S.edgepaths[O].map(i),S.smoothing),_+=F?re:re.replace(/^M/,"L"),B.splice(B.indexOf(O),1),z=S.edgepaths[O][S.edgepaths[O].length-1],Z=-1,W=0;W<4;W++){if(!z){M.log("Missing end?",O,S);break}for(K(z)&&!Q(z)?N=A[1]:X(z)?N=A[0]:$(z)?N=A[3]:Q(z)&&(N=A[2]),q=0;q<S.edgepaths.length;q++){var G=S.edgepaths[q][0];Math.abs(z[0]-N[0])<le?Math.abs(z[0]-G[0])<le&&(G[1]-z[1])*(N[1]-G[1])>=0&&(N=G,Z=q):Math.abs(z[1]-N[1])<ie?Math.abs(z[1]-G[1])<ie&&(G[0]-z[0])*(N[0]-G[0])>=0&&(N=G,Z=q):M.log("endpt to newendpt is not vert. or horz.",z,N,G)}if(Z>=0)break;_+=se(z,N),z=N}if(Z===S.edgepaths.length){M.log("unclosed perimeter path");break}O=Z,F=B.indexOf(O)===-1,F&&(O=B[0],_+=se(z,N)+"Z",z=null)}for(O=0;O<S.paths.length;O++)_+=L.smoothclosed(S.paths[O].map(i),S.smoothing);return _}},33928:function(Y,V,e){var b=e(49084),P=e(21776).Ks,s=e(45464),L=e(31512),M=e(92880).extendFlat;Y.exports=M({lon:L.lon,lat:L.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:L.text,hovertext:L.hovertext,hoverinfo:M({},s.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:P(),showlegend:M({},s.showlegend,{dflt:!1})},b("",{cLetter:"z",editTypeOverride:"calc"}))},90876:function(Y,V,e){var b=e(38248),P=e(3400).isArrayOrTypedArray,s=e(39032).BADNUM,L=e(47128),M=e(3400)._;Y.exports=function(p,r){for(var t=r._length,o=new Array(t),n=r.z,l=P(n)&&n.length,u=0;u<t;u++){var f=o[u]={},g=r.lon[u],h=r.lat[u];if(f.lonlat=b(g)&&b(h)?[+g,+h]:[s,s],l){var w=n[u];f.z=b(w)?w:s}}return L(p,r,{vals:l?n:[0,1],containerStr:"",cLetter:"z"}),t&&(o[0].t={labels:{lat:M(p,"lat:")+" ",lon:M(p,"lon:")+" "}}),o}},4629:function(Y,V,e){var b=e(38248),P=e(3400),s=e(76308),L=e(8932),M=e(39032).BADNUM,v=e(44808).makeBlank;Y.exports=function(r){var t=r[0].trace,o=t.visible===!0&&t._length!==0,n={layout:{visibility:"none"},paint:{}},l=t._opts={heatmap:n,geojson:v()};if(!o)return l;var u=[],f,g=t.z,h=t.radius,w=P.isArrayOrTypedArray(g)&&g.length,c=P.isArrayOrTypedArray(h);for(f=0;f<r.length;f++){var a=r[f],d=a.lonlat;if(d[0]!==M){var x={};if(w){var T=a.z;x.z=T!==M?T:0}c&&(x.r=b(h[f])&&h[f]>0?+h[f]:0),u.push({type:"Feature",geometry:{type:"Point",coordinates:d},properties:x})}}var C=L.extractOpts(t),y=C.reversescale?L.flipScale(C.colorscale):C.colorscale,S=y[0][1],A=s.opacity(S)<1?S:s.addOpacity(S,0),i=["interpolate",["linear"],["heatmap-density"],0,A];for(f=1;f<y.length;f++)i.push(y[f][0],y[f][1]);var E=["interpolate",["linear"],["get","z"],C.min,0,C.max,1];return P.extendFlat(l.heatmap.paint,{"heatmap-weight":w?E:1/(C.max-C.min),"heatmap-color":i,"heatmap-radius":c?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),l.geojson={type:"FeatureCollection",features:u},l.heatmap.layout.visibility="visible",l}},97664:function(Y,V,e){var b=e(3400),P=e(27260),s=e(33928);Y.exports=function(M,v,p,r){function t(u,f){return b.coerce(M,v,s,u,f)}var o=t("lon")||[],n=t("lat")||[],l=Math.min(o.length,n.length);if(!l){v.visible=!1;return}v._length=l,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),P(M,v,r,t,{prefix:"",cLetter:"z"})}},96176:function(Y){Y.exports=function(e,b){return e.lon=b.lon,e.lat=b.lat,e.z=b.z,e}},25336:function(Y,V,e){var b=e(54460),P=e(63312).hoverPoints,s=e(63312).getExtraText;Y.exports=function(M,v,p){var r=P(M,v,p);if(r){var t=r[0],o=t.cd,n=o[0].trace,l=o[t.index];if(delete t.color,"z"in l){var u=t.subplot.mockAxis;t.z=l.z,t.zLabel=b.tickText(u,u.c2l(l.z),"hover").text}return t.extraText=s(n,l,o[0].t.labels),[t]}}},15088:function(Y,V,e){Y.exports={attributes:e(33928),supplyDefaults:e(97664),colorbar:e(96288),formatLabels:e(11960),calc:e(90876),plot:e(35256),hoverPoints:e(25336),eventData:e(96176),getBelow:function(b,P){for(var s=P.getMapLayers(),L=0;L<s.length;L++){var M=s[L],v=M.id;if(M.type==="symbol"&&typeof v=="string"&&v.indexOf("plotly-")===-1)return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(33688),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},35256:function(Y,V,e){var b=e(4629),P=e(47552).traceLayerPrefix;function s(M,v){this.type="densitymapbox",this.subplot=M,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",P+v+"-heatmap"]],this.below=null}var L=s.prototype;L.update=function(M){var v=this.subplot,p=this.layerList,r=b(M),t=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(r.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(r,t),this.below=t);for(var o=0;o<p.length;o++){var n=p[o],l=n[0],u=n[1],f=r[l];v.setOptions(u,"setLayoutProperty",f.layout),f.layout.visibility==="visible"&&v.setOptions(u,"setPaintProperty",f.paint)}},L._addLayers=function(M,v){for(var p=this.subplot,r=this.layerList,t=this.sourceId,o=0;o<r.length;o++){var n=r[o],l=n[0],u=M[l];p.addLayer({type:l,id:n[1],source:t,layout:u.layout,paint:u.paint},v)}},L._removeLayers=function(){for(var M=this.subplot.map,v=this.layerList,p=v.length-1;p>=0;p--)M.removeLayer(v[p][1])},L.dispose=function(){var M=this.subplot.map;this._removeLayers(),M.removeSource(this.sourceId)},Y.exports=function(v,p){var r=p[0].trace,t=new s(v,r.uid),o=t.sourceId,n=b(p),l=t.below=v.belowLookup["trace-"+r.uid];return v.map.addSource(o,{type:"geojson",data:n.geojson}),t._addLayers(n,l),t}},74248:function(Y,V,e){var b=e(3400);Y.exports=function(s,L){for(var M=0;M<s.length;M++)s[M].i=M;b.mergeArray(L.text,s,"tx"),b.mergeArray(L.hovertext,s,"htx");var v=L.marker;if(v){b.mergeArray(v.opacity,s,"mo"),b.mergeArray(v.color,s,"mc");var p=v.line;p&&(b.mergeArray(p.color,s,"mlc"),b.mergeArrayCastPositive(p.width,s,"mlw"))}}},20088:function(Y,V,e){var b=e(20832),P=e(52904).line,s=e(45464),L=e(29736).axisHoverFormat,M=e(21776).Ks,v=e(21776).Gw,p=e(74732),r=e(92880).extendFlat,t=e(76308);Y.exports={x:b.x,x0:b.x0,dx:b.dx,y:b.y,y0:b.y0,dy:b.dy,xperiod:b.xperiod,yperiod:b.yperiod,xperiod0:b.xperiod0,yperiod0:b.yperiod0,xperiodalignment:b.xperiodalignment,yperiodalignment:b.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),hovertext:b.hovertext,hovertemplate:M({},{keys:p.eventDataKeys}),hoverinfo:r({},s.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),text:b.text,textposition:b.textposition,insidetextanchor:r({},b.insidetextanchor,{dflt:"middle"}),textangle:r({},b.textangle,{dflt:0}),textfont:b.textfont,insidetextfont:b.insidetextfont,outsidetextfont:b.outsidetextfont,constraintext:b.constraintext,cliponaxis:b.cliponaxis,orientation:r({},b.orientation,{}),offset:r({},b.offset,{arrayOk:!1}),width:r({},b.width,{arrayOk:!1}),marker:o(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:r({},P.color,{dflt:t.defaultLine}),width:r({},P.width,{dflt:0,editType:"plot"}),dash:P.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:b.offsetgroup,alignmentgroup:b.alignmentgroup,zorder:b.zorder};function o(){var n=r({},b.marker);return delete n.pattern,delete n.cornerradius,n}},23096:function(Y,V,e){var b=e(54460),P=e(1220),s=e(74248),L=e(4500),M=e(39032).BADNUM;Y.exports=function(r,t){var o=b.getFromId(r,t.xaxis||"x"),n=b.getFromId(r,t.yaxis||"y"),l,u,f,g,h,w,c,a;t.orientation==="h"?(l=o.makeCalcdata(t,"x"),f=n.makeCalcdata(t,"y"),g=P(t,n,"y",f),h=!!t.yperiodalignment,w="y"):(l=n.makeCalcdata(t,"y"),f=o.makeCalcdata(t,"x"),g=P(t,o,"x",f),h=!!t.xperiodalignment,w="x"),u=g.vals;var d=Math.min(u.length,l.length),x=new Array(d);for(t._base=[],c=0;c<d;c++){l[c]<0&&(l[c]=M);var T=!1;l[c]!==M&&c+1<d&&l[c+1]!==M&&(T=!0),a=x[c]={p:u[c],s:l[c],cNext:T},t._base[c]=-.5*a.s,h&&(x[c].orig_p=f[c],x[c][w+"End"]=g.ends[c],x[c][w+"Start"]=g.starts[c]),t.ids&&(a.id=String(t.ids[c])),c===0&&(x[0].vTotal=0),x[0].vTotal+=v(a.s),a.begR=v(a.s)/v(x[0].s)}var C;for(c=0;c<d;c++)a=x[c],a.s!==M&&(a.sumR=a.s/x[0].vTotal,a.difR=C!==void 0?a.s/C:1,C=a.s);return s(x,t),L(x,t),x};function v(p){return p===M?0:p}},74732:function(Y){Y.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},4804:function(Y,V,e){var b=e(96376).setGroupPositions;Y.exports=function(s,L){var M=s._fullLayout,v=s._fullData,p=s.calcdata,r=L.xaxis,t=L.yaxis,o=[],n=[],l=[],u,f;for(f=0;f<v.length;f++){var g=v[f],h=g.orientation==="h";g.visible===!0&&g.xaxis===r._id&&g.yaxis===t._id&&g.type==="funnel"&&(u=p[f],h?l.push(u):n.push(u),o.push(u))}var w={mode:M.funnelmode,norm:M.funnelnorm,gap:M.funnelgap,groupgap:M.funnelgroupgap};for(b(s,r,t,n,w),b(s,t,r,l,w),f=0;f<o.length;f++){u=o[f];for(var c=0;c<u.length;c++)c+1<u.length&&(u[c].nextP0=u[c+1].p0,u[c].nextS0=u[c+1].s0,u[c].nextP1=u[c+1].p1,u[c].nextS1=u[c+1].s1)}}},45432:function(Y,V,e){var b=e(3400),P=e(20011),s=e(31508).handleText,L=e(43980),M=e(31147),v=e(20088),p=e(76308);function r(n,l,u,f){function g(T,C){return b.coerce(n,l,v,T,C)}var h=L(n,l,f,g);if(!h){l.visible=!1;return}M(n,l,f,g),g("xhoverformat"),g("yhoverformat"),g("orientation",l.y&&!l.x?"v":"h"),g("offset"),g("width");var w=g("text");g("hovertext"),g("hovertemplate");var c=g("textposition");s(n,l,f,g,c,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),l.textposition!=="none"&&!l.texttemplate&&g("textinfo",b.isArrayOrTypedArray(w)?"text+value":"value");var a=g("marker.color",u);g("marker.line.color",p.defaultLine),g("marker.line.width");var d=g("connector.visible");if(d){g("connector.fillcolor",t(a));var x=g("connector.line.width");x&&(g("connector.line.color"),g("connector.line.dash"))}g("zorder")}function t(n){var l=b.isArrayOrTypedArray(n)?"#000":n;return p.addOpacity(l,.5*p.opacity(l))}function o(n,l){var u,f;function g(w){return b.coerce(f._input,f,v,w)}if(l.funnelmode==="group")for(var h=0;h<n.length;h++)f=n[h],u=f._input,P(u,f,l,g)}Y.exports={supplyDefaults:r,crossTraceDefaults:o}},34580:function(Y){Y.exports=function(e,b){return e.x="xVal"in b?b.xVal:b.x,e.y="yVal"in b?b.yVal:b.y,"percentInitial"in b&&(e.percentInitial=b.percentInitial),"percentPrevious"in b&&(e.percentPrevious=b.percentPrevious),"percentTotal"in b&&(e.percentTotal=b.percentTotal),b.xa&&(e.xaxis=b.xa),b.ya&&(e.yaxis=b.ya),e}},31488:function(Y,V,e){var b=e(76308).opacity,P=e(63400).hoverOnBars,s=e(3400).formatPercent;Y.exports=function(v,p,r,t,o){var n=P(v,p,r,t,o);if(n){var l=n.cd,u=l[0].trace,f=u.orientation==="h",g=n.index,h=l[g],w=f?"x":"y";n[w+"LabelVal"]=h.s,n.percentInitial=h.begR,n.percentInitialLabel=s(h.begR,1),n.percentPrevious=h.difR,n.percentPreviousLabel=s(h.difR,1),n.percentTotal=h.sumR,n.percentTotalLabel=s(h.sumR,1);var c=h.hi||u.hoverinfo,a=[];if(c&&c!=="none"&&c!=="skip"){var d=c==="all",x=c.split("+"),T=function(C){return d||x.indexOf(C)!==-1};T("percent initial")&&a.push(n.percentInitialLabel+" of initial"),T("percent previous")&&a.push(n.percentPreviousLabel+" of previous"),T("percent total")&&a.push(n.percentTotalLabel+" of total")}return n.extraText=a.join("<br>"),n.color=L(u,h),[n]}};function L(M,v){var p=M.marker,r=v.mc||p.color,t=v.mlc||p.line.color,o=v.mlw||p.line.width;if(b(r))return r;if(b(t)&&o)return t}},94704:function(Y,V,e){Y.exports={attributes:e(20088),layoutAttributes:e(7076),supplyDefaults:e(45432).supplyDefaults,crossTraceDefaults:e(45432).crossTraceDefaults,supplyLayoutDefaults:e(11631),calc:e(23096),crossTraceCalc:e(4804),plot:e(42200),style:e(44544).style,hoverPoints:e(31488),eventData:e(34580),selectPoints:e(45784),moduleType:"trace",name:"funnel",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},7076:function(Y){Y.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},11631:function(Y,V,e){var b=e(3400),P=e(7076);Y.exports=function(s,L,M){var v=!1;function p(o,n){return b.coerce(s,L,P,o,n)}for(var r=0;r<M.length;r++){var t=M[r];if(t.visible&&t.type==="funnel"){v=!0;break}}v&&(p("funnelmode"),p("funnelgap",.2),p("funnelgroupgap"))}},42200:function(Y,V,e){var b=e(33428),P=e(3400),s=e(43616),L=e(39032).BADNUM,M=e(98184),v=e(82744).clearMinTextSize;Y.exports=function(n,l,u,f){var g=n._fullLayout;v("funnel",g),p(n,l,u,f),r(n,l,u,f),M.plot(n,l,u,f,{mode:g.funnelmode,norm:g.funnelmode,gap:g.funnelgap,groupgap:g.funnelgroupgap})};function p(o,n,l,u){var f=n.xaxis,g=n.yaxis;P.makeTraceGroups(u,l,"trace bars").each(function(h){var w=b.select(this),c=h[0].trace,a=P.ensureSingle(w,"g","regions");if(!c.connector||!c.connector.visible){a.remove();return}var d=c.orientation==="h",x=a.selectAll("g.region").data(P.identity);x.enter().append("g").classed("region",!0),x.exit().remove();var T=x.size();x.each(function(C,y){if(!(y!==T-1&&!C.cNext)){var S=t(C,f,g,d),A=S[0],i=S[1],E="";A[0]!==L&&i[0]!==L&&A[1]!==L&&i[1]!==L&&A[2]!==L&&i[2]!==L&&A[3]!==L&&i[3]!==L&&(d?E+="M"+A[0]+","+i[1]+"L"+A[2]+","+i[2]+"H"+A[3]+"L"+A[1]+","+i[1]+"Z":E+="M"+A[1]+","+i[1]+"L"+A[2]+","+i[3]+"V"+i[2]+"L"+A[1]+","+i[0]+"Z"),E===""&&(E="M0,0Z"),P.ensureSingle(b.select(this),"path").attr("d",E).call(s.setClipUrl,n.layerClipId,o)}})})}function r(o,n,l,u){var f=n.xaxis,g=n.yaxis;P.makeTraceGroups(u,l,"trace bars").each(function(h){var w=b.select(this),c=h[0].trace,a=P.ensureSingle(w,"g","lines");if(!c.connector||!c.connector.visible||!c.connector.line.width){a.remove();return}var d=c.orientation==="h",x=a.selectAll("g.line").data(P.identity);x.enter().append("g").classed("line",!0),x.exit().remove();var T=x.size();x.each(function(C,y){if(!(y!==T-1&&!C.cNext)){var S=t(C,f,g,d),A=S[0],i=S[1],E="";A[3]!==void 0&&i[3]!==void 0&&(d?(E+="M"+A[0]+","+i[1]+"L"+A[2]+","+i[2],E+="M"+A[1]+","+i[1]+"L"+A[3]+","+i[2]):(E+="M"+A[1]+","+i[1]+"L"+A[2]+","+i[3],E+="M"+A[1]+","+i[0]+"L"+A[2]+","+i[2])),E===""&&(E="M0,0Z"),P.ensureSingle(b.select(this),"path").attr("d",E).call(s.setClipUrl,n.layerClipId,o)}})})}function t(o,n,l,u){var f=[],g=[],h=u?n:l,w=u?l:n;return f[0]=h.c2p(o.s0,!0),g[0]=w.c2p(o.p0,!0),f[1]=h.c2p(o.s1,!0),g[1]=w.c2p(o.p1,!0),f[2]=h.c2p(o.nextS0,!0),g[2]=w.c2p(o.nextP0,!0),f[3]=h.c2p(o.nextS1,!0),g[3]=w.c2p(o.nextP1,!0),u?[f,g]:[g,f]}},44544:function(Y,V,e){var b=e(33428),P=e(43616),s=e(76308),L=e(13448).DESELECTDIM,M=e(60100),v=e(82744).resizeText,p=M.styleTextPoints;function r(t,o,n){var l=n||b.select(t).selectAll('g[class^="funnellayer"]').selectAll("g.trace");v(t,l,"funnel"),l.style("opacity",function(u){return u[0].trace.opacity}),l.each(function(u){var f=b.select(this),g=u[0].trace;f.selectAll(".point > path").each(function(h){if(!h.isBlank){var w=g.marker;b.select(this).call(s.fill,h.mc||w.color).call(s.stroke,h.mlc||w.line.color).call(P.dashLine,w.line.dash,h.mlw||w.line.width).style("opacity",g.selectedpoints&&!h.selected?L:1)}}),p(f,g,t),f.selectAll(".regions").each(function(){b.select(this).selectAll("path").style("stroke-width",0).call(s.fill,g.connector.fillcolor)}),f.selectAll(".lines").each(function(){var h=g.connector.line;P.lineGroupStyle(b.select(this).selectAll("path"),h.width,h.color,h.dash)})})}Y.exports={style:r}},22332:function(Y,V,e){var b=e(74996),P=e(45464),s=e(86968).u,L=e(21776).Ks,M=e(21776).Gw,v=e(92880).extendFlat;Y.exports={labels:b.labels,label0:b.label0,dlabel:b.dlabel,values:b.values,marker:{colors:b.marker.colors,line:{color:v({},b.marker.line.color,{dflt:null}),width:v({},b.marker.line.width,{dflt:1}),editType:"calc"},pattern:b.marker.pattern,editType:"calc"},text:b.text,hovertext:b.hovertext,scalegroup:v({},b.scalegroup,{}),textinfo:v({},b.textinfo,{flags:["label","text","value","percent"]}),texttemplate:M({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},P.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:L({},{keys:["label","color","value","text","percent"]}),textposition:v({},b.textposition,{values:["inside","none"],dflt:"inside"}),textfont:b.textfont,insidetextfont:b.insidetextfont,title:{text:b.title.text,font:b.title.font,position:v({},b.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:s({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},91248:function(Y,V,e){var b=e(7316);V.name="funnelarea",V.plot=function(P,s,L,M){b.plotBasePlot(V.name,P,s,L,M)},V.clean=function(P,s,L,M){b.cleanBasePlot(V.name,P,s,L,M)}},54e3:function(Y,V,e){var b=e(45768);function P(L,M){return b.calc(L,M)}function s(L){b.crossTraceCalc(L,{type:"funnelarea"})}Y.exports={calc:P,crossTraceCalc:s}},92688:function(Y,V,e){var b=e(3400),P=e(22332),s=e(86968).Q,L=e(31508).handleText,M=e(74174).handleLabelsAndValues,v=e(74174).handleMarkerDefaults;Y.exports=function(r,t,o,n){function l(T,C){return b.coerce(r,t,P,T,C)}var u=l("labels"),f=l("values"),g=M(u,f),h=g.len;if(t._hasLabels=g.hasLabels,t._hasValues=g.hasValues,!t._hasLabels&&t._hasValues&&(l("label0"),l("dlabel")),!h){t.visible=!1;return}t._length=h,v(r,t,n,l),l("scalegroup");var w=l("text"),c=l("texttemplate"),a;if(c||(a=l("textinfo",Array.isArray(w)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),c||a&&a!=="none"){var d=l("textposition");L(r,t,n,l,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}else a==="none"&&l("textposition","none");s(t,n,l);var x=l("title.text");x&&(l("title.position"),b.coerceFont(l,"title.font",n.font)),l("aspectratio"),l("baseratio")}},62396:function(Y,V,e){Y.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(91248),categories:["pie-like","funnelarea","showLegend"],attributes:e(22332),layoutAttributes:e(61280),supplyDefaults:e(92688),supplyLayoutDefaults:e(35384),calc:e(54e3).calc,crossTraceCalc:e(54e3).crossTraceCalc,plot:e(39472),style:e(62096),styleOne:e(10528),meta:{}}},61280:function(Y,V,e){var b=e(85204).hiddenlabels;Y.exports={hiddenlabels:b,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},35384:function(Y,V,e){var b=e(3400),P=e(61280);Y.exports=function(L,M){function v(p,r){return b.coerce(L,M,P,p,r)}v("hiddenlabels"),v("funnelareacolorway",M.colorway),v("extendfunnelareacolors")}},39472:function(Y,V,e){var b=e(33428),P=e(43616),s=e(3400),L=s.strScale,M=s.strTranslate,v=e(72736),p=e(98184),r=p.toMoveInsideBar,t=e(82744),o=t.recordMinTextSize,n=t.clearMinTextSize,l=e(69656),u=e(37820),f=u.attachFxHandlers,g=u.determineInsideTextFont,h=u.layoutAreas,w=u.prerenderTitles,c=u.positionTitleOutside,a=u.formatSliceLabel;Y.exports=function(y,S){var A=y._context.staticPlot,i=y._fullLayout;n("funnelarea",i),w(S,y),h(S,i._size),s.makeTraceGroups(i._funnelarealayer,S,"trace").each(function(E){var m=b.select(this),k=E[0],I=k.trace;T(E),m.each(function(){var O=b.select(this).selectAll("g.slice").data(E);O.enter().append("g").classed("slice",!0),O.exit().remove(),O.each(function(B,F){if(B.hidden){b.select(this).selectAll("path,g").remove();return}B.pointNumber=B.i,B.curveNumber=I.index;var z=k.cx,N=k.cy,W=b.select(this),Z=W.selectAll("path.surface").data([B]);Z.enter().append("path").classed("surface",!0).style({"pointer-events":A?"none":"all"}),W.call(f,y,E);var q="M"+(z+B.TR[0])+","+(N+B.TR[1])+d(B.TR,B.BR)+d(B.BR,B.BL)+d(B.BL,B.TL)+"Z";Z.attr("d",q),a(y,B,k);var re=l.castOption(I.textposition,B.pts),le=W.selectAll("g.slicetext").data(B.text&&re!=="none"?[0]:[]);le.enter().append("g").classed("slicetext",!0),le.exit().remove(),le.each(function(){var ie=s.ensureSingle(b.select(this),"text","",function(oe){oe.attr("data-notex",1)}),K=s.ensureUniformFontSize(y,g(I,B,i.font));ie.text(B.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(P.font,K).call(v.convertToTspans,y);var $=P.bBox(ie.node()),X,Q,se,J=Math.min(B.BL[1],B.BR[1])+N,G=Math.max(B.TL[1],B.TR[1])+N;Q=Math.max(B.TL[0],B.BL[0])+z,se=Math.min(B.TR[0],B.BR[0])+z,X=r(Q,se,J,G,$,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),X.fontSize=K.size,o(I.type,X,i),E[F].transform=X,s.setTransormAndDisplay(ie,X)})});var _=b.select(this).selectAll("g.titletext").data(I.title.text?[0]:[]);_.enter().append("g").classed("titletext",!0),_.exit().remove(),_.each(function(){var B=s.ensureSingle(b.select(this),"text","",function(N){N.attr("data-notex",1)}),F=I.title.text;I._meta&&(F=s.templateString(F,I._meta)),B.text(F).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(P.font,I.title.font).call(v.convertToTspans,y);var z=c(k,i._size);B.attr("transform",M(z.x,z.y)+L(Math.min(1,z.scale))+M(z.tx,z.ty))})})})};function d(C,y){var S=y[0]-C[0],A=y[1]-C[1];return"l"+S+","+A}function x(C,y){return[.5*(C[0]+y[0]),.5*(C[1]+y[1])]}function T(C){if(!C.length)return;var y=C[0],S=y.trace,A=S.aspectratio,i=S.baseratio;i>.999&&(i=.999);var E=Math.pow(i,2),m=y.vTotal,k=m*E/(1-E),I=m,O=k/m;function _(){var te=Math.sqrt(O);return{x:te,y:-te}}function B(){var te=_();return[te.x,te.y]}var F,z=[];z.push(B());var N,W;for(N=C.length-1;N>-1;N--)if(W=C[N],!W.hidden){var Z=W.v/I;O+=Z,z.push(B())}var q=1/0,re=-1/0;for(N=0;N<z.length;N++)F=z[N],q=Math.min(q,F[1]),re=Math.max(re,F[1]);for(N=0;N<z.length;N++)z[N][1]-=(re+q)/2;var le=z[z.length-1][0],ie=y.r,K=(re-q)/2,$=ie/le,X=ie/K*A;for(y.r=X*K,N=0;N<z.length;N++)z[N][0]*=$,z[N][1]*=X;F=z[0];var Q=[-F[0],F[1]],se=[F[0],F[1]],J=0;for(N=C.length-1;N>-1;N--)if(W=C[N],!W.hidden){J+=1;var G=z[J][0],oe=z[J][1];W.TL=[-G,oe],W.TR=[G,oe],W.BL=Q,W.BR=se,W.pxmid=x(W.TR,W.BR),Q=W.TL,se=W.TR}}},62096:function(Y,V,e){var b=e(33428),P=e(10528),s=e(82744).resizeText;Y.exports=function(M){var v=M._fullLayout._funnelarealayer.selectAll(".trace");s(M,v,"funnelarea"),v.each(function(p){var r=p[0],t=r.trace,o=b.select(this);o.style({opacity:t.opacity}),o.selectAll("path.surface").each(function(n){b.select(this).call(P,n,t,M)})})}},83328:function(Y,V,e){var b=e(52904),P=e(45464),s=e(25376),L=e(29736).axisHoverFormat,M=e(21776).Ks,v=e(21776).Gw,p=e(49084),r=e(92880).extendFlat;Y.exports=r({z:{valType:"data_array",editType:"calc"},x:r({},b.x,{impliedEdits:{xtype:"array"}}),x0:r({},b.x0,{impliedEdits:{xtype:"scaled"}}),dx:r({},b.dx,{impliedEdits:{xtype:"scaled"}}),y:r({},b.y,{impliedEdits:{ytype:"array"}}),y0:r({},b.y0,{impliedEdits:{ytype:"scaled"}}),dy:r({},b.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:r({},b.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:r({},b.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:r({},b.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:r({},b.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:r({},b.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:r({},b.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:M(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:s({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:r({},P.showlegend,{dflt:!1}),zorder:b.zorder},{transforms:void 0},p("",{cLetter:"z",autoColorDflt:!1}))},19512:function(Y,V,e){var b=e(24040),P=e(3400),s=e(54460),L=e(1220),M=e(55480),v=e(47128),p=e(2872),r=e(26136),t=e(70448),o=e(11240),n=e(35744),l=e(39032).BADNUM;Y.exports=function(h,w){var c=s.getFromId(h,w.xaxis||"x"),a=s.getFromId(h,w.yaxis||"y"),d=b.traceIs(w,"contour"),x=b.traceIs(w,"histogram"),T=b.traceIs(w,"gl2d"),C=d?"best":w.zsmooth,y,S,A,i,E,m,k,I,O,_,B;if(c._minDtick=0,a._minDtick=0,x)B=M(h,w),i=B.orig_x,y=B.x,S=B.x0,A=B.dx,I=B.orig_y,E=B.y,m=B.y0,k=B.dy,O=B.z;else{var F=w.z;P.isArray1D(F)?(p(w,c,a,"x","y",["z"]),y=w._x,E=w._y,F=w._z):(i=w.x?c.makeCalcdata(w,"x"):[],I=w.y?a.makeCalcdata(w,"y"):[],y=L(w,c,"x",i).vals,E=L(w,a,"y",I).vals,w._x=y,w._y=E),S=w.x0,A=w.dx,m=w.y0,k=w.dy,O=r(F,w,c,a)}(c.rangebreaks||a.rangebreaks)&&(O=f(y,E,O),x||(y=u(y),E=u(E),w._x=y,w._y=E)),!x&&(d||w.connectgaps)&&(w._emptypoints=o(O),t(O,w._emptypoints));function z($){C=w._input.zsmooth=w.zsmooth=!1,P.warn('cannot use zsmooth: "fast": '+$)}function N($){if($.length>1){var X=($[$.length-1]-$[0])/($.length-1),Q=Math.abs(X/100);for(_=0;_<$.length-1;_++)if(Math.abs($[_+1]-$[_]-X)>Q)return!1}return!0}w._islinear=!1,c.type==="log"||a.type==="log"?C==="fast"&&z("log axis found"):N(y)?N(E)?w._islinear=!0:C==="fast"&&z("y scale is not linear"):C==="fast"&&z("x scale is not linear");var W=P.maxRowLength(O),Z=w.xtype==="scaled"?"":y,q=n(w,Z,S,A,W,c),re=w.ytype==="scaled"?"":E,le=n(w,re,m,k,O.length,a);T||(w._extremes[c._id]=s.findExtremes(c,q),w._extremes[a._id]=s.findExtremes(a,le));var ie={x:q,y:le,z:O,text:w._text||w.text,hovertext:w._hovertext||w.hovertext};if(w.xperiodalignment&&i&&(ie.orig_x=i),w.yperiodalignment&&I&&(ie.orig_y=I),Z&&Z.length===q.length-1&&(ie.xCenter=Z),re&&re.length===le.length-1&&(ie.yCenter=re),x&&(ie.xRanges=B.xRanges,ie.yRanges=B.yRanges,ie.pts=B.pts),d||v(h,w,{vals:O,cLetter:"z"}),d&&w.contours&&w.contours.coloring==="heatmap"){var K={type:w.type==="contour"?"heatmap":"histogram2d",xcalendar:w.xcalendar,ycalendar:w.ycalendar};ie.xfill=n(K,Z,S,A,W,c),ie.yfill=n(K,re,m,k,O.length,a)}return[ie]};function u(g){for(var h=[],w=g.length,c=0;c<w;c++){var a=g[c];a!==l&&h.push(a)}return h}function f(g,h,w){for(var c=[],a=-1,d=0;d<w.length;d++)if(h[d]!==l){a++,c[a]=[];for(var x=0;x<w[d].length;x++)g[x]!==l&&c[a].push(w[d][x])}return c}},26136:function(Y,V,e){var b=e(38248),P=e(3400),s=e(39032).BADNUM;Y.exports=function(M,v,p,r){var t,o,n,l,u,f;function g(x){if(b(x))return+x}if(v&&v.transpose){for(t=0,u=0;u<M.length;u++)t=Math.max(t,M[u].length);if(t===0)return!1;n=function(x){return x.length},l=function(x,T,C){return(x[C]||[])[T]}}else t=M.length,n=function(x,T){return x[T].length},l=function(x,T,C){return(x[T]||[])[C]};var h=function(x,T,C){return T===s||C===s?s:l(x,T,C)};function w(x){if(v&&v.type!=="carpet"&&v.type!=="contourcarpet"&&x&&x.type==="category"&&v["_"+x._id.charAt(0)].length){var T=x._id.charAt(0),C={},y=v["_"+T+"CategoryMap"]||v[T];for(u=0;u<y.length;u++)C[y[u]]=u;return function(S){var A=C[x._categories[S]];return A+1?A:s}}else return P.identity}var c=w(p),a=w(r);r&&r.type==="category"&&(t=r._categories.length);var d=new Array(t);for(u=0;u<t;u++)for(p&&p.type==="category"?o=p._categories.length:o=n(M,u),d[u]=new Array(o),f=0;f<o;f++)d[u][f]=g(h(M,a(u),c(f)));return d}},96288:function(Y){Y.exports={min:"zmin",max:"zmax"}},2872:function(Y,V,e){var b=e(3400),P=e(39032).BADNUM,s=e(1220);Y.exports=function(M,v,p,r,t,o){var n=M._length,l=v.makeCalcdata(M,r),u=p.makeCalcdata(M,t);l=s(M,v,r,l).vals,u=s(M,p,t,u).vals;var f=M.text,g=f!==void 0&&b.isArray1D(f),h=M.hovertext,w=h!==void 0&&b.isArray1D(h),c,a,d=b.distinctVals(l),x=d.vals,T=b.distinctVals(u),C=T.vals,y=[],S,A,i=C.length,E=x.length;for(c=0;c<o.length;c++)y[c]=b.init2dArray(i,E);g&&(S=b.init2dArray(i,E)),w&&(A=b.init2dArray(i,E));var m=b.init2dArray(i,E);for(c=0;c<n;c++)if(l[c]!==P&&u[c]!==P){var k=b.findBin(l[c]+d.minDiff/2,x),I=b.findBin(u[c]+T.minDiff/2,C);for(a=0;a<o.length;a++){var O=o[a],_=M[O],B=y[a];B[I][k]=_[c],m[I][k]=c}g&&(S[I][k]=f[c]),w&&(A[I][k]=h[c])}for(M["_"+r]=x,M["_"+t]=C,a=0;a<o.length;a++)M["_"+o[a]]=y[a];g&&(M._text=S),w&&(M._hovertext=A),v&&v.type==="category"&&(M["_"+r+"CategoryMap"]=x.map(function(F){return v._categories[F]})),p&&p.type==="category"&&(M["_"+t+"CategoryMap"]=C.map(function(F){return p._categories[F]})),M._after2before=m}},24480:function(Y,V,e){var b=e(3400),P=e(51264),s=e(39096),L=e(31147),M=e(82748),v=e(27260),p=e(83328);Y.exports=function(t,o,n,l){function u(g,h){return b.coerce(t,o,p,g,h)}var f=P(t,o,u,l);if(!f){o.visible=!1;return}L(t,o,l,u),u("xhoverformat"),u("yhoverformat"),u("text"),u("hovertext"),u("hovertemplate"),s(u,l),M(t,o,u,l),u("hoverongaps"),u("connectgaps",b.isArray1D(o.z)&&o.zsmooth!==!1),v(t,o,l,u,{prefix:"",cLetter:"z"}),u("zorder")}},11240:function(Y,V,e){var b=e(3400).maxRowLength;Y.exports=function(s){var L=[],M={},v=[],p=s[0],r=[],t=[0,0,0],o=b(s),n,l,u,f,g,h,w,c;for(l=0;l<s.length;l++)for(n=r,r=p,p=s[l+1]||[],u=0;u<o;u++)r[u]===void 0&&(h=(r[u-1]!==void 0?1:0)+(r[u+1]!==void 0?1:0)+(n[u]!==void 0?1:0)+(p[u]!==void 0?1:0),h?(l===0&&h++,u===0&&h++,l===s.length-1&&h++,u===r.length-1&&h++,h<4&&(M[[l,u]]=[l,u,h]),L.push([l,u,h])):v.push([l,u]));for(;v.length;){for(w={},c=!1,g=v.length-1;g>=0;g--)f=v[g],l=f[0],u=f[1],h=((M[[l-1,u]]||t)[2]+(M[[l+1,u]]||t)[2]+(M[[l,u-1]]||t)[2]+(M[[l,u+1]]||t)[2])/20,h&&(w[f]=[l,u,h],v.splice(g,1),c=!0);if(!c)throw"findEmpties iterated with no new neighbors";for(f in w)M[f]=w[f],L.push(w[f])}return L.sort(function(a,d){return d[2]-a[2]})}},55512:function(Y,V,e){var b=e(93024),P=e(3400),s=P.isArrayOrTypedArray,L=e(54460),M=e(8932).extractOpts;Y.exports=function(p,r,t,o,n){n||(n={});var l=n.isContour,u=p.cd[0],f=u.trace,g=p.xa,h=p.ya,w=u.x,c=u.y,a=u.z,d=u.xCenter,x=u.yCenter,T=u.zmask,C=f.zhoverformat,y=w,S=c,A,i,E,m;if(p.index!==!1){try{E=Math.round(p.index[1]),m=Math.round(p.index[0])}catch{P.error("Error hovering on heatmap, pointNumber must be [row,col], found:",p.index);return}if(E<0||E>=a[0].length||m<0||m>a.length)return}else{if(b.inbox(r-w[0],r-w[w.length-1],0)>0||b.inbox(t-c[0],t-c[c.length-1],0)>0)return;if(l){var k;for(y=[2*w[0]-w[1]],k=1;k<w.length;k++)y.push((w[k]+w[k-1])/2);for(y.push([2*w[w.length-1]-w[w.length-2]]),S=[2*c[0]-c[1]],k=1;k<c.length;k++)S.push((c[k]+c[k-1])/2);S.push([2*c[c.length-1]-c[c.length-2]])}E=Math.max(0,Math.min(y.length-2,P.findBin(r,y))),m=Math.max(0,Math.min(S.length-2,P.findBin(t,S)))}var I=g.c2p(w[E]),O=g.c2p(w[E+1]),_=h.c2p(c[m]),B=h.c2p(c[m+1]),F,z;l?(F=u.orig_x||w,z=u.orig_y||c,O=I,A=F[E],B=_,i=z[m]):(F=u.orig_x||d||w,z=u.orig_y||x||c,A=d?F[E]:(F[E]+F[E+1])/2,i=x?z[m]:(z[m]+z[m+1])/2,g&&g.type==="category"&&(A=w[E]),h&&h.type==="category"&&(i=c[m]),f.zsmooth&&(I=O=g.c2p(A),_=B=h.c2p(i)));var N=a[m][E];if(T&&!T[m][E]&&(N=void 0),!(N===void 0&&!f.hoverongaps)){var W;s(u.hovertext)&&s(u.hovertext[m])?W=u.hovertext[m][E]:s(u.text)&&s(u.text[m])&&(W=u.text[m][E]);var Z=M(f),q={type:"linear",range:[Z.min,Z.max],hoverformat:C,_separators:g._separators,_numFormat:g._numFormat},re=L.tickText(q,N,"hover").text;return[P.extendFlat(p,{index:f._after2before?f._after2before[m][E]:[m,E],distance:p.maxHoverDistance,spikeDistance:p.maxSpikeDistance,x0:I,x1:O,y0:_,y1:B,xLabelVal:A,yLabelVal:i,zLabelVal:N,zLabel:re,text:W})]}}},81932:function(Y,V,e){Y.exports={attributes:e(83328),supplyDefaults:e(24480),calc:e(19512),plot:e(41420),colorbar:e(96288),style:e(41648),hoverPoints:e(55512),moduleType:"trace",name:"heatmap",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},70448:function(Y,V,e){var b=e(3400),P=.01,s=[[-1,0],[1,0],[0,-1],[0,1]];function L(v){return .5-.25*Math.min(1,v*.5)}Y.exports=function(p,r){var t=1,o;for(M(p,r),o=0;o<r.length&&!(r[o][2]<4);o++);for(r=r.slice(o),o=0;o<100&&t>P;o++)t=M(p,r,L(t));return t>P&&b.log("interp2d didn't converge quickly",t),p};function M(v,p,r){var t=0,o,n,l,u,f,g,h,w,c,a,d,x,T;for(u=0;u<p.length;u++){for(o=p[u],n=o[0],l=o[1],d=v[n][l],a=0,c=0,f=0;f<4;f++)g=s[f],h=v[n+g[0]],h&&(w=h[l+g[1]],w!==void 0&&(a===0?x=T=w:(x=Math.min(x,w),T=Math.max(T,w)),c++,a+=w));if(c===0)throw"iterateInterp2d order is wrong: no defined neighbors";v[n][l]=a/c,d===void 0?c<4&&(t=1):(v[n][l]=(1+r)*v[n][l]-r*d,T>x&&(t=Math.max(t,Math.abs(v[n][l]-d)/(T-x))))}return t}},39096:function(Y,V,e){var b=e(3400);Y.exports=function(s,L){s("texttemplate");var M=b.extendFlat({},L.font,{color:"auto",size:"auto"});b.coerceFont(s,"textfont",M)}},35744:function(Y,V,e){var b=e(24040),P=e(3400).isArrayOrTypedArray;Y.exports=function(L,M,v,p,r,t){var o=[],n=b.traceIs(L,"contour"),l=b.traceIs(L,"histogram"),u=b.traceIs(L,"gl2d"),f,g,h,w=P(M)&&M.length>1;if(w&&!l&&t.type!=="category"){var c=M.length;if(c<=r){if(n||u)o=Array.from(M).slice(0,r);else if(r===1)t.type==="log"?o=[.5*M[0],2*M[0]]:o=[M[0]-.5,M[0]+.5];else if(t.type==="log"){for(o=[Math.pow(M[0],1.5)/Math.pow(M[1],.5)],h=1;h<c;h++)o.push(Math.sqrt(M[h-1]*M[h]));o.push(Math.pow(M[c-1],1.5)/Math.pow(M[c-2],.5))}else{for(o=[1.5*M[0]-.5*M[1]],h=1;h<c;h++)o.push((M[h-1]+M[h])*.5);o.push(1.5*M[c-1]-.5*M[c-2])}if(c<r){var a=o[o.length-1],d;if(t.type==="log")for(d=a/o[o.length-2],h=c;h<r;h++)a*=d,o.push(a);else for(d=a-o[o.length-2],h=c;h<r;h++)a+=d,o.push(a)}}else return n?M.slice(0,r):M.slice(0,r+1)}else{var x=L[t._id.charAt(0)+"calendar"];if(l)f=t.r2c(v,0,x);else if(P(M)&&M.length===1)f=M[0];else if(v===void 0)f=0;else{var T=t.type==="log"?t.d2c:t.r2c;f=T(v,0,x)}for(g=p||1,h=n||u?0:-.5;h<r;h++)o.push(f+g*h)}return o}},41420:function(Y,V,e){var b=e(33428),P=e(49760),s=e(24040),L=e(43616),M=e(54460),v=e(3400),p=e(72736),r=e(76688),t=e(76308),o=e(8932).extractOpts,n=e(8932).makeColorScaleFuncFromTrace,l=e(9616),u=e(84284),f=u.LINE_SPACING,g=e(9188),h=e(2264).STYLE,w="heatmap-label";function c(C){return C.selectAll("g."+w)}function a(C){c(C).remove()}Y.exports=function(C,y,S,A){var i=y.xaxis,E=y.yaxis;v.makeTraceGroups(A,S,"hm").each(function(m){var k=b.select(this),I=m[0],O=I.trace,_=O.xgap||0,B=O.ygap||0,F=I.z,z=I.x,N=I.y,W=I.xCenter,Z=I.yCenter,q=s.traceIs(O,"contour"),re=q?"best":O.zsmooth,le=F.length,ie=v.maxRowLength(F),K=!1,$=!1,X,Q,se,J,G,oe,te,fe;for(oe=0;X===void 0&&oe<z.length-1;)X=i.c2p(z[oe]),oe++;for(oe=z.length-1;Q===void 0&&oe>0;)Q=i.c2p(z[oe]),oe--;for(Q<X&&(se=Q,Q=X,X=se,K=!0),oe=0;J===void 0&&oe<N.length-1;)J=E.c2p(N[oe]),oe++;for(oe=N.length-1;G===void 0&&oe>0;)G=E.c2p(N[oe]),oe--;G<J&&(se=J,J=G,G=se,$=!0),q&&(W=z,Z=N,z=I.xfill,N=I.yfill);var ge="default";if(re?ge=re==="best"?"smooth":"fast":O._islinear&&_===0&&B===0&&g()&&(ge="fast"),ge!=="fast"){var we=re==="best"?0:.5;X=Math.max(-we*i._length,X),Q=Math.min((1+we)*i._length,Q),J=Math.max(-we*E._length,J),G=Math.min((1+we)*E._length,G)}var xe=Math.round(Q-X),Ce=Math.round(G-J),De=X>=i._length||Q<=0||J>=E._length||G<=0;if(De){var Oe=k.selectAll("image").data([]);Oe.exit().remove(),a(k);return}var Te,Re;ge==="fast"?(Te=ie,Re=le):(Te=xe,Re=Ce);var Me=document.createElement("canvas");Me.width=Te,Me.height=Re;var ke=Me.getContext("2d",{willReadFrequently:!0}),Se=n(O,{noNumericCheck:!0,returnArray:!0}),He,je;ge==="fast"?(He=K?function(kr){return ie-1-kr}:v.identity,je=$?function(kr){return le-1-kr}:v.identity):(He=function(kr){return v.constrain(Math.round(i.c2p(z[kr])-X),0,xe)},je=function(kr){return v.constrain(Math.round(E.c2p(N[kr])-J),0,Ce)});var at=je(0),Ze=[at,at],$e=K?0:1,ut=$?0:1,ht=0,vt=0,xt=0,St=0,tt,Ie,Ve,Ge,Xe;function Le(kr,pn){if(kr!==void 0){var tn=Se(kr);return tn[0]=Math.round(tn[0]),tn[1]=Math.round(tn[1]),tn[2]=Math.round(tn[2]),ht+=pn,vt+=tn[0]*pn,xt+=tn[1]*pn,St+=tn[2]*pn,tn}return[0,0,0,0]}function Fe(kr,pn,tn,Tn){var Ln=kr[tn.bin0];if(Ln===void 0)return Le(void 0,1);var Hn=kr[tn.bin1],pa=pn[tn.bin0],xa=pn[tn.bin1],ia=Hn-Ln||0,ra=pa-Ln||0,Rn;return Hn===void 0?xa===void 0?Rn=0:pa===void 0?Rn=2*(xa-Ln):Rn=(2*xa-pa-Ln)*2/3:xa===void 0?pa===void 0?Rn=0:Rn=(2*Ln-Hn-pa)*2/3:pa===void 0?Rn=(2*xa-Hn-Ln)*2/3:Rn=xa+Ln-Hn-pa,Le(Ln+tn.frac*ia+Tn.frac*(ra+tn.frac*Rn))}if(ge!=="default"){var Ue=0,Ee;try{Ee=new Uint8Array(Te*Re*4)}catch{Ee=new Array(Te*Re*4)}if(ge==="smooth"){var he=W||z,ye=Z||N,_e=new Array(he.length),We=new Array(ye.length),rt=new Array(xe),st=W?x:d,Vt=Z?x:d,Xt,Tt,Lt;for(oe=0;oe<he.length;oe++)_e[oe]=Math.round(i.c2p(he[oe])-X);for(oe=0;oe<ye.length;oe++)We[oe]=Math.round(E.c2p(ye[oe])-J);for(oe=0;oe<xe;oe++)rt[oe]=st(oe,_e);for(te=0;te<Ce;te++)for(Xt=Vt(te,We),Tt=F[Xt.bin0],Lt=F[Xt.bin1],oe=0;oe<xe;oe++,Ue+=4)Xe=Fe(Tt,Lt,rt[oe],Xt),T(Ee,Ue,Xe)}else for(te=0;te<le;te++)for(Ge=F[te],Ze=je(te),oe=0;oe<ie;oe++)Xe=Le(Ge[oe],1),Ue=(Ze*ie+He(oe))*4,T(Ee,Ue,Xe);var Kt=ke.createImageData(Te,Re);try{Kt.data.set(Ee)}catch{var vr=Kt.data,pt=vr.length;for(te=0;te<pt;te++)vr[te]=Ee[te]}ke.putImageData(Kt,0,0)}else{var jt=Math.floor(_/2),$t=Math.floor(B/2);for(te=0;te<le;te++)if(Ge=F[te],Ze.reverse(),Ze[ut]=je(te+1),!(Ze[0]===Ze[1]||Ze[0]===void 0||Ze[1]===void 0))for(Ie=He(0),tt=[Ie,Ie],oe=0;oe<ie;oe++)tt.reverse(),tt[$e]=He(oe+1),!(tt[0]===tt[1]||tt[0]===void 0||tt[1]===void 0)&&(Ve=Ge[oe],Xe=Le(Ve,(tt[1]-tt[0])*(Ze[1]-Ze[0])),ke.fillStyle="rgba("+Xe.join(",")+")",ke.fillRect(tt[0]+jt,Ze[0]+$t,tt[1]-tt[0]-_,Ze[1]-Ze[0]-B))}vt=Math.round(vt/ht),xt=Math.round(xt/ht),St=Math.round(St/ht);var mr=P("rgb("+vt+","+xt+","+St+")");C._hmpixcount=(C._hmpixcount||0)+ht,C._hmlumcount=(C._hmlumcount||0)+ht*mr.getLuminance();var or=k.selectAll("image").data(m);or.enter().append("svg:image").attr({xmlns:l.svg,preserveAspectRatio:"none"}),or.attr({height:Ce,width:xe,x:X,y:J,"xlink:href":Me.toDataURL("image/png")}),ge==="fast"&&!re&&or.attr("style",h),a(k);var gt=O.texttemplate;if(gt){var lt=o(O),bt={type:"linear",range:[lt.min,lt.max],_separators:i._separators,_numFormat:i._numFormat},Et=O.type==="histogram2dcontour",kt=O.type==="contour",Ot=kt?1:0,Ft=kt?le-1:le,Bt=kt?1:0,Jt=kt?ie-1:ie,hr=[];for(oe=Ot;oe<Ft;oe++){var cr;if(kt)cr=I.y[oe];else if(Et){if(oe===0||oe===le-1)continue;cr=I.y[oe]}else if(I.yCenter)cr=I.yCenter[oe];else{if(oe+1===le&&I.y[oe+1]===void 0)continue;cr=(I.y[oe]+I.y[oe+1])/2}var dr=Math.round(E.c2p(cr));if(!(0>dr||dr>E._length))for(te=Bt;te<Jt;te++){var fr;if(kt)fr=I.x[te];else if(Et){if(te===0||te===ie-1)continue;fr=I.x[te]}else if(I.xCenter)fr=I.xCenter[te];else{if(te+1===ie&&I.x[te+1]===void 0)continue;fr=(I.x[te]+I.x[te+1])/2}var Lr=Math.round(i.c2p(fr));if(!(0>Lr||Lr>i._length)){var xr=r({x:fr,y:cr},O,C._fullLayout);xr.x=fr,xr.y=cr;var Ke=I.z[oe][te];Ke===void 0?(xr.z="",xr.zLabel=""):(xr.z=Ke,xr.zLabel=M.tickText(bt,Ke,"hover").text);var et=I.text&&I.text[oe]&&I.text[oe][te];(et===void 0||et===!1)&&(et=""),xr.text=et;var er=v.texttemplateString(gt,xr,C._fullLayout._d3locale,xr,O._meta||{});if(er){var tr=er.split("<br>"),Yt=tr.length,Pt=0;for(fe=0;fe<Yt;fe++)Pt=Math.max(Pt,tr[fe].length);hr.push({l:Yt,c:Pt,t:er,x:Lr,y:dr,z:Ke})}}}}var Zt=O.textfont,nr=Zt.size,Qt=C._fullLayout.font.size;if(!nr||nr==="auto"){var Wt=1/0,yr=1/0,Ir=0,Tr=0;for(fe=0;fe<hr.length;fe++){var vn=hr[fe];if(Ir=Math.max(Ir,vn.l),Tr=Math.max(Tr,vn.c),fe<hr.length-1){var Or=hr[fe+1],En=Math.abs(Or.x-vn.x),nn=Math.abs(Or.y-vn.y);En&&(Wt=Math.min(Wt,En)),nn&&(yr=Math.min(yr,nn))}}!isFinite(Wt)||!isFinite(yr)?nr=Qt:(Wt-=_,yr-=B,Wt/=Tr,yr/=Ir,Wt/=f/2,yr/=f,nr=Math.min(Math.floor(Wt),Math.floor(yr),Qt))}if(nr<=0||!isFinite(nr))return;var gr=function(kr){return kr.x},Pr=function(kr){return kr.y-nr*(kr.l*f/2-1)},Xr=c(k).data(hr);Xr.enter().append("g").classed(w,1).append("text").attr("text-anchor","middle").each(function(kr){var pn=b.select(this),tn=Zt.color;(!tn||tn==="auto")&&(tn=t.contrast(kr.z===void 0?C._fullLayout.plot_bgcolor:"rgba("+Se(kr.z).join()+")")),pn.attr("data-notex",1).call(p.positionText,gr(kr),Pr(kr)).call(L.font,{family:Zt.family,size:nr,color:tn,weight:Zt.weight,style:Zt.style,variant:Zt.variant,textcase:Zt.textcase,lineposition:Zt.lineposition,shadow:Zt.shadow}).text(kr.t).call(p.convertToTspans,C)})}})};function d(C,y){var S=y.length-2,A=v.constrain(v.findBin(C,y),0,S),i=y[A],E=y[A+1],m=v.constrain(A+(C-i)/(E-i)-.5,0,S),k=Math.round(m),I=Math.abs(m-k);return!m||m===S||!I?{bin0:k,bin1:k,frac:0}:{bin0:k,frac:I,bin1:Math.round(k+I/(m-k))}}function x(C,y){var S=y.length-1,A=v.constrain(v.findBin(C,y),0,S),i=y[A],E=y[A+1],m=(C-i)/(E-i)||0;return m<=0?{bin0:A,bin1:A,frac:0}:m<.5?{bin0:A,bin1:A+1,frac:m}:{bin0:A+1,bin1:A,frac:1-m}}function T(C,y,S){C[y]=S[0],C[y+1]=S[1],C[y+2]=S[2],C[y+3]=Math.round(S[3]*255)}},41648:function(Y,V,e){var b=e(33428);Y.exports=function(s){b.select(s).selectAll(".hm image").style("opacity",function(L){return L.trace.opacity})}},82748:function(Y){Y.exports=function(e,b,P){var s=P("zsmooth");s===!1&&(P("xgap"),P("ygap")),P("zhoverformat")}},51264:function(Y,V,e){var b=e(38248),P=e(3400),s=e(24040);Y.exports=function(p,r,t,o,n,l){var u=t("z");n=n||"x",l=l||"y";var f,g;if(u===void 0||!u.length)return 0;if(P.isArray1D(u)){f=t(n),g=t(l);var h=P.minRowLength(f),w=P.minRowLength(g);if(h===0||w===0)return 0;r._length=Math.min(h,w,u.length)}else{if(f=L(n,t),g=L(l,t),!M(u))return 0;t("transpose"),r._length=null}if(p.type==="heatmapgl")return!0;var c=s.getComponentMethod("calendars","handleTraceDefaults");return c(p,r,[n,l],o),!0};function L(v,p){var r=p(v),t=r?p(v+"type","array"):"scaled";return t==="scaled"&&(p(v+"0"),p("d"+v)),r}function M(v){for(var p=!0,r=!1,t=!1,o,n=0;n<v.length;n++){if(o=v[n],!P.isArrayOrTypedArray(o)){p=!1;break}o.length>0&&(r=!0);for(var l=0;l<o.length;l++)if(b(o[l])){t=!0;break}}return p&&r&&t}},74512:function(Y,V,e){for(var b=e(83328),P=e(49084),s=e(92880).extendFlat,L=e(67824).overrideAll,M=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},p=0;p<M.length;p++){var r=M[p];v[r]=b[r]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},s(v,P("",{cLetter:"z",autoColorDflt:!1})),Y.exports=L(v,"calc","nested")},84656:function(Y,V,e){var b=e(67792).gl_heatmap2d,P=e(54460),s=e(43080);function L(r,t){this.scene=r,this.uid=t,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=b(r.glplot,this.options),this.heatmap._trace=this}var M=L.prototype;M.handlePick=function(r){var t=this.options,o=t.shape,n=r.pointId,l=n%o[0],u=Math.floor(n/o[0]),f=n;return{trace:this,dataCoord:r.dataCoord,traceCoord:[t.x[l],t.y[u],t.z[f]],textLabel:this.textLabels[n],name:this.name,pointIndex:[u,l],hoverinfo:this.hoverinfo}},M.update=function(r,t){var o=t[0];this.index=r.index,this.name=r.name,this.hoverinfo=r.hoverinfo;var n=o.z;this.options.z=[].concat.apply([],n);var l=n[0].length,u=n.length;this.options.shape=[l,u],this.options.x=o.x,this.options.y=o.y,this.options.zsmooth=r.zsmooth;var f=v(r);this.options.colorLevels=f.colorLevels,this.options.colorValues=f.colorValues,this.textLabels=[].concat.apply([],r.text),this.heatmap.update(this.options);var g=this.scene.xaxis,h=this.scene.yaxis,w,c;r.zsmooth===!1&&(w={ppad:o.x[1]-o.x[0]},c={ppad:o.y[1]-o.y[0]}),r._extremes[g._id]=P.findExtremes(g,o.x,w),r._extremes[h._id]=P.findExtremes(h,o.y,c)},M.dispose=function(){this.heatmap.dispose()};function v(r){for(var t=r.colorscale,o=r.zmin,n=r.zmax,l=t.length,u=new Array(l),f=new Array(4*l),g=0;g<l;g++){var h=t[g],w=s(h[1]);u[g]=o+h[0]*(n-o);for(var c=0;c<4;c++)f[4*g+c]=w[c]}return{colorLevels:u,colorValues:f}}function p(r,t,o){var n=new L(r,t.uid);return n.update(t,o),n}Y.exports=p},86464:function(Y,V,e){var b=e(3400),P=e(51264),s=e(27260),L=e(74512);Y.exports=function(v,p,r,t){function o(l,u){return b.coerce(v,p,L,l,u)}var n=P(v,p,o,t);if(!n){p.visible=!1;return}o("text"),o("zsmooth"),s(v,p,t,o,{prefix:"",cLetter:"z"})}},45536:function(Y,V,e){Y.exports={attributes:e(74512),supplyDefaults:e(86464),colorbar:e(96288),calc:e(19512),plot:e(84656),moduleType:"trace",name:"heatmapgl",basePlotModule:e(39952),categories:["gl","gl2d","2dMap"],meta:{}}},40196:function(Y,V,e){var b=e(20832),P=e(29736).axisHoverFormat,s=e(21776).Ks,L=e(21776).Gw,M=e(25376),v=e(11120),p=e(73316),r=e(92880).extendFlat;Y.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:P("x"),yhoverformat:P("y"),text:r({},b.text,{}),hovertext:r({},b.hovertext,{}),orientation:b.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:s({},{keys:p.eventDataKeys}),texttemplate:L({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:r({},b.textposition,{arrayOk:!1}),textfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:b.insidetextanchor,textangle:b.textangle,cliponaxis:b.cliponaxis,constraintext:b.constraintext,marker:b.marker,offsetgroup:b.offsetgroup,alignmentgroup:b.alignmentgroup,selected:b.selected,unselected:b.unselected,_deprecated:{bardir:b._deprecated.bardir},zorder:b.zorder}},2e3:function(Y){Y.exports=function(e,b){for(var P=e.length,s=0,L=0;L<P;L++)b[L]?(e[L]/=b[L],s+=e[L]):e[L]=null;return s}},11120:function(Y){Y.exports=function(e,b){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},16964:function(Y,V,e){var b=e(38248);Y.exports={count:function(P,s,L){return L[P]++,1},sum:function(P,s,L,M){var v=M[s];return b(v)?(v=Number(v),L[P]+=v,v):0},avg:function(P,s,L,M,v){var p=M[s];return b(p)&&(p=Number(p),L[P]+=p,v[P]++),0},min:function(P,s,L,M){var v=M[s];if(b(v))if(v=Number(v),b(L[P])){if(L[P]>v){var p=v-L[P];return L[P]=v,p}}else return L[P]=v,v;return 0},max:function(P,s,L,M){var v=M[s];if(b(v))if(v=Number(v),b(L[P])){if(L[P]<v){var p=v-L[P];return L[P]=v,p}}else return L[P]=v,v;return 0}}},67712:function(Y,V,e){var b=e(39032),P=b.ONEAVGYEAR,s=b.ONEAVGMONTH,L=b.ONEDAY,M=b.ONEHOUR,v=b.ONEMIN,p=b.ONESEC,r=e(54460).tickIncrement;Y.exports=function(f,g,h,w,c){var a=-1.1*g,d=-.1*g,x=f-d,T=h[0],C=h[1],y=Math.min(t(T+d,T+x,w,c),t(C+d,C+x,w,c)),S=Math.min(t(T+a,T+d,w,c),t(C+a,C+d,w,c)),A,i;if(y>S&&S<Math.abs(C-T)/4e3?(A=y,i=!1):(A=Math.min(y,S),i=!0),w.type==="date"&&A>L){var E=A===P?1:6,m=A===P?"M12":"M1";return function(k,I){var O=w.c2d(k,P,c),_=O.indexOf("-",E);_>0&&(O=O.substr(0,_));var B=w.d2c(O,0,c);if(B<k){var F=r(B,m,!1,c);(B+F)/2<k+f&&(B=F)}return I&&i?r(B,m,!0,c):B}}return function(k,I){var O=A*Math.round(k/A);return O+A/10<k&&O+A*.9<k+f&&(O+=A),I&&i&&(O-=A),O}};function t(u,f,g,h){if(u*f<=0)return 1/0;for(var w=Math.abs(f-u),c=g.type==="date",a=o(w,c),d=0;d<10;d++){var x=o(a*80,c);if(a===x)break;if(n(x,u,f,c,g,h))a=x;else break}return a}function o(u,f){return f&&u>p?u>L?u>P*1.1?P:u>s*1.1?s:L:u>M?M:u>v?v:p:Math.pow(10,Math.floor(Math.log(u)/Math.LN10))}function n(u,f,g,h,w,c){if(h&&u>L){var a=l(f,w,c),d=l(g,w,c),x=u===P?0:1;return a[x]!==d[x]}return Math.floor(g/u)-Math.floor(f/u)>.1}function l(u,f,g){var h=f.c2d(u,P,g).split("-");return h[0]===""&&(h.unshift(),h[0]="-"+h[0]),h}},35852:function(Y,V,e){var b=e(38248),P=e(3400),s=e(24040),L=e(54460),M=e(84664),v=e(16964),p=e(10648),r=e(2e3),t=e(67712);function o(g,h){var w=[],c=[],a=h.orientation==="h",d=L.getFromId(g,a?h.yaxis:h.xaxis),x=a?"y":"x",T={x:"y",y:"x"}[x],C=h[x+"calendar"],y=h.cumulative,S,A=n(g,h,d,x),i=A[0],E=A[1],m=typeof i.size=="string",k=[],I=m?k:i,O=[],_=[],B=[],F=0,z=h.histnorm,N=h.histfunc,W=z.indexOf("density")!==-1,Z,q,re;y.enabled&&W&&(z=z.replace(/ ?density$/,""),W=!1);var le=N==="max"||N==="min",ie=le?null:0,K=v.count,$=p[z],X=!1,Q=function(ke){return d.r2c(ke,0,C)},se;for(P.isArrayOrTypedArray(h[T])&&N!=="count"&&(se=h[T],X=N==="avg",K=v[N]),S=Q(i.start),q=Q(i.end)+(S-L.tickIncrement(S,i.size,!1,C))/1e6;S<q&&w.length<1e6&&(Z=L.tickIncrement(S,i.size,!1,C),w.push((S+Z)/2),c.push(ie),B.push([]),k.push(S),W&&O.push(1/(Z-S)),X&&_.push(0),!(Z<=S));)S=Z;k.push(S),!m&&d.type==="date"&&(I={start:Q(I.start),end:Q(I.end),size:I.size}),g._fullLayout._roundFnOpts||(g._fullLayout._roundFnOpts={});var J=h["_"+x+"bingroup"],G={leftGap:1/0,rightGap:1/0};J&&(g._fullLayout._roundFnOpts[J]||(g._fullLayout._roundFnOpts[J]=G),G=g._fullLayout._roundFnOpts[J]);var oe=c.length,te=!0,fe=G.leftGap,ge=G.rightGap,we={};for(S=0;S<E.length;S++){var xe=E[S];re=P.findBin(xe,I),re>=0&&re<oe&&(F+=K(re,S,c,se,_),te&&B[re].length&&xe!==E[B[re][0]]&&(te=!1),B[re].push(S),we[S]=re,fe=Math.min(fe,xe-k[re]),ge=Math.min(ge,k[re+1]-xe))}G.leftGap=fe,G.rightGap=ge;var Ce;te||(Ce=function(ke,Se){return function(){var He=g._fullLayout._roundFnOpts[J];return t(He.leftGap,He.rightGap,k,d,C)(ke,Se)}}),X&&(F=r(c,_)),$&&$(c,F,O),y.enabled&&f(c,y.direction,y.currentbin);var De=Math.min(w.length,c.length),Oe=[],Te=0,Re=De-1;for(S=0;S<De;S++)if(c[S]){Te=S;break}for(S=De-1;S>=Te;S--)if(c[S]){Re=S;break}for(S=Te;S<=Re;S++)if(b(w[S])&&b(c[S])){var Me={p:w[S],s:c[S],b:0};y.enabled||(Me.pts=B[S],te?Me.ph0=Me.ph1=B[S].length?E[B[S][0]]:w[S]:(h._computePh=!0,Me.ph0=Ce(k[S]),Me.ph1=Ce(k[S+1],!0))),Oe.push(Me)}return Oe.length===1&&(Oe[0].width1=L.tickIncrement(Oe[0].p,i.size,!1,C)-Oe[0].p),M(Oe,h),P.isArrayOrTypedArray(h.selectedpoints)&&P.tagSelected(Oe,h,we),Oe}function n(g,h,w,c,a){var d=c+"bins",x=g._fullLayout,T=h["_"+c+"bingroup"],C=x._histogramBinOpts[T],y=x.barmode==="overlay",S,A,i,E,m,k,I,O=function(xe){return w.r2c(xe,0,E)},_=function(xe){return w.c2r(xe,0,E)},B=w.type==="date"?function(xe){return xe||xe===0?P.cleanDate(xe,null,E):null}:function(xe){return b(xe)?Number(xe):null};function F(xe,Ce,De){Ce[xe+"Found"]?(Ce[xe]=B(Ce[xe]),Ce[xe]===null&&(Ce[xe]=De[xe])):(k[xe]=Ce[xe]=De[xe],P.nestedProperty(A[0],d+"."+xe).set(De[xe]))}if(h["_"+c+"autoBinFinished"])delete h["_"+c+"autoBinFinished"];else{A=C.traces;var z=[],N=!0,W=!1,Z=!1;for(S=0;S<A.length;S++)if(i=A[S],i.visible){var q=C.dirs[S];m=i["_"+q+"pos0"]=w.makeCalcdata(i,q),z=P.concat(z,m),delete i["_"+c+"autoBinFinished"],h.visible===!0&&(N?N=!1:(delete i._autoBin,i["_"+c+"autoBinFinished"]=1),s.traceIs(i,"2dMap")&&(W=!0),i.type==="histogram2dcontour"&&(Z=!0))}E=A[0][c+"calendar"];var re=L.autoBin(z,w,C.nbins,W,E,C.sizeFound&&C.size),le=A[0]._autoBin={};if(k=le[C.dirs[0]]={},Z&&(C.size||(re.start=_(L.tickIncrement(O(re.start),re.size,!0,E))),C.end===void 0&&(re.end=_(L.tickIncrement(O(re.end),re.size,!1,E)))),y&&!s.traceIs(h,"2dMap")&&re._dataSpan===0&&w.type!=="category"&&w.type!=="multicategory"&&h.bingroup===""&&typeof h.xbins>"u"){if(a)return[re,m,!0];re=l(g,h,w,c,d)}I=i.cumulative||{},I.enabled&&I.currentbin!=="include"&&(I.direction==="decreasing"?re.start=_(L.tickIncrement(O(re.start),re.size,!0,E)):re.end=_(L.tickIncrement(O(re.end),re.size,!1,E))),C.size=re.size,C.sizeFound||(k.size=re.size,P.nestedProperty(A[0],d+".size").set(re.size)),F("start",C,re),F("end",C,re)}m=h["_"+c+"pos0"],delete h["_"+c+"pos0"];var ie=h._input[d]||{},K=P.extendFlat({},C),$=C.start,X=w.r2l(ie.start),Q=X!==void 0;if((C.startFound||Q)&&X!==w.r2l($)){var se=Q?X:P.aggNums(Math.min,null,m),J={type:w.type==="category"||w.type==="multicategory"?"linear":w.type,r2l:w.r2l,dtick:C.size,tick0:$,calendar:E,range:[se,L.tickIncrement(se,C.size,!1,E)].map(w.l2r)},G=L.tickFirst(J);G>w.r2l(se)&&(G=L.tickIncrement(G,C.size,!0,E)),K.start=w.l2r(G),Q||P.nestedProperty(h,d+".start").set(K.start)}var oe=C.end,te=w.r2l(ie.end),fe=te!==void 0;if((C.endFound||fe)&&te!==w.r2l(oe)){var ge=fe?te:P.aggNums(Math.max,null,m);K.end=w.l2r(ge),fe||P.nestedProperty(h,d+".start").set(K.end)}var we="autobin"+c;return h._input[we]===!1&&(h._input[d]=P.extendFlat({},h[d]||{}),delete h._input[we],delete h[we]),[K,m]}function l(g,h,w,c,a){var d=g._fullLayout,x=u(g,h),T=!1,C=1/0,y=[h],S,A,i;for(S=0;S<x.length;S++)if(A=x[S],A===h)T=!0;else if(!T)i=d._histogramBinOpts[A["_"+c+"bingroup"]],C=Math.min(C,i.size||A[a].size);else{var E=n(g,A,w,c,!0),m=E[0],k=E[2];A["_"+c+"autoBinFinished"]=1,A["_"+c+"pos0"]=E[1],k?y.push(A):C=Math.min(C,m.size)}var I=new Array(y.length);for(S=0;S<y.length;S++)for(var O=y[S]["_"+c+"pos0"],_=0;_<O.length;_++)if(O[_]!==void 0){I[S]=O[_];break}for(isFinite(C)||(C=P.distinctVals(I).minDiff),S=0;S<y.length;S++){A=y[S];var B=A[c+"calendar"],F={start:w.c2r(I[S]-C/2,0,B),end:w.c2r(I[S]+C/2,0,B),size:C};A._input[a]=A[a]=F,i=d._histogramBinOpts[A["_"+c+"bingroup"]],i&&P.extendFlat(i,F)}return h[a]}function u(g,h){for(var w=h.xaxis,c=h.yaxis,a=h.orientation,d=[],x=g._fullData,T=0;T<x.length;T++){var C=x[T];C.type==="histogram"&&C.visible===!0&&C.orientation===a&&C.xaxis===w&&C.yaxis===c&&d.push(C)}return d}function f(g,h,w){var c,a,d;function x(C){d=g[C],g[C]/=2}function T(C){a=g[C],g[C]=d+a/2,d+=a}if(w==="half")if(h==="increasing")for(x(0),c=1;c<g.length;c++)T(c);else for(x(g.length-1),c=g.length-2;c>=0;c--)T(c);else if(h==="increasing"){for(c=1;c<g.length;c++)g[c]+=g[c-1];w==="exclude"&&(g.unshift(0),g.pop())}else{for(c=g.length-2;c>=0;c--)g[c]+=g[c+1];w==="exclude"&&(g.push(0),g.shift())}}Y.exports={calc:o,calcAllAutoBins:n}},73316:function(Y){Y.exports={eventDataKeys:["binNumber"]}},80536:function(Y,V,e){var b=e(3400),P=e(79811),s=e(24040).traceIs,L=e(20011),M=e(31508).validateCornerradius,v=b.nestedProperty,p=e(71888).getAxisGroup,r=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];Y.exports=function(n,l){var u=l._histogramBinOpts={},f=[],g={},h=[],w,c,a,d,x,T,C;function y(re,le){return b.coerce(w._input,w,w._module.attributes,re,le)}function S(re){return re.orientation==="v"?"x":"y"}function A(re,le){var ie=P.getFromTrace({_fullLayout:l},re,le);return ie.type}function i(re,le,ie){var K=re.uid+"__"+ie;le||(le=K);var $=A(re,ie),X=re[ie+"calendar"]||"",Q=u[le],se=!0;Q&&($===Q.axType&&X===Q.calendar?(se=!1,Q.traces.push(re),Q.dirs.push(ie)):(le=K,$!==Q.axType&&b.warn(["Attempted to group the bins of trace",re.index,"set on a","type:"+$,"axis","with bins on","type:"+Q.axType,"axis."].join(" ")),X!==Q.calendar&&b.warn(["Attempted to group the bins of trace",re.index,"set with a",X,"calendar","with bins",Q.calendar?"on a "+Q.calendar+" calendar":"w/o a set calendar"].join(" ")))),se&&(u[le]={traces:[re],dirs:[ie],axType:$,calendar:re[ie+"calendar"]||""}),re["_"+ie+"bingroup"]=le}for(x=0;x<n.length;x++)if(w=n[x],s(w,"histogram")){if(f.push(w),delete w._xautoBinFinished,delete w._yautoBinFinished,w.type==="histogram"){var E=y("marker.cornerradius",l.barcornerradius);w.marker&&(w.marker.cornerradius=M(E))}s(w,"2dMap")||L(w._input,w,l,y)}var m=l._alignmentOpts||{};for(x=0;x<f.length;x++){if(w=f[x],a="",!s(w,"2dMap")){if(d=S(w),l.barmode==="group"&&w.alignmentgroup){var k=w[d+"axis"],I=p(l,k)+w.orientation;(m[I]||{})[w.alignmentgroup]&&(a=I)}!a&&l.barmode!=="overlay"&&(a=p(l,w.xaxis)+p(l,w.yaxis)+S(w))}a?(g[a]||(g[a]=[]),g[a].push(w)):h.push(w)}for(a in g){if(c=g[a],c.length===1){h.push(c[0]);continue}var O=!1;for(c.length&&(w=c[0],O=y("bingroup")),a=O||a,x=0;x<c.length;x++){w=c[x];var _=w._input.bingroup;_&&_!==a&&b.warn(["Trace",w.index,"must match","within bingroup",a+".","Ignoring its bingroup:",_,"setting."].join(" ")),w.bingroup=a,i(w,a,S(w))}}for(x=0;x<h.length;x++){w=h[x];var B=y("bingroup");if(s(w,"2dMap"))for(C=0;C<2;C++){d=t[C];var F=y(d+"bingroup",B?B+"__"+d:null);i(w,F,d)}else i(w,B,S(w))}for(a in u){var z=u[a];for(c=z.traces,T=0;T<r.length;T++){var N=r[T],W=N.name,Z,q;if(!(W==="nbins"&&z.sizeFound)){for(x=0;x<c.length;x++){if(w=c[x],d=z.dirs[x],Z=N.aStr[d],v(w._input,Z).get()!==void 0){z[W]=y(Z),z[W+"Found"]=!0;break}q=(w._autoBin||{})[d]||{},q[W]&&v(w,Z).set(q[W])}if(W==="start"||W==="end")for(;x<c.length;x++)w=c[x],w["_"+d+"bingroup"]&&(q=(w._autoBin||{})[d]||{},y(Z,q[W]));W==="nbins"&&!z.sizeFound&&!z.nbinsFound&&(w=c[0],z[W]=y(Z))}}}}},6616:function(Y,V,e){var b=e(24040),P=e(3400),s=e(76308),L=e(31508).handleText,M=e(55592),v=e(40196);Y.exports=function(r,t,o,n){function l(S,A){return P.coerce(r,t,v,S,A)}var u=l("x"),f=l("y"),g=l("cumulative.enabled");g&&(l("cumulative.direction"),l("cumulative.currentbin")),l("text");var h=l("textposition");L(r,t,n,l,h,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat");var w=l("orientation",f&&!u?"h":"v"),c=w==="v"?"x":"y",a=w==="v"?"y":"x",d=u&&f?Math.min(P.minRowLength(u)&&P.minRowLength(f)):P.minRowLength(t[c]||[]);if(!d){t.visible=!1;return}t._length=d;var x=b.getComponentMethod("calendars","handleTraceDefaults");x(r,t,["x","y"],n);var T=t[a];T&&l("histfunc"),l("histnorm"),l("autobin"+c),M(r,t,l,o,n),P.coerceSelectionMarkerOpacity(t,l);var C=(t.marker.line||{}).color,y=b.getComponentMethod("errorbars","supplyDefaults");y(r,t,C||s.defaultLine,{axis:"y"}),y(r,t,C||s.defaultLine,{axis:"x",inherit:"y"}),l("zorder")}},84980:function(Y){Y.exports=function(e,b,P,s,L){if(e.x="xVal"in b?b.xVal:b.x,e.y="yVal"in b?b.yVal:b.y,"zLabelVal"in b&&(e.z=b.zLabelVal),b.xa&&(e.xaxis=b.xa),b.ya&&(e.yaxis=b.ya),!(P.cumulative||{}).enabled){var M=Array.isArray(L)?s[0].pts[L[0]][L[1]]:s[L].pts;e.pointNumbers=M,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var v;if(P._indexToPoints){v=[];for(var p=0;p<M.length;p++)v=v.concat(P._indexToPoints[M[p]])}else v=M;e.pointIndices=v}return e}},43339:function(Y,V,e){var b=e(63400).hoverPoints,P=e(54460).hoverLabelText;Y.exports=function(L,M,v,p,r){var t=b(L,M,v,p,r);if(t){L=t[0];var o=L.cd[L.index],n=L.cd[0].trace;if(!n.cumulative.enabled){var l=n.orientation==="h"?"y":"x";L[l+"Label"]=P(L[l+"a"],[o.ph0,o.ph1],n[l+"hoverformat"])}return t}}},42600:function(Y,V,e){Y.exports={attributes:e(40196),layoutAttributes:e(39324),supplyDefaults:e(6616),crossTraceDefaults:e(80536),supplyLayoutDefaults:e(37156),calc:e(35852).calc,crossTraceCalc:e(96376).crossTraceCalc,plot:e(98184).plot,layerName:"barlayer",style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,colorbar:e(5528),hoverPoints:e(43339),selectPoints:e(45784),eventData:e(84980),moduleType:"trace",name:"histogram",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},10648:function(Y){Y.exports={percent:function(V,e){for(var b=V.length,P=100/e,s=0;s<b;s++)V[s]*=P},probability:function(V,e){for(var b=V.length,P=0;P<b;P++)V[P]/=e},density:function(V,e,b,P){var s=V.length;P=P||1;for(var L=0;L<s;L++)V[L]*=b[L]*P},"probability density":function(V,e,b,P){var s=V.length;P&&(e/=P);for(var L=0;L<s;L++)V[L]*=b[L]/e}}},37008:function(Y,V,e){var b=e(40196),P=e(11120),s=e(83328),L=e(45464),M=e(29736).axisHoverFormat,v=e(21776).Ks,p=e(21776).Gw,r=e(49084),t=e(92880).extendFlat;Y.exports=t({x:b.x,y:b.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:b.histnorm,histfunc:b.histfunc,nbinsx:b.nbinsx,xbins:P("x"),nbinsy:b.nbinsy,ybins:P("y"),autobinx:b.autobinx,autobiny:b.autobiny,bingroup:t({},b.bingroup,{}),xbingroup:t({},b.bingroup,{}),ybingroup:t({},b.bingroup,{}),xgap:s.xgap,ygap:s.ygap,zsmooth:s.zsmooth,xhoverformat:M("x"),yhoverformat:M("y"),zhoverformat:M("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:p({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:s.textfont,showlegend:t({},L.showlegend,{dflt:!1})},r("",{cLetter:"z",autoColorDflt:!1}))},55480:function(Y,V,e){var b=e(3400),P=e(54460),s=e(16964),L=e(10648),M=e(2e3),v=e(67712),p=e(35852).calcAllAutoBins;Y.exports=function(l,u){var f=P.getFromId(l,u.xaxis),g=P.getFromId(l,u.yaxis),h=u.xcalendar,w=u.ycalendar,c=function(Xe){return f.r2c(Xe,0,h)},a=function(Xe){return g.r2c(Xe,0,w)},d=function(Xe){return f.c2r(Xe,0,h)},x=function(Xe){return g.c2r(Xe,0,w)},T,C,y,S,A=p(l,u,f,"x"),i=A[0],E=A[1],m=p(l,u,g,"y"),k=m[0],I=m[1],O=u._length;E.length>O&&E.splice(O,E.length-O),I.length>O&&I.splice(O,I.length-O);var _=[],B=[],F=[],z=typeof i.size=="string",N=typeof k.size=="string",W=[],Z=[],q=z?W:i,re=N?Z:k,le=0,ie=[],K=[],$=u.histnorm,X=u.histfunc,Q=$.indexOf("density")!==-1,se=X==="max"||X==="min",J=se?null:0,G=s.count,oe=L[$],te=!1,fe=[],ge=[],we="z"in u?u.z:"marker"in u&&Array.isArray(u.marker.color)?u.marker.color:"";we&&X!=="count"&&(te=X==="avg",G=s[X]);var xe=i.size,Ce=c(i.start),De=c(i.end)+(Ce-P.tickIncrement(Ce,xe,!1,h))/1e6;for(T=Ce;T<De;T=P.tickIncrement(T,xe,!1,h))B.push(J),W.push(T),te&&F.push(0);W.push(T);var Oe=B.length,Te=(T-Ce)/Oe,Re=d(Ce+Te/2),Me=k.size,ke=a(k.start),Se=a(k.end)+(ke-P.tickIncrement(ke,Me,!1,w))/1e6;for(T=ke;T<Se;T=P.tickIncrement(T,Me,!1,w)){_.push(B.slice()),Z.push(T);var He=new Array(Oe);for(C=0;C<Oe;C++)He[C]=[];K.push(He),te&&ie.push(F.slice())}Z.push(T);var je=_.length,at=(T-ke)/je,Ze=x(ke+at/2);Q&&(fe=r(B.length,q,Te,z),ge=r(_.length,re,at,N)),!z&&f.type==="date"&&(q=t(c,q)),!N&&g.type==="date"&&(re=t(a,re));var $e=!0,ut=!0,ht=new Array(Oe),vt=new Array(je),xt=1/0,St=1/0,tt=1/0,Ie=1/0;for(T=0;T<O;T++){var Ve=E[T],Ge=I[T];y=b.findBin(Ve,q),S=b.findBin(Ge,re),y>=0&&y<Oe&&S>=0&&S<je&&(le+=G(y,T,_[S],we,ie[S]),K[S][y].push(T),$e&&(ht[y]===void 0?ht[y]=Ve:ht[y]!==Ve&&($e=!1)),ut&&(vt[S]===void 0?vt[S]=Ge:vt[S]!==Ge&&(ut=!1)),xt=Math.min(xt,Ve-W[y]),St=Math.min(St,W[y+1]-Ve),tt=Math.min(tt,Ge-Z[S]),Ie=Math.min(Ie,Z[S+1]-Ge))}if(te)for(S=0;S<je;S++)le+=M(_[S],ie[S]);if(oe)for(S=0;S<je;S++)oe(_[S],le,fe,ge[S]);return{x:E,xRanges:o(W,$e&&ht,xt,St,f,h),x0:Re,dx:Te,y:I,yRanges:o(Z,ut&&vt,tt,Ie,g,w),y0:Ze,dy:at,z:_,pts:K}};function r(n,l,u,f){var g=new Array(n),h;if(f)for(h=0;h<n;h++)g[h]=1/(l[h+1]-l[h]);else{var w=1/u;for(h=0;h<n;h++)g[h]=w}return g}function t(n,l){return{start:n(l.start),end:n(l.end),size:l.size}}function o(n,l,u,f,g,h){var w,c=n.length-1,a=new Array(c),d=v(u,f,n,g,h);for(w=0;w<c;w++){var x=(l||[])[w];a[w]=x===void 0?[d(n[w]),d(n[w+1],!0)]:[x,x]}return a}},99784:function(Y,V,e){var b=e(3400),P=e(56408),s=e(82748),L=e(27260),M=e(39096),v=e(37008);Y.exports=function(r,t,o,n){function l(u,f){return b.coerce(r,t,v,u,f)}P(r,t,l,n),t.visible!==!1&&(s(r,t,l,n),L(r,t,n,l,{prefix:"",cLetter:"z"}),l("hovertemplate"),M(l,n),l("xhoverformat"),l("yhoverformat"))}},59576:function(Y,V,e){var b=e(55512),P=e(54460).hoverLabelText;Y.exports=function(L,M,v,p,r){var t=b(L,M,v,p,r);if(t){L=t[0];var o=L.index,n=o[0],l=o[1],u=L.cd[0],f=u.trace,g=u.xRanges[l],h=u.yRanges[n];return L.xLabel=P(L.xa,[g[0],g[1]],f.xhoverformat),L.yLabel=P(L.ya,[h[0],h[1]],f.yhoverformat),t}}},21536:function(Y,V,e){Y.exports={attributes:e(37008),supplyDefaults:e(99784),crossTraceDefaults:e(80536),calc:e(19512),plot:e(41420),layerName:"heatmaplayer",colorbar:e(96288),style:e(41648),hoverPoints:e(59576),eventData:e(84980),moduleType:"trace",name:"histogram2d",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},56408:function(Y,V,e){var b=e(24040),P=e(3400);Y.exports=function(L,M,v,p){var r=v("x"),t=v("y"),o=P.minRowLength(r),n=P.minRowLength(t);if(!o||!n){M.visible=!1;return}M._length=Math.min(o,n);var l=b.getComponentMethod("calendars","handleTraceDefaults");l(L,M,["x","y"],p);var u=v("z")||v("marker.color");u&&v("histfunc"),v("histnorm"),v("autobinx"),v("autobiny")}},81220:function(Y,V,e){var b=e(37008),P=e(67104),s=e(49084),L=e(29736).axisHoverFormat,M=e(92880).extendFlat;Y.exports=M({x:b.x,y:b.y,z:b.z,marker:b.marker,histnorm:b.histnorm,histfunc:b.histfunc,nbinsx:b.nbinsx,xbins:b.xbins,nbinsy:b.nbinsy,ybins:b.ybins,autobinx:b.autobinx,autobiny:b.autobiny,bingroup:b.bingroup,xbingroup:b.xbingroup,ybingroup:b.ybingroup,autocontour:P.autocontour,ncontours:P.ncontours,contours:P.contours,line:{color:P.line.color,width:M({},P.line.width,{dflt:.5}),dash:P.line.dash,smoothing:P.line.smoothing,editType:"plot"},xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:b.hovertemplate,texttemplate:P.texttemplate,textfont:P.textfont},s("",{cLetter:"z",editTypeOverride:"calc"}))},3704:function(Y,V,e){var b=e(3400),P=e(56408),s=e(84952),L=e(97680),M=e(39096),v=e(81220);Y.exports=function(r,t,o,n){function l(f,g){return b.coerce(r,t,v,f,g)}function u(f){return b.coerce2(r,t,v,f)}P(r,t,l,n),t.visible!==!1&&(s(r,t,l,u),L(r,t,l,n),l("xhoverformat"),l("yhoverformat"),l("hovertemplate"),t.contours&&t.contours.coloring==="heatmap"&&M(l,n))}},65664:function(Y,V,e){Y.exports={attributes:e(81220),supplyDefaults:e(3704),crossTraceDefaults:e(80536),calc:e(20688),plot:e(23676).plot,layerName:"contourlayer",style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},97376:function(Y,V,e){var b=e(21776).Ks,P=e(21776).Gw,s=e(49084),L=e(86968).u,M=e(74996),v=e(424),p=e(40516),r=e(32984),t=e(92880).extendFlat,o=e(98192).c;Y.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:p.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:t({colors:v.marker.colors,line:v.marker.line,pattern:o,editType:"calc"},s("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:p.pathbar,text:M.text,textinfo:v.textinfo,texttemplate:P({editType:"plot"},{keys:r.eventDataKeys.concat(["label","value"])}),hovertext:M.hovertext,hoverinfo:v.hoverinfo,hovertemplate:b({},{keys:r.eventDataKeys}),textfont:M.textfont,insidetextfont:M.insidetextfont,outsidetextfont:p.outsidetextfont,textposition:p.textposition,sort:M.sort,root:v.root,domain:L({name:"icicle",trace:!0,editType:"calc"})}},59564:function(Y,V,e){var b=e(7316);V.name="icicle",V.plot=function(P,s,L,M){b.plotBasePlot(V.name,P,s,L,M)},V.clean=function(P,s,L,M){b.cleanBasePlot(V.name,P,s,L,M)}},73876:function(Y,V,e){var b=e(3776);V.r=function(P,s){return b.calc(P,s)},V.q=function(P){return b._runCrossTraceCalc("icicle",P)}},7045:function(Y,V,e){var b=e(3400),P=e(97376),s=e(76308),L=e(86968).Q,M=e(31508).handleText,v=e(78048).TEXTPAD,p=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,o=r.handleDefaults;Y.exports=function(l,u,f,g){function h(y,S){return b.coerce(l,u,P,y,S)}var w=h("labels"),c=h("parents");if(!w||!w.length||!c||!c.length){u.visible=!1;return}var a=h("values");a&&a.length?h("branchvalues"):h("count"),h("level"),h("maxdepth"),h("tiling.orientation"),h("tiling.flip"),h("tiling.pad");var d=h("text");h("texttemplate"),u.texttemplate||h("textinfo",b.isArrayOrTypedArray(d)?"text+label":"label"),h("hovertext"),h("hovertemplate");var x=h("pathbar.visible"),T="auto";M(l,u,g,h,T,{hasPathbar:x,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition"),p(l,u,g,h);var C=u._hasColorscale=t(l,"marker","colors")||(l.marker||{}).coloraxis;C&&o(l,u,g,h,{prefix:"marker.",cLetter:"c"}),h("leaf.opacity",C?1:.7),u._hovered={marker:{line:{width:2,color:s.contrast(g.paper_bgcolor)}}},x&&(h("pathbar.thickness",u.pathbar.textfont.size+2*v),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),L(u,g,h),u._length=null}},67880:function(Y,V,e){var b=e(33428),P=e(3400),s=e(43616),L=e(72736),M=e(25132),v=e(47192).styleOne,p=e(32984),r=e(78176),t=e(45716),o=e(96488).formatSliceLabel,n=!1;Y.exports=function(u,f,g,h,w){var c=w.width,a=w.height,d=w.viewX,x=w.viewY,T=w.pathSlice,C=w.toMoveInsideSlice,y=w.strTransform,S=w.hasTransition,A=w.handleSlicesExit,i=w.makeUpdateSliceInterpolator,E=w.makeUpdateTextInterpolator,m=w.prevEntry,k={},I=u._context.staticPlot,O=u._fullLayout,_=f[0],B=_.trace,F=B.textposition.indexOf("left")!==-1,z=B.textposition.indexOf("right")!==-1,N=B.textposition.indexOf("bottom")!==-1,W=M(g,[c,a],{flipX:B.tiling.flip.indexOf("x")>-1,flipY:B.tiling.flip.indexOf("y")>-1,orientation:B.tiling.orientation,pad:{inner:B.tiling.pad},maxDepth:B._maxDepth}),Z=W.descendants(),q=1/0,re=-1/0;Z.forEach(function(X){var Q=X.depth;Q>=B._maxDepth?(X.x0=X.x1=(X.x0+X.x1)/2,X.y0=X.y1=(X.y0+X.y1)/2):(q=Math.min(q,Q),re=Math.max(re,Q))}),h=h.data(Z,r.getPtId),B._maxVisibleLayers=isFinite(re)?re-q+1:0,h.enter().append("g").classed("slice",!0),A(h,n,k,[c,a],T),h.order();var le=null;if(S&&m){var ie=r.getPtId(m);h.each(function(X){le===null&&r.getPtId(X)===ie&&(le={x0:X.x0,x1:X.x1,y0:X.y0,y1:X.y1})})}var K=function(){return le||{x0:0,x1:c,y0:0,y1:a}},$=h;return S&&($=$.transition().each("end",function(){var X=b.select(this);r.setSliceCursor(X,u,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),$.each(function(X){X._x0=d(X.x0),X._x1=d(X.x1),X._y0=x(X.y0),X._y1=x(X.y1),X._hoverX=d(X.x1-B.tiling.pad),X._hoverY=x(N?X.y1-B.tiling.pad/2:X.y0+B.tiling.pad/2);var Q=b.select(this),se=P.ensureSingle(Q,"path","surface",function(te){te.style("pointer-events",I?"none":"all")});S?se.transition().attrTween("d",function(te){var fe=i(te,n,K(),[c,a],{orientation:B.tiling.orientation,flipX:B.tiling.flip.indexOf("x")>-1,flipY:B.tiling.flip.indexOf("y")>-1});return function(ge){return T(fe(ge))}}):se.attr("d",T),Q.call(t,g,u,f,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{isTransitioning:u._transitioning}),se.call(v,X,B,u,{hovered:!1}),X.x0===X.x1||X.y0===X.y1?X._text="":X._text=o(X,g,B,f,O)||"";var J=P.ensureSingle(Q,"g","slicetext"),G=P.ensureSingle(J,"text","",function(te){te.attr("data-notex",1)}),oe=P.ensureUniformFontSize(u,r.determineTextFont(B,X,O.font));G.text(X._text||" ").classed("slicetext",!0).attr("text-anchor",z?"end":F?"start":"middle").call(s.font,oe).call(L.convertToTspans,u),X.textBB=s.bBox(G.node()),X.transform=C(X,{fontSize:oe.size}),X.transform.fontSize=oe.size,S?G.transition().attrTween("transform",function(te){var fe=E(te,n,K(),[c,a]);return function(ge){return y(fe(ge))}}):G.attr("transform",y(X))}),le}},29044:function(Y,V,e){Y.exports={moduleType:"trace",name:"icicle",basePlotModule:e(59564),categories:[],animatable:!0,attributes:e(97376),layoutAttributes:e(90676),supplyDefaults:e(7045),supplyLayoutDefaults:e(4304),calc:e(73876).r,crossTraceCalc:e(73876).q,plot:e(38364),style:e(47192).style,colorbar:e(5528),meta:{}}},90676:function(Y){Y.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},4304:function(Y,V,e){var b=e(3400),P=e(90676);Y.exports=function(L,M){function v(p,r){return b.coerce(L,M,P,p,r)}v("iciclecolorway",M.colorway),v("extendiciclecolors")}},25132:function(Y,V,e){var b=e(74148),P=e(83024);Y.exports=function(L,M,v){var p=v.flipX,r=v.flipY,t=v.orientation==="h",o=v.maxDepth,n=M[0],l=M[1];o&&(n=(L.height+1)*M[0]/Math.min(L.height+1,o),l=(L.height+1)*M[1]/Math.min(L.height+1,o));var u=b.partition().padding(v.pad.inner).size(t?[M[1],n]:[M[0],l])(L);return(t||p||r)&&P(u,M,{swapXY:t,flipX:p,flipY:r}),u}},38364:function(Y,V,e){var b=e(95808),P=e(67880);Y.exports=function(L,M,v,p){return b(L,M,v,p,{type:"icicle",drawDescendants:P})}},47192:function(Y,V,e){var b=e(33428),P=e(76308),s=e(3400),L=e(82744).resizeText,M=e(60404);function v(r){var t=r._fullLayout._iciclelayer.selectAll(".trace");L(r,t,"icicle"),t.each(function(o){var n=b.select(this),l=o[0],u=l.trace;n.style("opacity",u.opacity),n.selectAll("path.surface").each(function(f){b.select(this).call(p,f,u,r)})})}function p(r,t,o,n){var l=t.data.data,u=!t.children,f=l.i,g=s.castOption(o,f,"marker.line.color")||P.defaultLine,h=s.castOption(o,f,"marker.line.width")||0;r.call(M,t,o,n).style("stroke-width",h).call(P.stroke,g).style("opacity",u?o.leaf.opacity:null)}Y.exports={style:v,styleOne:p}},95188:function(Y,V,e){for(var b=e(45464),P=e(52904).zorder,s=e(21776).Ks,L=e(92880).extendFlat,M=e(47797).colormodel,v=["rgb","rgba","rgba256","hsl","hsla"],p=[],r=[],t=0;t<v.length;t++){var o=M[v[t]];p.push("For the `"+v[t]+"` colormodel, it is ["+(o.zminDflt||o.min).join(", ")+"]."),r.push("For the `"+v[t]+"` colormodel, it is ["+(o.zmaxDflt||o.max).join(", ")+"].")}Y.exports=L({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:v,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:L({},b.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:s({},{keys:["z","color","colormodel"]}),zorder:P,transforms:void 0})},93336:function(Y,V,e){var b=e(3400),P=e(47797),s=e(38248),L=e(54460),M=e(3400).maxRowLength,v=e(18712).i;Y.exports=function(n,l){var u,f;if(l._hasZ)u=l.z.length,f=M(l.z);else if(l._hasSource){var g=v(l.source);u=g.height,f=g.width}var h=L.getFromId(n,l.xaxis||"x"),w=L.getFromId(n,l.yaxis||"y"),c=h.d2c(l.x0)-l.dx/2,a=w.d2c(l.y0)-l.dy/2,d,x=[c,c+f*l.dx],T=[a,a+u*l.dy];if(h&&h.type==="log")for(d=0;d<f;d++)x.push(c+d*l.dx);if(w&&w.type==="log")for(d=0;d<u;d++)T.push(a+d*l.dy);l._extremes[h._id]=L.findExtremes(h,x),l._extremes[w._id]=L.findExtremes(w,T),l._scaler=t(l);var C={x0:c,y0:a,z:l.z,w:f,h:u};return[C]};function p(o,n,l,u){return function(f){return b.constrain((f-o)*n,l,u)}}function r(o,n){return function(l){return b.constrain(l,o,n)}}function t(o){var n=P.colormodel[o.colormodel],l=n.colormodel||o.colormodel,u=l.length;o._sArray=[];for(var f=0;f<u;f++)n.min[f]!==o.zmin[f]||n.max[f]!==o.zmax[f]?o._sArray.push(p(o.zmin[f],(n.max[f]-n.min[f])/(o.zmax[f]-o.zmin[f]),n.min[f],n.max[f])):o._sArray.push(r(n.min[f],n.max[f]));return function(g){for(var h=g.slice(0,u),w=0;w<u;w++){var c=h[w];if(!s(c))return!1;h[w]=o._sArray[w](c)}return h}}},47797:function(Y){Y.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(V){return V.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(V){return V.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(V){return V.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(V){var e=V.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(V){var e=V.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%",""]}}}},13188:function(Y,V,e){var b=e(3400),P=e(95188),s=e(47797),L=e(81792).IMAGE_URL_PREFIX;Y.exports=function(v,p){function r(n,l){return b.coerce(v,p,P,n,l)}r("source"),p.source&&!p.source.match(L)&&delete p.source,p._hasSource=!!p.source;var t=r("z");if(p._hasZ=!(t===void 0||!t.length||!t[0]||!t[0].length),!p._hasZ&&!p._hasSource){p.visible=!1;return}r("x0"),r("y0"),r("dx"),r("dy");var o;p._hasZ?(r("colormodel","rgb"),o=s.colormodel[p.colormodel],r("zmin",o.zminDflt||o.min),r("zmax",o.zmaxDflt||o.max)):p._hasSource&&(p.colormodel="rgba256",o=s.colormodel[p.colormodel],p.zmin=o.zminDflt,p.zmax=o.zmaxDflt),r("zsmooth"),r("text"),r("hovertext"),r("hovertemplate"),p._length=null,r("zorder")}},79972:function(Y){Y.exports=function(e,b){return"xVal"in b&&(e.x=b.xVal),"yVal"in b&&(e.y=b.yVal),b.xa&&(e.xaxis=b.xa),b.ya&&(e.yaxis=b.ya),e.color=b.color,e.colormodel=b.trace.colormodel,e.z||(e.z=b.color),e}},18712:function(Y,V,e){var b=e(19480),P=e(81792).IMAGE_URL_PREFIX,s=e(33576).Buffer;V.i=function(L){var M=L.replace(P,""),v=new s(M,"base64");return b(v)}},24892:function(Y,V,e){var b=e(93024),P=e(3400),s=P.isArrayOrTypedArray,L=e(47797);Y.exports=function(v,p,r){var t=v.cd[0],o=t.trace,n=v.xa,l=v.ya;if(!(b.inbox(p-t.x0,p-(t.x0+t.w*o.dx),0)>0||b.inbox(r-t.y0,r-(t.y0+t.h*o.dy),0)>0)){var u=Math.floor((p-t.x0)/o.dx),f=Math.floor(Math.abs(r-t.y0)/o.dy),g;if(o._hasZ?g=t.z[f][u]:o._hasSource&&(g=o._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(u,f,1,1).data),!!g){var h=t.hi||o.hoverinfo,w;if(h){var c=h.split("+");c.indexOf("all")!==-1&&(c=["color"]),c.indexOf("color")!==-1&&(w=!0)}var a=L.colormodel[o.colormodel],d=a.colormodel||o.colormodel,x=d.length,T=o._scaler(g),C=a.suffix,y=[];(o.hovertemplate||w)&&(y.push("["+[T[0]+C[0],T[1]+C[1],T[2]+C[2]].join(", ")),x===4&&y.push(", "+T[3]+C[3]),y.push("]"),y=y.join(""),v.extraText=d.toUpperCase()+": "+y);var S;s(o.hovertext)&&s(o.hovertext[f])?S=o.hovertext[f][u]:s(o.text)&&s(o.text[f])&&(S=o.text[f][u]);var A=l.c2p(t.y0+(f+.5)*o.dy),i=t.x0+(u+.5)*o.dx,E=t.y0+(f+.5)*o.dy,m="["+g.slice(0,o.colormodel.length).join(", ")+"]";return[P.extendFlat(v,{index:[f,u],x0:n.c2p(t.x0+u*o.dx),x1:n.c2p(t.x0+(u+1)*o.dx),y0:A,y1:A,color:T,xVal:i,xLabelVal:i,yVal:E,yLabelVal:E,zLabelVal:m,text:S,hovertemplateLabels:{zLabel:m,colorLabel:y,"color[0]Label":T[0]+C[0],"color[1]Label":T[1]+C[1],"color[2]Label":T[2]+C[2],"color[3]Label":T[3]+C[3]}})]}}}},48928:function(Y,V,e){Y.exports={attributes:e(95188),supplyDefaults:e(13188),calc:e(93336),plot:e(63715),style:e(28576),hoverPoints:e(24892),eventData:e(79972),moduleType:"trace",name:"image",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},63715:function(Y,V,e){var b=e(33428),P=e(3400),s=P.strTranslate,L=e(9616),M=e(47797),v=e(9188),p=e(2264).STYLE;Y.exports=function(t,o,n,l){var u=o.xaxis,f=o.yaxis,g=!t._context._exportedPlot&&v();P.makeTraceGroups(l,n,"im").each(function(h){var w=b.select(this),c=h[0],a=c.trace,d=(a.zsmooth==="fast"||a.zsmooth===!1&&g)&&!a._hasZ&&a._hasSource&&u.type==="linear"&&f.type==="linear";a._realImage=d;var x=c.z,T=c.x0,C=c.y0,y=c.w,S=c.h,A=a.dx,i=a.dy,E,m,k,I,O,_;for(_=0;E===void 0&&_<y;)E=u.c2p(T+_*A),_++;for(_=y;m===void 0&&_>0;)m=u.c2p(T+_*A),_--;for(_=0;I===void 0&&_<S;)I=f.c2p(C+_*i),_++;for(_=S;O===void 0&&_>0;)O=f.c2p(C+_*i),_--;if(m<E&&(k=m,m=E,E=k),O<I&&(k=I,I=O,O=k),!d){var B=.5;E=Math.max(-B*u._length,E),m=Math.min((1+B)*u._length,m),I=Math.max(-B*f._length,I),O=Math.min((1+B)*f._length,O)}var F=Math.round(m-E),z=Math.round(O-I),N=F<=0||z<=0;if(N){var W=w.selectAll("image").data([]);W.exit().remove();return}function Z(J){var G=document.createElement("canvas");G.width=F,G.height=z;var oe=G.getContext("2d",{willReadFrequently:!0}),te=function(ke){return P.constrain(Math.round(u.c2p(T+ke*A)-E),0,F)},fe=function(ke){return P.constrain(Math.round(f.c2p(C+ke*i)-I),0,z)},ge=M.colormodel[a.colormodel],we=ge.colormodel||a.colormodel,xe=ge.fmt,Ce;for(_=0;_<c.w;_++){var De=te(_),Oe=te(_+1);if(!(Oe===De||isNaN(Oe)||isNaN(De)))for(var Te=0;Te<c.h;Te++){var Re=fe(Te),Me=fe(Te+1);Me===Re||isNaN(Me)||isNaN(Re)||!J(_,Te)||(Ce=a._scaler(J(_,Te)),Ce?oe.fillStyle=we+"("+xe(Ce).join(",")+")":oe.fillStyle="rgba(0,0,0,0)",oe.fillRect(De,Re,Oe-De,Me-Re))}}return G}var q=w.selectAll("image").data([h]);q.enter().append("svg:image").attr({xmlns:L.svg,preserveAspectRatio:"none"}),q.exit().remove();var re=a.zsmooth===!1?p:"";if(d){var le=P.simpleMap(u.range,u.r2l),ie=P.simpleMap(f.range,f.r2l),K=le[1]<le[0],$=ie[1]>ie[0];if(K||$){var X=E+F/2,Q=I+z/2;re+="transform:"+s(X+"px",Q+"px")+"scale("+(K?-1:1)+","+($?-1:1)+")"+s(-X+"px",-Q+"px")+";"}}q.attr("style",re);var se=new Promise(function(J){if(a._hasZ)J();else if(a._hasSource)if(a._canvas&&a._canvas.el.width===y&&a._canvas.el.height===S&&a._canvas.source===a.source)J();else{var G=document.createElement("canvas");G.width=y,G.height=S;var oe=G.getContext("2d",{willReadFrequently:!0});a._image=a._image||new Image;var te=a._image;te.onload=function(){oe.drawImage(te,0,0),a._canvas={el:G,source:a.source},J()},te.setAttribute("src",a.source)}}).then(function(){var J,G;if(a._hasZ)G=Z(function(fe,ge){var we=x[ge][fe];return P.isTypedArray(we)&&(we=Array.from(we)),we}),J=G.toDataURL("image/png");else if(a._hasSource)if(d)J=a.source;else{var oe=a._canvas.el.getContext("2d",{willReadFrequently:!0}),te=oe.getImageData(0,0,y,S).data;G=Z(function(fe,ge){var we=4*(ge*y+fe);return[te[we],te[we+1],te[we+2],te[we+3]]}),J=G.toDataURL("image/png")}q.attr({"xlink:href":J,height:z,width:F,x:E,y:I})});t._promises.push(se)})}},28576:function(Y,V,e){var b=e(33428);Y.exports=function(s){b.select(s).selectAll(".im image").style("opacity",function(L){return L[0].trace.opacity})}},89864:function(Y,V,e){var b=e(92880).extendFlat,P=e(92880).extendDeep,s=e(67824).overrideAll,L=e(25376),M=e(22548),v=e(86968).u,p=e(94724),r=e(31780).templatedArray,t=e(48164),o=e(29736).descriptionOnlyNumbers,n=L({editType:"plot",colorEditType:"plot"}),l={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:M.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},u={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},f=r("step",P({},l,{range:u}));Y.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:b({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:o("value")},font:b({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:o("value")},increasing:{symbol:{valType:"string",dflt:t.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:t.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:b({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:P({},l,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:M.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:s({range:u,visible:b({},p.visible,{dflt:!0}),tickmode:p.minor.tickmode,nticks:p.nticks,tick0:p.tick0,dtick:p.dtick,tickvals:p.tickvals,ticktext:p.ticktext,ticks:b({},p.ticks,{dflt:"outside"}),ticklen:p.ticklen,tickwidth:p.tickwidth,tickcolor:p.tickcolor,ticklabelstep:p.ticklabelstep,showticklabels:p.showticklabels,labelalias:p.labelalias,tickfont:L({}),tickangle:p.tickangle,tickformat:p.tickformat,tickformatstops:p.tickformatstops,tickprefix:p.tickprefix,showtickprefix:p.showtickprefix,ticksuffix:p.ticksuffix,showticksuffix:p.showticksuffix,separatethousands:p.separatethousands,exponentformat:p.exponentformat,minexponent:p.minexponent,showexponent:p.showexponent,editType:"plot"},"plot"),steps:f,threshold:{line:{color:b({},l.line.color,{}),width:b({},l.line.width,{dflt:1}),editType:"plot"},thickness:b({},l.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},92728:function(Y,V,e){var b=e(7316);V.name="indicator",V.plot=function(P,s,L,M){b.plotBasePlot(V.name,P,s,L,M)},V.clean=function(P,s,L,M){b.cleanBasePlot(V.name,P,s,L,M)}},79136:function(Y){function V(e,b){var P=[],s=b.value;typeof b._lastValue!="number"&&(b._lastValue=b.value);var L=b._lastValue,M=L;return b._hasDelta&&typeof b.delta.reference=="number"&&(M=b.delta.reference),P[0]={y:s,lastY:L,delta:s-M,relativeDelta:(s-M)/M},P}Y.exports={calc:V}},12096:function(Y){Y.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},20424:function(Y,V,e){var b=e(3400),P=e(89864),s=e(86968).Q,L=e(31780),M=e(51272),v=e(12096),p=e(26332),r=e(25404),t=e(95936),o=e(42568);function n(u,f,g,h){function w(F,z){return b.coerce(u,f,P,F,z)}s(f,h,w),w("mode"),f._hasNumber=f.mode.indexOf("number")!==-1,f._hasDelta=f.mode.indexOf("delta")!==-1,f._hasGauge=f.mode.indexOf("gauge")!==-1;var c=w("value");f._range=[0,typeof c=="number"?1.5*c:1];var a=new Array(2),d;if(f._hasNumber){w("number.valueformat");var x=b.extendFlat({},h.font);x.size=void 0,b.coerceFont(w,"number.font",x),f.number.font.size===void 0&&(f.number.font.size=v.defaultNumberFontSize,a[0]=!0),w("number.prefix"),w("number.suffix"),d=f.number.font.size}var T;if(f._hasDelta){var C=b.extendFlat({},h.font);C.size=void 0,b.coerceFont(w,"delta.font",C),f.delta.font.size===void 0&&(f.delta.font.size=(f._hasNumber?.5:1)*(d||v.defaultNumberFontSize),a[1]=!0),w("delta.reference",f.value),w("delta.relative"),w("delta.valueformat",f.delta.relative?"2%":""),w("delta.increasing.symbol"),w("delta.increasing.color"),w("delta.decreasing.symbol"),w("delta.decreasing.color"),w("delta.position"),w("delta.prefix"),w("delta.suffix"),T=f.delta.font.size}f._scaleNumbers=(!f._hasNumber||a[0])&&(!f._hasDelta||a[1])||!1;var y=b.extendFlat({},h.font);y.size=.25*(d||T||v.defaultNumberFontSize),b.coerceFont(w,"title.font",y),w("title.text");var S,A,i,E;function m(F,z){return b.coerce(S,A,P.gauge,F,z)}function k(F,z){return b.coerce(i,E,P.gauge.axis,F,z)}if(f._hasGauge){S=u.gauge,S||(S={}),A=L.newContainer(f,"gauge"),m("shape");var I=f._isBullet=f.gauge.shape==="bullet";I||w("title.align","center");var O=f._isAngular=f.gauge.shape==="angular";O||w("align","center"),m("bgcolor",h.paper_bgcolor),m("borderwidth"),m("bordercolor"),m("bar.color"),m("bar.line.color"),m("bar.line.width");var _=v.valueThickness*(f.gauge.shape==="bullet"?.5:1);m("bar.thickness",_),M(S,A,{name:"steps",handleItemDefaults:l}),m("threshold.value"),m("threshold.thickness"),m("threshold.line.width"),m("threshold.line.color"),i={},S&&(i=S.axis||{}),E=L.newContainer(A,"axis"),k("visible"),f._range=k("range",f._range);var B={font:h.font,noAutotickangles:!0,outerTicks:!0,noTicklabelshift:!0,noTicklabelstandoff:!0};p(i,E,k,"linear"),o(i,E,k,"linear",B),t(i,E,k,"linear",B),r(i,E,k,B)}else w("title.align","center"),w("align","center"),f._isAngular=f._isBullet=!1;f._length=null}function l(u,f){function g(h,w){return b.coerce(u,f,P.gauge.steps,h,w)}g("color"),g("line.color"),g("line.width"),g("range"),g("thickness")}Y.exports={supplyDefaults:n}},43480:function(Y,V,e){Y.exports={moduleType:"trace",name:"indicator",basePlotModule:e(92728),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(89864),supplyDefaults:e(20424).supplyDefaults,calc:e(79136).calc,plot:e(97864),meta:{}}},97864:function(Y,V,e){var b=e(33428),P=e(67756).qy,s=e(67756).Gz,L=e(3400),M=L.strScale,v=L.strTranslate,p=L.rad2deg,r=e(84284).MID_SHIFT,t=e(43616),o=e(12096),n=e(72736),l=e(54460),u=e(28336),f=e(37668),g=e(94724),h=e(76308),w={left:"start",center:"middle",right:"end"},c={left:0,center:.5,right:1},a=/[yzafpnµmkMGTPEZY]/;function d(I){return I&&I.duration>0}Y.exports=function(O,_,B,F){var z=O._fullLayout,N;d(B)&&F&&(N=F()),L.makeTraceGroups(z._indicatorlayer,_,"trace").each(function(W){var Z=W[0],q=Z.trace,re=b.select(this),le=q._hasGauge,ie=q._isAngular,K=q._isBullet,$=q.domain,X={w:z._size.w*($.x[1]-$.x[0]),h:z._size.h*($.y[1]-$.y[0]),l:z._size.l+z._size.w*$.x[0],r:z._size.r+z._size.w*(1-$.x[1]),t:z._size.t+z._size.h*(1-$.y[1]),b:z._size.b+z._size.h*$.y[0]},Q=X.l+X.w/2,se=X.t+X.h/2,J=Math.min(X.w/2,X.h),G=o.innerRadius*J,oe,te,fe,ge=q.align||"center";if(te=se,!le)oe=X.l+c[ge]*X.w,fe=function(Se){return i(Se,X.w,X.h)};else if(ie&&(oe=Q,te=se+J/2,fe=function(Se){return E(Se,.9*G)}),K){var we=o.bulletPadding,xe=1-o.bulletNumberDomainSize+we;oe=X.l+(xe+(1-xe)*c[ge])*X.w,fe=function(Se){return i(Se,(o.bulletNumberDomainSize-we)*X.w,X.h)}}C(O,re,W,{numbersX:oe,numbersY:te,numbersScaler:fe,transitionOpts:B,onComplete:N});var Ce,De;le&&(Ce={range:q.gauge.axis.range,color:q.gauge.bgcolor,line:{color:q.gauge.bordercolor,width:0},thickness:1},De={range:q.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:q.gauge.bordercolor,width:q.gauge.borderwidth},thickness:1});var Oe=re.selectAll("g.angular").data(ie?W:[]);Oe.exit().remove();var Te=re.selectAll("g.angularaxis").data(ie?W:[]);Te.exit().remove(),ie&&T(O,re,W,{radius:J,innerRadius:G,gauge:Oe,layer:Te,size:X,gaugeBg:Ce,gaugeOutline:De,transitionOpts:B,onComplete:N});var Re=re.selectAll("g.bullet").data(K?W:[]);Re.exit().remove();var Me=re.selectAll("g.bulletaxis").data(K?W:[]);Me.exit().remove(),K&&x(O,re,W,{gauge:Re,layer:Me,size:X,gaugeBg:Ce,gaugeOutline:De,transitionOpts:B,onComplete:N});var ke=re.selectAll("text.title").data(W);ke.exit().remove(),ke.enter().append("text").classed("title",!0),ke.attr("text-anchor",function(){return K?w.right:w[q.title.align]}).text(q.title.text).call(t.font,q.title.font).call(n.convertToTspans,O),ke.attr("transform",function(){var Se=X.l+X.w*c[q.title.align],He,je=o.titlePadding,at=t.bBox(ke.node());if(le){if(ie)if(q.gauge.axis.visible){var Ze=t.bBox(Te.node());He=Ze.top-je-at.bottom}else He=X.t+X.h/2-J/2-at.bottom-je;K&&(He=te-(at.top+at.bottom)/2,Se=X.l-o.bulletPadding*X.w)}else He=q._numbersTop-je-at.bottom;return v(Se,He)})})};function x(I,O,_,B){var F=_[0].trace,z=B.gauge,N=B.layer,W=B.gaugeBg,Z=B.gaugeOutline,q=B.size,re=F.domain,le=B.transitionOpts,ie=B.onComplete,K,$,X,Q,se;z.enter().append("g").classed("bullet",!0),z.attr("transform",v(q.l,q.t)),N.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),N.selectAll("g.xbulletaxistick,path,text").remove();var J=q.h,G=F.gauge.bar.thickness*J,oe=re.x[0],te=re.x[0]+(re.x[1]-re.x[0])*(F._hasNumber||F._hasDelta?1-o.bulletNumberDomainSize:1);K=A(I,F.gauge.axis),K._id="xbulletaxis",K.domain=[oe,te],K.setScale(),$=l.calcTicks(K),X=l.makeTransTickFn(K),Q=l.getTickSigns(K)[2],se=q.t+q.h,K.visible&&(l.drawTicks(I,K,{vals:K.ticks==="inside"?l.clipEnds(K,$):$,layer:N,path:l.makeTickPath(K,se,Q),transFn:X}),l.drawLabels(I,K,{vals:$,layer:N,transFn:X,labelFns:l.makeLabelFns(K,se)}));function fe(Te){Te.attr("width",function(Re){return Math.max(0,K.c2p(Re.range[1])-K.c2p(Re.range[0]))}).attr("x",function(Re){return K.c2p(Re.range[0])}).attr("y",function(Re){return .5*(1-Re.thickness)*J}).attr("height",function(Re){return Re.thickness*J})}var ge=[W].concat(F.gauge.steps),we=z.selectAll("g.bg-bullet").data(ge);we.enter().append("g").classed("bg-bullet",!0).append("rect"),we.select("rect").call(fe).call(y),we.exit().remove();var xe=z.selectAll("g.value-bullet").data([F.gauge.bar]);xe.enter().append("g").classed("value-bullet",!0).append("rect"),xe.select("rect").attr("height",G).attr("y",(J-G)/2).call(y),d(le)?xe.select("rect").transition().duration(le.duration).ease(le.easing).each("end",function(){ie&&ie()}).each("interrupt",function(){ie&&ie()}).attr("width",Math.max(0,K.c2p(Math.min(F.gauge.axis.range[1],_[0].y)))):xe.select("rect").attr("width",typeof _[0].y=="number"?Math.max(0,K.c2p(Math.min(F.gauge.axis.range[1],_[0].y))):0),xe.exit().remove();var Ce=_.filter(function(){return F.gauge.threshold.value||F.gauge.threshold.value===0}),De=z.selectAll("g.threshold-bullet").data(Ce);De.enter().append("g").classed("threshold-bullet",!0).append("line"),De.select("line").attr("x1",K.c2p(F.gauge.threshold.value)).attr("x2",K.c2p(F.gauge.threshold.value)).attr("y1",(1-F.gauge.threshold.thickness)/2*J).attr("y2",(1-(1-F.gauge.threshold.thickness)/2)*J).call(h.stroke,F.gauge.threshold.line.color).style("stroke-width",F.gauge.threshold.line.width),De.exit().remove();var Oe=z.selectAll("g.gauge-outline").data([Z]);Oe.enter().append("g").classed("gauge-outline",!0).append("rect"),Oe.select("rect").call(fe).call(y),Oe.exit().remove()}function T(I,O,_,B){var F=_[0].trace,z=B.size,N=B.radius,W=B.innerRadius,Z=B.gaugeBg,q=B.gaugeOutline,re=[z.l+z.w/2,z.t+z.h/2+N/2],le=B.gauge,ie=B.layer,K=B.transitionOpts,$=B.onComplete,X=Math.PI/2;function Q($e){var ut=F.gauge.axis.range[0],ht=F.gauge.axis.range[1],vt=($e-ut)/(ht-ut)*Math.PI-X;return vt<-X?-X:vt>X?X:vt}function se($e){return b.svg.arc().innerRadius((W+N)/2-$e/2*(N-W)).outerRadius((W+N)/2+$e/2*(N-W)).startAngle(-X)}function J($e){$e.attr("d",function(ut){return se(ut.thickness).startAngle(Q(ut.range[0])).endAngle(Q(ut.range[1]))()})}var G,oe,te,fe;le.enter().append("g").classed("angular",!0),le.attr("transform",v(re[0],re[1])),ie.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),ie.selectAll("g.xangularaxistick,path,text").remove(),G=A(I,F.gauge.axis),G.type="linear",G.range=F.gauge.axis.range,G._id="xangularaxis",G.ticklabeloverflow="allow",G.setScale();var ge=function($e){return(G.range[0]-$e.x)/(G.range[1]-G.range[0])*Math.PI+Math.PI},we={},xe=l.makeLabelFns(G,0),Ce=xe.labelStandoff;we.xFn=function($e){var ut=ge($e);return Math.cos(ut)*Ce},we.yFn=function($e){var ut=ge($e),ht=Math.sin(ut)>0?.2:1;return-Math.sin(ut)*(Ce+$e.fontSize*ht)+Math.abs(Math.cos(ut))*($e.fontSize*r)},we.anchorFn=function($e){var ut=ge($e),ht=Math.cos(ut);return Math.abs(ht)<.1?"middle":ht>0?"start":"end"},we.heightFn=function($e,ut,ht){var vt=ge($e);return-.5*(1+Math.sin(vt))*ht};var De=function($e){return v(re[0]+N*Math.cos($e),re[1]-N*Math.sin($e))};te=function($e){return De(ge($e))};var Oe=function($e){var ut=ge($e);return De(ut)+"rotate("+-p(ut)+")"};if(oe=l.calcTicks(G),fe=l.getTickSigns(G)[2],G.visible){fe=G.ticks==="inside"?-1:1;var Te=(G.linewidth||1)/2;l.drawTicks(I,G,{vals:oe,layer:ie,path:"M"+fe*Te+",0h"+fe*G.ticklen,transFn:Oe}),l.drawLabels(I,G,{vals:oe,layer:ie,transFn:te,labelFns:we})}var Re=[Z].concat(F.gauge.steps),Me=le.selectAll("g.bg-arc").data(Re);Me.enter().append("g").classed("bg-arc",!0).append("path"),Me.select("path").call(J).call(y),Me.exit().remove();var ke=se(F.gauge.bar.thickness),Se=le.selectAll("g.value-arc").data([F.gauge.bar]);Se.enter().append("g").classed("value-arc",!0).append("path");var He=Se.select("path");d(K)?(He.transition().duration(K.duration).ease(K.easing).each("end",function(){$&&$()}).each("interrupt",function(){$&&$()}).attrTween("d",S(ke,Q(_[0].lastY),Q(_[0].y))),F._lastValue=_[0].y):He.attr("d",typeof _[0].y=="number"?ke.endAngle(Q(_[0].y)):"M0,0Z"),He.call(y),Se.exit().remove(),Re=[];var je=F.gauge.threshold.value;(je||je===0)&&Re.push({range:[je,je],color:F.gauge.threshold.color,line:{color:F.gauge.threshold.line.color,width:F.gauge.threshold.line.width},thickness:F.gauge.threshold.thickness});var at=le.selectAll("g.threshold-arc").data(Re);at.enter().append("g").classed("threshold-arc",!0).append("path"),at.select("path").call(J).call(y),at.exit().remove();var Ze=le.selectAll("g.gauge-outline").data([q]);Ze.enter().append("g").classed("gauge-outline",!0).append("path"),Ze.select("path").call(J).call(y),Ze.exit().remove()}function C(I,O,_,B){var F=_[0].trace,z=B.numbersX,N=B.numbersY,W=F.align||"center",Z=w[W],q=B.transitionOpts,re=B.onComplete,le=L.ensureSingle(O,"g","numbers"),ie,K,$,X=[];F._hasNumber&&X.push("number"),F._hasDelta&&(X.push("delta"),F.delta.position==="left"&&X.reverse());var Q=le.selectAll("text").data(X);Q.enter().append("text"),Q.attr("text-anchor",function(){return Z}).attr("class",function(De){return De}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),Q.exit().remove();function se(De,Oe,Te,Re){if(De.match("s")&&Te>=0!=Re>=0&&!Oe(Te).slice(-1).match(a)&&!Oe(Re).slice(-1).match(a)){var Me=De.slice().replace("s","f").replace(/\d+/,function(Se){return parseInt(Se)-1}),ke=A(I,{tickformat:Me});return function(Se){return Math.abs(Se)<1?l.tickText(ke,Se).text:Oe(Se)}}else return Oe}function J(){var De=A(I,{tickformat:F.number.valueformat},F._range);De.setScale(),l.prepTicks(De);var Oe=function(Se){return l.tickText(De,Se).text},Te=F.number.suffix,Re=F.number.prefix,Me=le.select("text.number");function ke(){var Se=typeof _[0].y=="number"?Re+Oe(_[0].y)+Te:"-";Me.text(Se).call(t.font,F.number.font).call(n.convertToTspans,I)}return d(q)?Me.transition().duration(q.duration).ease(q.easing).each("end",function(){ke(),re&&re()}).each("interrupt",function(){ke(),re&&re()}).attrTween("text",function(){var Se=b.select(this),He=s(_[0].lastY,_[0].y);F._lastValue=_[0].y;var je=se(F.number.valueformat,Oe,_[0].lastY,_[0].y);return function(at){Se.text(Re+je(He(at))+Te)}}):ke(),ie=m(Re+Oe(_[0].y)+Te,F.number.font,Z,I),Me}function G(){var De=A(I,{tickformat:F.delta.valueformat},F._range);De.setScale(),l.prepTicks(De);var Oe=function(at){return l.tickText(De,at).text},Te=F.delta.suffix,Re=F.delta.prefix,Me=function(at){var Ze=F.delta.relative?at.relativeDelta:at.delta;return Ze},ke=function(at,Ze){return at===0||typeof at!="number"||isNaN(at)?"-":(at>0?F.delta.increasing.symbol:F.delta.decreasing.symbol)+Re+Ze(at)+Te},Se=function(at){return at.delta>=0?F.delta.increasing.color:F.delta.decreasing.color};F._deltaLastValue===void 0&&(F._deltaLastValue=Me(_[0]));var He=le.select("text.delta");He.call(t.font,F.delta.font).call(h.fill,Se({delta:F._deltaLastValue}));function je(){He.text(ke(Me(_[0]),Oe)).call(h.fill,Se(_[0])).call(n.convertToTspans,I)}return d(q)?He.transition().duration(q.duration).ease(q.easing).tween("text",function(){var at=b.select(this),Ze=Me(_[0]),$e=F._deltaLastValue,ut=se(F.delta.valueformat,Oe,$e,Ze),ht=s($e,Ze);return F._deltaLastValue=Ze,function(vt){at.text(ke(ht(vt),ut)),at.call(h.fill,Se({delta:ht(vt)}))}}).each("end",function(){je(),re&&re()}).each("interrupt",function(){je(),re&&re()}):je(),K=m(ke(Me(_[0]),Oe),F.delta.font,Z,I),He}var oe=F.mode+F.align,te;if(F._hasDelta&&(te=G(),oe+=F.delta.position+F.delta.font.size+F.delta.font.family+F.delta.valueformat,oe+=F.delta.increasing.symbol+F.delta.decreasing.symbol,$=K),F._hasNumber&&(J(),oe+=F.number.font.size+F.number.font.family+F.number.valueformat+F.number.suffix+F.number.prefix,$=ie),F._hasDelta&&F._hasNumber){var fe=[(ie.left+ie.right)/2,(ie.top+ie.bottom)/2],ge=[(K.left+K.right)/2,(K.top+K.bottom)/2],we,xe,Ce=.75*F.delta.font.size;F.delta.position==="left"&&(we=k(F,"deltaPos",0,-1*(ie.width*c[F.align]+K.width*(1-c[F.align])+Ce),oe,Math.min),xe=fe[1]-ge[1],$={width:ie.width+K.width+Ce,height:Math.max(ie.height,K.height),left:K.left+we,right:ie.right,top:Math.min(ie.top,K.top+xe),bottom:Math.max(ie.bottom,K.bottom+xe)}),F.delta.position==="right"&&(we=k(F,"deltaPos",0,ie.width*(1-c[F.align])+K.width*c[F.align]+Ce,oe,Math.max),xe=fe[1]-ge[1],$={width:ie.width+K.width+Ce,height:Math.max(ie.height,K.height),left:ie.left,right:K.right+we,top:Math.min(ie.top,K.top+xe),bottom:Math.max(ie.bottom,K.bottom+xe)}),F.delta.position==="bottom"&&(we=null,xe=K.height,$={width:Math.max(ie.width,K.width),height:ie.height+K.height,left:Math.min(ie.left,K.left),right:Math.max(ie.right,K.right),top:ie.bottom-ie.height,bottom:ie.bottom+K.height}),F.delta.position==="top"&&(we=null,xe=ie.top,$={width:Math.max(ie.width,K.width),height:ie.height+K.height,left:Math.min(ie.left,K.left),right:Math.max(ie.right,K.right),top:ie.bottom-ie.height-K.height,bottom:ie.bottom}),te.attr({dx:we,dy:xe})}(F._hasNumber||F._hasDelta)&&le.attr("transform",function(){var De=B.numbersScaler($);oe+=De[2];var Oe=k(F,"numbersScale",1,De[0],oe,Math.min),Te;F._scaleNumbers||(Oe=1),F._isAngular?Te=N-Oe*$.bottom:Te=N-Oe*($.top+$.bottom)/2,F._numbersTop=Oe*$.top+Te;var Re=$[W];W==="center"&&(Re=($.left+$.right)/2);var Me=z-Oe*Re;return Me=k(F,"numbersTranslate",0,Me,oe,Math.max),v(Me,Te)+M(Oe)})}function y(I){I.each(function(O){h.stroke(b.select(this),O.line.color)}).each(function(O){h.fill(b.select(this),O.color)}).style("stroke-width",function(O){return O.line.width})}function S(I,O,_){return function(){var B=P(O,_);return function(F){return I.endAngle(B(F))()}}}function A(I,O,_){var B=I._fullLayout,F=L.extendFlat({type:"linear",ticks:"outside",range:_,showline:!0},O),z={type:"linear",_id:"x"+O._id},N={letter:"x",font:B.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function W(Z,q){return L.coerce(F,z,g,Z,q)}return u(F,z,W,N,B),f(F,z,W,N),z}function i(I,O,_){var B=Math.min(O/I.width,_/I.height);return[B,I,O+"x"+_]}function E(I,O){var _=Math.sqrt(I.width/2*(I.width/2)+I.height*I.height),B=O/_;return[B,I,O]}function m(I,O,_,B){var F=document.createElementNS("http://www.w3.org/2000/svg","text"),z=b.select(F);return z.text(I).attr("x",0).attr("y",0).attr("text-anchor",_).attr("data-unformatted",I).call(n.convertToTspans,B).call(t.font,O),t.bBox(z.node())}function k(I,O,_,B,F,z){var N="_cache"+O;I[N]&&I[N].key===F||(I[N]={key:F,value:_});var W=L.aggNums(z,null,[I[N].value,B],2);return I[N].value=W,W}},50048:function(Y,V,e){var b=e(49084),P=e(29736).axisHoverFormat,s=e(21776).Ks,L=e(52948),M=e(45464),v=e(92880).extendFlat,p=e(67824).overrideAll;function r(n){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function t(n){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var o=Y.exports=p(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:r(),y:r(),z:r()},caps:{x:t(),y:t(),z:t()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:s(),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),valuehoverformat:P("value",1),showlegend:v({},M.showlegend,{dflt:!1})},b("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L.opacity,lightposition:L.lightposition,lighting:L.lighting,flatshading:L.flatshading,contour:L.contour,hoverinfo:v({},M.hoverinfo)}),"calc","nested");o.flatshading.dflt=!0,o.lighting.facenormalsepsilon.dflt=0,o.x.editType=o.y.editType=o.z.editType=o.value.editType="calc+clearAxisTypes",o.transforms=void 0},62624:function(Y,V,e){var b=e(47128),P=e(3832).processGrid,s=e(3832).filter;Y.exports=function(M,v){v._len=Math.min(v.x.length,v.y.length,v.z.length,v.value.length),v._x=s(v.x,v._len),v._y=s(v.y,v._len),v._z=s(v.z,v._len),v._value=s(v.value,v._len);var p=P(v);v._gridFill=p.fill,v._Xs=p.Xs,v._Ys=p.Ys,v._Zs=p.Zs,v._len=p.len;for(var r=1/0,t=-1/0,o=0;o<v._len;o++){var n=v._value[o];r=Math.min(r,n),t=Math.max(t,n)}v._minValues=r,v._maxValues=t,v._vMin=v.isomin===void 0||v.isomin===null?r:v.isomin,v._vMax=v.isomax===void 0||v.isomax===null?t:v.isomax,b(M,v,{vals:[v._vMin,v._vMax],containerStr:"",cLetter:"c"})}},31460:function(Y,V,e){var b=e(67792).gl_mesh3d,P=e(33040).parseColorScale,s=e(3400).isArrayOrTypedArray,L=e(43080),M=e(8932).extractOpts,v=e(52094),p=function(u,f){for(var g=f.length-1;g>0;g--){var h=Math.min(f[g],f[g-1]),w=Math.max(f[g],f[g-1]);if(w>h&&h<u&&u<=w)return{id:g,distRatio:(w-u)/(w-h)}}return{id:0,distRatio:0}};function r(u,f,g){this.scene=u,this.uid=g,this.mesh=f,this.name="",this.data=null,this.showContour=!1}var t=r.prototype;t.handlePick=function(u){if(u.object===this.mesh){var f=u.data.index,g=this.data._meshX[f],h=this.data._meshY[f],w=this.data._meshZ[f],c=this.data._Ys.length,a=this.data._Zs.length,d=p(g,this.data._Xs).id,x=p(h,this.data._Ys).id,T=p(w,this.data._Zs).id,C=u.index=T+a*x+a*c*d;u.traceCoordinate=[this.data._meshX[C],this.data._meshY[C],this.data._meshZ[C],this.data._value[C]];var y=this.data.hovertext||this.data.text;return s(y)&&y[C]!==void 0?u.textLabel=y[C]:y&&(u.textLabel=y),!0}},t.update=function(u){var f=this.scene,g=f.fullSceneLayout;this.data=n(u);function h(x,T,C,y){return T.map(function(S){return x.d2l(S,0,y)*C})}var w=v(h(g.xaxis,u._meshX,f.dataScale[0],u.xcalendar),h(g.yaxis,u._meshY,f.dataScale[1],u.ycalendar),h(g.zaxis,u._meshZ,f.dataScale[2],u.zcalendar)),c=v(u._meshI,u._meshJ,u._meshK),a={positions:w,cells:c,lightPosition:[u.lightposition.x,u.lightposition.y,u.lightposition.z],ambient:u.lighting.ambient,diffuse:u.lighting.diffuse,specular:u.lighting.specular,roughness:u.lighting.roughness,fresnel:u.lighting.fresnel,vertexNormalsEpsilon:u.lighting.vertexnormalsepsilon,faceNormalsEpsilon:u.lighting.facenormalsepsilon,opacity:u.opacity,contourEnable:u.contour.show,contourColor:L(u.contour.color).slice(0,3),contourWidth:u.contour.width,useFacetNormals:u.flatshading},d=M(u);a.vertexIntensity=u._meshIntensity,a.vertexIntensityBounds=[d.min,d.max],a.colormap=P(u),this.mesh.update(a)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var o=["xyz","xzy","yxz","yzx","zxy","zyx"];function n(u){u._meshI=[],u._meshJ=[],u._meshK=[];var f=u.surface.show,g=u.spaceframe.show,h=u.surface.fill,w=u.spaceframe.fill,c=!1,a=!1,d=0,x,T,C=u._Xs,y=u._Ys,S=u._Zs,A=C.length,i=y.length,E=S.length,m=o.indexOf(u._gridFill.replace(/-/g,"").replace(/\+/g,"")),k=function(Ge,Xe,Le){switch(m){case 5:return Le+E*Xe+E*i*Ge;case 4:return Le+E*Ge+E*A*Xe;case 3:return Xe+i*Le+i*E*Ge;case 2:return Xe+i*Ge+i*A*Le;case 1:return Ge+A*Le+A*E*Xe;default:return Ge+A*Xe+A*i*Le}},I=u._minValues,O=u._maxValues,_=u._vMin,B=u._vMax,F,z,N,W;function Z(Ge,Xe,Le){for(var Fe=W.length,Ue=T;Ue<Fe;Ue++)if(Ge===F[Ue]&&Xe===z[Ue]&&Le===N[Ue])return Ue;return-1}function q(){T=x}function re(){F=[],z=[],N=[],W=[],x=0,q()}function le(Ge,Xe,Le,Fe){return F.push(Ge),z.push(Xe),N.push(Le),W.push(Fe),x++,x-1}function ie(Ge,Xe,Le){return u._meshI.push(Ge),u._meshJ.push(Xe),u._meshK.push(Le),d++,d-1}function K(Ge,Xe,Le){for(var Fe=[],Ue=0;Ue<Ge.length;Ue++)Fe[Ue]=(Ge[Ue]+Xe[Ue]+Le[Ue])/3;return Fe}function $(Ge,Xe,Le){for(var Fe=[],Ue=0;Ue<Ge.length;Ue++)Fe[Ue]=Ge[Ue]*(1-Le)+Le*Xe[Ue];return Fe}var X;function Q(Ge){X=Ge}function se(Ge,Xe){var Le=Ge[0],Fe=Ge[1],Ue=Ge[2],Ee=K(Le,Fe,Ue),he=Math.sqrt(1-X),ye=$(Ee,Le,he),_e=$(Ee,Fe,he),We=$(Ee,Ue,he),rt=Xe[0],st=Xe[1],Vt=Xe[2];return{xyzv:[[Le,Fe,_e],[_e,ye,Le],[Fe,Ue,We],[We,_e,Fe],[Ue,Le,ye],[ye,We,Ue]],abc:[[rt,st,-1],[-1,-1,rt],[st,Vt,-1],[-1,-1,st],[Vt,rt,-1],[-1,-1,Vt]]}}function J(Ge,Xe){return Ge==="all"||Ge===null?!0:Ge.indexOf(Xe)>-1}function G(Ge,Xe){return Ge===null?Xe:Ge}function oe(Ge,Xe,Le){q();var Fe=[Xe],Ue=[Le];if(X>=1)Fe=[Xe],Ue=[Le];else if(X>0){var Ee=se(Xe,Le);Fe=Ee.xyzv,Ue=Ee.abc}for(var he=0;he<Fe.length;he++){Xe=Fe[he],Le=Ue[he];for(var ye=[],_e=0;_e<3;_e++){var We=Xe[_e][0],rt=Xe[_e][1],st=Xe[_e][2],Vt=Xe[_e][3],Xt=Le[_e]>-1?Le[_e]:Z(We,rt,st);Xt>-1?ye[_e]=Xt:ye[_e]=le(We,rt,st,G(Ge,Vt))}ie(ye[0],ye[1],ye[2])}}function te(Ge,Xe,Le){var Fe=function(Ue,Ee,he){oe(Ge,[Xe[Ue],Xe[Ee],Xe[he]],[Le[Ue],Le[Ee],Le[he]])};Fe(0,1,2),Fe(2,3,0)}function fe(Ge,Xe,Le){var Fe=function(Ue,Ee,he){oe(Ge,[Xe[Ue],Xe[Ee],Xe[he]],[Le[Ue],Le[Ee],Le[he]])};Fe(0,1,2),Fe(3,0,1),Fe(2,3,0),Fe(1,2,3)}function ge(Ge,Xe,Le,Fe){var Ue=Ge[3];Ue<Le&&(Ue=Le),Ue>Fe&&(Ue=Fe);for(var Ee=(Ge[3]-Ue)/(Ge[3]-Xe[3]+1e-9),he=[],ye=0;ye<4;ye++)he[ye]=(1-Ee)*Ge[ye]+Ee*Xe[ye];return he}function we(Ge,Xe,Le){return Ge>=Xe&&Ge<=Le}function xe(Ge){var Xe=.001*(B-_);return Ge>=_-Xe&&Ge<=B+Xe}function Ce(Ge){for(var Xe=[],Le=0;Le<4;Le++){var Fe=Ge[Le];Xe.push([u._x[Fe],u._y[Fe],u._z[Fe],u._value[Fe]])}return Xe}var De=3;function Oe(Ge,Xe,Le,Fe,Ue,Ee){Ee||(Ee=1),Le=[-1,-1,-1];var he=!1,ye=[we(Xe[0][3],Fe,Ue),we(Xe[1][3],Fe,Ue),we(Xe[2][3],Fe,Ue)];if(!ye[0]&&!ye[1]&&!ye[2])return!1;var _e=function(rt,st,Vt){return xe(st[0][3])&&xe(st[1][3])&&xe(st[2][3])?(oe(rt,st,Vt),!0):Ee<De?Oe(rt,st,Vt,_,B,++Ee):!1};if(ye[0]&&ye[1]&&ye[2])return _e(Ge,Xe,Le)||he;var We=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(rt){if(ye[rt[0]]&&ye[rt[1]]&&!ye[rt[2]]){var st=Xe[rt[0]],Vt=Xe[rt[1]],Xt=Xe[rt[2]],Tt=ge(Xt,st,Fe,Ue),Lt=ge(Xt,Vt,Fe,Ue);he=_e(Ge,[Lt,Tt,st],[-1,-1,Le[rt[0]]])||he,he=_e(Ge,[st,Vt,Lt],[Le[rt[0]],Le[rt[1]],-1])||he,We=!0}}),We||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(rt){if(ye[rt[0]]&&!ye[rt[1]]&&!ye[rt[2]]){var st=Xe[rt[0]],Vt=Xe[rt[1]],Xt=Xe[rt[2]],Tt=ge(Vt,st,Fe,Ue),Lt=ge(Xt,st,Fe,Ue);he=_e(Ge,[Lt,Tt,st],[-1,-1,Le[rt[0]]])||he,We=!0}}),he}function Te(Ge,Xe,Le,Fe){var Ue=!1,Ee=Ce(Xe),he=[we(Ee[0][3],Le,Fe),we(Ee[1][3],Le,Fe),we(Ee[2][3],Le,Fe),we(Ee[3][3],Le,Fe)];if(!he[0]&&!he[1]&&!he[2]&&!he[3])return Ue;if(he[0]&&he[1]&&he[2]&&he[3])return a&&(Ue=fe(Ge,Ee,Xe)||Ue),Ue;var ye=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(_e){if(he[_e[0]]&&he[_e[1]]&&he[_e[2]]&&!he[_e[3]]){var We=Ee[_e[0]],rt=Ee[_e[1]],st=Ee[_e[2]],Vt=Ee[_e[3]];if(a)Ue=oe(Ge,[We,rt,st],[Xe[_e[0]],Xe[_e[1]],Xe[_e[2]]])||Ue;else{var Xt=ge(Vt,We,Le,Fe),Tt=ge(Vt,rt,Le,Fe),Lt=ge(Vt,st,Le,Fe);Ue=oe(null,[Xt,Tt,Lt],[-1,-1,-1])||Ue}ye=!0}}),ye||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(_e){if(he[_e[0]]&&he[_e[1]]&&!he[_e[2]]&&!he[_e[3]]){var We=Ee[_e[0]],rt=Ee[_e[1]],st=Ee[_e[2]],Vt=Ee[_e[3]],Xt=ge(st,We,Le,Fe),Tt=ge(st,rt,Le,Fe),Lt=ge(Vt,rt,Le,Fe),Kt=ge(Vt,We,Le,Fe);a?(Ue=oe(Ge,[We,Kt,Xt],[Xe[_e[0]],-1,-1])||Ue,Ue=oe(Ge,[rt,Tt,Lt],[Xe[_e[1]],-1,-1])||Ue):Ue=te(null,[Xt,Tt,Lt,Kt],[-1,-1,-1,-1])||Ue,ye=!0}}),ye)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(_e){if(he[_e[0]]&&!he[_e[1]]&&!he[_e[2]]&&!he[_e[3]]){var We=Ee[_e[0]],rt=Ee[_e[1]],st=Ee[_e[2]],Vt=Ee[_e[3]],Xt=ge(rt,We,Le,Fe),Tt=ge(st,We,Le,Fe),Lt=ge(Vt,We,Le,Fe);a?(Ue=oe(Ge,[We,Xt,Tt],[Xe[_e[0]],-1,-1])||Ue,Ue=oe(Ge,[We,Tt,Lt],[Xe[_e[0]],-1,-1])||Ue,Ue=oe(Ge,[We,Lt,Xt],[Xe[_e[0]],-1,-1])||Ue):Ue=oe(null,[Xt,Tt,Lt],[-1,-1,-1])||Ue,ye=!0}}),Ue}function Re(Ge,Xe,Le,Fe,Ue,Ee,he,ye,_e,We,rt){var st=!1;return c&&(J(Ge,"A")&&(st=Te(null,[Xe,Le,Fe,Ee],We,rt)||st),J(Ge,"B")&&(st=Te(null,[Le,Fe,Ue,_e],We,rt)||st),J(Ge,"C")&&(st=Te(null,[Le,Ee,he,_e],We,rt)||st),J(Ge,"D")&&(st=Te(null,[Fe,Ee,ye,_e],We,rt)||st),J(Ge,"E")&&(st=Te(null,[Le,Fe,Ee,_e],We,rt)||st)),a&&(st=Te(Ge,[Le,Fe,Ee,_e],We,rt)||st),st}function Me(Ge,Xe,Le,Fe,Ue,Ee,he,ye){return[ye[0]===!0?!0:Oe(Ge,Ce([Xe,Le,Fe]),[Xe,Le,Fe],Ee,he),ye[1]===!0?!0:Oe(Ge,Ce([Fe,Ue,Xe]),[Fe,Ue,Xe],Ee,he)]}function ke(Ge,Xe,Le,Fe,Ue,Ee,he,ye,_e){return ye?Me(Ge,Xe,Le,Ue,Fe,Ee,he,_e):Me(Ge,Le,Ue,Fe,Xe,Ee,he,_e)}function Se(Ge,Xe,Le,Fe,Ue,Ee,he){var ye=!1,_e,We,rt,st,Vt=function(){ye=Oe(Ge,[_e,We,rt],[-1,-1,-1],Ue,Ee)||ye,ye=Oe(Ge,[rt,st,_e],[-1,-1,-1],Ue,Ee)||ye},Xt=he[0],Tt=he[1],Lt=he[2];return Xt&&(_e=$(Ce([k(Xe,Le-0,Fe-0)])[0],Ce([k(Xe-1,Le-0,Fe-0)])[0],Xt),We=$(Ce([k(Xe,Le-0,Fe-1)])[0],Ce([k(Xe-1,Le-0,Fe-1)])[0],Xt),rt=$(Ce([k(Xe,Le-1,Fe-1)])[0],Ce([k(Xe-1,Le-1,Fe-1)])[0],Xt),st=$(Ce([k(Xe,Le-1,Fe-0)])[0],Ce([k(Xe-1,Le-1,Fe-0)])[0],Xt),Vt()),Tt&&(_e=$(Ce([k(Xe-0,Le,Fe-0)])[0],Ce([k(Xe-0,Le-1,Fe-0)])[0],Tt),We=$(Ce([k(Xe-0,Le,Fe-1)])[0],Ce([k(Xe-0,Le-1,Fe-1)])[0],Tt),rt=$(Ce([k(Xe-1,Le,Fe-1)])[0],Ce([k(Xe-1,Le-1,Fe-1)])[0],Tt),st=$(Ce([k(Xe-1,Le,Fe-0)])[0],Ce([k(Xe-1,Le-1,Fe-0)])[0],Tt),Vt()),Lt&&(_e=$(Ce([k(Xe-0,Le-0,Fe)])[0],Ce([k(Xe-0,Le-0,Fe-1)])[0],Lt),We=$(Ce([k(Xe-0,Le-1,Fe)])[0],Ce([k(Xe-0,Le-1,Fe-1)])[0],Lt),rt=$(Ce([k(Xe-1,Le-1,Fe)])[0],Ce([k(Xe-1,Le-1,Fe-1)])[0],Lt),st=$(Ce([k(Xe-1,Le-0,Fe)])[0],Ce([k(Xe-1,Le-0,Fe-1)])[0],Lt),Vt()),ye}function He(Ge,Xe,Le,Fe,Ue,Ee,he,ye,_e,We,rt,st){var Vt=Ge;return st?(c&&Ge==="even"&&(Vt=null),Re(Vt,Xe,Le,Fe,Ue,Ee,he,ye,_e,We,rt)):(c&&Ge==="odd"&&(Vt=null),Re(Vt,_e,ye,he,Ee,Ue,Fe,Le,Xe,We,rt))}function je(Ge,Xe,Le,Fe,Ue){for(var Ee=[],he=0,ye=0;ye<Xe.length;ye++)for(var _e=Xe[ye],We=1;We<E;We++)for(var rt=1;rt<i;rt++)Ee.push(ke(Ge,k(_e,rt-1,We-1),k(_e,rt-1,We),k(_e,rt,We-1),k(_e,rt,We),Le,Fe,(_e+rt+We)%2,Ue&&Ue[he]?Ue[he]:[])),he++;return Ee}function at(Ge,Xe,Le,Fe,Ue){for(var Ee=[],he=0,ye=0;ye<Xe.length;ye++)for(var _e=Xe[ye],We=1;We<A;We++)for(var rt=1;rt<E;rt++)Ee.push(ke(Ge,k(We-1,_e,rt-1),k(We,_e,rt-1),k(We-1,_e,rt),k(We,_e,rt),Le,Fe,(We+_e+rt)%2,Ue&&Ue[he]?Ue[he]:[])),he++;return Ee}function Ze(Ge,Xe,Le,Fe,Ue){for(var Ee=[],he=0,ye=0;ye<Xe.length;ye++)for(var _e=Xe[ye],We=1;We<i;We++)for(var rt=1;rt<A;rt++)Ee.push(ke(Ge,k(rt-1,We-1,_e),k(rt-1,We,_e),k(rt,We-1,_e),k(rt,We,_e),Le,Fe,(rt+We+_e)%2,Ue&&Ue[he]?Ue[he]:[])),he++;return Ee}function $e(Ge,Xe,Le){for(var Fe=1;Fe<E;Fe++)for(var Ue=1;Ue<i;Ue++)for(var Ee=1;Ee<A;Ee++)He(Ge,k(Ee-1,Ue-1,Fe-1),k(Ee-1,Ue-1,Fe),k(Ee-1,Ue,Fe-1),k(Ee-1,Ue,Fe),k(Ee,Ue-1,Fe-1),k(Ee,Ue-1,Fe),k(Ee,Ue,Fe-1),k(Ee,Ue,Fe),Xe,Le,(Ee+Ue+Fe)%2)}function ut(Ge,Xe,Le){a=!0,$e(Ge,Xe,Le),a=!1}function ht(Ge,Xe,Le){c=!0,$e(Ge,Xe,Le),c=!1}function vt(Ge,Xe,Le,Fe,Ue,Ee){for(var he=[],ye=0,_e=0;_e<Xe.length;_e++)for(var We=Xe[_e],rt=1;rt<E;rt++)for(var st=1;st<i;st++)he.push(Se(Ge,We,st,rt,Le,Fe,Ue[_e],Ee&&Ee[ye]?Ee[ye]:[])),ye++;return he}function xt(Ge,Xe,Le,Fe,Ue,Ee){for(var he=[],ye=0,_e=0;_e<Xe.length;_e++)for(var We=Xe[_e],rt=1;rt<A;rt++)for(var st=1;st<E;st++)he.push(Se(Ge,rt,We,st,Le,Fe,Ue[_e],Ee&&Ee[ye]?Ee[ye]:[])),ye++;return he}function St(Ge,Xe,Le,Fe,Ue,Ee){for(var he=[],ye=0,_e=0;_e<Xe.length;_e++)for(var We=Xe[_e],rt=1;rt<i;rt++)for(var st=1;st<A;st++)he.push(Se(Ge,st,rt,We,Le,Fe,Ue[_e],Ee&&Ee[ye]?Ee[ye]:[])),ye++;return he}function tt(Ge,Xe){for(var Le=[],Fe=Ge;Fe<Xe;Fe++)Le.push(Fe);return Le}function Ie(){for(var Ge=0;Ge<A;Ge++)for(var Xe=0;Xe<i;Xe++)for(var Le=0;Le<E;Le++){var Fe=k(Ge,Xe,Le);le(u._x[Fe],u._y[Fe],u._z[Fe],u._value[Fe])}}function Ve(){re(),Ie();var Ge=null;if(g&&w&&(Q(w),ut(Ge,_,B)),f&&h){Q(h);for(var Xe=u.surface.pattern,Le=u.surface.count,Fe=0;Fe<Le;Fe++){var Ue=Le===1?.5:Fe/(Le-1),Ee=(1-Ue)*_+Ue*B,he=Math.abs(Ee-I),ye=Math.abs(Ee-O),_e=he>ye?[I,Ee]:[Ee,O];ht(Xe,_e[0],_e[1])}}var We=[[Math.min(_,O),Math.max(_,O)],[Math.min(I,B),Math.max(I,B)]];["x","y","z"].forEach(function(rt){for(var st=[],Vt=0;Vt<We.length;Vt++){var Xt=0,Tt=We[Vt][0],Lt=We[Vt][1],Kt=u.slices[rt];if(Kt.show&&Kt.fill){Q(Kt.fill);var vr=[],pt=[],jt=[];if(Kt.locations.length)for(var $t=0;$t<Kt.locations.length;$t++){var mr=p(Kt.locations[$t],rt==="x"?C:rt==="y"?y:S);mr.distRatio===0?vr.push(mr.id):mr.id>0&&(pt.push(mr.id),rt==="x"?jt.push([mr.distRatio,0,0]):rt==="y"?jt.push([0,mr.distRatio,0]):jt.push([0,0,mr.distRatio]))}else rt==="x"?vr=tt(1,A-1):rt==="y"?vr=tt(1,i-1):vr=tt(1,E-1);pt.length>0&&(rt==="x"?st[Xt]=vt(Ge,pt,Tt,Lt,jt,st[Xt]):rt==="y"?st[Xt]=xt(Ge,pt,Tt,Lt,jt,st[Xt]):st[Xt]=St(Ge,pt,Tt,Lt,jt,st[Xt]),Xt++),vr.length>0&&(rt==="x"?st[Xt]=je(Ge,vr,Tt,Lt,st[Xt]):rt==="y"?st[Xt]=at(Ge,vr,Tt,Lt,st[Xt]):st[Xt]=Ze(Ge,vr,Tt,Lt,st[Xt]),Xt++)}var or=u.caps[rt];or.show&&or.fill&&(Q(or.fill),rt==="x"?st[Xt]=je(Ge,[0,A-1],Tt,Lt,st[Xt]):rt==="y"?st[Xt]=at(Ge,[0,i-1],Tt,Lt,st[Xt]):st[Xt]=Ze(Ge,[0,E-1],Tt,Lt,st[Xt]),Xt++)}}),d===0&&re(),u._meshX=F,u._meshY=z,u._meshZ=N,u._meshIntensity=W,u._Xs=C,u._Ys=y,u._Zs=S}return Ve(),u}function l(u,f){var g=u.glplot.gl,h=b({gl:g}),w=new r(u,h,f.uid);return h._trace=w,w.update(f),u.glplot.add(h),w}Y.exports={findNearestOnAxis:p,generateIsoMeshes:n,createIsosurfaceTrace:l}},70548:function(Y,V,e){var b=e(3400),P=e(24040),s=e(50048),L=e(27260);function M(p,r,t,o){function n(l,u){return b.coerce(p,r,s,l,u)}v(p,r,t,o,n)}function v(p,r,t,o,n){var l=n("isomin"),u=n("isomax");u!=null&&l!==void 0&&l!==null&&l>u&&(r.isomin=null,r.isomax=null);var f=n("x"),g=n("y"),h=n("z"),w=n("value");if(!f||!f.length||!g||!g.length||!h||!h.length||!w||!w.length){r.visible=!1;return}var c=P.getComponentMethod("calendars","handleTraceDefaults");c(p,r,["x","y","z"],o),n("valuehoverformat"),["x","y","z"].forEach(function(T){n(T+"hoverformat");var C="caps."+T,y=n(C+".show");y&&n(C+".fill");var S="slices."+T,A=n(S+".show");A&&(n(S+".fill"),n(S+".locations"))});var a=n("spaceframe.show");a&&n("spaceframe.fill");var d=n("surface.show");d&&(n("surface.count"),n("surface.fill"),n("surface.pattern"));var x=n("contour.show");x&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(T){n(T)}),L(p,r,o,n,{prefix:"",cLetter:"c"}),r._length=null}Y.exports={supplyDefaults:M,supplyIsoDefaults:v}},6296:function(Y,V,e){Y.exports={attributes:e(50048),supplyDefaults:e(70548).supplyDefaults,calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(31460).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},52948:function(Y,V,e){var b=e(49084),P=e(29736).axisHoverFormat,s=e(21776).Ks,L=e(16716),M=e(45464),v=e(92880).extendFlat;Y.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:s({editType:"calc"}),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},b("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},L.contours.x.show,{}),color:L.contours.x.color,width:L.contours.x.width,editType:"calc"},lightposition:{x:v({},L.lightposition.x,{dflt:1e5}),y:v({},L.lightposition.y,{dflt:1e5}),z:v({},L.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},L.lighting),hoverinfo:v({},M.hoverinfo,{editType:"calc"}),showlegend:v({},M.showlegend,{dflt:!1})})},1876:function(Y,V,e){var b=e(47128);Y.exports=function(s,L){L.intensity&&b(s,L,{vals:L.intensity,containerStr:"",cLetter:"c"})}},576:function(Y,V,e){var b=e(67792).gl_mesh3d,P=e(67792).delaunay_triangulate,s=e(67792).alpha_shape,L=e(67792).convex_hull,M=e(33040).parseColorScale,v=e(3400).isArrayOrTypedArray,p=e(43080),r=e(8932).extractOpts,t=e(52094);function o(c,a,d){this.scene=c,this.uid=d,this.mesh=a,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var n=o.prototype;n.handlePick=function(c){if(c.object===this.mesh){var a=c.index=c.data.index;c.data._cellCenter?c.traceCoordinate=c.data.dataCoordinate:c.traceCoordinate=[this.data.x[a],this.data.y[a],this.data.z[a]];var d=this.data.hovertext||this.data.text;return v(d)&&d[a]!==void 0?c.textLabel=d[a]:d&&(c.textLabel=d),!0}};function l(c){for(var a=[],d=c.length,x=0;x<d;x++)a[x]=p(c[x]);return a}function u(c,a,d,x){for(var T=[],C=a.length,y=0;y<C;y++)T[y]=c.d2l(a[y],0,x)*d;return T}function f(c){for(var a=[],d=c.length,x=0;x<d;x++)a[x]=Math.round(c[x]);return a}function g(c,a){for(var d=["x","y","z"].indexOf(c),x=[],T=a.length,C=0;C<T;C++)x[C]=[a[C][(d+1)%3],a[C][(d+2)%3]];return P(x)}function h(c,a){for(var d=c.length,x=0;x<d;x++)if(c[x]<=-.5||c[x]>=a-.5)return!1;return!0}n.update=function(c){var a=this.scene,d=a.fullSceneLayout;this.data=c;var x=c.x.length,T=t(u(d.xaxis,c.x,a.dataScale[0],c.xcalendar),u(d.yaxis,c.y,a.dataScale[1],c.ycalendar),u(d.zaxis,c.z,a.dataScale[2],c.zcalendar)),C;if(c.i&&c.j&&c.k){if(c.i.length!==c.j.length||c.j.length!==c.k.length||!h(c.i,x)||!h(c.j,x)||!h(c.k,x))return;C=t(f(c.i),f(c.j),f(c.k))}else c.alphahull===0?C=L(T):c.alphahull>0?C=s(c.alphahull,T):C=g(c.delaunayaxis,T);var y={positions:T,cells:C,lightPosition:[c.lightposition.x,c.lightposition.y,c.lightposition.z],ambient:c.lighting.ambient,diffuse:c.lighting.diffuse,specular:c.lighting.specular,roughness:c.lighting.roughness,fresnel:c.lighting.fresnel,vertexNormalsEpsilon:c.lighting.vertexnormalsepsilon,faceNormalsEpsilon:c.lighting.facenormalsepsilon,opacity:c.opacity,contourEnable:c.contour.show,contourColor:p(c.contour.color).slice(0,3),contourWidth:c.contour.width,useFacetNormals:c.flatshading};if(c.intensity){var S=r(c);this.color="#fff";var A=c.intensitymode;y[A+"Intensity"]=c.intensity,y[A+"IntensityBounds"]=[S.min,S.max],y.colormap=M(c)}else c.vertexcolor?(this.color=c.vertexcolor[0],y.vertexColors=l(c.vertexcolor)):c.facecolor?(this.color=c.facecolor[0],y.cellColors=l(c.facecolor)):(this.color=c.color,y.meshColor=p(c.color));this.mesh.update(y)},n.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function w(c,a){var d=c.glplot.gl,x=b({gl:d}),T=new o(c,x,a.uid);return x._trace=T,T.update(a),c.glplot.add(x),T}Y.exports=w},74212:function(Y,V,e){var b=e(24040),P=e(3400),s=e(27260),L=e(52948);Y.exports=function(v,p,r,t){function o(g,h){return P.coerce(v,p,L,g,h)}function n(g){var h=g.map(function(w){var c=o(w);return c&&P.isArrayOrTypedArray(c)?c:null});return h.every(function(w){return w&&w.length===h[0].length})&&h}var l=n(["x","y","z"]);if(!l){p.visible=!1;return}if(n(["i","j","k"]),p.i&&(!p.j||!p.k)||p.j&&(!p.k||!p.i)||p.k&&(!p.i||!p.j)){p.visible=!1;return}var u=b.getComponentMethod("calendars","handleTraceDefaults");u(v,p,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(g){o(g)});var f=o("contour.show");f&&(o("contour.color"),o("contour.width")),"intensity"in v?(o("intensity"),o("intensitymode"),s(v,p,t,o,{prefix:"",cLetter:"c"})):(p.showscale=!1,"facecolor"in v?o("facecolor"):"vertexcolor"in v?o("vertexcolor"):o("color",r)),o("text"),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),p._length=null}},7404:function(Y,V,e){Y.exports={attributes:e(52948),supplyDefaults:e(74212),calc:e(1876),colorbar:{min:"cmin",max:"cmax"},plot:e(576),moduleType:"trace",name:"mesh3d",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},20279:function(Y,V,e){var b=e(3400).extendFlat,P=e(52904),s=e(29736).axisHoverFormat,L=e(98192).u,M=e(55756),v=e(48164),p=v.INCREASING.COLOR,r=v.DECREASING.COLOR,t=P.line;function o(n){return{line:{color:b({},t.color,{dflt:n}),width:t.width,dash:L,editType:"style"},editType:"style"}}Y.exports={xperiod:P.xperiod,xperiod0:P.xperiod0,xperiodalignment:P.xperiodalignment,xhoverformat:s("x"),yhoverformat:s("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:b({},t.width,{}),dash:b({},L,{}),editType:"style"},increasing:o(p),decreasing:o(r),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:b({},M.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}}),zorder:P.zorder}},42812:function(Y,V,e){var b=e(3400),P=b._,s=e(54460),L=e(1220),M=e(39032).BADNUM;function v(o,n){var l=s.getFromId(o,n.xaxis),u=s.getFromId(o,n.yaxis),f=t(o,l,n),g=n._minDiff;n._minDiff=null;var h=n._origX;n._origX=null;var w=n._xcalc;n._xcalc=null;var c=r(o,n,h,w,u,p);return n._extremes[l._id]=s.findExtremes(l,w,{vpad:g/2}),c.length?(b.extendFlat(c[0].t,{wHover:g/2,tickLen:f}),c):[{t:{empty:!0}}]}function p(o,n,l,u){return{o,h:n,l,c:u}}function r(o,n,l,u,f,g){for(var h=f.makeCalcdata(n,"open"),w=f.makeCalcdata(n,"high"),c=f.makeCalcdata(n,"low"),a=f.makeCalcdata(n,"close"),d=b.isArrayOrTypedArray(n.text),x=b.isArrayOrTypedArray(n.hovertext),T=!0,C=null,y=!!n.xperiodalignment,S=[],A=0;A<u.length;A++){var i=u[A],E=h[A],m=w[A],k=c[A],I=a[A];if(i!==M&&E!==M&&m!==M&&k!==M&&I!==M){I===E?C!==null&&I!==C&&(T=I>C):T=I>E,C=I;var O=g(E,m,k,I);O.pos=i,O.yc=(E+I)/2,O.i=A,O.dir=T?"increasing":"decreasing",O.x=O.pos,O.y=[k,m],y&&(O.orig_p=l[A]),d&&(O.tx=n.text[A]),x&&(O.htx=n.hovertext[A]),S.push(O)}else S.push({pos:i,empty:!0})}return n._extremes[f._id]=s.findExtremes(f,b.concat(c,w),{padded:!0}),S.length&&(S[0].t={labels:{open:P(o,"open:")+" ",high:P(o,"high:")+" ",low:P(o,"low:")+" ",close:P(o,"close:")+" "}}),S}function t(o,n,l){var u=l._minDiff;if(!u){var f=o._fullData,g=[];u=1/0;var h;for(h=0;h<f.length;h++){var w=f[h];if(w.type==="ohlc"&&w.visible===!0&&w.xaxis===n._id){g.push(w);var c=n.makeCalcdata(w,"x");w._origX=c;var a=L(l,n,"x",c).vals;w._xcalc=a;var d=b.distinctVals(a).minDiff;d&&isFinite(d)&&(u=Math.min(u,d))}}for(u===1/0&&(u=1),h=0;h<g.length;h++)g[h]._minDiff=u}return u*l.tickwidth}Y.exports={calc:v,calcCommon:r}},23860:function(Y,V,e){var b=e(3400),P=e(52744),s=e(31147),L=e(20279);Y.exports=function(p,r,t,o){function n(u,f){return b.coerce(p,r,L,u,f)}var l=P(p,r,n,o);if(!l){r.visible=!1;return}s(p,r,o,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),n("line.dash"),M(p,r,n,"increasing"),M(p,r,n,"decreasing"),n("text"),n("hovertext"),n("tickwidth"),o._requestRangeslider[r.xaxis]=!0,n("zorder")};function M(v,p,r,t){r(t+".line.color"),r(t+".line.width",p.line.width),r(t+".line.dash",p.line.dash)}},18720:function(Y,V,e){var b=e(54460),P=e(3400),s=e(93024),L=e(76308),M=e(3400).fillText,v=e(48164),p={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function r(l,u,f,g){var h=l.cd,w=h[0].trace;return w.hoverlabel.split?o(l,u,f,g):n(l,u,f,g)}function t(l,u,f,g){var h=l.cd,w=l.xa,c=h[0].trace,a=h[0].t,d=c.type,x=d==="ohlc"?"l":"min",T=d==="ohlc"?"h":"max",C,y,S=a.bPos||0,A=function(W){return W.pos+S-u},i=a.bdPos||a.tickLen,E=a.wHover,m=Math.min(1,i/Math.abs(w.r2c(w.range[1])-w.r2c(w.range[0])));C=l.maxHoverDistance-m,y=l.maxSpikeDistance-m;function k(W){var Z=A(W);return s.inbox(Z-E,Z+E,C)}function I(W){var Z=W[x],q=W[T];return Z===q||s.inbox(Z-f,q-f,C)}function O(W){return(k(W)+I(W))/2}var _=s.getDistanceFunction(g,k,I,O);if(s.getClosest(h,_,l),l.index===!1)return null;var B=h[l.index];if(B.empty)return null;var F=B.dir,z=c[F],N=z.line.color;return L.opacity(N)&&z.line.width?l.color=N:l.color=z.fillcolor,l.x0=w.c2p(B.pos+S-i,!0),l.x1=w.c2p(B.pos+S+i,!0),l.xLabelVal=B.orig_p!==void 0?B.orig_p:B.pos,l.spikeDistance=O(B)*y/C,l.xSpike=w.c2p(B.pos,!0),l}function o(l,u,f,g){var h=l.cd,w=l.ya,c=h[0].trace,a=h[0].t,d=[],x=t(l,u,f,g);if(!x)return[];var T=x.index,C=h[T],y=C.hi||c.hoverinfo,S=y.split("+"),A=y==="all",i=A||S.indexOf("y")!==-1;if(!i)return[];for(var E=["high","open","close","low"],m={},k=0;k<E.length;k++){var I=E[k],O=c[I][x.index],_=w.c2p(O,!0),B;O in m?(B=m[O],B.yLabel+="<br>"+a.labels[I]+b.hoverLabelText(w,O,c.yhoverformat)):(B=P.extendFlat({},x),B.y0=B.y1=_,B.yLabelVal=O,B.yLabel=a.labels[I]+b.hoverLabelText(w,O,c.yhoverformat),B.name="",d.push(B),m[O]=B)}return d}function n(l,u,f,g){var h=l.cd,w=l.ya,c=h[0].trace,a=h[0].t,d=t(l,u,f,g);if(!d)return[];var x=d.index,T=h[x],C=d.index=T.i,y=T.dir;function S(O){return a.labels[O]+b.hoverLabelText(w,c[O][C],c.yhoverformat)}var A=T.hi||c.hoverinfo,i=A.split("+"),E=A==="all",m=E||i.indexOf("y")!==-1,k=E||i.indexOf("text")!==-1,I=m?[S("open"),S("high"),S("low"),S("close")+"  "+p[y]]:[];return k&&M(T,c,I),d.extraText=I.join("<br>"),d.y0=d.y1=w.c2p(T.yc,!0),[d]}Y.exports={hoverPoints:r,hoverSplit:o,hoverOnPoints:n}},65456:function(Y,V,e){Y.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(57952),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(20279),supplyDefaults:e(23860),calc:e(42812).calc,plot:e(36664),style:e(14008),hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},52744:function(Y,V,e){var b=e(24040),P=e(3400);Y.exports=function(L,M,v,p){var r=v("x"),t=v("open"),o=v("high"),n=v("low"),l=v("close");v("hoverlabel.split");var u=b.getComponentMethod("calendars","handleTraceDefaults");if(u(L,M,["x"],p),!!(t&&o&&n&&l)){var f=Math.min(t.length,o.length,n.length,l.length);return r&&(f=Math.min(f,P.minRowLength(r))),M._length=f,f}}},36664:function(Y,V,e){var b=e(33428),P=e(3400);Y.exports=function(L,M,v,p){var r=M.yaxis,t=M.xaxis,o=!!t.rangebreaks;P.makeTraceGroups(p,v,"trace ohlc").each(function(n){var l=b.select(this),u=n[0],f=u.t,g=u.trace;if(g.visible!==!0||f.empty){l.remove();return}var h=f.tickLen,w=l.selectAll("path").data(P.identity);w.enter().append("path"),w.exit().remove(),w.attr("d",function(c){if(c.empty)return"M0,0Z";var a=t.c2p(c.pos-h,!0),d=t.c2p(c.pos+h,!0),x=o?(a+d)/2:t.c2p(c.pos,!0),T=r.c2p(c.o,!0),C=r.c2p(c.h,!0),y=r.c2p(c.l,!0),S=r.c2p(c.c,!0);return"M"+a+","+T+"H"+x+"M"+x+","+C+"V"+y+"M"+d+","+S+"H"+x})})}},97384:function(Y){Y.exports=function(e,b){var P=e.cd,s=e.xaxis,L=e.yaxis,M=[],v,p=P[0].t.bPos||0;if(b===!1)for(v=0;v<P.length;v++)P[v].selected=0;else for(v=0;v<P.length;v++){var r=P[v];b.contains([s.c2p(r.pos+p),L.c2p(r.yc)],null,r.i,e)?(M.push({pointNumber:r.i,x:s.c2d(r.pos),y:L.c2d(r.yc)}),r.selected=1):r.selected=0}return M}},14008:function(Y,V,e){var b=e(33428),P=e(43616),s=e(76308);Y.exports=function(M,v,p){var r=p||b.select(M).selectAll("g.ohlclayer").selectAll("g.trace");r.style("opacity",function(t){return t[0].trace.opacity}),r.each(function(t){var o=t[0].trace;b.select(this).selectAll("path").each(function(n){if(!n.empty){var l=o[n.dir].line;b.select(this).style("fill","none").call(s.stroke,l.color).call(P.dashLine,l.dash,l.width).style("opacity",o.selectedpoints&&!n.selected?.3:1)}})})}},72140:function(Y,V,e){var b=e(92880).extendFlat,P=e(45464),s=e(25376),L=e(49084),M=e(21776).Ks,v=e(86968).u,p=b({editType:"calc"},L("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:M({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});Y.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:b({},P.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:M({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:s({editType:"calc"}),tickfont:s({autoShadowDflt:!0,editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:p,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},91800:function(Y,V,e){var b=e(84888)._M,P=e(60268),s="parcats";V.name=s,V.plot=function(L,M,v,p){var r=b(L.calcdata,s);if(r.length){var t=r[0];P(L,t,v,p)}},V.clean=function(L,M,v,p){var r=p._has&&p._has("parcats"),t=M._has&&M._has("parcats");r&&!t&&p._paperdiv.selectAll(".parcats").remove()}},69136:function(Y,V,e){var b=e(71688).wrap,P=e(94288).hasColorscale,s=e(47128),L=e(68944),M=e(43616),v=e(3400),p=e(38248);Y.exports=function(a,d){var x=v.filterVisible(d.dimensions);if(x.length===0)return[];var T=x.map(function(ie){var K;if(ie.categoryorder==="trace")K=null;else if(ie.categoryorder==="array")K=ie.categoryarray;else{K=L(ie.values);for(var $=!0,X=0;X<K.length;X++)if(!p(K[X])){$=!1;break}K.sort($?v.sorterAsc:void 0),ie.categoryorder==="category descending"&&(K=K.reverse())}return f(ie.values,K)}),C,y,S;v.isArrayOrTypedArray(d.counts)?C=d.counts:C=[d.counts],g(x),x.forEach(function(ie,K){h(ie,T[K])});var A=d.line,i;A?(P(d,"line")&&s(a,d,{vals:d.line.color,containerStr:"line",cLetter:"c"}),i=M.tryColorscale(A)):i=v.identity;function E(ie){var K,$;return v.isArrayOrTypedArray(A.color)?(K=A.color[ie%A.color.length],$=K):K=A.color,{color:i(K),rawColor:$}}var m=x[0].values.length,k={},I=T.map(function(ie){return ie.inds});S=0;var O,_;for(O=0;O<m;O++){var B=[];for(_=0;_<I.length;_++)B.push(I[_][O]);y=C[O%C.length],S+=y;var F=E(O),z=B+"-"+F.rawColor;k[z]===void 0&&(k[z]=l(B,F.color,F.rawColor)),u(k[z],O,y)}var N=x.map(function(ie,K){return t(K,ie._index,ie._displayindex,ie.label,S)});for(O=0;O<m;O++)for(y=C[O%C.length],_=0;_<N.length;_++){var W=N[_].containerInd,Z=T[_].inds[O],q=N[_].categories;if(q[Z]===void 0){var re=d.dimensions[W]._categoryarray[Z],le=d.dimensions[W]._ticktext[Z];q[Z]=o(_,Z,re,le)}n(q[Z],O,y)}return b(r(N,k,S))};function r(c,a,d){var x=c.map(function(T){return T.categories.length}).reduce(function(T,C){return Math.max(T,C)});return{dimensions:c,paths:a,trace:void 0,maxCats:x,count:d}}function t(c,a,d,x,T){return{dimensionInd:c,containerInd:a,displayInd:d,dimensionLabel:x,count:T,categories:[],dragX:null}}function o(c,a,d,x){return{dimensionInd:c,categoryInd:a,categoryValue:d,displayInd:a,categoryLabel:x,valueInds:[],count:0,dragY:null}}function n(c,a,d){c.valueInds.push(a),c.count+=d}function l(c,a,d){return{categoryInds:c,color:a,rawColor:d,valueInds:[],count:0}}function u(c,a,d){c.valueInds.push(a),c.count+=d}function f(c,a){a==null?a=[]:a=a.map(function(i){return i});var d={},x={},T=[];a.forEach(function(i,E){d[i]=0,x[i]=E});for(var C=0;C<c.length;C++){var y=c[C],S;d[y]===void 0?(d[y]=1,S=a.push(y)-1,x[y]=S):(d[y]++,S=x[y]),T.push(S)}var A=a.map(function(i){return d[i]});return{uniqueValues:a,uniqueCounts:A,inds:T}}function g(c){var a=c.map(function(x){return x.displayindex}),d;if(w(a))for(d=0;d<c.length;d++)c[d]._displayindex=c[d].displayindex;else for(d=0;d<c.length;d++)c[d]._displayindex=d}function h(c,a){c._categoryarray=a.uniqueValues,c.ticktext===null||c.ticktext===void 0?c._ticktext=[]:c._ticktext=c.ticktext.slice();for(var d=c._ticktext.length;d<a.uniqueValues.length;d++)c._ticktext.push(a.uniqueValues[d])}function w(c){for(var a=new Array(c.length),d=0;d<c.length;d++){if(c[d]<0||c[d]>=c.length||a[c[d]]!==void 0)return!1;a[c[d]]=!0}return!0}},76671:function(Y,V,e){var b=e(3400),P=e(94288).hasColorscale,s=e(27260),L=e(86968).Q,M=e(51272),v=e(72140),p=e(26284),r=e(38116).isTypedArraySpec;function t(n,l,u,f,g){g("line.shape"),g("line.hovertemplate");var h=g("line.color",f.colorway[0]);if(P(n,"line")&&b.isArrayOrTypedArray(h)){if(h.length)return g("line.colorscale"),s(n,l,f,g,{prefix:"line.",cLetter:"c"}),h.length;l.line.color=u}return 1/0}function o(n,l){function u(d,x){return b.coerce(n,l,v.dimensions,d,x)}var f=u("values"),g=u("visible");if(f&&f.length||(g=l.visible=!1),g){u("label"),u("displayindex",l._index);var h=n.categoryarray,w=b.isArrayOrTypedArray(h)&&h.length>0||r(h),c;w&&(c="array");var a=u("categoryorder",c);a==="array"?(u("categoryarray"),u("ticktext")):(delete n.categoryarray,delete n.ticktext),!w&&a==="array"&&(l.categoryorder="trace")}}Y.exports=function(l,u,f,g){function h(d,x){return b.coerce(l,u,v,d,x)}var w=M(l,u,{name:"dimensions",handleItemDefaults:o}),c=t(l,u,f,g,h);L(u,g,h),(!Array.isArray(w)||!w.length)&&(u.visible=!1),p(u,w,"values",c),h("hoveron"),h("hovertemplate"),h("arrangement"),h("bundlecolors"),h("sortpaths"),h("counts");var a=g.font;b.coerceFont(h,"labelfont",a,{overrideDflt:{size:Math.round(a.size)}}),b.coerceFont(h,"tickfont",a,{autoShadowDflt:!0,overrideDflt:{size:Math.round(a.size/1.2)}})}},22020:function(Y,V,e){Y.exports={attributes:e(72140),supplyDefaults:e(76671),calc:e(69136),plot:e(60268),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(91800),categories:["noOpacity"],meta:{}}},51036:function(Y,V,e){var b=e(33428),P=e(67756).Gz,s=e(36424),L=e(93024),M=e(3400),v=M.strTranslate,p=e(43616),r=e(49760),t=e(72736);function o(X,Q,se,J){var G=Q._context.staticPlot,oe=X.map(re.bind(0,Q,se)),te=J.selectAll("g.parcatslayer").data([null]);te.enter().append("g").attr("class","parcatslayer").style("pointer-events",G?"none":"all");var fe=te.selectAll("g.trace.parcats").data(oe,n),ge=fe.enter().append("g").attr("class","trace parcats");fe.attr("transform",function(Se){return v(Se.x,Se.y)}),ge.append("g").attr("class","paths");var we=fe.select("g.paths"),xe=we.selectAll("path.path").data(function(Se){return Se.paths},n);xe.attr("fill",function(Se){return Se.model.color});var Ce=xe.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(Se){return Se.model.color}).attr("fill-opacity",0);a(Ce),xe.attr("d",function(Se){return Se.svgD}),Ce.empty()||xe.sort(u),xe.exit().remove(),xe.on("mouseover",f).on("mouseout",g).on("click",c),ge.append("g").attr("class","dimensions");var De=fe.select("g.dimensions"),Oe=De.selectAll("g.dimension").data(function(Se){return Se.dimensions},n);Oe.enter().append("g").attr("class","dimension"),Oe.attr("transform",function(Se){return v(Se.x,0)}),Oe.exit().remove();var Te=Oe.selectAll("g.category").data(function(Se){return Se.categories},n),Re=Te.enter().append("g").attr("class","category");Te.attr("transform",function(Se){return v(0,Se.y)}),Re.append("rect").attr("class","catrect").attr("pointer-events","none"),Te.select("rect.catrect").attr("fill","none").attr("width",function(Se){return Se.width}).attr("height",function(Se){return Se.height}),T(Re);var Me=Te.selectAll("rect.bandrect").data(function(Se){return Se.bands},n);Me.each(function(){M.raiseToTop(this)}),Me.attr("fill",function(Se){return Se.color});var ke=Me.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(Se){return Se.color}).attr("fill-opacity",0);Me.attr("fill",function(Se){return Se.color}).attr("width",function(Se){return Se.width}).attr("height",function(Se){return Se.height}).attr("y",function(Se){return Se.y}).attr("cursor",function(Se){return Se.parcatsViewModel.arrangement==="fixed"?"default":Se.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),y(ke),Me.exit().remove(),Re.append("text").attr("class","catlabel").attr("pointer-events","none"),Te.select("text.catlabel").attr("text-anchor",function(Se){return l(Se)?"start":"end"}).attr("alignment-baseline","middle").style("fill","rgb(0, 0, 0)").attr("x",function(Se){return l(Se)?Se.width+5:-5}).attr("y",function(Se){return Se.height/2}).text(function(Se){return Se.model.categoryLabel}).each(function(Se){p.font(b.select(this),Se.parcatsViewModel.categorylabelfont),t.convertToTspans(b.select(this),Q)}),Re.append("text").attr("class","dimlabel"),Te.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(Se){return Se.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(Se){return Se.width/2}).attr("y",-5).text(function(Se,He){return He===0?Se.parcatsViewModel.model.dimensions[Se.model.dimensionInd].dimensionLabel:null}).each(function(Se){p.font(b.select(this),Se.parcatsViewModel.labelfont)}),Te.selectAll("rect.bandrect").on("mouseover",_).on("mouseout",B),Te.exit().remove(),Oe.call(b.behavior.drag().origin(function(Se){return{x:Se.x,y:0}}).on("dragstart",F).on("drag",z).on("dragend",N)),fe.each(function(Se){Se.traceSelection=b.select(this),Se.pathSelection=b.select(this).selectAll("g.paths").selectAll("path.path"),Se.dimensionSelection=b.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),fe.exit().remove()}Y.exports=function(X,Q,se,J){o(se,X,J,Q)};function n(X){return X.key}function l(X){var Q=X.parcatsViewModel.dimensions.length,se=X.parcatsViewModel.dimensions[Q-1].model.dimensionInd;return X.model.dimensionInd===se}function u(X,Q){return X.model.rawColor>Q.model.rawColor?1:X.model.rawColor<Q.model.rawColor?-1:0}function f(X){if(!X.parcatsViewModel.dragDimension&&X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){M.raiseToTop(this),d(b.select(this));var Q=h(X),se=w(X);if(X.parcatsViewModel.graphDiv.emit("plotly_hover",{points:Q,event:b.event,constraints:se}),X.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var J=b.mouse(this)[0],G=X.parcatsViewModel.graphDiv,oe=X.parcatsViewModel.trace,te=G._fullLayout,fe=te._paperdiv.node().getBoundingClientRect(),ge=X.parcatsViewModel.graphDiv.getBoundingClientRect(),we,xe,Ce;for(Ce=0;Ce<X.leftXs.length-1;Ce++)if(X.leftXs[Ce]+X.dimWidths[Ce]-2<=J&&J<=X.leftXs[Ce+1]+2){var De=X.parcatsViewModel.dimensions[Ce],Oe=X.parcatsViewModel.dimensions[Ce+1];we=(De.x+De.width+Oe.x)/2,xe=(X.topYs[Ce]+X.topYs[Ce+1]+X.height)/2;break}var Te=X.parcatsViewModel.x+we,Re=X.parcatsViewModel.y+xe,Me=r.mostReadable(X.model.color,["black","white"]),ke=X.model.count,Se=ke/X.parcatsViewModel.model.count,He={countLabel:ke,probabilityLabel:Se.toFixed(3)},je=[];X.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&je.push(["Count:",He.countLabel].join(" ")),X.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&je.push(["P:",He.probabilityLabel].join(" "));var at=je.join("<br>"),Ze=b.mouse(G)[0];L.loneHover({trace:oe,x:Te-fe.left+ge.left,y:Re-fe.top+ge.top,text:at,color:X.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Me,idealAlign:Ze<Te?"right":"left",hovertemplate:(oe.line||{}).hovertemplate,hovertemplateLabels:He,eventData:[{data:oe._input,fullData:oe,count:ke,probability:Se}]},{container:te._hoverlayer.node(),outerContainer:te._paper.node(),gd:G})}}}function g(X){if(!X.parcatsViewModel.dragDimension&&(a(b.select(this)),L.loneUnhover(X.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),X.parcatsViewModel.pathSelection.sort(u),X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var Q=h(X),se=w(X);X.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:Q,event:b.event,constraints:se})}}function h(X){for(var Q=[],se=W(X.parcatsViewModel),J=0;J<X.model.valueInds.length;J++){var G=X.model.valueInds[J];Q.push({curveNumber:se,pointNumber:G})}return Q}function w(X){for(var Q={},se=X.parcatsViewModel.model.dimensions,J=0;J<se.length;J++){var G=se[J],oe=G.categories[X.model.categoryInds[J]];Q[G.containerInd]=oe.categoryValue}return X.model.rawColor!==void 0&&(Q.color=X.model.rawColor),Q}function c(X){if(X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var Q=h(X),se=w(X);X.parcatsViewModel.graphDiv.emit("plotly_click",{points:Q,event:b.event,constraints:se})}}function a(X){X.attr("fill",function(Q){return Q.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function d(X){X.attr("fill-opacity",.8).attr("stroke",function(Q){return r.mostReadable(Q.model.color,["black","white"])}).attr("stroke-width",.3)}function x(X){X.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function T(X){X.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function C(X){X.attr("stroke","black").attr("stroke-width",1.5)}function y(X){X.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function S(X){var Q=X.parcatsViewModel.pathSelection,se=X.categoryViewModel.model.dimensionInd,J=X.categoryViewModel.model.categoryInd;return Q.filter(function(G){return G.model.categoryInds[se]===J&&G.model.color===X.color})}function A(X){var Q=b.select(X.parentNode).selectAll("rect.bandrect");Q.each(function(se){var J=S(se);d(J),J.each(function(){M.raiseToTop(this)})}),x(b.select(X.parentNode))}function i(X){var Q=b.select(X).datum(),se=S(Q);d(se),se.each(function(){M.raiseToTop(this)}),b.select(X.parentNode).selectAll("rect.bandrect").filter(function(J){return J.color===Q.color}).each(function(){M.raiseToTop(this),C(b.select(this))})}function E(X,Q,se){var J=b.select(X).datum(),G=J.categoryViewModel.model,oe=J.parcatsViewModel.graphDiv,te=b.select(X.parentNode).selectAll("rect.bandrect"),fe=[];te.each(function(we){var xe=S(we);xe.each(function(Ce){Array.prototype.push.apply(fe,h(Ce))})});var ge={};ge[G.dimensionInd]=G.categoryValue,oe.emit(Q,{points:fe,event:se,constraints:ge})}function m(X,Q,se){var J=b.select(X).datum(),G=J.categoryViewModel.model,oe=J.parcatsViewModel.graphDiv,te=S(J),fe=[];te.each(function(we){Array.prototype.push.apply(fe,h(we))});var ge={};ge[G.dimensionInd]=G.categoryValue,J.rawColor!==void 0&&(ge.color=J.rawColor),oe.emit(Q,{points:fe,event:se,constraints:ge})}function k(X,Q,se){X._fullLayout._calcInverseTransform(X);var J=X._fullLayout._invScaleX,G=X._fullLayout._invScaleY,oe=b.select(se.parentNode).select("rect.catrect"),te=oe.node().getBoundingClientRect(),fe=oe.datum(),ge=fe.parcatsViewModel,we=ge.model.dimensions[fe.model.dimensionInd],xe=ge.trace,Ce=te.top+te.height/2,De,Oe;ge.dimensions.length>1&&we.displayInd===ge.dimensions.length-1?(De=te.left,Oe="left"):(De=te.left+te.width,Oe="right");var Te=fe.model.count,Re=fe.model.categoryLabel,Me=Te/fe.parcatsViewModel.model.count,ke={countLabel:Te,categoryLabel:Re,probabilityLabel:Me.toFixed(3)},Se=[];fe.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Se.push(["Count:",ke.countLabel].join(" ")),fe.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Se.push(["P("+ke.categoryLabel+"):",ke.probabilityLabel].join(" "));var He=Se.join("<br>");return{trace:xe,x:J*(De-Q.left),y:G*(Ce-Q.top),text:He,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Oe,hovertemplate:xe.hovertemplate,hovertemplateLabels:ke,eventData:[{data:xe._input,fullData:xe,count:Te,category:Re,probability:Me}]}}function I(X,Q,se){var J=[];return b.select(se.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var G=this;J.push(k(X,Q,G))}),J}function O(X,Q,se){X._fullLayout._calcInverseTransform(X);var J=X._fullLayout._invScaleX,G=X._fullLayout._invScaleY,oe=se.getBoundingClientRect(),te=b.select(se).datum(),fe=te.categoryViewModel,ge=fe.parcatsViewModel,we=ge.model.dimensions[fe.model.dimensionInd],xe=ge.trace,Ce=oe.y+oe.height/2,De,Oe;ge.dimensions.length>1&&we.displayInd===ge.dimensions.length-1?(De=oe.left,Oe="left"):(De=oe.left+oe.width,Oe="right");var Te=fe.model.categoryLabel,Re=te.parcatsViewModel.model.count,Me=0;te.categoryViewModel.bands.forEach(function(vt){vt.color===te.color&&(Me+=vt.count)});var ke=fe.model.count,Se=0;ge.pathSelection.each(function(vt){vt.model.color===te.color&&(Se+=vt.model.count)});var He=Me/Re,je=Me/Se,at=Me/ke,Ze={countLabel:Me,categoryLabel:Te,probabilityLabel:He.toFixed(3)},$e=[];fe.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&$e.push(["Count:",Ze.countLabel].join(" ")),fe.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&($e.push("P(color ∩ "+Te+"): "+Ze.probabilityLabel),$e.push("P("+Te+" | color): "+je.toFixed(3)),$e.push("P(color | "+Te+"): "+at.toFixed(3)));var ut=$e.join("<br>"),ht=r.mostReadable(te.color,["black","white"]);return{trace:xe,x:J*(De-Q.left),y:G*(Ce-Q.top),text:ut,color:te.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:ht,fontSize:10,idealAlign:Oe,hovertemplate:xe.hovertemplate,hovertemplateLabels:Ze,eventData:[{data:xe._input,fullData:xe,category:Te,count:Re,probability:He,categorycount:ke,colorcount:Se,bandcolorcount:Me}]}}function _(X){if(!X.parcatsViewModel.dragDimension&&X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var Q=b.mouse(this)[1];if(Q<-1)return;var se=X.parcatsViewModel.graphDiv,J=se._fullLayout,G=J._paperdiv.node().getBoundingClientRect(),oe=X.parcatsViewModel.hoveron,te=this;if(oe==="color"?(i(te),m(te,"plotly_hover",b.event)):(A(te),E(te,"plotly_hover",b.event)),X.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var fe;oe==="category"?fe=k(se,G,te):oe==="color"?fe=O(se,G,te):oe==="dimension"&&(fe=I(se,G,te)),fe&&L.loneHover(fe,{container:J._hoverlayer.node(),outerContainer:J._paper.node(),gd:se})}}}function B(X){var Q=X.parcatsViewModel;if(!Q.dragDimension&&(a(Q.pathSelection),T(Q.dimensionSelection.selectAll("g.category")),y(Q.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),L.loneUnhover(Q.graphDiv._fullLayout._hoverlayer.node()),Q.pathSelection.sort(u),Q.hoverinfoItems.indexOf("skip")===-1)){var se=X.parcatsViewModel.hoveron,J=this;se==="color"?m(J,"plotly_unhover",b.event):E(J,"plotly_unhover",b.event)}}function F(X){X.parcatsViewModel.arrangement!=="fixed"&&(X.dragDimensionDisplayInd=X.model.displayInd,X.initialDragDimensionDisplayInds=X.parcatsViewModel.model.dimensions.map(function(Q){return Q.displayInd}),X.dragHasMoved=!1,X.dragCategoryDisplayInd=null,b.select(this).selectAll("g.category").select("rect.catrect").each(function(Q){var se=b.mouse(this)[0],J=b.mouse(this)[1];-2<=se&&se<=Q.width+2&&-2<=J&&J<=Q.height+2&&(X.dragCategoryDisplayInd=Q.model.displayInd,X.initialDragCategoryDisplayInds=X.model.categories.map(function(G){return G.displayInd}),Q.model.dragY=Q.y,M.raiseToTop(this.parentNode),b.select(this.parentNode).selectAll("rect.bandrect").each(function(G){G.y<J&&J<=G.y+G.height&&(X.potentialClickBand=this)}))}),X.parcatsViewModel.dragDimension=X,L.loneUnhover(X.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function z(X){if(X.parcatsViewModel.arrangement!=="fixed"&&(X.dragHasMoved=!0,X.dragDimensionDisplayInd!==null)){var Q=X.dragDimensionDisplayInd,se=Q-1,J=Q+1,G=X.parcatsViewModel.dimensions[Q];if(X.dragCategoryDisplayInd!==null){var oe=G.categories[X.dragCategoryDisplayInd];oe.model.dragY+=b.event.dy;var te=oe.model.dragY,fe=oe.model.displayInd,ge=G.categories,we=ge[fe-1],xe=ge[fe+1];we!==void 0&&te<we.y+we.height/2&&(oe.model.displayInd=we.model.displayInd,we.model.displayInd=fe),xe!==void 0&&te+oe.height>xe.y+xe.height/2&&(oe.model.displayInd=xe.model.displayInd,xe.model.displayInd=fe),X.dragCategoryDisplayInd=oe.model.displayInd}if(X.dragCategoryDisplayInd===null||X.parcatsViewModel.arrangement==="freeform"){G.model.dragX=b.event.x;var Ce=X.parcatsViewModel.dimensions[se],De=X.parcatsViewModel.dimensions[J];Ce!==void 0&&G.model.dragX<Ce.x+Ce.width&&(G.model.displayInd=Ce.model.displayInd,Ce.model.displayInd=Q),De!==void 0&&G.model.dragX+G.width>De.x&&(G.model.displayInd=De.model.displayInd,De.model.displayInd=X.dragDimensionDisplayInd),X.dragDimensionDisplayInd=G.model.displayInd}K(X.parcatsViewModel),ie(X.parcatsViewModel),q(X.parcatsViewModel),Z(X.parcatsViewModel)}}function N(X){if(X.parcatsViewModel.arrangement!=="fixed"&&X.dragDimensionDisplayInd!==null){b.select(this).selectAll("text").attr("font-weight","normal");var Q={},se=W(X.parcatsViewModel),J=X.parcatsViewModel.model.dimensions.map(function(De){return De.displayInd}),G=X.initialDragDimensionDisplayInds.some(function(De,Oe){return De!==J[Oe]});G&&J.forEach(function(De,Oe){var Te=X.parcatsViewModel.model.dimensions[Oe].containerInd;Q["dimensions["+Te+"].displayindex"]=De});var oe=!1;if(X.dragCategoryDisplayInd!==null){var te=X.model.categories.map(function(De){return De.displayInd});if(oe=X.initialDragCategoryDisplayInds.some(function(De,Oe){return De!==te[Oe]}),oe){var fe=X.model.categories.slice().sort(function(De,Oe){return De.displayInd-Oe.displayInd}),ge=fe.map(function(De){return De.categoryValue}),we=fe.map(function(De){return De.categoryLabel});Q["dimensions["+X.model.containerInd+"].categoryarray"]=[ge],Q["dimensions["+X.model.containerInd+"].ticktext"]=[we],Q["dimensions["+X.model.containerInd+"].categoryorder"]="array"}}if(X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!X.dragHasMoved&&X.potentialClickBand&&(X.parcatsViewModel.hoveron==="color"?m(X.potentialClickBand,"plotly_click",b.event.sourceEvent):E(X.potentialClickBand,"plotly_click",b.event.sourceEvent)),X.model.dragX=null,X.dragCategoryDisplayInd!==null){var xe=X.parcatsViewModel.dimensions[X.dragDimensionDisplayInd].categories[X.dragCategoryDisplayInd];xe.model.dragY=null,X.dragCategoryDisplayInd=null}X.dragDimensionDisplayInd=null,X.parcatsViewModel.dragDimension=null,X.dragHasMoved=null,X.potentialClickBand=null,K(X.parcatsViewModel),ie(X.parcatsViewModel);var Ce=b.transition().duration(300).ease("cubic-in-out");Ce.each(function(){q(X.parcatsViewModel,!0),Z(X.parcatsViewModel,!0)}).each("end",function(){(G||oe)&&s.restyle(X.parcatsViewModel.graphDiv,Q,[se])})}}function W(X){for(var Q,se=X.graphDiv._fullData,J=0;J<se.length;J++)if(X.key===se[J].uid){Q=J;break}return Q}function Z(X,Q){Q===void 0&&(Q=!1);function se(J){return Q?J.transition():J}X.pathSelection.data(function(J){return J.paths},n),se(X.pathSelection).attr("d",function(J){return J.svgD})}function q(X,Q){Q===void 0&&(Q=!1);function se(ge){return Q?ge.transition():ge}X.dimensionSelection.data(function(ge){return ge.dimensions},n);var J=X.dimensionSelection.selectAll("g.category").data(function(ge){return ge.categories},n);se(X.dimensionSelection).attr("transform",function(ge){return v(ge.x,0)}),se(J).attr("transform",function(ge){return v(0,ge.y)});var G=J.select(".dimlabel");G.text(function(ge,we){return we===0?ge.parcatsViewModel.model.dimensions[ge.model.dimensionInd].dimensionLabel:null});var oe=J.select(".catlabel");oe.attr("text-anchor",function(ge){return l(ge)?"start":"end"}).attr("x",function(ge){return l(ge)?ge.width+5:-5}).each(function(ge){var we,xe;l(ge)?(we=ge.width+5,xe="start"):(we=-5,xe="end"),b.select(this).selectAll("tspan").attr("x",we).attr("text-anchor",xe)});var te=J.selectAll("rect.bandrect").data(function(ge){return ge.bands},n),fe=te.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(ge){return ge.color}).attr("fill-opacity",0);te.attr("fill",function(ge){return ge.color}).attr("width",function(ge){return ge.width}).attr("height",function(ge){return ge.height}).attr("y",function(ge){return ge.y}),y(fe),te.each(function(){M.raiseToTop(this)}),te.exit().remove()}function re(X,Q,se){var J=se[0],G=Q.margin||{l:80,r:80,t:100,b:80},oe=J.trace,te=oe.domain,fe=Q.width,ge=Q.height,we=Math.floor(fe*(te.x[1]-te.x[0])),xe=Math.floor(ge*(te.y[1]-te.y[0])),Ce=te.x[0]*fe+G.l,De=Q.height-te.y[1]*Q.height+G.t,Oe=oe.line.shape,Te;oe.hoverinfo==="all"?Te=["count","probability"]:Te=(oe.hoverinfo||"").split("+");var Re={trace:oe,key:oe.uid,model:J,x:Ce,y:De,width:we,height:xe,hoveron:oe.hoveron,hoverinfoItems:Te,arrangement:oe.arrangement,bundlecolors:oe.bundlecolors,sortpaths:oe.sortpaths,labelfont:oe.labelfont,categorylabelfont:oe.tickfont,pathShape:Oe,dragDimension:null,margin:G,paths:[],dimensions:[],graphDiv:X,traceSelection:null,pathSelection:null,dimensionSelection:null};return J.dimensions&&(K(Re),ie(Re)),Re}function le(X,Q,se,J,G){var oe=[],te=[],fe,ge;for(ge=0;ge<se.length-1;ge++)fe=P(se[ge]+X[ge],X[ge+1]),oe.push(fe(G)),te.push(fe(1-G));var we="M "+X[0]+","+Q[0];for(we+="l"+se[0]+",0 ",ge=1;ge<se.length;ge++)we+="C"+oe[ge-1]+","+Q[ge-1]+" "+te[ge-1]+","+Q[ge]+" "+X[ge]+","+Q[ge],we+="l"+se[ge]+",0 ";for(we+="l0,"+J+" ",we+="l -"+se[se.length-1]+",0 ",ge=se.length-2;ge>=0;ge--)we+="C"+te[ge]+","+(Q[ge+1]+J)+" "+oe[ge]+","+(Q[ge]+J)+" "+(X[ge]+se[ge])+","+(Q[ge]+J),we+="l-"+se[ge]+",0 ";return we+="Z",we}function ie(X){var Q=X.dimensions,se=X.model,J=Q.map(function(tt){return tt.categories.map(function(Ie){return Ie.y})}),G=X.model.dimensions.map(function(tt){return tt.categories.map(function(Ie){return Ie.displayInd})}),oe=X.model.dimensions.map(function(tt){return tt.displayInd}),te=X.dimensions.map(function(tt){return tt.model.dimensionInd}),fe=Q.map(function(tt){return tt.x}),ge=Q.map(function(tt){return tt.width}),we=[];for(var xe in se.paths)se.paths.hasOwnProperty(xe)&&we.push(se.paths[xe]);function Ce(tt){var Ie=tt.categoryInds.map(function(Ge,Xe){return G[Xe][Ge]}),Ve=te.map(function(Ge){return Ie[Ge]});return Ve}we.sort(function(tt,Ie){var Ve=Ce(tt),Ge=Ce(Ie);return X.sortpaths==="backward"&&(Ve.reverse(),Ge.reverse()),Ve.push(tt.valueInds[0]),Ge.push(Ie.valueInds[0]),X.bundlecolors&&(Ve.unshift(tt.rawColor),Ge.unshift(Ie.rawColor)),Ve<Ge?-1:Ve>Ge?1:0});for(var De=new Array(we.length),Oe=Q[0].model.count,Te=Q[0].categories.map(function(tt){return tt.height}).reduce(function(tt,Ie){return tt+Ie}),Re=0;Re<we.length;Re++){var Me=we[Re],ke;Oe>0?ke=Te*(Me.count/Oe):ke=0;for(var Se=new Array(J.length),He=0;He<Me.categoryInds.length;He++){var je=Me.categoryInds[He],at=G[He][je],Ze=oe[He];Se[Ze]=J[Ze][at],J[Ze][at]+=ke;var $e=X.dimensions[Ze].categories[at],ut=$e.bands.length,ht=$e.bands[ut-1];if(ht===void 0||Me.rawColor!==ht.rawColor){var vt=ht===void 0?0:ht.y+ht.height;$e.bands.push({key:vt,color:Me.color,rawColor:Me.rawColor,height:ke,width:$e.width,count:Me.count,y:vt,categoryViewModel:$e,parcatsViewModel:X})}else{var xt=$e.bands[ut-1];xt.height+=ke,xt.count+=Me.count}}var St;X.pathShape==="hspline"?St=le(fe,Se,ge,ke,.5):St=le(fe,Se,ge,ke,0),De[Re]={key:Me.valueInds[0],model:Me,height:ke,leftXs:fe,topYs:Se,dimWidths:ge,svgD:St,parcatsViewModel:X}}X.paths=De}function K(X){var Q=X.model.dimensions.map(function(te){return{displayInd:te.displayInd,dimensionInd:te.dimensionInd}});Q.sort(function(te,fe){return te.displayInd-fe.displayInd});var se=[];for(var J in Q){var G=Q[J].dimensionInd,oe=X.model.dimensions[G];se.push($(X,oe))}X.dimensions=se}function $(X,Q){var se=40,J=16,G=X.model.dimensions.length,oe=Q.displayInd,te,fe,ge;G>1?te=(X.width-2*se-J)/(G-1):te=0,fe=se,ge=fe+te*oe;var we=[],xe=X.model.maxCats,Ce=Q.categories.length,De=8,Oe=Q.count,Te=X.height-De*(xe-1),Re,Me,ke,Se,He,je=(xe-Ce)*De/2,at=Q.categories.map(function(Ze){return{displayInd:Ze.displayInd,categoryInd:Ze.categoryInd}});for(at.sort(function(Ze,$e){return Ze.displayInd-$e.displayInd}),He=0;He<Ce;He++)Se=at[He].categoryInd,Me=Q.categories[Se],Oe>0?Re=Me.count/Oe*Te:Re=0,ke={key:Me.valueInds[0],model:Me,width:J,height:Re,y:Me.dragY!==null?Me.dragY:je,bands:[],parcatsViewModel:X},je=je+Re+De,we.push(ke);return{key:Q.dimensionInd,x:Q.dragX!==null?Q.dragX:ge,y:0,width:J,model:Q,categories:we,parcatsViewModel:X,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},60268:function(Y,V,e){var b=e(51036);Y.exports=function(s,L,M,v){var p=s._fullLayout,r=p._paper,t=p._size;b(s,r,L,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},M,v)}},82296:function(Y,V,e){var b=e(49084),P=e(94724),s=e(25376),L=e(86968).u,M=e(92880).extendFlat,v=e(31780).templatedArray;Y.exports={domain:L({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:s({editType:"plot"}),tickfont:s({autoShadowDflt:!0,editType:"plot"}),rangefont:s({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:M({},P.tickvals,{editType:"plot"}),ticktext:M({},P.ticktext,{editType:"plot"}),tickformat:M({},P.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:M({editType:"calc"},b("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},71864:function(Y,V,e){var b=e(30140),P=e(33428),s=e(71688).keyFun,L=e(71688).repeat,M=e(3400).sorterAsc,v=e(3400).strTranslate,p=b.bar.snapRatio;function r(N,W){return N*(1-p)+W*p}var t=b.bar.snapClose;function o(N,W){return N*(1-t)+W*t}function n(N,W,Z,q){if(l(Z,q))return Z;var re=N?-1:1,le=0,ie=W.length-1;if(re<0){var K=le;le=ie,ie=K}for(var $=W[le],X=$,Q=le;re*Q<re*ie;Q+=re){var se=Q+re,J=W[se];if(re*Z<re*o($,J))return r($,X);if(re*Z<re*J||se===ie)return r(J,$);X=$,$=J}}function l(N,W){for(var Z=0;Z<W.length;Z++)if(N>=W[Z][0]&&N<=W[Z][1])return!0;return!1}function u(N){N.attr("x",-b.bar.captureWidth/2).attr("width",b.bar.captureWidth)}function f(N){N.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function g(N){if(!N.brush.filterSpecified)return"0,"+N.height;for(var W=h(N.brush.filter.getConsolidated(),N.height),Z=[0],q,re,le,ie=W.length?W[0][0]:null,K=0;K<W.length;K++)q=W[K],re=q[1]-q[0],Z.push(ie),Z.push(re),le=K+1,le<W.length&&(ie=W[le][0]-q[1]);return Z.push(N.height),Z}function h(N,W){return N.map(function(Z){return Z.map(function(q){return Math.max(0,q*W)}).sort(M)})}function w(N,W){var Z=b.bar.handleHeight;if(!(W>N[1]+Z||W<N[0]-Z))return W>=.9*N[1]+.1*N[0]?"n":W<=.9*N[0]+.1*N[1]?"s":"ns"}function c(){P.select(document.body).style("cursor",null)}function a(N){N.attr("stroke-dasharray",g)}function d(N,W){var Z=P.select(N).selectAll(".highlight, .highlight-shadow"),q=W?Z.transition().duration(b.bar.snapDuration).each("end",W):Z;a(q)}function x(N,W){var Z=N.brush,q=Z.filterSpecified,re=NaN,le={},ie;if(q){var K=N.height,$=Z.filter.getConsolidated(),X=h($,K),Q=NaN,se=NaN,J=NaN;for(ie=0;ie<=X.length;ie++){var G=X[ie];if(G&&G[0]<=W&&W<=G[1]){Q=ie;break}else if(se=ie?ie-1:NaN,G&&G[0]>W){J=ie;break}}if(re=Q,isNaN(re)&&(isNaN(se)||isNaN(J)?re=isNaN(se)?J:se:re=W-X[se][1]<X[J][0]-W?se:J),!isNaN(re)){var oe=X[re],te=w(oe,W);te&&(le.interval=$[re],le.intervalPix=oe,le.region=te)}}if(N.ordinal&&!le.region){var fe=N.unitTickvals,ge=N.unitToPaddedPx.invert(W);for(ie=0;ie<fe.length;ie++){var we=[fe[Math.max(ie-1,0)]*.25+fe[ie]*.75,fe[Math.min(ie+1,fe.length-1)]*.25+fe[ie]*.75];if(ge>=we[0]&&ge<=we[1]){le.clickableOrdinalRange=we;break}}}return le}function T(N,W){P.event.sourceEvent.stopPropagation();var Z=W.height-P.mouse(N)[1]-2*b.verticalPadding,q=W.unitToPaddedPx.invert(Z),re=W.brush,le=x(W,Z),ie=le.interval,K=re.svgBrush;if(K.wasDragged=!1,K.grabbingBar=le.region==="ns",K.grabbingBar){var $=ie.map(W.unitToPaddedPx);K.grabPoint=Z-$[0]-b.verticalPadding,K.barLength=$[1]-$[0]}K.clickableOrdinalRange=le.clickableOrdinalRange,K.stayingIntervals=W.multiselect&&re.filterSpecified?re.filter.getConsolidated():[],ie&&(K.stayingIntervals=K.stayingIntervals.filter(function(X){return X[0]!==ie[0]&&X[1]!==ie[1]})),K.startExtent=le.region?ie[le.region==="s"?1:0]:q,W.parent.inBrushDrag=!0,K.brushStartCallback()}function C(N,W){P.event.sourceEvent.stopPropagation();var Z=W.height-P.mouse(N)[1]-2*b.verticalPadding,q=W.brush.svgBrush;q.wasDragged=!0,q._dragging=!0,q.grabbingBar?q.newExtent=[Z-q.grabPoint,Z+q.barLength-q.grabPoint].map(W.unitToPaddedPx.invert):q.newExtent=[q.startExtent,W.unitToPaddedPx.invert(Z)].sort(M),W.brush.filterSpecified=!0,q.extent=q.stayingIntervals.concat([q.newExtent]),q.brushCallback(W),d(N.parentNode)}function y(N,W){var Z=W.brush,q=Z.filter,re=Z.svgBrush;re._dragging||(S(N,W),C(N,W),W.brush.svgBrush.wasDragged=!1),re._dragging=!1;var le=P.event;le.sourceEvent.stopPropagation();var ie=re.grabbingBar;if(re.grabbingBar=!1,re.grabLocation=void 0,W.parent.inBrushDrag=!1,c(),!re.wasDragged){re.wasDragged=void 0,re.clickableOrdinalRange?Z.filterSpecified&&W.multiselect?re.extent.push(re.clickableOrdinalRange):(re.extent=[re.clickableOrdinalRange],Z.filterSpecified=!0):ie?(re.extent=re.stayingIntervals,re.extent.length===0&&I(Z)):I(Z),re.brushCallback(W),d(N.parentNode),re.brushEndCallback(Z.filterSpecified?q.getConsolidated():[]);return}var K=function(){q.set(q.getConsolidated())};if(W.ordinal){var $=W.unitTickvals;$[$.length-1]<$[0]&&$.reverse(),re.newExtent=[n(0,$,re.newExtent[0],re.stayingIntervals),n(1,$,re.newExtent[1],re.stayingIntervals)];var X=re.newExtent[1]>re.newExtent[0];re.extent=re.stayingIntervals.concat(X?[re.newExtent]:[]),re.extent.length||I(Z),re.brushCallback(W),X?d(N.parentNode,K):(K(),d(N.parentNode))}else K();re.brushEndCallback(Z.filterSpecified?q.getConsolidated():[])}function S(N,W){var Z=W.height-P.mouse(N)[1]-2*b.verticalPadding,q=x(W,Z),re="crosshair";q.clickableOrdinalRange?re="pointer":q.region&&(re=q.region+"-resize"),P.select(document.body).style("cursor",re)}function A(N){N.on("mousemove",function(W){P.event.preventDefault(),W.parent.inBrushDrag||S(this,W)}).on("mouseleave",function(W){W.parent.inBrushDrag||c()}).call(P.behavior.drag().on("dragstart",function(W){T(this,W)}).on("drag",function(W){C(this,W)}).on("dragend",function(W){y(this,W)}))}function i(N,W){return N[0]-W[0]}function E(N,W,Z){var q=Z._context.staticPlot,re=N.selectAll(".background").data(L);re.enter().append("rect").classed("background",!0).call(u).call(f).style("pointer-events",q?"none":"auto").attr("transform",v(0,b.verticalPadding)),re.call(A).attr("height",function(K){return K.height-b.verticalPadding});var le=N.selectAll(".highlight-shadow").data(L);le.enter().append("line").classed("highlight-shadow",!0).attr("x",-b.bar.width/2).attr("stroke-width",b.bar.width+b.bar.strokeWidth).attr("stroke",W).attr("opacity",b.bar.strokeOpacity).attr("stroke-linecap","butt"),le.attr("y1",function(K){return K.height}).call(a);var ie=N.selectAll(".highlight").data(L);ie.enter().append("line").classed("highlight",!0).attr("x",-b.bar.width/2).attr("stroke-width",b.bar.width-b.bar.strokeWidth).attr("stroke",b.bar.fillColor).attr("opacity",b.bar.fillOpacity).attr("stroke-linecap","butt"),ie.attr("y1",function(K){return K.height}).call(a)}function m(N,W,Z){var q=N.selectAll("."+b.cn.axisBrush).data(L,s);q.enter().append("g").classed(b.cn.axisBrush,!0),E(q,W,Z)}function k(N){return N.svgBrush.extent.map(function(W){return W.slice()})}function I(N){N.filterSpecified=!1,N.svgBrush.extent=[[-1/0,1/0]]}function O(N){return function(Z){var q=Z.brush,re=k(q),le=re.slice();q.filter.set(le),N()}}function _(N){for(var W=N.slice(),Z=[],q,re=W.shift();re;){for(q=re.slice();(re=W.shift())&&re[0]<=q[1];)q[1]=Math.max(q[1],re[1]);Z.push(q)}return Z.length===1&&Z[0][0]>Z[0][1]&&(Z=[]),Z}function B(){var N=[],W,Z;return{set:function(q){N=q.map(function(re){return re.slice().sort(M)}).sort(i),N.length===1&&N[0][0]===-1/0&&N[0][1]===1/0&&(N=[[0,-1]]),W=_(N),Z=N.reduce(function(re,le){return[Math.min(re[0],le[0]),Math.max(re[1],le[1])]},[1/0,-1/0])},get:function(){return N.slice()},getConsolidated:function(){return W},getBounds:function(){return Z}}}function F(N,W,Z,q,re,le){var ie=B();return ie.set(Z),{filter:ie,filterSpecified:W,svgBrush:{extent:[],brushStartCallback:q,brushCallback:O(re),brushEndCallback:le}}}function z(N,W){if(Array.isArray(N[0])?(N=N.map(function(q){return q.sort(M)}),W.multiselect?N=_(N.sort(i)):N=[N[0]]):N=[N.sort(M)],W.tickvals){var Z=W.tickvals.slice().sort(M);if(N=N.map(function(q){var re=[n(0,Z,q[0],[]),n(1,Z,q[1],[])];if(re[1]>re[0])return re}).filter(function(q){return q}),!N.length)return}return N.length>1?N:N[0]}Y.exports={makeBrush:F,ensureAxisBrush:m,cleanRanges:z}},61664:function(Y,V,e){Y.exports={attributes:e(82296),supplyDefaults:e(60664),calc:e(95044),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(19976),categories:["gl","regl","noOpacity","noHover"],meta:{}}},19976:function(Y,V,e){var b=e(33428),P=e(84888)._M,s=e(24196),L=e(9616);V.name="parcoords",V.plot=function(M){var v=P(M.calcdata,"parcoords")[0];v.length&&s(M,v)},V.clean=function(M,v,p,r){var t=r._has&&r._has("parcoords"),o=v._has&&v._has("parcoords");t&&!o&&(r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},V.toSVG=function(M){var v=M._fullLayout._glimages,p=b.select(M).selectAll(".svg-container"),r=p.filter(function(o,n){return n===p.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function t(){var o=this,n=o.toDataURL("image/png"),l=v.append("svg:image");l.attr({xmlns:L.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:o.style.width,height:o.style.height})}r.each(t),window.setTimeout(function(){b.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},95044:function(Y,V,e){var b=e(3400).isArrayOrTypedArray,P=e(8932),s=e(71688).wrap;Y.exports=function(v,p){var r,t;return P.hasColorscale(p,"line")&&b(p.line.color)?(r=p.line.color,t=P.extractOpts(p.line).colorscale,P.calc(v,p,{vals:r,containerStr:"line",cLetter:"c"})):(r=L(p._length),t=[[0,p.line.color],[1,p.line.color]]),s({lineColor:r,cscale:t})};function L(M){for(var v=new Array(M),p=0;p<M;p++)v[p]=.5;return v}},30140:function(Y){Y.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},60664:function(Y,V,e){var b=e(3400),P=e(94288).hasColorscale,s=e(27260),L=e(86968).Q,M=e(51272),v=e(54460),p=e(82296),r=e(71864),t=e(30140).maxDimensionCount,o=e(26284);function n(u,f,g,h,w){var c=w("line.color",g);if(P(u,"line")&&b.isArrayOrTypedArray(c)){if(c.length)return w("line.colorscale"),s(u,f,h,w,{prefix:"line.",cLetter:"c"}),c.length;f.line.color=g}return 1/0}function l(u,f,g,h){function w(T,C){return b.coerce(u,f,p.dimensions,T,C)}var c=w("values"),a=w("visible");if(c&&c.length||(a=f.visible=!1),a){w("label"),w("tickvals"),w("ticktext"),w("tickformat");var d=w("range");f._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:d},v.setConvert(f._ax,h.layout),w("multiselect");var x=w("constraintrange");x&&(f.constraintrange=r.cleanRanges(x,f))}}Y.exports=function(f,g,h,w){function c(C,y){return b.coerce(f,g,p,C,y)}var a=f.dimensions;Array.isArray(a)&&a.length>t&&(b.log("parcoords traces support up to "+t+" dimensions at the moment"),a.splice(t));var d=M(f,g,{name:"dimensions",layout:w,handleItemDefaults:l}),x=n(f,g,h,w,c);L(g,w,c),(!Array.isArray(d)||!d.length)&&(g.visible=!1),o(g,d,"values",x);var T=b.extendFlat({},w.font,{size:Math.round(w.font.size/1.2)});b.coerceFont(c,"labelfont",T),b.coerceFont(c,"tickfont",T,{autoShadowDflt:!0}),b.coerceFont(c,"rangefont",T),c("labelangle"),c("labelside"),c("unselected.line.color"),c("unselected.line.opacity")}},95724:function(Y,V,e){var b=e(3400).isTypedArray;V.convertTypedArray=function(P){return b(P)?Array.prototype.slice.call(P):P},V.isOrdinal=function(P){return!!P.tickvals},V.isVisible=function(P){return P.visible||!("visible"in P)}},29928:function(Y,V,e){var b=e(61664);b.plot=e(24196),Y.exports=b},51352:function(Y,V,e){var b=["precision highp float;","","varying vec4 fragColor;","","attribute vec4 p01_04, p05_08, p09_12, p13_16,","               p17_20, p21_24, p25_28, p29_32,","               p33_36, p37_40, p41_44, p45_48,","               p49_52, p53_56, p57_60, colors;","","uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,","             loA, hiA, loB, hiB, loC, hiC, loD, hiD;","","uniform vec2 resolution, viewBoxPos, viewBoxSize;","uniform float maskHeight;","uniform float drwLayer; // 0: context, 1: focus, 2: pick","uniform vec4 contextColor;","uniform sampler2D maskTexture, palette;","","bool isPick    = (drwLayer > 1.5);","bool isContext = (drwLayer < 0.5);","","const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);","const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);","","float val(mat4 p, mat4 v) {","    return dot(matrixCompMult(p, v) * UNITS, UNITS);","}","","float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {","    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);","    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);","    return y1 * (1.0 - ratio) + y2 * ratio;","}","","int iMod(int a, int b) {","    return a - b * (a / b);","}","","bool fOutside(float p, float lo, float hi) {","    return (lo < hi) && (lo > p || p > hi);","}","","bool vOutside(vec4 p, vec4 lo, vec4 hi) {","    return (","        fOutside(p[0], lo[0], hi[0]) ||","        fOutside(p[1], lo[1], hi[1]) ||","        fOutside(p[2], lo[2], hi[2]) ||","        fOutside(p[3], lo[3], hi[3])","    );","}","","bool mOutside(mat4 p, mat4 lo, mat4 hi) {","    return (","        vOutside(p[0], lo[0], hi[0]) ||","        vOutside(p[1], lo[1], hi[1]) ||","        vOutside(p[2], lo[2], hi[2]) ||","        vOutside(p[3], lo[3], hi[3])","    );","}","","bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {","    return mOutside(A, loA, hiA) ||","           mOutside(B, loB, hiB) ||","           mOutside(C, loC, hiC) ||","           mOutside(D, loD, hiD);","}","","bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {","    mat4 pnts[4];","    pnts[0] = A;","    pnts[1] = B;","    pnts[2] = C;","    pnts[3] = D;","","    for(int i = 0; i < 4; ++i) {","        for(int j = 0; j < 4; ++j) {","            for(int k = 0; k < 4; ++k) {","                if(0 == iMod(","                    int(255.0 * texture2D(maskTexture,","                        vec2(","                            (float(i * 2 + j / 2) + 0.5) / 8.0,","                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight","                        ))[3]","                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),","                    2","                )) return true;","            }","        }","    }","    return false;","}","","vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {","    float x = 0.5 * sign(v) + 0.5;","    float y = axisY(x, A, B, C, D);","    float z = 1.0 - abs(v);","","    z += isContext ? 0.0 : 2.0 * float(","        outsideBoundingBox(A, B, C, D) ||","        outsideRasterMask(A, B, C, D)","    );","","    return vec4(","        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,","        z,","        1.0","    );","}","","void main() {","    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);","    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);","    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);","    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);","","    float v = colors[3];","","    gl_Position = position(isContext, v, A, B, C, D);","","    fragColor =","        isContext ? vec4(contextColor) :","        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));","}"].join(`
`),P=["precision highp float;","","varying vec4 fragColor;","","void main() {","    gl_FragColor = fragColor;","}"].join(`
`),s=e(30140).maxDimensionCount,L=e(3400),M=1e-6,v=2048,p=new Uint8Array(4),r=new Uint8Array(4),t={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function o(y){y.read({x:0,y:0,width:1,height:1,data:p})}function n(y,S,A,i,E){var m=y._gl;m.enable(m.SCISSOR_TEST),m.scissor(S,A,i,E),y.clear({color:[0,0,0,0],depth:1})}function l(y,S,A,i,E,m){var k=m.key;function I(O){var _=Math.min(i,E-O*i);O===0&&(window.cancelAnimationFrame(A.currentRafs[k]),delete A.currentRafs[k],n(y,m.scissorX,m.scissorY,m.scissorWidth,m.viewBoxSize[1])),!A.clearOnly&&(m.count=2*_,m.offset=2*O*i,S(m),O*i+_<E&&(A.currentRafs[k]=window.requestAnimationFrame(function(){I(O+1)})),A.drawCompleted=!1)}A.drawCompleted||(o(y),A.drawCompleted=!0),I(0)}function u(y){return Math.max(M,Math.min(1-M,y))}function f(y,S){for(var A=new Array(256),i=0;i<256;i++)A[i]=y(i/255).concat(S);return A}function g(y,S){return(y>>>8*S)%256/255}function h(y,S,A){for(var i=new Array(y*(s+4)),E=0,m=0;m<y;m++){for(var k=0;k<s;k++)i[E++]=k<S.length?S[k].paddedUnitValues[m]:.5;i[E++]=g(m,2),i[E++]=g(m,1),i[E++]=g(m,0),i[E++]=u(A[m])}return i}function w(y,S,A){for(var i=new Array(S*8),E=0,m=0;m<S;m++)for(var k=0;k<2;k++)for(var I=0;I<4;I++){var O=y*4+I,_=A[m*64+O];O===63&&k===0&&(_*=-1),i[E++]=_}return i}function c(y){var S="0"+y;return S.substr(S.length-2)}function a(y){return y<s?"p"+c(y+1)+"_"+c(y+4):"colors"}function d(y,S,A){for(var i=0;i<=s;i+=4)y[a(i)](w(i/4,S,A))}function x(y){for(var S={},A=0;A<=s;A+=4)S[a(A)]=y.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return S}function T(y,S,A,i,E,m,k,I,O,_,B,F,z,N){for(var W=[[],[]],Z=0;Z<64;Z++)W[0][Z]=Z===E?1:0,W[1][Z]=Z===m?1:0;k*=N,I*=N,O*=N,_*=N;var q=y.lines.canvasOverdrag*N,re=y.domain,le=y.canvasWidth*N,ie=y.canvasHeight*N,K=y.pad.l*N,$=y.pad.b*N,X=y.layoutHeight*N,Q=y.layoutWidth*N,se=y.deselectedLines.color,J=y.deselectedLines.opacity,G=L.extendFlat({key:B,resolution:[le,ie],viewBoxPos:[k+q,I],viewBoxSize:[O,_],i0:E,i1:m,dim0A:W[0].slice(0,16),dim0B:W[0].slice(16,32),dim0C:W[0].slice(32,48),dim0D:W[0].slice(48,64),dim1A:W[1].slice(0,16),dim1B:W[1].slice(16,32),dim1C:W[1].slice(32,48),dim1D:W[1].slice(48,64),drwLayer:F,contextColor:[se[0]/255,se[1]/255,se[2]/255,J!=="auto"?se[3]*J:Math.max(1/255,Math.pow(1/y.lines.color.length,1/3))],scissorX:(i===S?0:k+q)+(K-q)+Q*re.x[0],scissorWidth:(i===A?le-k+q:O+.5)+(i===S?k+q:0),scissorY:I+$+X*re.y[0],scissorHeight:_,viewportX:K-q+Q*re.x[0],viewportY:$+X*re.y[0],viewportWidth:le,viewportHeight:ie},z);return G}function C(y){var S=v-1,A=Math.max(0,Math.floor(y[0]*S),0),i=Math.min(S,Math.ceil(y[1]*S),S);return[Math.min(A,i),Math.max(A,i)]}Y.exports=function(y,S){var A=S.context,i=S.pick,E=S.regl,m=E._gl,k=m.getParameter(m.ALIASED_LINE_WIDTH_RANGE),I=Math.max(k[0],Math.min(k[1],S.viewModel.plotGlPixelRatio)),O={currentRafs:{},drawCompleted:!0,clearOnly:!1},_,B,F,z,N=x(E),W,Z=E.texture(t),q=[];le(S);var re=E({profile:!1,blend:{enable:A,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!A,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:E.prop("scissorX"),y:E.prop("scissorY"),width:E.prop("scissorWidth"),height:E.prop("scissorHeight")}},viewport:{x:E.prop("viewportX"),y:E.prop("viewportY"),width:E.prop("viewportWidth"),height:E.prop("viewportHeight")},dither:!1,vert:b,frag:P,primitive:"lines",lineWidth:I,attributes:N,uniforms:{resolution:E.prop("resolution"),viewBoxPos:E.prop("viewBoxPos"),viewBoxSize:E.prop("viewBoxSize"),dim0A:E.prop("dim0A"),dim1A:E.prop("dim1A"),dim0B:E.prop("dim0B"),dim1B:E.prop("dim1B"),dim0C:E.prop("dim0C"),dim1C:E.prop("dim1C"),dim0D:E.prop("dim0D"),dim1D:E.prop("dim1D"),loA:E.prop("loA"),hiA:E.prop("hiA"),loB:E.prop("loB"),hiB:E.prop("hiB"),loC:E.prop("loC"),hiC:E.prop("hiC"),loD:E.prop("loD"),hiD:E.prop("hiD"),palette:Z,contextColor:E.prop("contextColor"),maskTexture:E.prop("maskTexture"),drwLayer:E.prop("drwLayer"),maskHeight:E.prop("maskHeight")},offset:E.prop("offset"),count:E.prop("count")});function le(se){_=se.model,B=se.viewModel,F=B.dimensions.slice(),z=F[0]?F[0].values.length:0;var J=_.lines,G=i?J.color.map(function(te,fe){return fe/J.color.length}):J.color,oe=h(z,F,G);d(N,z,oe),!A&&!i&&(Z=E.texture(L.extendFlat({data:f(_.unitToColor,255)},t)))}function ie(se){var J,G,oe,te=[[],[]];for(oe=0;oe<64;oe++){var fe=!se&&oe<F.length?F[oe].brush.filter.getBounds():[-1/0,1/0];te[0][oe]=fe[0],te[1][oe]=fe[1]}var ge=v*8,we=new Array(ge);for(J=0;J<ge;J++)we[J]=255;if(!se)for(J=0;J<F.length;J++){var xe=J%8,Ce=(J-xe)/8,De=Math.pow(2,xe),Oe=F[J],Te=Oe.brush.filter.get();if(!(Te.length<2)){var Re=C(Te[0])[1];for(G=1;G<Te.length;G++){var Me=C(Te[G]);for(oe=Re+1;oe<Me[0];oe++)we[oe*8+Ce]&=~De;Re=Math.max(Re,Me[1])}}}var ke={shape:[8,v],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:we};return W?W(ke):W=E.texture(ke),{maskTexture:W,maskHeight:v,loA:te[0].slice(0,16),loB:te[0].slice(16,32),loC:te[0].slice(32,48),loD:te[0].slice(48,64),hiA:te[1].slice(0,16),hiB:te[1].slice(16,32),hiC:te[1].slice(32,48),hiD:te[1].slice(48,64)}}function K(se,J,G){var oe=se.length,te,fe,ge,we=1/0,xe=-1/0;for(te=0;te<oe;te++)se[te].dim0.canvasX<we&&(we=se[te].dim0.canvasX,fe=te),se[te].dim1.canvasX>xe&&(xe=se[te].dim1.canvasX,ge=te);oe===0&&n(E,0,0,_.canvasWidth,_.canvasHeight);var Ce=ie(A);for(te=0;te<oe;te++){var De=se[te],Oe=De.dim0.crossfilterDimensionIndex,Te=De.dim1.crossfilterDimensionIndex,Re=De.canvasX,Me=De.canvasY,ke=Re+De.panelSizeX,Se=De.plotGlPixelRatio;if(J||!q[Oe]||q[Oe][0]!==Re||q[Oe][1]!==ke){q[Oe]=[Re,ke];var He=T(_,fe,ge,te,Oe,Te,Re,Me,De.panelSizeX,De.panelSizeY,De.dim0.crossfilterDimensionIndex,A?0:i?2:1,Ce,Se);O.clearOnly=G;var je=J?_.lines.blockLineCount:z;l(E,re,O,je,z,He)}}}function $(se,J){return E.read({x:se,y:J,width:1,height:1,data:r}),r}function X(se,J,G,oe){var te=new Uint8Array(4*G*oe);return E.read({x:se,y:J,width:G,height:oe,data:te}),te}function Q(){y.style["pointer-events"]="none",Z.destroy(),W&&W.destroy();for(var se in N)N[se].destroy()}return{render:K,readPixel:$,readPixels:X,destroy:Q,update:le}}},26284:function(Y){Y.exports=function(V,e,b,P){P||(P=1/0);var s,L;for(s=0;s<e.length;s++)L=e[s],L.visible&&(P=Math.min(P,L[b].length));for(P===1/0&&(P=0),V._length=P,s=0;s<e.length;s++)L=e[s],L.visible&&(L._length=P);return P}},36336:function(Y,V,e){var b=e(33428),P=e(3400),s=P.isArrayOrTypedArray,L=P.numberFormat,M=e(96824),v=e(54460),p=P.strRotate,r=P.strTranslate,t=e(72736),o=e(43616),n=e(8932),l=e(71688),u=l.keyFun,f=l.repeat,g=l.unwrap,h=e(95724),w=e(30140),c=e(71864),a=e(51352);function d(q,re,le){return P.aggNums(q,null,re,le)}function x(q,re){return C(d(Math.min,q,re),d(Math.max,q,re))}function T(q){var re=q.range;return re?C(re[0],re[1]):x(q.values,q._length)}function C(q,re){return(isNaN(q)||!isFinite(q))&&(q=0),(isNaN(re)||!isFinite(re))&&(re=0),q===re&&(q===0?(q-=1,re+=1):(q*=.9,re*=1.1)),[q,re]}function y(q,re){return re?function(le,ie){var K=re[ie];return K??q(le)}:q}function S(q,re,le,ie,K){var $=T(le);return ie?b.scale.ordinal().domain(ie.map(y(L(le.tickformat),K))).range(ie.map(function(X){var Q=(X-$[0])/($[1]-$[0]);return q-re+Q*(2*re-q)})):b.scale.linear().domain($).range([q-re,re])}function A(q,re){return b.scale.linear().range([re,q-re])}function i(q,re){return b.scale.linear().domain(T(q)).range([re,1-re])}function E(q){if(q.tickvals){var re=T(q);return b.scale.ordinal().domain(q.tickvals).range(q.tickvals.map(function(le){return(le-re[0])/(re[1]-re[0])}))}}function m(q){var re=q.map(function($){return $[0]}),le=q.map(function($){var X=M($[1]);return b.rgb("rgb("+X[0]+","+X[1]+","+X[2]+")")}),ie=function($){return function(X){return X[$]}},K="rgb".split("").map(function($){return b.scale.linear().clamp(!0).domain(re).range(le.map(ie($)))});return function($){return K.map(function(X){return X($)})}}function k(q){return q.dimensions.some(function(re){return re.brush.filterSpecified})}function I(q,re,le){var ie=g(re),K=ie.trace,$=h.convertTypedArray(ie.lineColor),X=K.line,Q={color:M(K.unselected.line.color),opacity:K.unselected.line.opacity},se=n.extractOpts(X),J=se.reversescale?n.flipScale(ie.cscale):ie.cscale,G=K.domain,oe=K.dimensions,te=q.width,fe=K.labelangle,ge=K.labelside,we=K.labelfont,xe=K.tickfont,Ce=K.rangefont,De=P.extendDeepNoArrays({},X,{color:$.map(b.scale.linear().domain(T({values:$,range:[se.min,se.max],_length:K._length}))),blockLineCount:w.blockLineCount,canvasOverdrag:w.overdrag*w.canvasPixelRatio}),Oe=Math.floor(te*(G.x[1]-G.x[0])),Te=Math.floor(q.height*(G.y[1]-G.y[0])),Re=q.margin||{l:80,r:80,t:100,b:80},Me=Oe,ke=Te;return{key:le,colCount:oe.filter(h.isVisible).length,dimensions:oe,tickDistance:w.tickDistance,unitToColor:m(J),lines:De,deselectedLines:Q,labelAngle:fe,labelSide:ge,labelFont:we,tickFont:xe,rangeFont:Ce,layoutWidth:te,layoutHeight:q.height,domain:G,translateX:G.x[0]*te,translateY:q.height-G.y[1]*q.height,pad:Re,canvasWidth:Me*w.canvasPixelRatio+2*De.canvasOverdrag,canvasHeight:ke*w.canvasPixelRatio,width:Me,height:ke,canvasPixelRatio:w.canvasPixelRatio}}function O(q,re,le){var ie=le.width,K=le.height,$=le.dimensions,X=le.canvasPixelRatio,Q=function(te){return ie*te/Math.max(1,le.colCount-1)},se=w.verticalPadding/K,J=A(K,w.verticalPadding),G={key:le.key,xScale:Q,model:le,inBrushDrag:!1},oe={};return G.dimensions=$.filter(h.isVisible).map(function(te,fe){var ge=i(te,se),we=oe[te.label];oe[te.label]=(we||0)+1;var xe=te.label+(we?"__"+we:""),Ce=te.constraintrange,De=Ce&&Ce.length;De&&!s(Ce[0])&&(Ce=[Ce]);var Oe=De?Ce.map(function($e){return $e.map(ge)}):[[-1/0,1/0]],Te=function(){var $e=G;$e.focusLayer&&$e.focusLayer.render($e.panels,!0);var ut=k($e);!q.contextShown()&&ut?($e.contextLayer&&$e.contextLayer.render($e.panels,!0),q.contextShown(!0)):q.contextShown()&&!ut&&($e.contextLayer&&$e.contextLayer.render($e.panels,!0,!0),q.contextShown(!1))},Re=te.values;Re.length>te._length&&(Re=Re.slice(0,te._length));var Me=te.tickvals,ke;function Se($e,ut){return{val:$e,text:ke[ut]}}function He($e,ut){return $e.val-ut.val}if(s(Me)&&Me.length){P.isTypedArray(Me)&&(Me=Array.from(Me)),ke=te.ticktext,!s(ke)||!ke.length?ke=Me.map(L(te.tickformat)):ke.length>Me.length?ke=ke.slice(0,Me.length):Me.length>ke.length&&(Me=Me.slice(0,ke.length));for(var je=1;je<Me.length;je++)if(Me[je]<Me[je-1]){for(var at=Me.map(Se).sort(He),Ze=0;Ze<Me.length;Ze++)Me[Ze]=at[Ze].val,ke[Ze]=at[Ze].text;break}}else Me=void 0;return Re=h.convertTypedArray(Re),{key:xe,label:te.label,tickFormat:te.tickformat,tickvals:Me,ticktext:ke,ordinal:h.isOrdinal(te),multiselect:te.multiselect,xIndex:fe,crossfilterDimensionIndex:fe,visibleIndex:te._index,height:K,values:Re,paddedUnitValues:Re.map(ge),unitTickvals:Me&&Me.map(ge),xScale:Q,x:Q(fe),canvasX:Q(fe)*X,unitToPaddedPx:J,domainScale:S(K,w.verticalPadding,te,Me,ke),ordinalScale:E(te),parent:G,model:le,brush:c.makeBrush(q,De,Oe,function(){q.linePickActive(!1)},Te,function($e){if(G.focusLayer.render(G.panels,!0),G.pickLayer&&G.pickLayer.render(G.panels,!0),q.linePickActive(!0),re&&re.filterChanged){var ut=ge.invert,ht=$e.map(function(vt){return vt.map(ut).sort(P.sorterAsc)}).sort(function(vt,xt){return vt[0]-xt[0]});re.filterChanged(G.key,te._index,ht)}})}}),G}function _(q){q.classed(w.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function B(){var q=!0,re=!1;return{linePickActive:function(le){return arguments.length?q=!!le:q},contextShown:function(le){return arguments.length?re=!!le:re}}}function F(q,re){var le=re==="top"?1:-1,ie=q*Math.PI/180,K=Math.sin(ie),$=Math.cos(ie);return{dir:le,dx:K,dy:$,degrees:q}}function z(q,re,le){for(var ie=re.panels||(re.panels=[]),K=q.data(),$=0;$<K.length-1;$++){var X=ie[$]||(ie[$]={}),Q=K[$],se=K[$+1];X.dim0=Q,X.dim1=se,X.canvasX=Q.canvasX,X.panelSizeX=se.canvasX-Q.canvasX,X.panelSizeY=re.model.canvasHeight,X.y=0,X.canvasY=0,X.plotGlPixelRatio=le}}function N(q){for(var re=0;re<q.length;re++)for(var le=0;le<q[re].length;le++)for(var ie=q[re][le].trace,K=ie.dimensions,$=0;$<K.length;$++){var X=K[$].values,Q=K[$]._ax;Q&&(Q.range?Q.range=C(Q.range[0],Q.range[1]):Q.range=x(X,ie._length),Q.dtick||(Q.dtick=.01*(Math.abs(Q.range[1]-Q.range[0])||1)),Q.tickformat=K[$].tickformat,v.calcTicks(Q),Q.cleanRange())}}function W(q,re){return v.tickText(q._ax,re,!1).text}function Z(q,re){if(q.ordinal)return"";var le=q.domainScale.domain(),ie=le[re?le.length-1:0];return W(q.model.dimensions[q.visibleIndex],ie)}Y.exports=function(re,le,ie,K){var $=re._context.staticPlot,X=re._fullLayout,Q=X._toppaper,se=X._glcontainer,J=re._context.plotGlPixelRatio,G=re._fullLayout.paper_bgcolor;N(le);var oe=B(),te=le.filter(function(Ze){return g(Ze).trace.visible}).map(I.bind(0,ie)).map(O.bind(0,oe,K));se.each(function(Ze,$e){return P.extendFlat(Ze,te[$e])});var fe=se.selectAll(".gl-canvas").each(function(Ze){Ze.viewModel=te[0],Ze.viewModel.plotGlPixelRatio=J,Ze.viewModel.paperColor=G,Ze.model=Ze.viewModel?Ze.viewModel.model:null}),ge=null,we=fe.filter(function(Ze){return Ze.pick});we.style("pointer-events",$?"none":"auto").on("mousemove",function(Ze){if(oe.linePickActive()&&Ze.lineLayer&&K&&K.hover){var $e=b.event,ut=this.width,ht=this.height,vt=b.mouse(this),xt=vt[0],St=vt[1];if(xt<0||St<0||xt>=ut||St>=ht)return;var tt=Ze.lineLayer.readPixel(xt,ht-1-St),Ie=tt[3]!==0,Ve=Ie?tt[2]+256*(tt[1]+256*tt[0]):null,Ge={x:xt,y:St,clientX:$e.clientX,clientY:$e.clientY,dataIndex:Ze.model.key,curveNumber:Ve};Ve!==ge&&(Ie?K.hover(Ge):K.unhover&&K.unhover(Ge),ge=Ve)}}),fe.style("opacity",function(Ze){return Ze.pick?0:1}),Q.style("background","rgba(255, 255, 255, 0)");var xe=Q.selectAll("."+w.cn.parcoords).data(te,u);xe.exit().remove(),xe.enter().append("g").classed(w.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),xe.attr("transform",function(Ze){return r(Ze.model.translateX,Ze.model.translateY)});var Ce=xe.selectAll("."+w.cn.parcoordsControlView).data(f,u);Ce.enter().append("g").classed(w.cn.parcoordsControlView,!0),Ce.attr("transform",function(Ze){return r(Ze.model.pad.l,Ze.model.pad.t)});var De=Ce.selectAll("."+w.cn.yAxis).data(function(Ze){return Ze.dimensions},u);De.enter().append("g").classed(w.cn.yAxis,!0),Ce.each(function(Ze){z(De,Ze,J)}),fe.each(function(Ze){if(Ze.viewModel){!Ze.lineLayer||K?Ze.lineLayer=a(this,Ze):Ze.lineLayer.update(Ze),(Ze.key||Ze.key===0)&&(Ze.viewModel[Ze.key]=Ze.lineLayer);var $e=!Ze.context||K;Ze.lineLayer.render(Ze.viewModel.panels,$e)}}),De.attr("transform",function(Ze){return r(Ze.xScale(Ze.xIndex),0)}),De.call(b.behavior.drag().origin(function(Ze){return Ze}).on("drag",function(Ze){var $e=Ze.parent;oe.linePickActive(!1),Ze.x=Math.max(-w.overdrag,Math.min(Ze.model.width+w.overdrag,b.event.x)),Ze.canvasX=Ze.x*Ze.model.canvasPixelRatio,De.sort(function(ut,ht){return ut.x-ht.x}).each(function(ut,ht){ut.xIndex=ht,ut.x=Ze===ut?ut.x:ut.xScale(ut.xIndex),ut.canvasX=ut.x*ut.model.canvasPixelRatio}),z(De,$e,J),De.filter(function(ut){return Math.abs(Ze.xIndex-ut.xIndex)!==0}).attr("transform",function(ut){return r(ut.xScale(ut.xIndex),0)}),b.select(this).attr("transform",r(Ze.x,0)),De.each(function(ut,ht,vt){vt===Ze.parent.key&&($e.dimensions[ht]=ut)}),$e.contextLayer&&$e.contextLayer.render($e.panels,!1,!k($e)),$e.focusLayer.render&&$e.focusLayer.render($e.panels)}).on("dragend",function(Ze){var $e=Ze.parent;Ze.x=Ze.xScale(Ze.xIndex),Ze.canvasX=Ze.x*Ze.model.canvasPixelRatio,z(De,$e,J),b.select(this).attr("transform",function(ut){return r(ut.x,0)}),$e.contextLayer&&$e.contextLayer.render($e.panels,!1,!k($e)),$e.focusLayer&&$e.focusLayer.render($e.panels),$e.pickLayer&&$e.pickLayer.render($e.panels,!0),oe.linePickActive(!0),K&&K.axesMoved&&K.axesMoved($e.key,$e.dimensions.map(function(ut){return ut.crossfilterDimensionIndex}))})),De.exit().remove();var Oe=De.selectAll("."+w.cn.axisOverlays).data(f,u);Oe.enter().append("g").classed(w.cn.axisOverlays,!0),Oe.selectAll("."+w.cn.axis).remove();var Te=Oe.selectAll("."+w.cn.axis).data(f,u);Te.enter().append("g").classed(w.cn.axis,!0),Te.each(function(Ze){var $e=Ze.model.height/Ze.model.tickDistance,ut=Ze.domainScale,ht=ut.domain();b.select(this).call(b.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks($e,Ze.tickFormat).tickValues(Ze.ordinal?ht:null).tickFormat(function(vt){return h.isOrdinal(Ze)?vt:W(Ze.model.dimensions[Ze.visibleIndex],vt)}).scale(ut)),o.font(Te.selectAll("text"),Ze.model.tickFont)}),Te.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Te.selectAll("text").style("cursor","default");var Re=Oe.selectAll("."+w.cn.axisHeading).data(f,u);Re.enter().append("g").classed(w.cn.axisHeading,!0);var Me=Re.selectAll("."+w.cn.axisTitle).data(f,u);Me.enter().append("text").classed(w.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",$?"none":"auto"),Me.text(function(Ze){return Ze.label}).each(function(Ze){var $e=b.select(this);o.font($e,Ze.model.labelFont),t.convertToTspans($e,re)}).attr("transform",function(Ze){var $e=F(Ze.model.labelAngle,Ze.model.labelSide),ut=w.axisTitleOffset;return($e.dir>0?"":r(0,2*ut+Ze.model.height))+p($e.degrees)+r(-ut*$e.dx,-ut*$e.dy)}).attr("text-anchor",function(Ze){var $e=F(Ze.model.labelAngle,Ze.model.labelSide),ut=Math.abs($e.dx),ht=Math.abs($e.dy);return 2*ut>ht?$e.dir*$e.dx<0?"start":"end":"middle"});var ke=Oe.selectAll("."+w.cn.axisExtent).data(f,u);ke.enter().append("g").classed(w.cn.axisExtent,!0);var Se=ke.selectAll("."+w.cn.axisExtentTop).data(f,u);Se.enter().append("g").classed(w.cn.axisExtentTop,!0),Se.attr("transform",r(0,-w.axisExtentOffset));var He=Se.selectAll("."+w.cn.axisExtentTopText).data(f,u);He.enter().append("text").classed(w.cn.axisExtentTopText,!0).call(_),He.text(function(Ze){return Z(Ze,!0)}).each(function(Ze){o.font(b.select(this),Ze.model.rangeFont)});var je=ke.selectAll("."+w.cn.axisExtentBottom).data(f,u);je.enter().append("g").classed(w.cn.axisExtentBottom,!0),je.attr("transform",function(Ze){return r(0,Ze.model.height+w.axisExtentOffset)});var at=je.selectAll("."+w.cn.axisExtentBottomText).data(f,u);at.enter().append("text").classed(w.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(_),at.text(function(Ze){return Z(Ze,!1)}).each(function(Ze){o.font(b.select(this),Ze.model.rangeFont)}),c.ensureAxisBrush(Oe,G,re)}},24196:function(Y,V,e){var b=e(36336),P=e(5048),s=e(95724).isVisible,L={};function M(r,t,o){var n=t.indexOf(o),l=r.indexOf(n);return l===-1&&(l+=t.length),l}function v(r,t){return function(n,l){return M(r,t,n)-M(r,t,l)}}var p=Y.exports=function(t,o){var n=t._fullLayout,l=P(t,[],L);if(l){var u={},f={},g={},h={},w=n._size;o.forEach(function(T,C){var y=T[0].trace;g[C]=y.index;var S=h[C]=y._fullInput.index;u[C]=t.data[S].dimensions,f[C]=t.data[S].dimensions.slice()});var c=function(T,C,y){var S=f[T][C],A=y.map(function(O){return O.slice()}),i="dimensions["+C+"].constraintrange",E=n._tracePreGUI[t._fullData[g[T]]._fullInput.uid];if(E[i]===void 0){var m=S.constraintrange;E[i]=m||null}var k=t._fullData[g[T]].dimensions[C];A.length?(A.length===1&&(A=A[0]),S.constraintrange=A,k.constraintrange=A.slice(),A=[A]):(delete S.constraintrange,delete k.constraintrange,A=null);var I={};I[i]=A,t.emit("plotly_restyle",[I,[h[T]]])},a=function(T){t.emit("plotly_hover",T)},d=function(T){t.emit("plotly_unhover",T)},x=function(T,C){var y=v(C,f[T].filter(s));u[T].sort(y),f[T].filter(function(S){return!s(S)}).sort(function(S){return f[T].indexOf(S)}).forEach(function(S){u[T].splice(u[T].indexOf(S),1),u[T].splice(f[T].indexOf(S),0,S)}),t.emit("plotly_restyle",[{dimensions:[u[T]]},[h[T]]])};b(t,o,{width:w.w,height:w.h,margin:{t:w.t,r:w.r,b:w.b,l:w.l}},{filterChanged:c,hover:a,unhover:d,axesMoved:x})}};p.reglPrecompiled=L},74996:function(Y,V,e){var b=e(45464),P=e(86968).u,s=e(25376),L=e(22548),M=e(21776).Ks,v=e(21776).Gw,p=e(92880).extendFlat,r=e(98192).c,t=s({editType:"plot",arrayOk:!0,colorEditType:"plot"});Y.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:L.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:r,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:p({},b.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:M({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:p({},t,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:p({},t,{}),outsidetextfont:p({},t,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:p({},t,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:P({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:p({},t,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},80036:function(Y,V,e){var b=e(7316);V.name="pie",V.plot=function(P,s,L,M){b.plotBasePlot(V.name,P,s,L,M)},V.clean=function(P,s,L,M){b.cleanBasePlot(V.name,P,s,L,M)}},45768:function(Y,V,e){var b=e(38248),P=e(49760),s=e(76308),L={};function M(t,o){var n=[],l=t._fullLayout,u=l.hiddenlabels||[],f=o.labels,g=o.marker.colors||[],h=o.values,w=o._length,c=o._hasValues&&w,a,d;if(o.dlabel)for(f=new Array(w),a=0;a<w;a++)f[a]=String(o.label0+a*o.dlabel);var x={},T=v(l["_"+o.type+"colormap"]),C=0,y=!1;for(a=0;a<w;a++){var S,A,i;if(c){if(S=h[a],!b(S))continue;S=+S}else S=1;A=f[a],(A===void 0||A==="")&&(A=a),A=String(A);var E=x[A];E===void 0?(x[A]=n.length,i=u.indexOf(A)!==-1,i||(C+=S),n.push({v:S,label:A,color:T(g[a],A),i:a,pts:[a],hidden:i})):(y=!0,d=n[E],d.v+=S,d.pts.push(a),d.hidden||(C+=S),d.color===!1&&g[a]&&(d.color=T(g[a],A)))}n=n.filter(function(k){return k.v>=0});var m=o.type==="funnelarea"?y:o.sort;return m&&n.sort(function(k,I){return I.v-k.v}),n[0]&&(n[0].vTotal=C),n}function v(t){return function(n,l){return!n||(n=P(n),!n.isValid())?!1:(n=s.addOpacity(n,n.getAlpha()),t[l]||(t[l]=n),n)}}function p(t,o){var n=(o||{}).type;n||(n="pie");var l=t._fullLayout,u=t.calcdata,f=l[n+"colorway"],g=l["_"+n+"colormap"];l["extend"+n+"colors"]&&(f=r(f,L));for(var h=0,w=0;w<u.length;w++){var c=u[w],a=c[0].trace.type;if(a===n)for(var d=0;d<c.length;d++){var x=c[d];x.color===!1&&(g[x.label]?x.color=g[x.label]:(g[x.label]=x.color=f[h%f.length],h++))}}}function r(t,o){var n,l=JSON.stringify(t),u=o[l];if(!u){for(u=t.slice(),n=0;n<t.length;n++)u.push(P(t[n]).lighten(20).toHexString());for(n=0;n<t.length;n++)u.push(P(t[n]).darken(20).toHexString());o[l]=u}return u}Y.exports={calc:M,crossTraceCalc:p,makePullColorFn:v,generateExtendedColors:r}},74174:function(Y,V,e){var b=e(38248),P=e(3400),s=e(74996),L=e(86968).Q,M=e(31508).handleText,v=e(3400).coercePattern;function p(o,n){var l=P.isArrayOrTypedArray(o),u=P.isArrayOrTypedArray(n),f=Math.min(l?o.length:1/0,u?n.length:1/0);if(isFinite(f)||(f=0),f&&u){for(var g,h=0;h<f;h++){var w=n[h];if(b(w)&&w>0){g=!0;break}}g||(f=0)}return{hasLabels:l,hasValues:u,len:f}}function r(o,n,l,u,f){var g=u("marker.line.width");g&&u("marker.line.color",f?void 0:l.paper_bgcolor);var h=u("marker.colors");v(u,"marker.pattern",h),o.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=o.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=l.paper_bgcolor)}function t(o,n,l,u){function f(E,m){return P.coerce(o,n,s,E,m)}var g=f("labels"),h=f("values"),w=p(g,h),c=w.len;if(n._hasLabels=w.hasLabels,n._hasValues=w.hasValues,!n._hasLabels&&n._hasValues&&(f("label0"),f("dlabel")),!c){n.visible=!1;return}n._length=c,r(o,n,u,f,!0),f("scalegroup");var a=f("text"),d=f("texttemplate"),x;if(d||(x=f("textinfo",P.isArrayOrTypedArray(a)?"text+percent":"percent")),f("hovertext"),f("hovertemplate"),d||x&&x!=="none"){var T=f("textposition");M(o,n,u,f,T,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var C=Array.isArray(T)||T==="auto",y=C||T==="outside";y&&f("automargin"),(T==="inside"||T==="auto"||Array.isArray(T))&&f("insidetextorientation")}else x==="none"&&f("textposition","none");L(n,u,f);var S=f("hole"),A=f("title.text");if(A){var i=f("title.position",S?"middle center":"top center");!S&&i==="middle center"&&(n.title.position="top center"),P.coerceFont(f,"title.font",u.font)}f("sort"),f("direction"),f("rotation"),f("pull")}Y.exports={handleLabelsAndValues:p,handleMarkerDefaults:r,supplyDefaults:t}},53644:function(Y,V,e){var b=e(10624).appendArrayMultiPointValues;Y.exports=function(s,L){var M={curveNumber:L.index,pointNumbers:s.pts,data:L._input,fullData:L,label:s.label,color:s.color,value:s.v,percent:s.percent,text:s.text,bbox:s.bbox,v:s.v};return s.pts.length===1&&(M.pointNumber=M.i=s.pts[0]),b(M,L,s.pts),L.type==="funnelarea"&&(delete M.v,delete M.i),M}},21552:function(Y,V,e){var b=e(43616),P=e(76308);Y.exports=function(L,M,v,p){var r=v.marker.pattern;r&&r.shape?b.pointStyle(L,v,p,M):P.fill(L,M.color)}},69656:function(Y,V,e){var b=e(3400);function P(s){return s.indexOf("e")!==-1?s.replace(/[.]?0+e/,"e"):s.indexOf(".")!==-1?s.replace(/[.]?0+$/,""):s}V.formatPiePercent=function(L,M){var v=P((L*100).toPrecision(3));return b.numSeparate(v,M)+"%"},V.formatPieValue=function(L,M){var v=P(L.toPrecision(10));return b.numSeparate(v,M)},V.getFirstFilled=function(L,M){if(b.isArrayOrTypedArray(L))for(var v=0;v<M.length;v++){var p=L[M[v]];if(p||p===0||p==="")return p}},V.castOption=function(L,M){if(b.isArrayOrTypedArray(L))return V.getFirstFilled(L,M);if(L)return L},V.getRotationAngle=function(s){return(s==="auto"?0:s)*Math.PI/180}},75792:function(Y,V,e){Y.exports={attributes:e(74996),supplyDefaults:e(74174).supplyDefaults,supplyLayoutDefaults:e(90248),layoutAttributes:e(85204),calc:e(45768).calc,crossTraceCalc:e(45768).crossTraceCalc,plot:e(37820).plot,style:e(22152),styleOne:e(10528),moduleType:"trace",name:"pie",basePlotModule:e(80036),categories:["pie-like","pie","showLegend"],meta:{}}},85204:function(Y){Y.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},90248:function(Y,V,e){var b=e(3400),P=e(85204);Y.exports=function(L,M){function v(p,r){return b.coerce(L,M,P,p,r)}v("hiddenlabels"),v("piecolorway",M.colorway),v("extendpiecolors")}},37820:function(Y,V,e){var b=e(33428),P=e(7316),s=e(93024),L=e(76308),M=e(43616),v=e(3400),p=v.strScale,r=v.strTranslate,t=e(72736),o=e(82744),n=o.recordMinTextSize,l=o.clearMinTextSize,u=e(78048).TEXTPAD,f=e(69656),g=e(53644),h=e(3400).isValidTextValue;function w(K,$){var X=K._context.staticPlot,Q=K._fullLayout,se=Q._size;l("pie",Q),T($,K),W($,se);var J=v.makeTraceGroups(Q._pielayer,$,"trace").each(function(G){var oe=b.select(this),te=G[0],fe=te.trace;q(G),oe.attr("stroke-linejoin","round"),oe.each(function(){var ge=b.select(this).selectAll("g.slice").data(G);ge.enter().append("g").classed("slice",!0),ge.exit().remove();var we=[[[],[]],[[],[]]],xe=!1;ge.each(function(Se,He){if(Se.hidden){b.select(this).selectAll("path,g").remove();return}Se.pointNumber=Se.i,Se.curveNumber=fe.index,we[Se.pxmid[1]<0?0:1][Se.pxmid[0]<0?0:1].push(Se);var je=te.cx,at=te.cy,Ze=b.select(this),$e=Ze.selectAll("path.surface").data([Se]);if($e.enter().append("path").classed("surface",!0).style({"pointer-events":X?"none":"all"}),Ze.call(a,K,G),fe.pull){var ut=+f.castOption(fe.pull,Se.pts)||0;ut>0&&(je+=ut*Se.pxmid[0],at+=ut*Se.pxmid[1])}Se.cxFinal=je,Se.cyFinal=at;function ht(Ge,Xe,Le,Fe){var Ue=Fe*(Xe[0]-Ge[0]),Ee=Fe*(Xe[1]-Ge[1]);return"a"+Fe*te.r+","+Fe*te.r+" 0 "+Se.largeArc+(Le?" 1 ":" 0 ")+Ue+","+Ee}var vt=fe.hole;if(Se.v===te.vTotal){var xt="M"+(je+Se.px0[0])+","+(at+Se.px0[1])+ht(Se.px0,Se.pxmid,!0,1)+ht(Se.pxmid,Se.px0,!0,1)+"Z";vt?$e.attr("d","M"+(je+vt*Se.px0[0])+","+(at+vt*Se.px0[1])+ht(Se.px0,Se.pxmid,!1,vt)+ht(Se.pxmid,Se.px0,!1,vt)+"Z"+xt):$e.attr("d",xt)}else{var St=ht(Se.px0,Se.px1,!0,1);if(vt){var tt=1-vt;$e.attr("d","M"+(je+vt*Se.px1[0])+","+(at+vt*Se.px1[1])+ht(Se.px1,Se.px0,!1,vt)+"l"+tt*Se.px0[0]+","+tt*Se.px0[1]+St+"Z")}else $e.attr("d","M"+je+","+at+"l"+Se.px0[0]+","+Se.px0[1]+St+"Z")}le(K,Se,te);var Ie=f.castOption(fe.textposition,Se.pts),Ve=Ze.selectAll("g.slicetext").data(Se.text&&Ie!=="none"?[0]:[]);Ve.enter().append("g").classed("slicetext",!0),Ve.exit().remove(),Ve.each(function(){var Ge=v.ensureSingle(b.select(this),"text","",function(_e){_e.attr("data-notex",1)}),Xe=v.ensureUniformFontSize(K,Ie==="outside"?d(fe,Se,Q.font):x(fe,Se,Q.font));Ge.text(Se.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(M.font,Xe).call(t.convertToTspans,K);var Le=M.bBox(Ge.node()),Fe;if(Ie==="outside")Fe=I(Le,Se);else if(Fe=C(Le,Se,te),Ie==="auto"&&Fe.scale<1){var Ue=v.ensureUniformFontSize(K,fe.outsidetextfont);Ge.call(M.font,Ue),Le=M.bBox(Ge.node()),Fe=I(Le,Se)}var Ee=Fe.textPosAngle,he=Ee===void 0?Se.pxmid:re(te.r,Ee);if(Fe.targetX=je+he[0]*Fe.rCenter+(Fe.x||0),Fe.targetY=at+he[1]*Fe.rCenter+(Fe.y||0),ie(Fe,Le),Fe.outside){var ye=Fe.targetY;Se.yLabelMin=ye-Le.height/2,Se.yLabelMid=ye,Se.yLabelMax=ye+Le.height/2,Se.labelExtraX=0,Se.labelExtraY=0,xe=!0}Fe.fontSize=Xe.size,n(fe.type,Fe,Q),G[He].transform=Fe,v.setTransormAndDisplay(Ge,Fe)})});var Ce=b.select(this).selectAll("g.titletext").data(fe.title.text?[0]:[]);if(Ce.enter().append("g").classed("titletext",!0),Ce.exit().remove(),Ce.each(function(){var Se=v.ensureSingle(b.select(this),"text","",function(at){at.attr("data-notex",1)}),He=fe.title.text;fe._meta&&(He=v.templateString(He,fe._meta)),Se.text(He).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(M.font,fe.title.font).call(t.convertToTspans,K);var je;fe.title.position==="middle center"?je=O(te):je=_(te,se),Se.attr("transform",r(je.x,je.y)+p(Math.min(1,je.scale))+r(je.tx,je.ty))}),xe&&N(we,fe),c(ge,fe),xe&&fe.automargin){var De=M.bBox(oe.node()),Oe=fe.domain,Te=se.w*(Oe.x[1]-Oe.x[0]),Re=se.h*(Oe.y[1]-Oe.y[0]),Me=(.5*Te-te.r)/se.w,ke=(.5*Re-te.r)/se.h;P.autoMargin(K,"pie."+fe.uid+".automargin",{xl:Oe.x[0]-Me,xr:Oe.x[1]+Me,yb:Oe.y[0]-ke,yt:Oe.y[1]+ke,l:Math.max(te.cx-te.r-De.left,0),r:Math.max(De.right-(te.cx+te.r),0),b:Math.max(De.bottom-(te.cy+te.r),0),t:Math.max(te.cy-te.r-De.top,0),pad:5})}})});setTimeout(function(){J.selectAll("tspan").each(function(){var G=b.select(this);G.attr("dy")&&G.attr("dy",G.attr("dy"))})},0)}function c(K,$){K.each(function(X){var Q=b.select(this);if(!X.labelExtraX&&!X.labelExtraY){Q.select("path.textline").remove();return}var se=Q.select("g.slicetext text");X.transform.targetX+=X.labelExtraX,X.transform.targetY+=X.labelExtraY,v.setTransormAndDisplay(se,X.transform);var J=X.cxFinal+X.pxmid[0],G=X.cyFinal+X.pxmid[1],oe="M"+J+","+G,te=(X.yLabelMax-X.yLabelMin)*(X.pxmid[0]<0?-1:1)/4;if(X.labelExtraX){var fe=X.labelExtraX*X.pxmid[1]/X.pxmid[0],ge=X.yLabelMid+X.labelExtraY-(X.cyFinal+X.pxmid[1]);Math.abs(fe)>Math.abs(ge)?oe+="l"+ge*X.pxmid[0]/X.pxmid[1]+","+ge+"H"+(J+X.labelExtraX+te):oe+="l"+X.labelExtraX+","+fe+"v"+(ge-fe)+"h"+te}else oe+="V"+(X.yLabelMid+X.labelExtraY)+"h"+te;v.ensureSingle(Q,"path","textline").call(L.stroke,$.outsidetextfont.color).attr({"stroke-width":Math.min(2,$.outsidetextfont.size/8),d:oe,fill:"none"})})}function a(K,$,X){var Q=X[0],se=Q.cx,J=Q.cy,G=Q.trace,oe=G.type==="funnelarea";"_hasHoverLabel"in G||(G._hasHoverLabel=!1),"_hasHoverEvent"in G||(G._hasHoverEvent=!1),K.on("mouseover",function(te){var fe=$._fullLayout,ge=$._fullData[G.index];if(!($._dragging||fe.hovermode===!1)){var we=ge.hoverinfo;if(Array.isArray(we)&&(we=s.castHoverinfo({hoverinfo:[f.castOption(we,te.pts)],_module:G._module},fe,0)),we==="all"&&(we="label+text+value+percent+name"),ge.hovertemplate||we!=="none"&&we!=="skip"&&we){var xe=te.rInscribed||0,Ce=se+te.pxmid[0]*(1-xe),De=J+te.pxmid[1]*(1-xe),Oe=fe.separators,Te=[];if(we&&we.indexOf("label")!==-1&&Te.push(te.label),te.text=f.castOption(ge.hovertext||ge.text,te.pts),we&&we.indexOf("text")!==-1){var Re=te.text;v.isValidTextValue(Re)&&Te.push(Re)}te.value=te.v,te.valueLabel=f.formatPieValue(te.v,Oe),we&&we.indexOf("value")!==-1&&Te.push(te.valueLabel),te.percent=te.v/Q.vTotal,te.percentLabel=f.formatPiePercent(te.percent,Oe),we&&we.indexOf("percent")!==-1&&Te.push(te.percentLabel);var Me=ge.hoverlabel,ke=Me.font,Se=[];s.loneHover({trace:G,x0:Ce-xe*Q.r,x1:Ce+xe*Q.r,y:De,_x0:oe?se+te.TL[0]:Ce-xe*Q.r,_x1:oe?se+te.TR[0]:Ce+xe*Q.r,_y0:oe?J+te.TL[1]:De-xe*Q.r,_y1:oe?J+te.BL[1]:De+xe*Q.r,text:Te.join("<br>"),name:ge.hovertemplate||we.indexOf("name")!==-1?ge.name:void 0,idealAlign:te.pxmid[0]<0?"left":"right",color:f.castOption(Me.bgcolor,te.pts)||te.color,borderColor:f.castOption(Me.bordercolor,te.pts),fontFamily:f.castOption(ke.family,te.pts),fontSize:f.castOption(ke.size,te.pts),fontColor:f.castOption(ke.color,te.pts),nameLength:f.castOption(Me.namelength,te.pts),textAlign:f.castOption(Me.align,te.pts),hovertemplate:f.castOption(ge.hovertemplate,te.pts),hovertemplateLabels:te,eventData:[g(te,ge)]},{container:fe._hoverlayer.node(),outerContainer:fe._paper.node(),gd:$,inOut_bbox:Se}),te.bbox=Se[0],G._hasHoverLabel=!0}G._hasHoverEvent=!0,$.emit("plotly_hover",{points:[g(te,ge)],event:b.event})}}),K.on("mouseout",function(te){var fe=$._fullLayout,ge=$._fullData[G.index],we=b.select(this).datum();G._hasHoverEvent&&(te.originalEvent=b.event,$.emit("plotly_unhover",{points:[g(we,ge)],event:b.event}),G._hasHoverEvent=!1),G._hasHoverLabel&&(s.loneUnhover(fe._hoverlayer.node()),G._hasHoverLabel=!1)}),K.on("click",function(te){var fe=$._fullLayout,ge=$._fullData[G.index];$._dragging||fe.hovermode===!1||($._hoverdata=[g(te,ge)],s.click($,b.event))})}function d(K,$,X){var Q=f.castOption(K.outsidetextfont.color,$.pts)||f.castOption(K.textfont.color,$.pts)||X.color,se=f.castOption(K.outsidetextfont.family,$.pts)||f.castOption(K.textfont.family,$.pts)||X.family,J=f.castOption(K.outsidetextfont.size,$.pts)||f.castOption(K.textfont.size,$.pts)||X.size,G=f.castOption(K.outsidetextfont.weight,$.pts)||f.castOption(K.textfont.weight,$.pts)||X.weight,oe=f.castOption(K.outsidetextfont.style,$.pts)||f.castOption(K.textfont.style,$.pts)||X.style,te=f.castOption(K.outsidetextfont.variant,$.pts)||f.castOption(K.textfont.variant,$.pts)||X.variant,fe=f.castOption(K.outsidetextfont.textcase,$.pts)||f.castOption(K.textfont.textcase,$.pts)||X.textcase,ge=f.castOption(K.outsidetextfont.lineposition,$.pts)||f.castOption(K.textfont.lineposition,$.pts)||X.lineposition,we=f.castOption(K.outsidetextfont.shadow,$.pts)||f.castOption(K.textfont.shadow,$.pts)||X.shadow;return{color:Q,family:se,size:J,weight:G,style:oe,variant:te,textcase:fe,lineposition:ge,shadow:we}}function x(K,$,X){var Q=f.castOption(K.insidetextfont.color,$.pts);!Q&&K._input.textfont&&(Q=f.castOption(K._input.textfont.color,$.pts));var se=f.castOption(K.insidetextfont.family,$.pts)||f.castOption(K.textfont.family,$.pts)||X.family,J=f.castOption(K.insidetextfont.size,$.pts)||f.castOption(K.textfont.size,$.pts)||X.size,G=f.castOption(K.insidetextfont.weight,$.pts)||f.castOption(K.textfont.weight,$.pts)||X.weight,oe=f.castOption(K.insidetextfont.style,$.pts)||f.castOption(K.textfont.style,$.pts)||X.style,te=f.castOption(K.insidetextfont.variant,$.pts)||f.castOption(K.textfont.variant,$.pts)||X.variant,fe=f.castOption(K.insidetextfont.textcase,$.pts)||f.castOption(K.textfont.textcase,$.pts)||X.textcase,ge=f.castOption(K.insidetextfont.lineposition,$.pts)||f.castOption(K.textfont.lineposition,$.pts)||X.lineposition,we=f.castOption(K.insidetextfont.shadow,$.pts)||f.castOption(K.textfont.shadow,$.pts)||X.shadow;return{color:Q||L.contrast($.color),family:se,size:J,weight:G,style:oe,variant:te,textcase:fe,lineposition:ge,shadow:we}}function T(K,$){for(var X,Q,se=0;se<K.length;se++)if(X=K[se][0],Q=X.trace,Q.title.text){var J=Q.title.text;Q._meta&&(J=v.templateString(J,Q._meta));var G=M.tester.append("text").attr("data-notex",1).text(J).call(M.font,Q.title.font).call(t.convertToTspans,$),oe=M.bBox(G.node(),!0);X.titleBox={width:oe.width,height:oe.height},G.remove()}}function C(K,$,X){var Q=X.r||$.rpx1,se=$.rInscribed,J=$.startangle===$.stopangle;if(J)return{rCenter:1-se,scale:0,rotate:0,textPosAngle:0};var G=$.ring,oe=G===1&&Math.abs($.startangle-$.stopangle)===Math.PI*2,te=$.halfangle,fe=$.midangle,ge=X.trace.insidetextorientation,we=ge==="horizontal",xe=ge==="tangential",Ce=ge==="radial",De=ge==="auto",Oe=[],Te;if(!De){var Re=function(Ze,$e){if(y($,Ze)){var ut=Math.abs(Ze-$.startangle),ht=Math.abs(Ze-$.stopangle),vt=ut<ht?ut:ht;$e==="tan"?Te=A(K,Q,G,vt,0):Te=S(K,Q,G,vt,Math.PI/2),Te.textPosAngle=Ze,Oe.push(Te)}},Me;if(we||xe){for(Me=4;Me>=-4;Me-=2)Re(Math.PI*Me,"tan");for(Me=4;Me>=-4;Me-=2)Re(Math.PI*(Me+1),"tan")}if(we||Ce){for(Me=4;Me>=-4;Me-=2)Re(Math.PI*(Me+1.5),"rad");for(Me=4;Me>=-4;Me-=2)Re(Math.PI*(Me+.5),"rad")}}if(oe||De||we){var ke=Math.sqrt(K.width*K.width+K.height*K.height);if(Te={scale:se*Q*2/ke,rCenter:1-se,rotate:0},Te.textPosAngle=($.startangle+$.stopangle)/2,Te.scale>=1)return Te;Oe.push(Te)}(De||Ce)&&(Te=S(K,Q,G,te,fe),Te.textPosAngle=($.startangle+$.stopangle)/2,Oe.push(Te)),(De||xe)&&(Te=A(K,Q,G,te,fe),Te.textPosAngle=($.startangle+$.stopangle)/2,Oe.push(Te));for(var Se=0,He=0,je=0;je<Oe.length;je++){var at=Oe[je].scale;if(He<at&&(He=at,Se=je),!De&&He>=1)break}return Oe[Se]}function y(K,$){var X=K.startangle,Q=K.stopangle;return X>$&&$>Q||X<$&&$<Q}function S(K,$,X,Q,se){$=Math.max(0,$-2*u);var J=K.width/K.height,G=m(J,Q,$,X);return{scale:G*2/K.height,rCenter:i(J,G/$),rotate:E(se)}}function A(K,$,X,Q,se){$=Math.max(0,$-2*u);var J=K.height/K.width,G=m(J,Q,$,X);return{scale:G*2/K.width,rCenter:i(J,G/$),rotate:E(se+Math.PI/2)}}function i(K,$){return Math.cos($)-K*$}function E(K){return(180/Math.PI*K+720)%180-90}function m(K,$,X,Q){var se=K+1/(2*Math.tan($));return X*Math.min(1/(Math.sqrt(se*se+.5)+se),Q/(Math.sqrt(K*K+Q/2)+K))}function k(K,$){return K.v===$.vTotal&&!$.trace.hole?1:Math.min(1/(1+1/Math.sin(K.halfangle)),K.ring/2)}function I(K,$){var X=$.pxmid[0],Q=$.pxmid[1],se=K.width/2,J=K.height/2;return X<0&&(se*=-1),Q<0&&(J*=-1),{scale:1,rCenter:1,rotate:0,x:se+Math.abs(J)*(se>0?1:-1)/2,y:J/(1+X*X/(Q*Q)),outside:!0}}function O(K){var $=Math.sqrt(K.titleBox.width*K.titleBox.width+K.titleBox.height*K.titleBox.height);return{x:K.cx,y:K.cy,scale:K.trace.hole*K.r*2/$,tx:0,ty:-K.titleBox.height/2+K.trace.title.font.size}}function _(K,$){var X=1,Q=1,se,J=K.trace,G={x:K.cx,y:K.cy},oe={tx:0,ty:0};oe.ty+=J.title.font.size,se=z(J),J.title.position.indexOf("top")!==-1?(G.y-=(1+se)*K.r,oe.ty-=K.titleBox.height):J.title.position.indexOf("bottom")!==-1&&(G.y+=(1+se)*K.r);var te=B(K.r,K.trace.aspectratio),fe=$.w*(J.domain.x[1]-J.domain.x[0])/2;return J.title.position.indexOf("left")!==-1?(fe=fe+te,G.x-=(1+se)*te,oe.tx+=K.titleBox.width/2):J.title.position.indexOf("center")!==-1?fe*=2:J.title.position.indexOf("right")!==-1&&(fe=fe+te,G.x+=(1+se)*te,oe.tx-=K.titleBox.width/2),X=fe/K.titleBox.width,Q=F(K,$)/K.titleBox.height,{x:G.x,y:G.y,scale:Math.min(X,Q),tx:oe.tx,ty:oe.ty}}function B(K,$){return K/($===void 0?1:$)}function F(K,$){var X=K.trace,Q=$.h*(X.domain.y[1]-X.domain.y[0]);return Math.min(K.titleBox.height,Q/2)}function z(K){var $=K.pull;if(!$)return 0;var X;if(v.isArrayOrTypedArray($))for($=0,X=0;X<K.pull.length;X++)K.pull[X]>$&&($=K.pull[X]);return $}function N(K,$){var X,Q,se,J,G,oe,te,fe,ge,we,xe,Ce,De;function Oe(ke,Se){return ke.pxmid[1]-Se.pxmid[1]}function Te(ke,Se){return Se.pxmid[1]-ke.pxmid[1]}function Re(ke,Se){Se||(Se={});var He=Se.labelExtraY+(Q?Se.yLabelMax:Se.yLabelMin),je=Q?ke.yLabelMin:ke.yLabelMax,at=Q?ke.yLabelMax:ke.yLabelMin,Ze=ke.cyFinal+G(ke.px0[1],ke.px1[1]),$e=He-je,ut,ht,vt,xt,St,tt;if($e*te>0&&(ke.labelExtraY=$e),!!v.isArrayOrTypedArray($.pull))for(ht=0;ht<we.length;ht++)vt=we[ht],!(vt===ke||(f.castOption($.pull,ke.pts)||0)>=(f.castOption($.pull,vt.pts)||0))&&((ke.pxmid[1]-vt.pxmid[1])*te>0?(xt=vt.cyFinal+G(vt.px0[1],vt.px1[1]),$e=xt-je-ke.labelExtraY,$e*te>0&&(ke.labelExtraY+=$e)):(at+ke.labelExtraY-Ze)*te>0&&(ut=3*oe*Math.abs(ht-we.indexOf(ke)),St=vt.cxFinal+J(vt.px0[0],vt.px1[0]),tt=St+ut-(ke.cxFinal+ke.pxmid[0])-ke.labelExtraX,tt*oe>0&&(ke.labelExtraX+=tt)))}for(Q=0;Q<2;Q++)for(se=Q?Oe:Te,G=Q?Math.max:Math.min,te=Q?1:-1,X=0;X<2;X++){for(J=X?Math.max:Math.min,oe=X?1:-1,fe=K[Q][X],fe.sort(se),ge=K[1-Q][X],we=ge.concat(fe),Ce=[],xe=0;xe<fe.length;xe++)fe[xe].yLabelMid!==void 0&&Ce.push(fe[xe]);for(De=!1,xe=0;Q&&xe<ge.length;xe++)if(ge[xe].yLabelMid!==void 0){De=ge[xe];break}for(xe=0;xe<Ce.length;xe++){var Me=xe&&Ce[xe-1];De&&!xe&&(Me=De),Re(Ce[xe],Me)}}}function W(K,$){for(var X=[],Q=0;Q<K.length;Q++){var se=K[Q][0],J=se.trace,G=J.domain,oe=$.w*(G.x[1]-G.x[0]),te=$.h*(G.y[1]-G.y[0]);J.title.text&&J.title.position!=="middle center"&&(te-=F(se,$));var fe=oe/2,ge=te/2;J.type==="funnelarea"&&!J.scalegroup&&(ge/=J.aspectratio),se.r=Math.min(fe,ge)/(1+z(J)),se.cx=$.l+$.w*(J.domain.x[1]+J.domain.x[0])/2,se.cy=$.t+$.h*(1-J.domain.y[0])-te/2,J.title.text&&J.title.position.indexOf("bottom")!==-1&&(se.cy-=F(se,$)),J.scalegroup&&X.indexOf(J.scalegroup)===-1&&X.push(J.scalegroup)}Z(K,X)}function Z(K,$){for(var X,Q,se,J=0;J<$.length;J++){var G=1/0,oe=$[J];for(Q=0;Q<K.length;Q++)if(X=K[Q][0],se=X.trace,se.scalegroup===oe){var te;if(se.type==="pie")te=X.r*X.r;else if(se.type==="funnelarea"){var fe,ge;se.aspectratio>1?(fe=X.r,ge=fe/se.aspectratio):(ge=X.r,fe=ge*se.aspectratio),fe*=(1+se.baseratio)/2,te=fe*ge}G=Math.min(G,te/X.vTotal)}for(Q=0;Q<K.length;Q++)if(X=K[Q][0],se=X.trace,se.scalegroup===oe){var we=G*X.vTotal;se.type==="funnelarea"&&(we/=(1+se.baseratio)/2,we/=se.aspectratio),X.r=Math.sqrt(we)}}}function q(K){var $=K[0],X=$.r,Q=$.trace,se=f.getRotationAngle(Q.rotation),J=2*Math.PI/$.vTotal,G="px0",oe="px1",te,fe,ge;if(Q.direction==="counterclockwise"){for(te=0;te<K.length&&K[te].hidden;te++);if(te===K.length)return;se+=J*K[te].v,J*=-1,G="px1",oe="px0"}for(ge=re(X,se),te=0;te<K.length;te++)fe=K[te],!fe.hidden&&(fe[G]=ge,fe.startangle=se,se+=J*fe.v/2,fe.pxmid=re(X,se),fe.midangle=se,se+=J*fe.v/2,ge=re(X,se),fe.stopangle=se,fe[oe]=ge,fe.largeArc=fe.v>$.vTotal/2?1:0,fe.halfangle=Math.PI*Math.min(fe.v/$.vTotal,.5),fe.ring=1-Q.hole,fe.rInscribed=k(fe,$))}function re(K,$){return[K*Math.sin($),-K*Math.cos($)]}function le(K,$,X){var Q=K._fullLayout,se=X.trace,J=se.texttemplate,G=se.textinfo;if(!J&&G&&G!=="none"){var oe=G.split("+"),te=function(Se){return oe.indexOf(Se)!==-1},fe=te("label"),ge=te("text"),we=te("value"),xe=te("percent"),Ce=Q.separators,De;if(De=fe?[$.label]:[],ge){var Oe=f.getFirstFilled(se.text,$.pts);h(Oe)&&De.push(Oe)}we&&De.push(f.formatPieValue($.v,Ce)),xe&&De.push(f.formatPiePercent($.v/X.vTotal,Ce)),$.text=De.join("<br>")}function Te(Se){return{label:Se.label,value:Se.v,valueLabel:f.formatPieValue(Se.v,Q.separators),percent:Se.v/X.vTotal,percentLabel:f.formatPiePercent(Se.v/X.vTotal,Q.separators),color:Se.color,text:Se.text,customdata:v.castOption(se,Se.i,"customdata")}}if(J){var Re=v.castOption(se,$.i,"texttemplate");if(!Re)$.text="";else{var Me=Te($),ke=f.getFirstFilled(se.text,$.pts);(h(ke)||ke==="")&&(Me.text=ke),$.text=v.texttemplateString(Re,Me,K._fullLayout._d3locale,Me,se._meta||{})}}}function ie(K,$){var X=K.rotate*Math.PI/180,Q=Math.cos(X),se=Math.sin(X),J=($.left+$.right)/2,G=($.top+$.bottom)/2;K.textX=J*Q-G*se,K.textY=J*se+G*Q,K.noCenter=!0}Y.exports={plot:w,formatSliceLabel:le,transformInsideText:C,determineInsideTextFont:x,positionTitleOutside:_,prerenderTitles:T,layoutAreas:W,attachFxHandlers:a,computeTransform:ie}},22152:function(Y,V,e){var b=e(33428),P=e(10528),s=e(82744).resizeText;Y.exports=function(M){var v=M._fullLayout._pielayer.selectAll(".trace");s(M,v,"pie"),v.each(function(p){var r=p[0],t=r.trace,o=b.select(this);o.style({opacity:t.opacity}),o.selectAll("path.surface").each(function(n){b.select(this).call(P,n,t,M)})})}},10528:function(Y,V,e){var b=e(76308),P=e(69656).castOption,s=e(21552);Y.exports=function(M,v,p,r){var t=p.marker.line,o=P(t.color,v.pts)||b.defaultLine,n=P(t.width,v.pts)||0;M.call(s,v,p,r).style("stroke-width",n).call(b.stroke,o)}},35484:function(Y,V,e){var b=e(52904);Y.exports={x:b.x,y:b.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:b.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},11072:function(Y,V,e){var b=e(67792).gl_pointcloud2d,P=e(3400).isArrayOrTypedArray,s=e(43080),L=e(19280).findExtremes,M=e(44928);function v(t,o){this.scene=t,this.uid=o,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=b(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var p=v.prototype;p.handlePick=function(t){var o=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[o*2],this.pickXYData[o*2+1]]:[this.pickXData[o],this.pickYData[o]],textLabel:P(this.textLabels)?this.textLabels[o]:this.textLabels,color:this.color,name:this.name,pointIndex:o,hoverinfo:this.hoverinfo}},p.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=M(t,{})},p.updateFast=function(t){var o=this.xData=this.pickXData=t.x,n=this.yData=this.pickYData=t.y,l=this.pickXYData=t.xy,u=t.xbounds&&t.ybounds,f=t.indices,g,h,w,c=this.bounds,a,d,x;if(l){if(w=l,g=l.length>>>1,u)c[0]=t.xbounds[0],c[2]=t.xbounds[1],c[1]=t.ybounds[0],c[3]=t.ybounds[1];else for(x=0;x<g;x++)a=w[x*2],d=w[x*2+1],a<c[0]&&(c[0]=a),a>c[2]&&(c[2]=a),d<c[1]&&(c[1]=d),d>c[3]&&(c[3]=d);if(f)h=f;else for(h=new Int32Array(g),x=0;x<g;x++)h[x]=x}else for(g=o.length,w=new Float32Array(2*g),h=new Int32Array(g),x=0;x<g;x++)a=o[x],d=n[x],h[x]=x,w[x*2]=a,w[x*2+1]=d,a<c[0]&&(c[0]=a),a>c[2]&&(c[2]=a),d<c[1]&&(c[1]=d),d>c[3]&&(c[3]=d);this.idToIndex=h,this.pointcloudOptions.idToIndex=h,this.pointcloudOptions.positions=w;var T=s(t.marker.color),C=s(t.marker.border.color),y=t.opacity*t.marker.opacity;T[3]*=y,this.pointcloudOptions.color=T;var S=t.marker.blend;if(S===null){var A=100;S=o.length<A||n.length<A}this.pointcloudOptions.blend=S,C[3]*=y,this.pointcloudOptions.borderColor=C;var i=t.marker.sizemin,E=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=i,this.pointcloudOptions.sizeMax=E,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var m=this.scene.xaxis,k=this.scene.yaxis,I=E/2||.5;t._extremes[m._id]=L(m,[c[0],c[2]],{ppad:I}),t._extremes[k._id]=L(k,[c[1],c[3]],{ppad:I})},p.dispose=function(){this.pointcloud.dispose()};function r(t,o){var n=new v(t,o.uid);return n.update(o),n}Y.exports=r},41904:function(Y,V,e){var b=e(3400),P=e(35484);Y.exports=function(L,M,v){function p(r,t){return b.coerce(L,M,P,r,t)}p("x"),p("y"),p("xbounds"),p("ybounds"),L.xy&&L.xy instanceof Float32Array&&(M.xy=L.xy),L.indices&&L.indices instanceof Int32Array&&(M.indices=L.indices),p("text"),p("marker.color",v),p("marker.opacity"),p("marker.blend"),p("marker.sizemin"),p("marker.sizemax"),p("marker.border.color",v),p("marker.border.arearatio"),M._length=null}},156:function(Y,V,e){Y.exports={attributes:e(35484),supplyDefaults:e(41904),calc:e(41484),plot:e(11072),moduleType:"trace",name:"pointcloud",basePlotModule:e(39952),categories:["gl","gl2d","showLegend"],meta:{}}},41440:function(Y,V,e){var b=e(25376),P=e(45464),s=e(22548),L=e(55756),M=e(86968).u,v=e(21776).Ks,p=e(49084),r=e(31780).templatedArray,t=e(29736).descriptionOnlyNumbers,o=e(92880).extendFlat,n=e(67824).overrideAll,l=Y.exports=n({hoverinfo:o({},P.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:L.hoverlabel,domain:M({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:t("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:b({autoShadowDflt:!0}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:s.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:L.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:s.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:L.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:r("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:o(p().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");l.transforms=void 0},10760:function(Y,V,e){var b=e(67824).overrideAll,P=e(84888)._M,s=e(59596),L=e(65460),M=e(93972),v=e(86476),p=e(22676).prepSelect,r=e(3400),t=e(24040),o="sankey";V.name=o,V.baseLayoutAttrOverrides=b({hoverlabel:L.hoverlabel},"plot","nested"),V.plot=function(l){var u=P(l.calcdata,o)[0];s(l,u),V.updateFx(l)},V.clean=function(l,u,f,g){var h=g._has&&g._has(o),w=u._has&&u._has(o);h&&!w&&(g._paperdiv.selectAll(".sankey").remove(),g._paperdiv.selectAll(".bgsankey").remove())},V.updateFx=function(l){for(var u=0;u<l._fullData.length;u++)n(l,u)};function n(l,u){var f=l._fullData[u],g=l._fullLayout,h=g.dragmode,w=g.dragmode==="pan"?"move":"crosshair",c=f._bgRect;if(c&&!(h==="pan"||h==="zoom")){M(c,w);var a={_id:"x",c2p:r.identity,_offset:f._sankey.translateX,_length:f._sankey.width},d={_id:"y",c2p:r.identity,_offset:f._sankey.translateY,_length:f._sankey.height},x={gd:l,element:c.node(),plotinfo:{id:u,xaxis:a,yaxis:d,fillRangeItems:r.noop},subplot:u,xaxes:[a],yaxes:[d],doneFnCompleted:function(T){var C=l._fullData[u],y,S=C.node.groups.slice(),A=[];function i(I){for(var O=C._sankey.graph.nodes,_=0;_<O.length;_++)if(O[_].pointNumber===I)return O[_]}for(var E=0;E<T.length;E++){var m=i(T[E].pointNumber);if(m)if(m.group){for(var k=0;k<m.childrenNodes.length;k++)A.push(m.childrenNodes[k].pointNumber);S[m.pointNumber-C.node._count]=!1}else A.push(m.pointNumber)}y=S.filter(Boolean).concat([A]),t.call("_guiRestyle",l,{"node.groups":[y]},u)}};x.prepFn=function(T,C,y){p(T,C,y,x,h)},v.init(x)}}},48068:function(Y,V,e){var b=e(78484),P=e(3400),s=e(71688).wrap,L=P.isArrayOrTypedArray,M=P.isIndex,v=e(8932);function p(t){var o=t.node,n=t.link,l=[],u=L(n.color),f=L(n.hovercolor),g=L(n.customdata),h={},w={},c=n.colorscales.length,a;for(a=0;a<c;a++){var d=n.colorscales[a],x=v.extractScale(d,{cLetter:"c"}),T=v.makeColorScaleFunc(x);w[d.label]=T}var C=0;for(a=0;a<n.value.length;a++)n.source[a]>C&&(C=n.source[a]),n.target[a]>C&&(C=n.target[a]);var y=C+1;t.node._count=y;var S,A=t.node.groups,i={};for(a=0;a<A.length;a++){var E=A[a];for(S=0;S<E.length;S++){var m=E[S],k=y+a;i.hasOwnProperty(m)?P.warn("Node "+m+" is already part of a group."):i[m]=k}}var I={source:[],target:[]};for(a=0;a<n.value.length;a++){var O=n.value[a],_=n.source[a],B=n.target[a];if(O>0&&M(_,y)&&M(B,y)&&!(i.hasOwnProperty(_)&&i.hasOwnProperty(B)&&i[_]===i[B])){i.hasOwnProperty(B)&&(B=i[B]),i.hasOwnProperty(_)&&(_=i[_]),_=+_,B=+B,h[_]=h[B]=!0;var F="";n.label&&n.label[a]&&(F=n.label[a]);var z=null;F&&w.hasOwnProperty(F)&&(z=w[F]),l.push({pointNumber:a,label:F,color:u?n.color[a]:n.color,hovercolor:f?n.hovercolor[a]:n.hovercolor,customdata:g?n.customdata[a]:n.customdata,concentrationscale:z,source:_,target:B,value:+O}),I.source.push(_),I.target.push(B)}}var N=y+A.length,W=L(o.color),Z=L(o.customdata),q=[];for(a=0;a<N;a++)if(h[a]){var re=o.label[a];q.push({group:a>y-1,childrenNodes:[],pointNumber:a,label:re,color:W?o.color[a]:o.color,customdata:Z?o.customdata[a]:o.customdata})}var le=!1;return r(N,I.source,I.target)&&(le=!0),{circular:le,links:l,nodes:q,groups:A,groupLookup:i}}function r(t,o,n){for(var l=P.init2dArray(t,0),u=0;u<Math.min(o.length,n.length);u++)if(P.isIndex(o[u],t)&&P.isIndex(n[u],t)){if(o[u]===n[u])return!0;l[o[u]].push(n[u])}var f=b(l);return f.components.some(function(g){return g.length>1})}Y.exports=function(o,n){var l=p(n);return s({circular:l.circular,_nodes:l.nodes,_links:l.links,_groups:l.groups,_groupLookup:l.groupLookup})}},11820:function(Y){Y.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},47140:function(Y,V,e){var b=e(3400),P=e(41440),s=e(76308),L=e(49760),M=e(86968).Q,v=e(16132),p=e(31780),r=e(51272);Y.exports=function(n,l,u,f){function g(k,I){return b.coerce(n,l,P,k,I)}var h=b.extendDeep(f.hoverlabel,n.hoverlabel),w=n.node,c=p.newContainer(l,"node");function a(k,I){return b.coerce(w,c,P.node,k,I)}a("label"),a("groups"),a("x"),a("y"),a("pad"),a("thickness"),a("line.color"),a("line.width"),a("hoverinfo",n.hoverinfo),v(w,c,a,h),a("hovertemplate"),a("align");var d=f.colorway,x=function(k){return d[k%d.length]};a("color",c.label.map(function(k,I){return s.addOpacity(x(I),.8)})),a("customdata");var T=n.link||{},C=p.newContainer(l,"link");function y(k,I){return b.coerce(T,C,P.link,k,I)}y("label"),y("arrowlen"),y("source"),y("target"),y("value"),y("line.color"),y("line.width"),y("hoverinfo",n.hoverinfo),v(T,C,y,h),y("hovertemplate");var S=L(f.paper_bgcolor).getLuminance()<.333,A=S?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)",i=y("color",A);function E(k){var I=L(k);if(!I.isValid())return k;var O=I.getAlpha();return O<=.8?I.setAlpha(O+.2):I=S?I.brighten():I.darken(),I.toRgbString()}y("hovercolor",Array.isArray(i)?i.map(E):E(i)),y("customdata"),r(T,C,{name:"colorscales",handleItemDefaults:t}),M(l,f,g),g("orientation"),g("valueformat"),g("valuesuffix");var m;c.x.length&&c.y.length&&(m="freeform"),g("arrangement",m),b.coerceFont(g,"textfont",f.font,{autoShadowDflt:!0}),l._length=null};function t(o,n){function l(u,f){return b.coerce(o,n,P.link.colorscales,u,f)}l("label"),l("cmin"),l("cmax"),l("colorscale")}},45499:function(Y,V,e){Y.exports={attributes:e(41440),supplyDefaults:e(47140),calc:e(48068),plot:e(59596),moduleType:"trace",name:"sankey",basePlotModule:e(10760),selectPoints:e(81128),categories:["noOpacity"],meta:{}}},59596:function(Y,V,e){var b=e(33428),P=e(3400),s=P.numberFormat,L=e(83248),M=e(93024),v=e(76308),p=e(11820).cn,r=P._;function t(d){return d!==""}function o(d,x){return d.filter(function(T){return T.key===x.traceId})}function n(d,x){b.select(d).select("path").style("fill-opacity",x),b.select(d).select("rect").style("fill-opacity",x)}function l(d){b.select(d).select("text.name").style("fill","black")}function u(d){return function(x){return d.node.sourceLinks.indexOf(x.link)!==-1||d.node.targetLinks.indexOf(x.link)!==-1}}function f(d){return function(x){return x.node.sourceLinks.indexOf(d.link)!==-1||x.node.targetLinks.indexOf(d.link)!==-1}}function g(d,x,T){x&&T&&o(T,x).selectAll("."+p.sankeyLink).filter(u(x)).call(w.bind(0,x,T,!1))}function h(d,x,T){x&&T&&o(T,x).selectAll("."+p.sankeyLink).filter(u(x)).call(c.bind(0,x,T,!1))}function w(d,x,T,C){C.style("fill",function(y){if(!y.link.concentrationscale)return y.tinyColorHoverHue}).style("fill-opacity",function(y){if(!y.link.concentrationscale)return y.tinyColorHoverAlpha}),C.each(function(y){var S=y.link.label;S!==""&&o(x,d).selectAll("."+p.sankeyLink).filter(function(A){return A.link.label===S}).style("fill",function(A){if(!A.link.concentrationscale)return A.tinyColorHoverHue}).style("fill-opacity",function(A){if(!A.link.concentrationscale)return A.tinyColorHoverAlpha})}),T&&o(x,d).selectAll("."+p.sankeyNode).filter(f(d)).call(g)}function c(d,x,T,C){C.style("fill",function(y){return y.tinyColorHue}).style("fill-opacity",function(y){return y.tinyColorAlpha}),C.each(function(y){var S=y.link.label;S!==""&&o(x,d).selectAll("."+p.sankeyLink).filter(function(A){return A.link.label===S}).style("fill",function(A){return A.tinyColorHue}).style("fill-opacity",function(A){return A.tinyColorAlpha})}),T&&o(x,d).selectAll(p.sankeyNode).filter(f(d)).call(h)}function a(d,x){var T=d.hoverlabel||{},C=P.nestedProperty(T,x).get();return Array.isArray(C)?!1:C}Y.exports=function(x,T){for(var C=x._fullLayout,y=C._paper,S=C._size,A=0;A<x._fullData.length;A++)if(x._fullData[A].visible&&x._fullData[A].type===p.sankey&&!x._fullData[A]._viewInitial){var i=x._fullData[A].node;x._fullData[A]._viewInitial={node:{groups:i.groups.slice(),x:i.x.slice(),y:i.y.slice()}}}var E=function(re,le){var ie=le.link;ie.originalEvent=b.event,x._hoverdata=[ie],M.click(x,{target:!0})},m=function(re,le,ie){x._fullLayout.hovermode!==!1&&(b.select(re).call(w.bind(0,le,ie,!0)),le.link.trace.link.hoverinfo!=="skip"&&(le.link.fullData=le.link.trace,x.emit("plotly_hover",{event:b.event,points:[le.link]})))},k=r(x,"source:")+" ",I=r(x,"target:")+" ",O=r(x,"concentration:")+" ",_=r(x,"incoming flow count:")+" ",B=r(x,"outgoing flow count:")+" ",F=function(re,le){if(x._fullLayout.hovermode===!1)return;var ie=le.link.trace.link;if(ie.hoverinfo==="none"||ie.hoverinfo==="skip")return;var K=[];function $(te){var fe,ge;te.circular?(fe=(te.circularPathData.leftInnerExtent+te.circularPathData.rightInnerExtent)/2,ge=te.circularPathData.verticalFullExtent):(fe=(te.source.x1+te.target.x0)/2,ge=(te.y0+te.y1)/2);var we=[fe,ge];return te.trace.orientation==="v"&&we.reverse(),we[0]+=le.parent.translateX,we[1]+=le.parent.translateY,we}for(var X=0,Q=0;Q<le.flow.links.length;Q++){var se=le.flow.links[Q];if(!(x._fullLayout.hovermode==="closest"&&le.link.pointNumber!==se.pointNumber)){le.link.pointNumber===se.pointNumber&&(X=Q),se.fullData=se.trace,ie=le.link.trace.link;var J=$(se),G={valueLabel:s(le.valueFormat)(se.value)+le.valueSuffix};K.push({x:J[0],y:J[1],name:G.valueLabel,text:[se.label||"",k+se.source.label,I+se.target.label,se.concentrationscale?O+s("%0.2f")(se.flow.labelConcentration):""].filter(t).join("<br>"),color:a(ie,"bgcolor")||v.addOpacity(se.color,1),borderColor:a(ie,"bordercolor"),fontFamily:a(ie,"font.family"),fontSize:a(ie,"font.size"),fontColor:a(ie,"font.color"),fontWeight:a(ie,"font.weight"),fontStyle:a(ie,"font.style"),fontVariant:a(ie,"font.variant"),fontTextcase:a(ie,"font.textcase"),fontLineposition:a(ie,"font.lineposition"),fontShadow:a(ie,"font.shadow"),nameLength:a(ie,"namelength"),textAlign:a(ie,"align"),idealAlign:b.event.x<J[0]?"right":"left",hovertemplate:ie.hovertemplate,hovertemplateLabels:G,eventData:[se]})}}var oe=M.loneHover(K,{container:C._hoverlayer.node(),outerContainer:C._paper.node(),gd:x,anchorIndex:X});oe.each(function(){var te=this;le.link.concentrationscale||n(te,.65),l(te)})},z=function(re,le,ie){x._fullLayout.hovermode!==!1&&(b.select(re).call(c.bind(0,le,ie,!0)),le.link.trace.link.hoverinfo!=="skip"&&(le.link.fullData=le.link.trace,x.emit("plotly_unhover",{event:b.event,points:[le.link]})),M.loneUnhover(C._hoverlayer.node()))},N=function(re,le,ie){var K=le.node;K.originalEvent=b.event,x._hoverdata=[K],b.select(re).call(h,le,ie),M.click(x,{target:!0})},W=function(re,le,ie){x._fullLayout.hovermode!==!1&&(b.select(re).call(g,le,ie),le.node.trace.node.hoverinfo!=="skip"&&(le.node.fullData=le.node.trace,x.emit("plotly_hover",{event:b.event,points:[le.node]})))},Z=function(re,le){if(x._fullLayout.hovermode!==!1){var ie=le.node.trace.node;if(!(ie.hoverinfo==="none"||ie.hoverinfo==="skip")){var K=b.select(re).select("."+p.nodeRect),$=x._fullLayout._paperdiv.node().getBoundingClientRect(),X=K.node().getBoundingClientRect(),Q=X.left-2-$.left,se=X.right+2-$.left,J=X.top+X.height/4-$.top,G={valueLabel:s(le.valueFormat)(le.node.value)+le.valueSuffix};le.node.fullData=le.node.trace,x._fullLayout._calcInverseTransform(x);var oe=x._fullLayout._invScaleX,te=x._fullLayout._invScaleY,fe=M.loneHover({x0:oe*Q,x1:oe*se,y:te*J,name:s(le.valueFormat)(le.node.value)+le.valueSuffix,text:[le.node.label,_+le.node.targetLinks.length,B+le.node.sourceLinks.length].filter(t).join("<br>"),color:a(ie,"bgcolor")||le.tinyColorHue,borderColor:a(ie,"bordercolor"),fontFamily:a(ie,"font.family"),fontSize:a(ie,"font.size"),fontColor:a(ie,"font.color"),fontWeight:a(ie,"font.weight"),fontStyle:a(ie,"font.style"),fontVariant:a(ie,"font.variant"),fontTextcase:a(ie,"font.textcase"),fontLineposition:a(ie,"font.lineposition"),fontShadow:a(ie,"font.shadow"),nameLength:a(ie,"namelength"),textAlign:a(ie,"align"),idealAlign:"left",hovertemplate:ie.hovertemplate,hovertemplateLabels:G,eventData:[le.node]},{container:C._hoverlayer.node(),outerContainer:C._paper.node(),gd:x});n(fe,.85),l(fe)}}},q=function(re,le,ie){x._fullLayout.hovermode!==!1&&(b.select(re).call(h,le,ie),le.node.trace.node.hoverinfo!=="skip"&&(le.node.fullData=le.node.trace,x.emit("plotly_unhover",{event:b.event,points:[le.node]})),M.loneUnhover(C._hoverlayer.node()))};L(x,y,T,{width:S.w,height:S.h,margin:{t:S.t,r:S.r,b:S.b,l:S.l}},{linkEvents:{hover:m,follow:F,unhover:z,select:E},nodeEvents:{hover:W,follow:Z,unhover:q,select:N}})}},83248:function(Y,V,e){var b=e(49812),P=e(67756).Gz,s=e(33428),L=e(26800),M=e(48932),v=e(11820),p=e(49760),r=e(76308),t=e(43616),o=e(3400),n=o.strTranslate,l=o.strRotate,u=e(71688),f=u.keyFun,g=u.repeat,h=u.unwrap,w=e(72736),c=e(24040),a=e(84284),d=a.CAP_SHIFT,x=a.LINE_SPACING,T=3;function C($,X,Q){var se=h(X),J=se.trace,G=J.domain,oe=J.orientation==="h",te=J.node.pad,fe=J.node.thickness,ge={justify:L.sankeyJustify,left:L.sankeyLeft,right:L.sankeyRight,center:L.sankeyCenter}[J.node.align],we=$.width*(G.x[1]-G.x[0]),xe=$.height*(G.y[1]-G.y[0]),Ce=se._nodes,De=se._links,Oe=se.circular,Te;Oe?Te=M.sankeyCircular().circularLinkGap(0):Te=L.sankey(),Te.iterations(v.sankeyIterations).size(oe?[we,xe]:[xe,we]).nodeWidth(fe).nodePadding(te).nodeId(function(tt){return tt.pointNumber}).nodeAlign(ge).nodes(Ce).links(De);var Re=Te();Te.nodePadding()<te&&o.warn("node.pad was reduced to ",Te.nodePadding()," to fit within the figure.");var Me,ke,Se;for(var He in se._groupLookup){var je=parseInt(se._groupLookup[He]),at;for(Me=0;Me<Re.nodes.length;Me++)if(Re.nodes[Me].pointNumber===je){at=Re.nodes[Me];break}if(at){var Ze={pointNumber:parseInt(He),x0:at.x0,x1:at.x1,y0:at.y0,y1:at.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Re.nodes.unshift(Ze),at.childrenNodes.unshift(Ze)}}function $e(){for(Me=0;Me<Re.nodes.length;Me++){var tt=Re.nodes[Me],Ie={},Ve,Ge;for(ke=0;ke<tt.targetLinks.length;ke++)Ge=tt.targetLinks[ke],Ve=Ge.source.pointNumber+":"+Ge.target.pointNumber,Ie.hasOwnProperty(Ve)||(Ie[Ve]=[]),Ie[Ve].push(Ge);var Xe=Object.keys(Ie);for(ke=0;ke<Xe.length;ke++){Ve=Xe[ke];var Le=Ie[Ve],Fe=0,Ue={};for(Se=0;Se<Le.length;Se++)Ge=Le[Se],Ue[Ge.label]||(Ue[Ge.label]=0),Ue[Ge.label]+=Ge.value,Fe+=Ge.value;for(Se=0;Se<Le.length;Se++)Ge=Le[Se],Ge.flow={value:Fe,labelConcentration:Ue[Ge.label]/Fe,concentration:Ge.value/Fe,links:Le},Ge.concentrationscale&&(Ge.color=p(Ge.concentrationscale(Ge.flow.labelConcentration)))}var Ee=0;for(ke=0;ke<tt.sourceLinks.length;ke++)Ee+=tt.sourceLinks[ke].value;for(ke=0;ke<tt.sourceLinks.length;ke++)Ge=tt.sourceLinks[ke],Ge.concentrationOut=Ge.value/Ee;var he=0;for(ke=0;ke<tt.targetLinks.length;ke++)he+=tt.targetLinks[ke].value;for(ke=0;ke<tt.targetLinks.length;ke++)Ge=tt.targetLinks[ke],Ge.concenrationIn=Ge.value/he}}$e();function ut(tt){tt.forEach(function(Ie){var Ve,Ge,Xe=0,Le=Ie.length,Fe;for(Ie.sort(function(Ue,Ee){return Ue.y0-Ee.y0}),Fe=0;Fe<Le;++Fe)Ve=Ie[Fe],Ve.y0>=Xe||(Ge=Xe-Ve.y0,Ge>1e-6&&(Ve.y0+=Ge,Ve.y1+=Ge)),Xe=Ve.y1+te})}function ht(tt){var Ie=tt.map(function(Ee,he){return{x0:Ee.x0,index:he}}).sort(function(Ee,he){return Ee.x0-he.x0}),Ve=[],Ge=-1,Xe,Le=-1/0,Fe;for(Me=0;Me<Ie.length;Me++){var Ue=tt[Ie[Me].index];Ue.x0>Le+fe&&(Ge+=1,Xe=Ue.x0),Le=Ue.x0,Ve[Ge]||(Ve[Ge]=[]),Ve[Ge].push(Ue),Fe=Xe-Ue.x0,Ue.x0+=Fe,Ue.x1+=Fe}return Ve}if(J.node.x.length&&J.node.y.length){for(Me=0;Me<Math.min(J.node.x.length,J.node.y.length,Re.nodes.length);Me++)if(J.node.x[Me]&&J.node.y[Me]){var vt=[J.node.x[Me]*we,J.node.y[Me]*xe];Re.nodes[Me].x0=vt[0]-fe/2,Re.nodes[Me].x1=vt[0]+fe/2;var xt=Re.nodes[Me].y1-Re.nodes[Me].y0;Re.nodes[Me].y0=vt[1]-xt/2,Re.nodes[Me].y1=vt[1]+xt/2}if(J.arrangement==="snap"){Ce=Re.nodes;var St=ht(Ce);ut(St)}Te.update(Re)}return{circular:Oe,key:Q,trace:J,guid:o.randstr(),horizontal:oe,width:we,height:xe,nodePad:J.node.pad,nodeLineColor:J.node.line.color,nodeLineWidth:J.node.line.width,linkLineColor:J.link.line.color,linkLineWidth:J.link.line.width,linkArrowLength:J.link.arrowlen,valueFormat:J.valueformat,valueSuffix:J.valuesuffix,textFont:J.textfont,translateX:G.x[0]*$.width+$.margin.l,translateY:$.height-G.y[1]*$.height+$.margin.t,dragParallel:oe?xe:we,dragPerpendicular:oe?we:xe,arrangement:J.arrangement,sankey:Te,graph:Re,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function y($,X,Q){var se=p(X.color),J=p(X.hovercolor),G=X.source.label+"|"+X.target.label,oe=G+"__"+Q;return X.trace=$.trace,X.curveNumber=$.trace.index,{circular:$.circular,key:oe,traceId:$.key,pointNumber:X.pointNumber,link:X,tinyColorHue:r.tinyRGB(se),tinyColorAlpha:se.getAlpha(),tinyColorHoverHue:r.tinyRGB(J),tinyColorHoverAlpha:J.getAlpha(),linkPath:A,linkLineColor:$.linkLineColor,linkLineWidth:$.linkLineWidth,linkArrowLength:$.linkArrowLength,valueFormat:$.valueFormat,valueSuffix:$.valueSuffix,sankey:$.sankey,parent:$,interactionState:$.interactionState,flow:X.flow}}function S($,X){var Q="",se=$.width/2,J=$.circularPathData;return $.circularLinkType==="top"?Q="M "+(J.targetX-X)+" "+(J.targetY+se)+" L"+(J.rightInnerExtent-X)+" "+(J.targetY+se)+"A"+(J.rightLargeArcRadius+se)+" "+(J.rightSmallArcRadius+se)+" 0 0 1 "+(J.rightFullExtent-se-X)+" "+(J.targetY-J.rightSmallArcRadius)+"L"+(J.rightFullExtent-se-X)+" "+J.verticalRightInnerExtent+"A"+(J.rightLargeArcRadius+se)+" "+(J.rightLargeArcRadius+se)+" 0 0 1 "+(J.rightInnerExtent-X)+" "+(J.verticalFullExtent-se)+"L"+J.leftInnerExtent+" "+(J.verticalFullExtent-se)+"A"+(J.leftLargeArcRadius+se)+" "+(J.leftLargeArcRadius+se)+" 0 0 1 "+(J.leftFullExtent+se)+" "+J.verticalLeftInnerExtent+"L"+(J.leftFullExtent+se)+" "+(J.sourceY-J.leftSmallArcRadius)+"A"+(J.leftLargeArcRadius+se)+" "+(J.leftSmallArcRadius+se)+" 0 0 1 "+J.leftInnerExtent+" "+(J.sourceY+se)+"L"+J.sourceX+" "+(J.sourceY+se)+"L"+J.sourceX+" "+(J.sourceY-se)+"L"+J.leftInnerExtent+" "+(J.sourceY-se)+"A"+(J.leftLargeArcRadius-se)+" "+(J.leftSmallArcRadius-se)+" 0 0 0 "+(J.leftFullExtent-se)+" "+(J.sourceY-J.leftSmallArcRadius)+"L"+(J.leftFullExtent-se)+" "+J.verticalLeftInnerExtent+"A"+(J.leftLargeArcRadius-se)+" "+(J.leftLargeArcRadius-se)+" 0 0 0 "+J.leftInnerExtent+" "+(J.verticalFullExtent+se)+"L"+(J.rightInnerExtent-X)+" "+(J.verticalFullExtent+se)+"A"+(J.rightLargeArcRadius-se)+" "+(J.rightLargeArcRadius-se)+" 0 0 0 "+(J.rightFullExtent+se-X)+" "+J.verticalRightInnerExtent+"L"+(J.rightFullExtent+se-X)+" "+(J.targetY-J.rightSmallArcRadius)+"A"+(J.rightLargeArcRadius-se)+" "+(J.rightSmallArcRadius-se)+" 0 0 0 "+(J.rightInnerExtent-X)+" "+(J.targetY-se)+"L"+(J.targetX-X)+" "+(J.targetY-se)+(X>0?"L"+J.targetX+" "+J.targetY:"")+"Z":Q="M "+(J.targetX-X)+" "+(J.targetY-se)+" L"+(J.rightInnerExtent-X)+" "+(J.targetY-se)+"A"+(J.rightLargeArcRadius+se)+" "+(J.rightSmallArcRadius+se)+" 0 0 0 "+(J.rightFullExtent-se-X)+" "+(J.targetY+J.rightSmallArcRadius)+"L"+(J.rightFullExtent-se-X)+" "+J.verticalRightInnerExtent+"A"+(J.rightLargeArcRadius+se)+" "+(J.rightLargeArcRadius+se)+" 0 0 0 "+(J.rightInnerExtent-X)+" "+(J.verticalFullExtent+se)+"L"+J.leftInnerExtent+" "+(J.verticalFullExtent+se)+"A"+(J.leftLargeArcRadius+se)+" "+(J.leftLargeArcRadius+se)+" 0 0 0 "+(J.leftFullExtent+se)+" "+J.verticalLeftInnerExtent+"L"+(J.leftFullExtent+se)+" "+(J.sourceY+J.leftSmallArcRadius)+"A"+(J.leftLargeArcRadius+se)+" "+(J.leftSmallArcRadius+se)+" 0 0 0 "+J.leftInnerExtent+" "+(J.sourceY-se)+"L"+J.sourceX+" "+(J.sourceY-se)+"L"+J.sourceX+" "+(J.sourceY+se)+"L"+J.leftInnerExtent+" "+(J.sourceY+se)+"A"+(J.leftLargeArcRadius-se)+" "+(J.leftSmallArcRadius-se)+" 0 0 1 "+(J.leftFullExtent-se)+" "+(J.sourceY+J.leftSmallArcRadius)+"L"+(J.leftFullExtent-se)+" "+J.verticalLeftInnerExtent+"A"+(J.leftLargeArcRadius-se)+" "+(J.leftLargeArcRadius-se)+" 0 0 1 "+J.leftInnerExtent+" "+(J.verticalFullExtent-se)+"L"+(J.rightInnerExtent-X)+" "+(J.verticalFullExtent-se)+"A"+(J.rightLargeArcRadius-se)+" "+(J.rightLargeArcRadius-se)+" 0 0 1 "+(J.rightFullExtent+se-X)+" "+J.verticalRightInnerExtent+"L"+(J.rightFullExtent+se-X)+" "+(J.targetY+J.rightSmallArcRadius)+"A"+(J.rightLargeArcRadius-se)+" "+(J.rightSmallArcRadius-se)+" 0 0 1 "+(J.rightInnerExtent-X)+" "+(J.targetY+se)+"L"+(J.targetX-X)+" "+(J.targetY+se)+(X>0?"L"+J.targetX+" "+J.targetY:"")+"Z",Q}function A(){var $=.5;function X(Q){var se=Q.linkArrowLength;if(Q.link.circular)return S(Q.link,se);var J=Math.abs((Q.link.target.x0-Q.link.source.x1)/2);se>J&&(se=J);var G=Q.link.source.x1,oe=Q.link.target.x0-se,te=P(G,oe),fe=te($),ge=te(1-$),we=Q.link.y0-Q.link.width/2,xe=Q.link.y0+Q.link.width/2,Ce=Q.link.y1-Q.link.width/2,De=Q.link.y1+Q.link.width/2,Oe="M"+G+","+we,Te="C"+fe+","+we+" "+ge+","+Ce+" "+oe+","+Ce,Re="C"+ge+","+De+" "+fe+","+xe+" "+G+","+xe,Me=se>0?"L"+(oe+se)+","+(Ce+Q.link.width/2):"";return Me+="L"+oe+","+De,Oe+Te+Me+Re+"Z"}return X}function i($,X){var Q=p(X.color),se=v.nodePadAcross,J=$.nodePad/2;X.dx=X.x1-X.x0,X.dy=X.y1-X.y0;var G=X.dx,oe=Math.max(.5,X.dy),te="node_"+X.pointNumber;return X.group&&(te=o.randstr()),X.trace=$.trace,X.curveNumber=$.trace.index,{index:X.pointNumber,key:te,partOfGroup:X.partOfGroup||!1,group:X.group,traceId:$.key,trace:$.trace,node:X,nodePad:$.nodePad,nodeLineColor:$.nodeLineColor,nodeLineWidth:$.nodeLineWidth,textFont:$.textFont,size:$.horizontal?$.height:$.width,visibleWidth:Math.ceil(G),visibleHeight:oe,zoneX:-se,zoneY:-J,zoneWidth:G+2*se,zoneHeight:oe+2*J,labelY:$.horizontal?X.dy/2+1:X.dx/2+1,left:X.originalLayer===1,sizeAcross:$.width,forceLayouts:$.forceLayouts,horizontal:$.horizontal,darkBackground:Q.getBrightness()<=128,tinyColorHue:r.tinyRGB(Q),tinyColorAlpha:Q.getAlpha(),valueFormat:$.valueFormat,valueSuffix:$.valueSuffix,sankey:$.sankey,graph:$.graph,arrangement:$.arrangement,uniqueNodeLabelPathId:[$.guid,$.key,te].join("_"),interactionState:$.interactionState,figure:$}}function E($){$.attr("transform",function(X){return n(X.node.x0.toFixed(3),X.node.y0.toFixed(3))})}function m($){$.call(E)}function k($,X){$.call(m),X.attr("d",A())}function I($){$.attr("width",function(X){return X.node.x1-X.node.x0}).attr("height",function(X){return X.visibleHeight})}function O($){return $.link.width>1||$.linkLineWidth>0}function _($){var X=n($.translateX,$.translateY);return X+($.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function B($,X,Q){$.on(".basic",null).on("mouseover.basic",function(se){!se.interactionState.dragInProgress&&!se.partOfGroup&&(Q.hover(this,se,X),se.interactionState.hovered=[this,se])}).on("mousemove.basic",function(se){!se.interactionState.dragInProgress&&!se.partOfGroup&&(Q.follow(this,se),se.interactionState.hovered=[this,se])}).on("mouseout.basic",function(se){!se.interactionState.dragInProgress&&!se.partOfGroup&&(Q.unhover(this,se,X),se.interactionState.hovered=!1)}).on("click.basic",function(se){se.interactionState.hovered&&(Q.unhover(this,se,X),se.interactionState.hovered=!1),!se.interactionState.dragInProgress&&!se.partOfGroup&&Q.select(this,se,X)})}function F($,X,Q,se){var J=s.behavior.drag().origin(function(G){return{x:G.node.x0+G.visibleWidth/2,y:G.node.y0+G.visibleHeight/2}}).on("dragstart",function(G){if(G.arrangement!=="fixed"&&(o.ensureSingle(se._fullLayout._infolayer,"g","dragcover",function(te){se._fullLayout._dragCover=te}),o.raiseToTop(this),G.interactionState.dragInProgress=G.node,re(G.node),G.interactionState.hovered&&(Q.nodeEvents.unhover.apply(0,G.interactionState.hovered),G.interactionState.hovered=!1),G.arrangement==="snap")){var oe=G.traceId+"|"+G.key;G.forceLayouts[oe]?G.forceLayouts[oe].alpha(1):z($,oe,G),N($,X,G,oe,se)}}).on("drag",function(G){if(G.arrangement!=="fixed"){var oe=s.event.x,te=s.event.y;G.arrangement==="snap"?(G.node.x0=oe-G.visibleWidth/2,G.node.x1=oe+G.visibleWidth/2,G.node.y0=te-G.visibleHeight/2,G.node.y1=te+G.visibleHeight/2):(G.arrangement==="freeform"&&(G.node.x0=oe-G.visibleWidth/2,G.node.x1=oe+G.visibleWidth/2),te=Math.max(0,Math.min(G.size-G.visibleHeight/2,te)),G.node.y0=te-G.visibleHeight/2,G.node.y1=te+G.visibleHeight/2),re(G.node),G.arrangement!=="snap"&&(G.sankey.update(G.graph),k($.filter(le(G)),X))}}).on("dragend",function(G){if(G.arrangement!=="fixed"){G.interactionState.dragInProgress=!1;for(var oe=0;oe<G.node.childrenNodes.length;oe++)G.node.childrenNodes[oe].x=G.node.x,G.node.childrenNodes[oe].y=G.node.y;G.arrangement!=="snap"&&Z(G,se)}});$.on(".drag",null).call(J)}function z($,X,Q,se){ie(Q.graph.nodes);var J=Q.graph.nodes.filter(function(G){return G.originalX===Q.node.originalX}).filter(function(G){return!G.partOfGroup});Q.forceLayouts[X]=b.forceSimulation(J).alphaDecay(0).force("collide",b.forceCollide().radius(function(G){return G.dy/2+Q.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",W($,X,J,Q)).stop()}function N($,X,Q,se,J){window.requestAnimationFrame(function G(){var oe;for(oe=0;oe<v.forceTicksPerFrame;oe++)Q.forceLayouts[se].tick();var te=Q.graph.nodes;if(K(te),Q.sankey.update(Q.graph),k($.filter(le(Q)),X),Q.forceLayouts[se].alpha()>0)window.requestAnimationFrame(G);else{var fe=Q.node.originalX;Q.node.x0=fe-Q.visibleWidth/2,Q.node.x1=fe+Q.visibleWidth/2,Z(Q,J)}})}function W($,X,Q,se){return function(){for(var G=0,oe=0;oe<Q.length;oe++){var te=Q[oe];te===se.interactionState.dragInProgress?(te.x=te.lastDraggedX,te.y=te.lastDraggedY):(te.vx=(te.originalX-te.x)/v.forceTicksPerFrame,te.y=Math.min(se.size-te.dy/2,Math.max(te.dy/2,te.y))),G=Math.max(G,Math.abs(te.vx),Math.abs(te.vy))}!se.interactionState.dragInProgress&&G<.1&&se.forceLayouts[X].alpha()>0&&se.forceLayouts[X].alpha(0)}}function Z($,X){for(var Q=[],se=[],J=0;J<$.graph.nodes.length;J++){var G=($.graph.nodes[J].x0+$.graph.nodes[J].x1)/2,oe=($.graph.nodes[J].y0+$.graph.nodes[J].y1)/2;Q.push(G/$.figure.width),se.push(oe/$.figure.height)}c.call("_guiRestyle",X,{"node.x":[Q],"node.y":[se]},$.trace.index).then(function(){X._fullLayout._dragCover&&X._fullLayout._dragCover.remove()})}function q($){var X=[],Q;for(Q=0;Q<$.length;Q++)$[Q].originalX=($[Q].x0+$[Q].x1)/2,$[Q].originalY=($[Q].y0+$[Q].y1)/2,X.indexOf($[Q].originalX)===-1&&X.push($[Q].originalX);for(X.sort(function(se,J){return se-J}),Q=0;Q<$.length;Q++)$[Q].originalLayerIndex=X.indexOf($[Q].originalX),$[Q].originalLayer=$[Q].originalLayerIndex/(X.length-1)}function re($){$.lastDraggedX=$.x0+$.dx/2,$.lastDraggedY=$.y0+$.dy/2}function le($){return function(X){return X.node.originalX===$.node.originalX}}function ie($){for(var X=0;X<$.length;X++)$[X].y=($[X].y0+$[X].y1)/2,$[X].x=($[X].x0+$[X].x1)/2}function K($){for(var X=0;X<$.length;X++)$[X].y0=$[X].y-$[X].dy/2,$[X].y1=$[X].y0+$[X].dy,$[X].x0=$[X].x-$[X].dx/2,$[X].x1=$[X].x0+$[X].dx}Y.exports=function($,X,Q,se,J){var G=$._context.staticPlot,oe=!1;o.ensureSingle($._fullLayout._infolayer,"g","first-render",function(){oe=!0});var te=$._fullLayout._dragCover,fe=Q.filter(function(Re){return h(Re).trace.visible}).map(C.bind(null,se)),ge=X.selectAll("."+v.cn.sankey).data(fe,f);ge.exit().remove(),ge.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",G?"none":"auto").attr("transform",_),ge.each(function(Re,Me){$._fullData[Me]._sankey=Re;var ke="bgsankey-"+Re.trace.uid+"-"+Me;o.ensureSingle($._fullLayout._draggers,"rect",ke),$._fullData[Me]._bgRect=s.select("."+ke),$._fullData[Me]._bgRect.style("pointer-events",G?"none":"all").attr("width",Re.width).attr("height",Re.height).attr("x",Re.translateX).attr("y",Re.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),ge.transition().ease(v.ease).duration(v.duration).attr("transform",_);var we=ge.selectAll("."+v.cn.sankeyLinks).data(g,f);we.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var xe=we.selectAll("."+v.cn.sankeyLink).data(function(Re){var Me=Re.graph.links;return Me.filter(function(ke){return ke.value}).map(y.bind(null,Re))},f);xe.enter().append("path").classed(v.cn.sankeyLink,!0).call(B,ge,J.linkEvents),xe.style("stroke",function(Re){return O(Re)?r.tinyRGB(p(Re.linkLineColor)):Re.tinyColorHue}).style("stroke-opacity",function(Re){return O(Re)?r.opacity(Re.linkLineColor):Re.tinyColorAlpha}).style("fill",function(Re){return Re.tinyColorHue}).style("fill-opacity",function(Re){return Re.tinyColorAlpha}).style("stroke-width",function(Re){return O(Re)?Re.linkLineWidth:1}).attr("d",A()),xe.style("opacity",function(){return $._context.staticPlot||oe||te?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),xe.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Ce=ge.selectAll("."+v.cn.sankeyNodeSet).data(g,f);Ce.enter().append("g").classed(v.cn.sankeyNodeSet,!0),Ce.style("cursor",function(Re){switch(Re.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var De=Ce.selectAll("."+v.cn.sankeyNode).data(function(Re){var Me=Re.graph.nodes;return q(Me),Me.map(i.bind(null,Re))},f);De.enter().append("g").classed(v.cn.sankeyNode,!0).call(E).style("opacity",function(Re){return($._context.staticPlot||oe)&&!Re.partOfGroup?1:0}),De.call(B,ge,J.nodeEvents).call(F,xe,J,$),De.transition().ease(v.ease).duration(v.duration).call(E).style("opacity",function(Re){return Re.partOfGroup?0:1}),De.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Oe=De.selectAll("."+v.cn.nodeRect).data(g);Oe.enter().append("rect").classed(v.cn.nodeRect,!0).call(I),Oe.style("stroke-width",function(Re){return Re.nodeLineWidth}).style("stroke",function(Re){return r.tinyRGB(p(Re.nodeLineColor))}).style("stroke-opacity",function(Re){return r.opacity(Re.nodeLineColor)}).style("fill",function(Re){return Re.tinyColorHue}).style("fill-opacity",function(Re){return Re.tinyColorAlpha}),Oe.transition().ease(v.ease).duration(v.duration).call(I);var Te=De.selectAll("."+v.cn.nodeLabel).data(g);Te.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),Te.attr("data-notex",1).text(function(Re){return Re.node.label}).each(function(Re){var Me=s.select(this);t.font(Me,Re.textFont),w.convertToTspans(Me,$)}).attr("text-anchor",function(Re){return Re.horizontal&&Re.left?"end":"start"}).attr("transform",function(Re){var Me=s.select(this),ke=w.lineCount(Me),Se=Re.textFont.size*((ke-1)*x-d),He=Re.nodeLineWidth/2+T,je=((Re.horizontal?Re.visibleHeight:Re.visibleWidth)-Se)/2;Re.horizontal&&(Re.left?He=-He:He+=Re.visibleWidth);var at=Re.horizontal?"":"scale(-1,1)"+l(90);return n(Re.horizontal?He:je,Re.horizontal?je:He)+at}),Te.transition().ease(v.ease).duration(v.duration)}},81128:function(Y){Y.exports=function(e,b){for(var P=e.cd,s=[],L=P[0].trace,M=L._sankey.graph.nodes,v=0;v<M.length;v++){var p=M[v];if(!p.partOfGroup){var r=[(p.x0+p.x1)/2,(p.y0+p.y1)/2];L.orientation==="v"&&r.reverse(),b&&b.contains(r,!1,v,e)&&s.push({pointNumber:p.pointNumber})}}return s}},20148:function(Y,V,e){var b=e(3400);Y.exports=function(s,L){for(var M=0;M<s.length;M++)s[M].i=M;b.mergeArray(L.text,s,"tx"),b.mergeArray(L.texttemplate,s,"txt"),b.mergeArray(L.hovertext,s,"htx"),b.mergeArray(L.customdata,s,"data"),b.mergeArray(L.textposition,s,"tp"),L.textfont&&(b.mergeArrayCastPositive(L.textfont.size,s,"ts"),b.mergeArray(L.textfont.color,s,"tc"),b.mergeArray(L.textfont.family,s,"tf"),b.mergeArray(L.textfont.weight,s,"tw"),b.mergeArray(L.textfont.style,s,"ty"),b.mergeArray(L.textfont.variant,s,"tv"),b.mergeArray(L.textfont.textcase,s,"tC"),b.mergeArray(L.textfont.lineposition,s,"tE"),b.mergeArray(L.textfont.shadow,s,"tS"));var v=L.marker;if(v){b.mergeArrayCastPositive(v.size,s,"ms"),b.mergeArrayCastPositive(v.opacity,s,"mo"),b.mergeArray(v.symbol,s,"mx"),b.mergeArray(v.angle,s,"ma"),b.mergeArray(v.standoff,s,"mf"),b.mergeArray(v.color,s,"mc");var p=v.line;v.line&&(b.mergeArray(p.color,s,"mlc"),b.mergeArrayCastPositive(p.width,s,"mlw"));var r=v.gradient;r&&r.type!=="none"&&(b.mergeArray(r.type,s,"mgt"),b.mergeArray(r.color,s,"mgc"))}}},52904:function(Y,V,e){var b=e(29736).axisHoverFormat,P=e(21776).Gw,s=e(21776).Ks,L=e(49084),M=e(25376),v=e(98192).u,p=e(98192).c,r=e(43616),t=e(88200),o=e(92880).extendFlat,n=e(98304);function l(g){return{valType:"any",dflt:0,editType:"calc"}}function u(g){return{valType:"any",editType:"calc"}}function f(g){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}Y.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:l(),yperiod:l(),xperiod0:u(),yperiod0:u(),xperiodalignment:f(),yperiodalignment:f(),xhoverformat:b("x"),yhoverformat:b("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:P({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:s({},{keys:t.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:o({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:n(!0),fillgradient:o({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:p,marker:o({symbol:{valType:"enumerated",values:r.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:o({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},L("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},L("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:M({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}},16356:function(Y,V,e){var b=e(38248),P=e(3400),s=e(54460),L=e(1220),M=e(39032).BADNUM,v=e(43028),p=e(90136),r=e(20148),t=e(4500);function o(h,w){var c=h._fullLayout,a=w._xA=s.getFromId(h,w.xaxis||"x","x"),d=w._yA=s.getFromId(h,w.yaxis||"y","y"),x=a.makeCalcdata(w,"x"),T=d.makeCalcdata(w,"y"),C=L(w,a,"x",x),y=L(w,d,"y",T),S=C.vals,A=y.vals,i=w._length,E=new Array(i),m=w.ids,k=g(w,c,a,d),I=!1,O,_,B,F,z,N;u(c,w);var W="x",Z="y",q;if(k)P.pushUnique(k.traceIndices,w._expandedIndex),O=k.orientation==="v",O?(Z="s",q="x"):(W="s",q="y"),z=k.stackgaps==="interpolate";else{var re=l(w,i);n(h,w,a,d,S,A,re)}var le=!!w.xperiodalignment,ie=!!w.yperiodalignment;for(_=0;_<i;_++){var K=E[_]={},$=b(S[_]),X=b(A[_]);$&&X?(K[W]=S[_],K[Z]=A[_],le&&(K.orig_x=x[_],K.xEnd=C.ends[_],K.xStart=C.starts[_]),ie&&(K.orig_y=T[_],K.yEnd=y.ends[_],K.yStart=y.starts[_])):k&&(O?$:X)?(K[q]=O?S[_]:A[_],K.gap=!0,z?(K.s=M,I=!0):K.s=0):K[W]=K[Z]=M,m&&(K.id=String(m[_]))}if(r(E,w),p(h,w),t(E,w),k){for(_=0;_<E.length;)E[_][q]===M?E.splice(_,1):_++;if(P.sort(E,function(G,oe){return G[q]-oe[q]||G.i-oe.i}),I){for(_=0;_<E.length-1&&E[_].gap;)_++;for(N=E[_].s,N||(N=E[_].s=0),B=0;B<_;B++)E[B].s=N;for(F=E.length-1;F>_&&E[F].gap;)F--;for(N=E[F].s,B=E.length-1;B>F;B--)E[B].s=N;for(;_<F;)if(_++,E[_].gap){for(B=_+1;E[B].gap;)B++;for(var Q=E[_-1][q],se=E[_-1].s,J=(E[B].s-se)/(E[B][q]-Q);_<B;)E[_].s=se+(E[_][q]-Q)*J,_++}}}return E}function n(h,w,c,a,d,x,T){var C=w._length,y=h._fullLayout,S=c._id,A=a._id,i=y._firstScatter[f(w)]===w.uid,E=(g(w,y,c,a)||{}).orientation,m=w.fill;c._minDtick=0,a._minDtick=0;var k={padded:!0},I={padded:!0};T&&(k.ppad=I.ppad=T);var O=C<2||d[0]!==d[C-1]||x[0]!==x[C-1];O&&(m==="tozerox"||m==="tonextx"&&(i||E==="h"))?k.tozero=!0:!(w.error_y||{}).visible&&(m==="tonexty"||m==="tozeroy"||!v.hasMarkers(w)&&!v.hasText(w))&&(k.padded=!1,k.ppad=0),O&&(m==="tozeroy"||m==="tonexty"&&(i||E==="v"))?I.tozero=!0:(m==="tonextx"||m==="tozerox")&&(I.padded=!1),S&&(w._extremes[S]=s.findExtremes(c,d,k)),A&&(w._extremes[A]=s.findExtremes(a,x,I))}function l(h,w){if(v.hasMarkers(h)){var c=h.marker,a=1.6*(h.marker.sizeref||1),d;if(h.marker.sizemode==="area"?d=function(S){return Math.max(Math.sqrt((S||0)/a),3)}:d=function(S){return Math.max((S||0)/a,3)},P.isArrayOrTypedArray(c.size)){var x={type:"linear"};s.setConvert(x);for(var T=x.makeCalcdata(h.marker,"size"),C=new Array(w),y=0;y<w;y++)C[y]=d(T[y]);return C}else return d(c.size)}}function u(h,w){var c=f(w),a=h._firstScatter;a[c]||(a[c]=w.uid)}function f(h){var w=h.stackgroup;return h.xaxis+h.yaxis+h.type+(w?"-"+w:"")}function g(h,w,c,a){var d=h.stackgroup;if(d){var x=w._scatterStackOpts[c._id+a._id][d],T=x.orientation==="v"?a:c;if(T.type==="linear"||T.type==="log")return x}}Y.exports={calc:o,calcMarkerSize:l,calcAxisExpansion:n,setFirstScatter:u,getStackOpts:g}},4500:function(Y,V,e){var b=e(3400);Y.exports=function(s,L){b.isArrayOrTypedArray(L.selectedpoints)&&b.tagSelected(s,L)}},90136:function(Y,V,e){var b=e(94288).hasColorscale,P=e(47128),s=e(43028);Y.exports=function(M,v){s.hasLines(v)&&b(v,"line")&&P(M,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),s.hasMarkers(v)&&(b(v,"marker")&&P(M,v,{vals:v.marker.color,containerStr:"marker",cLetter:"c"}),b(v,"marker.line")&&P(M,v,{vals:v.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},88200:function(Y){Y.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},96664:function(Y,V,e){var b=e(16356),P=e(96376).setGroupPositions;function s(v,p){for(var r=p.xaxis,t=p.yaxis,o=v._fullLayout,n=v._fullData,l=v.calcdata,u=[],f=[],g=0;g<n.length;g++){var h=n[g];h.visible===!0&&h.type==="scatter"&&h.xaxis===r._id&&h.yaxis===t._id&&(h.orientation==="h"?u.push(l[g]):h.orientation==="v"&&f.push(l[g]))}var w={mode:o.scattermode,gap:o.scattergap};P(v,r,t,f,w),P(v,t,r,u,w)}Y.exports=function(p,r){p._fullLayout.scattermode==="group"&&s(p,r);var t=r.xaxis,o=r.yaxis,n=t._id+o._id,l=p._fullLayout._scatterStackOpts[n];if(l){var u=p.calcdata,f,g,h,w,c,a,d,x,T,C,y,S,A,i,E;for(var m in l){C=l[m];var k=C.traceIndices;if(k.length){for(y=C.stackgaps==="interpolate",S=C.groupnorm,C.orientation==="v"?(A="x",i="y"):(A="y",i="x"),E=new Array(k.length),f=0;f<E.length;f++)E[f]=!1;a=u[k[0]];var I=new Array(a.length);for(f=0;f<a.length;f++)I[f]=a[f][A];for(f=1;f<k.length;f++){for(c=u[k[f]],g=h=0;g<c.length;g++){for(d=c[g][A];d>I[h]&&h<I.length;h++)L(c,g,I[h],f,E,y,A),g++;if(d!==I[h]){for(w=0;w<f;w++)L(u[k[w]],h,d,w,E,y,A);I.splice(h,0,d)}h++}for(;h<I.length;h++)L(c,g,I[h],f,E,y,A),g++}var O=I.length;for(g=0;g<a.length;g++){for(x=a[g][i]=a[g].s,f=1;f<k.length;f++)c=u[k[f]],c[0].trace._rawLength=c[0].trace._length,c[0].trace._length=O,x+=c[g].s,c[g][i]=x;if(S)for(T=(S==="fraction"?x:x/100)||1,f=0;f<k.length;f++){var _=u[k[f]][g];_[i]/=T,_.sNorm=_.s/T}}for(f=0;f<k.length;f++){c=u[k[f]];var B=c[0].trace,F=b.calcMarkerSize(B,B._rawLength),z=Array.isArray(F);if(F&&E[f]||z){var N=F;for(F=new Array(O),g=0;g<O;g++)F[g]=c[g].gap?0:z?N[c[g].i]:N}var W=new Array(O),Z=new Array(O);for(g=0;g<O;g++)W[g]=c[g].x,Z[g]=c[g].y;b.calcAxisExpansion(p,B,t,o,W,Z,F),c[0].t.orientation=C.orientation}}}}};function L(v,p,r,t,o,n,l){o[t]=!0;var u={i:null,gap:!0,s:0};if(u[l]=r,v.splice(p,0,u),p&&r===v[p-1][l]){var f=v[p-1];u.s=f.s,u.i=f.i,u.gap=f.gap}else n&&(u.s=M(v,p,r,l));p||(v[0].t=v[1].t,v[0].trace=v[1].trace,delete v[1].t,delete v[1].trace)}function M(v,p,r,t){var o=v[p-1],n=v[p+1];return n?o?o.s+(n.s-o.s)*(r-o[t])/(n[t]-o[t]):n.s:o.s}},35036:function(Y,V,e){var b=e(3400),P=e(20011),s=e(52904);Y.exports=function(M,v){var p,r,t;function o(g){return b.coerce(r._input,r,s,g)}if(v.scattermode==="group")for(t=0;t<M.length;t++)r=M[t],r.type==="scatter"&&(p=r._input,P(p,r,v,o));for(t=0;t<M.length;t++){var n=M[t];if(n.type==="scatter"){var l=n.fill;if(!(l==="none"||l==="toself")&&(n.opacity=void 0,l==="tonexty"||l==="tonextx"))for(var u=t-1;u>=0;u--){var f=M[u];if(f.type==="scatter"&&f.xaxis===n.xaxis&&f.yaxis===n.yaxis){f.opacity=void 0;break}}}}}},18800:function(Y,V,e){var b=e(3400),P=e(24040),s=e(52904),L=e(88200),M=e(43028),v=e(43980),p=e(31147),r=e(43912),t=e(74428),o=e(66828),n=e(11731),l=e(124),u=e(70840),f=e(3400).coercePattern;Y.exports=function(h,w,c,a){function d(E,m){return b.coerce(h,w,s,E,m)}var x=v(h,w,a,d);if(x||(w.visible=!1),!!w.visible){p(h,w,a,d),d("xhoverformat"),d("yhoverformat"),d("zorder");var T=r(h,w,a,d);a.scattermode==="group"&&w.orientation===void 0&&d("orientation","v");var C=!T&&x<L.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("mode",C),M.hasMarkers(w)&&t(h,w,c,a,d,{gradient:!0}),M.hasLines(w)&&(o(h,w,c,a,d,{backoff:!0}),n(h,w,d),d("connectgaps"),d("line.simplify")),M.hasText(w)&&(d("texttemplate"),l(h,w,a,d));var y=[];(M.hasMarkers(w)||M.hasText(w))&&(d("cliponaxis"),d("marker.maxdisplayed"),y.push("points")),d("fill",T?T.fillDflt:"none"),w.fill!=="none"&&(u(h,w,c,d,{moduleHasFillgradient:!0}),M.hasLines(w)||n(h,w,d),f(d,"fillpattern",w.fillcolor,!1));var S=(w.line||{}).color,A=(w.marker||{}).color;(w.fill==="tonext"||w.fill==="toself")&&y.push("fills"),d("hoveron",y.join("+")||"points"),w.hoveron!=="fills"&&d("hovertemplate");var i=P.getComponentMethod("errorbars","supplyDefaults");i(h,w,S||A||c,{axis:"y"}),i(h,w,S||A||c,{axis:"x",inherit:"y"}),b.coerceSelectionMarkerOpacity(w,d)}}},98304:function(Y){Y.exports=function(e){return{valType:"color",editType:"style",anim:!0}}},70840:function(Y,V,e){var b=e(76308),P=e(3400).isArrayOrTypedArray;function s(L){for(var M=b.interpolate(L[0][1],L[1][1],.5),v=2;v<L.length;v++){var p=b.interpolate(L[v-1][1],L[v][1],.5);M=b.interpolate(M,p,L[v-1][0]/L[v][0])}return M}Y.exports=function(M,v,p,r,t){t||(t={});var o=!1;if(v.marker){var n=v.marker.color,l=(v.marker.line||{}).color;n&&!P(n)?o=n:l&&!P(l)&&(o=l)}var u;if(t.moduleHasFillgradient){var f=r("fillgradient.type");if(f!=="none"){r("fillgradient.start"),r("fillgradient.stop");var g=r("fillgradient.colorscale");g&&(u=s(g))}}r("fillcolor",b.addOpacity((v.line||{}).color||o||u||p,.5))}},76688:function(Y,V,e){var b=e(54460);Y.exports=function(s,L,M){var v={},p={_fullLayout:M},r=b.getFromTrace(p,L,"x"),t=b.getFromTrace(p,L,"y"),o=s.orig_x;o===void 0&&(o=s.x);var n=s.orig_y;return n===void 0&&(n=s.y),v.xLabel=b.tickText(r,r.c2l(o),!0).text,v.yLabel=b.tickText(t,t.c2l(n),!0).text,v}},44928:function(Y,V,e){var b=e(76308),P=e(43028);Y.exports=function(L,M){var v,p;if(L.mode==="lines")return v=L.line.color,v&&b.opacity(v)?v:L.fillcolor;if(L.mode==="none")return L.fill?L.fillcolor:"";var r=M.mcc||(L.marker||{}).color,t=M.mlcc||((L.marker||{}).line||{}).color;return p=r&&b.opacity(r)?r:t&&b.opacity(t)&&(M.mlw||((L.marker||{}).line||{}).width)?t:"",p?b.opacity(p)<.3?b.addOpacity(p,.3):p:(v=(L.line||{}).color,v&&b.opacity(v)&&P.hasLines(L)&&L.line.width?v:L.fillcolor)}},20011:function(Y,V,e){var b=e(71888).getAxisGroup;Y.exports=function(s,L,M,v){var p=L.orientation,r=L[{v:"x",h:"y"}[p]+"axis"],t=b(M,r)+p,o=M._alignmentOpts||{},n=v("alignmentgroup"),l=o[t];l||(l=o[t]={});var u=l[n];u?u.traces.push(L):u=l[n]={traces:[L],alignmentIndex:Object.keys(l).length,offsetGroups:{}};var f=v("offsetgroup"),g=u.offsetGroups,h=g[f];f&&(h||(h=g[f]={offsetIndex:Object.keys(g).length}),L._offsetIndex=h.offsetIndex)}},98723:function(Y,V,e){var b=e(3400),P=e(93024),s=e(24040),L=e(44928),M=e(76308),v=b.fillText;Y.exports=function(r,t,o,n){var l=r.cd,u=l[0].trace,f=r.xa,g=r.ya,h=f.c2p(t),w=g.c2p(o),c=[h,w],a=u.hoveron||"",d=u.mode.indexOf("markers")!==-1?3:.5,x=!!u.xperiodalignment,T=!!u.yperiodalignment;if(a.indexOf("points")!==-1){var C=function(q){if(x){var re=f.c2p(q.xStart),le=f.c2p(q.xEnd);return h>=Math.min(re,le)&&h<=Math.max(re,le)?0:1/0}var ie=Math.max(3,q.mrc||0),K=1-1/ie,$=Math.abs(f.c2p(q.x)-h);return $<ie?K*$/ie:$-ie+K},y=function(q){if(T){var re=g.c2p(q.yStart),le=g.c2p(q.yEnd);return w>=Math.min(re,le)&&w<=Math.max(re,le)?0:1/0}var ie=Math.max(3,q.mrc||0),K=1-1/ie,$=Math.abs(g.c2p(q.y)-w);return $<ie?K*$/ie:$-ie+K},S=function(q){var re=Math.max(d,q.mrc||0),le=f.c2p(q.x)-h,ie=g.c2p(q.y)-w;return Math.max(Math.sqrt(le*le+ie*ie)-re,1-d/re)},A=P.getDistanceFunction(n,C,y,S);if(P.getClosest(l,A,r),r.index!==!1){var i=l[r.index],E=f.c2p(i.x,!0),m=g.c2p(i.y,!0),k=i.mrc||1;r.index=i.i;var I=l[0].t.orientation,O=I&&(i.sNorm||i.s),_=I==="h"?O:i.orig_x!==void 0?i.orig_x:i.x,B=I==="v"?O:i.orig_y!==void 0?i.orig_y:i.y;return b.extendFlat(r,{color:L(u,i),x0:E-k,x1:E+k,xLabelVal:_,y0:m-k,y1:m+k,yLabelVal:B,spikeDistance:S(i),hovertemplate:u.hovertemplate}),v(i,u,r),s.getComponentMethod("errorbars","hoverInfo")(i,u,r),[r]}}function F(q){if(!q)return!1;var re=q.node();try{var le=new DOMPoint(c[0],c[1]);return re.isPointInFill(le)}catch{var ie=re.ownerSVGElement.createSVGPoint();return ie.x=c[0],ie.y=c[1],re.isPointInFill(ie)}}function z(q){var re,le=[],ie=1/0,K=-1/0,$=1/0,X=-1/0,Q;for(re=0;re<q.length;re++){var se=q[re];se.contains(c)&&(le.push(se),$=Math.min($,se.ymin),X=Math.max(X,se.ymax))}if(le.length===0)return null;$=Math.max($,0),X=Math.min(X,g._length),Q=($+X)/2;var J,G,oe,te,fe,ge,we;for(re=0;re<le.length;re++)for(G=le[re].pts,J=1;J<G.length;J++)ge=G[J-1][1],we=G[J][1],ge>Q!=we>=Q&&(te=G[J-1][0],fe=G[J][0],we-ge&&(oe=te+(fe-te)*(Q-ge)/(we-ge),ie=Math.min(ie,oe),K=Math.max(K,oe)));return ie=Math.max(ie,0),K=Math.min(K,f._length),{x0:ie,x1:K,y0:Q,y1:Q}}if(a.indexOf("fills")!==-1&&u._fillElement){var N=F(u._fillElement)&&!F(u._fillExclusionElement);if(N){var W=z(u._polygons);W===null&&(W={x0:c[0],x1:c[0],y0:c[1],y1:c[1]});var Z=M.defaultLine;return M.opacity(u.fillcolor)?Z=u.fillcolor:M.opacity((u.line||{}).color)&&(Z=u.line.color),b.extendFlat(r,{distance:r.maxHoverDistance,x0:W.x0,x1:W.x1,y0:W.y0,y1:W.y1,color:Z,hovertemplate:!1}),delete r.index,u.text&&!b.isArrayOrTypedArray(u.text)?r.text=String(u.text):r.text=u.name,[r]}}}},65875:function(Y,V,e){var b=e(43028);Y.exports={hasLines:b.hasLines,hasMarkers:b.hasMarkers,hasText:b.hasText,isBubble:b.isBubble,attributes:e(52904),layoutAttributes:e(55308),supplyDefaults:e(18800),crossTraceDefaults:e(35036),supplyLayoutDefaults:e(59748),calc:e(16356).calc,crossTraceCalc:e(96664),arraysToCalcdata:e(20148),plot:e(96504),colorbar:e(5528),formatLabels:e(76688),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(98723),selectPoints:e(91560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(57952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},55308:function(Y){Y.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},59748:function(Y,V,e){var b=e(3400),P=e(55308);Y.exports=function(s,L){function M(p,r){return b.coerce(s,L,P,p,r)}var v=L.barmode==="group";L.scattermode==="group"&&M("scattergap",v?L.bargap:.2)}},66828:function(Y,V,e){var b=e(3400).isArrayOrTypedArray,P=e(94288).hasColorscale,s=e(27260);Y.exports=function(M,v,p,r,t,o){o||(o={});var n=(M.marker||{}).color;if(n&&n._inputArray&&(n=n._inputArray),t("line.color",p),P(M,"line"))s(M,v,r,t,{prefix:"line.",cLetter:"c"});else{var l=(b(n)?!1:n)||p;t("line.color",l)}t("line.width"),o.noDash||t("line.dash"),o.backoff&&t("line.backoff")}},52340:function(Y,V,e){var b=e(43616),P=e(39032),s=P.BADNUM,L=P.LOG_CLIP,M=L+.5,v=L-.5,p=e(3400),r=p.segmentsIntersect,t=p.constrain,o=e(88200);Y.exports=function(l,u){var f=u.trace||{},g=u.xaxis,h=u.yaxis,w=g.type==="log",c=h.type==="log",a=g._length,d=h._length,x=u.backoff,T=f.marker,C=u.connectGaps,y=u.baseTolerance,S=u.shape,A=S==="linear",i=f.fill&&f.fill!=="none",E=[],m=o.minTolerance,k=l.length,I=new Array(k),O=0,_,B,F,z,N,W,Z,q,re,le,ie,K,$,X,Q,se;function J(rt){var st=l[rt];if(!st)return!1;var Vt=u.linearized?g.l2p(st.x):g.c2p(st.x),Xt=u.linearized?h.l2p(st.y):h.c2p(st.y);if(Vt===s){if(w&&(Vt=g.c2p(st.x,!0)),Vt===s)return!1;c&&Xt===s&&(Vt*=Math.abs(g._m*d*(g._m>0?M:v)/(h._m*a*(h._m>0?M:v)))),Vt*=1e3}if(Xt===s){if(c&&(Xt=h.c2p(st.y,!0)),Xt===s)return!1;Xt*=1e3}return[Vt,Xt]}function G(rt,st,Vt,Xt){var Tt=Vt-rt,Lt=Xt-st,Kt=.5-rt,vr=.5-st,pt=Tt*Tt+Lt*Lt,jt=Tt*Kt+Lt*vr;if(jt>0&&jt<pt){var $t=Kt*Lt-vr*Tt;if($t*$t<pt)return!0}}var oe,te;function fe(rt,st){var Vt=rt[0]/a,Xt=rt[1]/d,Tt=Math.max(0,-Vt,Vt-1,-Xt,Xt-1);return Tt&&oe!==void 0&&G(Vt,Xt,oe,te)&&(Tt=0),Tt&&st&&G(Vt,Xt,st[0]/a,st[1]/d)&&(Tt=0),(1+o.toleranceGrowth*Tt)*y}function ge(rt,st){var Vt=rt[0]-st[0],Xt=rt[1]-st[1];return Math.sqrt(Vt*Vt+Xt*Xt)}var we=o.maxScreensAway,xe=-a*we,Ce=a*(1+we),De=-d*we,Oe=d*(1+we),Te=[[xe,De,Ce,De],[Ce,De,Ce,Oe],[Ce,Oe,xe,Oe],[xe,Oe,xe,De]],Re,Me,ke,Se,He,je;function at(rt,st){for(var Vt=[],Xt=0,Tt=0;Tt<4;Tt++){var Lt=Te[Tt],Kt=r(rt[0],rt[1],st[0],st[1],Lt[0],Lt[1],Lt[2],Lt[3]);Kt&&(!Xt||Math.abs(Kt.x-Vt[0][0])>1||Math.abs(Kt.y-Vt[0][1])>1)&&(Kt=[Kt.x,Kt.y],Xt&&ge(Kt,rt)<ge(Vt[0],rt)?Vt.unshift(Kt):Vt.push(Kt),Xt++)}return Vt}function Ze(rt){if(rt[0]<xe||rt[0]>Ce||rt[1]<De||rt[1]>Oe)return[t(rt[0],xe,Ce),t(rt[1],De,Oe)]}function $e(rt,st){if(rt[0]===st[0]&&(rt[0]===xe||rt[0]===Ce)||rt[1]===st[1]&&(rt[1]===De||rt[1]===Oe))return!0}function ut(rt,st){var Vt=[],Xt=Ze(rt),Tt=Ze(st);return Xt&&Tt&&$e(Xt,Tt)||(Xt&&Vt.push(Xt),Tt&&Vt.push(Tt)),Vt}function ht(rt,st,Vt){return function(Xt,Tt){var Lt=Ze(Xt),Kt=Ze(Tt),vr=[];if(Lt&&Kt&&$e(Lt,Kt))return vr;Lt&&vr.push(Lt),Kt&&vr.push(Kt);var pt=2*p.constrain((Xt[rt]+Tt[rt])/2,st,Vt)-((Lt||Xt)[rt]+(Kt||Tt)[rt]);if(pt){var jt;Lt&&Kt?jt=pt>0==Lt[rt]>Kt[rt]?Lt:Kt:jt=Lt||Kt,jt[rt]+=pt}return vr}}var vt;S==="linear"||S==="spline"?vt=at:S==="hv"||S==="vh"?vt=ut:S==="hvh"?vt=ht(0,xe,Ce):S==="vhv"&&(vt=ht(1,De,Oe));function xt(rt,st){var Vt=st[0]-rt[0],Xt=(st[1]-rt[1])/Vt,Tt=(rt[1]*st[0]-st[1]*rt[0])/Vt;return Tt>0?[Xt>0?xe:Ce,Oe]:[Xt>0?Ce:xe,De]}function St(rt){var st=rt[0],Vt=rt[1],Xt=st===I[O-1][0],Tt=Vt===I[O-1][1];if(!(Xt&&Tt))if(O>1){var Lt=st===I[O-2][0],Kt=Vt===I[O-2][1];Xt&&(st===xe||st===Ce)&&Lt?Kt?O--:I[O-1]=rt:Tt&&(Vt===De||Vt===Oe)&&Kt?Lt?O--:I[O-1]=rt:I[O++]=rt}else I[O++]=rt}function tt(rt){I[O-1][0]!==rt[0]&&I[O-1][1]!==rt[1]&&St([ke,Se]),St(rt),He=null,ke=Se=0}var Ie=p.isArrayOrTypedArray(T);function Ve(rt){if(rt&&x&&(rt.i=_,rt.d=l,rt.trace=f,rt.marker=Ie?T[rt.i]:T,rt.backoff=x),oe=rt[0]/a,te=rt[1]/d,Re=rt[0]<xe?xe:rt[0]>Ce?Ce:0,Me=rt[1]<De?De:rt[1]>Oe?Oe:0,Re||Me){if(!O)I[O++]=[Re||rt[0],Me||rt[1]];else if(He){var st=vt(He,rt);st.length>1&&(tt(st[0]),I[O++]=st[1])}else je=vt(I[O-1],rt)[0],I[O++]=je;var Vt=I[O-1];Re&&Me&&(Vt[0]!==Re||Vt[1]!==Me)?(He&&(ke!==Re&&Se!==Me?St(ke&&Se?xt(He,rt):[ke||Re,Se||Me]):ke&&Se&&St([ke,Se])),St([Re,Me])):ke-Re&&Se-Me&&St([Re||ke,Me||Se]),He=rt,ke=Re,Se=Me}else He&&tt(vt(He,rt)[0]),I[O++]=rt}for(_=0;_<k;_++)if(B=J(_),!!B){for(O=0,He=null,Ve(B),_++;_<k;_++){if(z=J(_),!z){if(C)continue;break}if(!A||!u.simplify){Ve(z);continue}var Ge=J(_+1);if(le=ge(z,B),!(!(i&&(O===0||O===k-1))&&le<fe(z,Ge)*m)){for(q=[(z[0]-B[0])/le,(z[1]-B[1])/le],N=B,ie=le,K=X=Q=0,Z=!1,F=z,_++;_<l.length;_++){if(W=Ge,Ge=J(_+1),!W){if(C)continue;break}if(re=[W[0]-B[0],W[1]-B[1]],se=re[0]*q[1]-re[1]*q[0],X=Math.min(X,se),Q=Math.max(Q,se),Q-X>fe(W,Ge))break;F=W,$=re[0]*q[0]+re[1]*q[1],$>ie?(ie=$,z=W,Z=!1):$<K&&(K=$,N=W,Z=!0)}if(Z?(Ve(z),F!==N&&Ve(N)):(N!==B&&Ve(N),F!==z&&Ve(z)),Ve(F),_>=l.length||!W)break;Ve(W),B=W}}He&&St([ke||He[0],Se||He[1]]),E.push(I.slice(0,O))}var Xe=S.slice(S.length-1);if(x&&Xe!=="h"&&Xe!=="v"){for(var Le=!1,Fe=-1,Ue=[],Ee=0;Ee<E.length;Ee++)for(var he=0;he<E[Ee].length-1;he++){var ye=E[Ee][he],_e=E[Ee][he+1],We=b.applyBackoff(_e,ye);(We[0]!==_e[0]||We[1]!==_e[1])&&(Le=!0),Ue[Fe+1]||(Fe++,Ue[Fe]=[ye,[We[0],We[1]]])}return Le?Ue:E}return E}},11731:function(Y){Y.exports=function(e,b,P){var s=P("line.shape");s==="spline"&&P("line.smoothing")}},14328:function(Y){var V={tonextx:1,tonexty:1,tonext:1};Y.exports=function(b,P,s){var L,M,v,p,r,t={},o=!1,n=-1,l=0,u=-1;for(M=0;M<s.length;M++)L=s[M][0].trace,v=L.stackgroup||"",v?v in t?r=t[v]:(r=t[v]=l,l++):L.fill in V&&u>=0?r=u:(r=u=l,l++),r<n&&(o=!0),L._groupIndex=n=r;var f=s.slice();o&&f.sort(function(h,w){var c=h[0].trace,a=w[0].trace;return c._groupIndex-a._groupIndex||c.index-a.index});var g={};for(M=0;M<f.length;M++)L=f[M][0].trace,v=L.stackgroup||"",L.visible===!0?(L._nexttrace=null,L.fill in V&&(p=g[v],L._prevtrace=p||null,p&&(p._nexttrace=L)),L._ownfill=L.fill&&(L.fill.substr(0,6)==="tozero"||L.fill==="toself"||L.fill.substr(0,2)==="to"&&!L._prevtrace),g[v]=L):L._prevtrace=L._nexttrace=L._ownfill=null;return f}},7152:function(Y,V,e){var b=e(38248);Y.exports=function(s,L){L||(L=2);var M=s.marker,v=M.sizeref||1,p=M.sizemin||0,r=M.sizemode==="area"?function(t){return Math.sqrt(t/v)}:function(t){return t/v};return function(t){var o=r(t/L);return b(o)&&o>0?Math.max(o,p):0}}},5528:function(Y){Y.exports={container:"marker",min:"cmin",max:"cmax"}},74428:function(Y,V,e){var b=e(76308),P=e(94288).hasColorscale,s=e(27260),L=e(43028);Y.exports=function(v,p,r,t,o,n){var l=L.isBubble(v),u=(v.line||{}).color,f;if(n=n||{},u&&(r=u),o("marker.symbol"),o("marker.opacity",l?.7:1),o("marker.size"),n.noAngle||(o("marker.angle"),n.noAngleRef||o("marker.angleref"),n.noStandOff||o("marker.standoff")),o("marker.color",r),P(v,"marker")&&s(v,p,t,o,{prefix:"marker.",cLetter:"c"}),n.noSelect||(o("selected.marker.color"),o("unselected.marker.color"),o("selected.marker.size"),o("unselected.marker.size")),n.noLine||(u&&!Array.isArray(u)&&p.marker.color!==u?f=u:l?f=b.background:f=b.defaultLine,o("marker.line.color",f),P(v,"marker.line")&&s(v,p,t,o,{prefix:"marker.line.",cLetter:"c"}),o("marker.line.width",l?1:0)),l&&(o("marker.sizeref"),o("marker.sizemin"),o("marker.sizemode")),n.gradient){var g=o("marker.gradient.type");g!=="none"&&o("marker.gradient.color")}}},31147:function(Y,V,e){var b=e(3400).dateTick0,P=e(39032),s=P.ONEWEEK;function L(M,v){return M%s===0?b(v,1):b(v,0)}Y.exports=function(v,p,r,t,o){if(o||(o={x:!0,y:!0}),o.x){var n=t("xperiod");n&&(t("xperiod0",L(n,p.xcalendar)),t("xperiodalignment"))}if(o.y){var l=t("yperiod");l&&(t("yperiod0",L(l,p.ycalendar)),t("yperiodalignment"))}}},96504:function(Y,V,e){var b=e(33428),P=e(24040),s=e(3400),L=s.ensureSingle,M=s.identity,v=e(43616),p=e(43028),r=e(52340),t=e(14328),o=e(92065).tester;Y.exports=function(g,h,w,c,a,d){var x,T,C=!a,y=!!a&&a.duration>0,S=t(g,h,w);if(x=c.selectAll("g.trace").data(S,function(i){return i[0].trace.uid}),x.enter().append("g").attr("class",function(i){return"trace scatter trace"+i[0].trace.uid}).style("stroke-miterlimit",2),x.order(),n(g,x,h),y){d&&(T=d());var A=b.transition().duration(a.duration).ease(a.easing).each("end",function(){T&&T()}).each("interrupt",function(){T&&T()});A.each(function(){c.selectAll("g.trace").each(function(i,E){l(g,E,h,i,S,this,a)})})}else x.each(function(i,E){l(g,E,h,i,S,this,a)});C&&x.exit().remove(),c.selectAll("path:not([d])").remove()};function n(f,g,h){g.each(function(w){var c=L(b.select(this),"g","fills");v.setClipUrl(c,h.layerClipId,f);var a=w[0].trace,d=[];a._ownfill&&d.push("_ownFill"),a._nexttrace&&d.push("_nextFill");var x=c.selectAll("g").data(d,M);x.enter().append("g"),x.exit().each(function(T){a[T]=null}).remove(),x.order().each(function(T){a[T]=L(b.select(this),"path","js-fill")})})}function l(f,g,h,w,c,a,d){var x=f._context.staticPlot,T;u(f,g,h,w,c);var C=!!d&&d.duration>0;function y(St){return C?St.transition():St}var S=h.xaxis,A=h.yaxis,i=w[0].trace,E=i.line,m=b.select(a),k=L(m,"g","errorbars"),I=L(m,"g","lines"),O=L(m,"g","points"),_=L(m,"g","text");if(P.getComponentMethod("errorbars","plot")(f,k,h,d),i.visible!==!0)return;y(m).style("opacity",i.opacity);var B,F,z=i.fill.charAt(i.fill.length-1);z!=="x"&&z!=="y"&&(z="");var N,W;z==="y"?(N=1,W=A.c2p(0,!0)):z==="x"&&(N=0,W=S.c2p(0,!0)),w[0][h.isRangePlot?"nodeRangePlot3":"node3"]=m;var Z="",q=[],re=i._prevtrace,le=null,ie=null;re&&(Z=re._prevRevpath||"",F=re._nextFill,q=re._ownPolygons,le=re._fillsegments,ie=re._fillElement);var K,$,X="",Q="",se,J,G,oe,te,fe,ge=[];i._polygons=[];var we=[],xe=[],Ce=s.noop;if(B=i._ownFill,p.hasLines(i)||i.fill!=="none"){F&&F.datum(w),["hv","vh","hvh","vhv"].indexOf(E.shape)!==-1?(se=v.steps(E.shape),J=v.steps(E.shape.split("").reverse().join(""))):E.shape==="spline"?se=J=function(St){var tt=St[St.length-1];return St.length>1&&St[0][0]===tt[0]&&St[0][1]===tt[1]?v.smoothclosed(St.slice(1),E.smoothing):v.smoothopen(St,E.smoothing)}:se=J=function(St){return"M"+St.join("L")},G=function(St){return J(St.reverse())},xe=r(w,{xaxis:S,yaxis:A,trace:i,connectGaps:i.connectgaps,baseTolerance:Math.max(E.width||1,3)/4,shape:E.shape,backoff:E.backoff,simplify:E.simplify,fill:i.fill}),we=new Array(xe.length);var De=0;for(T=0;T<xe.length;T++){var Oe,Te=xe[T];!Oe||!z?(Oe=Te.slice(),we[De]=Oe,De++):Oe.push.apply(Oe,Te)}i._fillElement=null,i._fillExclusionElement=ie,i._fillsegments=we.slice(0,De),we=i._fillsegments,xe.length&&(oe=xe[0][0].slice(),te=xe[xe.length-1],fe=te[te.length-1].slice()),Ce=function(St){return function(tt){if(K=se(tt),$=G(tt),X?z?(X+="L"+K.substr(1),Q=$+("L"+Q.substr(1))):(X+="Z"+K,Q=$+"Z"+Q):(X=K,Q=$),p.hasLines(i)){var Ie=b.select(this);if(Ie.datum(w),St)y(Ie.style("opacity",0).attr("d",K).call(v.lineGroupStyle)).style("opacity",1);else{var Ve=y(Ie);Ve.attr("d",K),v.singleLineStyle(w,Ve)}}}}}var Re=I.selectAll(".js-line").data(xe);y(Re.exit()).style("opacity",0).remove(),Re.each(Ce(!1)),Re.enter().append("path").classed("js-line",!0).style("vector-effect",x?"none":"non-scaling-stroke").call(v.lineGroupStyle).each(Ce(!0)),v.setClipUrl(Re,h.layerClipId,f);function Me(St){y(St).attr("d","M0,0Z")}var ke=function(){var St=new Array(we.length);for(T=0;T<we.length;T++)St[T]=o(we[T]);return St},Se=function(St){var tt,Ie;if(!St||St.length===0)for(tt=new Array(we.length),Ie=0;Ie<we.length;Ie++){var Ve=we[Ie][0].slice(),Ge=we[Ie][we[Ie].length-1].slice();Ve[N]=Ge[N]=W;var Xe=[Ge,Ve],Le=Xe.concat(we[Ie]);tt[Ie]=o(Le)}else{for(tt=new Array(St.length-1+we.length),Ie=0;Ie<St.length-1;Ie++)tt[Ie]=o(St[Ie]);var Fe=St[St.length-1].slice();for(Fe.reverse(),Ie=0;Ie<we.length;Ie++)tt[St.length-1+Ie]=o(we[Ie].concat(Fe))}return tt};xe.length?(B?(B.datum(w),oe&&fe&&(z?(oe[N]=fe[N]=W,y(B).attr("d","M"+fe+"L"+oe+"L"+X.substr(1)).call(v.singleFillStyle,f),ge=Se(null)):(y(B).attr("d",X+"Z").call(v.singleFillStyle,f),ge=ke())),i._polygons=ge,i._fillElement=B):F&&(i.fill.substr(0,6)==="tonext"&&X&&Z?(i.fill==="tonext"?(y(F).attr("d",X+"Z"+Z+"Z").call(v.singleFillStyle,f),ge=ke(),i._polygons=ge.concat(q)):(y(F).attr("d",X+"L"+Z.substr(1)+"Z").call(v.singleFillStyle,f),ge=Se(le),i._polygons=ge),i._fillElement=F):Me(F)),i._prevRevpath=Q):(B?Me(B):F&&Me(F),i._prevRevpath=null),i._ownPolygons=ge;function He(St){return St.filter(function(tt){return!tt.gap&&tt.vis})}function je(St){return St.filter(function(tt){return tt.vis})}function at(St){return St.filter(function(tt){return!tt.gap})}function Ze(St){return St.id}function $e(St){if(St.ids)return Ze}function ut(){return!1}function ht(St,tt,Ie){var Ve,Ge,Xe,Le=Ie[0].trace,Fe=p.hasMarkers(Le),Ue=p.hasText(Le),Ee=$e(Le),he=ut,ye=ut;if(Fe||Ue){var _e=M,We=Le.stackgroup,rt=We&&f._fullLayout._scatterStackOpts[S._id+A._id][We].stackgaps==="infer zero";Le.marker.maxdisplayed||Le._needsCull?_e=rt?je:He:We&&!rt&&(_e=at),Fe&&(he=_e),Ue&&(ye=_e)}Ge=St.selectAll("path.point"),Ve=Ge.data(he,Ee);var st=Ve.enter().append("path").classed("point",!0);C&&st.call(v.pointStyle,Le,f).call(v.translatePoints,S,A).style("opacity",0).transition().style("opacity",1),Ve.order();var Vt;Fe&&(Vt=v.makePointStyleFns(Le)),Ve.each(function(Xt){var Tt=b.select(this),Lt=y(Tt);Xe=v.translatePoint(Xt,Lt,S,A),Xe?(v.singlePointStyle(Xt,Lt,Le,Vt,f),h.layerClipId&&v.hideOutsideRangePoint(Xt,Lt,S,A,Le.xcalendar,Le.ycalendar),Le.customdata&&Tt.classed("plotly-customdata",Xt.data!==null&&Xt.data!==void 0)):Lt.remove()}),C?Ve.exit().transition().style("opacity",0).remove():Ve.exit().remove(),Ge=tt.selectAll("g"),Ve=Ge.data(ye,Ee),Ve.enter().append("g").classed("textpoint",!0).append("text"),Ve.order(),Ve.each(function(Xt){var Tt=b.select(this),Lt=y(Tt.select("text"));Xe=v.translatePoint(Xt,Lt,S,A),Xe?h.layerClipId&&v.hideOutsideRangePoint(Xt,Tt,S,A,Le.xcalendar,Le.ycalendar):Tt.remove()}),Ve.selectAll("text").call(v.textPointStyle,Le,f).each(function(Xt){var Tt=S.c2p(Xt.x),Lt=A.c2p(Xt.y);b.select(this).selectAll("tspan.line").each(function(){y(b.select(this)).attr({x:Tt,y:Lt})})}),Ve.exit().remove()}O.datum(w),_.datum(w),ht(O,_,w);var vt=i.cliponaxis===!1,xt=vt?null:h.layerClipId;v.setClipUrl(O,xt,f),v.setClipUrl(_,xt,f)}function u(f,g,h,w,c){var a=h.xaxis,d=h.yaxis,x=b.extent(s.simpleMap(a.range,a.r2c)),T=b.extent(s.simpleMap(d.range,d.r2c)),C=w[0].trace;if(p.hasMarkers(C)){var y=C.marker.maxdisplayed;if(y!==0){var S=w.filter(function(m){return m.x>=x[0]&&m.x<=x[1]&&m.y>=T[0]&&m.y<=T[1]}),A=Math.ceil(S.length/y),i=0;c.forEach(function(m,k){var I=m[0].trace;p.hasMarkers(I)&&I.marker.maxdisplayed>0&&k<g&&i++});var E=Math.round(i*A/3+Math.floor(i/3)*A/7.1);w.forEach(function(m){delete m.vis}),S.forEach(function(m,k){Math.round((k+E)%A)===0&&(m.vis=!0)})}}}},91560:function(Y,V,e){var b=e(43028);Y.exports=function(s,L){var M=s.cd,v=s.xaxis,p=s.yaxis,r=[],t=M[0].trace,o,n,l,u,f=!b.hasMarkers(t)&&!b.hasText(t);if(f)return[];if(L===!1)for(o=0;o<M.length;o++)M[o].selected=0;else for(o=0;o<M.length;o++)n=M[o],l=v.c2p(n.x),u=p.c2p(n.y),n.i!==null&&L.contains([l,u],!1,o,s)?(r.push({pointNumber:n.i,x:v.c2d(n.x),y:p.c2d(n.y)}),n.selected=1):n.selected=0;return r}},43912:function(Y){var V=["orientation","groupnorm","stackgaps"];Y.exports=function(b,P,s,L){var M=s._scatterStackOpts,v=L("stackgroup");if(v){var p=P.xaxis+P.yaxis,r=M[p];r||(r=M[p]={});var t=r[v],o=!1;t?t.traces.push(P):(t=r[v]={traceIndices:[],traces:[P]},o=!0);for(var n={orientation:P.x&&!P.y?"h":"v"},l=0;l<V.length;l++){var u=V[l],f=u+"Found";if(!t[f]){var g=b[u]!==void 0,h=u==="orientation";if((g||o)&&(t[u]=L(u,n[u]),h&&(t.fillDflt=t[u]==="h"?"tonextx":"tonexty"),g&&(t[f]=!0,!o&&(delete t.traces[0][u],h))))for(var w=0;w<t.traces.length-1;w++){var c=t.traces[w];c._input.fill!==c.fill&&(c.fill=t.fillDflt)}}}return t}}},49224:function(Y,V,e){var b=e(33428),P=e(43616),s=e(24040);function L(r){var t=b.select(r).selectAll("g.trace.scatter");t.style("opacity",function(o){return o[0].trace.opacity}),t.selectAll("g.points").each(function(o){var n=b.select(this),l=o.trace||o[0].trace;M(n,l,r)}),t.selectAll("g.text").each(function(o){var n=b.select(this),l=o.trace||o[0].trace;v(n,l,r)}),t.selectAll("g.trace path.js-line").call(P.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(P.fillGroupStyle,r,!1),s.getComponentMethod("errorbars","style")(t)}function M(r,t,o){P.pointStyle(r.selectAll("path.point"),t,o)}function v(r,t,o){P.textPointStyle(r.selectAll("text"),t,o)}function p(r,t,o){var n=t[0].trace;n.selectedpoints?(P.selectedPointStyle(o.selectAll("path.point"),n),P.selectedTextStyle(o.selectAll("text"),n)):(M(o,n,r),v(o,n,r))}Y.exports={style:L,stylePoints:M,styleText:v,styleOnSelect:p}},43028:function(Y,V,e){var b=e(3400),P=e(38116).isTypedArraySpec;Y.exports={hasLines:function(s){return s.visible&&s.mode&&s.mode.indexOf("lines")!==-1},hasMarkers:function(s){return s.visible&&(s.mode&&s.mode.indexOf("markers")!==-1||s.type==="splom")},hasText:function(s){return s.visible&&s.mode&&s.mode.indexOf("text")!==-1},isBubble:function(s){var L=s.marker;return b.isPlainObject(L)&&(b.isArrayOrTypedArray(L.size)||P(L.size))}}},124:function(Y,V,e){var b=e(3400);Y.exports=function(P,s,L,M,v){v=v||{},M("textposition"),b.coerceFont(M,"textfont",v.font||L.font,v),v.noSelect||(M("selected.textfont.color"),M("unselected.textfont.color"))}},43980:function(Y,V,e){var b=e(3400),P=e(24040);Y.exports=function(L,M,v,p){var r=p("x"),t=p("y"),o,n=P.getComponentMethod("calendars","handleTraceDefaults");if(n(L,M,["x","y"],v),r){var l=b.minRowLength(r);t?o=Math.min(l,b.minRowLength(t)):(o=l,p("y0"),p("dy"))}else{if(!t)return 0;o=b.minRowLength(t),p("x0"),p("dx")}return M._length=o,o}},91592:function(Y,V,e){var b=e(52904),P=e(25376),s=e(49084),L=e(29736).axisHoverFormat,M=e(21776).Ks,v=e(21776).Gw,p=e(45464),r=e(99168),t=e(87792),o=e(92880).extendFlat,n=e(67824).overrideAll,l=e(95376),u=b.line,f=b.marker,g=f.line,h=o({width:u.width,dash:{valType:"enumerated",values:l(r),dflt:"solid"}},s("line"));function w(a){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var c=Y.exports=n({x:b.x,y:b.y,z:{valType:"data_array"},text:o({},b.text,{}),texttemplate:v({},{}),hovertext:o({},b.hovertext,{}),hovertemplate:M(),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),mode:o({},b.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:w(),y:w(),z:w()},connectgaps:b.connectgaps,line:h,marker:o({symbol:{valType:"enumerated",values:l(t),dflt:"circle",arrayOk:!0},size:o({},f.size,{dflt:8}),sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode,opacity:o({},f.opacity,{arrayOk:!1}),colorbar:f.colorbar,line:o({width:o({},g.width,{arrayOk:!1})},s("marker.line"))},s("marker")),textposition:o({},b.textposition,{dflt:"top center"}),textfont:P({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"]}),opacity:p.opacity,hoverinfo:o({},p.hoverinfo)},"calc","nested");c.x.editType=c.y.editType=c.z.editType="calc+clearAxisTypes"},41484:function(Y,V,e){var b=e(20148),P=e(90136);Y.exports=function(L,M){var v=[{x:!1,y:!1,trace:M,t:{}}];return b(v,M),P(L,M),v}},45156:function(Y,V,e){var b=e(24040);function P(M,v,p,r){if(!v||!v.visible)return null;for(var t=b.getComponentMethod("errorbars","makeComputeError")(v),o=new Array(M.length),n=0;n<M.length;n++){var l=t(+M[n],n);if(r.type==="log"){var u=r.c2l(M[n]),f=M[n]-l[0],g=M[n]+l[1];if(o[n]=[(r.c2l(f,!0)-u)*p,(r.c2l(g,!0)-u)*p],f>0){var h=r.c2l(f);r._lowerLogErrorBound||(r._lowerLogErrorBound=h),r._lowerErrorBound=Math.min(r._lowerLogErrorBound,h)}}else o[n]=[-l[0]*p,l[1]*p]}return o}function s(M){for(var v=0;v<M.length;v++)if(M[v])return M[v].length;return 0}function L(M,v,p){var r=[P(M.x,M.error_x,v[0],p.xaxis),P(M.y,M.error_y,v[1],p.yaxis),P(M.z,M.error_z,v[2],p.zaxis)],t=s(r);if(t===0)return null;for(var o=new Array(t),n=0;n<t;n++){for(var l=[[0,0,0],[0,0,0]],u=0;u<3;u++)if(r[u])for(var f=0;f<2;f++)l[f][u]=r[u][n][f];o[n]=l}return o}Y.exports=L},41064:function(Y,V,e){var b=e(67792).gl_line3d,P=e(67792).gl_scatter3d,s=e(67792).gl_error3d,L=e(67792).gl_mesh3d,M=e(67792).delaunay_triangulate,v=e(3400),p=e(43080),r=e(33040).formatColor,t=e(7152),o=e(99168),n=e(87792),l=e(54460),u=e(10624).appendArrayPointValue,f=e(45156);function g(m,k){this.scene=m,this.uid=k,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var h=g.prototype;h.handlePick=function(m){if(m.object&&(m.object===this.linePlot||m.object===this.delaunayMesh||m.object===this.textMarkers||m.object===this.scatterPlot)){var k=m.index=m.data.index;return m.object.highlight&&m.object.highlight(null),this.scatterPlot&&(m.object=this.scatterPlot,this.scatterPlot.highlight(m.data)),m.textLabel="",this.textLabels&&(v.isArrayOrTypedArray(this.textLabels)?(this.textLabels[k]||this.textLabels[k]===0)&&(m.textLabel=this.textLabels[k]):m.textLabel=this.textLabels),m.traceCoordinate=[this.data.x[k],this.data.y[k],this.data.z[k]],!0}};function w(m,k,I){var O=(I+1)%3,_=(I+2)%3,B=[],F=[],z;for(z=0;z<m.length;++z){var N=m[z];isNaN(N[O])||!isFinite(N[O])||isNaN(N[_])||!isFinite(N[_])||(B.push([N[O],N[_]]),F.push(z))}var W=M(B);for(z=0;z<W.length;++z)for(var Z=W[z],q=0;q<Z.length;++q)Z[q]=F[Z[q]];return{positions:m,cells:W,meshColor:k}}function c(m){for(var k=[0,0,0],I=[[0,0,0],[0,0,0],[0,0,0]],O=[1,1,1],_=0;_<3;_++){var B=m[_];B&&B.copy_zstyle!==!1&&m[2].visible!==!1&&(B=m[2]),!(!B||!B.visible)&&(k[_]=B.width/2,I[_]=p(B.color),O[_]=B.thickness)}return{capSize:k,color:I,lineWidth:O}}function a(m){return m==null?0:m.indexOf("left")>-1?-1:m.indexOf("right")>-1?1:0}function d(m){return m==null?0:m.indexOf("top")>-1?-1:m.indexOf("bottom")>-1?1:0}function x(m){var k=0,I=0,O=[k,I];if(Array.isArray(m))for(var _=0;_<m.length;_++)O[_]=[k,I],m[_]&&(O[_][0]=a(m[_]),O[_][1]=d(m[_]));else O[0]=a(m),O[1]=d(m);return O}function T(m,k){return k(m*4)}function C(m){return n[m]}function y(m,k,I,O,_){var B=null;if(v.isArrayOrTypedArray(m)){B=[];for(var F=0;F<k;F++)m[F]===void 0?B[F]=O:B[F]=I(m[F],_)}else B=I(m,v.identity);return B}function S(m,k){var I=[],O=m.fullSceneLayout,_=m.dataScale,B=O.xaxis,F=O.yaxis,z=O.zaxis,N=k.marker,W=k.line,Z=k.x||[],q=k.y||[],re=k.z||[],le=Z.length,ie=k.xcalendar,K=k.ycalendar,$=k.zcalendar,X,Q,se,J,G,oe;for(G=0;G<le;G++)X=B.d2l(Z[G],0,ie)*_[0],Q=F.d2l(q[G],0,K)*_[1],se=z.d2l(re[G],0,$)*_[2],I[G]=[X,Q,se];if(Array.isArray(k.text))oe=k.text;else if(v.isTypedArray(k.text))oe=Array.from(k.text);else if(k.text!==void 0)for(oe=new Array(le),G=0;G<le;G++)oe[G]=k.text;function te(at,Ze){var $e=O[at];return l.tickText($e,$e.d2l(Ze),!0).text}var fe=k.texttemplate;if(fe){var ge=m.fullLayout,we=ge._d3locale,xe=Array.isArray(fe),Ce=xe?Math.min(fe.length,le):le,De=xe?function(at){return fe[at]}:function(){return fe};for(oe=new Array(Ce),G=0;G<Ce;G++){var Oe={x:Z[G],y:q[G],z:re[G]},Te={xLabel:te("xaxis",Z[G]),yLabel:te("yaxis",q[G]),zLabel:te("zaxis",re[G])},Re={};u(Re,k,G);var Me=k._meta||{};oe[G]=v.texttemplateString(De(G),Te,we,Re,Oe,Me)}}if(J={position:I,mode:k.mode,text:oe},"line"in k&&(J.lineColor=r(W,1,le),J.lineWidth=W.width,J.lineDashes=W.dash),"marker"in k){var ke=t(k);J.scatterColor=r(N,1,le),J.scatterSize=y(N.size,le,T,20,ke),J.scatterMarker=y(N.symbol,le,C,"●"),J.scatterLineWidth=N.line.width,J.scatterLineColor=r(N.line,1,le),J.scatterAngle=0}"textposition"in k&&(J.textOffset=x(k.textposition),J.textColor=r(k.textfont,1,le),J.textSize=y(k.textfont.size,le,v.identity,12),J.textFontFamily=k.textfont.family,J.textFontWeight=k.textfont.weight,J.textFontStyle=k.textfont.style,J.textFontVariant=k.textfont.variant,J.textAngle=0);var Se=["x","y","z"];for(J.project=[!1,!1,!1],J.projectScale=[1,1,1],J.projectOpacity=[1,1,1],G=0;G<3;++G){var He=k.projection[Se[G]];(J.project[G]=He.show)&&(J.projectOpacity[G]=He.opacity,J.projectScale[G]=He.scale)}J.errorBounds=f(k,_,O);var je=c([k.error_x,k.error_y,k.error_z]);return J.errorColor=je.color,J.errorLineWidth=je.lineWidth,J.errorCapSize=je.capSize,J.delaunayAxis=k.surfaceaxis,J.delaunayColor=p(k.surfacecolor),J}function A(m){if(v.isArrayOrTypedArray(m)){var k=m[0];return v.isArrayOrTypedArray(k)&&(m=k),"rgb("+m.slice(0,3).map(function(I){return Math.round(I*255)})+")"}return null}function i(m){return v.isArrayOrTypedArray(m)?m.length===4&&typeof m[0]=="number"?A(m):m.map(A):null}h.update=function(m){var k=this.scene.glplot.gl,I,O,_,B,F=o.solid;this.data=m;var z=S(this.scene,m);"mode"in z&&(this.mode=z.mode),"lineDashes"in z&&z.lineDashes in o&&(F=o[z.lineDashes]),this.color=i(z.scatterColor)||i(z.lineColor),this.dataPoints=z.position,I={gl:this.scene.glplot.gl,position:z.position,color:z.lineColor,lineWidth:z.lineWidth||1,dashes:F[0],dashScale:F[1],opacity:m.opacity,connectGaps:m.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(I):(this.linePlot=b(I),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var N=m.opacity;if(m.marker&&m.marker.opacity!==void 0&&(N*=m.marker.opacity),O={gl:this.scene.glplot.gl,position:z.position,color:z.scatterColor,size:z.scatterSize,glyph:z.scatterMarker,opacity:N,orthographic:!0,lineWidth:z.scatterLineWidth,lineColor:z.scatterLineColor,project:z.project,projectScale:z.projectScale,projectOpacity:z.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(O):(this.scatterPlot=P(O),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),B={gl:this.scene.glplot.gl,position:z.position,glyph:z.text,color:z.textColor,size:z.textSize,angle:z.textAngle,alignment:z.textOffset,font:z.textFontFamily,fontWeight:z.textFontWeight,fontStyle:z.textFontStyle,fontVariant:z.textFontVariant,orthographic:!0,lineWidth:0,project:!1,opacity:m.opacity},this.textLabels=m.hovertext||m.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(B):(this.textMarkers=P(B),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),_={gl:this.scene.glplot.gl,position:z.position,color:z.errorColor,error:z.errorBounds,lineWidth:z.errorLineWidth,capSize:z.errorCapSize,opacity:m.opacity},this.errorBars?z.errorBounds?this.errorBars.update(_):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):z.errorBounds&&(this.errorBars=s(_),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),z.delaunayAxis>=0){var W=w(z.position,z.delaunayColor,z.delaunayAxis);W.opacity=m.opacity,this.delaunayMesh?this.delaunayMesh.update(W):(W.gl=k,this.delaunayMesh=L(W),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},h.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function E(m,k){var I=new g(m,k.uid);return I.update(k),I}Y.exports=E},83484:function(Y,V,e){var b=e(24040),P=e(3400),s=e(43028),L=e(74428),M=e(66828),v=e(124),p=e(91592);Y.exports=function(o,n,l,u){function f(T,C){return P.coerce(o,n,p,T,C)}var g=r(o,n,f,u);if(!g){n.visible=!1;return}f("text"),f("hovertext"),f("hovertemplate"),f("xhoverformat"),f("yhoverformat"),f("zhoverformat"),f("mode"),s.hasMarkers(n)&&L(o,n,l,u,f,{noSelect:!0,noAngle:!0}),s.hasLines(n)&&(f("connectgaps"),M(o,n,l,u,f)),s.hasText(n)&&(f("texttemplate"),v(o,n,u,f,{noSelect:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var h=(n.line||{}).color,w=(n.marker||{}).color;f("surfaceaxis")>=0&&f("surfacecolor",h||w);for(var c=["x","y","z"],a=0;a<3;++a){var d="projection."+c[a];f(d+".show")&&(f(d+".opacity"),f(d+".scale"))}var x=b.getComponentMethod("errorbars","supplyDefaults");x(o,n,h||w||l,{axis:"z"}),x(o,n,h||w||l,{axis:"y",inherit:"z"}),x(o,n,h||w||l,{axis:"x",inherit:"z"})};function r(t,o,n,l){var u=0,f=n("x"),g=n("y"),h=n("z"),w=b.getComponentMethod("calendars","handleTraceDefaults");return w(t,o,["x","y","z"],l),f&&g&&h&&(u=Math.min(f.length,g.length,h.length),o._length=o._xlength=o._ylength=o._zlength=u),u}},3296:function(Y,V,e){Y.exports={plot:e(41064),attributes:e(91592),markerSymbols:e(87792),supplyDefaults:e(83484),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(41484),moduleType:"trace",name:"scatter3d",basePlotModule:e(12536),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},90372:function(Y,V,e){var b=e(98304),P=e(52904),s=e(45464),L=e(21776).Ks,M=e(21776).Gw,v=e(49084),p=e(92880).extendFlat,r=P.marker,t=P.line,o=r.line;Y.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:p({},P.mode,{dflt:"markers"}),text:p({},P.text,{}),texttemplate:M({editType:"plot"},{keys:["a","b","text"]}),hovertext:p({},P.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:p({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:P.connectgaps,fill:p({},P.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:b(),marker:p({symbol:r.symbol,opacity:r.opacity,maxdisplayed:r.maxdisplayed,angle:r.angle,angleref:r.angleref,standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,line:p({width:o.width,editType:"calc"},v("marker.line")),gradient:r.gradient,editType:"calc"},v("marker")),textfont:P.textfont,textposition:P.textposition,selected:P.selected,unselected:P.unselected,hoverinfo:p({},s.hoverinfo,{flags:["a","b","text","name"]}),hoveron:P.hoveron,hovertemplate:L(),zorder:P.zorder}},48228:function(Y,V,e){var b=e(38248),P=e(90136),s=e(20148),L=e(4500),M=e(16356).calcMarkerSize,v=e(50948);Y.exports=function(r,t){var o=t._carpetTrace=v(r,t);if(!(!o||!o.visible||o.visible==="legendonly")){var n;t.xaxis=o.xaxis,t.yaxis=o.yaxis;var l=t._length,u=new Array(l),f,g,h=!1;for(n=0;n<l;n++)if(f=t.a[n],g=t.b[n],b(f)&&b(g)){var w=o.ab2xy(+f,+g,!0),c=o.isVisible(+f,+g);c||(h=!0),u[n]={x:w[0],y:w[1],a:f,b:g,vis:c}}else u[n]={x:!1,y:!1};return t._needsCull=h,u[0].carpet=o,u[0].trace=t,M(t,l),P(r,t),s(u,t),L(u,t),u}}},6176:function(Y,V,e){var b=e(3400),P=e(88200),s=e(43028),L=e(74428),M=e(66828),v=e(11731),p=e(124),r=e(70840),t=e(90372);Y.exports=function(n,l,u,f){function g(T,C){return b.coerce(n,l,t,T,C)}g("carpet"),l.xaxis="x",l.yaxis="y";var h=g("a"),w=g("b"),c=Math.min(h.length,w.length);if(!c){l.visible=!1;return}l._length=c,g("text"),g("texttemplate"),g("hovertext");var a=c<P.PTS_LINESONLY?"lines+markers":"lines";g("mode",a),s.hasMarkers(l)&&L(n,l,u,f,g,{gradient:!0}),s.hasLines(l)&&(M(n,l,u,f,g,{backoff:!0}),v(n,l,g),g("connectgaps")),s.hasText(l)&&p(n,l,f,g);var d=[];(s.hasMarkers(l)||s.hasText(l))&&(g("marker.maxdisplayed"),d.push("points")),g("fill"),l.fill!=="none"&&(r(n,l,u,g),s.hasLines(l)||v(n,l,g)),(l.fill==="tonext"||l.fill==="toself")&&d.push("fills");var x=g("hoveron",d.join("+")||"points");x!=="fills"&&g("hovertemplate"),g("zorder"),b.coerceSelectionMarkerOpacity(l,g)}},89307:function(Y){Y.exports=function(e,b,P,s,L){var M=s[L];return e.a=M.a,e.b=M.b,e.y=M.y,e}},52364:function(Y){Y.exports=function(e,b){var P={},s=b._carpet,L=s.ab2ij([e.a,e.b]),M=Math.floor(L[0]),v=L[0]-M,p=Math.floor(L[1]),r=L[1]-p,t=s.evalxy([],M,p,v,r);return P.yLabel=t[1].toFixed(3),P}},58960:function(Y,V,e){var b=e(98723),P=e(3400).fillText;Y.exports=function(L,M,v,p){var r=b(L,M,v,p);if(!r||r[0].index===!1)return;var t=r[0];if(t.index===void 0){var o=1-t.y0/L.ya._length,n=L.xa._length,l=n*o/2,u=n-l;return t.x0=Math.max(Math.min(t.x0,u),l),t.x1=Math.max(Math.min(t.x1,u),l),r}var f=t.cd[t.index];t.a=f.a,t.b=f.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var g=t.trace,h=g._carpet,w=g._module.formatLabels(f,g);t.yLabel=w.yLabel,delete t.text;var c=[];function a(T,C){var y;T.labelprefix&&T.labelprefix.length>0?y=T.labelprefix.replace(/ = $/,""):y=T._hovertitle,c.push(y+": "+C.toFixed(3)+T.labelsuffix)}if(!g.hovertemplate){var d=f.hi||g.hoverinfo,x=d.split("+");x.indexOf("all")!==-1&&(x=["a","b","text"]),x.indexOf("a")!==-1&&a(h.aaxis,f.a),x.indexOf("b")!==-1&&a(h.baxis,f.b),c.push("y: "+t.yLabel),x.indexOf("text")!==-1&&P(f,g,c),t.extraText=c.join("<br>")}return r}},4184:function(Y,V,e){Y.exports={attributes:e(90372),supplyDefaults:e(6176),colorbar:e(5528),formatLabels:e(52364),calc:e(48228),plot:e(20036),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(58960),selectPoints:e(91560),eventData:e(89307),moduleType:"trace",name:"scattercarpet",basePlotModule:e(57952),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},20036:function(Y,V,e){var b=e(96504),P=e(54460),s=e(43616);Y.exports=function(M,v,p,r){var t,o,n,l=p[0][0].carpet,u=P.getFromId(M,l.xaxis||"x"),f=P.getFromId(M,l.yaxis||"y"),g={xaxis:u,yaxis:f,plot:v.plot};for(t=0;t<p.length;t++)o=p[t][0].trace,o._xA=u,o._yA=f;for(b(M,g,p,r),t=0;t<p.length;t++)o=p[t][0].trace,n=r.selectAll("g.trace"+o.uid+" .js-line"),s.setClipUrl(n,p[t][0].carpet._clipPathId,M)}},6096:function(Y,V,e){var b=e(21776).Ks,P=e(21776).Gw,s=e(98304),L=e(52904),M=e(45464),v=e(49084),p=e(98192).u,r=e(92880).extendFlat,t=e(67824).overrideAll,o=L.marker,n=L.line,l=o.line;Y.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:r({},L.mode,{dflt:"markers"}),text:r({},L.text,{}),texttemplate:P({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:r({},L.hovertext,{}),textfont:L.textfont,textposition:L.textposition,line:{color:n.color,width:n.width,dash:p},connectgaps:L.connectgaps,marker:r({symbol:o.symbol,opacity:o.opacity,angle:o.angle,angleref:r({},o.angleref,{values:["previous","up","north"]}),standoff:o.standoff,size:o.size,sizeref:o.sizeref,sizemin:o.sizemin,sizemode:o.sizemode,colorbar:o.colorbar,line:r({width:l.width},v("marker.line")),gradient:o.gradient},v("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:s(),selected:L.selected,unselected:L.unselected,hoverinfo:r({},M.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:b()},"calc","nested")},25212:function(Y,V,e){var b=e(38248),P=e(39032).BADNUM,s=e(90136),L=e(20148),M=e(4500),v=e(3400).isArrayOrTypedArray,p=e(3400)._;function r(t){return t&&typeof t=="string"}Y.exports=function(o,n){var l=v(n.locations),u=l?n.locations.length:n._length,f=new Array(u),g;n.geojson?g=function(x){return r(x)||b(x)}:g=r;for(var h=0;h<u;h++){var w=f[h]={};if(l){var c=n.locations[h];w.loc=g(c)?c:null}else{var a=n.lon[h],d=n.lat[h];b(a)&&b(d)?w.lonlat=[+a,+d]:w.lonlat=[P,P]}}return L(f,n),s(o,n),M(f,n),u&&(f[0].t={labels:{lat:p(o,"lat:")+" ",lon:p(o,"lon:")+" "}}),f}},86188:function(Y,V,e){var b=e(3400),P=e(43028),s=e(74428),L=e(66828),M=e(124),v=e(70840),p=e(6096);Y.exports=function(t,o,n,l){function u(x,T){return b.coerce(t,o,p,x,T)}var f=u("locations"),g;if(f&&f.length){var h=u("geojson"),w;(typeof h=="string"&&h!==""||b.isPlainObject(h))&&(w="geojson-id");var c=u("locationmode",w);c==="geojson-id"&&u("featureidkey"),g=f.length}else{var a=u("lon")||[],d=u("lat")||[];g=Math.min(a.length,d.length)}if(!g){o.visible=!1;return}o._length=g,u("text"),u("hovertext"),u("hovertemplate"),u("mode"),P.hasMarkers(o)&&s(t,o,n,l,u,{gradient:!0}),P.hasLines(o)&&(L(t,o,n,l,u),u("connectgaps")),P.hasText(o)&&(u("texttemplate"),M(t,o,l,u)),u("fill"),o.fill!=="none"&&v(t,o,n,u),b.coerceSelectionMarkerOpacity(o,u)}},58544:function(Y){Y.exports=function(e,b,P,s,L){e.lon=b.lon,e.lat=b.lat,e.location=b.loc?b.loc:null;var M=s[L];return M.fIn&&M.fIn.properties&&(e.properties=M.fIn.properties),e}},56696:function(Y,V,e){var b=e(54460);Y.exports=function(s,L,M){var v={},p=M[L.geo]._subplot,r=p.mockAxis,t=s.lonlat;return v.lonLabel=b.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=b.tickText(r,r.c2l(t[1]),!0).text,v}},64292:function(Y,V,e){var b=e(93024),P=e(39032).BADNUM,s=e(44928),L=e(3400).fillText,M=e(6096);Y.exports=function(r,t,o){var n=r.cd,l=n[0].trace,u=r.xa,f=r.ya,g=r.subplot,h=g.projection.isLonLatOverEdges,w=g.project;function c(S){var A=S.lonlat;if(A[0]===P||h(A))return 1/0;var i=w(A),E=w([t,o]),m=Math.abs(i[0]-E[0]),k=Math.abs(i[1]-E[1]),I=Math.max(3,S.mrc||0);return Math.max(Math.sqrt(m*m+k*k)-I,1-3/I)}if(b.getClosest(n,c,r),r.index!==!1){var a=n[r.index],d=a.lonlat,x=[u.c2p(d),f.c2p(d)],T=a.mrc||1;r.x0=x[0]-T,r.x1=x[0]+T,r.y0=x[1]-T,r.y1=x[1]+T,r.loc=a.loc,r.lon=d[0],r.lat=d[1];var C={};C[l.geo]={_subplot:g};var y=l._module.formatLabels(a,l,C);return r.lonLabel=y.lonLabel,r.latLabel=y.latLabel,r.color=s(l,a),r.extraText=v(l,a,r,n[0].t.labels),r.hovertemplate=l.hovertemplate,[r]}};function v(p,r,t,o){if(p.hovertemplate)return;var n=r.hi||p.hoverinfo,l=n==="all"?M.hoverinfo.flags:n.split("+"),u=l.indexOf("location")!==-1&&Array.isArray(p.locations),f=l.indexOf("lon")!==-1,g=l.indexOf("lat")!==-1,h=l.indexOf("text")!==-1,w=[];function c(a){return a+"°"}return u?w.push(r.loc):f&&g?w.push("("+c(t.latLabel)+", "+c(t.lonLabel)+")"):f?w.push(o.lon+c(t.lonLabel)):g&&w.push(o.lat+c(t.latLabel)),h&&L(r,p,w),w.join("<br>")}},36952:function(Y,V,e){Y.exports={attributes:e(6096),supplyDefaults:e(86188),colorbar:e(5528),formatLabels:e(56696),calc:e(25212),calcGeoJSON:e(48691).calcGeoJSON,plot:e(48691).plot,style:e(25064),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(64292),eventData:e(58544),selectPoints:e(8796),moduleType:"trace",name:"scattergeo",basePlotModule:e(10816),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},48691:function(Y,V,e){var b=e(33428),P=e(3400),s=e(59972).getTopojsonFeatures,L=e(44808),M=e(27144),v=e(19280).findExtremes,p=e(39032).BADNUM,r=e(16356).calcMarkerSize,t=e(43028),o=e(25064);function n(u,f,g){var h=f.layers.frontplot.select(".scatterlayer"),w=P.makeTraceGroups(h,g,"trace scattergeo");function c(a,d){a.lonlat[0]===p&&b.select(d).remove()}w.selectAll("*").remove(),w.each(function(a){var d=b.select(this),x=a[0].trace;if(t.hasLines(x)||x.fill!=="none"){var T=L.calcTraceToLineCoords(a),C=x.fill!=="none"?L.makePolygon(T):L.makeLine(T);d.selectAll("path.js-line").data([{geojson:C,trace:x}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}t.hasMarkers(x)&&d.selectAll("path.point").data(P.identity).enter().append("path").classed("point",!0).each(function(y){c(y,this)}),t.hasText(x)&&d.selectAll("g").data(P.identity).enter().append("g").append("text").each(function(y){c(y,this)}),o(u,a)})}function l(u,f){var g=u[0].trace,h=f[g.geo],w=h._subplot,c=g._length,a,d;if(P.isArrayOrTypedArray(g.locations)){var x=g.locationmode,T=x==="geojson-id"?M.extractTraceFeature(u):s(g,w.topojson);for(a=0;a<c;a++){d=u[a];var C=x==="geojson-id"?d.fOut:M.locationToFeature(x,d.loc,T);d.lonlat=C?C.properties.ct:[p,p]}}var y={padded:!0},S,A;if(h.fitbounds==="geojson"&&g.locationmode==="geojson-id"){var i=M.computeBbox(M.getTraceGeojson(g));S=[i[0],i[2]],A=[i[1],i[3]]}else{for(S=new Array(c),A=new Array(c),a=0;a<c;a++)d=u[a],S[a]=d.lonlat[0],A[a]=d.lonlat[1];y.ppad=r(g,c)}g._extremes.lon=v(h.lonaxis._ax,S,y),g._extremes.lat=v(h.lataxis._ax,A,y)}Y.exports={calcGeoJSON:l,plot:n}},8796:function(Y,V,e){var b=e(43028),P=e(39032).BADNUM;Y.exports=function(L,M){var v=L.cd,p=L.xaxis,r=L.yaxis,t=[],o=v[0].trace,n,l,u,f,g,h=!b.hasMarkers(o)&&!b.hasText(o);if(h)return[];if(M===!1)for(g=0;g<v.length;g++)v[g].selected=0;else for(g=0;g<v.length;g++)n=v[g],l=n.lonlat,l[0]!==P&&(u=p.c2p(l),f=r.c2p(l),M.contains([u,f],null,g,L)?(t.push({pointNumber:g,lon:l[0],lat:l[1]}),n.selected=1):n.selected=0);return t}},25064:function(Y,V,e){var b=e(33428),P=e(43616),s=e(76308),L=e(49224),M=L.stylePoints,v=L.styleText;Y.exports=function(t,o){o&&p(t,o)};function p(r,t){var o=t[0].trace,n=t[0].node3;n.style("opacity",t[0].trace.opacity),M(n,o,r),v(n,o,r),n.selectAll("path.js-line").style("fill","none").each(function(l){var u=b.select(this),f=l.trace,g=f.line||{};u.call(s.stroke,g.color).call(P.dashLine,g.dash||"",g.width||0),f.fill!=="none"&&u.call(s.fill,f.fillcolor)})}},2876:function(Y,V,e){var b=e(45464),P=e(25376),s=e(98304),L=e(52904),M=e(29736).axisHoverFormat,v=e(49084),p=e(95376),r=e(92880).extendFlat,t=e(67824).overrideAll,o=e(67072).DASHES,n=L.line,l=L.marker,u=l.line,f=Y.exports=t({x:L.x,x0:L.x0,dx:L.dx,y:L.y,y0:L.y0,dy:L.dy,xperiod:L.xperiod,yperiod:L.yperiod,xperiod0:L.xperiod0,yperiod0:L.yperiod0,xperiodalignment:L.xperiodalignment,yperiodalignment:L.yperiodalignment,xhoverformat:M("x"),yhoverformat:M("y"),text:L.text,hovertext:L.hovertext,textposition:L.textposition,textfont:P({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,noNumericWeightValues:!0,variantValues:["normal","small-caps"]}),mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:n.color,width:n.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:p(o),dflt:"solid"}},marker:r({},v("marker"),{symbol:l.symbol,angle:l.angle,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode,opacity:l.opacity,colorbar:l.colorbar,line:r({},v("marker.line"),{width:u.width})}),connectgaps:L.connectgaps,fill:r({},L.fill,{dflt:"none"}),fillcolor:s(),selected:{marker:L.selected.marker,textfont:L.selected.textfont},unselected:{marker:L.unselected.marker,textfont:L.unselected.textfont},opacity:b.opacity},"calc","nested");f.x.editType=f.y.editType=f.x0.editType=f.y0.editType="calc+clearAxisTypes",f.hovertemplate=L.hovertemplate,f.texttemplate=L.texttemplate},64628:function(Y,V,e){var b=e(41272);Y.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(57952),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(2876),supplyDefaults:e(80220),crossTraceDefaults:e(35036),colorbar:e(5528),formatLabels:e(99396),calc:e(24856),hoverPoints:b.hoverPoints,selectPoints:e(73224),meta:{}}},24856:function(Y,V,e){var b=e(3108),P=e(3400),s=e(79811),L=e(19280).findExtremes,M=e(1220),v=e(16356),p=v.calcMarkerSize,r=v.calcAxisExpansion,t=v.setFirstScatter,o=e(90136),n=e(84236),l=e(74588),u=e(39032).BADNUM,f=e(67072).TOO_MANY_POINTS;Y.exports=function(c,a){var d=c._fullLayout,x=a._xA=s.getFromId(c,a.xaxis,"x"),T=a._yA=s.getFromId(c,a.yaxis,"y"),C=d._plots[a.xaxis+a.yaxis],y=a._length,S=y>=f,A=y*2,i={},E,m=x.makeCalcdata(a,"x"),k=T.makeCalcdata(a,"y"),I=M(a,x,"x",m),O=M(a,T,"y",k),_=I.vals,B=O.vals;a._x=_,a._y=B,a.xperiodalignment&&(a._origX=m,a._xStarts=I.starts,a._xEnds=I.ends),a.yperiodalignment&&(a._origY=k,a._yStarts=O.starts,a._yEnds=O.ends);var F=new Array(A),z=new Array(y);for(E=0;E<y;E++)F[E*2]=_[E]===u?NaN:_[E],F[E*2+1]=B[E]===u?NaN:B[E],z[E]=E;if(x.type==="log")for(E=0;E<A;E+=2)F[E]=x.c2l(F[E]);if(T.type==="log")for(E=1;E<A;E+=2)F[E]=T.c2l(F[E]);S&&x.type!=="log"&&T.type!=="log"?i.tree=b(F):i.ids=z,o(c,a);var N=h(c,C,a,F,_,B),W=l(c,C);t(d,a);var Z;return S?N.marker&&(Z=N.marker.sizeAvg||Math.max(N.marker.size,3)):Z=p(a,y),r(c,a,x,T,_,B,Z),N.errorX&&g(a,x,N.errorX),N.errorY&&g(a,T,N.errorY),N.fill&&!W.fill2d&&(W.fill2d=!0),N.marker&&!W.scatter2d&&(W.scatter2d=!0),N.line&&!W.line2d&&(W.line2d=!0),(N.errorX||N.errorY)&&!W.error2d&&(W.error2d=!0),N.text&&!W.glText&&(W.glText=!0),N.marker&&(N.marker.snap=y),W.lineOptions.push(N.line),W.errorXOptions.push(N.errorX),W.errorYOptions.push(N.errorY),W.fillOptions.push(N.fill),W.markerOptions.push(N.marker),W.markerSelectedOptions.push(N.markerSel),W.markerUnselectedOptions.push(N.markerUnsel),W.textOptions.push(N.text),W.textSelectedOptions.push(N.textSel),W.textUnselectedOptions.push(N.textUnsel),W.selectBatch.push([]),W.unselectBatch.push([]),i._scene=W,i.index=W.count,i.x=_,i.y=B,i.positions=F,W.count++,[{x:!1,y:!1,t:i,trace:a}]};function g(w,c,a){var d=w._extremes[c._id],x=L(c,a._bnds,{padded:!0});d.min=d.min.concat(x.min),d.max=d.max.concat(x.max)}function h(w,c,a,d,x,T){var C=n.style(w,a);if(C.marker&&(C.marker.positions=d),C.line&&d.length>1&&P.extendFlat(C.line,n.linePositions(w,a,d)),C.errorX||C.errorY){var y=n.errorBarPositions(w,a,d,x,T);C.errorX&&P.extendFlat(C.errorX,y.x),C.errorY&&P.extendFlat(C.errorY,y.y)}return C.text&&(P.extendFlat(C.text,{positions:d},n.textPosition(w,a,C.text,C.marker)),P.extendFlat(C.textSel,{positions:d},n.textPosition(w,a,C.text,C.markerSel)),P.extendFlat(C.textUnsel,{positions:d},n.textPosition(w,a,C.text,C.markerUnsel))),C}},67072:function(Y){var V=20;Y.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:V,SYMBOL_STROKE:V/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},84236:function(Y,V,e){var b=e(38248),P=e(20472),s=e(72160),L=e(24040),M=e(3400),v=M.isArrayOrTypedArray,p=e(43616),r=e(79811),t=e(33040).formatColor,o=e(43028),n=e(7152),l=e(80088),u=e(67072),f=e(13448).DESELECTDIM,g={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},h=e(10624).appendArrayPointValue;function w(_,B){var F,z={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},N=_._context.plotGlPixelRatio;if(B.visible!==!0)return z;if(o.hasText(B)&&(z.text=c(_,B),z.textSel=T(_,B,B.selected),z.textUnsel=T(_,B,B.unselected)),o.hasMarkers(B)&&(z.marker=d(_,B),z.markerSel=x(_,B,B.selected),z.markerUnsel=x(_,B,B.unselected),!B.unselected&&v(B.marker.opacity))){var W=B.marker.opacity;for(z.markerUnsel.opacity=new Array(W.length),F=0;F<W.length;F++)z.markerUnsel.opacity[F]=f*W[F]}if(o.hasLines(B)){z.line={overlay:!0,thickness:B.line.width*N,color:B.line.color,opacity:B.opacity};var Z=(u.DASHES[B.line.dash]||[1]).slice();for(F=0;F<Z.length;++F)Z[F]*=B.line.width*N;z.line.dashes=Z}return B.error_x&&B.error_x.visible&&(z.errorX=C(B,B.error_x,N)),B.error_y&&B.error_y.visible&&(z.errorY=C(B,B.error_y,N)),B.fill&&B.fill!=="none"&&(z.fill={closed:!0,fill:B.fillcolor,thickness:0}),z}function c(_,B){var F=_._fullLayout,z=B._length,N=B.textfont,W=B.textposition,Z=v(W)?W:[W],q=N.color,re=N.size,le=N.family,ie=N.weight,K=N.style,$=N.variant,X={},Q,se=_._context.plotGlPixelRatio,J=B.texttemplate;if(J){X.text=[];var G=F._d3locale,oe=Array.isArray(J),te=oe?Math.min(J.length,z):z,fe=oe?function(Te){return J[Te]}:function(){return J};for(Q=0;Q<te;Q++){var ge={i:Q},we=B._module.formatLabels(ge,B,F),xe={};h(xe,B,Q);var Ce=B._meta||{};X.text.push(M.texttemplateString(fe(Q),we,G,xe,ge,Ce))}}else v(B.text)&&B.text.length<z?X.text=B.text.slice():X.text=B.text;if(v(X.text))for(Q=X.text.length;Q<z;Q++)X.text[Q]="";for(X.opacity=B.opacity,X.font={},X.align=[],X.baseline=[],Q=0;Q<Z.length;Q++){var De=Z[Q].split(/\s+/);switch(De[1]){case"left":X.align.push("right");break;case"right":X.align.push("left");break;default:X.align.push(De[1])}switch(De[0]){case"top":X.baseline.push("bottom");break;case"bottom":X.baseline.push("top");break;default:X.baseline.push(De[0])}}if(v(q))for(X.color=new Array(z),Q=0;Q<z;Q++)X.color[Q]=q[Q];else X.color=q;if(v(re)||Array.isArray(le)||v(ie)||Array.isArray(K)||Array.isArray($))for(X.font=new Array(z),Q=0;Q<z;Q++){var Oe=X.font[Q]={};Oe.size=(M.isTypedArray(re)?re[Q]:v(re)?b(re[Q])?re[Q]:0:re)*se,Oe.family=Array.isArray(le)?le[Q]:le,Oe.weight=a(v(ie)?ie[Q]:ie),Oe.style=Array.isArray(K)?K[Q]:K,Oe.variant=Array.isArray($)?$[Q]:$}else X.font={size:re*se,family:le,weight:a(ie),style:K,variant:$};return X}function a(_){return _<=1e3?_>500?"bold":"normal":_}function d(_,B){var F=B._length,z=B.marker,N={},W,Z=v(z.symbol),q=v(z.angle),re=v(z.color),le=v(z.line.color),ie=v(z.opacity),K=v(z.size),$=v(z.line.width),X;if(Z||(X=l.isOpenSymbol(z.symbol)),Z||re||le||ie||q){N.symbols=new Array(F),N.angles=new Array(F),N.colors=new Array(F),N.borderColors=new Array(F);var Q=z.symbol,se=z.angle,J=t(z,z.opacity,F),G=t(z.line,z.opacity,F);if(!v(G[0])){var oe=G;for(G=Array(F),W=0;W<F;W++)G[W]=oe}if(!v(J[0])){var te=J;for(J=Array(F),W=0;W<F;W++)J[W]=te}if(!v(Q)){var fe=Q;for(Q=Array(F),W=0;W<F;W++)Q[W]=fe}if(!v(se)){var ge=se;for(se=Array(F),W=0;W<F;W++)se[W]=ge}for(N.symbols=Q,N.angles=se,N.colors=J,N.borderColors=G,W=0;W<F;W++)Z&&(X=l.isOpenSymbol(z.symbol[W])),X&&(G[W]=J[W].slice(),J[W]=J[W].slice(),J[W][3]=0);for(N.opacity=B.opacity,N.markers=new Array(F),W=0;W<F;W++)N.markers[W]=m({mx:N.symbols[W],ma:N.angles[W]},B)}else X?(N.color=s(z.color,"uint8"),N.color[3]=0,N.borderColor=s(z.color,"uint8")):(N.color=s(z.color,"uint8"),N.borderColor=s(z.line.color,"uint8")),N.opacity=B.opacity*z.opacity,N.marker=m({mx:z.symbol,ma:z.angle},B);var we=1,xe=n(B,we),Ce;if(K||$){var De=N.sizes=new Array(F),Oe=N.borderSizes=new Array(F),Te=0,Re;if(K){for(W=0;W<F;W++)De[W]=xe(z.size[W]),Te+=De[W];Re=Te/F}else for(Ce=xe(z.size),W=0;W<F;W++)De[W]=Ce;if($)for(W=0;W<F;W++)Oe[W]=z.line.width[W];else for(Ce=z.line.width,W=0;W<F;W++)Oe[W]=Ce;N.sizeAvg=Re}else N.size=xe(z&&z.size||10),N.borderSizes=xe(z.line.width);return N}function x(_,B,F){var z=B.marker,N={};return F&&(F.marker&&F.marker.symbol?N=d(_,M.extendFlat({},z,F.marker)):F.marker&&(F.marker.size&&(N.size=F.marker.size),F.marker.color&&(N.colors=F.marker.color),F.marker.opacity!==void 0&&(N.opacity=F.marker.opacity))),N}function T(_,B,F){var z={};if(!F)return z;if(F.textfont){var N={opacity:1,text:B.text,texttemplate:B.texttemplate,textposition:B.textposition,textfont:M.extendFlat({},B.textfont)};F.textfont&&M.extendFlat(N.textfont,F.textfont),z=c(_,N)}return z}function C(_,B,F){var z={capSize:B.width*2*F,lineWidth:B.thickness*F,color:B.color};return B.copy_ystyle&&(z=_.error_y),z}var y=u.SYMBOL_SDF_SIZE,S=u.SYMBOL_SIZE,A=u.SYMBOL_STROKE,i={},E=p.symbolFuncs[0](S*.05);function m(_,B){var F=_.mx;if(F==="circle")return null;var z,N,W=p.symbolNumber(F),Z=p.symbolFuncs[W%100],q=!!p.symbolNoDot[W%100],re=!!p.symbolNoFill[W%100],le=l.isDotSymbol(F);if(_.ma&&(F+="_"+_.ma),i[F])return i[F];var ie=p.getMarkerAngle(_,B);return le&&!q?z=Z(S*1.1,ie)+E:z=Z(S,ie),N=P(z,{w:y,h:y,viewBox:[-S,-S,S,S],stroke:re?A:-A}),i[F]=N,N||null}function k(_,B,F){var z=F.length,N=z/2,W,Z;if(o.hasLines(B)&&N)if(B.line.shape==="hv"){for(W=[],Z=0;Z<N-1;Z++)isNaN(F[Z*2])||isNaN(F[Z*2+1])?W.push(NaN,NaN,NaN,NaN):(W.push(F[Z*2],F[Z*2+1]),!isNaN(F[Z*2+2])&&!isNaN(F[Z*2+3])?W.push(F[Z*2+2],F[Z*2+1]):W.push(NaN,NaN));W.push(F[z-2],F[z-1])}else if(B.line.shape==="hvh"){for(W=[],Z=0;Z<N-1;Z++)if(isNaN(F[Z*2])||isNaN(F[Z*2+1])||isNaN(F[Z*2+2])||isNaN(F[Z*2+3]))!isNaN(F[Z*2])&&!isNaN(F[Z*2+1])?W.push(F[Z*2],F[Z*2+1]):W.push(NaN,NaN),W.push(NaN,NaN);else{var q=(F[Z*2]+F[Z*2+2])/2;W.push(F[Z*2],F[Z*2+1],q,F[Z*2+1],q,F[Z*2+3])}W.push(F[z-2],F[z-1])}else if(B.line.shape==="vhv"){for(W=[],Z=0;Z<N-1;Z++)if(isNaN(F[Z*2])||isNaN(F[Z*2+1])||isNaN(F[Z*2+2])||isNaN(F[Z*2+3]))!isNaN(F[Z*2])&&!isNaN(F[Z*2+1])?W.push(F[Z*2],F[Z*2+1]):W.push(NaN,NaN),W.push(NaN,NaN);else{var re=(F[Z*2+1]+F[Z*2+3])/2;W.push(F[Z*2],F[Z*2+1],F[Z*2],re,F[Z*2+2],re)}W.push(F[z-2],F[z-1])}else if(B.line.shape==="vh"){for(W=[],Z=0;Z<N-1;Z++)isNaN(F[Z*2])||isNaN(F[Z*2+1])?W.push(NaN,NaN,NaN,NaN):(W.push(F[Z*2],F[Z*2+1]),!isNaN(F[Z*2+2])&&!isNaN(F[Z*2+3])?W.push(F[Z*2],F[Z*2+3]):W.push(NaN,NaN));W.push(F[z-2],F[z-1])}else W=F;var le=!1;for(Z=0;Z<W.length;Z++)if(isNaN(W[Z])){le=!0;break}var ie=le||W.length>u.TOO_MANY_POINTS||o.hasMarkers(B)?"rect":"round";if(le&&B.connectgaps){var K=W[0],$=W[1];for(Z=0;Z<W.length;Z+=2)isNaN(W[Z])||isNaN(W[Z+1])?(W[Z]=K,W[Z+1]=$):(K=W[Z],$=W[Z+1])}return{join:ie,positions:W}}function I(_,B,F,z,N){var W=L.getComponentMethod("errorbars","makeComputeError"),Z=r.getFromId(_,B.xaxis,"x"),q=r.getFromId(_,B.yaxis,"y"),re=F.length/2,le={};function ie(K,$){var X=$._id.charAt(0),Q=B["error_"+X];if(Q&&Q.visible&&($.type==="linear"||$.type==="log")){for(var se=W(Q),J={x:0,y:1}[X],G={x:[0,1,2,3],y:[2,3,0,1]}[X],oe=new Float64Array(4*re),te=1/0,fe=-1/0,ge=0,we=0;ge<re;ge++,we+=4){var xe=K[ge];if(b(xe)){var Ce=F[ge*2+J],De=se(xe,ge),Oe=De[0],Te=De[1];if(b(Oe)&&b(Te)){var Re=xe-Oe,Me=xe+Te;oe[we+G[0]]=Ce-$.c2l(Re),oe[we+G[1]]=$.c2l(Me)-Ce,oe[we+G[2]]=0,oe[we+G[3]]=0,te=Math.min(te,xe-Oe),fe=Math.max(fe,xe+Te)}}}le[X]={positions:F,errors:oe,_bnds:[te,fe]}}}return ie(z,Z),ie(N,q),le}function O(_,B,F,z){var N=B._length,W={},Z;if(o.hasMarkers(B)){var q=F.font,re=F.align,le=F.baseline;for(W.offset=new Array(N),Z=0;Z<N;Z++){var ie=z.sizes?z.sizes[Z]:z.size,K=v(q)?q[Z].size:q.size,$=v(re)?re.length>1?re[Z]:re[0]:re,X=v(le)?le.length>1?le[Z]:le[0]:le,Q=g[$],se=g[X],J=ie?ie/.8+1:0,G=-se*J-se*.5;W.offset[Z]=[Q*J/K,G/K]}}return W}Y.exports={style:w,markerStyle:d,markerSelection:x,linePositions:k,errorBarPositions:I,textPosition:O}},80220:function(Y,V,e){var b=e(3400),P=e(24040),s=e(80088),L=e(2876),M=e(88200),v=e(43028),p=e(43980),r=e(31147),t=e(74428),o=e(66828),n=e(70840),l=e(124);Y.exports=function(f,g,h,w){function c(A,i){return b.coerce(f,g,L,A,i)}var a=f.marker?s.isOpenSymbol(f.marker.symbol):!1,d=v.isBubble(f),x=p(f,g,w,c);if(!x){g.visible=!1;return}r(f,g,w,c),c("xhoverformat"),c("yhoverformat");var T=x<M.PTS_LINESONLY?"lines+markers":"lines";c("text"),c("hovertext"),c("hovertemplate"),c("mode",T),v.hasMarkers(g)&&(t(f,g,h,w,c,{noAngleRef:!0,noStandOff:!0}),c("marker.line.width",a||d?1:0)),v.hasLines(g)&&(c("connectgaps"),o(f,g,h,w,c),c("line.shape")),v.hasText(g)&&(c("texttemplate"),l(f,g,w,c,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var C=(g.line||{}).color,y=(g.marker||{}).color;c("fill"),g.fill!=="none"&&n(f,g,h,c);var S=P.getComponentMethod("errorbars","supplyDefaults");S(f,g,C||y||h,{axis:"y"}),S(f,g,C||y||h,{axis:"x",inherit:"y"}),b.coerceSelectionMarkerOpacity(g,c)}},26768:function(Y,V,e){var b=e(3400),P=e(76308),s=e(13448).DESELECTDIM;function L(M){var v=M[0],p=v.trace,r=v.t,t=r._scene,o=r.index,n=t.selectBatch[o],l=t.unselectBatch[o],u=t.textOptions[o],f=t.textSelectedOptions[o]||{},g=t.textUnselectedOptions[o]||{},h=b.extendFlat({},u),w,c;if(n.length||l.length){var a=f.color,d=g.color,x=u.color,T=b.isArrayOrTypedArray(x);for(h.color=new Array(p._length),w=0;w<n.length;w++)c=n[w],h.color[c]=a||(T?x[c]:x);for(w=0;w<l.length;w++){c=l[w];var C=T?x[c]:x;h.color[c]=d||(a?C:P.addOpacity(C,s))}}t.glText[o].update(h)}Y.exports={styleTextSelection:L}},99396:function(Y,V,e){var b=e(76688);Y.exports=function(s,L,M){var v=s.i;return"x"in s||(s.x=L._x[v]),"y"in s||(s.y=L._y[v]),b(s,L,M)}},80088:function(Y,V,e){var b=e(67072);V.isOpenSymbol=function(P){return typeof P=="string"?b.OPEN_RE.test(P):P%200>100},V.isDotSymbol=function(P){return typeof P=="string"?b.DOT_RE.test(P):P>200}},41272:function(Y,V,e){var b=e(24040),P=e(3400),s=e(44928);function L(v,p,r,t){var o=v.cd,n=o[0].t,l=o[0].trace,u=v.xa,f=v.ya,g=n.x,h=n.y,w=u.c2p(p),c=f.c2p(r),a=v.distance,d;if(n.tree){var x=u.p2c(w-a),T=u.p2c(w+a),C=f.p2c(c-a),y=f.p2c(c+a);t==="x"?d=n.tree.range(Math.min(x,T),Math.min(f._rl[0],f._rl[1]),Math.max(x,T),Math.max(f._rl[0],f._rl[1])):d=n.tree.range(Math.min(x,T),Math.min(C,y),Math.max(x,T),Math.max(C,y))}else d=n.ids;var S,A,i,E,m,k,I,O,_,B=a;if(t==="x"){var F=!!l.xperiodalignment,z=!!l.yperiodalignment;for(m=0;m<d.length;m++){if(S=d[m],i=g[S],k=Math.abs(u.c2p(i)-w),F){var N=u.c2p(l._xStarts[S]),W=u.c2p(l._xEnds[S]);k=w>=Math.min(N,W)&&w<=Math.max(N,W)?0:1/0}if(k<B){if(B=k,E=h[S],I=f.c2p(E)-c,z){var Z=f.c2p(l._yStarts[S]),q=f.c2p(l._yEnds[S]);I=c>=Math.min(Z,q)&&c<=Math.max(Z,q)?0:1/0}_=Math.sqrt(k*k+I*I),A=d[m]}}}else for(m=d.length-1;m>-1;m--)S=d[m],i=g[S],E=h[S],k=u.c2p(i)-w,I=f.c2p(E)-c,O=Math.sqrt(k*k+I*I),O<B&&(B=_=O,A=S);return v.index=A,v.distance=B,v.dxy=_,A===void 0?[v]:[M(v,g,h,l)]}function M(v,p,r,t){var o=v.xa,n=v.ya,l=v.distance,u=v.dxy,f=v.index,g={pointNumber:f,x:p[f],y:r[f]};g.tx=P.isArrayOrTypedArray(t.text)?t.text[f]:t.text,g.htx=Array.isArray(t.hovertext)?t.hovertext[f]:t.hovertext,g.data=Array.isArray(t.customdata)?t.customdata[f]:t.customdata,g.tp=Array.isArray(t.textposition)?t.textposition[f]:t.textposition;var h=t.textfont;h&&(g.ts=P.isArrayOrTypedArray(h.size)?h.size[f]:h.size,g.tc=P.isArrayOrTypedArray(h.color)?h.color[f]:h.color,g.tf=Array.isArray(h.family)?h.family[f]:h.family,g.tw=Array.isArray(h.weight)?h.weight[f]:h.weight,g.ty=Array.isArray(h.style)?h.style[f]:h.style,g.tv=Array.isArray(h.variant)?h.variant[f]:h.variant);var w=t.marker;w&&(g.ms=P.isArrayOrTypedArray(w.size)?w.size[f]:w.size,g.mo=P.isArrayOrTypedArray(w.opacity)?w.opacity[f]:w.opacity,g.mx=P.isArrayOrTypedArray(w.symbol)?w.symbol[f]:w.symbol,g.ma=P.isArrayOrTypedArray(w.angle)?w.angle[f]:w.angle,g.mc=P.isArrayOrTypedArray(w.color)?w.color[f]:w.color);var c=w&&w.line;c&&(g.mlc=Array.isArray(c.color)?c.color[f]:c.color,g.mlw=P.isArrayOrTypedArray(c.width)?c.width[f]:c.width);var a=w&&w.gradient;a&&a.type!=="none"&&(g.mgt=Array.isArray(a.type)?a.type[f]:a.type,g.mgc=Array.isArray(a.color)?a.color[f]:a.color);var d=o.c2p(g.x,!0),x=n.c2p(g.y,!0),T=g.mrc||1,C=t.hoverlabel;C&&(g.hbg=Array.isArray(C.bgcolor)?C.bgcolor[f]:C.bgcolor,g.hbc=Array.isArray(C.bordercolor)?C.bordercolor[f]:C.bordercolor,g.hts=P.isArrayOrTypedArray(C.font.size)?C.font.size[f]:C.font.size,g.htc=Array.isArray(C.font.color)?C.font.color[f]:C.font.color,g.htf=Array.isArray(C.font.family)?C.font.family[f]:C.font.family,g.hnl=P.isArrayOrTypedArray(C.namelength)?C.namelength[f]:C.namelength);var y=t.hoverinfo;y&&(g.hi=Array.isArray(y)?y[f]:y);var S=t.hovertemplate;S&&(g.ht=Array.isArray(S)?S[f]:S);var A={};A[v.index]=g;var i=t._origX,E=t._origY,m=P.extendFlat({},v,{color:s(t,g),x0:d-T,x1:d+T,xLabelVal:i?i[f]:g.x,y0:x-T,y1:x+T,yLabelVal:E?E[f]:g.y,cd:A,distance:l,spikeDistance:u,hovertemplate:g.ht});return g.htx?m.text=g.htx:g.tx?m.text=g.tx:t.text&&(m.text=t.text),P.fillText(g,t,m),b.getComponentMethod("errorbars","hoverInfo")(g,t,m),m}Y.exports={hoverPoints:L,calcHover:M}},38983:function(Y,V,e){var b=e(64628);b.plot=e(89876),Y.exports=b},89876:function(Y,V,e){var b=e(38540),P=e(13472),s=e(24544),L=e(23352),M=e(3400),v=e(72760).selectMode,p=e(5048),r=e(43028),t=e(14328),o=e(26768).styleTextSelection,n={};function l(f,g,h,w){var c=f._size,a=f.width*w,d=f.height*w,x=c.l*w,T=c.b*w,C=c.r*w,y=c.t*w,S=c.w*w,A=c.h*w;return[x+g.domain[0]*S,T+h.domain[0]*A,a-C-(1-g.domain[1])*S,d-y-(1-h.domain[1])*A]}var u=Y.exports=function(g,h,w){if(w.length){var c=g._fullLayout,a=h._scene,d=h.xaxis,x=h.yaxis,T,C;if(a){var y=p(g,["ANGLE_instanced_arrays","OES_element_index_uint"],n);if(!y){a.init();return}var S=a.count,A=c._glcanvas.data()[0].regl;if(t(g,h,w),a.dirty){if((a.line2d||a.error2d)&&!(a.scatter2d||a.fill2d||a.glText)&&A.clear({}),a.error2d===!0&&(a.error2d=s(A)),a.line2d===!0&&(a.line2d=P(A)),a.scatter2d===!0&&(a.scatter2d=b(A)),a.fill2d===!0&&(a.fill2d=P(A)),a.glText===!0)for(a.glText=new Array(S),T=0;T<S;T++)a.glText[T]=new L(A);if(a.glText){if(S>a.glText.length){var i=S-a.glText.length;for(T=0;T<i;T++)a.glText.push(new L(A))}else if(S<a.glText.length){var E=a.glText.length-S,m=a.glText.splice(S,E);m.forEach(function(J){J.destroy()})}for(T=0;T<S;T++)a.glText[T].update(a.textOptions[T])}if(a.line2d&&(a.line2d.update(a.lineOptions),a.lineOptions=a.lineOptions.map(function(J){if(J&&J.positions){for(var G=J.positions,oe=0;oe<G.length&&(isNaN(G[oe])||isNaN(G[oe+1]));)oe+=2;for(var te=G.length-2;te>oe&&(isNaN(G[te])||isNaN(G[te+1]));)te-=2;J.positions=G.slice(oe,te+2)}return J}),a.line2d.update(a.lineOptions)),a.error2d){var k=(a.errorXOptions||[]).concat(a.errorYOptions||[]);a.error2d.update(k)}a.scatter2d&&a.scatter2d.update(a.markerOptions),a.fillOrder=M.repeat(null,S),a.fill2d&&(a.fillOptions=a.fillOptions.map(function(J,G){var oe=w[G];if(!(!J||!oe||!oe[0]||!oe[0].trace)){var te=oe[0],fe=te.trace,ge=te.t,we=a.lineOptions[G],xe,Ce,De=[];fe._ownfill&&De.push(G),fe._nexttrace&&De.push(G+1),De.length&&(a.fillOrder[G]=De);var Oe=[],Te=we&&we.positions||ge.positions,Re,Me;if(fe.fill==="tozeroy"){for(Re=0;Re<Te.length&&isNaN(Te[Re+1]);)Re+=2;for(Me=Te.length-2;Me>Re&&isNaN(Te[Me+1]);)Me-=2;Te[Re+1]!==0&&(Oe=[Te[Re],0]),Oe=Oe.concat(Te.slice(Re,Me+2)),Te[Me+1]!==0&&(Oe=Oe.concat([Te[Me],0]))}else if(fe.fill==="tozerox"){for(Re=0;Re<Te.length&&isNaN(Te[Re]);)Re+=2;for(Me=Te.length-2;Me>Re&&isNaN(Te[Me]);)Me-=2;Te[Re]!==0&&(Oe=[0,Te[Re+1]]),Oe=Oe.concat(Te.slice(Re,Me+2)),Te[Me]!==0&&(Oe=Oe.concat([0,Te[Me+1]]))}else if(fe.fill==="toself"||fe.fill==="tonext"){for(Oe=[],xe=0,J.splitNull=!0,Ce=0;Ce<Te.length;Ce+=2)(isNaN(Te[Ce])||isNaN(Te[Ce+1]))&&(Oe=Oe.concat(Te.slice(xe,Ce)),Oe.push(Te[xe],Te[xe+1]),Oe.push(null,null),xe=Ce+2);Oe=Oe.concat(Te.slice(xe)),xe&&Oe.push(Te[xe],Te[xe+1])}else{var ke=fe._nexttrace;if(ke){var Se=a.lineOptions[G+1];if(Se){var He=Se.positions;if(fe.fill==="tonexty"){for(Oe=Te.slice(),G=Math.floor(He.length/2);G--;){var je=He[G*2],at=He[G*2+1];isNaN(je)||isNaN(at)||Oe.push(je,at)}J.fill=ke.fillcolor}}}}if(fe._prevtrace&&fe._prevtrace.fill==="tonext"){var Ze=a.lineOptions[G-1].positions,$e=Oe.length/2;xe=$e;var ut=[xe];for(Ce=0;Ce<Ze.length;Ce+=2)(isNaN(Ze[Ce])||isNaN(Ze[Ce+1]))&&(ut.push(Ce/2+$e+1),xe=Ce+2);Oe=Oe.concat(Ze),J.hole=ut}return J.fillmode=fe.fill,J.opacity=fe.opacity,J.positions=Oe,J}}),a.fill2d.update(a.fillOptions))}var I=c.dragmode,O=v(I),_=c.clickmode.indexOf("select")>-1;for(T=0;T<S;T++){var B=w[T][0],F=B.trace,z=B.t,N=z.index,W=F._length,Z=z.x,q=z.y;if(F.selectedpoints||O||_){if(O||(O=!0),F.selectedpoints){var re=a.selectBatch[N]=M.selIndices2selPoints(F),le={};for(C=0;C<re.length;C++)le[re[C]]=1;var ie=[];for(C=0;C<W;C++)le[C]||ie.push(C);a.unselectBatch[N]=ie}var K=z.xpx=new Array(W),$=z.ypx=new Array(W);for(C=0;C<W;C++)K[C]=d.c2p(Z[C]),$[C]=x.c2p(q[C])}else z.xpx=z.ypx=null}if(O){if(a.select2d||(a.select2d=b(c._glcanvas.data()[1].regl)),a.scatter2d){var X=new Array(S);for(T=0;T<S;T++)X[T]=a.selectBatch[T].length||a.unselectBatch[T].length?a.markerUnselectedOptions[T]:{};a.scatter2d.update(X)}a.select2d&&(a.select2d.update(a.markerOptions),a.select2d.update(a.markerSelectedOptions)),a.glText&&w.forEach(function(J){var G=((J||[])[0]||{}).trace||{};r.hasText(G)&&o(J)})}else a.scatter2d&&a.scatter2d.update(a.markerOptions);var Q={viewport:l(c,d,x,g._context.plotGlPixelRatio),range:[(d._rl||d.range)[0],(x._rl||x.range)[0],(d._rl||d.range)[1],(x._rl||x.range)[1]]},se=M.repeat(Q,a.count);a.fill2d&&a.fill2d.update(se),a.line2d&&a.line2d.update(se),a.error2d&&a.error2d.update(se.concat(se)),a.scatter2d&&a.scatter2d.update(se),a.select2d&&a.select2d.update(se),a.glText&&a.glText.forEach(function(J){J.update(Q)})}}};u.reglPrecompiled=n},74588:function(Y,V,e){var b=e(3400);Y.exports=function(s,L){var M=L._scene,v={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},p={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return L._scene||(M=L._scene={},M.init=function(){b.extendFlat(M,p,v)},M.init(),M.update=function(t){var o=b.repeat(t,M.count);if(M.fill2d&&M.fill2d.update(o),M.scatter2d&&M.scatter2d.update(o),M.line2d&&M.line2d.update(o),M.error2d&&M.error2d.update(o.concat(o)),M.select2d&&M.select2d.update(o),M.glText)for(var n=0;n<M.count;n++)M.glText[n].update(t)},M.draw=function(){for(var t=M.count,o=M.fill2d,n=M.error2d,l=M.line2d,u=M.scatter2d,f=M.glText,g=M.select2d,h=M.selectBatch,w=M.unselectBatch,c=0;c<t;c++){if(o&&M.fillOrder[c]&&o.draw(M.fillOrder[c]),l&&M.lineOptions[c]&&l.draw(c),n&&(M.errorXOptions[c]&&n.draw(c),M.errorYOptions[c]&&n.draw(c+t)),u&&M.markerOptions[c])if(w[c].length){var a=b.repeat([],M.count);a[c]=w[c],u.draw(a)}else h[c].length||u.draw(c);f[c]&&M.textOptions[c]&&f[c].render()}g&&g.draw(h),M.dirty=!1},M.destroy=function(){M.fill2d&&M.fill2d.destroy&&M.fill2d.destroy(),M.scatter2d&&M.scatter2d.destroy&&M.scatter2d.destroy(),M.error2d&&M.error2d.destroy&&M.error2d.destroy(),M.line2d&&M.line2d.destroy&&M.line2d.destroy(),M.select2d&&M.select2d.destroy&&M.select2d.destroy(),M.glText&&M.glText.forEach(function(t){t.destroy&&t.destroy()}),M.lineOptions=null,M.fillOptions=null,M.markerOptions=null,M.markerSelectedOptions=null,M.markerUnselectedOptions=null,M.errorXOptions=null,M.errorYOptions=null,M.textOptions=null,M.textSelectedOptions=null,M.textUnselectedOptions=null,M.selectBatch=null,M.unselectBatch=null,L._scene=null}),M.dirty||b.extendFlat(M,v),M}},73224:function(Y,V,e){var b=e(43028),P=e(26768).styleTextSelection;Y.exports=function(L,M){var v=L.cd,p=L.xaxis,r=L.yaxis,t=[],o=v[0].trace,n=v[0].t,l=o._length,u=n.x,f=n.y,g=n._scene,h=n.index;if(!g)return t;var w=b.hasText(o),c=b.hasMarkers(o),a=!c&&!w;if(o.visible!==!0||a)return t;var d=[],x=[];if(M!==!1&&!M.degenerate)for(var T=0;T<l;T++)M.contains([n.xpx[T],n.ypx[T]],!1,T,L)?(d.push(T),t.push({pointNumber:T,x:p.c2d(u[T]),y:r.c2d(f[T])})):x.push(T);if(c){var C=g.scatter2d;if(!d.length&&!x.length){var y=new Array(g.count);y[h]=g.markerOptions[h],C.update.apply(C,y)}else if(!g.selectBatch[h].length&&!g.unselectBatch[h].length){var S=new Array(g.count);S[h]=g.markerUnselectedOptions[h],C.update.apply(C,S)}}return g.selectBatch[h]=d,g.unselectBatch[h]=x,w&&P(v),t}},31512:function(Y,V,e){var b=e(21776).Ks,P=e(21776).Gw,s=e(98304),L=e(6096),M=e(52904),v=e(5232),p=e(45464),r=e(49084),t=e(92880).extendFlat,o=e(67824).overrideAll,n=e(5232),l=L.line,u=L.marker;Y.exports=o({lon:L.lon,lat:L.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},n.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},u.opacity,{dflt:1})},mode:t({},M.mode,{dflt:"markers"}),text:t({},M.text,{}),texttemplate:P({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},M.hovertext,{}),line:{color:l.color,width:l.width},connectgaps:M.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:u.opacity,size:u.size,sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode},r("marker")),fill:L.fill,fillcolor:s(),textfont:v.layers.symbol.textfont,textposition:v.layers.symbol.textposition,below:{valType:"string"},selected:{marker:M.selected.marker},unselected:{marker:M.unselected.marker},hoverinfo:t({},p.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:b()},"calc","nested")},79732:function(Y){var V=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extrabold Italic","Open Sans Extrabold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];Y.exports={isSupportedFont:function(e){return V.indexOf(e)!==-1}}},59392:function(Y,V,e){var b=e(38248),P=e(3400),s=e(39032).BADNUM,L=e(44808),M=e(8932),v=e(43616),p=e(7152),r=e(43028),t=e(79732).isSupportedFont,o=e(89032),n=e(10624).appendArrayPointValue,l=e(72736).NEWLINES,u=e(72736).BR_TAG_ALL;Y.exports=function(C,y){var S=y[0].trace,A=S.visible===!0&&S._length!==0,i=S.fill!=="none",E=r.hasLines(S),m=r.hasMarkers(S),k=r.hasText(S),I=m&&S.marker.symbol==="circle",O=m&&S.marker.symbol!=="circle",_=S.cluster&&S.cluster.enabled,B=f("fill"),F=f("line"),z=f("circle"),N=f("symbol"),W={fill:B,line:F,circle:z,symbol:N};if(!A)return W;var Z;if((i||E)&&(Z=L.calcTraceToLineCoords(y)),i&&(B.geojson=L.makePolygon(Z),B.layout.visibility="visible",P.extendFlat(B.paint,{"fill-color":S.fillcolor})),E&&(F.geojson=L.makeLine(Z),F.layout.visibility="visible",P.extendFlat(F.paint,{"line-width":S.line.width,"line-color":S.line.color,"line-opacity":S.opacity})),I){var q=g(y);z.geojson=q.geojson,z.layout.visibility="visible",_&&(z.filter=["!",["has","point_count"]],W.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":d(S.cluster.color,S.cluster.step),"circle-radius":d(S.cluster.size,S.cluster.step),"circle-opacity":d(S.cluster.opacity,S.cluster.step)}},W.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":x(S),"text-size":12}}),P.extendFlat(z.paint,{"circle-color":q.mcc,"circle-radius":q.mrc,"circle-opacity":q.mo})}if(I&&_&&(z.filter=["!",["has","point_count"]]),(O||k)&&(N.geojson=h(y,C),P.extendFlat(N.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),O&&(P.extendFlat(N.layout,{"icon-size":S.marker.size/10}),"angle"in S.marker&&S.marker.angle!=="auto"&&P.extendFlat(N.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),N.layout["icon-allow-overlap"]=S.marker.allowoverlap,P.extendFlat(N.paint,{"icon-opacity":S.opacity*S.marker.opacity,"icon-color":S.marker.color})),k)){var re=(S.marker||{}).size,le=o(S.textposition,re);P.extendFlat(N.layout,{"text-size":S.textfont.size,"text-anchor":le.anchor,"text-offset":le.offset,"text-font":x(S)}),P.extendFlat(N.paint,{"text-color":S.textfont.color,"text-opacity":S.opacity})}return W};function f(T){return{type:T,geojson:L.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function g(T){var C=T[0].trace,y=C.marker,S=C.selectedpoints,A=P.isArrayOrTypedArray(y.color),i=P.isArrayOrTypedArray(y.size),E=P.isArrayOrTypedArray(y.opacity),m;function k(re){return C.opacity*re}function I(re){return re/2}var O;A&&(M.hasColorscale(C,"marker")?O=M.makeColorScaleFuncFromTrace(y):O=P.identity);var _;i&&(_=p(C));var B;E&&(B=function(re){var le=b(re)?+P.constrain(re,0,1):0;return k(le)});var F=[];for(m=0;m<T.length;m++){var z=T[m],N=z.lonlat;if(!a(N)){var W={};O&&(W.mcc=z.mcc=O(z.mc)),_&&(W.mrc=z.mrc=_(z.ms)),B&&(W.mo=B(z.mo)),S&&(W.selected=z.selected||0),F.push({type:"Feature",id:m+1,geometry:{type:"Point",coordinates:N},properties:W})}}var Z;if(S)for(Z=v.makeSelectedPointStyleFns(C),m=0;m<F.length;m++){var q=F[m].properties;Z.selectedOpacityFn&&(q.mo=k(Z.selectedOpacityFn(q))),Z.selectedColorFn&&(q.mcc=Z.selectedColorFn(q)),Z.selectedSizeFn&&(q.mrc=Z.selectedSizeFn(q))}return{geojson:{type:"FeatureCollection",features:F},mcc:A||Z&&Z.selectedColorFn?{type:"identity",property:"mcc"}:y.color,mrc:i||Z&&Z.selectedSizeFn?{type:"identity",property:"mrc"}:I(y.size),mo:E||Z&&Z.selectedOpacityFn?{type:"identity",property:"mo"}:k(y.opacity)}}function h(T,C){for(var y=C._fullLayout,S=T[0].trace,A=S.marker||{},i=A.symbol,E=A.angle,m=i!=="circle"?w(i):c,k=E!=="auto"?w(E,!0):c,I=r.hasText(S)?w(S.text):c,O=[],_=0;_<T.length;_++){var B=T[_];if(!a(B.lonlat)){var F=S.texttemplate,z;if(F){var N=Array.isArray(F)?F[_]||"":F,W=S._module.formatLabels(B,S,y),Z={};n(Z,S,B.i);var q=S._meta||{};z=P.texttemplateString(N,W,y._d3locale,Z,B,q)}else z=I(_);z&&(z=z.replace(l,"").replace(u,`
`)),O.push({type:"Feature",geometry:{type:"Point",coordinates:B.lonlat},properties:{symbol:m(_),angle:k(_),text:z}})}}return{type:"FeatureCollection",features:O}}function w(T,C){return P.isArrayOrTypedArray(T)?C?function(y){return b(T[y])?+T[y]:0}:function(y){return T[y]}:T?function(){return T}:c}function c(){return""}function a(T){return T[0]===s}function d(T,C){var y;if(P.isArrayOrTypedArray(T)&&P.isArrayOrTypedArray(C)){y=["step",["get","point_count"],T[0]];for(var S=1;S<T.length;S++)y.push(C[S-1],T[S])}else y=T;return y}function x(T){var C=T.textfont,y=C.family,S=C.style,A=C.weight,i=y.split(" "),E=i[i.length-1]==="Italic";E&&i.pop(),E=E||S==="italic";var m=i.join(" ");A==="bold"&&i.indexOf("Bold")===-1?m+=" Bold":A<=1e3&&(i[0]==="Metropolis"?(m="Metropolis",A>850?m+=" Black":A>750?m+=" Extra Bold":A>650?m+=" Bold":A>550?m+=" Semi Bold":A>450?m+=" Medium":A>350?m+=" Regular":A>250?m+=" Light":A>150?m+=" Extra Light":m+=" Thin"):i.slice(0,2).join(" ")==="Open Sans"?(m="Open Sans",A>750?m+=" Extrabold":A>650?m+=" Bold":A>550?m+=" Semibold":A>350?m+=" Regular":m+=" Light"):i.slice(0,3).join(" ")==="Klokantech Noto Sans"&&(m="Klokantech Noto Sans",i[3]==="CJK"&&(m+=" CJK"),m+=A>500?" Bold":" Regular")),E&&(m+=" Italic"),m==="Open Sans Regular Italic"?m="Open Sans Italic":m==="Open Sans Regular Bold"?m="Open Sans Bold":m==="Open Sans Regular Bold Italic"?m="Open Sans Bold Italic":m==="Klokantech Noto Sans Regular Italic"&&(m="Klokantech Noto Sans Italic"),t(m)||(m=y);var k=m.split(", ");return k}},15752:function(Y,V,e){var b=e(3400),P=e(43028),s=e(74428),L=e(66828),M=e(124),v=e(70840),p=e(31512),r=e(79732).isSupportedFont;Y.exports=function(n,l,u,f){function g(i,E){return b.coerce(n,l,p,i,E)}function h(i,E){return b.coerce2(n,l,p,i,E)}var w=t(n,l,g);if(!w){l.visible=!1;return}if(g("text"),g("texttemplate"),g("hovertext"),g("hovertemplate"),g("mode"),g("below"),P.hasMarkers(l)){s(n,l,u,f,g,{noLine:!0,noAngle:!0}),g("marker.allowoverlap"),g("marker.angle");var c=l.marker;c.symbol!=="circle"&&(b.isArrayOrTypedArray(c.size)&&(c.size=c.size[0]),b.isArrayOrTypedArray(c.color)&&(c.color=c.color[0]))}P.hasLines(l)&&(L(n,l,u,f,g,{noDash:!0}),g("connectgaps"));var a=h("cluster.maxzoom"),d=h("cluster.step"),x=h("cluster.color",l.marker&&l.marker.color||u),T=h("cluster.size"),C=h("cluster.opacity"),y=a!==!1||d!==!1||x!==!1||T!==!1||C!==!1,S=g("cluster.enabled",y);if(S||P.hasText(l)){var A=f.font.family;M(n,l,f,g,{noSelect:!0,noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,font:{family:r(A)?A:"Open Sans Regular",weight:f.font.weight,style:f.font.style,size:f.font.size,color:f.font.color}})}g("fill"),l.fill!=="none"&&v(n,l,u,g),b.coerceSelectionMarkerOpacity(l,g)};function t(o,n,l){var u=l("lon")||[],f=l("lat")||[],g=Math.min(u.length,f.length);return n._length=g,g}},37920:function(Y){Y.exports=function(e,b){return e.lon=b.lon,e.lat=b.lat,e}},11960:function(Y,V,e){var b=e(54460);Y.exports=function(s,L,M){var v={},p=M[L.subplot]._subplot,r=p.mockAxis,t=s.lonlat;return v.lonLabel=b.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=b.tickText(r,r.c2l(t[1]),!0).text,v}},63312:function(Y,V,e){var b=e(93024),P=e(3400),s=e(44928),L=P.fillText,M=e(39032).BADNUM,v=e(47552).traceLayerPrefix;function p(t,o,n){var l=t.cd,u=l[0].trace,f=t.xa,g=t.ya,h=t.subplot,w=[],c=v+u.uid+"-circle",a=u.cluster&&u.cluster.enabled;if(a){var d=h.map.queryRenderedFeatures(null,{layers:[c]});w=d.map(function(_){return _.id})}var x=o>=0?Math.floor((o+180)/360):Math.ceil((o-180)/360),T=x*360,C=o-T;function y(_){var B=_.lonlat;if(B[0]===M||a&&w.indexOf(_.i+1)===-1)return 1/0;var F=P.modHalf(B[0],360),z=B[1],N=h.project([F,z]),W=N.x-f.c2p([C,z]),Z=N.y-g.c2p([F,n]),q=Math.max(3,_.mrc||0);return Math.max(Math.sqrt(W*W+Z*Z)-q,1-3/q)}if(b.getClosest(l,y,t),t.index!==!1){var S=l[t.index],A=S.lonlat,i=[P.modHalf(A[0],360)+T,A[1]],E=f.c2p(i),m=g.c2p(i),k=S.mrc||1;t.x0=E-k,t.x1=E+k,t.y0=m-k,t.y1=m+k;var I={};I[u.subplot]={_subplot:h};var O=u._module.formatLabels(S,u,I);return t.lonLabel=O.lonLabel,t.latLabel=O.latLabel,t.color=s(u,S),t.extraText=r(u,S,l[0].t.labels),t.hovertemplate=u.hovertemplate,[t]}}function r(t,o,n){if(t.hovertemplate)return;var l=o.hi||t.hoverinfo,u=l.split("+"),f=u.indexOf("all")!==-1,g=u.indexOf("lon")!==-1,h=u.indexOf("lat")!==-1,w=o.lonlat,c=[];function a(d){return d+"°"}return f||g&&h?c.push("("+a(w[1])+", "+a(w[0])+")"):g?c.push(n.lon+a(w[0])):h&&c.push(n.lat+a(w[1])),(f||u.indexOf("text")!==-1)&&L(o,t,c),c.join("<br>")}Y.exports={hoverPoints:p,getExtraText:r}},11572:function(Y,V,e){Y.exports={attributes:e(31512),supplyDefaults:e(15752),colorbar:e(5528),formatLabels:e(11960),calc:e(25212),plot:e(9660),hoverPoints:e(63312).hoverPoints,eventData:e(37920),selectPoints:e(404),styleOnSelect:function(b,P){if(P){var s=P[0].trace;s._glTrace.update(P)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(33688),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},9660:function(Y,V,e){var b=e(3400),P=e(59392),s=e(47552).traceLayerPrefix,L={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function M(p,r,t,o){this.type="scattermapbox",this.subplot=p,this.uid=r,this.clusterEnabled=t,this.isHidden=o,this.sourceIds={fill:"source-"+r+"-fill",line:"source-"+r+"-line",circle:"source-"+r+"-circle",symbol:"source-"+r+"-symbol",cluster:"source-"+r+"-circle",clusterCount:"source-"+r+"-circle"},this.layerIds={fill:s+r+"-fill",line:s+r+"-line",circle:s+r+"-circle",symbol:s+r+"-symbol",cluster:s+r+"-cluster",clusterCount:s+r+"-cluster-count"},this.below=null}var v=M.prototype;v.addSource=function(p,r,t){var o={type:"geojson",data:r.geojson};t&&t.enabled&&b.extendFlat(o,{cluster:!0,clusterMaxZoom:t.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[p]);n?n.setData(r.geojson):this.subplot.map.addSource(this.sourceIds[p],o)},v.setSourceData=function(p,r){this.subplot.map.getSource(this.sourceIds[p]).setData(r.geojson)},v.addLayer=function(p,r,t){var o={type:r.type,id:this.layerIds[p],source:this.sourceIds[p],layout:r.layout,paint:r.paint};r.filter&&(o.filter=r.filter);for(var n=this.layerIds[p],l,u=this.subplot.getMapLayers(),f=0;f<u.length;f++)if(u[f].id===n){l=!0;break}l?(this.subplot.setOptions(n,"setLayoutProperty",o.layout),o.layout.visibility==="visible"&&this.subplot.setOptions(n,"setPaintProperty",o.paint)):this.subplot.addLayer(o,t)},v.update=function(r){var t=r[0].trace,o=this.subplot,n=o.map,l=P(o.gd,r),u=o.belowLookup["trace-"+this.uid],f=!!(t.cluster&&t.cluster.enabled),g=!!this.clusterEnabled,h=this;function w(A){A||h.addSource("circle",l.circle,t.cluster);for(var i=L.cluster,E=0;E<i.length;E++){var m=i[E],k=l[m];h.addLayer(m,k,u)}}function c(A){for(var i=L.cluster,E=i.length-1;E>=0;E--){var m=i[E];n.removeLayer(h.layerIds[m])}A||n.removeSource(h.sourceIds.circle)}function a(A){for(var i=L.nonCluster,E=0;E<i.length;E++){var m=i[E],k=l[m];A||h.addSource(m,k),h.addLayer(m,k,u)}}function d(A){for(var i=L.nonCluster,E=i.length-1;E>=0;E--){var m=i[E];n.removeLayer(h.layerIds[m]),A||n.removeSource(h.sourceIds[m])}}function x(A){g?c(A):d(A)}function T(A){f?w(A):a(A)}function C(){for(var A=f?L.cluster:L.nonCluster,i=0;i<A.length;i++){var E=A[i],m=l[E];m&&(o.setOptions(h.layerIds[E],"setLayoutProperty",m.layout),m.layout.visibility==="visible"&&(E!=="cluster"&&h.setSourceData(E,m),o.setOptions(h.layerIds[E],"setPaintProperty",m.paint)))}}var y=this.isHidden,S=t.visible!==!0;S?y||x():y?S||T():g!==f?(x(),T()):(this.below!==u&&(x(!0),T(!0)),C()),this.clusterEnabled=f,this.isHidden=S,this.below=u,r[0].trace._glTrace=this},v.dispose=function(){for(var r=this.subplot.map,t=this.clusterEnabled?L.cluster:L.nonCluster,o=t.length-1;o>=0;o--){var n=t[o];r.removeLayer(this.layerIds[n]),r.removeSource(this.sourceIds[n])}},Y.exports=function(r,t){var o=t[0].trace,n=o.cluster&&o.cluster.enabled,l=o.visible!==!0,u=new M(r,o.uid,n,l),f=P(r.gd,t),g=u.below=r.belowLookup["trace-"+o.uid],h,w,c;if(n)for(u.addSource("circle",f.circle,o.cluster),h=0;h<L.cluster.length;h++)w=L.cluster[h],c=f[w],u.addLayer(w,c,g);else for(h=0;h<L.nonCluster.length;h++)w=L.nonCluster[h],c=f[w],u.addSource(w,c,o.cluster),u.addLayer(w,c,g);return t[0].trace._glTrace=u,u}},404:function(Y,V,e){var b=e(3400),P=e(43028),s=e(39032).BADNUM;Y.exports=function(M,v){var p=M.cd,r=M.xaxis,t=M.yaxis,o=[],n=p[0].trace,l;if(!P.hasMarkers(n))return[];if(v===!1)for(l=0;l<p.length;l++)p[l].selected=0;else for(l=0;l<p.length;l++){var u=p[l],f=u.lonlat;if(f[0]!==s){var g=[b.modHalf(f[0],360),f[1]],h=[r.c2p(g),t.c2p(g)];v.contains(h,null,l,M)?(o.push({pointNumber:l,lon:f[0],lat:f[1]}),u.selected=1):u.selected=0}}return o}},8319:function(Y,V,e){var b=e(21776).Ks,P=e(21776).Gw,s=e(92880).extendFlat,L=e(98304),M=e(52904),v=e(45464),p=M.line;Y.exports={mode:M.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:M.text,texttemplate:P({editType:"plot"},{keys:["r","theta","text"]}),hovertext:M.hovertext,line:{color:p.color,width:p.width,dash:p.dash,backoff:p.backoff,shape:s({},p.shape,{values:["linear","spline"]}),smoothing:p.smoothing,editType:"calc"},connectgaps:M.connectgaps,marker:M.marker,cliponaxis:s({},M.cliponaxis,{dflt:!1}),textposition:M.textposition,textfont:M.textfont,fill:s({},M.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:L(),hoverinfo:s({},v.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:M.hoveron,hovertemplate:b(),selected:M.selected,unselected:M.unselected}},58320:function(Y,V,e){var b=e(38248),P=e(39032).BADNUM,s=e(54460),L=e(90136),M=e(20148),v=e(4500),p=e(16356).calcMarkerSize;Y.exports=function(t,o){for(var n=t._fullLayout,l=o.subplot,u=n[l].radialaxis,f=n[l].angularaxis,g=u.makeCalcdata(o,"r"),h=f.makeCalcdata(o,"theta"),w=o._length,c=new Array(w),a=0;a<w;a++){var d=g[a],x=h[a],T=c[a]={};b(d)&&b(x)?(T.r=d,T.theta=x):T.r=P}var C=p(o,w);return o._extremes.x=s.findExtremes(u,g,{ppad:C}),L(t,o),M(c,o),v(c,o),c}},85968:function(Y,V,e){var b=e(3400),P=e(43028),s=e(74428),L=e(66828),M=e(11731),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(8319);function o(l,u,f,g){function h(a,d){return b.coerce(l,u,t,a,d)}var w=n(l,u,g,h);if(!w){u.visible=!1;return}h("thetaunit"),h("mode",w<r?"lines+markers":"lines"),h("text"),h("hovertext"),u.hoveron!=="fills"&&h("hovertemplate"),P.hasMarkers(u)&&s(l,u,f,g,h,{gradient:!0}),P.hasLines(u)&&(L(l,u,f,g,h,{backoff:!0}),M(l,u,h),h("connectgaps")),P.hasText(u)&&(h("texttemplate"),v(l,u,g,h));var c=[];(P.hasMarkers(u)||P.hasText(u))&&(h("cliponaxis"),h("marker.maxdisplayed"),c.push("points")),h("fill"),u.fill!=="none"&&(p(l,u,f,h),P.hasLines(u)||M(l,u,h)),(u.fill==="tonext"||u.fill==="toself")&&c.push("fills"),h("hoveron",c.join("+")||"points"),b.coerceSelectionMarkerOpacity(u,h)}function n(l,u,f,g){var h=g("r"),w=g("theta");b.isTypedArray(h)&&(u.r=h=Array.from(h)),b.isTypedArray(w)&&(u.theta=w=Array.from(w));var c;if(h)w?c=Math.min(h.length,w.length):(c=h.length,g("theta0"),g("dtheta"));else{if(!w)return 0;c=u.theta.length,g("r0"),g("dr")}return u._length=c,c}Y.exports={handleRThetaDefaults:n,supplyDefaults:o}},22852:function(Y,V,e){var b=e(3400),P=e(54460);Y.exports=function(L,M,v){var p={},r=v[M.subplot]._subplot,t,o;r?(t=r.radialAxis,o=r.angularAxis):(r=v[M.subplot],t=r.radialaxis,o=r.angularaxis);var n=t.c2l(L.r);p.rLabel=P.tickText(t,n,!0).text;var l=o.thetaunit==="degrees"?b.rad2deg(L.theta):L.theta;return p.thetaLabel=P.tickText(o,l,!0).text,p}},8504:function(Y,V,e){var b=e(98723);function P(L,M,v,p){var r=b(L,M,v,p);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var o=L.subplot,n=t.cd[t.index],l=t.trace;if(o.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,s(n,l,o,t),t.hovertemplate=l.hovertemplate,r}}function s(L,M,v,p){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="r",t._hovertitle="θ";var o={};o[M.subplot]={_subplot:v};var n=M._module.formatLabels(L,M,o);p.rLabel=n.rLabel,p.thetaLabel=n.thetaLabel;var l=L.hi||M.hoverinfo,u=[];function f(h,w){u.push(h._hovertitle+": "+w)}if(!M.hovertemplate){var g=l.split("+");g.indexOf("all")!==-1&&(g=["r","theta","text"]),g.indexOf("r")!==-1&&f(r,p.rLabel),g.indexOf("theta")!==-1&&f(t,p.thetaLabel),g.indexOf("text")!==-1&&p.text&&(u.push(p.text),delete p.text),p.extraText=u.join("<br>")}}Y.exports={hoverPoints:P,makeHoverPointText:s}},76924:function(Y,V,e){Y.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(40872),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(8319),supplyDefaults:e(85968).supplyDefaults,colorbar:e(5528),formatLabels:e(22852),calc:e(58320),plot:e(43456),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(8504).hoverPoints,selectPoints:e(91560),meta:{}}},43456:function(Y,V,e){var b=e(96504),P=e(39032).BADNUM;Y.exports=function(L,M,v){for(var p=M.layers.frontplot.select("g.scatterlayer"),r=M.xaxis,t=M.yaxis,o={xaxis:r,yaxis:t,plot:M.framework,layerClipId:M._hasClipOnAxisFalse?M.clipIds.forTraces:null},n=M.radialAxis,l=M.angularAxis,u=0;u<v.length;u++)for(var f=v[u],g=0;g<f.length;g++){g===0&&(f[0].trace._xA=r,f[0].trace._yA=t);var h=f[g],w=h.r;if(w===P)h.x=h.y=P;else{var c=n.c2g(w),a=l.c2g(h.theta);h.x=c*Math.cos(a),h.y=c*Math.sin(a)}}b(L,o,v,p)}},24396:function(Y,V,e){var b=e(8319),P=e(2876),s=e(21776).Gw;Y.exports={mode:b.mode,r:b.r,theta:b.theta,r0:b.r0,dr:b.dr,theta0:b.theta0,dtheta:b.dtheta,thetaunit:b.thetaunit,text:b.text,texttemplate:s({editType:"plot"},{keys:["r","theta","text"]}),hovertext:b.hovertext,hovertemplate:b.hovertemplate,line:{color:P.line.color,width:P.line.width,dash:P.line.dash,editType:"calc"},connectgaps:P.connectgaps,marker:P.marker,fill:P.fill,fillcolor:P.fillcolor,textposition:P.textposition,textfont:P.textfont,hoverinfo:b.hoverinfo,selected:b.selected,unselected:b.unselected}},27160:function(Y,V,e){Y.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(40872),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(24396),supplyDefaults:e(98608),colorbar:e(5528),formatLabels:e(94120),calc:e(66720),hoverPoints:e(1600).hoverPoints,selectPoints:e(73224),meta:{}}},66720:function(Y,V,e){var b=e(90136),P=e(16356).calcMarkerSize,s=e(84236),L=e(54460),M=e(67072).TOO_MANY_POINTS;Y.exports=function(p,r){var t=p._fullLayout,o=r.subplot,n=t[o].radialaxis,l=t[o].angularaxis,u=r._r=n.makeCalcdata(r,"r"),f=r._theta=l.makeCalcdata(r,"theta"),g=r._length,h={};g<u.length&&(u=u.slice(0,g)),g<f.length&&(f=f.slice(0,g)),h.r=u,h.theta=f,b(p,r);var w=h.opts=s.style(p,r),c;return g<M?c=P(r,g):w.marker&&(c=2*(w.marker.sizeAvg||Math.max(w.marker.size,3))),r._extremes.x=L.findExtremes(n,u,{ppad:c}),[{x:!1,y:!1,t:h,trace:r}]}},98608:function(Y,V,e){var b=e(3400),P=e(43028),s=e(85968).handleRThetaDefaults,L=e(74428),M=e(66828),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(24396);Y.exports=function(n,l,u,f){function g(w,c){return b.coerce(n,l,t,w,c)}var h=s(n,l,f,g);if(!h){l.visible=!1;return}g("thetaunit"),g("mode",h<r?"lines+markers":"lines"),g("text"),g("hovertext"),l.hoveron!=="fills"&&g("hovertemplate"),P.hasMarkers(l)&&L(n,l,u,f,g,{noAngleRef:!0,noStandOff:!0}),P.hasLines(l)&&(M(n,l,u,f,g),g("connectgaps")),P.hasText(l)&&(g("texttemplate"),v(n,l,f,g,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0})),g("fill"),l.fill!=="none"&&p(n,l,u,g),b.coerceSelectionMarkerOpacity(l,g)}},94120:function(Y,V,e){var b=e(22852);Y.exports=function(s,L,M){var v=s.i;return"r"in s||(s.r=L._r[v]),"theta"in s||(s.theta=L._theta[v]),b(s,L,M)}},1600:function(Y,V,e){var b=e(41272),P=e(8504).makeHoverPointText;function s(L,M,v,p){var r=L.cd,t=r[0].t,o=t.r,n=t.theta,l=b.hoverPoints(L,M,v,p);if(!(!l||l[0].index===!1)){var u=l[0];if(u.index===void 0)return l;var f=L.subplot,g=u.cd[u.index],h=u.trace;if(g.r=o[u.index],g.theta=n[u.index],!!f.isPtInside(g))return u.xLabelVal=void 0,u.yLabelVal=void 0,P(g,h,f,u),l}}Y.exports={hoverPoints:s}},62944:function(Y,V,e){var b=e(27160);b.plot=e(56512),Y.exports=b},56512:function(Y,V,e){var b=e(3108),P=e(38248),s=e(89876),L=e(74588),M=e(84236),v=e(3400),p=e(67072).TOO_MANY_POINTS,r={};Y.exports=function(o,n,l){if(l.length){var u=n.radialAxis,f=n.angularAxis,g=L(o,n);return l.forEach(function(h){if(!(!h||!h[0]||!h[0].trace)){var w=h[0],c=w.trace,a=w.t,d=c._length,x=a.r,T=a.theta,C=a.opts,y,S=x.slice(),A=T.slice();for(y=0;y<x.length;y++)n.isPtInside({r:x[y],theta:T[y]})||(S[y]=NaN,A[y]=NaN);var i=new Array(d*2),E=Array(d),m=Array(d);for(y=0;y<d;y++){var k=S[y],I,O;if(P(k)){var _=u.c2g(k),B=f.c2g(A[y],c.thetaunit);I=_*Math.cos(B),O=_*Math.sin(B)}else I=O=NaN;E[y]=i[y*2]=I,m[y]=i[y*2+1]=O}a.tree=b(i),C.marker&&d>=p&&(C.marker.cluster=a.tree),C.marker&&(C.markerSel.positions=C.markerUnsel.positions=C.marker.positions=i),C.line&&i.length>1&&v.extendFlat(C.line,M.linePositions(o,c,i)),C.text&&(v.extendFlat(C.text,{positions:i},M.textPosition(o,c,C.text,C.marker)),v.extendFlat(C.textSel,{positions:i},M.textPosition(o,c,C.text,C.markerSel)),v.extendFlat(C.textUnsel,{positions:i},M.textPosition(o,c,C.text,C.markerUnsel))),C.fill&&!g.fill2d&&(g.fill2d=!0),C.marker&&!g.scatter2d&&(g.scatter2d=!0),C.line&&!g.line2d&&(g.line2d=!0),C.text&&!g.glText&&(g.glText=!0),g.lineOptions.push(C.line),g.fillOptions.push(C.fill),g.markerOptions.push(C.marker),g.markerSelectedOptions.push(C.markerSel),g.markerUnselectedOptions.push(C.markerUnsel),g.textOptions.push(C.text),g.textSelectedOptions.push(C.textSel),g.textUnselectedOptions.push(C.textUnsel),g.selectBatch.push([]),g.unselectBatch.push([]),a.x=E,a.y=m,a.rawx=E,a.rawy=m,a.r=x,a.theta=T,a.positions=i,a._scene=g,a.index=g.count,g.count++}}),s(o,n,l)}},Y.exports.reglPrecompiled=r},69496:function(Y,V,e){var b=e(21776).Ks,P=e(21776).Gw,s=e(92880).extendFlat,L=e(98304),M=e(52904),v=e(45464),p=M.line;Y.exports={mode:M.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:M.text,texttemplate:P({editType:"plot"},{keys:["real","imag","text"]}),hovertext:M.hovertext,line:{color:p.color,width:p.width,dash:p.dash,backoff:p.backoff,shape:s({},p.shape,{values:["linear","spline"]}),smoothing:p.smoothing,editType:"calc"},connectgaps:M.connectgaps,marker:M.marker,cliponaxis:s({},M.cliponaxis,{dflt:!1}),textposition:M.textposition,textfont:M.textfont,fill:s({},M.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:L(),hoverinfo:s({},v.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:M.hoveron,hovertemplate:b(),selected:M.selected,unselected:M.unselected}},47507:function(Y,V,e){var b=e(38248),P=e(39032).BADNUM,s=e(90136),L=e(20148),M=e(4500),v=e(16356).calcMarkerSize;Y.exports=function(r,t){for(var o=r._fullLayout,n=t.subplot,l=o[n].realaxis,u=o[n].imaginaryaxis,f=l.makeCalcdata(t,"real"),g=u.makeCalcdata(t,"imag"),h=t._length,w=new Array(h),c=0;c<h;c++){var a=f[c],d=g[c],x=w[c]={};b(a)&&b(d)?(x.real=a,x.imag=d):x.real=P}return v(t,h),s(r,t),L(w,t),M(w,t),w}},76716:function(Y,V,e){var b=e(3400),P=e(43028),s=e(74428),L=e(66828),M=e(11731),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(69496);Y.exports=function(l,u,f,g){function h(a,d){return b.coerce(l,u,t,a,d)}var w=o(l,u,g,h);if(!w){u.visible=!1;return}h("mode",w<r?"lines+markers":"lines"),h("text"),h("hovertext"),u.hoveron!=="fills"&&h("hovertemplate"),P.hasMarkers(u)&&s(l,u,f,g,h,{gradient:!0}),P.hasLines(u)&&(L(l,u,f,g,h,{backoff:!0}),M(l,u,h),h("connectgaps")),P.hasText(u)&&(h("texttemplate"),v(l,u,g,h));var c=[];(P.hasMarkers(u)||P.hasText(u))&&(h("cliponaxis"),h("marker.maxdisplayed"),c.push("points")),h("fill"),u.fill!=="none"&&(p(l,u,f,h),P.hasLines(u)||M(l,u,h)),(u.fill==="tonext"||u.fill==="toself")&&c.push("fills"),h("hoveron",c.join("+")||"points"),b.coerceSelectionMarkerOpacity(u,h)};function o(n,l,u,f){var g=f("real"),h=f("imag"),w;return g&&h&&(w=Math.min(g.length,h.length)),b.isTypedArray(g)&&(l.real=g=Array.from(g)),b.isTypedArray(h)&&(l.imag=h=Array.from(h)),l._length=w,w}},49504:function(Y,V,e){var b=e(54460);Y.exports=function(s,L,M){var v={},p=M[L.subplot]._subplot;return v.realLabel=b.tickText(p.radialAxis,s.real,!0).text,v.imagLabel=b.tickText(p.angularAxis,s.imag,!0).text,v}},25292:function(Y,V,e){var b=e(98723);function P(L,M,v,p){var r=b(L,M,v,p);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var o=L.subplot,n=t.cd[t.index],l=t.trace;if(o.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,s(n,l,o,t),t.hovertemplate=l.hovertemplate,r}}function s(L,M,v,p){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="real",t._hovertitle="imag";var o={};o[M.subplot]={_subplot:v};var n=M._module.formatLabels(L,M,o);p.realLabel=n.realLabel,p.imagLabel=n.imagLabel;var l=L.hi||M.hoverinfo,u=[];function f(h,w){u.push(h._hovertitle+": "+w)}if(!M.hovertemplate){var g=l.split("+");g.indexOf("all")!==-1&&(g=["real","imag","text"]),g.indexOf("real")!==-1&&f(r,p.realLabel),g.indexOf("imag")!==-1&&f(t,p.imagLabel),g.indexOf("text")!==-1&&p.text&&(u.push(p.text),delete p.text),p.extraText=u.join("<br>")}}Y.exports={hoverPoints:P,makeHoverPointText:s}},95443:function(Y,V,e){Y.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(47788),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(69496),supplyDefaults:e(76716),colorbar:e(5528),formatLabels:e(49504),calc:e(47507),plot:e(34927),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(25292).hoverPoints,selectPoints:e(91560),meta:{}}},34927:function(Y,V,e){var b=e(96504),P=e(39032).BADNUM,s=e(36416),L=s.smith;Y.exports=function(v,p,r){for(var t=p.layers.frontplot.select("g.scatterlayer"),o=p.xaxis,n=p.yaxis,l={xaxis:o,yaxis:n,plot:p.framework,layerClipId:p._hasClipOnAxisFalse?p.clipIds.forTraces:null},u=0;u<r.length;u++)for(var f=r[u],g=0;g<f.length;g++){g===0&&(f[0].trace._xA=o,f[0].trace._yA=n);var h=f[g],w=h.real;if(w===P)h.x=h.y=P;else{var c=L([w,h.imag]);h.x=c[0],h.y=c[1]}}b(v,l,r,t)}},5896:function(Y,V,e){var b=e(21776).Ks,P=e(21776).Gw,s=e(98304),L=e(52904),M=e(45464),v=e(49084),p=e(98192).u,r=e(92880).extendFlat,t=L.marker,o=L.line,n=t.line;Y.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:r({},L.mode,{dflt:"markers"}),text:r({},L.text,{}),texttemplate:P({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:r({},L.hovertext,{}),line:{color:o.color,width:o.width,dash:p,backoff:o.backoff,shape:r({},o.shape,{values:["linear","spline"]}),smoothing:o.smoothing,editType:"calc"},connectgaps:L.connectgaps,cliponaxis:L.cliponaxis,fill:r({},L.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:s(),marker:r({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:r({width:n.width,editType:"calc"},v("marker.line")),gradient:t.gradient,editType:"calc"},v("marker")),textfont:L.textfont,textposition:L.textposition,selected:L.selected,unselected:L.unselected,hoverinfo:r({},M.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:L.hoveron,hovertemplate:b()}},34335:function(Y,V,e){var b=e(38248),P=e(90136),s=e(20148),L=e(4500),M=e(16356).calcMarkerSize,v=["a","b","c"],p={a:["b","c"],b:["a","c"],c:["a","b"]};Y.exports=function(t,o){var n=t._fullLayout[o.subplot],l=n.sum,u=o.sum||l,f={a:o.a,b:o.b,c:o.c},g,h,w,c,a,d;for(g=0;g<v.length;g++)if(w=v[g],!f[w]){for(a=f[p[w][0]],d=f[p[w][1]],c=new Array(a.length),h=0;h<a.length;h++)c[h]=u-a[h]-d[h];f[w]=c}var x=o._length,T=new Array(x),C,y,S,A,i,E;for(g=0;g<x;g++)C=f.a[g],y=f.b[g],S=f.c[g],b(C)&&b(y)&&b(S)?(C=+C,y=+y,S=+S,A=l/(C+y+S),A!==1&&(C*=A,y*=A,S*=A),E=C,i=S-y,T[g]={x:i,y:E,a:C,b:y,c:S}):T[g]={x:!1,y:!1};return M(o,x),P(t,o),s(T,o),L(T,o),T}},84256:function(Y,V,e){var b=e(3400),P=e(88200),s=e(43028),L=e(74428),M=e(66828),v=e(11731),p=e(124),r=e(70840),t=e(5896);Y.exports=function(n,l,u,f){function g(T,C){return b.coerce(n,l,t,T,C)}var h=g("a"),w=g("b"),c=g("c"),a;if(h?(a=h.length,w?(a=Math.min(a,w.length),c&&(a=Math.min(a,c.length))):c?a=Math.min(a,c.length):a=0):w&&c&&(a=Math.min(w.length,c.length)),!a){l.visible=!1;return}l._length=a,g("sum"),g("text"),g("hovertext"),l.hoveron!=="fills"&&g("hovertemplate");var d=a<P.PTS_LINESONLY?"lines+markers":"lines";g("mode",d),s.hasMarkers(l)&&L(n,l,u,f,g,{gradient:!0}),s.hasLines(l)&&(M(n,l,u,f,g,{backoff:!0}),v(n,l,g),g("connectgaps")),s.hasText(l)&&(g("texttemplate"),p(n,l,f,g));var x=[];(s.hasMarkers(l)||s.hasText(l))&&(g("cliponaxis"),g("marker.maxdisplayed"),x.push("points")),g("fill"),l.fill!=="none"&&(r(n,l,u,g),s.hasLines(l)||v(n,l,g)),(l.fill==="tonext"||l.fill==="toself")&&x.push("fills"),g("hoveron",x.join("+")||"points"),b.coerceSelectionMarkerOpacity(l,g)}},97476:function(Y){Y.exports=function(e,b,P,s,L){if(b.xa&&(e.xaxis=b.xa),b.ya&&(e.yaxis=b.ya),s[L]){var M=s[L];e.a=M.a,e.b=M.b,e.c=M.c}else e.a=b.a,e.b=b.b,e.c=b.c;return e}},90404:function(Y,V,e){var b=e(54460);Y.exports=function(s,L,M){var v={},p=M[L.subplot]._subplot;return v.aLabel=b.tickText(p.aaxis,s.a,!0).text,v.bLabel=b.tickText(p.baxis,s.b,!0).text,v.cLabel=b.tickText(p.caxis,s.c,!0).text,v}},26596:function(Y,V,e){var b=e(98723);Y.exports=function(s,L,M,v){var p=b(s,L,M,v);if(!p||p[0].index===!1)return;var r=p[0];if(r.index===void 0){var t=1-r.y0/s.ya._length,o=s.xa._length,n=o*t/2,l=o-n;return r.x0=Math.max(Math.min(r.x0,l),n),r.x1=Math.max(Math.min(r.x1,l),n),p}var u=r.cd[r.index],f=r.trace,g=r.subplot;r.a=u.a,r.b=u.b,r.c=u.c,r.xLabelVal=void 0,r.yLabelVal=void 0;var h={};h[f.subplot]={_subplot:g};var w=f._module.formatLabels(u,f,h);r.aLabel=w.aLabel,r.bLabel=w.bLabel,r.cLabel=w.cLabel;var c=u.hi||f.hoverinfo,a=[];function d(T,C){a.push(T._hovertitle+": "+C)}if(!f.hovertemplate){var x=c.split("+");x.indexOf("all")!==-1&&(x=["a","b","c"]),x.indexOf("a")!==-1&&d(g.aaxis,r.aLabel),x.indexOf("b")!==-1&&d(g.baxis,r.bLabel),x.indexOf("c")!==-1&&d(g.caxis,r.cLabel)}return r.extraText=a.join("<br>"),r.hovertemplate=f.hovertemplate,p}},34864:function(Y,V,e){Y.exports={attributes:e(5896),supplyDefaults:e(84256),colorbar:e(5528),formatLabels:e(90404),calc:e(34335),plot:e(88776),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(26596),selectPoints:e(91560),eventData:e(97476),moduleType:"trace",name:"scatterternary",basePlotModule:e(19352),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},88776:function(Y,V,e){var b=e(96504);Y.exports=function(s,L,M){var v=L.plotContainer;v.select(".scatterlayer").selectAll("*").remove();for(var p=L.xaxis,r=L.yaxis,t={xaxis:p,yaxis:r,plot:v,layerClipId:L._hasClipOnAxisFalse?L.clipIdRelative:null},o=L.layers.frontplot.select("g.scatterlayer"),n=0;n<M.length;n++){var l=M[n];l.length&&(l[0].trace._xA=p,l[0].trace._yA=r)}b(s,t,M,o)}},44524:function(Y,V,e){var b=e(52904),P=e(49084),s=e(29736).axisHoverFormat,L=e(21776).Ks,M=e(2876),v=e(33816).idRegex,p=e(31780).templatedArray,r=e(92880).extendFlat,t=b.marker,o=t.line,n=r(P("marker.line",{editTypeOverride:"calc"}),{width:r({},o.width,{editType:"calc"}),editType:"calc"}),l=r(P("marker"),{symbol:t.symbol,angle:t.angle,size:r({},t.size,{editType:"markerSize"}),sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,opacity:t.opacity,colorbar:t.colorbar,line:n,editType:"calc"});l.color.editType=l.cmin.editType=l.cmax.editType="style";function u(f){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[f],editType:"plot"}}}Y.exports={dimensions:p("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:r({},M.text,{}),hovertext:r({},M.hovertext,{}),hovertemplate:L(),xhoverformat:s("x"),yhoverformat:s("y"),marker:l,xaxes:u("x"),yaxes:u("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:M.selected.marker,editType:"calc"},unselected:{marker:M.unselected.marker,editType:"calc"},opacity:M.opacity}},28888:function(Y,V,e){var b=e(24040),P=e(12704);Y.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(44524),supplyDefaults:e(69544),colorbar:e(5528),calc:e(66821),plot:e(54840),hoverPoints:e(72248).hoverPoints,selectPoints:e(62500),editStyle:e(83156),meta:{}},b.register(P)},99332:function(Y,V,e){var b=e(13472),P=e(24040),s=e(5048),L=e(84888)._M,M=e(57952),v=e(79811).getFromId,p=e(54460).shouldShowZeroLine,r="splom",t={};function o(h){var w=h._fullLayout,c=P.getModule(r),a=L(h.calcdata,c)[0],d=s(h,["ANGLE_instanced_arrays","OES_element_index_uint"],t);d&&(w._hasOnlyLargeSploms&&u(h),c.plot(h,{},a))}function n(h){var w=h.calcdata,c=h._fullLayout;c._hasOnlyLargeSploms&&u(h);for(var a=0;a<w.length;a++){var d=w[a][0],x=d.trace,T=c._splomScenes[x.uid];x.type==="splom"&&T&&T.matrix&&l(h,x,T)}}function l(h,w,c){for(var a=c.matrixOptions.data.length,d=w._visibleDims,x=c.viewOpts.ranges=new Array(a),T=0;T<d.length;T++){var C=d[T],y=x[T]=new Array(4),S=v(h,w._diag[C][0]);S&&(y[0]=S.r2l(S.range[0]),y[2]=S.r2l(S.range[1]));var A=v(h,w._diag[C][1]);A&&(y[1]=A.r2l(A.range[0]),y[3]=A.r2l(A.range[1]))}c.selectBatch.length||c.unselectBatch.length?c.matrix.update({ranges:x},{ranges:x}):c.matrix.update({ranges:x})}function u(h){var w=h._fullLayout,c=w._glcanvas.data()[0].regl,a=w._splomGrid;a||(a=w._splomGrid=b(c)),a.update(f(h))}function f(h){var w=h._context.plotGlPixelRatio,c=h._fullLayout,a=c._size,d=[0,0,c.width*w,c.height*w],x={},T;function C(W,Z,q,re,le,ie){q*=w,re*=w,le*=w,ie*=w;var K=Z[W+"color"],$=Z[W+"width"],X=String(K+$);X in x?x[X].data.push(NaN,NaN,q,re,le,ie):x[X]={data:[q,re,le,ie],join:"rect",thickness:$*w,color:K,viewport:d,range:d,overlay:!1}}for(T in c._splomSubplots){var y=c._plots[T],S=y.xaxis,A=y.yaxis,i=S._gridVals,E=A._gridVals,m=S._offset,k=S._length,I=A._length,O=a.b+A.domain[0]*a.h,_=-A._m,B=-_*A.r2l(A.range[0],A.calendar),F,z;if(S.showgrid)for(T=0;T<i.length;T++)F=m+S.l2p(i[T].x),C("grid",S,F,O,F,O+I);if(A.showgrid)for(T=0;T<E.length;T++)z=O+B+_*E[T].x,C("grid",A,m,z,m+k,z);p(h,S,A)&&(F=m+S.l2p(0),C("zeroline",S,F,O,F,O+I)),p(h,A,S)&&(z=O+B+0,C("zeroline",A,m,z,m+k,z))}var N=[];for(T in x)N.push(x[T]);return N}function g(h,w,c,a){var d={},x;if(a._splomScenes){for(x=0;x<h.length;x++){var T=h[x];T.type==="splom"&&(d[T.uid]=1)}for(x=0;x<c.length;x++){var C=c[x];if(!d[C.uid]){var y=a._splomScenes[C.uid];y&&y.destroy&&y.destroy(),a._splomScenes[C.uid]=null,delete a._splomScenes[C.uid]}}}Object.keys(a._splomScenes||{}).length===0&&delete a._splomScenes,a._splomGrid&&!w._hasOnlyLargeSploms&&a._hasOnlyLargeSploms&&(a._splomGrid.destroy(),a._splomGrid=null,delete a._splomGrid),M.clean(h,w,c,a)}Y.exports={name:r,attr:M.attr,attrRegex:M.attrRegex,layoutAttributes:M.layoutAttributes,supplyLayoutDefaults:M.supplyLayoutDefaults,drawFramework:M.drawFramework,plot:o,drag:n,updateGrid:u,clean:g,updateFx:M.updateFx,toSVG:M.toSVG,reglPrecompiled:t}},66821:function(Y,V,e){var b=e(3400),P=e(79811),s=e(16356).calcMarkerSize,L=e(16356).calcAxisExpansion,M=e(90136),v=e(84236).markerSelection,p=e(84236).markerStyle,r=e(72308),t=e(39032).BADNUM,o=e(67072).TOO_MANY_POINTS;Y.exports=function(l,u){var f=u.dimensions,g=u._length,h={},w=h.cdata=[],c=h.data=[],a=u._visibleDims=[],d,x,T,C,y;function S(k,I){for(var O=k.makeCalcdata({v:I.values,vcalendar:u.calendar},"v"),_=0;_<O.length;_++)O[_]=O[_]===t?NaN:O[_];w.push(O),c.push(k.type==="log"?b.simpleMap(O,k.c2l):O)}for(d=0;d<f.length;d++)if(T=f[d],T.visible){if(C=P.getFromId(l,u._diag[d][0]),y=P.getFromId(l,u._diag[d][1]),C&&y&&C.type!==y.type){b.log("Skipping splom dimension "+d+" with conflicting axis types");continue}C?(S(C,T),y&&y.type==="category"&&(y._categories=C._categories.slice())):S(y,T),a.push(d)}M(l,u),b.extendFlat(h,p(l,u));var A=w.length,i=A*g>o,E;for(i?E=h.sizeAvg||Math.max(h.size,3):E=s(u,g),x=0;x<a.length;x++)d=a[x],T=f[d],C=P.getFromId(l,u._diag[d][0])||{},y=P.getFromId(l,u._diag[d][1])||{},L(l,u,C,y,w[x],w[x],E);var m=r(l,u);return m.matrix||(m.matrix=!0),m.matrixOptions=h,m.selectedOptions=v(l,u,u.selected),m.unselectedOptions=v(l,u,u.unselected),[{x:!1,y:!1,t:{},trace:u}]}},69544:function(Y,V,e){var b=e(3400),P=e(51272),s=e(44524),L=e(43028),M=e(74428),v=e(26284),p=e(80088).isOpenSymbol;Y.exports=function(n,l,u,f){function g(C,y){return b.coerce(n,l,s,C,y)}var h=P(n,l,{name:"dimensions",handleItemDefaults:r}),w=g("diagonal.visible"),c=g("showupperhalf"),a=g("showlowerhalf"),d=v(l,h,"values");if(!d||!w&&!c&&!a){l.visible=!1;return}g("text"),g("hovertext"),g("hovertemplate"),g("xhoverformat"),g("yhoverformat"),M(n,l,u,f,g,{noAngleRef:!0,noStandOff:!0});var x=p(l.marker.symbol),T=L.isBubble(l);g("marker.line.width",x||T?1:0),t(n,l,f,g),b.coerceSelectionMarkerOpacity(l,g)};function r(o,n){function l(f,g){return b.coerce(o,n,s.dimensions,f,g)}l("label");var u=l("values");u&&u.length?l("visible"):n.visible=!1,l("axis.type"),l("axis.matches")}function t(o,n,l,u){var f=n.dimensions,g=f.length,h=n.showupperhalf,w=n.showlowerhalf,c=n.diagonal.visible,a,d,x=new Array(g),T=new Array(g);for(a=0;a<g;a++){var C=a?a+1:"";x[a]="x"+C,T[a]="y"+C}var y=u("xaxes",x),S=u("yaxes",T),A=n._diag=new Array(g);n._xaxes={},n._yaxes={};var i=[],E=[];function m(W,Z,q,re){if(W){var le=W.charAt(0),ie=l._splomAxes[le];if(n["_"+le+"axes"][W]=1,re.push(W),!(W in ie)){var K=ie[W]={};q&&(K.label=q.label||"",q.visible&&q.axis&&(q.axis.type&&(K.type=q.axis.type),q.axis.matches&&(K.matches=Z)))}}}var k=!c&&!w,I=!c&&!h;for(n._axesDim={},a=0;a<g;a++){var O=f[a],_=a===0,B=a===g-1,F=_&&k||B&&I?void 0:y[a],z=_&&I||B&&k?void 0:S[a];m(F,z,O,i),m(z,F,O,E),A[a]=[F,z],n._axesDim[F]=a,n._axesDim[z]=a}for(a=0;a<i.length;a++)for(d=0;d<E.length;d++){var N=i[a]+E[d];(a>d&&h||a<d&&w||a===d&&(c||!w||!h))&&(l._splomSubplots[N]=1)}(!w||!c&&h&&w)&&(l._splomGridDflt.xside="bottom",l._splomGridDflt.yside="left")}},83156:function(Y,V,e){var b=e(3400),P=e(90136),s=e(84236).markerStyle;Y.exports=function(M,v){var p=v.trace,r=M._fullLayout._splomScenes[p.uid];if(r){P(M,p),b.extendFlat(r.matrixOptions,s(M,p));var t=b.extendFlat({},r.matrixOptions,r.viewOpts);r.matrix.update(t,null)}}},50328:function(Y,V){V.getDimIndex=function(b,P){for(var s=P._id,L=s.charAt(0),M={x:0,y:1}[L],v=b._visibleDims,p=0;p<v.length;p++){var r=v[p];if(b._diag[r][M]===s)return p}return!1}},72248:function(Y,V,e){var b=e(50328),P=e(41272).calcHover,s=e(54460).getFromId,L=e(92880).extendFlat;function M(p,r,t,o,n){n||(n={});var l=(o||"").charAt(0)==="x",u=(o||"").charAt(0)==="y",f=v(p,r,t);if((l||u)&&n.hoversubplots==="axis"&&f[0])for(var g=(l?p.xa:p.ya)._subplotsWith,h=n.gd,w=L({},p),c=0;c<g.length;c++){var a=g[c];if(a!==p.xa._id+p.ya._id){u?w.xa=s(h,a,"x"):w.ya=s(h,a,"y");var d=l||u,x=v(w,r,t,d);f=f.concat(x)}}return f}function v(p,r,t,o){var n=p.cd,l=n[0].trace,u=p.scene,f=u.matrixOptions.cdata,g=p.xa,h=p.ya,w=g.c2p(r),c=h.c2p(t),a=p.distance,d=b.getDimIndex(l,g),x=b.getDimIndex(l,h);if(d===!1||x===!1)return[p];for(var T=f[d],C=f[x],y,S,A=a,i=0;i<T.length;i++)if(!(o&&i!==p.index)){var E=T[i],m=C[i],k=g.c2p(E)-w,I=h.c2p(m)-c,O=Math.sqrt(k*k+I*I);(o||O<A)&&(A=S=O,y=i)}return p.index=y,p.distance=A,p.dxy=S,y===void 0?[p]:[P(p,T,C,l)]}Y.exports={hoverPoints:M}},97924:function(Y,V,e){var b=e(28888);b.basePlotModule=e(99332),Y.exports=b},54840:function(Y,V,e){var b=e(55795),P=e(3400),s=e(79811),L=e(72760).selectMode;Y.exports=function(p,r,t){if(t.length)for(var o=0;o<t.length;o++)M(p,t[o][0])};function M(v,p){var r=v._fullLayout,t=r._size,o=p.trace,n=p.t,l=r._splomScenes[o.uid],u=l.matrixOptions,f=u.cdata,g=r._glcanvas.data()[0].regl,h=r.dragmode,w,c,a,d,x;if(f.length!==0){u.lower=o.showupperhalf,u.upper=o.showlowerhalf,u.diagonal=o.diagonal.visible;var T=o._visibleDims,C=f.length,y=l.viewOpts={};for(y.ranges=new Array(C),y.domains=new Array(C),x=0;x<T.length;x++){a=T[x];var S=y.ranges[x]=new Array(4),A=y.domains[x]=new Array(4);w=s.getFromId(v,o._diag[a][0]),w&&(S[0]=w._rl[0],S[2]=w._rl[1],A[0]=w.domain[0],A[2]=w.domain[1]),c=s.getFromId(v,o._diag[a][1]),c&&(S[1]=c._rl[0],S[3]=c._rl[1],A[1]=c.domain[0],A[3]=c.domain[1])}var i=v._context.plotGlPixelRatio,E=t.l*i,m=t.b*i,k=t.w*i,I=t.h*i;y.viewport=[E,m,k+E,I+m],l.matrix===!0&&(l.matrix=b(g));var O=r.clickmode.indexOf("select")>-1,_=L(h)||!!o.selectedpoints||O,B=!0;if(_){var F=o._length;if(o.selectedpoints){l.selectBatch=o.selectedpoints;var z=o.selectedpoints,N={};for(a=0;a<z.length;a++)N[z[a]]=!0;var W=[];for(a=0;a<F;a++)N[a]||W.push(a);l.unselectBatch=W}var Z=n.xpx=new Array(C),q=n.ypx=new Array(C);for(x=0;x<T.length;x++){if(a=T[x],w=s.getFromId(v,o._diag[a][0]),w)for(Z[x]=new Array(F),d=0;d<F;d++)Z[x][d]=w.c2p(f[x][d]);if(c=s.getFromId(v,o._diag[a][1]),c)for(q[x]=new Array(F),d=0;d<F;d++)q[x][d]=c.c2p(f[x][d])}if(l.selectBatch.length||l.unselectBatch.length){var re=P.extendFlat({},u,l.unselectedOptions,y),le=P.extendFlat({},u,l.selectedOptions,y);l.matrix.update(re,le),B=!1}}else n.xpx=n.ypx=null;if(B){var ie=P.extendFlat({},u,y);l.matrix.update(ie,null)}}}},72308:function(Y,V,e){var b=e(3400);Y.exports=function(s,L){var M=s._fullLayout,v=L.uid,p=M._splomScenes;p||(p=M._splomScenes={});var r={dirty:!0,selectBatch:[],unselectBatch:[]},t={matrix:!1,selectBatch:[],unselectBatch:[]},o=p[L.uid];return o||(o=p[v]=b.extendFlat({},r,t),o.draw=function(){o.matrix&&o.matrix.draw&&(o.selectBatch.length||o.unselectBatch.length?o.matrix.draw(o.unselectBatch,o.selectBatch):o.matrix.draw()),o.dirty=!1},o.destroy=function(){o.matrix&&o.matrix.destroy&&o.matrix.destroy(),o.matrixOptions=null,o.selectBatch=null,o.unselectBatch=null,o=null}),o.dirty||b.extendFlat(o,r),o}},62500:function(Y,V,e){var b=e(3400),P=b.pushUnique,s=e(43028),L=e(50328);Y.exports=function(v,p){var r=v.cd,t=r[0].trace,o=r[0].t,n=v.scene,l=n.matrixOptions.cdata,u=v.xaxis,f=v.yaxis,g=[];if(!n)return g;var h=!s.hasMarkers(t)&&!s.hasText(t);if(t.visible!==!0||h)return g;var w=L.getDimIndex(t,u),c=L.getDimIndex(t,f);if(w===!1||c===!1)return g;var a=o.xpx[w],d=o.ypx[c],x=l[w],T=l[c],C=(v.scene.selectBatch||[]).slice(),y=[];if(p!==!1&&!p.degenerate)for(var S=0;S<x.length;S++)p.contains([a[S],d[S]],null,S,v)?(g.push({pointNumber:S,x:x[S],y:T[S]}),P(C,S)):C.indexOf(S)!==-1?P(C,S):y.push(S);var A=n.matrixOptions;return!C.length&&!y.length?n.matrix.update(A,null):!n.selectBatch.length&&!n.unselectBatch.length&&n.matrix.update(n.unselectedOptions,b.extendFlat({},A,n.selectedOptions,n.viewOpts)),n.selectBatch=C,n.unselectBatch=y,g}},90167:function(Y,V,e){var b=e(49084),P=e(29736).axisHoverFormat,s=e(21776).Ks,L=e(52948),M=e(45464),v=e(92880).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:s({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:P("u",1),vhoverformat:P("v",1),whoverformat:P("w",1),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),showlegend:v({},M.showlegend,{dflt:!1})};v(p,b("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){p[t]=L[t]}),p.hoverinfo=v({},M.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,Y.exports=p},3832:function(Y,V,e){var b=e(3400),P=e(47128);function s(p,r){r._len=Math.min(r.u.length,r.v.length,r.w.length,r.x.length,r.y.length,r.z.length),r._u=v(r.u,r._len),r._v=v(r.v,r._len),r._w=v(r.w,r._len),r._x=v(r.x,r._len),r._y=v(r.y,r._len),r._z=v(r.z,r._len);var t=L(r);r._gridFill=t.fill,r._Xs=t.Xs,r._Ys=t.Ys,r._Zs=t.Zs,r._len=t.len;var o=0,n,l,u;r.starts&&(n=v(r.starts.x||[]),l=v(r.starts.y||[]),u=v(r.starts.z||[]),o=Math.min(n.length,l.length,u.length)),r._startsX=n||[],r._startsY=l||[],r._startsZ=u||[];var f=0,g=1/0,h;for(h=0;h<r._len;h++){var w=r._u[h],c=r._v[h],a=r._w[h],d=Math.sqrt(w*w+c*c+a*a);f=Math.max(f,d),g=Math.min(g,d)}for(P(p,r,{vals:[g,f],containerStr:"",cLetter:"c"}),h=0;h<o;h++){var x=n[h];t.xMax=Math.max(t.xMax,x),t.xMin=Math.min(t.xMin,x);var T=l[h];t.yMax=Math.max(t.yMax,T),t.yMin=Math.min(t.yMin,T);var C=u[h];t.zMax=Math.max(t.zMax,C),t.zMin=Math.min(t.zMin,C)}r._slen=o,r._normMax=f,r._xbnds=[t.xMin,t.xMax],r._ybnds=[t.yMin,t.yMax],r._zbnds=[t.zMin,t.zMax]}function L(p){var r=p._x,t=p._y,o=p._z,n=p._len,l,u,f,g=-1/0,h=1/0,w=-1/0,c=1/0,a=-1/0,d=1/0,x="",T,C,y,S,A,i,E,m,k;for(n&&(S=r[0],i=t[0],m=o[0]),n>1&&(A=r[n-1],E=t[n-1],k=o[n-1]),l=0;l<n;l++)g=Math.max(g,r[l]),h=Math.min(h,r[l]),w=Math.max(w,t[l]),c=Math.min(c,t[l]),a=Math.max(a,o[l]),d=Math.min(d,o[l]),!T&&r[l]!==S&&(T=!0,x+="x"),!C&&t[l]!==i&&(C=!0,x+="y"),!y&&o[l]!==m&&(y=!0,x+="z");T||(x+="x"),C||(x+="y"),y||(x+="z");var I=M(p._x),O=M(p._y),_=M(p._z);x=x.replace("x",(S>A?"-":"+")+"x"),x=x.replace("y",(i>E?"-":"+")+"y"),x=x.replace("z",(m>k?"-":"+")+"z");var B=function(){n=0,I=[],O=[],_=[]};(!n||n<I.length*O.length*_.length)&&B();var F=function(fe){return fe==="x"?r:fe==="y"?t:o},z=function(fe){return fe==="x"?I:fe==="y"?O:_},N=function(fe){return fe[n-1]<fe[0]?-1:1},W=F(x[1]),Z=F(x[3]),q=F(x[5]),re=z(x[1]).length,le=z(x[3]).length,ie=z(x[5]).length,K=!1,$=function(fe,ge,we){return re*(le*fe+ge)+we},X=N(F(x[1])),Q=N(F(x[3])),se=N(F(x[5]));for(l=0;l<ie-1;l++){for(u=0;u<le-1;u++){for(f=0;f<re-1;f++){var J=$(l,u,f),G=$(l,u,f+1),oe=$(l,u+1,f),te=$(l+1,u,f);if((!(W[J]*X<W[G]*X)||!(Z[J]*Q<Z[oe]*Q)||!(q[J]*se<q[te]*se))&&(K=!0),K)break}if(K)break}if(K)break}return K&&(b.warn("Encountered arbitrary coordinates! Unable to input data grid."),B()),{xMin:h,yMin:c,zMin:d,xMax:g,yMax:w,zMax:a,Xs:I,Ys:O,Zs:_,len:n,fill:x}}function M(p){return b.distinctVals(p).vals}function v(p,r){if(r===void 0&&(r=p.length),b.isTypedArray(p))return p.subarray(0,r);for(var t=[],o=0;o<r;o++)t[o]=+p[o];return t}Y.exports={calc:s,filter:v,processGrid:L}},25668:function(Y,V,e){var b=e(67792).gl_streamtube3d,P=b.createTubeMesh,s=e(3400),L=e(33040).parseColorScale,M=e(8932).extractOpts,v=e(52094),p={xaxis:0,yaxis:1,zaxis:2};function r(f,g){this.scene=f,this.uid=g,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(f){var g=this.scene.fullSceneLayout,h=this.scene.dataScale;function w(d,x){var T=g[x],C=h[p[x]];return T.l2c(d)/C}if(f.object===this.mesh){var c=f.data.position,a=f.data.velocity;return f.traceCoordinate=[w(c[0],"xaxis"),w(c[1],"yaxis"),w(c[2],"zaxis"),w(a[0],"xaxis"),w(a[1],"yaxis"),w(a[2],"zaxis"),f.data.intensity*this.data._normMax,f.data.divergence],f.textLabel=this.data.hovertext||this.data.text,!0}};function o(f){var g=f.length,h;return g>2?h=f.slice(1,g-1):g===2?h=[(f[0]+f[1])/2]:h=f,h}function n(f){var g=f.length;return g===1?[.5,.5]:[f[1]-f[0],f[g-1]-f[g-2]]}function l(f,g){var h=f.fullSceneLayout,w=f.dataScale,c=g._len,a={};function d(le,ie){var K=h[ie],$=w[p[ie]];return s.simpleMap(le,function(X){return K.d2l(X)*$})}if(a.vectors=v(d(g._u,"xaxis"),d(g._v,"yaxis"),d(g._w,"zaxis"),c),!c)return{positions:[],cells:[]};var x=d(g._Xs,"xaxis"),T=d(g._Ys,"yaxis"),C=d(g._Zs,"zaxis");a.meshgrid=[x,T,C],a.gridFill=g._gridFill;var y=g._slen;if(y)a.startingPositions=v(d(g._startsX,"xaxis"),d(g._startsY,"yaxis"),d(g._startsZ,"zaxis"));else{for(var S=T[0],A=o(x),i=o(C),E=new Array(A.length*i.length),m=0,k=0;k<A.length;k++)for(var I=0;I<i.length;I++)E[m++]=[A[k],S,i[I]];a.startingPositions=E}a.colormap=L(g),a.tubeSize=g.sizeref,a.maxLength=g.maxdisplayed;var O=d(g._xbnds,"xaxis"),_=d(g._ybnds,"yaxis"),B=d(g._zbnds,"zaxis"),F=n(x),z=n(T),N=n(C),W=[[O[0]-F[0],_[0]-z[0],B[0]-N[0]],[O[1]+F[1],_[1]+z[1],B[1]+N[1]]],Z=b(a,W),q=M(g);Z.vertexIntensityBounds=[q.min/g._normMax,q.max/g._normMax];var re=g.lightposition;return Z.lightPosition=[re.x,re.y,re.z],Z.ambient=g.lighting.ambient,Z.diffuse=g.lighting.diffuse,Z.specular=g.lighting.specular,Z.roughness=g.lighting.roughness,Z.fresnel=g.lighting.fresnel,Z.opacity=g.opacity,g._pad=Z.tubeScale*g.sizeref*2,Z}t.update=function(f){this.data=f;var g=l(this.scene,f);this.mesh.update(g)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function u(f,g){var h=f.glplot.gl,w=l(f,g),c=P(h,w),a=new r(f,g.uid);return a.mesh=c,a.data=g,c._trace=a,f.glplot.add(c),a}Y.exports=u},54304:function(Y,V,e){var b=e(3400),P=e(27260),s=e(90167);Y.exports=function(M,v,p,r){function t(h,w){return b.coerce(M,v,s,h,w)}var o=t("u"),n=t("v"),l=t("w"),u=t("x"),f=t("y"),g=t("z");if(!o||!o.length||!n||!n.length||!l||!l.length||!u||!u.length||!f||!f.length||!g||!g.length){v.visible=!1;return}t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),P(M,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},15436:function(Y,V,e){Y.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(90167),supplyDefaults:e(54304),colorbar:{min:"cmin",max:"cmax"},calc:e(3832).calc,plot:e(25668),eventData:function(b,P){return b.tubex=b.x,b.tubey=b.y,b.tubez=b.z,b.tubeu=P.traceCoordinate[3],b.tubev=P.traceCoordinate[4],b.tubew=P.traceCoordinate[5],b.norm=P.traceCoordinate[6],b.divergence=P.traceCoordinate[7],delete b.x,delete b.y,delete b.z,b},meta:{}}},424:function(Y,V,e){var b=e(45464),P=e(21776).Ks,s=e(21776).Gw,L=e(49084),M=e(86968).u,v=e(74996),p=e(27328),r=e(92880).extendFlat,t=e(98192).c;Y.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:r({colors:{valType:"data_array",editType:"calc"},line:{color:r({},v.marker.line.color,{dflt:null}),width:r({},v.marker.line.width,{dflt:1}),editType:"calc"},pattern:t,editType:"calc"},L("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:s({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:r({},b.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:P({},{keys:p.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:r({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:M({name:"sunburst",trace:!0,editType:"calc"})}},54904:function(Y,V,e){var b=e(7316);V.name="sunburst",V.plot=function(P,s,L,M){b.plotBasePlot(V.name,P,s,L,M)},V.clean=function(P,s,L,M){b.cleanBasePlot(V.name,P,s,L,M)}},3776:function(Y,V,e){var b=e(74148),P=e(38248),s=e(3400),L=e(8932).makeColorScaleFuncFromTrace,M=e(45768).makePullColorFn,v=e(45768).generateExtendedColors,p=e(8932).calc,r=e(39032).ALMOST_EQUAL,t={},o={},n={};V.calc=function(u,f){var g=u._fullLayout,h=f.ids,w=s.isArrayOrTypedArray(h),c=f.labels,a=f.parents,d=f.values,x=s.isArrayOrTypedArray(d),T=[],C={},y={},S=function(X,Q){C[X]?C[X].push(Q):C[X]=[Q],y[Q]=1},A=function(X){return X||typeof X=="number"},i=function(X){return!x||P(d[X])&&d[X]>=0},E,m,k;w?(E=Math.min(h.length,a.length),m=function(X){return A(h[X])&&i(X)},k=function(X){return String(h[X])}):(E=Math.min(c.length,a.length),m=function(X){return A(c[X])&&i(X)},k=function(X){return String(c[X])}),x&&(E=Math.min(E,d.length));for(var I=0;I<E;I++)if(m(I)){var O=k(I),_=A(a[I])?String(a[I]):"",B={i:I,id:O,pid:_,label:A(c[I])?String(c[I]):""};x&&(B.v=+d[I]),T.push(B),S(_,O)}if(C[""]){if(C[""].length>1){for(var N=s.randstr(),W=0;W<T.length;W++)T[W].pid===""&&(T[W].pid=N);T.unshift({hasMultipleRoots:!0,id:N,pid:"",label:""})}}else{var F=[],z;for(z in C)y[z]||F.push(z);if(F.length===1)z=F[0],T.unshift({hasImpliedRoot:!0,id:z,pid:"",label:z});else return s.warn(["Multiple implied roots, cannot build",f.type,"hierarchy of",f.name+".","These roots include:",F.join(", ")].join(" "))}var Z;try{Z=b.stratify().id(function(X){return X.id}).parentId(function(X){return X.pid})(T)}catch(X){return s.warn(["Failed to build",f.type,"hierarchy of",f.name+".","Error:",X.message].join(" "))}var q=b.hierarchy(Z),re=!1;if(x)switch(f.branchvalues){case"remainder":q.sum(function(X){return X.data.v});break;case"total":q.each(function(X){var Q=X.data.data,se=Q.v;if(X.children){var J=X.children.reduce(function(G,oe){return G+oe.data.data.v},0);if((Q.hasImpliedRoot||Q.hasMultipleRoots)&&(se=J),se<J*r)return re=!0,s.warn(["Total value for node",X.data.data.id,"of",f.name,"is smaller than the sum of its children.",`
parent value =`,se,`
children sum =`,J].join(" "))}X.value=se});break}else l(q,f,{branches:f.count.indexOf("branches")!==-1,leaves:f.count.indexOf("leaves")!==-1});if(!re){f.sort&&q.sort(function(X,Q){return Q.value-X.value});var le,ie,K=f.marker.colors||[],$=!!K.length;return f._hasColorscale?($||(K=x?f.values:f._values),p(u,f,{vals:K,containerStr:"marker",cLetter:"c"}),ie=L(f.marker)):le=M(g["_"+f.type+"colormap"]),q.each(function(X){var Q=X.data.data;Q.color=f._hasColorscale?ie(K[Q.i]):le(K[Q.i],Q.id)}),T[0].hierarchy=q,T}},V._runCrossTraceCalc=function(u,f){var g=f._fullLayout,h=f.calcdata,w=g[u+"colorway"],c=g["_"+u+"colormap"];g["extend"+u+"colors"]&&(w=v(w,u==="icicle"?n:u==="treemap"?o:t));var a=0,d;function x(S){var A=S.data.data,i=A.id;A.color===!1&&(c[i]?A.color=c[i]:S.parent?S.parent.parent?A.color=S.parent.data.data.color:(c[i]=A.color=w[a%w.length],a++):A.color=d)}for(var T=0;T<h.length;T++){var C=h[T],y=C[0];y.trace.type===u&&y.hierarchy&&(d=y.trace.root.color,y.hierarchy.each(x))}},V.crossTraceCalc=function(u){return V._runCrossTraceCalc("sunburst",u)};function l(u,f,g){var h=0,w=u.children;if(w){for(var c=w.length,a=0;a<c;a++)h+=l(w[a],f,g);g.branches&&h++}else g.leaves&&h++;return u.value=u.data.data.value=h,f._values||(f._values=[]),f._values[u.data.data.i]=h,h}},27328:function(Y){Y.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},25244:function(Y,V,e){var b=e(3400),P=e(424),s=e(86968).Q,L=e(31508).handleText,M=e(74174).handleMarkerDefaults,v=e(8932),p=v.hasColorscale,r=v.handleDefaults;Y.exports=function(o,n,l,u){function f(x,T){return b.coerce(o,n,P,x,T)}var g=f("labels"),h=f("parents");if(!g||!g.length||!h||!h.length){n.visible=!1;return}var w=f("values");w&&w.length?f("branchvalues"):f("count"),f("level"),f("maxdepth"),M(o,n,u,f);var c=n._hasColorscale=p(o,"marker","colors")||(o.marker||{}).coloraxis;c&&r(o,n,u,f,{prefix:"marker.",cLetter:"c"}),f("leaf.opacity",c?1:.7);var a=f("text");f("texttemplate"),n.texttemplate||f("textinfo",b.isArrayOrTypedArray(a)?"text+label":"label"),f("hovertext"),f("hovertemplate");var d="auto";L(o,n,u,f,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),f("insidetextorientation"),f("sort"),f("rotation"),f("root.color"),s(n,u,f),n._length=null}},60404:function(Y,V,e){var b=e(43616),P=e(76308);Y.exports=function(L,M,v,p,r){var t=M.data.data,o=t.i,n=r||t.color;if(o>=0){M.i=t.i;var l=v.marker;l.pattern?(!l.colors||!l.pattern.shape)&&(l.color=n,M.color=n):(l.color=n,M.color=n),b.pointStyle(L,v,p,M)}else P.fill(L,n)}},45716:function(Y,V,e){var b=e(33428),P=e(24040),s=e(10624).appendArrayPointValue,L=e(93024),M=e(3400),v=e(95924),p=e(78176),r=e(69656),t=r.formatPieValue;Y.exports=function(l,u,f,g,h){var w=g[0],c=w.trace,a=w.hierarchy,d=c.type==="sunburst",x=c.type==="treemap"||c.type==="icicle";"_hasHoverLabel"in c||(c._hasHoverLabel=!1),"_hasHoverEvent"in c||(c._hasHoverEvent=!1);var T=function(S){var A=f._fullLayout;if(!(f._dragging||A.hovermode===!1)){var i=f._fullData[c.index],E=S.data.data,m=E.i,k=p.isHierarchyRoot(S),I=p.getParent(a,S),O=p.getValue(S),_=function(G){return M.castOption(i,m,G)},B=_("hovertemplate"),F=L.castHoverinfo(i,A,m),z=A.separators,N;if(B||F&&F!=="none"&&F!=="skip"){var W,Z;d&&(W=w.cx+S.pxmid[0]*(1-S.rInscribed),Z=w.cy+S.pxmid[1]*(1-S.rInscribed)),x&&(W=S._hoverX,Z=S._hoverY);var q={},re=[],le=[],ie=function(G){return re.indexOf(G)!==-1};F&&(re=F==="all"?i._module.attributes.hoverinfo.flags:F.split("+")),q.label=E.label,ie("label")&&q.label&&le.push(q.label),E.hasOwnProperty("v")&&(q.value=E.v,q.valueLabel=t(q.value,z),ie("value")&&le.push(q.valueLabel)),q.currentPath=S.currentPath=p.getPath(S.data),ie("current path")&&!k&&le.push(q.currentPath);var K,$=[],X=function(){$.indexOf(K)===-1&&(le.push(K),$.push(K))};q.percentParent=S.percentParent=O/p.getValue(I),q.parent=S.parentString=p.getPtLabel(I),ie("percent parent")&&(K=p.formatPercent(q.percentParent,z)+" of "+q.parent,X()),q.percentEntry=S.percentEntry=O/p.getValue(u),q.entry=S.entry=p.getPtLabel(u),ie("percent entry")&&!k&&!S.onPathbar&&(K=p.formatPercent(q.percentEntry,z)+" of "+q.entry,X()),q.percentRoot=S.percentRoot=O/p.getValue(a),q.root=S.root=p.getPtLabel(a),ie("percent root")&&!k&&(K=p.formatPercent(q.percentRoot,z)+" of "+q.root,X()),q.text=_("hovertext")||_("text"),ie("text")&&(K=q.text,M.isValidTextValue(K)&&le.push(K)),N=[o(S,i,h.eventDataKeys)];var Q={trace:i,y:Z,_x0:S._x0,_x1:S._x1,_y0:S._y0,_y1:S._y1,text:le.join("<br>"),name:B||ie("name")?i.name:void 0,color:_("hoverlabel.bgcolor")||E.color,borderColor:_("hoverlabel.bordercolor"),fontFamily:_("hoverlabel.font.family"),fontSize:_("hoverlabel.font.size"),fontColor:_("hoverlabel.font.color"),fontWeight:_("hoverlabel.font.weight"),fontStyle:_("hoverlabel.font.style"),fontVariant:_("hoverlabel.font.variant"),nameLength:_("hoverlabel.namelength"),textAlign:_("hoverlabel.align"),hovertemplate:B,hovertemplateLabels:q,eventData:N};d&&(Q.x0=W-S.rInscribed*S.rpx1,Q.x1=W+S.rInscribed*S.rpx1,Q.idealAlign=S.pxmid[0]<0?"left":"right"),x&&(Q.x=W,Q.idealAlign=W<0?"left":"right");var se=[];L.loneHover(Q,{container:A._hoverlayer.node(),outerContainer:A._paper.node(),gd:f,inOut_bbox:se}),N[0].bbox=se[0],c._hasHoverLabel=!0}if(x){var J=l.select("path.surface");h.styleOne(J,S,i,f,{hovered:!0})}c._hasHoverEvent=!0,f.emit("plotly_hover",{points:N||[o(S,i,h.eventDataKeys)],event:b.event})}},C=function(S){var A=f._fullLayout,i=f._fullData[c.index],E=b.select(this).datum();if(c._hasHoverEvent&&(S.originalEvent=b.event,f.emit("plotly_unhover",{points:[o(E,i,h.eventDataKeys)],event:b.event}),c._hasHoverEvent=!1),c._hasHoverLabel&&(L.loneUnhover(A._hoverlayer.node()),c._hasHoverLabel=!1),x){var m=l.select("path.surface");h.styleOne(m,E,i,f,{hovered:!1})}},y=function(S){var A=f._fullLayout,i=f._fullData[c.index],E=d&&(p.isHierarchyRoot(S)||p.isLeaf(S)),m=p.getPtId(S),k=p.isEntry(S)?p.findEntryWithChild(a,m):p.findEntryWithLevel(a,m),I=p.getPtId(k),O={points:[o(S,i,h.eventDataKeys)],event:b.event};E||(O.nextLevel=I);var _=v.triggerHandler(f,"plotly_"+c.type+"click",O);if(_!==!1&&A.hovermode&&(f._hoverdata=[o(S,i,h.eventDataKeys)],L.click(f,b.event)),!E&&_!==!1&&!f._dragging&&!f._transitioning){P.call("_storeDirectGUIEdit",i,A._tracePreGUI[i.uid],{level:i.level});var B={data:[{level:I}],traces:[c.index]},F={frame:{redraw:!1,duration:h.transitionTime},transition:{duration:h.transitionTime,easing:h.transitionEasing},mode:"immediate",fromcurrent:!0};L.loneUnhover(A._hoverlayer.node()),P.call("animate",f,B,F)}};l.on("mouseover",T),l.on("mouseout",C),l.on("click",y)};function o(n,l,u){for(var f=n.data.data,g={curveNumber:l.index,pointNumber:f.i,data:l._input,fullData:l},h=0;h<u.length;h++){var w=u[h];w in n&&(g[w]=n[w])}return"parentString"in n&&!p.isHierarchyRoot(n)&&(g.parent=n.parentString),s(g,l,f.i),g}},78176:function(Y,V,e){var b=e(3400),P=e(76308),s=e(93972),L=e(69656);V.findEntryWithLevel=function(r,t){var o;return t&&r.eachAfter(function(n){if(V.getPtId(n)===t)return o=n.copy()}),o||r},V.findEntryWithChild=function(r,t){var o;return r.eachAfter(function(n){for(var l=n.children||[],u=0;u<l.length;u++){var f=l[u];if(V.getPtId(f)===t)return o=n.copy()}}),o||r},V.isEntry=function(r){return!r.parent},V.isLeaf=function(r){return!r.children},V.getPtId=function(r){return r.data.data.id},V.getPtLabel=function(r){return r.data.data.label},V.getValue=function(r){return r.value},V.isHierarchyRoot=function(r){return p(r)===""},V.setSliceCursor=function(r,t,o){var n=o.isTransitioning;if(!n){var l=r.datum();n=o.hideOnRoot&&V.isHierarchyRoot(l)||o.hideOnLeaves&&V.isLeaf(l)}s(r,n?null:"pointer")};function M(r,t,o){return{color:V.getOutsideTextFontKey("color",r,t,o),family:V.getOutsideTextFontKey("family",r,t,o),size:V.getOutsideTextFontKey("size",r,t,o),weight:V.getOutsideTextFontKey("weight",r,t,o),style:V.getOutsideTextFontKey("style",r,t,o),variant:V.getOutsideTextFontKey("variant",r,t,o),textcase:V.getOutsideTextFontKey("textcase",r,t,o),lineposition:V.getOutsideTextFontKey("lineposition",r,t,o),shadow:V.getOutsideTextFontKey("shadow",r,t,o)}}function v(r,t,o,n){var l=(n||{}).onPathbar,u=t.data.data,f=u.i,g=b.castOption(r,f,(l?"pathbar.textfont":"insidetextfont")+".color");return!g&&r._input.textfont&&(g=b.castOption(r._input,f,"textfont.color")),{color:g||P.contrast(u.color),family:V.getInsideTextFontKey("family",r,t,o,n),size:V.getInsideTextFontKey("size",r,t,o,n),weight:V.getInsideTextFontKey("weight",r,t,o,n),style:V.getInsideTextFontKey("style",r,t,o,n),variant:V.getInsideTextFontKey("variant",r,t,o,n),textcase:V.getInsideTextFontKey("textcase",r,t,o,n),lineposition:V.getInsideTextFontKey("lineposition",r,t,o,n),shadow:V.getInsideTextFontKey("shadow",r,t,o,n)}}V.getInsideTextFontKey=function(r,t,o,n,l){var u=(l||{}).onPathbar,f=u?"pathbar.textfont":"insidetextfont",g=o.data.data.i;return b.castOption(t,g,f+"."+r)||b.castOption(t,g,"textfont."+r)||n.size},V.getOutsideTextFontKey=function(r,t,o,n){var l=o.data.data.i;return b.castOption(t,l,"outsidetextfont."+r)||b.castOption(t,l,"textfont."+r)||n.size},V.isOutsideText=function(r,t){return!r._hasColorscale&&V.isHierarchyRoot(t)},V.determineTextFont=function(r,t,o,n){return V.isOutsideText(r,t)?M(r,t,o):v(r,t,o,n)},V.hasTransition=function(r){return!!(r&&r.duration>0)},V.getMaxDepth=function(r){return r.maxdepth>=0?r.maxdepth:1/0},V.isHeader=function(r,t){return!(V.isLeaf(r)||r.depth===t._maxDepth-1)};function p(r){return r.data.data.pid}V.getParent=function(r,t){return V.findEntryWithLevel(r,p(t))},V.listPath=function(r,t){var o=r.parent;if(!o)return[];var n=t?[o.data[t]]:[o];return V.listPath(o,t).concat(n)},V.getPath=function(r){return V.listPath(r,"label").join("/")+"/"},V.formatValue=L.formatPieValue,V.formatPercent=function(r,t){var o=b.formatPercent(r,0);return o==="0%"&&(o=L.formatPiePercent(r,t)),o}},5621:function(Y,V,e){Y.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(54904),categories:[],animatable:!0,attributes:e(424),layoutAttributes:e(84920),supplyDefaults:e(25244),supplyLayoutDefaults:e(28732),calc:e(3776).calc,crossTraceCalc:e(3776).crossTraceCalc,plot:e(96488).plot,style:e(85676).style,colorbar:e(5528),meta:{}}},84920:function(Y){Y.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},28732:function(Y,V,e){var b=e(3400),P=e(84920);Y.exports=function(L,M){function v(p,r){return b.coerce(L,M,P,p,r)}v("sunburstcolorway",M.colorway),v("extendsunburstcolors")}},96488:function(Y,V,e){var b=e(33428),P=e(74148),s=e(67756).qy,L=e(43616),M=e(3400),v=e(72736),p=e(82744),r=p.recordMinTextSize,t=p.clearMinTextSize,o=e(37820),n=e(69656).getRotationAngle,l=o.computeTransform,u=o.transformInsideText,f=e(85676).styleOne,g=e(60100).resizeText,h=e(45716),w=e(27328),c=e(78176);V.plot=function(y,S,A,i){var E=y._fullLayout,m=E._sunburstlayer,k,I,O=!A,_=!E.uniformtext.mode&&c.hasTransition(A);if(t("sunburst",E),k=m.selectAll("g.trace.sunburst").data(S,function(F){return F[0].trace.uid}),k.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),k.order(),_){i&&(I=i());var B=b.transition().duration(A.duration).ease(A.easing).each("end",function(){I&&I()}).each("interrupt",function(){I&&I()});B.each(function(){m.selectAll("g.trace").each(function(F){a(y,F,this,A)})})}else k.each(function(F){a(y,F,this,A)}),E.uniformtext.mode&&g(y,E._sunburstlayer.selectAll(".trace"),"sunburst");O&&k.exit().remove()};function a(y,S,A,i){var E=y._context.staticPlot,m=y._fullLayout,k=!m.uniformtext.mode&&c.hasTransition(i),I=b.select(A),O=I.selectAll("g.slice"),_=S[0],B=_.trace,F=_.hierarchy,z=c.findEntryWithLevel(F,B.level),N=c.getMaxDepth(B),W=m._size,Z=B.domain,q=W.w*(Z.x[1]-Z.x[0]),re=W.h*(Z.y[1]-Z.y[0]),le=.5*Math.min(q,re),ie=_.cx=W.l+W.w*(Z.x[1]+Z.x[0])/2,K=_.cy=W.t+W.h*(1-Z.y[0])-re/2;if(!z)return O.remove();var $=null,X={};k&&O.each(function(He){X[c.getPtId(He)]={rpx0:He.rpx0,rpx1:He.rpx1,x0:He.x0,x1:He.x1,transform:He.transform},!$&&c.isEntry(He)&&($=He)});var Q=d(z).descendants(),se=z.height+1,J=0,G=N;_.hasMultipleRoots&&c.isHierarchyRoot(z)&&(Q=Q.slice(1),se-=1,J=1,G+=1),Q=Q.filter(function(He){return He.y1<=G});var oe=n(B.rotation);oe&&Q.forEach(function(He){He.x0+=oe,He.x1+=oe});var te=Math.min(se,N),fe=function(He){return(He-J)/te*le},ge=function(He,je){return[He*Math.cos(je),-He*Math.sin(je)]},we=function(He){return M.pathAnnulus(He.rpx0,He.rpx1,He.x0,He.x1,ie,K)},xe=function(He){return ie+T(He)[0]*(He.transform.rCenter||0)+(He.transform.x||0)},Ce=function(He){return K+T(He)[1]*(He.transform.rCenter||0)+(He.transform.y||0)};O=O.data(Q,c.getPtId),O.enter().append("g").classed("slice",!0),k?O.exit().transition().each(function(){var He=b.select(this),je=He.select("path.surface");je.transition().attrTween("d",function(Ze){var $e=Re(Ze);return function(ut){return we($e(ut))}});var at=He.select("g.slicetext");at.attr("opacity",0)}).remove():O.exit().remove(),O.order();var De=null;if(k&&$){var Oe=c.getPtId($);O.each(function(He){De===null&&c.getPtId(He)===Oe&&(De=He.x1)})}var Te=O;k&&(Te=Te.transition().each("end",function(){var He=b.select(this);c.setSliceCursor(He,y,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),Te.each(function(He){var je=b.select(this),at=M.ensureSingle(je,"path","surface",function(xt){xt.style("pointer-events",E?"none":"all")});He.rpx0=fe(He.y0),He.rpx1=fe(He.y1),He.xmid=(He.x0+He.x1)/2,He.pxmid=ge(He.rpx1,He.xmid),He.midangle=-(He.xmid-Math.PI/2),He.startangle=-(He.x0-Math.PI/2),He.stopangle=-(He.x1-Math.PI/2),He.halfangle=.5*Math.min(M.angleDelta(He.x0,He.x1)||Math.PI,Math.PI),He.ring=1-He.rpx0/He.rpx1,He.rInscribed=x(He),k?at.transition().attrTween("d",function(xt){var St=Me(xt);return function(tt){return we(St(tt))}}):at.attr("d",we),je.call(h,z,y,S,{eventDataKeys:w.eventDataKeys,transitionTime:w.CLICK_TRANSITION_TIME,transitionEasing:w.CLICK_TRANSITION_EASING}).call(c.setSliceCursor,y,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:y._transitioning}),at.call(f,He,B,y);var Ze=M.ensureSingle(je,"g","slicetext"),$e=M.ensureSingle(Ze,"text","",function(xt){xt.attr("data-notex",1)}),ut=M.ensureUniformFontSize(y,c.determineTextFont(B,He,m.font));$e.text(V.formatSliceLabel(He,z,B,S,m)).classed("slicetext",!0).attr("text-anchor","middle").call(L.font,ut).call(v.convertToTspans,y);var ht=L.bBox($e.node());He.transform=u(ht,He,_),He.transform.targetX=xe(He),He.transform.targetY=Ce(He);var vt=function(xt,St){var tt=xt.transform;return l(tt,St),tt.fontSize=ut.size,r(B.type,tt,m),M.getTextTransform(tt)};k?$e.transition().attrTween("transform",function(xt){var St=ke(xt);return function(tt){return vt(St(tt),ht)}}):$e.attr("transform",vt(He,ht))});function Re(He){var je=c.getPtId(He),at=X[je],Ze=X[c.getPtId(z)],$e;if(Ze){var ut=(He.x1>Ze.x1?2*Math.PI:0)+oe;$e=He.rpx1<Ze.rpx1?{x0:He.x0,x1:He.x1,rpx0:0,rpx1:0}:{x0:ut,x1:ut,rpx0:He.rpx0,rpx1:He.rpx1}}else{var ht,vt=c.getPtId(He.parent);O.each(function(Ve){if(c.getPtId(Ve)===vt)return ht=Ve});var xt=ht.children,St;xt.forEach(function(Ve,Ge){if(c.getPtId(Ve)===je)return St=Ge});var tt=xt.length,Ie=s(ht.x0,ht.x1);$e={rpx0:le,rpx1:le,x0:Ie(St/tt),x1:Ie((St+1)/tt)}}return s(at,$e)}function Me(He){var je=X[c.getPtId(He)],at,Ze={x0:He.x0,x1:He.x1,rpx0:He.rpx0,rpx1:He.rpx1};if(je)at=je;else if($)if(He.parent)if(De){var $e=(He.x1>De?2*Math.PI:0)+oe;at={x0:$e,x1:$e}}else at={rpx0:le,rpx1:le},M.extendFlat(at,Se(He));else at={rpx0:0,rpx1:0};else at={x0:oe,x1:oe};return s(at,Ze)}function ke(He){var je=X[c.getPtId(He)],at,Ze=He.transform;if(je)at=je;else if(at={rpx1:He.rpx1,transform:{textPosAngle:Ze.textPosAngle,scale:0,rotate:Ze.rotate,rCenter:Ze.rCenter,x:Ze.x,y:Ze.y}},$)if(He.parent)if(De){var $e=He.x1>De?2*Math.PI:0;at.x0=at.x1=$e}else M.extendFlat(at,Se(He));else at.x0=at.x1=oe;else at.x0=at.x1=oe;var ut=s(at.transform.textPosAngle,He.transform.textPosAngle),ht=s(at.rpx1,He.rpx1),vt=s(at.x0,He.x0),xt=s(at.x1,He.x1),St=s(at.transform.scale,Ze.scale),tt=s(at.transform.rotate,Ze.rotate),Ie=Ze.rCenter===0?3:at.transform.rCenter===0?1/3:1,Ve=s(at.transform.rCenter,Ze.rCenter),Ge=function(Xe){return Ve(Math.pow(Xe,Ie))};return function(Xe){var Le=ht(Xe),Fe=vt(Xe),Ue=xt(Xe),Ee=Ge(Xe),he=ge(Le,(Fe+Ue)/2),ye=ut(Xe),_e={pxmid:he,rpx1:Le,transform:{textPosAngle:ye,rCenter:Ee,x:Ze.x,y:Ze.y}};return r(B.type,Ze,m),{transform:{targetX:xe(_e),targetY:Ce(_e),scale:St(Xe),rotate:tt(Xe),rCenter:Ee}}}}function Se(He){var je=He.parent,at=X[c.getPtId(je)],Ze={};if(at){var $e=je.children,ut=$e.indexOf(He),ht=$e.length,vt=s(at.x0,at.x1);Ze.x0=vt(ut/ht),Ze.x1=vt(ut/ht)}else Ze.x0=Ze.x1=0;return Ze}}function d(y){return P.partition().size([2*Math.PI,y.height+1])(y)}V.formatSliceLabel=function(y,S,A,i,E){var m=A.texttemplate,k=A.textinfo;if(!m&&(!k||k==="none"))return"";var I=E.separators,O=i[0],_=y.data.data,B=O.hierarchy,F=c.isHierarchyRoot(y),z=c.getParent(B,y),N=c.getValue(y);if(!m){var W=k.split("+"),Z=function(J){return W.indexOf(J)!==-1},q=[],re;if(Z("label")&&_.label&&q.push(_.label),_.hasOwnProperty("v")&&Z("value")&&q.push(c.formatValue(_.v,I)),!F){Z("current path")&&q.push(c.getPath(y.data));var le=0;Z("percent parent")&&le++,Z("percent entry")&&le++,Z("percent root")&&le++;var ie=le>1;if(le){var K,$=function(J){re=c.formatPercent(K,I),ie&&(re+=" of "+J),q.push(re)};Z("percent parent")&&!F&&(K=N/c.getValue(z),$("parent")),Z("percent entry")&&(K=N/c.getValue(S),$("entry")),Z("percent root")&&(K=N/c.getValue(B),$("root"))}}return Z("text")&&(re=M.castOption(A,_.i,"text"),M.isValidTextValue(re)&&q.push(re)),q.join("<br>")}var X=M.castOption(A,_.i,"texttemplate");if(!X)return"";var Q={};_.label&&(Q.label=_.label),_.hasOwnProperty("v")&&(Q.value=_.v,Q.valueLabel=c.formatValue(_.v,I)),Q.currentPath=c.getPath(y.data),F||(Q.percentParent=N/c.getValue(z),Q.percentParentLabel=c.formatPercent(Q.percentParent,I),Q.parent=c.getPtLabel(z)),Q.percentEntry=N/c.getValue(S),Q.percentEntryLabel=c.formatPercent(Q.percentEntry,I),Q.entry=c.getPtLabel(S),Q.percentRoot=N/c.getValue(B),Q.percentRootLabel=c.formatPercent(Q.percentRoot,I),Q.root=c.getPtLabel(B),_.hasOwnProperty("color")&&(Q.color=_.color);var se=M.castOption(A,_.i,"text");return(M.isValidTextValue(se)||se==="")&&(Q.text=se),Q.customdata=M.castOption(A,_.i,"customdata"),M.texttemplateString(X,Q,E._d3locale,Q,A._meta||{})};function x(y){return y.rpx0===0&&M.isFullCircle([y.x0,y.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(y.halfangle)),y.ring/2))}function T(y){return C(y.rpx1,y.transform.textPosAngle)}function C(y,S){return[y*Math.sin(S),-y*Math.cos(S)]}},85676:function(Y,V,e){var b=e(33428),P=e(76308),s=e(3400),L=e(82744).resizeText,M=e(60404);function v(r){var t=r._fullLayout._sunburstlayer.selectAll(".trace");L(r,t,"sunburst"),t.each(function(o){var n=b.select(this),l=o[0],u=l.trace;n.style("opacity",u.opacity),n.selectAll("path.surface").each(function(f){b.select(this).call(p,f,u,r)})})}function p(r,t,o,n){var l=t.data.data,u=!t.children,f=l.i,g=s.castOption(o,f,"marker.line.color")||P.defaultLine,h=s.castOption(o,f,"marker.line.width")||0;r.call(M,t,o,n).style("stroke-width",h).call(P.stroke,g).style("opacity",u?o.leaf.opacity:null)}Y.exports={style:v,styleOne:p}},16716:function(Y,V,e){var b=e(76308),P=e(49084),s=e(29736).axisHoverFormat,L=e(21776).Ks,M=e(45464),v=e(92880).extendFlat,p=e(67824).overrideAll;function r(n){return{valType:"boolean",dflt:!1}}function t(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:r(),y:r(),z:r()},color:{valType:"color",dflt:b.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:b.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var o=Y.exports=p(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:L(),xhoverformat:s("x"),yhoverformat:s("y"),zhoverformat:s("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},P("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},P.zauto,{}),zmin:v({},P.zmin,{}),zmax:v({},P.zmax,{})},hoverinfo:v({},M.hoverinfo),showlegend:v({},M.showlegend,{dflt:!1})}),"calc","nested");o.x.editType=o.y.editType=o.z.editType="calc+clearAxisTypes",o.transforms=void 0},56576:function(Y,V,e){var b=e(47128);Y.exports=function(s,L){L.surfacecolor?b(s,L,{vals:L.surfacecolor,containerStr:"",cLetter:"c"}):b(s,L,{vals:L.z,containerStr:"",cLetter:"c"})}},79164:function(Y,V,e){var b=e(67792).gl_surface3d,P=e(67792).ndarray,s=e(67792).ndarray_linear_interpolate.d2,L=e(70448),M=e(11240),v=e(3400).isArrayOrTypedArray,p=e(33040).parseColorScale,r=e(43080),t=e(8932).extractOpts;function o(i,E,m){this.scene=i,this.uid=m,this.surface=E,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=o.prototype;n.getXat=function(i,E,m,k){var I=v(this.data.x)?v(this.data.x[0])?this.data.x[E][i]:this.data.x[i]:i;return m===void 0?I:k.d2l(I,0,m)},n.getYat=function(i,E,m,k){var I=v(this.data.y)?v(this.data.y[0])?this.data.y[E][i]:this.data.y[E]:E;return m===void 0?I:k.d2l(I,0,m)},n.getZat=function(i,E,m,k){var I=this.data.z[E][i];return I===null&&this.data.connectgaps&&this.data._interpolatedZ&&(I=this.data._interpolatedZ[E][i]),m===void 0?I:k.d2l(I,0,m)},n.handlePick=function(i){if(i.object===this.surface){var E=(i.data.index[0]-1)/this.dataScaleX-1,m=(i.data.index[1]-1)/this.dataScaleY-1,k=Math.max(Math.min(Math.round(E),this.data.z[0].length-1),0),I=Math.max(Math.min(Math.round(m),this.data._ylength-1),0);i.index=[k,I],i.traceCoordinate=[this.getXat(k,I),this.getYat(k,I),this.getZat(k,I)],i.dataCoordinate=[this.getXat(k,I,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(k,I,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(k,I,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var O=0;O<3;O++){var _=i.dataCoordinate[O];_!=null&&(i.dataCoordinate[O]*=this.scene.dataScale[O])}var B=this.data.hovertext||this.data.text;return v(B)&&B[I]&&B[I][k]!==void 0?i.textLabel=B[I][k]:B?i.textLabel=B:i.textLabel="",i.data.dataCoordinate=i.dataCoordinate.slice(),this.surface.highlight(i.data),this.scene.glplot.spikes.position=i.dataCoordinate,!0}};function l(i){var E=i[0].rgb,m=i[i.length-1].rgb;return E[0]===m[0]&&E[1]===m[1]&&E[2]===m[2]&&E[3]===m[3]}var u=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function f(i,E){if(i<E)return 0;for(var m=0;Math.floor(i%E)===0;)i/=E,m++;return m}function g(i){for(var E=[],m=0;m<u.length;m++){var k=u[m];E.push(f(i,k))}return E}function h(i){for(var E=g(i),m=i,k=0;k<u.length;k++)if(E[k]>0){m=u[k];break}return m}function w(i,E){if(!(i<1||E<1)){for(var m=g(i),k=g(E),I=1,O=0;O<u.length;O++)I*=Math.pow(u[O],Math.max(m[O],k[O]));return I}}function c(i){if(i.length!==0){for(var E=1,m=0;m<i.length;m++)E=w(E,i[m]);return E}}n.calcXnums=function(i){var E,m=[];for(E=1;E<i;E++){var k=this.getXat(E-1,0),I=this.getXat(E,0);I!==k&&k!==void 0&&k!==null&&I!==void 0&&I!==null?m[E-1]=Math.abs(I-k):m[E-1]=0}var O=0;for(E=1;E<i;E++)O+=m[E-1];for(E=1;E<i;E++)m[E-1]===0?m[E-1]=1:m[E-1]=Math.round(O/m[E-1]);return m},n.calcYnums=function(i){var E,m=[];for(E=1;E<i;E++){var k=this.getYat(0,E-1),I=this.getYat(0,E);I!==k&&k!==void 0&&k!==null&&I!==void 0&&I!==null?m[E-1]=Math.abs(I-k):m[E-1]=0}var O=0;for(E=1;E<i;E++)O+=m[E-1];for(E=1;E<i;E++)m[E-1]===0?m[E-1]=1:m[E-1]=Math.round(O/m[E-1]);return m};var a=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],d=a[9],x=a[13];n.estimateScale=function(i,E){for(var m=E===0?this.calcXnums(i):this.calcYnums(i),k=1+c(m);k<d;)k*=2;for(;k>x;)k--,k/=h(k),k++,k<d&&(k=x);var I=Math.round(k/i);return I>1?I:1};function T(i,E,m){var k=m[8]+m[2]*E[0]+m[5]*E[1];return i[0]=(m[6]+m[0]*E[0]+m[3]*E[1])/k,i[1]=(m[7]+m[1]*E[0]+m[4]*E[1])/k,i}function C(i,E,m){return y(i,E,T,m),i}function y(i,E,m,k){for(var I=[0,0],O=i.shape[0],_=i.shape[1],B=0;B<O;B++)for(var F=0;F<_;F++)m(I,[B,F],k),i.set(B,F,s(E,I[0],I[1]));return i}n.refineCoords=function(i){for(var E=this.dataScaleX,m=this.dataScaleY,k=i[0].shape[0],I=i[0].shape[1],O=Math.floor(i[0].shape[0]*E+1)|0,_=Math.floor(i[0].shape[1]*m+1)|0,B=1+k+1,F=1+I+1,z=P(new Float32Array(B*F),[B,F]),N=[1/E,0,0,0,1/m,0,0,0,1],W=0;W<i.length;++W){this.surface.padField(z,i[W]);var Z=P(new Float32Array(O*_),[O,_]);C(Z,z,N),i[W]=Z}};function S(i,E){for(var m=!1,k=0;k<i.length;k++)if(E===i[k]){m=!0;break}m===!1&&i.push(E)}n.setContourLevels=function(){var i=[[],[],[]],E=[!1,!1,!1],m=!1,k,I,O;for(k=0;k<3;++k)if(this.showContour[k]&&(m=!0,this.contourSize[k]>0&&this.contourStart[k]!==null&&this.contourEnd[k]!==null&&this.contourEnd[k]>this.contourStart[k]))for(E[k]=!0,I=this.contourStart[k];I<this.contourEnd[k];I+=this.contourSize[k])O=I*this.scene.dataScale[k],S(i[k],O);if(m){var _=[[],[],[]];for(k=0;k<3;++k)this.showContour[k]&&(_[k]=E[k]?i[k]:this.scene.contourLevels[k]);this.surface.update({levels:_})}},n.update=function(i){var E=this.scene,m=E.fullSceneLayout,k=this.surface,I=p(i),O=E.dataScale,_=i.z[0].length,B=i._ylength,F=E.contourLevels;this.data=i;var z,N,W,Z,q=[];for(z=0;z<3;z++)for(q[z]=[],N=0;N<_;N++)q[z][N]=[];for(N=0;N<_;N++)for(W=0;W<B;W++)q[0][N][W]=this.getXat(N,W,i.xcalendar,m.xaxis),q[1][N][W]=this.getYat(N,W,i.ycalendar,m.yaxis),q[2][N][W]=this.getZat(N,W,i.zcalendar,m.zaxis);if(i.connectgaps)for(i._emptypoints=M(q[2]),L(q[2],i._emptypoints),i._interpolatedZ=[],N=0;N<_;N++)for(i._interpolatedZ[N]=[],W=0;W<B;W++)i._interpolatedZ[N][W]=q[2][N][W];for(z=0;z<3;z++)for(N=0;N<_;N++)for(W=0;W<B;W++)Z=q[z][N][W],Z==null?q[z][N][W]=NaN:Z=q[z][N][W]*=O[z];for(z=0;z<3;z++)for(N=0;N<_;N++)for(W=0;W<B;W++)Z=q[z][N][W],Z!=null&&(this.minValues[z]>Z&&(this.minValues[z]=Z),this.maxValues[z]<Z&&(this.maxValues[z]=Z));for(z=0;z<3;z++)this.objectOffset[z]=.5*(this.minValues[z]+this.maxValues[z]);for(z=0;z<3;z++)for(N=0;N<_;N++)for(W=0;W<B;W++)Z=q[z][N][W],Z!=null&&(q[z][N][W]-=this.objectOffset[z]);var re=[P(new Float32Array(_*B),[_,B]),P(new Float32Array(_*B),[_,B]),P(new Float32Array(_*B),[_,B])];for(z=0;z<3;z++)for(N=0;N<_;N++)for(W=0;W<B;W++)re[z].set(N,W,q[z][N][W]);q=[];var le={colormap:I,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!i.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:i.opacityscale,opacity:i.opacity},ie=t(i);if(le.intensityBounds=[ie.min,ie.max],i.surfacecolor){var K=P(new Float32Array(_*B),[_,B]);for(N=0;N<_;N++)for(W=0;W<B;W++)K.set(N,W,i.surfacecolor[W][N]);re.push(K)}else le.intensityBounds[0]*=O[2],le.intensityBounds[1]*=O[2];(x<re[0].shape[0]||x<re[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(re[0].shape[0],0),this.dataScaleY=this.estimateScale(re[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(re)),i.surfacecolor&&(le.intensity=re.pop());var $=[!0,!0,!0],X=["x","y","z"];for(z=0;z<3;++z){var Q=i.contours[X[z]];$[z]=Q.highlight,le.showContour[z]=Q.show||Q.highlight,le.showContour[z]&&(le.contourProject[z]=[Q.project.x,Q.project.y,Q.project.z],Q.show?(this.showContour[z]=!0,le.levels[z]=F[z],k.highlightColor[z]=le.contourColor[z]=r(Q.color),Q.usecolormap?k.highlightTint[z]=le.contourTint[z]=0:k.highlightTint[z]=le.contourTint[z]=1,le.contourWidth[z]=Q.width,this.contourStart[z]=Q.start,this.contourEnd[z]=Q.end,this.contourSize[z]=Q.size):(this.showContour[z]=!1,this.contourStart[z]=null,this.contourEnd[z]=null,this.contourSize[z]=0),Q.highlight&&(le.dynamicColor[z]=r(Q.highlightcolor),le.dynamicWidth[z]=Q.highlightwidth))}l(I)&&(le.vertexColor=!0),le.objectOffset=this.objectOffset,le.coords=re,k.update(le),k.visible=i.visible,k.enableDynamic=$,k.enableHighlight=$,k.snapToData=!0,"lighting"in i&&(k.ambientLight=i.lighting.ambient,k.diffuseLight=i.lighting.diffuse,k.specularLight=i.lighting.specular,k.roughness=i.lighting.roughness,k.fresnel=i.lighting.fresnel),"lightposition"in i&&(k.lightPosition=[i.lightposition.x,i.lightposition.y,i.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function A(i,E){var m=i.glplot.gl,k=b({gl:m}),I=new o(i,k,E.uid);return k._trace=I,I.update(E),i.glplot.add(k),I}Y.exports=A},60192:function(Y,V,e){var b=e(24040),P=e(3400),s=e(27260),L=e(16716),M=.1;function v(n,l){for(var u=[],f=32,g=0;g<f;g++){var h=g/(f-1),w=l+(1-l)*(1-Math.pow(Math.sin(n*h*Math.PI),2));u.push([h,Math.max(0,Math.min(1,w))])}return u}function p(n){var l=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||+n[0][0]!=0||+n[n.length-1][0]!=1)return!1;for(var u=0;u<n.length;u++){var f=n[u];if(f.length!==2||+f[0]<l)return!1;l=+f[0]}return!0}function r(n,l,u,f){var g,h;function w(i,E){return P.coerce(n,l,L,i,E)}var c=w("x"),a=w("y"),d=w("z");if(!d||!d.length||c&&c.length<1||a&&a.length<1){l.visible=!1;return}l._xlength=Array.isArray(c)&&P.isArrayOrTypedArray(c[0])?d.length:d[0].length,l._ylength=d.length;var x=b.getComponentMethod("calendars","handleTraceDefaults");x(n,l,["x","y","z"],f),w("text"),w("hovertext"),w("hovertemplate"),w("xhoverformat"),w("yhoverformat"),w("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(i){w(i)});var T=w("surfacecolor"),C=["x","y","z"];for(g=0;g<3;++g){var y="contours."+C[g],S=w(y+".show"),A=w(y+".highlight");if(S||A)for(h=0;h<3;++h)w(y+".project."+C[h]);S&&(w(y+".color"),w(y+".width"),w(y+".usecolormap")),A&&(w(y+".highlightcolor"),w(y+".highlightwidth")),w(y+".start"),w(y+".end"),w(y+".size")}T||(o(n,"zmin","cmin"),o(n,"zmax","cmax"),o(n,"zauto","cauto")),s(n,l,f,w,{prefix:"",cLetter:"c"}),t(n,l,f,w),l._length=null}function t(n,l,u,f){var g=f("opacityscale");g==="max"?l.opacityscale=[[0,M],[1,1]]:g==="min"?l.opacityscale=[[0,1],[1,M]]:g==="extremes"?l.opacityscale=v(1,M):p(g)||(l.opacityscale=void 0)}function o(n,l,u){l in n&&!(u in n)&&(n[u]=n[l])}Y.exports={supplyDefaults:r,opacityscaleDefaults:t}},91304:function(Y,V,e){Y.exports={attributes:e(16716),supplyDefaults:e(60192).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(56576),plot:e(79164),moduleType:"trace",name:"surface",basePlotModule:e(12536),categories:["gl3d","2dMap","showLegend"],meta:{}}},60520:function(Y,V,e){var b=e(13916),P=e(92880).extendFlat,s=e(67824).overrideAll,L=e(25376),M=e(86968).u,v=e(29736).descriptionOnlyNumbers,p=Y.exports=s({domain:M({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:P({},b.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:P({},L({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:P({},b.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:P({},L({arrayOk:!0}))}},"calc","from-root");p.transforms=void 0},85852:function(Y,V,e){var b=e(84888)._M,P=e(24752),s="table";V.name=s,V.plot=function(L){var M=b(L.calcdata,s)[0];M.length&&P(L,M)},V.clean=function(L,M,v,p){var r=p._has&&p._has(s),t=M._has&&M._has(s);r&&!t&&p._paperdiv.selectAll(".table").remove()}},39312:function(Y,V,e){var b=e(71688).wrap;Y.exports=function(){return b({})}},23536:function(Y){Y.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},55992:function(Y,V,e){var b=e(23536),P=e(92880).extendFlat,s=e(38248),L=e(38116).isTypedArray,M=e(38116).isArrayOrTypedArray;Y.exports=function(g,h){var w=r(h.cells.values),c=function(Z){return Z.slice(h.header.values.length,Z.length)},a=r(h.header.values);a.length&&!a[0].length&&(a[0]=[""],a=r(a));var d=a.concat(c(w).map(function(){return t((a[0]||[""]).length)})),x=h.domain,T=Math.floor(g._fullLayout._size.w*(x.x[1]-x.x[0])),C=Math.floor(g._fullLayout._size.h*(x.y[1]-x.y[0])),y=h.header.values.length?d[0].map(function(){return h.header.height}):[b.emptyHeaderHeight],S=w.length?w[0].map(function(){return h.cells.height}):[],A=y.reduce(p,0),i=C-A,E=i+b.uplift,m=l(S,E),k=l(y,A),I=n(k,[]),O=n(m,I),_={},B=h._fullInput.columnorder;M(B)&&(B=Array.from(B)),B=B.concat(c(w.map(function(Z,q){return q})));var F=d.map(function(Z,q){var re=M(h.columnwidth)?h.columnwidth[Math.min(q,h.columnwidth.length-1)]:h.columnwidth;return s(re)?Number(re):1}),z=F.reduce(p,0);F=F.map(function(Z){return Z/z*T});var N=Math.max(v(h.header.line.width),v(h.cells.line.width)),W={key:h.uid+g._context.staticPlot,translateX:x.x[0]*g._fullLayout._size.w,translateY:g._fullLayout._size.h*(1-x.y[1]),size:g._fullLayout._size,width:T,maxLineWidth:N,height:C,columnOrder:B,groupHeight:C,rowBlocks:O,headerRowBlocks:I,scrollY:0,cells:P({},h.cells,{values:w}),headerCells:P({},h.header,{values:d}),gdColumns:d.map(function(Z){return Z[0]}),gdColumnsOriginalOrder:d.map(function(Z){return Z[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:d.map(function(Z,q){var re=_[Z];_[Z]=(re||0)+1;var le=Z+"__"+_[Z];return{key:le,label:Z,specIndex:q,xIndex:B[q],xScale:o,x:void 0,calcdata:void 0,columnWidth:F[q]}})};return W.columns.forEach(function(Z){Z.calcdata=W,Z.x=o(Z)}),W};function v(f){if(M(f)){for(var g=0,h=0;h<f.length;h++)g=Math.max(g,v(f[h]));return g}return f}function p(f,g){return f+g}function r(f){var g=f.slice(),h=1/0,w=0,c;for(c=0;c<g.length;c++)L(g[c])?g[c]=Array.from(g[c]):M(g[c])||(g[c]=[g[c]]),h=Math.min(h,g[c].length),w=Math.max(w,g[c].length);if(h!==w)for(c=0;c<g.length;c++){var a=w-g[c].length;a&&(g[c]=g[c].concat(t(a)))}return g}function t(f){for(var g=new Array(f),h=0;h<f;h++)g[h]="";return g}function o(f){return f.calcdata.columns.reduce(function(g,h){return h.xIndex<f.xIndex?g+h.columnWidth:g},0)}function n(f,g){var h=Object.keys(f);return h.map(function(w){return P({},f[w],{auxiliaryBlocks:g})})}function l(f,g){for(var h={},w,c=0,a=0,d=u(),x=0,T=0,C=0;C<f.length;C++)w=f[C],d.rows.push({rowIndex:C,rowHeight:w}),a+=w,(a>=g||C===f.length-1)&&(h[c]=d,d.key=T++,d.firstRowIndex=x,d.lastRowIndex=C,d=u(),c+=a,x=C+1,a=0);return h}function u(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},53056:function(Y,V,e){var b=e(92880).extendFlat;V.splitToPanels=function(s){var L=[0,0],M=b({},s,{key:"header",type:"header",page:0,prevPages:L,currentRepaint:[null,null],dragHandle:!0,values:s.calcdata.headerCells.values[s.specIndex],rowBlocks:s.calcdata.headerRowBlocks,calcdata:b({},s.calcdata,{cells:s.calcdata.headerCells})}),v=b({},s,{key:"cells1",type:"cells",page:0,prevPages:L,currentRepaint:[null,null],dragHandle:!1,values:s.calcdata.cells.values[s.specIndex],rowBlocks:s.calcdata.rowBlocks}),p=b({},s,{key:"cells2",type:"cells",page:1,prevPages:L,currentRepaint:[null,null],dragHandle:!1,values:s.calcdata.cells.values[s.specIndex],rowBlocks:s.calcdata.rowBlocks});return[v,p,M]},V.splitToCells=function(s){var L=P(s);return(s.values||[]).slice(L[0],L[1]).map(function(M,v){var p=typeof M=="string"&&M.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:v+p,key:L[0]+v,column:s,calcdata:s.calcdata,page:s.page,rowBlocks:s.rowBlocks,value:M}})};function P(s){var L=s.rowBlocks[s.page],M=L?L.rows[0].rowIndex:0,v=L?M+L.rows.length:0;return[M,v]}},53212:function(Y,V,e){var b=e(3400),P=e(60520),s=e(86968).Q;function L(M,v){for(var p=M.columnorder||[],r=M.header.values.length,t=p.slice(0,r),o=t.slice().sort(function(u,f){return u-f}),n=t.map(function(u){return o.indexOf(u)}),l=n.length;l<r;l++)n.push(l);v("columnorder",n)}Y.exports=function(v,p,r,t){function o(n,l){return b.coerce(v,p,P,n,l)}s(p,t,o),o("columnwidth"),o("header.values"),o("header.format"),o("header.align"),o("header.prefix"),o("header.suffix"),o("header.height"),o("header.line.width"),o("header.line.color"),o("header.fill.color"),b.coerceFont(o,"header.font",t.font),L(p,o),o("cells.values"),o("cells.format"),o("cells.align"),o("cells.prefix"),o("cells.suffix"),o("cells.height"),o("cells.line.width"),o("cells.line.color"),o("cells.fill.color"),b.coerceFont(o,"cells.font",t.font),p._length=null}},41724:function(Y,V,e){Y.exports={attributes:e(60520),supplyDefaults:e(53212),calc:e(39312),plot:e(24752),moduleType:"trace",name:"table",basePlotModule:e(85852),categories:["noOpacity"],meta:{}}},24752:function(Y,V,e){var b=e(23536),P=e(33428),s=e(3400),L=s.numberFormat,M=e(71688),v=e(43616),p=e(72736),r=e(3400).raiseToTop,t=e(3400).strTranslate,o=e(3400).cancelTransition,n=e(55992),l=e(53056),u=e(76308);Y.exports=function(oe,te){var fe=!oe._context.staticPlot,ge=oe._fullLayout._paper.selectAll("."+b.cn.table).data(te.map(function(Ze){var $e=M.unwrap(Ze),ut=$e.trace;return n(oe,ut)}),M.keyFun);ge.exit().remove(),ge.enter().append("g").classed(b.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),ge.attr("width",function(Ze){return Ze.width+Ze.size.l+Ze.size.r}).attr("height",function(Ze){return Ze.height+Ze.size.t+Ze.size.b}).attr("transform",function(Ze){return t(Ze.translateX,Ze.translateY)});var we=ge.selectAll("."+b.cn.tableControlView).data(M.repeat,M.keyFun),xe=we.enter().append("g").classed(b.cn.tableControlView,!0).style("box-sizing","content-box");if(fe){var Ce="onwheel"in document?"wheel":"mousewheel";xe.on("mousemove",function(Ze){we.filter(function($e){return Ze===$e}).call(c,oe)}).on(Ce,function(Ze){if(!Ze.scrollbarState.wheeling){Ze.scrollbarState.wheeling=!0;var $e=Ze.scrollY+P.event.deltaY,ut=Z(oe,we,null,$e)(Ze);ut||(P.event.stopPropagation(),P.event.preventDefault()),Ze.scrollbarState.wheeling=!1}}).call(c,oe,!0)}we.attr("transform",function(Ze){return t(Ze.size.l,Ze.size.t)});var De=we.selectAll("."+b.cn.scrollBackground).data(M.repeat,M.keyFun);De.enter().append("rect").classed(b.cn.scrollBackground,!0).attr("fill","none"),De.attr("width",function(Ze){return Ze.width}).attr("height",function(Ze){return Ze.height}),we.each(function(Ze){v.setClipUrl(P.select(this),g(oe,Ze),oe)});var Oe=we.selectAll("."+b.cn.yColumn).data(function(Ze){return Ze.columns},M.keyFun);Oe.enter().append("g").classed(b.cn.yColumn,!0),Oe.exit().remove(),Oe.attr("transform",function(Ze){return t(Ze.x,0)}),fe&&Oe.call(P.behavior.drag().origin(function(Ze){var $e=P.select(this);return _($e,Ze,-b.uplift),r(this),Ze.calcdata.columnDragInProgress=!0,c(we.filter(function(ut){return Ze.calcdata.key===ut.key}),oe),Ze}).on("drag",function(Ze){var $e=P.select(this),ut=function(xt){return(Ze===xt?P.event.x:xt.x)+xt.columnWidth/2};Ze.x=Math.max(-b.overdrag,Math.min(Ze.calcdata.width+b.overdrag-Ze.columnWidth,P.event.x));var ht=w(Oe).filter(function(xt){return xt.calcdata.key===Ze.calcdata.key}),vt=ht.sort(function(xt,St){return ut(xt)-ut(St)});vt.forEach(function(xt,St){xt.xIndex=St,xt.x=Ze===xt?xt.x:xt.xScale(xt)}),Oe.filter(function(xt){return Ze!==xt}).transition().ease(b.transitionEase).duration(b.transitionDuration).attr("transform",function(xt){return t(xt.x,0)}),$e.call(o).attr("transform",t(Ze.x,-b.uplift))}).on("dragend",function(Ze){var $e=P.select(this),ut=Ze.calcdata;Ze.x=Ze.xScale(Ze),Ze.calcdata.columnDragInProgress=!1,_($e,Ze,0),I(oe,ut,ut.columns.map(function(ht){return ht.xIndex}))})),Oe.each(function(Ze){v.setClipUrl(P.select(this),h(oe,Ze),oe)});var Te=Oe.selectAll("."+b.cn.columnBlock).data(l.splitToPanels,M.keyFun);Te.enter().append("g").classed(b.cn.columnBlock,!0).attr("id",function(Ze){return Ze.key}),Te.style("cursor",function(Ze){return Ze.dragHandle?"ew-resize":Ze.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var Re=Te.filter(F),Me=Te.filter(B);fe&&Me.call(P.behavior.drag().origin(function(Ze){return P.event.stopPropagation(),Ze}).on("drag",Z(oe,we,-1)).on("dragend",function(){})),a(oe,we,Re,Te),a(oe,we,Me,Te);var ke=we.selectAll("."+b.cn.scrollAreaClip).data(M.repeat,M.keyFun);ke.enter().append("clipPath").classed(b.cn.scrollAreaClip,!0).attr("id",function(Ze){return g(oe,Ze)});var Se=ke.selectAll("."+b.cn.scrollAreaClipRect).data(M.repeat,M.keyFun);Se.enter().append("rect").classed(b.cn.scrollAreaClipRect,!0).attr("x",-b.overdrag).attr("y",-b.uplift).attr("fill","none"),Se.attr("width",function(Ze){return Ze.width+2*b.overdrag}).attr("height",function(Ze){return Ze.height+b.uplift});var He=Oe.selectAll("."+b.cn.columnBoundary).data(M.repeat,M.keyFun);He.enter().append("g").classed(b.cn.columnBoundary,!0);var je=Oe.selectAll("."+b.cn.columnBoundaryClippath).data(M.repeat,M.keyFun);je.enter().append("clipPath").classed(b.cn.columnBoundaryClippath,!0),je.attr("id",function(Ze){return h(oe,Ze)});var at=je.selectAll("."+b.cn.columnBoundaryRect).data(M.repeat,M.keyFun);at.enter().append("rect").classed(b.cn.columnBoundaryRect,!0).attr("fill","none"),at.attr("width",function(Ze){return Ze.columnWidth+2*f(Ze)}).attr("height",function(Ze){return Ze.calcdata.height+2*f(Ze)+b.uplift}).attr("x",function(Ze){return-f(Ze)}).attr("y",function(Ze){return-f(Ze)}),W(null,Me,we)};function f(G){return Math.ceil(G.calcdata.maxLineWidth/2)}function g(G,oe){return"clip"+G._fullLayout._uid+"_scrollAreaBottomClip_"+oe.key}function h(G,oe){return"clip"+G._fullLayout._uid+"_columnBoundaryClippath_"+oe.calcdata.key+"_"+oe.specIndex}function w(G){return[].concat.apply([],G.map(function(oe){return oe})).map(function(oe){return oe.__data__})}function c(G,oe,te){function fe(Oe){var Te=Oe.rowBlocks;return $(Te,Te.length-1)+(Te.length?X(Te[Te.length-1],1/0):1)}var ge=G.selectAll("."+b.cn.scrollbarKit).data(M.repeat,M.keyFun);ge.enter().append("g").classed(b.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),ge.each(function(Oe){var Te=Oe.scrollbarState;Te.totalHeight=fe(Oe),Te.scrollableAreaHeight=Oe.groupHeight-z(Oe),Te.currentlyVisibleHeight=Math.min(Te.totalHeight,Te.scrollableAreaHeight),Te.ratio=Te.currentlyVisibleHeight/Te.totalHeight,Te.barLength=Math.max(Te.ratio*Te.currentlyVisibleHeight,b.goldenRatio*b.scrollbarWidth),Te.barWiggleRoom=Te.currentlyVisibleHeight-Te.barLength,Te.wiggleRoom=Math.max(0,Te.totalHeight-Te.scrollableAreaHeight),Te.topY=Te.barWiggleRoom===0?0:Oe.scrollY/Te.wiggleRoom*Te.barWiggleRoom,Te.bottomY=Te.topY+Te.barLength,Te.dragMultiplier=Te.wiggleRoom/Te.barWiggleRoom}).attr("transform",function(Oe){var Te=Oe.width+b.scrollbarWidth/2+b.scrollbarOffset;return t(Te,z(Oe))});var we=ge.selectAll("."+b.cn.scrollbar).data(M.repeat,M.keyFun);we.enter().append("g").classed(b.cn.scrollbar,!0);var xe=we.selectAll("."+b.cn.scrollbarSlider).data(M.repeat,M.keyFun);xe.enter().append("g").classed(b.cn.scrollbarSlider,!0),xe.attr("transform",function(Oe){return t(0,Oe.scrollbarState.topY||0)});var Ce=xe.selectAll("."+b.cn.scrollbarGlyph).data(M.repeat,M.keyFun);Ce.enter().append("line").classed(b.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",b.scrollbarWidth).attr("stroke-linecap","round").attr("y1",b.scrollbarWidth/2),Ce.attr("y2",function(Oe){return Oe.scrollbarState.barLength-b.scrollbarWidth/2}).attr("stroke-opacity",function(Oe){return Oe.columnDragInProgress||!Oe.scrollbarState.barWiggleRoom||te?0:.4}),Ce.transition().delay(0).duration(0),Ce.transition().delay(b.scrollbarHideDelay).duration(b.scrollbarHideDuration).attr("stroke-opacity",0);var De=we.selectAll("."+b.cn.scrollbarCaptureZone).data(M.repeat,M.keyFun);De.enter().append("line").classed(b.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",b.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Oe){var Te=P.event.y,Re=this.getBoundingClientRect(),Me=Oe.scrollbarState,ke=Te-Re.top,Se=P.scale.linear().domain([0,Me.scrollableAreaHeight]).range([0,Me.totalHeight]).clamp(!0);Me.topY<=ke&&ke<=Me.bottomY||Z(oe,G,null,Se(ke-Me.barLength/2))(Oe)}).call(P.behavior.drag().origin(function(Oe){return P.event.stopPropagation(),Oe.scrollbarState.scrollbarScrollInProgress=!0,Oe}).on("drag",Z(oe,G)).on("dragend",function(){})),De.attr("y2",function(Oe){return Oe.scrollbarState.scrollableAreaHeight}),oe._context.staticPlot&&(Ce.remove(),De.remove())}function a(G,oe,te,fe){var ge=d(te),we=x(ge);S(we);var xe=T(we);i(xe);var Ce=y(we),De=C(Ce);A(De),E(De,oe,fe,G),K(we)}function d(G){var oe=G.selectAll("."+b.cn.columnCells).data(M.repeat,M.keyFun);return oe.enter().append("g").classed(b.cn.columnCells,!0),oe.exit().remove(),oe}function x(G){var oe=G.selectAll("."+b.cn.columnCell).data(l.splitToCells,function(te){return te.keyWithinBlock});return oe.enter().append("g").classed(b.cn.columnCell,!0),oe.exit().remove(),oe}function T(G){var oe=G.selectAll("."+b.cn.cellRect).data(M.repeat,function(te){return te.keyWithinBlock});return oe.enter().append("rect").classed(b.cn.cellRect,!0),oe}function C(G){var oe=G.selectAll("."+b.cn.cellText).data(M.repeat,function(te){return te.keyWithinBlock});return oe.enter().append("text").classed(b.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){P.event.stopPropagation()}),oe}function y(G){var oe=G.selectAll("."+b.cn.cellTextHolder).data(M.repeat,function(te){return te.keyWithinBlock});return oe.enter().append("g").classed(b.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),oe}function S(G){G.each(function(oe,te){var fe=oe.calcdata.cells.font,ge=oe.column.specIndex,we={size:O(fe.size,ge,te),color:O(fe.color,ge,te),family:O(fe.family,ge,te),weight:O(fe.weight,ge,te),style:O(fe.style,ge,te),variant:O(fe.variant,ge,te),textcase:O(fe.textcase,ge,te),lineposition:O(fe.lineposition,ge,te),shadow:O(fe.shadow,ge,te)};oe.rowNumber=oe.key,oe.align=O(oe.calcdata.cells.align,ge,te),oe.cellBorderWidth=O(oe.calcdata.cells.line.width,ge,te),oe.font=we})}function A(G){G.each(function(oe){v.font(P.select(this),oe.font)})}function i(G){G.attr("width",function(oe){return oe.column.columnWidth}).attr("stroke-width",function(oe){return oe.cellBorderWidth}).each(function(oe){var te=P.select(this);u.stroke(te,O(oe.calcdata.cells.line.color,oe.column.specIndex,oe.rowNumber)),u.fill(te,O(oe.calcdata.cells.fill.color,oe.column.specIndex,oe.rowNumber))})}function E(G,oe,te,fe){G.text(function(ge){var we=ge.column.specIndex,xe=ge.rowNumber,Ce=ge.value,De=typeof Ce=="string",Oe=De&&Ce.match(/<br>/i),Te=!De||Oe;ge.mayHaveMarkup=De&&Ce.match(/[<&>]/);var Re=m(Ce);ge.latex=Re;var Me=Re?"":O(ge.calcdata.cells.prefix,we,xe)||"",ke=Re?"":O(ge.calcdata.cells.suffix,we,xe)||"",Se=Re?null:O(ge.calcdata.cells.format,we,xe)||null,He=Me+(Se?L(Se)(ge.value):ge.value)+ke,je;ge.wrappingNeeded=!ge.wrapped&&!Te&&!Re&&(je=k(He)),ge.cellHeightMayIncrease=Oe||Re||ge.mayHaveMarkup||(je===void 0?k(He):je),ge.needsConvertToTspans=ge.mayHaveMarkup||ge.wrappingNeeded||ge.latex;var at;if(ge.wrappingNeeded){var Ze=b.wrapSplitCharacter===" "?He.replace(/<a href=/ig,"<a_href="):He,$e=Ze.split(b.wrapSplitCharacter),ut=b.wrapSplitCharacter===" "?$e.map(function(ht){return ht.replace(/<a_href=/ig,"<a href=")}):$e;ge.fragments=ut.map(function(ht){return{text:ht,width:null}}),ge.fragments.push({fragment:b.wrapSpacer,width:null}),at=ut.join(b.lineBreaker)+b.lineBreaker+b.wrapSpacer}else delete ge.fragments,at=He;return at}).attr("dy",function(ge){return ge.needsConvertToTspans?0:"0.75em"}).each(function(ge){var we=this,xe=P.select(we),Ce=ge.wrappingNeeded?re:le;ge.needsConvertToTspans?p.convertToTspans(xe,fe,Ce(te,we,oe,fe,ge)):P.select(we.parentNode).attr("transform",function(De){return t(ie(De),b.cellPad)}).attr("text-anchor",function(De){return{left:"start",center:"middle",right:"end"}[De.align]})})}function m(G){return typeof G=="string"&&G.match(b.latexCheck)}function k(G){return G.indexOf(b.wrapSplitCharacter)!==-1}function I(G,oe,te){var fe=oe.gdColumnsOriginalOrder;oe.gdColumns.sort(function(ge,we){return te[fe.indexOf(ge)]-te[fe.indexOf(we)]}),oe.columnorder=te,G.emit("plotly_restyle")}function O(G,oe,te){if(s.isArrayOrTypedArray(G)){var fe=G[Math.min(oe,G.length-1)];return s.isArrayOrTypedArray(fe)?fe[Math.min(te,fe.length-1)]:fe}else return G}function _(G,oe,te){G.transition().ease(b.releaseTransitionEase).duration(b.releaseTransitionDuration).attr("transform",t(oe.x,te))}function B(G){return G.type==="cells"}function F(G){return G.type==="header"}function z(G){var oe=G.rowBlocks.length?G.rowBlocks[0].auxiliaryBlocks:[];return oe.reduce(function(te,fe){return te+X(fe,1/0)},0)}function N(G,oe,te){for(var fe=[],ge=0,we=0;we<G.length;we++){for(var xe=G[we],Ce=xe.rows,De=0,Oe=0;Oe<Ce.length;Oe++)De+=Ce[Oe].rowHeight;xe.allRowsHeight=De;var Te=ge+De,Re=oe,Me=Re+te;Re<Te&&Me>ge&&fe.push(we),ge+=De}return fe}function W(G,oe,te){var fe=w(oe)[0];if(fe!==void 0){var ge=fe.rowBlocks,we=fe.calcdata,xe=$(ge,ge.length),Ce=fe.calcdata.groupHeight-z(fe),De=we.scrollY=Math.max(0,Math.min(xe-Ce,we.scrollY)),Oe=N(ge,De,Ce);Oe.length===1&&(Oe[0]===ge.length-1?Oe.unshift(Oe[0]-1):Oe.push(Oe[0]+1)),Oe[0]%2&&Oe.reverse(),oe.each(function(Te,Re){Te.page=Oe[Re],Te.scrollY=De}),oe.attr("transform",function(Te){var Re=$(Te.rowBlocks,Te.page)-Te.scrollY;return t(0,Re)}),G&&(q(G,te,oe,Oe,fe.prevPages,fe,0),q(G,te,oe,Oe,fe.prevPages,fe,1),c(te,G))}}function Z(G,oe,te,fe){return function(we){var xe=we.calcdata?we.calcdata:we,Ce=oe.filter(function(Re){return xe.key===Re.key}),De=te||xe.scrollbarState.dragMultiplier,Oe=xe.scrollY;xe.scrollY=fe===void 0?xe.scrollY+De*P.event.dy:fe;var Te=Ce.selectAll("."+b.cn.yColumn).selectAll("."+b.cn.columnBlock).filter(B);return W(G,Te,Ce),xe.scrollY===Oe}}function q(G,oe,te,fe,ge,we,xe){var Ce=fe[xe]!==ge[xe];Ce&&(clearTimeout(we.currentRepaint[xe]),we.currentRepaint[xe]=setTimeout(function(){var De=te.filter(function(Oe,Te){return Te===xe&&fe[Te]!==ge[Te]});a(G,oe,De,te),ge[xe]=fe[xe]}))}function re(G,oe,te,fe){return function(){var we=P.select(oe.parentNode);we.each(function(xe){var Ce=xe.fragments;we.selectAll("tspan.line").each(function(He,je){Ce[je].width=this.getComputedTextLength()});var De=Ce[Ce.length-1].width,Oe=Ce.slice(0,-1),Te=[],Re,Me,ke=0,Se=xe.column.columnWidth-2*b.cellPad;for(xe.value="";Oe.length;)Re=Oe.shift(),Me=Re.width+De,ke+Me>Se&&(xe.value+=Te.join(b.wrapSpacer)+b.lineBreaker,Te=[],ke=0),Te.push(Re.text),ke+=Me;ke&&(xe.value+=Te.join(b.wrapSpacer)),xe.wrapped=!0}),we.selectAll("tspan.line").remove(),E(we.select("."+b.cn.cellText),te,G,fe),P.select(oe.parentNode.parentNode).call(K)}}function le(G,oe,te,fe,ge){return function(){if(!ge.settledY){var xe=P.select(oe.parentNode),Ce=se(ge),De=ge.key-Ce.firstRowIndex,Oe=Ce.rows[De].rowHeight,Te=ge.cellHeightMayIncrease?oe.parentNode.getBoundingClientRect().height+2*b.cellPad:Oe,Re=Math.max(Te,Oe),Me=Re-Ce.rows[De].rowHeight;Me&&(Ce.rows[De].rowHeight=Re,G.selectAll("."+b.cn.columnCell).call(K),W(null,G.filter(B),0),c(te,fe,!0)),xe.attr("transform",function(){var ke=this,Se=ke.parentNode,He=Se.getBoundingClientRect(),je=P.select(ke.parentNode).select("."+b.cn.cellRect).node().getBoundingClientRect(),at=ke.transform.baseVal.consolidate(),Ze=je.top-He.top+(at?at.matrix.f:b.cellPad);return t(ie(ge,P.select(ke.parentNode).select("."+b.cn.cellTextHolder).node().getBoundingClientRect().width),Ze)}),ge.settledY=!0}}}function ie(G,oe){switch(G.align){case"left":return b.cellPad;case"right":return G.column.columnWidth-(oe||0)-b.cellPad;case"center":return(G.column.columnWidth-(oe||0))/2;default:return b.cellPad}}function K(G){G.attr("transform",function(oe){var te=oe.rowBlocks[0].auxiliaryBlocks.reduce(function(xe,Ce){return xe+X(Ce,1/0)},0),fe=se(oe),ge=X(fe,oe.key),we=ge+te;return t(0,we)}).selectAll("."+b.cn.cellRect).attr("height",function(oe){return J(se(oe),oe.key).rowHeight})}function $(G,oe){for(var te=0,fe=oe-1;fe>=0;fe--)te+=Q(G[fe]);return te}function X(G,oe){for(var te=0,fe=0;fe<G.rows.length&&G.rows[fe].rowIndex<oe;fe++)te+=G.rows[fe].rowHeight;return te}function Q(G){var oe=G.allRowsHeight;if(oe!==void 0)return oe;for(var te=0,fe=0;fe<G.rows.length;fe++)te+=G.rows[fe].rowHeight;return G.allRowsHeight=te,te}function se(G){return G.rowBlocks[G.page]}function J(G,oe){return G.rows[oe-G.firstRowIndex]}},40516:function(Y,V,e){var b=e(21776).Ks,P=e(21776).Gw,s=e(49084),L=e(86968).u,M=e(74996),v=e(424),p=e(32984),r=e(92880).extendFlat,t=e(98192).c;Y.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:r({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,pattern:t,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},s("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:r({},M.textfont,{}),editType:"calc"},text:M.text,textinfo:v.textinfo,texttemplate:P({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:M.hovertext,hoverinfo:v.hoverinfo,hovertemplate:b({},{keys:p.eventDataKeys}),textfont:M.textfont,insidetextfont:M.insidetextfont,outsidetextfont:r({},M.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:M.sort,root:v.root,domain:L({name:"treemap",trace:!0,editType:"calc"})}},79516:function(Y,V,e){var b=e(7316);V.name="treemap",V.plot=function(P,s,L,M){b.plotBasePlot(V.name,P,s,L,M)},V.clean=function(P,s,L,M){b.cleanBasePlot(V.name,P,s,L,M)}},97840:function(Y,V,e){var b=e(3776);V.r=function(P,s){return b.calc(P,s)},V.q=function(P){return b._runCrossTraceCalc("treemap",P)}},32984:function(Y){Y.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},34092:function(Y,V,e){var b=e(3400),P=e(40516),s=e(76308),L=e(86968).Q,M=e(31508).handleText,v=e(78048).TEXTPAD,p=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,o=r.handleDefaults;Y.exports=function(l,u,f,g){function h(i,E){return b.coerce(l,u,P,i,E)}var w=h("labels"),c=h("parents");if(!w||!w.length||!c||!c.length){u.visible=!1;return}var a=h("values");a&&a.length?h("branchvalues"):h("count"),h("level"),h("maxdepth");var d=h("tiling.packing");d==="squarify"&&h("tiling.squarifyratio"),h("tiling.flip"),h("tiling.pad");var x=h("text");h("texttemplate"),u.texttemplate||h("textinfo",b.isArrayOrTypedArray(x)?"text+label":"label"),h("hovertext"),h("hovertemplate");var T=h("pathbar.visible"),C="auto";M(l,u,g,h,C,{hasPathbar:T,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition");var y=u.textposition.indexOf("bottom")!==-1;p(l,u,g,h);var S=u._hasColorscale=t(l,"marker","colors")||(l.marker||{}).coloraxis;S?o(l,u,g,h,{prefix:"marker.",cLetter:"c"}):h("marker.depthfade",!(u.marker.colors||[]).length);var A=u.textfont.size*2;h("marker.pad.t",y?A/4:A),h("marker.pad.l",A/4),h("marker.pad.r",A/4),h("marker.pad.b",y?A:A/4),h("marker.cornerradius"),u._hovered={marker:{line:{width:2,color:s.contrast(g.paper_bgcolor)}}},T&&(h("pathbar.thickness",u.pathbar.textfont.size+2*v),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),L(u,g,h),u._length=null}},95808:function(Y,V,e){var b=e(33428),P=e(78176),s=e(82744),L=s.clearMinTextSize,M=e(60100).resizeText,v=e(52960);Y.exports=function(r,t,o,n,l){var u=l.type,f=l.drawDescendants,g=r._fullLayout,h=g["_"+u+"layer"],w,c,a=!o;if(L(u,g),w=h.selectAll("g.trace."+u).data(t,function(x){return x[0].trace.uid}),w.enter().append("g").classed("trace",!0).classed(u,!0),w.order(),!g.uniformtext.mode&&P.hasTransition(o)){n&&(c=n());var d=b.transition().duration(o.duration).ease(o.easing).each("end",function(){c&&c()}).each("interrupt",function(){c&&c()});d.each(function(){h.selectAll("g.trace").each(function(x){v(r,x,this,o,f)})})}else w.each(function(x){v(r,x,this,o,f)}),g.uniformtext.mode&&M(r,h.selectAll(".trace"),u);a&&w.exit().remove()}},27336:function(Y,V,e){var b=e(33428),P=e(3400),s=e(43616),L=e(72736),M=e(13832),v=e(66192).styleOne,p=e(32984),r=e(78176),t=e(45716),o=!0;Y.exports=function(l,u,f,g,h){var w=h.barDifY,c=h.width,a=h.height,d=h.viewX,x=h.viewY,T=h.pathSlice,C=h.toMoveInsideSlice,y=h.strTransform,S=h.hasTransition,A=h.handleSlicesExit,i=h.makeUpdateSliceInterpolator,E=h.makeUpdateTextInterpolator,m={},k=l._context.staticPlot,I=l._fullLayout,O=u[0],_=O.trace,B=O.hierarchy,F=c/_._entryDepth,z=r.listPath(f.data,"id"),N=M(B.copy(),[c,a],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();N=N.filter(function(Z){var q=z.indexOf(Z.data.id);return q===-1?!1:(Z.x0=F*q,Z.x1=F*(q+1),Z.y0=w,Z.y1=w+a,Z.onPathbar=!0,!0)}),N.reverse(),g=g.data(N,r.getPtId),g.enter().append("g").classed("pathbar",!0),A(g,o,m,[c,a],T),g.order();var W=g;S&&(W=W.transition().each("end",function(){var Z=b.select(this);r.setSliceCursor(Z,l,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),W.each(function(Z){Z._x0=d(Z.x0),Z._x1=d(Z.x1),Z._y0=x(Z.y0),Z._y1=x(Z.y1),Z._hoverX=d(Z.x1-Math.min(c,a)/2),Z._hoverY=x(Z.y1-a/2);var q=b.select(this),re=P.ensureSingle(q,"path","surface",function($){$.style("pointer-events",k?"none":"all")});S?re.transition().attrTween("d",function($){var X=i($,o,m,[c,a]);return function(Q){return T(X(Q))}}):re.attr("d",T),q.call(t,f,l,u,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,l,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:l._transitioning}),re.call(v,Z,_,l,{hovered:!1}),Z._text=(r.getPtLabel(Z)||"").split("<br>").join(" ")||"";var le=P.ensureSingle(q,"g","slicetext"),ie=P.ensureSingle(le,"text","",function($){$.attr("data-notex",1)}),K=P.ensureUniformFontSize(l,r.determineTextFont(_,Z,I.font,{onPathbar:!0}));ie.text(Z._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(s.font,K).call(L.convertToTspans,l),Z.textBB=s.bBox(ie.node()),Z.transform=C(Z,{fontSize:K.size,onPathbar:!0}),Z.transform.fontSize=K.size,S?ie.transition().attrTween("transform",function($){var X=E($,o,m,[c,a]);return function(Q){return y(X(Q))}}):ie.attr("transform",y(Z))})}},76477:function(Y,V,e){var b=e(33428),P=e(3400),s=e(43616),L=e(72736),M=e(13832),v=e(66192).styleOne,p=e(32984),r=e(78176),t=e(45716),o=e(96488).formatSliceLabel,n=!1;Y.exports=function(u,f,g,h,w){var c=w.width,a=w.height,d=w.viewX,x=w.viewY,T=w.pathSlice,C=w.toMoveInsideSlice,y=w.strTransform,S=w.hasTransition,A=w.handleSlicesExit,i=w.makeUpdateSliceInterpolator,E=w.makeUpdateTextInterpolator,m=w.prevEntry,k={},I=u._context.staticPlot,O=u._fullLayout,_=f[0],B=_.trace,F=B.textposition.indexOf("left")!==-1,z=B.textposition.indexOf("right")!==-1,N=B.textposition.indexOf("bottom")!==-1,W=!N&&!B.marker.pad.t||N&&!B.marker.pad.b,Z=M(g,[c,a],{packing:B.tiling.packing,squarifyratio:B.tiling.squarifyratio,flipX:B.tiling.flip.indexOf("x")>-1,flipY:B.tiling.flip.indexOf("y")>-1,pad:{inner:B.tiling.pad,top:B.marker.pad.t,left:B.marker.pad.l,right:B.marker.pad.r,bottom:B.marker.pad.b}}),q=Z.descendants(),re=1/0,le=-1/0;q.forEach(function(Q){var se=Q.depth;se>=B._maxDepth?(Q.x0=Q.x1=(Q.x0+Q.x1)/2,Q.y0=Q.y1=(Q.y0+Q.y1)/2):(re=Math.min(re,se),le=Math.max(le,se))}),h=h.data(q,r.getPtId),B._maxVisibleLayers=isFinite(le)?le-re+1:0,h.enter().append("g").classed("slice",!0),A(h,n,k,[c,a],T),h.order();var ie=null;if(S&&m){var K=r.getPtId(m);h.each(function(Q){ie===null&&r.getPtId(Q)===K&&(ie={x0:Q.x0,x1:Q.x1,y0:Q.y0,y1:Q.y1})})}var $=function(){return ie||{x0:0,x1:c,y0:0,y1:a}},X=h;return S&&(X=X.transition().each("end",function(){var Q=b.select(this);r.setSliceCursor(Q,u,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),X.each(function(Q){var se=r.isHeader(Q,B);Q._x0=d(Q.x0),Q._x1=d(Q.x1),Q._y0=x(Q.y0),Q._y1=x(Q.y1),Q._hoverX=d(Q.x1-B.marker.pad.r),Q._hoverY=x(N?Q.y1-B.marker.pad.b/2:Q.y0+B.marker.pad.t/2);var J=b.select(this),G=P.ensureSingle(J,"path","surface",function(xe){xe.style("pointer-events",I?"none":"all")});S?G.transition().attrTween("d",function(xe){var Ce=i(xe,n,$(),[c,a]);return function(De){return T(Ce(De))}}):G.attr("d",T),J.call(t,g,u,f,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{isTransitioning:u._transitioning}),G.call(v,Q,B,u,{hovered:!1}),Q.x0===Q.x1||Q.y0===Q.y1?Q._text="":se?Q._text=W?"":r.getPtLabel(Q)||"":Q._text=o(Q,g,B,f,O)||"";var oe=P.ensureSingle(J,"g","slicetext"),te=P.ensureSingle(oe,"text","",function(xe){xe.attr("data-notex",1)}),fe=P.ensureUniformFontSize(u,r.determineTextFont(B,Q,O.font)),ge=Q._text||" ",we=se&&ge.indexOf("<br>")===-1;te.text(ge).classed("slicetext",!0).attr("text-anchor",z?"end":F||we?"start":"middle").call(s.font,fe).call(L.convertToTspans,u),Q.textBB=s.bBox(te.node()),Q.transform=C(Q,{fontSize:fe.size,isHeader:se}),Q.transform.fontSize=fe.size,S?te.transition().attrTween("transform",function(xe){var Ce=E(xe,n,$(),[c,a]);return function(De){return y(Ce(De))}}):te.attr("transform",y(Q))}),ie}},83024:function(Y){Y.exports=function V(e,b,P){var s;P.swapXY&&(s=e.x0,e.x0=e.y0,e.y0=s,s=e.x1,e.x1=e.y1,e.y1=s),P.flipX&&(s=e.x0,e.x0=b[0]-e.x1,e.x1=b[0]-s),P.flipY&&(s=e.y0,e.y0=b[1]-e.y1,e.y1=b[1]-s);var L=e.children;if(L)for(var M=0;M<L.length;M++)V(L[M],b,P)}},31991:function(Y,V,e){Y.exports={moduleType:"trace",name:"treemap",basePlotModule:e(79516),categories:[],animatable:!0,attributes:e(40516),layoutAttributes:e(45392),supplyDefaults:e(34092),supplyLayoutDefaults:e(77480),calc:e(97840).r,crossTraceCalc:e(97840).q,plot:e(53264),style:e(66192).style,colorbar:e(5528),meta:{}}},45392:function(Y){Y.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77480:function(Y,V,e){var b=e(3400),P=e(45392);Y.exports=function(L,M){function v(p,r){return b.coerce(L,M,P,p,r)}v("treemapcolorway",M.colorway),v("extendtreemapcolors")}},13832:function(Y,V,e){var b=e(74148),P=e(83024);Y.exports=function(M,v,p){var r=p.flipX,t=p.flipY,o=p.packing==="dice-slice",n=p.pad[t?"bottom":"top"],l=p.pad[r?"right":"left"],u=p.pad[r?"left":"right"],f=p.pad[t?"top":"bottom"],g;o&&(g=l,l=n,n=g,g=u,u=f,f=g);var h=b.treemap().tile(s(p.packing,p.squarifyratio)).paddingInner(p.pad.inner).paddingLeft(l).paddingRight(u).paddingTop(n).paddingBottom(f).size(o?[v[1],v[0]]:v)(M);return(o||r||t)&&P(h,v,{swapXY:o,flipX:r,flipY:t}),h};function s(L,M){switch(L){case"squarify":return b.treemapSquarify.ratio(M);case"binary":return b.treemapBinary;case"dice":return b.treemapDice;case"slice":return b.treemapSlice;default:return b.treemapSliceDice}}},53264:function(Y,V,e){var b=e(95808),P=e(76477);Y.exports=function(L,M,v,p){return b(L,M,v,p,{type:"treemap",drawDescendants:P})}},52960:function(Y,V,e){var b=e(33428),P=e(67756).qy,s=e(78176),L=e(3400),M=e(78048).TEXTPAD,v=e(98184),p=v.toMoveInsideBar,r=e(82744),t=r.recordMinTextSize,o=e(32984),n=e(27336);function l(u){return s.isHierarchyRoot(u)?"":s.getPtId(u)}Y.exports=function(f,g,h,w,c){var a=f._fullLayout,d=g[0],x=d.trace,T=x.type,C=T==="icicle",y=d.hierarchy,S=s.findEntryWithLevel(y,x.level),A=b.select(h),i=A.selectAll("g.pathbar"),E=A.selectAll("g.slice");if(!S){i.remove(),E.remove();return}var m=s.isHierarchyRoot(S),k=!a.uniformtext.mode&&s.hasTransition(w),I=s.getMaxDepth(x),O=function(Ie){return Ie.data.depth-S.data.depth<I},_=a._size,B=x.domain,F=_.w*(B.x[1]-B.x[0]),z=_.h*(B.y[1]-B.y[0]),N=F,W=x.pathbar.thickness,Z=x.marker.line.width+o.gapWithPathbar,q=x.pathbar.visible?x.pathbar.side.indexOf("bottom")>-1?z+Z:-(W+Z):0,re={x0:N,x1:N,y0:q,y1:q+W},le=function(Ie,Ve,Ge){var Xe=x.tiling.pad,Le=function(he){return he-Xe<=Ve.x0},Fe=function(he){return he+Xe>=Ve.x1},Ue=function(he){return he-Xe<=Ve.y0},Ee=function(he){return he+Xe>=Ve.y1};return Ie.x0===Ve.x0&&Ie.x1===Ve.x1&&Ie.y0===Ve.y0&&Ie.y1===Ve.y1?{x0:Ie.x0,x1:Ie.x1,y0:Ie.y0,y1:Ie.y1}:{x0:Le(Ie.x0-Xe)?0:Fe(Ie.x0-Xe)?Ge[0]:Ie.x0,x1:Le(Ie.x1+Xe)?0:Fe(Ie.x1+Xe)?Ge[0]:Ie.x1,y0:Ue(Ie.y0-Xe)?0:Ee(Ie.y0-Xe)?Ge[1]:Ie.y0,y1:Ue(Ie.y1+Xe)?0:Ee(Ie.y1+Xe)?Ge[1]:Ie.y1}},ie=null,K={},$={},X=null,Q=function(Ie,Ve){return Ve?K[l(Ie)]:$[l(Ie)]},se=function(Ie,Ve,Ge,Xe){if(Ve)return K[l(y)]||re;var Le=$[x.level]||Ge;return O(Ie)?le(Ie,Le,Xe):{}};d.hasMultipleRoots&&m&&I++,x._maxDepth=I,x._backgroundColor=a.paper_bgcolor,x._entryDepth=S.data.depth,x._atRootLevel=m;var J=-F/2+_.l+_.w*(B.x[1]+B.x[0])/2,G=-z/2+_.t+_.h*(1-(B.y[1]+B.y[0])/2),oe=function(Ie){return J+Ie},te=function(Ie){return G+Ie},fe=te(0),ge=oe(0),we=function(Ie){return ge+Ie},xe=function(Ie){return fe+Ie};function Ce(Ie,Ve){return Ie+","+Ve}var De=we(0),Oe=function(Ie){Ie.x=Math.max(De,Ie.x)},Te=x.pathbar.edgeshape,Re=function(Ie){var Ve=we(Math.max(Math.min(Ie.x0,Ie.x0),0)),Ge=we(Math.min(Math.max(Ie.x1,Ie.x1),N)),Xe=xe(Ie.y0),Le=xe(Ie.y1),Fe=W/2,Ue={},Ee={};Ue.x=Ve,Ee.x=Ge,Ue.y=Ee.y=(Xe+Le)/2;var he={x:Ve,y:Xe},ye={x:Ge,y:Xe},_e={x:Ge,y:Le},We={x:Ve,y:Le};return Te===">"?(he.x-=Fe,ye.x-=Fe,_e.x-=Fe,We.x-=Fe):Te==="/"?(_e.x-=Fe,We.x-=Fe,Ue.x-=Fe/2,Ee.x-=Fe/2):Te==="\\"?(he.x-=Fe,ye.x-=Fe,Ue.x-=Fe/2,Ee.x-=Fe/2):Te==="<"&&(Ue.x-=Fe,Ee.x-=Fe),Oe(he),Oe(We),Oe(Ue),Oe(ye),Oe(_e),Oe(Ee),"M"+Ce(he.x,he.y)+"L"+Ce(ye.x,ye.y)+"L"+Ce(Ee.x,Ee.y)+"L"+Ce(_e.x,_e.y)+"L"+Ce(We.x,We.y)+"L"+Ce(Ue.x,Ue.y)+"Z"},Me=x[C?"tiling":"marker"].pad,ke=function(Ie){return x.textposition.indexOf(Ie)!==-1},Se=ke("top"),He=ke("left"),je=ke("right"),at=ke("bottom"),Ze=function(Ie){var Ve=oe(Ie.x0),Ge=oe(Ie.x1),Xe=te(Ie.y0),Le=te(Ie.y1),Fe=Ge-Ve,Ue=Le-Xe;if(!Fe||!Ue)return"";var Ee=x.marker.cornerradius||0,he=Math.min(Ee,Fe/2,Ue/2);he&&Ie.data&&Ie.data.data&&Ie.data.data.label&&(Se&&(he=Math.min(he,Me.t)),He&&(he=Math.min(he,Me.l)),je&&(he=Math.min(he,Me.r)),at&&(he=Math.min(he,Me.b)));var ye=function(_e,We){return he?"a"+Ce(he,he)+" 0 0 1 "+Ce(_e,We):""};return"M"+Ce(Ve,Xe+he)+ye(he,-he)+"L"+Ce(Ge-he,Xe)+ye(he,he)+"L"+Ce(Ge,Le-he)+ye(-he,he)+"L"+Ce(Ve+he,Le)+ye(-he,-he)+"Z"},$e=function(Ie,Ve){var Ge=Ie.x0,Xe=Ie.x1,Le=Ie.y0,Fe=Ie.y1,Ue=Ie.textBB,Ee=Se||Ve.isHeader&&!at,he=Ee?"start":at?"end":"middle",ye=ke("right"),_e=ke("left")||Ve.onPathbar,We=_e?-1:ye?1:0;if(Ve.isHeader){if(Ge+=(C?Me:Me.l)-M,Xe-=(C?Me:Me.r)-M,Ge>=Xe){var rt=(Ge+Xe)/2;Ge=rt,Xe=rt}var st;at?(st=Fe-(C?Me:Me.b),Le<st&&st<Fe&&(Le=st)):(st=Le+(C?Me:Me.t),Le<st&&st<Fe&&(Fe=st))}var Vt=p(Ge,Xe,Le,Fe,Ue,{isHorizontal:!1,constrained:!0,angle:0,anchor:he,leftToRight:We});return Vt.fontSize=Ve.fontSize,Vt.targetX=oe(Vt.targetX),Vt.targetY=te(Vt.targetY),isNaN(Vt.targetX)||isNaN(Vt.targetY)?{}:(Ge!==Xe&&Le!==Fe&&t(x.type,Vt,a),{scale:Vt.scale,rotate:Vt.rotate,textX:Vt.textX,textY:Vt.textY,anchorX:Vt.anchorX,anchorY:Vt.anchorY,targetX:Vt.targetX,targetY:Vt.targetY})},ut=function(Ie,Ve){for(var Ge,Xe=0,Le=Ie;!Ge&&Xe<I;)Xe++,Le=Le.parent,Le?Ge=Q(Le,Ve):Xe=I;return Ge||{}},ht=function(Ie,Ve,Ge,Xe){var Le=Q(Ie,Ve),Fe;if(Ve)Fe=re;else{var Ue=Q(S,Ve);Ue?Fe=le(Ie,Ue,Xe):Fe={}}return P(Le,Fe)},vt=function(Ie,Ve,Ge,Xe,Le){var Fe=Q(Ie,Ve),Ue;if(Fe)Ue=Fe;else if(Ve)Ue=re;else if(ie)if(Ie.parent){var Ee=X||Ge;Ee&&!Ve?Ue=le(Ie,Ee,Xe):(Ue={},L.extendFlat(Ue,ut(Ie,Ve)))}else Ue=L.extendFlat({},Ie),C&&(Le.orientation==="h"?Le.flipX?Ue.x0=Ie.x1:Ue.x1=0:Le.flipY?Ue.y0=Ie.y1:Ue.y1=0);else Ue={};return P(Ue,{x0:Ie.x0,x1:Ie.x1,y0:Ie.y0,y1:Ie.y1})},xt=function(Ie,Ve,Ge,Xe){var Le=Q(Ie,Ve),Fe={},Ue=se(Ie,Ve,Ge,Xe);L.extendFlat(Fe,{transform:$e({x0:Ue.x0,x1:Ue.x1,y0:Ue.y0,y1:Ue.y1,textBB:Ie.textBB,_text:Ie._text},{isHeader:s.isHeader(Ie,x)})}),Le?Fe=Le:Ie.parent&&L.extendFlat(Fe,ut(Ie,Ve));var Ee=Ie.transform;return Ie.x0!==Ie.x1&&Ie.y0!==Ie.y1&&t(x.type,Ee,a),P(Fe,{transform:{scale:Ee.scale,rotate:Ee.rotate,textX:Ee.textX,textY:Ee.textY,anchorX:Ee.anchorX,anchorY:Ee.anchorY,targetX:Ee.targetX,targetY:Ee.targetY}})},St=function(Ie,Ve,Ge,Xe,Le){var Fe=Xe[0],Ue=Xe[1];k?Ie.exit().transition().each(function(){var Ee=b.select(this),he=Ee.select("path.surface");he.transition().attrTween("d",function(_e){var We=ht(_e,Ve,Ge,[Fe,Ue]);return function(rt){return Le(We(rt))}});var ye=Ee.select("g.slicetext");ye.attr("opacity",0)}).remove():Ie.exit().remove()},tt=function(Ie){var Ve=Ie.transform;return Ie.x0!==Ie.x1&&Ie.y0!==Ie.y1&&t(x.type,Ve,a),L.getTextTransform({textX:Ve.textX,textY:Ve.textY,anchorX:Ve.anchorX,anchorY:Ve.anchorY,targetX:Ve.targetX,targetY:Ve.targetY,scale:Ve.scale,rotate:Ve.rotate})};k&&(i.each(function(Ie){K[l(Ie)]={x0:Ie.x0,x1:Ie.x1,y0:Ie.y0,y1:Ie.y1},Ie.transform&&(K[l(Ie)].transform={textX:Ie.transform.textX,textY:Ie.transform.textY,anchorX:Ie.transform.anchorX,anchorY:Ie.transform.anchorY,targetX:Ie.transform.targetX,targetY:Ie.transform.targetY,scale:Ie.transform.scale,rotate:Ie.transform.rotate})}),E.each(function(Ie){$[l(Ie)]={x0:Ie.x0,x1:Ie.x1,y0:Ie.y0,y1:Ie.y1},Ie.transform&&($[l(Ie)].transform={textX:Ie.transform.textX,textY:Ie.transform.textY,anchorX:Ie.transform.anchorX,anchorY:Ie.transform.anchorY,targetX:Ie.transform.targetX,targetY:Ie.transform.targetY,scale:Ie.transform.scale,rotate:Ie.transform.rotate}),!ie&&s.isEntry(Ie)&&(ie=Ie)})),X=c(f,g,S,E,{width:F,height:z,viewX:oe,viewY:te,pathSlice:Ze,toMoveInsideSlice:$e,prevEntry:ie,makeUpdateSliceInterpolator:vt,makeUpdateTextInterpolator:xt,handleSlicesExit:St,hasTransition:k,strTransform:tt}),x.pathbar.visible?n(f,g,S,i,{barDifY:q,width:N,height:W,viewX:we,viewY:xe,pathSlice:Re,toMoveInsideSlice:$e,makeUpdateSliceInterpolator:vt,makeUpdateTextInterpolator:xt,handleSlicesExit:St,hasTransition:k,strTransform:tt}):i.remove()}},66192:function(Y,V,e){var b=e(33428),P=e(76308),s=e(3400),L=e(78176),M=e(82744).resizeText,v=e(60404);function p(t){var o=t._fullLayout._treemaplayer.selectAll(".trace");M(t,o,"treemap"),o.each(function(n){var l=b.select(this),u=n[0],f=u.trace;l.style("opacity",f.opacity),l.selectAll("path.surface").each(function(g){b.select(this).call(r,g,f,t,{hovered:!1})})})}function r(t,o,n,l,u){var f=(u||{}).hovered,g=o.data.data,h=g.i,w,c,a=g.color,d=L.isHierarchyRoot(o),x=1;if(f)w=n._hovered.marker.line.color,c=n._hovered.marker.line.width;else if(d&&a===n.root.color)x=100,w="rgba(0,0,0,0)",c=0;else if(w=s.castOption(n,h,"marker.line.color")||P.defaultLine,c=s.castOption(n,h,"marker.line.width")||0,!n._hasColorscale&&!o.onPathbar){var T=n.marker.depthfade;if(T){var C=P.combine(P.addOpacity(n._backgroundColor,.75),a),y;if(T===!0){var S=L.getMaxDepth(n);isFinite(S)?L.isLeaf(o)?y=0:y=n._maxVisibleLayers-(o.data.depth-n._entryDepth):y=o.data.height+1}else y=o.data.depth-n._entryDepth,n._atRootLevel||y++;if(y>0)for(var A=0;A<y;A++){var i=.5*A/y;a=P.combine(P.addOpacity(C,i),a)}}}t.call(v,o,n,l,a).style("stroke-width",c).call(P.stroke,w).style("opacity",x)}Y.exports={style:p,styleOne:r}},13988:function(Y,V,e){var b=e(63188),P=e(92880).extendFlat,s=e(29736).axisHoverFormat;Y.exports={y:b.y,x:b.x,x0:b.x0,y0:b.y0,xhoverformat:s("x"),yhoverformat:s("y"),name:P({},b.name,{}),orientation:P({},b.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:b.fillcolor,points:P({},b.boxpoints,{}),jitter:P({},b.jitter,{}),pointpos:P({},b.pointpos,{}),width:P({},b.width,{}),marker:b.marker,text:b.text,hovertext:b.hovertext,hovertemplate:b.hovertemplate,quartilemethod:b.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:b.offsetgroup,alignmentgroup:b.alignmentgroup,selected:b.selected,unselected:b.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"},zorder:b.zorder}},67064:function(Y,V,e){var b=e(3400),P=e(54460),s=e(62555),L=e(63800),M=e(39032).BADNUM;Y.exports=function(o,n){var l=s(o,n);if(l[0].t.empty)return l;for(var u=o._fullLayout,f=P.getFromId(o,n[n.orientation==="h"?"xaxis":"yaxis"]),g=1/0,h=-1/0,w=0,c=0,a=0;a<l.length;a++){var d=l[a],x=d.pts.map(L.extractVal),T=d.bandwidth=p(n,d,x),C=d.span=r(n,d,f,T);if(d.min===d.max&&T===0)C=d.span=[d.min,d.max],d.density=[{v:1,t:C[0]}],d.bandwidth=T,w=Math.max(w,1);else{var y=C[1]-C[0],S=Math.ceil(y/(T/3)),A=y/S;if(!isFinite(A)||!isFinite(S))return b.error("Something went wrong with computing the violin span"),l[0].t.empty=!0,l;var i=L.makeKDE(d,n,x);d.density=new Array(S);for(var E=0,m=C[0];m<C[1]+A/2;E++,m+=A){var k=i(m);d.density[E]={v:k,t:m},w=Math.max(w,k)}}c=Math.max(c,x.length),g=Math.min(g,C[0]),h=Math.max(h,C[1])}var I=P.findExtremes(f,[g,h],{padded:!0});if(n._extremes[f._id]=I,n.width)l[0].t.maxKDE=w;else{var O=u._violinScaleGroupStats,_=n.scalegroup,B=O[_];B?(B.maxKDE=Math.max(B.maxKDE,w),B.maxCount=Math.max(B.maxCount,c)):O[_]={maxKDE:w,maxCount:c}}return l[0].t.labels.kde=b._(o,"kde:"),l};function v(t,o,n){var l=Math.min(o,n/1.349);return 1.059*l*Math.pow(t,-.2)}function p(t,o,n){var l=o.max-o.min;if(!l)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,l/1e4);var u=n.length,f=b.stdev(n,u-1,o.mean);return Math.max(v(u,f,o.q3-o.q1),l/100)}function r(t,o,n,l){var u=t.spanmode,f=t.span||[],g=[o.min,o.max],h=[o.min-2*l,o.max+2*l],w;function c(d){var x=f[d],T=n.type==="multicategory"?n.r2c(x):n.d2c(x,0,t[o.valLetter+"calendar"]);return T===M?h[d]:T}u==="soft"?w=h:u==="hard"?w=g:w=[c(0),c(1)];var a={type:"linear",range:w};return P.setConvert(a),a.cleanRange(),w}},14348:function(Y,V,e){var b=e(96404).setPositionOffset,P=["v","h"];Y.exports=function(L,M){for(var v=L.calcdata,p=M.xaxis,r=M.yaxis,t=0;t<P.length;t++){for(var o=P[t],n=o==="h"?r:p,l=[],u=0;u<v.length;u++){var f=v[u],g=f[0].t,h=f[0].trace;h.visible===!0&&h.type==="violin"&&!g.empty&&h.orientation===o&&h.xaxis===p._id&&h.yaxis===r._id&&l.push(u)}b("violin",L,l,n)}}},36240:function(Y,V,e){var b=e(3400),P=e(76308),s=e(90624),L=e(13988);Y.exports=function(v,p,r,t){function o(A,i){return b.coerce(v,p,L,A,i)}function n(A,i){return b.coerce2(v,p,L,A,i)}if(s.handleSampleDefaults(v,p,o,t),p.visible!==!1){o("bandwidth"),o("side");var l=o("width");l||(o("scalegroup",p.name),o("scalemode"));var u=o("span"),f;Array.isArray(u)&&(f="manual"),o("spanmode",f);var g=o("line.color",(v.marker||{}).color||r),h=o("line.width"),w=o("fillcolor",P.addOpacity(p.line.color,.5));s.handlePointsDefaults(v,p,o,{prefix:""});var c=n("box.width"),a=n("box.fillcolor",w),d=n("box.line.color",g),x=n("box.line.width",h),T=o("box.visible",!!(c||a||d||x));T||(p.box={visible:!1});var C=n("meanline.color",g),y=n("meanline.width",h),S=o("meanline.visible",!!(C||y));S||(p.meanline={visible:!1}),o("quartilemethod"),o("zorder")}}},63800:function(Y,V,e){var b=e(3400),P={gaussian:function(s){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*s*s)}};V.makeKDE=function(s,L,M){var v=M.length,p=P.gaussian,r=s.bandwidth,t=1/(v*r);return function(o){for(var n=0,l=0;l<v;l++)n+=p((o-M[l])/r);return t*n}},V.getPositionOnKdePath=function(s,L,M){var v,p;L.orientation==="h"?(v="y",p="x"):(v="x",p="y");var r=b.findPointOnPath(s.path,M,p,{pathLength:s.pathLength}),t=s.posCenterPx,o=r[v],n=L.side==="both"?2*t-o:t;return[o,n]},V.getKdeValue=function(s,L,M){var v=s.pts.map(V.extractVal),p=V.makeKDE(s,L,v);return p(M)/s.posDensityScale},V.extractVal=function(s){return s.v}},78e3:function(Y,V,e){var b=e(76308),P=e(3400),s=e(54460),L=e(27576),M=e(63800);Y.exports=function(p,r,t,o,n){n||(n={});var l=n.hoverLayer,u=p.cd,f=u[0].trace,g=f.hoveron,h=g.indexOf("violins")!==-1,w=g.indexOf("kde")!==-1,c=[],a,d;if(h||w){var x=L.hoverOnBoxes(p,r,t,o);if(w&&x.length>0){var T=p.xa,C=p.ya,y,S,A,i,E;f.orientation==="h"?(E=r,y="y",A=C,S="x",i=T):(E=t,y="x",A=T,S="y",i=C);var m=u[p.index];if(E>=m.span[0]&&E<=m.span[1]){var k=P.extendFlat({},p),I=i.c2p(E,!0),O=M.getKdeValue(m,f,E),_=M.getPositionOnKdePath(m,f,I),B=A._offset,F=A._length;k[y+"0"]=_[0],k[y+"1"]=_[1],k[S+"0"]=k[S+"1"]=I,k[S+"Label"]=S+": "+s.hoverLabelText(i,E,f[S+"hoverformat"])+", "+u[0].t.labels.kde+" "+O.toFixed(3);for(var z=0,N=0;N<x.length;N++)if(x[N].attr==="med"){z=N;break}k.spikeDistance=x[z].spikeDistance;var W=y+"Spike";k[W]=x[z][W],x[z].spikeDistance=void 0,x[z][W]=void 0,k.hovertemplate=!1,c.push(k),d={},d[y+"1"]=P.constrain(B+_[0],B,B+F),d[y+"2"]=P.constrain(B+_[1],B,B+F),d[S+"1"]=d[S+"2"]=i._offset+I}}h&&(c=c.concat(x))}g.indexOf("points")!==-1&&(a=L.hoverOnPoints(p,r,t));var Z=l.selectAll(".violinline-"+f.uid).data(d?[0]:[]);return Z.enter().append("line").classed("violinline-"+f.uid,!0).attr("stroke-width",1.5),Z.exit().remove(),Z.attr(d).call(b.stroke,p.color),o==="closest"?a?[a]:c:(a&&c.push(a),c)}},22869:function(Y,V,e){Y.exports={attributes:e(13988),layoutAttributes:e(98228),supplyDefaults:e(36240),crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(8939),calc:e(67064),crossTraceCalc:e(14348),plot:e(5140),style:e(95908),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(78e3),selectPoints:e(8264),moduleType:"trace",name:"violin",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},98228:function(Y,V,e){var b=e(16560),P=e(3400).extendFlat;Y.exports={violinmode:P({},b.boxmode,{}),violingap:P({},b.boxgap,{}),violingroupgap:P({},b.boxgroupgap,{})}},8939:function(Y,V,e){var b=e(3400),P=e(98228),s=e(68832);Y.exports=function(M,v,p){function r(t,o){return b.coerce(M,v,P,t,o)}s._supply(M,v,p,r,"violin")}},5140:function(Y,V,e){var b=e(33428),P=e(3400),s=e(43616),L=e(18728),M=e(52340),v=e(63800);Y.exports=function(r,t,o,n){var l=r._context.staticPlot,u=r._fullLayout,f=t.xaxis,g=t.yaxis;function h(w,c){var a=M(w,{xaxis:f,yaxis:g,trace:c,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return s.smoothopen(a[0],1)}P.makeTraceGroups(n,o,"trace violins").each(function(w){var c=b.select(this),a=w[0],d=a.t,x=a.trace;if(x.visible!==!0||d.empty){c.remove();return}var T=d.bPos,C=d.bdPos,y=t[d.valLetter+"axis"],S=t[d.posLetter+"axis"],A=x.side==="both",i=A||x.side==="positive",E=A||x.side==="negative",m=c.selectAll("path.violin").data(P.identity);m.enter().append("path").style("vector-effect",l?"none":"non-scaling-stroke").attr("class","violin"),m.exit().remove(),m.each(function(N){var W=b.select(this),Z=N.density,q=Z.length,re=S.c2l(N.pos+T,!0),le=S.l2p(re),ie;if(x.width)ie=d.maxKDE/C;else{var K=u._violinScaleGroupStats[x.scalegroup];ie=x.scalemode==="count"?K.maxKDE/C*(K.maxCount/N.pts.length):K.maxKDE/C}var $,X,Q,se,J,G,oe;if(i){for(G=new Array(q),se=0;se<q;se++)oe=G[se]={},oe[d.posLetter]=re+Z[se].v/ie,oe[d.valLetter]=y.c2l(Z[se].t,!0);$=h(G,x)}if(E){for(G=new Array(q),J=0,se=q-1;J<q;J++,se--)oe=G[J]={},oe[d.posLetter]=re-Z[se].v/ie,oe[d.valLetter]=y.c2l(Z[se].t,!0);X=h(G,x)}if(A)Q=$+"L"+X.substr(1)+"Z";else{var te=[le,y.c2p(Z[0].t)],fe=[le,y.c2p(Z[q-1].t)];x.orientation==="h"&&(te.reverse(),fe.reverse()),i?Q="M"+te+"L"+$.substr(1)+"L"+fe:Q="M"+fe+"L"+X.substr(1)+"L"+te}W.attr("d",Q),N.posCenterPx=le,N.posDensityScale=ie*C,N.path=W.node(),N.pathLength=N.path.getTotalLength()/(A?2:1)});var k=x.box,I=k.width,O=(k.line||{}).width,_,B;A?(_=C*I,B=0):i?(_=[0,C*I/2],B=O*{x:1,y:-1}[d.posLetter]):(_=[C*I/2,0],B=O*{x:-1,y:1}[d.posLetter]),L.plotBoxAndWhiskers(c,{pos:S,val:y},x,{bPos:T,bdPos:_,bPosPxOffset:B}),L.plotBoxMean(c,{pos:S,val:y},x,{bPos:T,bdPos:_,bPosPxOffset:B});var F;!x.box.visible&&x.meanline.visible&&(F=P.identity);var z=c.selectAll("path.meanline").data(F||[]);z.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",l?"none":"non-scaling-stroke"),z.exit().remove(),z.each(function(N){var W=y.c2p(N.mean,!0),Z=v.getPositionOnKdePath(N,x,W);b.select(this).attr("d",x.orientation==="h"?"M"+W+","+Z[0]+"V"+Z[1]:"M"+Z[0]+","+W+"H"+Z[1])}),L.plotPoints(c,{x:f,y:g},x,d)})}},95908:function(Y,V,e){var b=e(33428),P=e(76308),s=e(49224).stylePoints;Y.exports=function(M){var v=b.select(M).selectAll("g.trace.violins");v.style("opacity",function(p){return p[0].trace.opacity}),v.each(function(p){var r=p[0].trace,t=b.select(this),o=r.box||{},n=o.line||{},l=r.meanline||{},u=l.width;t.selectAll("path.violin").style("stroke-width",r.line.width+"px").call(P.stroke,r.line.color).call(P.fill,r.fillcolor),t.selectAll("path.box").style("stroke-width",n.width+"px").call(P.stroke,n.color).call(P.fill,o.fillcolor);var f={"stroke-width":u+"px","stroke-dasharray":2*u+"px,"+u+"px"};t.selectAll("path.mean").style(f).call(P.stroke,l.color),t.selectAll("path.meanline").style(f).call(P.stroke,l.color),s(t,r,M)})}},58168:function(Y,V,e){var b=e(49084),P=e(50048),s=e(16716),L=e(45464),M=e(92880).extendFlat,v=e(67824).overrideAll,p=Y.exports=v(M({x:P.x,y:P.y,z:P.z,value:P.value,isomin:P.isomin,isomax:P.isomax,surface:P.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:P.slices,caps:P.caps,text:P.text,hovertext:P.hovertext,xhoverformat:P.xhoverformat,yhoverformat:P.yhoverformat,zhoverformat:P.zhoverformat,valuehoverformat:P.valuehoverformat,hovertemplate:P.hovertemplate},b("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:P.colorbar,opacity:P.opacity,opacityscale:s.opacityscale,lightposition:P.lightposition,lighting:P.lighting,flatshading:P.flatshading,contour:P.contour,hoverinfo:M({},L.hoverinfo),showlegend:M({},L.showlegend,{dflt:!1})}),"calc","nested");p.x.editType=p.y.editType=p.z.editType=p.value.editType="calc+clearAxisTypes",p.transforms=void 0},91976:function(Y,V,e){var b=e(67792).gl_mesh3d,P=e(33040).parseColorScale,s=e(3400).isArrayOrTypedArray,L=e(43080),M=e(8932).extractOpts,v=e(52094),p=e(31460).findNearestOnAxis,r=e(31460).generateIsoMeshes;function t(l,u,f){this.scene=l,this.uid=f,this.mesh=u,this.name="",this.data=null,this.showContour=!1}var o=t.prototype;o.handlePick=function(l){if(l.object===this.mesh){var u=l.data.index,f=this.data._meshX[u],g=this.data._meshY[u],h=this.data._meshZ[u],w=this.data._Ys.length,c=this.data._Zs.length,a=p(f,this.data._Xs).id,d=p(g,this.data._Ys).id,x=p(h,this.data._Zs).id,T=l.index=x+c*d+c*w*a;l.traceCoordinate=[this.data._meshX[T],this.data._meshY[T],this.data._meshZ[T],this.data._value[T]];var C=this.data.hovertext||this.data.text;return s(C)&&C[T]!==void 0?l.textLabel=C[T]:C&&(l.textLabel=C),!0}},o.update=function(l){var u=this.scene,f=u.fullSceneLayout;this.data=r(l);function g(d,x,T,C){return x.map(function(y){return d.d2l(y,0,C)*T})}var h=v(g(f.xaxis,l._meshX,u.dataScale[0],l.xcalendar),g(f.yaxis,l._meshY,u.dataScale[1],l.ycalendar),g(f.zaxis,l._meshZ,u.dataScale[2],l.zcalendar)),w=v(l._meshI,l._meshJ,l._meshK),c={positions:h,cells:w,lightPosition:[l.lightposition.x,l.lightposition.y,l.lightposition.z],ambient:l.lighting.ambient,diffuse:l.lighting.diffuse,specular:l.lighting.specular,roughness:l.lighting.roughness,fresnel:l.lighting.fresnel,vertexNormalsEpsilon:l.lighting.vertexnormalsepsilon,faceNormalsEpsilon:l.lighting.facenormalsepsilon,opacity:l.opacity,opacityscale:l.opacityscale,contourEnable:l.contour.show,contourColor:L(l.contour.color).slice(0,3),contourWidth:l.contour.width,useFacetNormals:l.flatshading},a=M(l);c.vertexIntensity=l._meshIntensity,c.vertexIntensityBounds=[a.min,a.max],c.colormap=P(l),this.mesh.update(c)},o.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function n(l,u){var f=l.glplot.gl,g=b({gl:f}),h=new t(l,g,u.uid);return g._trace=h,h.update(u),l.glplot.add(g),h}Y.exports=n},12448:function(Y,V,e){var b=e(3400),P=e(58168),s=e(70548).supplyIsoDefaults,L=e(60192).opacityscaleDefaults;Y.exports=function(v,p,r,t){function o(n,l){return b.coerce(v,p,P,n,l)}s(v,p,r,t,o),L(v,p,t,o)}},67776:function(Y,V,e){Y.exports={attributes:e(58168),supplyDefaults:e(12448),calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(91976),moduleType:"trace",name:"volume",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},65776:function(Y,V,e){var b=e(20832),P=e(52904).line,s=e(45464),L=e(29736).axisHoverFormat,M=e(21776).Ks,v=e(21776).Gw,p=e(10213),r=e(92880).extendFlat,t=e(76308);function o(n){return{marker:{color:r({},b.marker.color,{arrayOk:!1,editType:"style"}),line:{color:r({},b.marker.line.color,{arrayOk:!1,editType:"style"}),width:r({},b.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}Y.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:b.x,x0:b.x0,dx:b.dx,y:b.y,y0:b.y0,dy:b.dy,xperiod:b.xperiod,yperiod:b.yperiod,xperiod0:b.xperiod0,yperiod0:b.yperiod0,xperiodalignment:b.xperiodalignment,yperiodalignment:b.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),hovertext:b.hovertext,hovertemplate:M({},{keys:p.eventDataKeys}),hoverinfo:r({},s.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label"])}),text:b.text,textposition:b.textposition,insidetextanchor:b.insidetextanchor,textangle:b.textangle,textfont:b.textfont,insidetextfont:b.insidetextfont,outsidetextfont:b.outsidetextfont,constraintext:b.constraintext,cliponaxis:b.cliponaxis,orientation:b.orientation,offset:b.offset,width:b.width,increasing:o(),decreasing:o(),totals:o(),connector:{line:{color:r({},P.color,{dflt:t.defaultLine}),width:r({},P.width,{editType:"plot"}),dash:P.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:b.offsetgroup,alignmentgroup:b.alignmentgroup,zorder:b.zorder}},73540:function(Y,V,e){var b=e(54460),P=e(1220),s=e(3400).mergeArray,L=e(4500),M=e(39032).BADNUM;function v(r){return r==="a"||r==="absolute"}function p(r){return r==="t"||r==="total"}Y.exports=function(t,o){var n=b.getFromId(t,o.xaxis||"x"),l=b.getFromId(t,o.yaxis||"y"),u,f,g,h,w,c;o.orientation==="h"?(u=n.makeCalcdata(o,"x"),g=l.makeCalcdata(o,"y"),h=P(o,l,"y",g),w=!!o.yperiodalignment,c="y"):(u=l.makeCalcdata(o,"y"),g=n.makeCalcdata(o,"x"),h=P(o,n,"x",g),w=!!o.xperiodalignment,c="x"),f=h.vals;for(var a=Math.min(f.length,u.length),d=new Array(a),x=0,T,C=!1,y=0;y<a;y++){var S=u[y]||0,A=!1;(u[y]!==M||p(o.measure[y])||v(o.measure[y]))&&y+1<a&&(u[y+1]!==M||p(o.measure[y+1])||v(o.measure[y+1]))&&(A=!0);var i=d[y]={i:y,p:f[y],s:S,rawS:S,cNext:A};v(o.measure[y])?(x=i.s,i.isSum=!0,i.dir="totals",i.s=x):p(o.measure[y])?(i.isSum=!0,i.dir="totals",i.s=x):(i.isSum=!1,i.dir=i.rawS<0?"decreasing":"increasing",T=i.s,i.s=x+T,x+=T),i.dir==="totals"&&(C=!0),w&&(d[y].orig_p=g[y],d[y][c+"End"]=h.ends[y],d[y][c+"Start"]=h.starts[y]),o.ids&&(i.id=String(o.ids[y])),i.v=(o.base||0)+x}return d.length&&(d[0].hasTotals=C),s(o.text,d,"tx"),s(o.hovertext,d,"htx"),L(d,o),d}},10213:function(Y){Y.exports={eventDataKeys:["initial","delta","final"]}},50152:function(Y,V,e){var b=e(96376).setGroupPositions;Y.exports=function(s,L){var M=s._fullLayout,v=s._fullData,p=s.calcdata,r=L.xaxis,t=L.yaxis,o=[],n=[],l=[],u,f;for(f=0;f<v.length;f++){var g=v[f];g.visible===!0&&g.xaxis===r._id&&g.yaxis===t._id&&g.type==="waterfall"&&(u=p[f],g.orientation==="h"?l.push(u):n.push(u),o.push(u))}var h={mode:M.waterfallmode,norm:M.waterfallnorm,gap:M.waterfallgap,groupgap:M.waterfallgroupgap};for(b(s,r,t,n,h),b(s,t,r,l,h),f=0;f<o.length;f++){u=o[f];for(var w=0;w<u.length;w++){var c=u[w];c.isSum===!1&&(c.s0+=w===0?0:u[w-1].s),w+1<u.length&&(u[w].nextP0=u[w+1].p0,u[w].nextS0=u[w+1].s0)}}}},24224:function(Y,V,e){var b=e(3400),P=e(20011),s=e(31508).handleText,L=e(43980),M=e(31147),v=e(65776),p=e(76308),r=e(48164),t=r.INCREASING.COLOR,o=r.DECREASING.COLOR,n="#4499FF";function l(g,h,w){g(h+".marker.color",w),g(h+".marker.line.color",p.defaultLine),g(h+".marker.line.width")}function u(g,h,w,c){function a(y,S){return b.coerce(g,h,v,y,S)}var d=L(g,h,c,a);if(!d){h.visible=!1;return}M(g,h,c,a),a("xhoverformat"),a("yhoverformat"),a("measure"),a("orientation",h.x&&!h.y?"h":"v"),a("base"),a("offset"),a("width"),a("text"),a("hovertext"),a("hovertemplate");var x=a("textposition");s(g,h,c,a,x,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),h.textposition!=="none"&&(a("texttemplate"),h.texttemplate||a("textinfo")),l(a,"increasing",t),l(a,"decreasing",o),l(a,"totals",n);var T=a("connector.visible");if(T){a("connector.mode");var C=a("connector.line.width");C&&(a("connector.line.color"),a("connector.line.dash"))}a("zorder")}function f(g,h){var w,c;function a(x){return b.coerce(c._input,c,v,x)}if(h.waterfallmode==="group")for(var d=0;d<g.length;d++)c=g[d],w=c._input,P(w,c,h,a)}Y.exports={supplyDefaults:u,crossTraceDefaults:f}},53256:function(Y){Y.exports=function(e,b){return e.x="xVal"in b?b.xVal:b.x,e.y="yVal"in b?b.yVal:b.y,"initial"in b&&(e.initial=b.initial),"delta"in b&&(e.delta=b.delta),"final"in b&&(e.final=b.final),b.xa&&(e.xaxis=b.xa),b.ya&&(e.yaxis=b.ya),e}},94196:function(Y,V,e){var b=e(54460).hoverLabelText,P=e(76308).opacity,s=e(63400).hoverOnBars,L=e(48164),M={increasing:L.INCREASING.SYMBOL,decreasing:L.DECREASING.SYMBOL};Y.exports=function(r,t,o,n,l){var u=s(r,t,o,n,l);if(!u)return;var f=u.cd,g=f[0].trace,h=g.orientation==="h",w=h?"x":"y",c=h?r.xa:r.ya;function a(m){return b(c,m,g[w+"hoverformat"])}var d=u.index,x=f[d],T=x.isSum?x.b+x.s:x.rawS;u.initial=x.b+x.s-T,u.delta=T,u.final=u.initial+u.delta;var C=a(Math.abs(u.delta));u.deltaLabel=T<0?"("+C+")":C,u.finalLabel=a(u.final),u.initialLabel=a(u.initial);var y=x.hi||g.hoverinfo,S=[];if(y&&y!=="none"&&y!=="skip"){var A=y==="all",i=y.split("+"),E=function(m){return A||i.indexOf(m)!==-1};x.isSum||(E("final")&&(h?!E("x"):!E("y"))&&S.push(u.finalLabel),E("delta")&&(T<0?S.push(u.deltaLabel+" "+M.decreasing):S.push(u.deltaLabel+" "+M.increasing)),E("initial")&&S.push("Initial: "+u.initialLabel))}return S.length&&(u.extraText=S.join("<br>")),u.color=v(g,x),[u]};function v(p,r){var t=p[r.dir].marker,o=t.color,n=t.line.color,l=t.line.width;if(P(o))return o;if(P(n)&&l)return n}},95952:function(Y,V,e){Y.exports={attributes:e(65776),layoutAttributes:e(91352),supplyDefaults:e(24224).supplyDefaults,crossTraceDefaults:e(24224).crossTraceDefaults,supplyLayoutDefaults:e(59464),calc:e(73540),crossTraceCalc:e(50152),plot:e(64488),style:e(12252).style,hoverPoints:e(94196),eventData:e(53256),selectPoints:e(45784),moduleType:"trace",name:"waterfall",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},91352:function(Y){Y.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},59464:function(Y,V,e){var b=e(3400),P=e(91352);Y.exports=function(s,L,M){var v=!1;function p(o,n){return b.coerce(s,L,P,o,n)}for(var r=0;r<M.length;r++){var t=M[r];if(t.visible&&t.type==="waterfall"){v=!0;break}}v&&(p("waterfallmode"),p("waterfallgap",.2),p("waterfallgroupgap"))}},64488:function(Y,V,e){var b=e(33428),P=e(3400),s=e(43616),L=e(39032).BADNUM,M=e(98184),v=e(82744).clearMinTextSize;Y.exports=function(o,n,l,u){var f=o._fullLayout;v("waterfall",f),M.plot(o,n,l,u,{mode:f.waterfallmode,norm:f.waterfallmode,gap:f.waterfallgap,groupgap:f.waterfallgroupgap}),p(o,n,l,u)};function p(t,o,n,l){var u=o.xaxis,f=o.yaxis;P.makeTraceGroups(l,n,"trace bars").each(function(g){var h=b.select(this),w=g[0].trace,c=P.ensureSingle(h,"g","lines");if(!w.connector||!w.connector.visible){c.remove();return}var a=w.orientation==="h",d=w.connector.mode,x=c.selectAll("g.line").data(P.identity);x.enter().append("g").classed("line",!0),x.exit().remove();var T=x.size();x.each(function(C,y){if(!(y!==T-1&&!C.cNext)){var S=r(C,u,f,a),A=S[0],i=S[1],E="";A[0]!==L&&i[0]!==L&&A[1]!==L&&i[1]!==L&&(d==="spanning"&&!C.isSum&&y>0&&(a?E+="M"+A[0]+","+i[1]+"V"+i[0]:E+="M"+A[1]+","+i[0]+"H"+A[0]),d!=="between"&&(C.isSum||y<T-1)&&(a?E+="M"+A[1]+","+i[0]+"V"+i[1]:E+="M"+A[0]+","+i[1]+"H"+A[1]),A[2]!==L&&i[2]!==L&&(a?E+="M"+A[1]+","+i[1]+"V"+i[2]:E+="M"+A[1]+","+i[1]+"H"+A[2])),E===""&&(E="M0,0Z"),P.ensureSingle(b.select(this),"path").attr("d",E).call(s.setClipUrl,o.layerClipId,t)}})})}function r(t,o,n,l){var u=[],f=[],g=l?o:n,h=l?n:o;return u[0]=g.c2p(t.s0,!0),f[0]=h.c2p(t.p0,!0),u[1]=g.c2p(t.s1,!0),f[1]=h.c2p(t.p1,!0),u[2]=g.c2p(t.nextS0,!0),f[2]=h.c2p(t.nextP0,!0),l?[u,f]:[f,u]}},12252:function(Y,V,e){var b=e(33428),P=e(43616),s=e(76308),L=e(13448).DESELECTDIM,M=e(60100),v=e(82744).resizeText,p=M.styleTextPoints;function r(t,o,n){var l=n||b.select(t).selectAll('g[class^="waterfalllayer"]').selectAll("g.trace");v(t,l,"waterfall"),l.style("opacity",function(u){return u[0].trace.opacity}),l.each(function(u){var f=b.select(this),g=u[0].trace;f.selectAll(".point > path").each(function(h){if(!h.isBlank){var w=g[h.dir].marker;b.select(this).call(s.fill,w.color).call(s.stroke,w.line.color).call(P.dashLine,w.line.dash,w.line.width).style("opacity",g.selectedpoints&&!h.selected?L:1)}}),p(f,g,t),f.selectAll(".lines").each(function(){var h=g.connector.line;P.lineGroupStyle(b.select(this).selectAll("path"),h.width,h.color,h.dash)})})}Y.exports={style:r}},84224:function(Y,V,e){var b=e(54460),P=e(3400),s=e(73060),L=e(60468).W,M=e(39032).BADNUM;V.moduleType="transform",V.name="aggregate";var v=V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},p=v.aggregations;V.supplyDefaults=function(u,f){var g={},h;function w(m,k){return P.coerce(u,g,v,m,k)}var c=w("enabled");if(!c)return g;var a=s.findArrayAttributes(f),d={};for(h=0;h<a.length;h++)d[a[h]]=1;var x=w("groups");if(!Array.isArray(x)){if(!d[x])return g.enabled=!1,g;d[x]=0}var T=u.aggregations||[],C=g.aggregations=new Array(T.length),y;function S(m,k){return P.coerce(T[h],y,p,m,k)}for(h=0;h<T.length;h++){y={_index:h};var A=S("target"),i=S("func"),E=S("enabled");E&&A&&(d[A]||i==="count"&&d[A]===void 0)?(i==="stddev"&&S("funcmode"),d[A]=0,C[h]=y):C[h]={enabled:!1,_index:h}}for(h=0;h<a.length;h++)d[a[h]]&&C.push({target:a[h],func:p.func.dflt,enabled:!0,_index:-1});return g},V.calcTransform=function(u,f,g){if(g.enabled){var h=g.groups,w=P.getTargetArray(f,{target:h});if(w){var c,a,d,x,T={},C={},y=[],S=L(f.transforms,g),A=w.length;for(f._length&&(A=Math.min(A,f._length)),c=0;c<A;c++)a=w[c],d=T[a],d===void 0?(T[a]=y.length,x=[c],y.push(x),C[T[a]]=S(c)):(y[d].push(c),C[T[a]]=(C[T[a]]||[]).concat(S(c)));g._indexToPoints=C;var i=g.aggregations;for(c=0;c<i.length;c++)r(u,f,y,i[c]);typeof h=="string"&&r(u,f,y,{target:h,func:"first",enabled:!0}),f._length=y.length}}};function r(u,f,g,h){if(h.enabled){for(var w=h.target,c=P.nestedProperty(f,w),a=c.get(),d=b.getDataConversions(u,f,w,a),x=t(h,d),T=new Array(g.length),C=0;C<g.length;C++)T[C]=x(a,g[C]);c.set(T),h.func==="count"&&P.pushUnique(f._arrayAttrs,w)}}function t(u,f){var g=u.func,h=f.d2c,w=f.c2d;switch(g){case"count":return o;case"first":return n;case"last":return l;case"sum":return function(c,a){for(var d=0,x=0;x<a.length;x++){var T=h(c[a[x]]);T!==M&&(d+=T)}return w(d)};case"avg":return function(c,a){for(var d=0,x=0,T=0;T<a.length;T++){var C=h(c[a[T]]);C!==M&&(d+=C,x++)}return x?w(d/x):M};case"min":return function(c,a){for(var d=1/0,x=0;x<a.length;x++){var T=h(c[a[x]]);T!==M&&(d=Math.min(d,T))}return d===1/0?M:w(d)};case"max":return function(c,a){for(var d=-1/0,x=0;x<a.length;x++){var T=h(c[a[x]]);T!==M&&(d=Math.max(d,T))}return d===-1/0?M:w(d)};case"range":return function(c,a){for(var d=1/0,x=-1/0,T=0;T<a.length;T++){var C=h(c[a[T]]);C!==M&&(d=Math.min(d,C),x=Math.max(x,C))}return x===-1/0||d===1/0?M:w(x-d)};case"change":return function(c,a){var d=h(c[a[0]]),x=h(c[a[a.length-1]]);return d===M||x===M?M:w(x-d)};case"median":return function(c,a){for(var d=[],x=0;x<a.length;x++){var T=h(c[a[x]]);T!==M&&d.push(T)}if(!d.length)return M;d.sort(P.sorterAsc);var C=(d.length-1)/2;return w((d[Math.floor(C)]+d[Math.ceil(C)])/2)};case"mode":return function(c,a){for(var d={},x=0,T=M,C=0;C<a.length;C++){var y=h(c[a[C]]);if(y!==M){var S=d[y]=(d[y]||0)+1;S>x&&(x=S,T=y)}}return x?w(T):M};case"rms":return function(c,a){for(var d=0,x=0,T=0;T<a.length;T++){var C=h(c[a[T]]);C!==M&&(d+=C*C,x++)}return x?w(Math.sqrt(d/x)):M};case"stddev":return function(c,a){var d=0,x=0,T=1,C=M,y;for(y=0;y<a.length&&C===M;y++)C=h(c[a[y]]);if(C===M)return M;for(;y<a.length;y++){var S=h(c[a[y]]);if(S!==M){var A=S-C;d+=A,x+=A*A,T++}}var i=u.funcmode==="sample"?T-1:T;return i?Math.sqrt((x-d*d/T)/i):0}}}function o(u,f){return f.length}function n(u,f){return u[f[0]]}function l(u,f){return u[f[f.length-1]]}},76744:function(Y,V,e){var b=e(3400),P=e(24040),s=e(54460),L=e(60468).W,M=e(69104),v=M.COMPARISON_OPS,p=M.INTERVAL_OPS,r=M.SET_OPS;V.moduleType="transform",V.name="filter",V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(p).concat(r),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},V.supplyDefaults=function(o){var n={};function l(h,w){return b.coerce(o,n,V.attributes,h,w)}var u=l("enabled");if(u){var f=l("target");if(b.isArrayOrTypedArray(f)&&f.length===0)return n.enabled=!1,n;l("preservegaps"),l("operation"),l("value");var g=P.getComponentMethod("calendars","handleDefaults");g(o,n,"valuecalendar",null),g(o,n,"targetcalendar",null)}return n},V.calcTransform=function(o,n,l){if(!l.enabled)return;var u=b.getTargetArray(n,l);if(!u)return;var f=l.target,g=u.length;n._length&&(g=Math.min(g,n._length));var h=l.targetcalendar,w=n._arrayAttrs,c=l.preservegaps;if(typeof f=="string"){var a=b.nestedProperty(n,f+"calendar").get();a&&(h=a)}var d=s.getDataToCoordFunc(o,n,f,u),x=t(l,d,h),T={},C={},y=0;function S(I,O){for(var _=0;_<w.length;_++){var B=b.nestedProperty(n,w[_]);I(B,O)}}var A,i;c?(A=function(I){T[I.astr]=b.extendDeep([],I.get()),I.set(new Array(g))},i=function(I,O){var _=T[I.astr][O];I.get()[O]=_}):(A=function(I){T[I.astr]=b.extendDeep([],I.get()),I.set([])},i=function(I,O){var _=T[I.astr][O];I.get().push(_)}),S(A);for(var E=L(n.transforms,l),m=0;m<g;m++){var k=x(u[m]);k?(S(i,m),C[y++]=E(m)):c&&y++}l._indexToPoints=C,n._length=y};function t(o,n,l){var u=o.operation,f=o.value,g=b.isArrayOrTypedArray(f);function h(d){return d.indexOf(u)!==-1}var w=function(d){return n(d,0,o.valuecalendar)},c=function(d){return n(d,0,l)},a;switch(h(v)?a=w(g?f[0]:f):h(p)?a=g?[w(f[0]),w(f[1])]:[w(f),w(f)]:h(r)&&(a=g?f.map(w):[w(f)]),u){case"=":return function(d){return c(d)===a};case"!=":return function(d){return c(d)!==a};case"<":return function(d){return c(d)<a};case"<=":return function(d){return c(d)<=a};case">":return function(d){return c(d)>a};case">=":return function(d){return c(d)>=a};case"[]":return function(d){var x=c(d);return x>=a[0]&&x<=a[1]};case"()":return function(d){var x=c(d);return x>a[0]&&x<a[1]};case"[)":return function(d){var x=c(d);return x>=a[0]&&x<a[1]};case"(]":return function(d){var x=c(d);return x>a[0]&&x<=a[1]};case"][":return function(d){var x=c(d);return x<=a[0]||x>=a[1]};case")(":return function(d){var x=c(d);return x<a[0]||x>a[1]};case"](":return function(d){var x=c(d);return x<=a[0]||x>a[1]};case")[":return function(d){var x=c(d);return x<a[0]||x>=a[1]};case"{}":return function(d){return a.indexOf(c(d))!==-1};case"}{":return function(d){return a.indexOf(c(d))===-1}}}},32028:function(Y,V,e){var b=e(3400),P=e(73060),s=e(7316),L=e(60468).W;V.moduleType="transform",V.name="groupby",V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},V.supplyDefaults=function(v,p,r){var t,o={};function n(w,c){return b.coerce(v,o,V.attributes,w,c)}var l=n("enabled");if(!l)return o;n("groups"),n("nameformat",r._dataLength>1?"%{group} (%{trace})":"%{group}");var u=v.styles,f=o.styles=[];if(u)for(t=0;t<u.length;t++){var g=f[t]={};b.coerce(u[t],f[t],V.attributes.styles,"target");var h=b.coerce(u[t],f[t],V.attributes.styles,"value");b.isPlainObject(h)?g.value=b.extendDeep({},h):h&&delete g.value}return o},V.transform=function(v,p){var r,t,o,n=[];for(t=0;t<v.length;t++)for(r=M(v[t],p),o=0;o<r.length;o++)n.push(r[o]);return n};function M(v,p){var r,t,o,n,l,u,f,g,h,w,c=p.transform,a=p.transformIndex,d=v.transforms[a].groups,x=L(v.transforms,c);if(!b.isArrayOrTypedArray(d)||d.length===0)return[v];var T=b.filterUnique(d),C=new Array(T.length),y=d.length,S=P.findArrayAttributes(v),A=c.styles||[],i={};for(r=0;r<A.length;r++)i[A[r].target]=A[r].value;c.styles&&(w=b.keyedContainer(c,"styles","target","value.name"));var E={},m={};for(r=0;r<T.length;r++){u=T[r],E[u]=r,m[u]=0,f=C[r]=b.extendDeepNoArrays({},v),f._group=u,f.transforms[a]._indexToPoints={};var k=null;for(w&&(k=w.get(u)),k||k===""?f.name=k:f.name=b.templateString(c.nameformat,{trace:v.name,group:u}),g=f.transforms,f.transforms=[],t=0;t<g.length;t++)f.transforms[t]=b.extendDeepNoArrays({},g[t]);for(t=0;t<S.length;t++)b.nestedProperty(f,S[t]).set([])}for(o=0;o<S.length;o++){for(n=S[o],t=0,h=[];t<T.length;t++)h[t]=b.nestedProperty(C[t],n).get();for(l=b.nestedProperty(v,n).get(),t=0;t<y;t++)h[E[d[t]]].push(l[t])}for(t=0;t<y;t++){f=C[E[d[t]]];var I=f.transforms[a]._indexToPoints;I[m[d[t]]]=x(t),m[d[t]]++}for(r=0;r<T.length;r++)u=T[r],f=C[r],s.clearExpandedTraceDefaultColors(f),f=b.extendDeepNoArrays(f,i[u]||{});return C}},60468:function(Y,V){V.W=function(e,b){for(var P,s,L=0;L<e.length&&(P=e[L],P!==b);L++)!P._indexToPoints||P.enabled===!1||(s=P._indexToPoints);var M=s?function(v){return s[v]}:function(v){return[v]};return M}},76272:function(Y,V,e){var b=e(3400),P=e(54460),s=e(60468).W,L=e(39032).BADNUM;V.moduleType="transform",V.name="sort",V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},V.supplyDefaults=function(p){var r={};function t(n,l){return b.coerce(p,r,V.attributes,n,l)}var o=t("enabled");return o&&(t("target"),t("order")),r},V.calcTransform=function(p,r,t){if(t.enabled){var o=b.getTargetArray(r,t);if(o){var n=t.target,l=o.length;r._length&&(l=Math.min(l,r._length));var u=r._arrayAttrs,f=P.getDataToCoordFunc(p,r,n,o),g=M(t,o,f,l),h=s(r.transforms,t),w={},c,a;for(c=0;c<u.length;c++){var d=b.nestedProperty(r,u[c]),x=d.get(),T=new Array(l);for(a=0;a<l;a++)T[a]=x[g[a]];d.set(T)}for(a=0;a<l;a++)w[a]=h(g[a]);t._indexToPoints=w,r._length=l}}};function M(p,r,t,o){var n=new Array(o),l=new Array(o),u;for(u=0;u<o;u++)n[u]={v:r[u],i:u};for(n.sort(v(p,t)),u=0;u<o;u++)l[u]=n[u].i;return l}function v(p,r){switch(p.order){case"ascending":return function(t,o){var n=r(t.v),l=r(o.v);return n===L?1:l===L?-1:n-l};case"descending":return function(t,o){var n=r(t.v),l=r(o.v);return n===L?1:l===L?-1:l-n}}}},25788:function(Y,V){V.version="2.34.0"},67792:function(Y,V,e){var b=e(4168);(function(){var P={1964:function(v,p,r){v.exports={alpha_shape:r(3502),convex_hull:r(7352),delaunay_triangulate:r(7642),gl_cone3d:r(6405),gl_error3d:r(9165),gl_heatmap2d:r(2510),gl_line3d:r(5714),gl_mesh3d:r(7201),gl_plot2d:r(1850),gl_plot3d:r(4100),gl_pointcloud2d:r(4696),gl_scatter3d:r(8418),gl_select_box:r(3161),gl_spikes2d:r(4098),gl_streamtube3d:r(7815),gl_surface3d:r(9499),ndarray:r(9618),ndarray_linear_interpolate:r(4317)}},4793:function(v,p,r){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function t(Ee,he){if(!(Ee instanceof he))throw new TypeError("Cannot call a class as a function")}function o(Ee,he){for(var ye=0;ye<he.length;ye++){var _e=he[ye];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(Ee,l(_e.key),_e)}}function n(Ee,he,ye){return he&&o(Ee.prototype,he),Object.defineProperty(Ee,"prototype",{writable:!1}),Ee}function l(Ee){var he=u(Ee,"string");return x(he)=="symbol"?he:he+""}function u(Ee,he){if(x(Ee)!="object"||!Ee)return Ee;var ye=Ee[Symbol.toPrimitive];if(ye!==void 0){var _e=ye.call(Ee,he);if(x(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ee)}function f(Ee,he,ye){return he=c(he),g(Ee,w()?Reflect.construct(he,[],c(Ee).constructor):he.apply(Ee,ye))}function g(Ee,he){if(he&&(x(he)==="object"||typeof he=="function"))return he;if(he!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(Ee)}function h(Ee){if(Ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ee}function w(){try{var Ee=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w=function(){return!!Ee})()}function c(Ee){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ye){return ye.__proto__||Object.getPrototypeOf(ye)},c(Ee)}function a(Ee,he){if(typeof he!="function"&&he!==null)throw new TypeError("Super expression must either be null or a function");Ee.prototype=Object.create(he&&he.prototype,{constructor:{value:Ee,writable:!0,configurable:!0}}),Object.defineProperty(Ee,"prototype",{writable:!1}),he&&d(Ee,he)}function d(Ee,he){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,We){return _e.__proto__=We,_e},d(Ee,he)}function x(Ee){"@babel/helpers - typeof";return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(he){return typeof he}:function(he){return he&&typeof Symbol=="function"&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he},x(Ee)}var T=r(7507),C=r(3778),y=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;p.hp=E,p.IS=50;var S=2147483647;E.TYPED_ARRAY_SUPPORT=A(),!E.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function A(){try{var Ee=new Uint8Array(1),he={foo:function(){return 42}};return Object.setPrototypeOf(he,Uint8Array.prototype),Object.setPrototypeOf(Ee,he),Ee.foo()===42}catch{return!1}}Object.defineProperty(E.prototype,"parent",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.buffer}}),Object.defineProperty(E.prototype,"offset",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.byteOffset}});function i(Ee){if(Ee>S)throw new RangeError('The value "'+Ee+'" is invalid for option "size"');var he=new Uint8Array(Ee);return Object.setPrototypeOf(he,E.prototype),he}function E(Ee,he,ye){if(typeof Ee=="number"){if(typeof he=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return O(Ee)}return m(Ee,he,ye)}E.poolSize=8192;function m(Ee,he,ye){if(typeof Ee=="string")return _(Ee,he);if(ArrayBuffer.isView(Ee))return F(Ee);if(Ee==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+x(Ee));if(Ge(Ee,ArrayBuffer)||Ee&&Ge(Ee.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ge(Ee,SharedArrayBuffer)||Ee&&Ge(Ee.buffer,SharedArrayBuffer)))return z(Ee,he,ye);if(typeof Ee=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var _e=Ee.valueOf&&Ee.valueOf();if(_e!=null&&_e!==Ee)return E.from(_e,he,ye);var We=N(Ee);if(We)return We;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Ee[Symbol.toPrimitive]=="function")return E.from(Ee[Symbol.toPrimitive]("string"),he,ye);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+x(Ee))}E.from=function(Ee,he,ye){return m(Ee,he,ye)},Object.setPrototypeOf(E.prototype,Uint8Array.prototype),Object.setPrototypeOf(E,Uint8Array);function k(Ee){if(typeof Ee!="number")throw new TypeError('"size" argument must be of type number');if(Ee<0)throw new RangeError('The value "'+Ee+'" is invalid for option "size"')}function I(Ee,he,ye){return k(Ee),Ee<=0?i(Ee):he!==void 0?typeof ye=="string"?i(Ee).fill(he,ye):i(Ee).fill(he):i(Ee)}E.alloc=function(Ee,he,ye){return I(Ee,he,ye)};function O(Ee){return k(Ee),i(Ee<0?0:W(Ee)|0)}E.allocUnsafe=function(Ee){return O(Ee)},E.allocUnsafeSlow=function(Ee){return O(Ee)};function _(Ee,he){if((typeof he!="string"||he==="")&&(he="utf8"),!E.isEncoding(he))throw new TypeError("Unknown encoding: "+he);var ye=Z(Ee,he)|0,_e=i(ye),We=_e.write(Ee,he);return We!==ye&&(_e=_e.slice(0,We)),_e}function B(Ee){for(var he=Ee.length<0?0:W(Ee.length)|0,ye=i(he),_e=0;_e<he;_e+=1)ye[_e]=Ee[_e]&255;return ye}function F(Ee){if(Ge(Ee,Uint8Array)){var he=new Uint8Array(Ee);return z(he.buffer,he.byteOffset,he.byteLength)}return B(Ee)}function z(Ee,he,ye){if(he<0||Ee.byteLength<he)throw new RangeError('"offset" is outside of buffer bounds');if(Ee.byteLength<he+(ye||0))throw new RangeError('"length" is outside of buffer bounds');var _e;return he===void 0&&ye===void 0?_e=new Uint8Array(Ee):ye===void 0?_e=new Uint8Array(Ee,he):_e=new Uint8Array(Ee,he,ye),Object.setPrototypeOf(_e,E.prototype),_e}function N(Ee){if(E.isBuffer(Ee)){var he=W(Ee.length)|0,ye=i(he);return ye.length===0||Ee.copy(ye,0,0,he),ye}if(Ee.length!==void 0)return typeof Ee.length!="number"||Xe(Ee.length)?i(0):B(Ee);if(Ee.type==="Buffer"&&Array.isArray(Ee.data))return B(Ee.data)}function W(Ee){if(Ee>=S)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+S.toString(16)+" bytes");return Ee|0}E.isBuffer=function(he){return he!=null&&he._isBuffer===!0&&he!==E.prototype},E.compare=function(he,ye){if(Ge(he,Uint8Array)&&(he=E.from(he,he.offset,he.byteLength)),Ge(ye,Uint8Array)&&(ye=E.from(ye,ye.offset,ye.byteLength)),!E.isBuffer(he)||!E.isBuffer(ye))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(he===ye)return 0;for(var _e=he.length,We=ye.length,rt=0,st=Math.min(_e,We);rt<st;++rt)if(he[rt]!==ye[rt]){_e=he[rt],We=ye[rt];break}return _e<We?-1:We<_e?1:0},E.isEncoding=function(he){switch(String(he).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},E.concat=function(he,ye){if(!Array.isArray(he))throw new TypeError('"list" argument must be an Array of Buffers');if(he.length===0)return E.alloc(0);var _e;if(ye===void 0)for(ye=0,_e=0;_e<he.length;++_e)ye+=he[_e].length;var We=E.allocUnsafe(ye),rt=0;for(_e=0;_e<he.length;++_e){var st=he[_e];if(Ge(st,Uint8Array))rt+st.length>We.length?(E.isBuffer(st)||(st=E.from(st)),st.copy(We,rt)):Uint8Array.prototype.set.call(We,st,rt);else if(E.isBuffer(st))st.copy(We,rt);else throw new TypeError('"list" argument must be an Array of Buffers');rt+=st.length}return We};function Z(Ee,he){if(E.isBuffer(Ee))return Ee.length;if(ArrayBuffer.isView(Ee)||Ge(Ee,ArrayBuffer))return Ee.byteLength;if(typeof Ee!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+x(Ee));var ye=Ee.length,_e=arguments.length>2&&arguments[2]===!0;if(!_e&&ye===0)return 0;for(var We=!1;;)switch(he){case"ascii":case"latin1":case"binary":return ye;case"utf8":case"utf-8":return xt(Ee).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye*2;case"hex":return ye>>>1;case"base64":return Ie(Ee).length;default:if(We)return _e?-1:xt(Ee).length;he=(""+he).toLowerCase(),We=!0}}E.byteLength=Z;function q(Ee,he,ye){var _e=!1;if((he===void 0||he<0)&&(he=0),he>this.length||((ye===void 0||ye>this.length)&&(ye=this.length),ye<=0)||(ye>>>=0,he>>>=0,ye<=he))return"";for(Ee||(Ee="utf8");;)switch(Ee){case"hex":return we(this,he,ye);case"utf8":case"utf-8":return G(this,he,ye);case"ascii":return fe(this,he,ye);case"latin1":case"binary":return ge(this,he,ye);case"base64":return J(this,he,ye);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe(this,he,ye);default:if(_e)throw new TypeError("Unknown encoding: "+Ee);Ee=(Ee+"").toLowerCase(),_e=!0}}E.prototype._isBuffer=!0;function re(Ee,he,ye){var _e=Ee[he];Ee[he]=Ee[ye],Ee[ye]=_e}E.prototype.swap16=function(){var he=this.length;if(he%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ye=0;ye<he;ye+=2)re(this,ye,ye+1);return this},E.prototype.swap32=function(){var he=this.length;if(he%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ye=0;ye<he;ye+=4)re(this,ye,ye+3),re(this,ye+1,ye+2);return this},E.prototype.swap64=function(){var he=this.length;if(he%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ye=0;ye<he;ye+=8)re(this,ye,ye+7),re(this,ye+1,ye+6),re(this,ye+2,ye+5),re(this,ye+3,ye+4);return this},E.prototype.toString=function(){var he=this.length;return he===0?"":arguments.length===0?G(this,0,he):q.apply(this,arguments)},E.prototype.toLocaleString=E.prototype.toString,E.prototype.equals=function(he){if(!E.isBuffer(he))throw new TypeError("Argument must be a Buffer");return this===he?!0:E.compare(this,he)===0},E.prototype.inspect=function(){var he="",ye=p.IS;return he=this.toString("hex",0,ye).replace(/(.{2})/g,"$1 ").trim(),this.length>ye&&(he+=" ... "),"<Buffer "+he+">"},y&&(E.prototype[y]=E.prototype.inspect),E.prototype.compare=function(he,ye,_e,We,rt){if(Ge(he,Uint8Array)&&(he=E.from(he,he.offset,he.byteLength)),!E.isBuffer(he))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+x(he));if(ye===void 0&&(ye=0),_e===void 0&&(_e=he?he.length:0),We===void 0&&(We=0),rt===void 0&&(rt=this.length),ye<0||_e>he.length||We<0||rt>this.length)throw new RangeError("out of range index");if(We>=rt&&ye>=_e)return 0;if(We>=rt)return-1;if(ye>=_e)return 1;if(ye>>>=0,_e>>>=0,We>>>=0,rt>>>=0,this===he)return 0;for(var st=rt-We,Vt=_e-ye,Xt=Math.min(st,Vt),Tt=this.slice(We,rt),Lt=he.slice(ye,_e),Kt=0;Kt<Xt;++Kt)if(Tt[Kt]!==Lt[Kt]){st=Tt[Kt],Vt=Lt[Kt];break}return st<Vt?-1:Vt<st?1:0};function le(Ee,he,ye,_e,We){if(Ee.length===0)return-1;if(typeof ye=="string"?(_e=ye,ye=0):ye>2147483647?ye=2147483647:ye<-2147483648&&(ye=-2147483648),ye=+ye,Xe(ye)&&(ye=We?0:Ee.length-1),ye<0&&(ye=Ee.length+ye),ye>=Ee.length){if(We)return-1;ye=Ee.length-1}else if(ye<0)if(We)ye=0;else return-1;if(typeof he=="string"&&(he=E.from(he,_e)),E.isBuffer(he))return he.length===0?-1:ie(Ee,he,ye,_e,We);if(typeof he=="number")return he=he&255,typeof Uint8Array.prototype.indexOf=="function"?We?Uint8Array.prototype.indexOf.call(Ee,he,ye):Uint8Array.prototype.lastIndexOf.call(Ee,he,ye):ie(Ee,[he],ye,_e,We);throw new TypeError("val must be string, number or Buffer")}function ie(Ee,he,ye,_e,We){var rt=1,st=Ee.length,Vt=he.length;if(_e!==void 0&&(_e=String(_e).toLowerCase(),_e==="ucs2"||_e==="ucs-2"||_e==="utf16le"||_e==="utf-16le")){if(Ee.length<2||he.length<2)return-1;rt=2,st/=2,Vt/=2,ye/=2}function Xt(pt,jt){return rt===1?pt[jt]:pt.readUInt16BE(jt*rt)}var Tt;if(We){var Lt=-1;for(Tt=ye;Tt<st;Tt++)if(Xt(Ee,Tt)===Xt(he,Lt===-1?0:Tt-Lt)){if(Lt===-1&&(Lt=Tt),Tt-Lt+1===Vt)return Lt*rt}else Lt!==-1&&(Tt-=Tt-Lt),Lt=-1}else for(ye+Vt>st&&(ye=st-Vt),Tt=ye;Tt>=0;Tt--){for(var Kt=!0,vr=0;vr<Vt;vr++)if(Xt(Ee,Tt+vr)!==Xt(he,vr)){Kt=!1;break}if(Kt)return Tt}return-1}E.prototype.includes=function(he,ye,_e){return this.indexOf(he,ye,_e)!==-1},E.prototype.indexOf=function(he,ye,_e){return le(this,he,ye,_e,!0)},E.prototype.lastIndexOf=function(he,ye,_e){return le(this,he,ye,_e,!1)};function K(Ee,he,ye,_e){ye=Number(ye)||0;var We=Ee.length-ye;_e?(_e=Number(_e),_e>We&&(_e=We)):_e=We;var rt=he.length;_e>rt/2&&(_e=rt/2);var st;for(st=0;st<_e;++st){var Vt=parseInt(he.substr(st*2,2),16);if(Xe(Vt))return st;Ee[ye+st]=Vt}return st}function $(Ee,he,ye,_e){return Ve(xt(he,Ee.length-ye),Ee,ye,_e)}function X(Ee,he,ye,_e){return Ve(St(he),Ee,ye,_e)}function Q(Ee,he,ye,_e){return Ve(Ie(he),Ee,ye,_e)}function se(Ee,he,ye,_e){return Ve(tt(he,Ee.length-ye),Ee,ye,_e)}E.prototype.write=function(he,ye,_e,We){if(ye===void 0)We="utf8",_e=this.length,ye=0;else if(_e===void 0&&typeof ye=="string")We=ye,_e=this.length,ye=0;else if(isFinite(ye))ye=ye>>>0,isFinite(_e)?(_e=_e>>>0,We===void 0&&(We="utf8")):(We=_e,_e=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var rt=this.length-ye;if((_e===void 0||_e>rt)&&(_e=rt),he.length>0&&(_e<0||ye<0)||ye>this.length)throw new RangeError("Attempt to write outside buffer bounds");We||(We="utf8");for(var st=!1;;)switch(We){case"hex":return K(this,he,ye,_e);case"utf8":case"utf-8":return $(this,he,ye,_e);case"ascii":case"latin1":case"binary":return X(this,he,ye,_e);case"base64":return Q(this,he,ye,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,he,ye,_e);default:if(st)throw new TypeError("Unknown encoding: "+We);We=(""+We).toLowerCase(),st=!0}},E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function J(Ee,he,ye){return he===0&&ye===Ee.length?T.fromByteArray(Ee):T.fromByteArray(Ee.slice(he,ye))}function G(Ee,he,ye){ye=Math.min(Ee.length,ye);for(var _e=[],We=he;We<ye;){var rt=Ee[We],st=null,Vt=rt>239?4:rt>223?3:rt>191?2:1;if(We+Vt<=ye){var Xt=void 0,Tt=void 0,Lt=void 0,Kt=void 0;switch(Vt){case 1:rt<128&&(st=rt);break;case 2:Xt=Ee[We+1],(Xt&192)===128&&(Kt=(rt&31)<<6|Xt&63,Kt>127&&(st=Kt));break;case 3:Xt=Ee[We+1],Tt=Ee[We+2],(Xt&192)===128&&(Tt&192)===128&&(Kt=(rt&15)<<12|(Xt&63)<<6|Tt&63,Kt>2047&&(Kt<55296||Kt>57343)&&(st=Kt));break;case 4:Xt=Ee[We+1],Tt=Ee[We+2],Lt=Ee[We+3],(Xt&192)===128&&(Tt&192)===128&&(Lt&192)===128&&(Kt=(rt&15)<<18|(Xt&63)<<12|(Tt&63)<<6|Lt&63,Kt>65535&&Kt<1114112&&(st=Kt))}}st===null?(st=65533,Vt=1):st>65535&&(st-=65536,_e.push(st>>>10&1023|55296),st=56320|st&1023),_e.push(st),We+=Vt}return te(_e)}var oe=4096;function te(Ee){var he=Ee.length;if(he<=oe)return String.fromCharCode.apply(String,Ee);for(var ye="",_e=0;_e<he;)ye+=String.fromCharCode.apply(String,Ee.slice(_e,_e+=oe));return ye}function fe(Ee,he,ye){var _e="";ye=Math.min(Ee.length,ye);for(var We=he;We<ye;++We)_e+=String.fromCharCode(Ee[We]&127);return _e}function ge(Ee,he,ye){var _e="";ye=Math.min(Ee.length,ye);for(var We=he;We<ye;++We)_e+=String.fromCharCode(Ee[We]);return _e}function we(Ee,he,ye){var _e=Ee.length;(!he||he<0)&&(he=0),(!ye||ye<0||ye>_e)&&(ye=_e);for(var We="",rt=he;rt<ye;++rt)We+=Le[Ee[rt]];return We}function xe(Ee,he,ye){for(var _e=Ee.slice(he,ye),We="",rt=0;rt<_e.length-1;rt+=2)We+=String.fromCharCode(_e[rt]+_e[rt+1]*256);return We}E.prototype.slice=function(he,ye){var _e=this.length;he=~~he,ye=ye===void 0?_e:~~ye,he<0?(he+=_e,he<0&&(he=0)):he>_e&&(he=_e),ye<0?(ye+=_e,ye<0&&(ye=0)):ye>_e&&(ye=_e),ye<he&&(ye=he);var We=this.subarray(he,ye);return Object.setPrototypeOf(We,E.prototype),We};function Ce(Ee,he,ye){if(Ee%1!==0||Ee<0)throw new RangeError("offset is not uint");if(Ee+he>ye)throw new RangeError("Trying to access beyond buffer length")}E.prototype.readUintLE=E.prototype.readUIntLE=function(he,ye,_e){he=he>>>0,ye=ye>>>0,_e||Ce(he,ye,this.length);for(var We=this[he],rt=1,st=0;++st<ye&&(rt*=256);)We+=this[he+st]*rt;return We},E.prototype.readUintBE=E.prototype.readUIntBE=function(he,ye,_e){he=he>>>0,ye=ye>>>0,_e||Ce(he,ye,this.length);for(var We=this[he+--ye],rt=1;ye>0&&(rt*=256);)We+=this[he+--ye]*rt;return We},E.prototype.readUint8=E.prototype.readUInt8=function(he,ye){return he=he>>>0,ye||Ce(he,1,this.length),this[he]},E.prototype.readUint16LE=E.prototype.readUInt16LE=function(he,ye){return he=he>>>0,ye||Ce(he,2,this.length),this[he]|this[he+1]<<8},E.prototype.readUint16BE=E.prototype.readUInt16BE=function(he,ye){return he=he>>>0,ye||Ce(he,2,this.length),this[he]<<8|this[he+1]},E.prototype.readUint32LE=E.prototype.readUInt32LE=function(he,ye){return he=he>>>0,ye||Ce(he,4,this.length),(this[he]|this[he+1]<<8|this[he+2]<<16)+this[he+3]*16777216},E.prototype.readUint32BE=E.prototype.readUInt32BE=function(he,ye){return he=he>>>0,ye||Ce(he,4,this.length),this[he]*16777216+(this[he+1]<<16|this[he+2]<<8|this[he+3])},E.prototype.readBigUInt64LE=Fe(function(he){he=he>>>0,$e(he,"offset");var ye=this[he],_e=this[he+7];(ye===void 0||_e===void 0)&&ut(he,this.length-8);var We=ye+this[++he]*Math.pow(2,8)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,24),rt=this[++he]+this[++he]*Math.pow(2,8)+this[++he]*Math.pow(2,16)+_e*Math.pow(2,24);return BigInt(We)+(BigInt(rt)<<BigInt(32))}),E.prototype.readBigUInt64BE=Fe(function(he){he=he>>>0,$e(he,"offset");var ye=this[he],_e=this[he+7];(ye===void 0||_e===void 0)&&ut(he,this.length-8);var We=ye*Math.pow(2,24)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,8)+this[++he],rt=this[++he]*Math.pow(2,24)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,8)+_e;return(BigInt(We)<<BigInt(32))+BigInt(rt)}),E.prototype.readIntLE=function(he,ye,_e){he=he>>>0,ye=ye>>>0,_e||Ce(he,ye,this.length);for(var We=this[he],rt=1,st=0;++st<ye&&(rt*=256);)We+=this[he+st]*rt;return rt*=128,We>=rt&&(We-=Math.pow(2,8*ye)),We},E.prototype.readIntBE=function(he,ye,_e){he=he>>>0,ye=ye>>>0,_e||Ce(he,ye,this.length);for(var We=ye,rt=1,st=this[he+--We];We>0&&(rt*=256);)st+=this[he+--We]*rt;return rt*=128,st>=rt&&(st-=Math.pow(2,8*ye)),st},E.prototype.readInt8=function(he,ye){return he=he>>>0,ye||Ce(he,1,this.length),this[he]&128?(255-this[he]+1)*-1:this[he]},E.prototype.readInt16LE=function(he,ye){he=he>>>0,ye||Ce(he,2,this.length);var _e=this[he]|this[he+1]<<8;return _e&32768?_e|4294901760:_e},E.prototype.readInt16BE=function(he,ye){he=he>>>0,ye||Ce(he,2,this.length);var _e=this[he+1]|this[he]<<8;return _e&32768?_e|4294901760:_e},E.prototype.readInt32LE=function(he,ye){return he=he>>>0,ye||Ce(he,4,this.length),this[he]|this[he+1]<<8|this[he+2]<<16|this[he+3]<<24},E.prototype.readInt32BE=function(he,ye){return he=he>>>0,ye||Ce(he,4,this.length),this[he]<<24|this[he+1]<<16|this[he+2]<<8|this[he+3]},E.prototype.readBigInt64LE=Fe(function(he){he=he>>>0,$e(he,"offset");var ye=this[he],_e=this[he+7];(ye===void 0||_e===void 0)&&ut(he,this.length-8);var We=this[he+4]+this[he+5]*Math.pow(2,8)+this[he+6]*Math.pow(2,16)+(_e<<24);return(BigInt(We)<<BigInt(32))+BigInt(ye+this[++he]*Math.pow(2,8)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,24))}),E.prototype.readBigInt64BE=Fe(function(he){he=he>>>0,$e(he,"offset");var ye=this[he],_e=this[he+7];(ye===void 0||_e===void 0)&&ut(he,this.length-8);var We=(ye<<24)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,8)+this[++he];return(BigInt(We)<<BigInt(32))+BigInt(this[++he]*Math.pow(2,24)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,8)+_e)}),E.prototype.readFloatLE=function(he,ye){return he=he>>>0,ye||Ce(he,4,this.length),C.read(this,he,!0,23,4)},E.prototype.readFloatBE=function(he,ye){return he=he>>>0,ye||Ce(he,4,this.length),C.read(this,he,!1,23,4)},E.prototype.readDoubleLE=function(he,ye){return he=he>>>0,ye||Ce(he,8,this.length),C.read(this,he,!0,52,8)},E.prototype.readDoubleBE=function(he,ye){return he=he>>>0,ye||Ce(he,8,this.length),C.read(this,he,!1,52,8)};function De(Ee,he,ye,_e,We,rt){if(!E.isBuffer(Ee))throw new TypeError('"buffer" argument must be a Buffer instance');if(he>We||he<rt)throw new RangeError('"value" argument is out of bounds');if(ye+_e>Ee.length)throw new RangeError("Index out of range")}E.prototype.writeUintLE=E.prototype.writeUIntLE=function(he,ye,_e,We){if(he=+he,ye=ye>>>0,_e=_e>>>0,!We){var rt=Math.pow(2,8*_e)-1;De(this,he,ye,_e,rt,0)}var st=1,Vt=0;for(this[ye]=he&255;++Vt<_e&&(st*=256);)this[ye+Vt]=he/st&255;return ye+_e},E.prototype.writeUintBE=E.prototype.writeUIntBE=function(he,ye,_e,We){if(he=+he,ye=ye>>>0,_e=_e>>>0,!We){var rt=Math.pow(2,8*_e)-1;De(this,he,ye,_e,rt,0)}var st=_e-1,Vt=1;for(this[ye+st]=he&255;--st>=0&&(Vt*=256);)this[ye+st]=he/Vt&255;return ye+_e},E.prototype.writeUint8=E.prototype.writeUInt8=function(he,ye,_e){return he=+he,ye=ye>>>0,_e||De(this,he,ye,1,255,0),this[ye]=he&255,ye+1},E.prototype.writeUint16LE=E.prototype.writeUInt16LE=function(he,ye,_e){return he=+he,ye=ye>>>0,_e||De(this,he,ye,2,65535,0),this[ye]=he&255,this[ye+1]=he>>>8,ye+2},E.prototype.writeUint16BE=E.prototype.writeUInt16BE=function(he,ye,_e){return he=+he,ye=ye>>>0,_e||De(this,he,ye,2,65535,0),this[ye]=he>>>8,this[ye+1]=he&255,ye+2},E.prototype.writeUint32LE=E.prototype.writeUInt32LE=function(he,ye,_e){return he=+he,ye=ye>>>0,_e||De(this,he,ye,4,4294967295,0),this[ye+3]=he>>>24,this[ye+2]=he>>>16,this[ye+1]=he>>>8,this[ye]=he&255,ye+4},E.prototype.writeUint32BE=E.prototype.writeUInt32BE=function(he,ye,_e){return he=+he,ye=ye>>>0,_e||De(this,he,ye,4,4294967295,0),this[ye]=he>>>24,this[ye+1]=he>>>16,this[ye+2]=he>>>8,this[ye+3]=he&255,ye+4};function Oe(Ee,he,ye,_e,We){Ze(he,_e,We,Ee,ye,7);var rt=Number(he&BigInt(4294967295));Ee[ye++]=rt,rt=rt>>8,Ee[ye++]=rt,rt=rt>>8,Ee[ye++]=rt,rt=rt>>8,Ee[ye++]=rt;var st=Number(he>>BigInt(32)&BigInt(4294967295));return Ee[ye++]=st,st=st>>8,Ee[ye++]=st,st=st>>8,Ee[ye++]=st,st=st>>8,Ee[ye++]=st,ye}function Te(Ee,he,ye,_e,We){Ze(he,_e,We,Ee,ye,7);var rt=Number(he&BigInt(4294967295));Ee[ye+7]=rt,rt=rt>>8,Ee[ye+6]=rt,rt=rt>>8,Ee[ye+5]=rt,rt=rt>>8,Ee[ye+4]=rt;var st=Number(he>>BigInt(32)&BigInt(4294967295));return Ee[ye+3]=st,st=st>>8,Ee[ye+2]=st,st=st>>8,Ee[ye+1]=st,st=st>>8,Ee[ye]=st,ye+8}E.prototype.writeBigUInt64LE=Fe(function(he){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Oe(this,he,ye,BigInt(0),BigInt("0xffffffffffffffff"))}),E.prototype.writeBigUInt64BE=Fe(function(he){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Te(this,he,ye,BigInt(0),BigInt("0xffffffffffffffff"))}),E.prototype.writeIntLE=function(he,ye,_e,We){if(he=+he,ye=ye>>>0,!We){var rt=Math.pow(2,8*_e-1);De(this,he,ye,_e,rt-1,-rt)}var st=0,Vt=1,Xt=0;for(this[ye]=he&255;++st<_e&&(Vt*=256);)he<0&&Xt===0&&this[ye+st-1]!==0&&(Xt=1),this[ye+st]=(he/Vt>>0)-Xt&255;return ye+_e},E.prototype.writeIntBE=function(he,ye,_e,We){if(he=+he,ye=ye>>>0,!We){var rt=Math.pow(2,8*_e-1);De(this,he,ye,_e,rt-1,-rt)}var st=_e-1,Vt=1,Xt=0;for(this[ye+st]=he&255;--st>=0&&(Vt*=256);)he<0&&Xt===0&&this[ye+st+1]!==0&&(Xt=1),this[ye+st]=(he/Vt>>0)-Xt&255;return ye+_e},E.prototype.writeInt8=function(he,ye,_e){return he=+he,ye=ye>>>0,_e||De(this,he,ye,1,127,-128),he<0&&(he=255+he+1),this[ye]=he&255,ye+1},E.prototype.writeInt16LE=function(he,ye,_e){return he=+he,ye=ye>>>0,_e||De(this,he,ye,2,32767,-32768),this[ye]=he&255,this[ye+1]=he>>>8,ye+2},E.prototype.writeInt16BE=function(he,ye,_e){return he=+he,ye=ye>>>0,_e||De(this,he,ye,2,32767,-32768),this[ye]=he>>>8,this[ye+1]=he&255,ye+2},E.prototype.writeInt32LE=function(he,ye,_e){return he=+he,ye=ye>>>0,_e||De(this,he,ye,4,2147483647,-2147483648),this[ye]=he&255,this[ye+1]=he>>>8,this[ye+2]=he>>>16,this[ye+3]=he>>>24,ye+4},E.prototype.writeInt32BE=function(he,ye,_e){return he=+he,ye=ye>>>0,_e||De(this,he,ye,4,2147483647,-2147483648),he<0&&(he=4294967295+he+1),this[ye]=he>>>24,this[ye+1]=he>>>16,this[ye+2]=he>>>8,this[ye+3]=he&255,ye+4},E.prototype.writeBigInt64LE=Fe(function(he){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Oe(this,he,ye,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),E.prototype.writeBigInt64BE=Fe(function(he){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Te(this,he,ye,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Re(Ee,he,ye,_e,We,rt){if(ye+_e>Ee.length)throw new RangeError("Index out of range");if(ye<0)throw new RangeError("Index out of range")}function Me(Ee,he,ye,_e,We){return he=+he,ye=ye>>>0,We||Re(Ee,he,ye,4),C.write(Ee,he,ye,_e,23,4),ye+4}E.prototype.writeFloatLE=function(he,ye,_e){return Me(this,he,ye,!0,_e)},E.prototype.writeFloatBE=function(he,ye,_e){return Me(this,he,ye,!1,_e)};function ke(Ee,he,ye,_e,We){return he=+he,ye=ye>>>0,We||Re(Ee,he,ye,8),C.write(Ee,he,ye,_e,52,8),ye+8}E.prototype.writeDoubleLE=function(he,ye,_e){return ke(this,he,ye,!0,_e)},E.prototype.writeDoubleBE=function(he,ye,_e){return ke(this,he,ye,!1,_e)},E.prototype.copy=function(he,ye,_e,We){if(!E.isBuffer(he))throw new TypeError("argument should be a Buffer");if(_e||(_e=0),!We&&We!==0&&(We=this.length),ye>=he.length&&(ye=he.length),ye||(ye=0),We>0&&We<_e&&(We=_e),We===_e||he.length===0||this.length===0)return 0;if(ye<0)throw new RangeError("targetStart out of bounds");if(_e<0||_e>=this.length)throw new RangeError("Index out of range");if(We<0)throw new RangeError("sourceEnd out of bounds");We>this.length&&(We=this.length),he.length-ye<We-_e&&(We=he.length-ye+_e);var rt=We-_e;return this===he&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ye,_e,We):Uint8Array.prototype.set.call(he,this.subarray(_e,We),ye),rt},E.prototype.fill=function(he,ye,_e,We){if(typeof he=="string"){if(typeof ye=="string"?(We=ye,ye=0,_e=this.length):typeof _e=="string"&&(We=_e,_e=this.length),We!==void 0&&typeof We!="string")throw new TypeError("encoding must be a string");if(typeof We=="string"&&!E.isEncoding(We))throw new TypeError("Unknown encoding: "+We);if(he.length===1){var rt=he.charCodeAt(0);(We==="utf8"&&rt<128||We==="latin1")&&(he=rt)}}else typeof he=="number"?he=he&255:typeof he=="boolean"&&(he=Number(he));if(ye<0||this.length<ye||this.length<_e)throw new RangeError("Out of range index");if(_e<=ye)return this;ye=ye>>>0,_e=_e===void 0?this.length:_e>>>0,he||(he=0);var st;if(typeof he=="number")for(st=ye;st<_e;++st)this[st]=he;else{var Vt=E.isBuffer(he)?he:E.from(he,We),Xt=Vt.length;if(Xt===0)throw new TypeError('The value "'+he+'" is invalid for argument "value"');for(st=0;st<_e-ye;++st)this[st+ye]=Vt[st%Xt]}return this};var Se={};function He(Ee,he,ye){Se[Ee]=function(_e){function We(){var rt;return t(this,We),rt=f(this,We),Object.defineProperty(rt,"message",{value:he.apply(rt,arguments),writable:!0,configurable:!0}),rt.name="".concat(rt.name," [").concat(Ee,"]"),rt.stack,delete rt.name,rt}return a(We,_e),n(We,[{key:"code",get:function(){return Ee},set:function(st){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:st,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Ee,"]: ").concat(this.message)}}])}(ye)}He("ERR_BUFFER_OUT_OF_BOUNDS",function(Ee){return Ee?"".concat(Ee," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),He("ERR_INVALID_ARG_TYPE",function(Ee,he){return'The "'.concat(Ee,'" argument must be of type number. Received type ').concat(x(he))},TypeError),He("ERR_OUT_OF_RANGE",function(Ee,he,ye){var _e='The value of "'.concat(Ee,'" is out of range.'),We=ye;return Number.isInteger(ye)&&Math.abs(ye)>Math.pow(2,32)?We=je(String(ye)):typeof ye=="bigint"&&(We=String(ye),(ye>Math.pow(BigInt(2),BigInt(32))||ye<-Math.pow(BigInt(2),BigInt(32)))&&(We=je(We)),We+="n"),_e+=" It must be ".concat(he,". Received ").concat(We),_e},RangeError);function je(Ee){for(var he="",ye=Ee.length,_e=Ee[0]==="-"?1:0;ye>=_e+4;ye-=3)he="_".concat(Ee.slice(ye-3,ye)).concat(he);return"".concat(Ee.slice(0,ye)).concat(he)}function at(Ee,he,ye){$e(he,"offset"),(Ee[he]===void 0||Ee[he+ye]===void 0)&&ut(he,Ee.length-(ye+1))}function Ze(Ee,he,ye,_e,We,rt){if(Ee>ye||Ee<he){var st=typeof he=="bigint"?"n":"",Vt;throw he===0||he===BigInt(0)?Vt=">= 0".concat(st," and < 2").concat(st," ** ").concat((rt+1)*8).concat(st):Vt=">= -(2".concat(st," ** ").concat((rt+1)*8-1).concat(st,") and < 2 ** ")+"".concat((rt+1)*8-1).concat(st),new Se.ERR_OUT_OF_RANGE("value",Vt,Ee)}at(_e,We,rt)}function $e(Ee,he){if(typeof Ee!="number")throw new Se.ERR_INVALID_ARG_TYPE(he,"number",Ee)}function ut(Ee,he,ye){throw Math.floor(Ee)!==Ee?($e(Ee,ye),new Se.ERR_OUT_OF_RANGE("offset","an integer",Ee)):he<0?new Se.ERR_BUFFER_OUT_OF_BOUNDS:new Se.ERR_OUT_OF_RANGE("offset",">= ".concat(0," and <= ").concat(he),Ee)}var ht=/[^+/0-9A-Za-z-_]/g;function vt(Ee){if(Ee=Ee.split("=")[0],Ee=Ee.trim().replace(ht,""),Ee.length<2)return"";for(;Ee.length%4!==0;)Ee=Ee+"=";return Ee}function xt(Ee,he){he=he||1/0;for(var ye,_e=Ee.length,We=null,rt=[],st=0;st<_e;++st){if(ye=Ee.charCodeAt(st),ye>55295&&ye<57344){if(!We){if(ye>56319){(he-=3)>-1&&rt.push(239,191,189);continue}else if(st+1===_e){(he-=3)>-1&&rt.push(239,191,189);continue}We=ye;continue}if(ye<56320){(he-=3)>-1&&rt.push(239,191,189),We=ye;continue}ye=(We-55296<<10|ye-56320)+65536}else We&&(he-=3)>-1&&rt.push(239,191,189);if(We=null,ye<128){if((he-=1)<0)break;rt.push(ye)}else if(ye<2048){if((he-=2)<0)break;rt.push(ye>>6|192,ye&63|128)}else if(ye<65536){if((he-=3)<0)break;rt.push(ye>>12|224,ye>>6&63|128,ye&63|128)}else if(ye<1114112){if((he-=4)<0)break;rt.push(ye>>18|240,ye>>12&63|128,ye>>6&63|128,ye&63|128)}else throw new Error("Invalid code point")}return rt}function St(Ee){for(var he=[],ye=0;ye<Ee.length;++ye)he.push(Ee.charCodeAt(ye)&255);return he}function tt(Ee,he){for(var ye,_e,We,rt=[],st=0;st<Ee.length&&!((he-=2)<0);++st)ye=Ee.charCodeAt(st),_e=ye>>8,We=ye%256,rt.push(We),rt.push(_e);return rt}function Ie(Ee){return T.toByteArray(vt(Ee))}function Ve(Ee,he,ye,_e){var We;for(We=0;We<_e&&!(We+ye>=he.length||We>=Ee.length);++We)he[We+ye]=Ee[We];return We}function Ge(Ee,he){return Ee instanceof he||Ee!=null&&Ee.constructor!=null&&Ee.constructor.name!=null&&Ee.constructor.name===he.name}function Xe(Ee){return Ee!==Ee}var Le=function(){for(var Ee="0123456789abcdef",he=new Array(256),ye=0;ye<16;++ye)for(var _e=ye*16,We=0;We<16;++We)he[_e+We]=Ee[ye]+Ee[We];return he}();function Fe(Ee){return typeof BigInt>"u"?Ue:Ee}function Ue(){throw new Error("BigInt not supported")}},9216:function(v){v.exports=o,v.exports.isMobile=o,v.exports.default=o;var p=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,t=/android|ipad|playbook|silk/i;function o(n){n||(n={});var l=n.ua;if(!l&&typeof navigator<"u"&&(l=navigator.userAgent),l&&l.headers&&typeof l.headers["user-agent"]=="string"&&(l=l.headers["user-agent"]),typeof l!="string")return!1;var u=p.test(l)&&!r.test(l)||!!n.tablet&&t.test(l);return!u&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&l.indexOf("Macintosh")!==-1&&l.indexOf("Safari")!==-1&&(u=!0),u}},6296:function(v,p,r){v.exports=f;var t=r(7261),o=r(9977),n=r(4192);function l(g,h){this._controllerNames=Object.keys(g),this._controllerList=this._controllerNames.map(function(w){return g[w]}),this._mode=h,this._active=g[h],this._active||(this._mode="turntable",this._active=g.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var u=l.prototype;u.flush=function(g){for(var h=this._controllerList,w=0;w<h.length;++w)h[w].flush(g)},u.idle=function(g){for(var h=this._controllerList,w=0;w<h.length;++w)h[w].idle(g)},u.lookAt=function(g,h,w,c){for(var a=this._controllerList,d=0;d<a.length;++d)a[d].lookAt(g,h,w,c)},u.rotate=function(g,h,w,c){for(var a=this._controllerList,d=0;d<a.length;++d)a[d].rotate(g,h,w,c)},u.pan=function(g,h,w,c){for(var a=this._controllerList,d=0;d<a.length;++d)a[d].pan(g,h,w,c)},u.translate=function(g,h,w,c){for(var a=this._controllerList,d=0;d<a.length;++d)a[d].translate(g,h,w,c)},u.setMatrix=function(g,h){for(var w=this._controllerList,c=0;c<w.length;++c)w[c].setMatrix(g,h)},u.setDistanceLimits=function(g,h){for(var w=this._controllerList,c=0;c<w.length;++c)w[c].setDistanceLimits(g,h)},u.setDistance=function(g,h){for(var w=this._controllerList,c=0;c<w.length;++c)w[c].setDistance(g,h)},u.recalcMatrix=function(g){this._active.recalcMatrix(g)},u.getDistance=function(g){return this._active.getDistance(g)},u.getDistanceLimits=function(g){return this._active.getDistanceLimits(g)},u.lastT=function(){return this._active.lastT()},u.setMode=function(g){if(g!==this._mode){var h=this._controllerNames.indexOf(g);if(!(h<0)){var w=this._active,c=this._controllerList[h],a=Math.max(w.lastT(),c.lastT());w.recalcMatrix(a),c.setMatrix(a,w.computedMatrix),this._active=c,this._mode=g,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},u.getMode=function(){return this._mode};function f(g){g=g||{};var h=g.eye||[0,0,1],w=g.center||[0,0,0],c=g.up||[0,1,0],a=g.distanceLimits||[0,1/0],d=g.mode||"turntable",x=t(),T=o(),C=n();return x.setDistanceLimits(a[0],a[1]),x.lookAt(0,h,w,c),T.setDistanceLimits(a[0],a[1]),T.lookAt(0,h,w,c),C.setDistanceLimits(a[0],a[1]),C.lookAt(0,h,w,c),new l({turntable:x,orbit:T,matrix:C},d)}},7169:function(v,p,r){var t=typeof WeakMap>"u"?r(1538):WeakMap,o=r(2762),n=r(8116),l=new t;function u(f){var g=l.get(f),h=g&&(g._triangleBuffer.handle||g._triangleBuffer.buffer);if(!h||!f.isBuffer(h)){var w=o(f,new Float32Array([-1,-1,-1,4,4,-1]));g=n(f,[{buffer:w,type:f.FLOAT,size:2}]),g._triangleBuffer=w,l.set(f,g)}g.bind(),f.drawArrays(f.TRIANGLES,0,3),g.unbind()}v.exports=u},1085:function(v,p,r){var t=r(1371);v.exports=o;function o(n,l,u){l=typeof l=="number"?l:1,u=u||": ";var f=n.split(/\r?\n/),g=String(f.length+l-1).length;return f.map(function(h,w){var c=w+l,a=String(c).length,d=t(c,g-a);return d+u+h}).join(`
`)}},3952:function(v,p,r){v.exports=n;var t=r(3250);function o(l,u){for(var f=new Array(u+1),g=0;g<l.length;++g)f[g]=l[g];for(var g=0;g<=l.length;++g){for(var h=l.length;h<=u;++h){for(var w=new Array(u),c=0;c<u;++c)w[c]=Math.pow(h+1-g,c);f[h]=w}var a=t.apply(void 0,f);if(a)return!0}return!1}function n(l){var u=l.length;if(u===0)return[];if(u===1)return[0];for(var f=l[0].length,g=[l[0]],h=[0],w=1;w<u;++w){if(g.push(l[w]),!o(g,f)){g.pop();continue}if(h.push(w),h.length===f+1)return h}return h}},5995:function(v,p,r){v.exports=n;var t=r(7642),o=r(6037);function n(l,u){return t(u).filter(function(f){for(var g=new Array(f.length),h=0;h<f.length;++h)g[h]=u[f[h]];return o(g)*l<1})}},3502:function(v,p,r){v.exports=n;var t=r(5995),o=r(9127);function n(l,u){return o(t(l,u))}},6468:function(v){v.exports=function(r){return atob(r)}},2642:function(v,p,r){v.exports=n;var t=r(727);function o(l){for(var u=0,f=0;f<l.length;++f)u+=l[f];return u}function n(l,u){for(var f=u.length,g=new Array(f+1),h=0;h<f;++h){for(var w=new Array(f+1),c=0;c<=f;++c)w[c]=l[c][h];g[h]=w}g[f]=new Array(f+1);for(var h=0;h<=f;++h)g[f][h]=1;for(var a=new Array(f+1),h=0;h<f;++h)a[h]=u[h];a[f]=1;var d=t(g,a),x=o(d[f+1]);x===0&&(x=1);for(var T=new Array(f+1),h=0;h<=f;++h)T[h]=o(d[h])/x;return T}},7507:function(v,p){p.byteLength=g,p.toByteArray=w,p.fromByteArray=d;for(var r=[],t=[],o=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,u=n.length;l<u;++l)r[l]=n[l],t[n.charCodeAt(l)]=l;t[45]=62,t[95]=63;function f(x){var T=x.length;if(T%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var C=x.indexOf("=");C===-1&&(C=T);var y=C===T?0:4-C%4;return[C,y]}function g(x){var T=f(x),C=T[0],y=T[1];return(C+y)*3/4-y}function h(x,T,C){return(T+C)*3/4-C}function w(x){var T,C=f(x),y=C[0],S=C[1],A=new o(h(x,y,S)),i=0,E=S>0?y-4:y,m;for(m=0;m<E;m+=4)T=t[x.charCodeAt(m)]<<18|t[x.charCodeAt(m+1)]<<12|t[x.charCodeAt(m+2)]<<6|t[x.charCodeAt(m+3)],A[i++]=T>>16&255,A[i++]=T>>8&255,A[i++]=T&255;return S===2&&(T=t[x.charCodeAt(m)]<<2|t[x.charCodeAt(m+1)]>>4,A[i++]=T&255),S===1&&(T=t[x.charCodeAt(m)]<<10|t[x.charCodeAt(m+1)]<<4|t[x.charCodeAt(m+2)]>>2,A[i++]=T>>8&255,A[i++]=T&255),A}function c(x){return r[x>>18&63]+r[x>>12&63]+r[x>>6&63]+r[x&63]}function a(x,T,C){for(var y,S=[],A=T;A<C;A+=3)y=(x[A]<<16&16711680)+(x[A+1]<<8&65280)+(x[A+2]&255),S.push(c(y));return S.join("")}function d(x){for(var T,C=x.length,y=C%3,S=[],A=16383,i=0,E=C-y;i<E;i+=A)S.push(a(x,i,i+A>E?E:i+A));return y===1?(T=x[C-1],S.push(r[T>>2]+r[T<<4&63]+"==")):y===2&&(T=(x[C-2]<<8)+x[C-1],S.push(r[T>>10]+r[T>>4&63]+r[T<<2&63]+"=")),S.join("")}},3865:function(v,p,r){var t=r(869);v.exports=o;function o(n,l){return t(n[0].mul(l[1]).add(l[0].mul(n[1])),n[1].mul(l[1]))}},1318:function(v){v.exports=p;function p(r,t){return r[0].mul(t[1]).cmp(t[0].mul(r[1]))}},8697:function(v,p,r){var t=r(869);v.exports=o;function o(n,l){return t(n[0].mul(l[1]),n[1].mul(l[0]))}},7842:function(v,p,r){var t=r(6330),o=r(1533),n=r(2651),l=r(4387),u=r(869),f=r(8697);v.exports=g;function g(h,w){if(t(h))return w?f(h,g(w)):[h[0].clone(),h[1].clone()];var c=0,a,d;if(o(h))a=h.clone();else if(typeof h=="string")a=l(h);else{if(h===0)return[n(0),n(1)];if(h===Math.floor(h))a=n(h);else{for(;h!==Math.floor(h);)h=h*Math.pow(2,256),c-=256;a=n(h)}}if(t(w))a.mul(w[1]),d=w[0].clone();else if(o(w))d=w.clone();else if(typeof w=="string")d=l(w);else if(!w)d=n(1);else if(w===Math.floor(w))d=n(w);else{for(;w!==Math.floor(w);)w=w*Math.pow(2,256),c+=256;d=n(w)}return c>0?a=a.ushln(c):c<0&&(d=d.ushln(-c)),u(a,d)}},6330:function(v,p,r){var t=r(1533);v.exports=o;function o(n){return Array.isArray(n)&&n.length===2&&t(n[0])&&t(n[1])}},5716:function(v,p,r){var t=r(6859);v.exports=o;function o(n){return n.cmp(new t(0))}},1369:function(v,p,r){var t=r(5716);v.exports=o;function o(n){var l=n.length,u=n.words,f=0;if(l===1)f=u[0];else if(l===2)f=u[0]+u[1]*67108864;else for(var g=0;g<l;g++){var h=u[g];f+=h*Math.pow(67108864,g)}return t(n)*f}},4025:function(v,p,r){var t=r(2361),o=r(8828).countTrailingZeros;v.exports=n;function n(l){var u=o(t.lo(l));if(u<32)return u;var f=o(t.hi(l));return f>20?52:f+32}},1533:function(v,p,r){r(6859),v.exports=t;function t(o){return o&&typeof o=="object"&&!!o.words}},2651:function(v,p,r){var t=r(6859),o=r(2361);v.exports=n;function n(l){var u=o.exponent(l);return u<52?new t(l):new t(l*Math.pow(2,52-u)).ushln(u-52)}},869:function(v,p,r){var t=r(2651),o=r(5716);v.exports=n;function n(l,u){var f=o(l),g=o(u);if(f===0)return[t(0),t(1)];if(g===0)return[t(0),t(0)];g<0&&(l=l.neg(),u=u.neg());var h=l.gcd(u);return h.cmpn(1)?[l.div(h),u.div(h)]:[l,u]}},4387:function(v,p,r){var t=r(6859);v.exports=o;function o(n){return new t(n)}},6504:function(v,p,r){var t=r(869);v.exports=o;function o(n,l){return t(n[0].mul(l[0]),n[1].mul(l[1]))}},7721:function(v,p,r){var t=r(5716);v.exports=o;function o(n){return t(n[0])*t(n[1])}},5572:function(v,p,r){var t=r(869);v.exports=o;function o(n,l){return t(n[0].mul(l[1]).sub(n[1].mul(l[0])),n[1].mul(l[1]))}},946:function(v,p,r){var t=r(1369),o=r(4025);v.exports=n;function n(l){var u=l[0],f=l[1];if(u.cmpn(0)===0)return 0;var g=u.abs().divmod(f.abs()),h=g.div,w=t(h),c=g.mod,a=u.negative!==f.negative?-1:1;if(c.cmpn(0)===0)return a*w;if(w){var d=o(w)+4,x=t(c.ushln(d).divRound(f));return a*(w+x*Math.pow(2,-d))}else{var T=f.bitLength()-c.bitLength()+53,x=t(c.ushln(T).divRound(f));return T<1023?a*x*Math.pow(2,-T):(x*=Math.pow(2,-1023),a*x*Math.pow(2,1023-T))}}},2478:function(v){function p(u,f,g,h,w){for(var c=w+1;h<=w;){var a=h+w>>>1,d=u[a],x=g!==void 0?g(d,f):d-f;x>=0?(c=a,w=a-1):h=a+1}return c}function r(u,f,g,h,w){for(var c=w+1;h<=w;){var a=h+w>>>1,d=u[a],x=g!==void 0?g(d,f):d-f;x>0?(c=a,w=a-1):h=a+1}return c}function t(u,f,g,h,w){for(var c=h-1;h<=w;){var a=h+w>>>1,d=u[a],x=g!==void 0?g(d,f):d-f;x<0?(c=a,h=a+1):w=a-1}return c}function o(u,f,g,h,w){for(var c=h-1;h<=w;){var a=h+w>>>1,d=u[a],x=g!==void 0?g(d,f):d-f;x<=0?(c=a,h=a+1):w=a-1}return c}function n(u,f,g,h,w){for(;h<=w;){var c=h+w>>>1,a=u[c],d=g!==void 0?g(a,f):a-f;if(d===0)return c;d<=0?h=c+1:w=c-1}return-1}function l(u,f,g,h,w,c){return typeof g=="function"?c(u,f,g,h===void 0?0:h|0,w===void 0?u.length-1:w|0):c(u,f,void 0,g===void 0?0:g|0,h===void 0?u.length-1:h|0)}v.exports={ge:function(u,f,g,h,w){return l(u,f,g,h,w,p)},gt:function(u,f,g,h,w){return l(u,f,g,h,w,r)},lt:function(u,f,g,h,w){return l(u,f,g,h,w,t)},le:function(u,f,g,h,w){return l(u,f,g,h,w,o)},eq:function(u,f,g,h,w){return l(u,f,g,h,w,n)}}},8828:function(v,p){"use restrict";var r=32;p.INT_BITS=r,p.INT_MAX=2147483647,p.INT_MIN=-1<<r-1,p.sign=function(n){return(n>0)-(n<0)},p.abs=function(n){var l=n>>r-1;return(n^l)-l},p.min=function(n,l){return l^(n^l)&-(n<l)},p.max=function(n,l){return n^(n^l)&-(n<l)},p.isPow2=function(n){return!(n&n-1)&&!!n},p.log2=function(n){var l,u;return l=(n>65535)<<4,n>>>=l,u=(n>255)<<3,n>>>=u,l|=u,u=(n>15)<<2,n>>>=u,l|=u,u=(n>3)<<1,n>>>=u,l|=u,l|n>>1},p.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},p.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var l=32;return n&=-n,n&&l--,n&65535&&(l-=16),n&16711935&&(l-=8),n&252645135&&(l-=4),n&858993459&&(l-=2),n&1431655765&&(l-=1),l}p.countTrailingZeros=t,p.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},p.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},p.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var o=new Array(256);(function(n){for(var l=0;l<256;++l){var u=l,f=l,g=7;for(u>>>=1;u;u>>>=1)f<<=1,f|=u&1,--g;n[l]=f<<g&255}})(o),p.reverse=function(n){return o[n&255]<<24|o[n>>>8&255]<<16|o[n>>>16&255]<<8|o[n>>>24&255]},p.interleave2=function(n,l){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,l&=65535,l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,l=(l|l<<1)&1431655765,n|l<<1},p.deinterleave2=function(n,l){return n=n>>>l&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},p.interleave3=function(n,l,u){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,l&=1023,l=(l|l<<16)&4278190335,l=(l|l<<8)&251719695,l=(l|l<<4)&3272356035,l=(l|l<<2)&1227133513,n|=l<<1,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|u<<2},p.deinterleave3=function(n,l){return n=n>>>l&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},p.nextCombination=function(n){var l=n|n-1;return l+1|(~l&-~l)-1>>>t(n)+1}},6859:function(v,p,r){v=r.nmd(v),function(t,o){function n(F,z){if(!F)throw new Error(z||"Assertion failed")}function l(F,z){F.super_=z;var N=function(){};N.prototype=z.prototype,F.prototype=new N,F.prototype.constructor=F}function u(F,z,N){if(u.isBN(F))return F;this.negative=0,this.words=null,this.length=0,this.red=null,F!==null&&((z==="le"||z==="be")&&(N=z,z=10),this._init(F||0,z||10,N||"be"))}typeof t=="object"?t.exports=u:o.BN=u,u.BN=u,u.wordSize=26;var f;try{typeof window<"u"&&typeof window.Buffer<"u"?f=window.Buffer:f=r(7790).Buffer}catch{}u.isBN=function(z){return z instanceof u?!0:z!==null&&typeof z=="object"&&z.constructor.wordSize===u.wordSize&&Array.isArray(z.words)},u.max=function(z,N){return z.cmp(N)>0?z:N},u.min=function(z,N){return z.cmp(N)<0?z:N},u.prototype._init=function(z,N,W){if(typeof z=="number")return this._initNumber(z,N,W);if(typeof z=="object")return this._initArray(z,N,W);N==="hex"&&(N=16),n(N===(N|0)&&N>=2&&N<=36),z=z.toString().replace(/\s+/g,"");var Z=0;z[0]==="-"&&(Z++,this.negative=1),Z<z.length&&(N===16?this._parseHex(z,Z,W):(this._parseBase(z,N,Z),W==="le"&&this._initArray(this.toArray(),N,W)))},u.prototype._initNumber=function(z,N,W){z<0&&(this.negative=1,z=-z),z<67108864?(this.words=[z&67108863],this.length=1):z<4503599627370496?(this.words=[z&67108863,z/67108864&67108863],this.length=2):(n(z<9007199254740992),this.words=[z&67108863,z/67108864&67108863,1],this.length=3),W==="le"&&this._initArray(this.toArray(),N,W)},u.prototype._initArray=function(z,N,W){if(n(typeof z.length=="number"),z.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(z.length/3),this.words=new Array(this.length);for(var Z=0;Z<this.length;Z++)this.words[Z]=0;var q,re,le=0;if(W==="be")for(Z=z.length-1,q=0;Z>=0;Z-=3)re=z[Z]|z[Z-1]<<8|z[Z-2]<<16,this.words[q]|=re<<le&67108863,this.words[q+1]=re>>>26-le&67108863,le+=24,le>=26&&(le-=26,q++);else if(W==="le")for(Z=0,q=0;Z<z.length;Z+=3)re=z[Z]|z[Z+1]<<8|z[Z+2]<<16,this.words[q]|=re<<le&67108863,this.words[q+1]=re>>>26-le&67108863,le+=24,le>=26&&(le-=26,q++);return this.strip()};function g(F,z){var N=F.charCodeAt(z);return N>=65&&N<=70?N-55:N>=97&&N<=102?N-87:N-48&15}function h(F,z,N){var W=g(F,N);return N-1>=z&&(W|=g(F,N-1)<<4),W}u.prototype._parseHex=function(z,N,W){this.length=Math.ceil((z.length-N)/6),this.words=new Array(this.length);for(var Z=0;Z<this.length;Z++)this.words[Z]=0;var q=0,re=0,le;if(W==="be")for(Z=z.length-1;Z>=N;Z-=2)le=h(z,N,Z)<<q,this.words[re]|=le&67108863,q>=18?(q-=18,re+=1,this.words[re]|=le>>>26):q+=8;else{var ie=z.length-N;for(Z=ie%2===0?N+1:N;Z<z.length;Z+=2)le=h(z,N,Z)<<q,this.words[re]|=le&67108863,q>=18?(q-=18,re+=1,this.words[re]|=le>>>26):q+=8}this.strip()};function w(F,z,N,W){for(var Z=0,q=Math.min(F.length,N),re=z;re<q;re++){var le=F.charCodeAt(re)-48;Z*=W,le>=49?Z+=le-49+10:le>=17?Z+=le-17+10:Z+=le}return Z}u.prototype._parseBase=function(z,N,W){this.words=[0],this.length=1;for(var Z=0,q=1;q<=67108863;q*=N)Z++;Z--,q=q/N|0;for(var re=z.length-W,le=re%Z,ie=Math.min(re,re-le)+W,K=0,$=W;$<ie;$+=Z)K=w(z,$,$+Z,N),this.imuln(q),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K);if(le!==0){var X=1;for(K=w(z,$,z.length,N),$=0;$<le;$++)X*=N;this.imuln(X),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K)}this.strip()},u.prototype.copy=function(z){z.words=new Array(this.length);for(var N=0;N<this.length;N++)z.words[N]=this.words[N];z.length=this.length,z.negative=this.negative,z.red=this.red},u.prototype.clone=function(){var z=new u(null);return this.copy(z),z},u.prototype._expand=function(z){for(;this.length<z;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],a=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(z,N){z=z||10,N=N|0||1;var W;if(z===16||z==="hex"){W="";for(var Z=0,q=0,re=0;re<this.length;re++){var le=this.words[re],ie=((le<<Z|q)&16777215).toString(16);q=le>>>24-Z&16777215,q!==0||re!==this.length-1?W=c[6-ie.length]+ie+W:W=ie+W,Z+=2,Z>=26&&(Z-=26,re--)}for(q!==0&&(W=q.toString(16)+W);W.length%N!==0;)W="0"+W;return this.negative!==0&&(W="-"+W),W}if(z===(z|0)&&z>=2&&z<=36){var K=a[z],$=d[z];W="";var X=this.clone();for(X.negative=0;!X.isZero();){var Q=X.modn($).toString(z);X=X.idivn($),X.isZero()?W=Q+W:W=c[K-Q.length]+Q+W}for(this.isZero()&&(W="0"+W);W.length%N!==0;)W="0"+W;return this.negative!==0&&(W="-"+W),W}n(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var z=this.words[0];return this.length===2?z+=this.words[1]*67108864:this.length===3&&this.words[2]===1?z+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-z:z},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(z,N){return n(typeof f<"u"),this.toArrayLike(f,z,N)},u.prototype.toArray=function(z,N){return this.toArrayLike(Array,z,N)},u.prototype.toArrayLike=function(z,N,W){var Z=this.byteLength(),q=W||Math.max(1,Z);n(Z<=q,"byte array longer than desired length"),n(q>0,"Requested array length <= 0"),this.strip();var re=N==="le",le=new z(q),ie,K,$=this.clone();if(re){for(K=0;!$.isZero();K++)ie=$.andln(255),$.iushrn(8),le[K]=ie;for(;K<q;K++)le[K]=0}else{for(K=0;K<q-Z;K++)le[K]=0;for(K=0;!$.isZero();K++)ie=$.andln(255),$.iushrn(8),le[q-K-1]=ie}return le},Math.clz32?u.prototype._countBits=function(z){return 32-Math.clz32(z)}:u.prototype._countBits=function(z){var N=z,W=0;return N>=4096&&(W+=13,N>>>=13),N>=64&&(W+=7,N>>>=7),N>=8&&(W+=4,N>>>=4),N>=2&&(W+=2,N>>>=2),W+N},u.prototype._zeroBits=function(z){if(z===0)return 26;var N=z,W=0;return N&8191||(W+=13,N>>>=13),N&127||(W+=7,N>>>=7),N&15||(W+=4,N>>>=4),N&3||(W+=2,N>>>=2),N&1||W++,W},u.prototype.bitLength=function(){var z=this.words[this.length-1],N=this._countBits(z);return(this.length-1)*26+N};function x(F){for(var z=new Array(F.bitLength()),N=0;N<z.length;N++){var W=N/26|0,Z=N%26;z[N]=(F.words[W]&1<<Z)>>>Z}return z}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var z=0,N=0;N<this.length;N++){var W=this._zeroBits(this.words[N]);if(z+=W,W!==26)break}return z},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(z){return this.negative!==0?this.abs().inotn(z).iaddn(1):this.clone()},u.prototype.fromTwos=function(z){return this.testn(z-1)?this.notn(z).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(z){for(;this.length<z.length;)this.words[this.length++]=0;for(var N=0;N<z.length;N++)this.words[N]=this.words[N]|z.words[N];return this.strip()},u.prototype.ior=function(z){return n((this.negative|z.negative)===0),this.iuor(z)},u.prototype.or=function(z){return this.length>z.length?this.clone().ior(z):z.clone().ior(this)},u.prototype.uor=function(z){return this.length>z.length?this.clone().iuor(z):z.clone().iuor(this)},u.prototype.iuand=function(z){var N;this.length>z.length?N=z:N=this;for(var W=0;W<N.length;W++)this.words[W]=this.words[W]&z.words[W];return this.length=N.length,this.strip()},u.prototype.iand=function(z){return n((this.negative|z.negative)===0),this.iuand(z)},u.prototype.and=function(z){return this.length>z.length?this.clone().iand(z):z.clone().iand(this)},u.prototype.uand=function(z){return this.length>z.length?this.clone().iuand(z):z.clone().iuand(this)},u.prototype.iuxor=function(z){var N,W;this.length>z.length?(N=this,W=z):(N=z,W=this);for(var Z=0;Z<W.length;Z++)this.words[Z]=N.words[Z]^W.words[Z];if(this!==N)for(;Z<N.length;Z++)this.words[Z]=N.words[Z];return this.length=N.length,this.strip()},u.prototype.ixor=function(z){return n((this.negative|z.negative)===0),this.iuxor(z)},u.prototype.xor=function(z){return this.length>z.length?this.clone().ixor(z):z.clone().ixor(this)},u.prototype.uxor=function(z){return this.length>z.length?this.clone().iuxor(z):z.clone().iuxor(this)},u.prototype.inotn=function(z){n(typeof z=="number"&&z>=0);var N=Math.ceil(z/26)|0,W=z%26;this._expand(N),W>0&&N--;for(var Z=0;Z<N;Z++)this.words[Z]=~this.words[Z]&67108863;return W>0&&(this.words[Z]=~this.words[Z]&67108863>>26-W),this.strip()},u.prototype.notn=function(z){return this.clone().inotn(z)},u.prototype.setn=function(z,N){n(typeof z=="number"&&z>=0);var W=z/26|0,Z=z%26;return this._expand(W+1),N?this.words[W]=this.words[W]|1<<Z:this.words[W]=this.words[W]&~(1<<Z),this.strip()},u.prototype.iadd=function(z){var N;if(this.negative!==0&&z.negative===0)return this.negative=0,N=this.isub(z),this.negative^=1,this._normSign();if(this.negative===0&&z.negative!==0)return z.negative=0,N=this.isub(z),z.negative=1,N._normSign();var W,Z;this.length>z.length?(W=this,Z=z):(W=z,Z=this);for(var q=0,re=0;re<Z.length;re++)N=(W.words[re]|0)+(Z.words[re]|0)+q,this.words[re]=N&67108863,q=N>>>26;for(;q!==0&&re<W.length;re++)N=(W.words[re]|0)+q,this.words[re]=N&67108863,q=N>>>26;if(this.length=W.length,q!==0)this.words[this.length]=q,this.length++;else if(W!==this)for(;re<W.length;re++)this.words[re]=W.words[re];return this},u.prototype.add=function(z){var N;return z.negative!==0&&this.negative===0?(z.negative=0,N=this.sub(z),z.negative^=1,N):z.negative===0&&this.negative!==0?(this.negative=0,N=z.sub(this),this.negative=1,N):this.length>z.length?this.clone().iadd(z):z.clone().iadd(this)},u.prototype.isub=function(z){if(z.negative!==0){z.negative=0;var N=this.iadd(z);return z.negative=1,N._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(z),this.negative=1,this._normSign();var W=this.cmp(z);if(W===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Z,q;W>0?(Z=this,q=z):(Z=z,q=this);for(var re=0,le=0;le<q.length;le++)N=(Z.words[le]|0)-(q.words[le]|0)+re,re=N>>26,this.words[le]=N&67108863;for(;re!==0&&le<Z.length;le++)N=(Z.words[le]|0)+re,re=N>>26,this.words[le]=N&67108863;if(re===0&&le<Z.length&&Z!==this)for(;le<Z.length;le++)this.words[le]=Z.words[le];return this.length=Math.max(this.length,le),Z!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(z){return this.clone().isub(z)};function T(F,z,N){N.negative=z.negative^F.negative;var W=F.length+z.length|0;N.length=W,W=W-1|0;var Z=F.words[0]|0,q=z.words[0]|0,re=Z*q,le=re&67108863,ie=re/67108864|0;N.words[0]=le;for(var K=1;K<W;K++){for(var $=ie>>>26,X=ie&67108863,Q=Math.min(K,z.length-1),se=Math.max(0,K-F.length+1);se<=Q;se++){var J=K-se|0;Z=F.words[J]|0,q=z.words[se]|0,re=Z*q+X,$+=re/67108864|0,X=re&67108863}N.words[K]=X|0,ie=$|0}return ie!==0?N.words[K]=ie|0:N.length--,N.strip()}var C=function(z,N,W){var Z=z.words,q=N.words,re=W.words,le=0,ie,K,$,X=Z[0]|0,Q=X&8191,se=X>>>13,J=Z[1]|0,G=J&8191,oe=J>>>13,te=Z[2]|0,fe=te&8191,ge=te>>>13,we=Z[3]|0,xe=we&8191,Ce=we>>>13,De=Z[4]|0,Oe=De&8191,Te=De>>>13,Re=Z[5]|0,Me=Re&8191,ke=Re>>>13,Se=Z[6]|0,He=Se&8191,je=Se>>>13,at=Z[7]|0,Ze=at&8191,$e=at>>>13,ut=Z[8]|0,ht=ut&8191,vt=ut>>>13,xt=Z[9]|0,St=xt&8191,tt=xt>>>13,Ie=q[0]|0,Ve=Ie&8191,Ge=Ie>>>13,Xe=q[1]|0,Le=Xe&8191,Fe=Xe>>>13,Ue=q[2]|0,Ee=Ue&8191,he=Ue>>>13,ye=q[3]|0,_e=ye&8191,We=ye>>>13,rt=q[4]|0,st=rt&8191,Vt=rt>>>13,Xt=q[5]|0,Tt=Xt&8191,Lt=Xt>>>13,Kt=q[6]|0,vr=Kt&8191,pt=Kt>>>13,jt=q[7]|0,$t=jt&8191,mr=jt>>>13,or=q[8]|0,gt=or&8191,lt=or>>>13,bt=q[9]|0,Et=bt&8191,kt=bt>>>13;W.negative=z.negative^N.negative,W.length=19,ie=Math.imul(Q,Ve),K=Math.imul(Q,Ge),K=K+Math.imul(se,Ve)|0,$=Math.imul(se,Ge);var Ot=(le+ie|0)+((K&8191)<<13)|0;le=($+(K>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,ie=Math.imul(G,Ve),K=Math.imul(G,Ge),K=K+Math.imul(oe,Ve)|0,$=Math.imul(oe,Ge),ie=ie+Math.imul(Q,Le)|0,K=K+Math.imul(Q,Fe)|0,K=K+Math.imul(se,Le)|0,$=$+Math.imul(se,Fe)|0;var Ft=(le+ie|0)+((K&8191)<<13)|0;le=($+(K>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,ie=Math.imul(fe,Ve),K=Math.imul(fe,Ge),K=K+Math.imul(ge,Ve)|0,$=Math.imul(ge,Ge),ie=ie+Math.imul(G,Le)|0,K=K+Math.imul(G,Fe)|0,K=K+Math.imul(oe,Le)|0,$=$+Math.imul(oe,Fe)|0,ie=ie+Math.imul(Q,Ee)|0,K=K+Math.imul(Q,he)|0,K=K+Math.imul(se,Ee)|0,$=$+Math.imul(se,he)|0;var Bt=(le+ie|0)+((K&8191)<<13)|0;le=($+(K>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,ie=Math.imul(xe,Ve),K=Math.imul(xe,Ge),K=K+Math.imul(Ce,Ve)|0,$=Math.imul(Ce,Ge),ie=ie+Math.imul(fe,Le)|0,K=K+Math.imul(fe,Fe)|0,K=K+Math.imul(ge,Le)|0,$=$+Math.imul(ge,Fe)|0,ie=ie+Math.imul(G,Ee)|0,K=K+Math.imul(G,he)|0,K=K+Math.imul(oe,Ee)|0,$=$+Math.imul(oe,he)|0,ie=ie+Math.imul(Q,_e)|0,K=K+Math.imul(Q,We)|0,K=K+Math.imul(se,_e)|0,$=$+Math.imul(se,We)|0;var Jt=(le+ie|0)+((K&8191)<<13)|0;le=($+(K>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,ie=Math.imul(Oe,Ve),K=Math.imul(Oe,Ge),K=K+Math.imul(Te,Ve)|0,$=Math.imul(Te,Ge),ie=ie+Math.imul(xe,Le)|0,K=K+Math.imul(xe,Fe)|0,K=K+Math.imul(Ce,Le)|0,$=$+Math.imul(Ce,Fe)|0,ie=ie+Math.imul(fe,Ee)|0,K=K+Math.imul(fe,he)|0,K=K+Math.imul(ge,Ee)|0,$=$+Math.imul(ge,he)|0,ie=ie+Math.imul(G,_e)|0,K=K+Math.imul(G,We)|0,K=K+Math.imul(oe,_e)|0,$=$+Math.imul(oe,We)|0,ie=ie+Math.imul(Q,st)|0,K=K+Math.imul(Q,Vt)|0,K=K+Math.imul(se,st)|0,$=$+Math.imul(se,Vt)|0;var hr=(le+ie|0)+((K&8191)<<13)|0;le=($+(K>>>13)|0)+(hr>>>26)|0,hr&=67108863,ie=Math.imul(Me,Ve),K=Math.imul(Me,Ge),K=K+Math.imul(ke,Ve)|0,$=Math.imul(ke,Ge),ie=ie+Math.imul(Oe,Le)|0,K=K+Math.imul(Oe,Fe)|0,K=K+Math.imul(Te,Le)|0,$=$+Math.imul(Te,Fe)|0,ie=ie+Math.imul(xe,Ee)|0,K=K+Math.imul(xe,he)|0,K=K+Math.imul(Ce,Ee)|0,$=$+Math.imul(Ce,he)|0,ie=ie+Math.imul(fe,_e)|0,K=K+Math.imul(fe,We)|0,K=K+Math.imul(ge,_e)|0,$=$+Math.imul(ge,We)|0,ie=ie+Math.imul(G,st)|0,K=K+Math.imul(G,Vt)|0,K=K+Math.imul(oe,st)|0,$=$+Math.imul(oe,Vt)|0,ie=ie+Math.imul(Q,Tt)|0,K=K+Math.imul(Q,Lt)|0,K=K+Math.imul(se,Tt)|0,$=$+Math.imul(se,Lt)|0;var cr=(le+ie|0)+((K&8191)<<13)|0;le=($+(K>>>13)|0)+(cr>>>26)|0,cr&=67108863,ie=Math.imul(He,Ve),K=Math.imul(He,Ge),K=K+Math.imul(je,Ve)|0,$=Math.imul(je,Ge),ie=ie+Math.imul(Me,Le)|0,K=K+Math.imul(Me,Fe)|0,K=K+Math.imul(ke,Le)|0,$=$+Math.imul(ke,Fe)|0,ie=ie+Math.imul(Oe,Ee)|0,K=K+Math.imul(Oe,he)|0,K=K+Math.imul(Te,Ee)|0,$=$+Math.imul(Te,he)|0,ie=ie+Math.imul(xe,_e)|0,K=K+Math.imul(xe,We)|0,K=K+Math.imul(Ce,_e)|0,$=$+Math.imul(Ce,We)|0,ie=ie+Math.imul(fe,st)|0,K=K+Math.imul(fe,Vt)|0,K=K+Math.imul(ge,st)|0,$=$+Math.imul(ge,Vt)|0,ie=ie+Math.imul(G,Tt)|0,K=K+Math.imul(G,Lt)|0,K=K+Math.imul(oe,Tt)|0,$=$+Math.imul(oe,Lt)|0,ie=ie+Math.imul(Q,vr)|0,K=K+Math.imul(Q,pt)|0,K=K+Math.imul(se,vr)|0,$=$+Math.imul(se,pt)|0;var dr=(le+ie|0)+((K&8191)<<13)|0;le=($+(K>>>13)|0)+(dr>>>26)|0,dr&=67108863,ie=Math.imul(Ze,Ve),K=Math.imul(Ze,Ge),K=K+Math.imul($e,Ve)|0,$=Math.imul($e,Ge),ie=ie+Math.imul(He,Le)|0,K=K+Math.imul(He,Fe)|0,K=K+Math.imul(je,Le)|0,$=$+Math.imul(je,Fe)|0,ie=ie+Math.imul(Me,Ee)|0,K=K+Math.imul(Me,he)|0,K=K+Math.imul(ke,Ee)|0,$=$+Math.imul(ke,he)|0,ie=ie+Math.imul(Oe,_e)|0,K=K+Math.imul(Oe,We)|0,K=K+Math.imul(Te,_e)|0,$=$+Math.imul(Te,We)|0,ie=ie+Math.imul(xe,st)|0,K=K+Math.imul(xe,Vt)|0,K=K+Math.imul(Ce,st)|0,$=$+Math.imul(Ce,Vt)|0,ie=ie+Math.imul(fe,Tt)|0,K=K+Math.imul(fe,Lt)|0,K=K+Math.imul(ge,Tt)|0,$=$+Math.imul(ge,Lt)|0,ie=ie+Math.imul(G,vr)|0,K=K+Math.imul(G,pt)|0,K=K+Math.imul(oe,vr)|0,$=$+Math.imul(oe,pt)|0,ie=ie+Math.imul(Q,$t)|0,K=K+Math.imul(Q,mr)|0,K=K+Math.imul(se,$t)|0,$=$+Math.imul(se,mr)|0;var fr=(le+ie|0)+((K&8191)<<13)|0;le=($+(K>>>13)|0)+(fr>>>26)|0,fr&=67108863,ie=Math.imul(ht,Ve),K=Math.imul(ht,Ge),K=K+Math.imul(vt,Ve)|0,$=Math.imul(vt,Ge),ie=ie+Math.imul(Ze,Le)|0,K=K+Math.imul(Ze,Fe)|0,K=K+Math.imul($e,Le)|0,$=$+Math.imul($e,Fe)|0,ie=ie+Math.imul(He,Ee)|0,K=K+Math.imul(He,he)|0,K=K+Math.imul(je,Ee)|0,$=$+Math.imul(je,he)|0,ie=ie+Math.imul(Me,_e)|0,K=K+Math.imul(Me,We)|0,K=K+Math.imul(ke,_e)|0,$=$+Math.imul(ke,We)|0,ie=ie+Math.imul(Oe,st)|0,K=K+Math.imul(Oe,Vt)|0,K=K+Math.imul(Te,st)|0,$=$+Math.imul(Te,Vt)|0,ie=ie+Math.imul(xe,Tt)|0,K=K+Math.imul(xe,Lt)|0,K=K+Math.imul(Ce,Tt)|0,$=$+Math.imul(Ce,Lt)|0,ie=ie+Math.imul(fe,vr)|0,K=K+Math.imul(fe,pt)|0,K=K+Math.imul(ge,vr)|0,$=$+Math.imul(ge,pt)|0,ie=ie+Math.imul(G,$t)|0,K=K+Math.imul(G,mr)|0,K=K+Math.imul(oe,$t)|0,$=$+Math.imul(oe,mr)|0,ie=ie+Math.imul(Q,gt)|0,K=K+Math.imul(Q,lt)|0,K=K+Math.imul(se,gt)|0,$=$+Math.imul(se,lt)|0;var Lr=(le+ie|0)+((K&8191)<<13)|0;le=($+(K>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,ie=Math.imul(St,Ve),K=Math.imul(St,Ge),K=K+Math.imul(tt,Ve)|0,$=Math.imul(tt,Ge),ie=ie+Math.imul(ht,Le)|0,K=K+Math.imul(ht,Fe)|0,K=K+Math.imul(vt,Le)|0,$=$+Math.imul(vt,Fe)|0,ie=ie+Math.imul(Ze,Ee)|0,K=K+Math.imul(Ze,he)|0,K=K+Math.imul($e,Ee)|0,$=$+Math.imul($e,he)|0,ie=ie+Math.imul(He,_e)|0,K=K+Math.imul(He,We)|0,K=K+Math.imul(je,_e)|0,$=$+Math.imul(je,We)|0,ie=ie+Math.imul(Me,st)|0,K=K+Math.imul(Me,Vt)|0,K=K+Math.imul(ke,st)|0,$=$+Math.imul(ke,Vt)|0,ie=ie+Math.imul(Oe,Tt)|0,K=K+Math.imul(Oe,Lt)|0,K=K+Math.imul(Te,Tt)|0,$=$+Math.imul(Te,Lt)|0,ie=ie+Math.imul(xe,vr)|0,K=K+Math.imul(xe,pt)|0,K=K+Math.imul(Ce,vr)|0,$=$+Math.imul(Ce,pt)|0,ie=ie+Math.imul(fe,$t)|0,K=K+Math.imul(fe,mr)|0,K=K+Math.imul(ge,$t)|0,$=$+Math.imul(ge,mr)|0,ie=ie+Math.imul(G,gt)|0,K=K+Math.imul(G,lt)|0,K=K+Math.imul(oe,gt)|0,$=$+Math.imul(oe,lt)|0,ie=ie+Math.imul(Q,Et)|0,K=K+Math.imul(Q,kt)|0,K=K+Math.imul(se,Et)|0,$=$+Math.imul(se,kt)|0;var xr=(le+ie|0)+((K&8191)<<13)|0;le=($+(K>>>13)|0)+(xr>>>26)|0,xr&=67108863,ie=Math.imul(St,Le),K=Math.imul(St,Fe),K=K+Math.imul(tt,Le)|0,$=Math.imul(tt,Fe),ie=ie+Math.imul(ht,Ee)|0,K=K+Math.imul(ht,he)|0,K=K+Math.imul(vt,Ee)|0,$=$+Math.imul(vt,he)|0,ie=ie+Math.imul(Ze,_e)|0,K=K+Math.imul(Ze,We)|0,K=K+Math.imul($e,_e)|0,$=$+Math.imul($e,We)|0,ie=ie+Math.imul(He,st)|0,K=K+Math.imul(He,Vt)|0,K=K+Math.imul(je,st)|0,$=$+Math.imul(je,Vt)|0,ie=ie+Math.imul(Me,Tt)|0,K=K+Math.imul(Me,Lt)|0,K=K+Math.imul(ke,Tt)|0,$=$+Math.imul(ke,Lt)|0,ie=ie+Math.imul(Oe,vr)|0,K=K+Math.imul(Oe,pt)|0,K=K+Math.imul(Te,vr)|0,$=$+Math.imul(Te,pt)|0,ie=ie+Math.imul(xe,$t)|0,K=K+Math.imul(xe,mr)|0,K=K+Math.imul(Ce,$t)|0,$=$+Math.imul(Ce,mr)|0,ie=ie+Math.imul(fe,gt)|0,K=K+Math.imul(fe,lt)|0,K=K+Math.imul(ge,gt)|0,$=$+Math.imul(ge,lt)|0,ie=ie+Math.imul(G,Et)|0,K=K+Math.imul(G,kt)|0,K=K+Math.imul(oe,Et)|0,$=$+Math.imul(oe,kt)|0;var Ke=(le+ie|0)+((K&8191)<<13)|0;le=($+(K>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,ie=Math.imul(St,Ee),K=Math.imul(St,he),K=K+Math.imul(tt,Ee)|0,$=Math.imul(tt,he),ie=ie+Math.imul(ht,_e)|0,K=K+Math.imul(ht,We)|0,K=K+Math.imul(vt,_e)|0,$=$+Math.imul(vt,We)|0,ie=ie+Math.imul(Ze,st)|0,K=K+Math.imul(Ze,Vt)|0,K=K+Math.imul($e,st)|0,$=$+Math.imul($e,Vt)|0,ie=ie+Math.imul(He,Tt)|0,K=K+Math.imul(He,Lt)|0,K=K+Math.imul(je,Tt)|0,$=$+Math.imul(je,Lt)|0,ie=ie+Math.imul(Me,vr)|0,K=K+Math.imul(Me,pt)|0,K=K+Math.imul(ke,vr)|0,$=$+Math.imul(ke,pt)|0,ie=ie+Math.imul(Oe,$t)|0,K=K+Math.imul(Oe,mr)|0,K=K+Math.imul(Te,$t)|0,$=$+Math.imul(Te,mr)|0,ie=ie+Math.imul(xe,gt)|0,K=K+Math.imul(xe,lt)|0,K=K+Math.imul(Ce,gt)|0,$=$+Math.imul(Ce,lt)|0,ie=ie+Math.imul(fe,Et)|0,K=K+Math.imul(fe,kt)|0,K=K+Math.imul(ge,Et)|0,$=$+Math.imul(ge,kt)|0;var et=(le+ie|0)+((K&8191)<<13)|0;le=($+(K>>>13)|0)+(et>>>26)|0,et&=67108863,ie=Math.imul(St,_e),K=Math.imul(St,We),K=K+Math.imul(tt,_e)|0,$=Math.imul(tt,We),ie=ie+Math.imul(ht,st)|0,K=K+Math.imul(ht,Vt)|0,K=K+Math.imul(vt,st)|0,$=$+Math.imul(vt,Vt)|0,ie=ie+Math.imul(Ze,Tt)|0,K=K+Math.imul(Ze,Lt)|0,K=K+Math.imul($e,Tt)|0,$=$+Math.imul($e,Lt)|0,ie=ie+Math.imul(He,vr)|0,K=K+Math.imul(He,pt)|0,K=K+Math.imul(je,vr)|0,$=$+Math.imul(je,pt)|0,ie=ie+Math.imul(Me,$t)|0,K=K+Math.imul(Me,mr)|0,K=K+Math.imul(ke,$t)|0,$=$+Math.imul(ke,mr)|0,ie=ie+Math.imul(Oe,gt)|0,K=K+Math.imul(Oe,lt)|0,K=K+Math.imul(Te,gt)|0,$=$+Math.imul(Te,lt)|0,ie=ie+Math.imul(xe,Et)|0,K=K+Math.imul(xe,kt)|0,K=K+Math.imul(Ce,Et)|0,$=$+Math.imul(Ce,kt)|0;var er=(le+ie|0)+((K&8191)<<13)|0;le=($+(K>>>13)|0)+(er>>>26)|0,er&=67108863,ie=Math.imul(St,st),K=Math.imul(St,Vt),K=K+Math.imul(tt,st)|0,$=Math.imul(tt,Vt),ie=ie+Math.imul(ht,Tt)|0,K=K+Math.imul(ht,Lt)|0,K=K+Math.imul(vt,Tt)|0,$=$+Math.imul(vt,Lt)|0,ie=ie+Math.imul(Ze,vr)|0,K=K+Math.imul(Ze,pt)|0,K=K+Math.imul($e,vr)|0,$=$+Math.imul($e,pt)|0,ie=ie+Math.imul(He,$t)|0,K=K+Math.imul(He,mr)|0,K=K+Math.imul(je,$t)|0,$=$+Math.imul(je,mr)|0,ie=ie+Math.imul(Me,gt)|0,K=K+Math.imul(Me,lt)|0,K=K+Math.imul(ke,gt)|0,$=$+Math.imul(ke,lt)|0,ie=ie+Math.imul(Oe,Et)|0,K=K+Math.imul(Oe,kt)|0,K=K+Math.imul(Te,Et)|0,$=$+Math.imul(Te,kt)|0;var tr=(le+ie|0)+((K&8191)<<13)|0;le=($+(K>>>13)|0)+(tr>>>26)|0,tr&=67108863,ie=Math.imul(St,Tt),K=Math.imul(St,Lt),K=K+Math.imul(tt,Tt)|0,$=Math.imul(tt,Lt),ie=ie+Math.imul(ht,vr)|0,K=K+Math.imul(ht,pt)|0,K=K+Math.imul(vt,vr)|0,$=$+Math.imul(vt,pt)|0,ie=ie+Math.imul(Ze,$t)|0,K=K+Math.imul(Ze,mr)|0,K=K+Math.imul($e,$t)|0,$=$+Math.imul($e,mr)|0,ie=ie+Math.imul(He,gt)|0,K=K+Math.imul(He,lt)|0,K=K+Math.imul(je,gt)|0,$=$+Math.imul(je,lt)|0,ie=ie+Math.imul(Me,Et)|0,K=K+Math.imul(Me,kt)|0,K=K+Math.imul(ke,Et)|0,$=$+Math.imul(ke,kt)|0;var Yt=(le+ie|0)+((K&8191)<<13)|0;le=($+(K>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,ie=Math.imul(St,vr),K=Math.imul(St,pt),K=K+Math.imul(tt,vr)|0,$=Math.imul(tt,pt),ie=ie+Math.imul(ht,$t)|0,K=K+Math.imul(ht,mr)|0,K=K+Math.imul(vt,$t)|0,$=$+Math.imul(vt,mr)|0,ie=ie+Math.imul(Ze,gt)|0,K=K+Math.imul(Ze,lt)|0,K=K+Math.imul($e,gt)|0,$=$+Math.imul($e,lt)|0,ie=ie+Math.imul(He,Et)|0,K=K+Math.imul(He,kt)|0,K=K+Math.imul(je,Et)|0,$=$+Math.imul(je,kt)|0;var Pt=(le+ie|0)+((K&8191)<<13)|0;le=($+(K>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,ie=Math.imul(St,$t),K=Math.imul(St,mr),K=K+Math.imul(tt,$t)|0,$=Math.imul(tt,mr),ie=ie+Math.imul(ht,gt)|0,K=K+Math.imul(ht,lt)|0,K=K+Math.imul(vt,gt)|0,$=$+Math.imul(vt,lt)|0,ie=ie+Math.imul(Ze,Et)|0,K=K+Math.imul(Ze,kt)|0,K=K+Math.imul($e,Et)|0,$=$+Math.imul($e,kt)|0;var Zt=(le+ie|0)+((K&8191)<<13)|0;le=($+(K>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,ie=Math.imul(St,gt),K=Math.imul(St,lt),K=K+Math.imul(tt,gt)|0,$=Math.imul(tt,lt),ie=ie+Math.imul(ht,Et)|0,K=K+Math.imul(ht,kt)|0,K=K+Math.imul(vt,Et)|0,$=$+Math.imul(vt,kt)|0;var nr=(le+ie|0)+((K&8191)<<13)|0;le=($+(K>>>13)|0)+(nr>>>26)|0,nr&=67108863,ie=Math.imul(St,Et),K=Math.imul(St,kt),K=K+Math.imul(tt,Et)|0,$=Math.imul(tt,kt);var Qt=(le+ie|0)+((K&8191)<<13)|0;return le=($+(K>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,re[0]=Ot,re[1]=Ft,re[2]=Bt,re[3]=Jt,re[4]=hr,re[5]=cr,re[6]=dr,re[7]=fr,re[8]=Lr,re[9]=xr,re[10]=Ke,re[11]=et,re[12]=er,re[13]=tr,re[14]=Yt,re[15]=Pt,re[16]=Zt,re[17]=nr,re[18]=Qt,le!==0&&(re[19]=le,W.length++),W};Math.imul||(C=T);function y(F,z,N){N.negative=z.negative^F.negative,N.length=F.length+z.length;for(var W=0,Z=0,q=0;q<N.length-1;q++){var re=Z;Z=0;for(var le=W&67108863,ie=Math.min(q,z.length-1),K=Math.max(0,q-F.length+1);K<=ie;K++){var $=q-K,X=F.words[$]|0,Q=z.words[K]|0,se=X*Q,J=se&67108863;re=re+(se/67108864|0)|0,J=J+le|0,le=J&67108863,re=re+(J>>>26)|0,Z+=re>>>26,re&=67108863}N.words[q]=le,W=re,re=Z}return W!==0?N.words[q]=W:N.length--,N.strip()}function S(F,z,N){var W=new A;return W.mulp(F,z,N)}u.prototype.mulTo=function(z,N){var W,Z=this.length+z.length;return this.length===10&&z.length===10?W=C(this,z,N):Z<63?W=T(this,z,N):Z<1024?W=y(this,z,N):W=S(this,z,N),W};function A(F,z){this.x=F,this.y=z}A.prototype.makeRBT=function(z){for(var N=new Array(z),W=u.prototype._countBits(z)-1,Z=0;Z<z;Z++)N[Z]=this.revBin(Z,W,z);return N},A.prototype.revBin=function(z,N,W){if(z===0||z===W-1)return z;for(var Z=0,q=0;q<N;q++)Z|=(z&1)<<N-q-1,z>>=1;return Z},A.prototype.permute=function(z,N,W,Z,q,re){for(var le=0;le<re;le++)Z[le]=N[z[le]],q[le]=W[z[le]]},A.prototype.transform=function(z,N,W,Z,q,re){this.permute(re,z,N,W,Z,q);for(var le=1;le<q;le<<=1)for(var ie=le<<1,K=Math.cos(2*Math.PI/ie),$=Math.sin(2*Math.PI/ie),X=0;X<q;X+=ie)for(var Q=K,se=$,J=0;J<le;J++){var G=W[X+J],oe=Z[X+J],te=W[X+J+le],fe=Z[X+J+le],ge=Q*te-se*fe;fe=Q*fe+se*te,te=ge,W[X+J]=G+te,Z[X+J]=oe+fe,W[X+J+le]=G-te,Z[X+J+le]=oe-fe,J!==ie&&(ge=K*Q-$*se,se=K*se+$*Q,Q=ge)}},A.prototype.guessLen13b=function(z,N){var W=Math.max(N,z)|1,Z=W&1,q=0;for(W=W/2|0;W;W=W>>>1)q++;return 1<<q+1+Z},A.prototype.conjugate=function(z,N,W){if(!(W<=1))for(var Z=0;Z<W/2;Z++){var q=z[Z];z[Z]=z[W-Z-1],z[W-Z-1]=q,q=N[Z],N[Z]=-N[W-Z-1],N[W-Z-1]=-q}},A.prototype.normalize13b=function(z,N){for(var W=0,Z=0;Z<N/2;Z++){var q=Math.round(z[2*Z+1]/N)*8192+Math.round(z[2*Z]/N)+W;z[Z]=q&67108863,q<67108864?W=0:W=q/67108864|0}return z},A.prototype.convert13b=function(z,N,W,Z){for(var q=0,re=0;re<N;re++)q=q+(z[re]|0),W[2*re]=q&8191,q=q>>>13,W[2*re+1]=q&8191,q=q>>>13;for(re=2*N;re<Z;++re)W[re]=0;n(q===0),n((q&-8192)===0)},A.prototype.stub=function(z){for(var N=new Array(z),W=0;W<z;W++)N[W]=0;return N},A.prototype.mulp=function(z,N,W){var Z=2*this.guessLen13b(z.length,N.length),q=this.makeRBT(Z),re=this.stub(Z),le=new Array(Z),ie=new Array(Z),K=new Array(Z),$=new Array(Z),X=new Array(Z),Q=new Array(Z),se=W.words;se.length=Z,this.convert13b(z.words,z.length,le,Z),this.convert13b(N.words,N.length,$,Z),this.transform(le,re,ie,K,Z,q),this.transform($,re,X,Q,Z,q);for(var J=0;J<Z;J++){var G=ie[J]*X[J]-K[J]*Q[J];K[J]=ie[J]*Q[J]+K[J]*X[J],ie[J]=G}return this.conjugate(ie,K,Z),this.transform(ie,K,se,re,Z,q),this.conjugate(se,re,Z),this.normalize13b(se,Z),W.negative=z.negative^N.negative,W.length=z.length+N.length,W.strip()},u.prototype.mul=function(z){var N=new u(null);return N.words=new Array(this.length+z.length),this.mulTo(z,N)},u.prototype.mulf=function(z){var N=new u(null);return N.words=new Array(this.length+z.length),S(this,z,N)},u.prototype.imul=function(z){return this.clone().mulTo(z,this)},u.prototype.imuln=function(z){n(typeof z=="number"),n(z<67108864);for(var N=0,W=0;W<this.length;W++){var Z=(this.words[W]|0)*z,q=(Z&67108863)+(N&67108863);N>>=26,N+=Z/67108864|0,N+=q>>>26,this.words[W]=q&67108863}return N!==0&&(this.words[W]=N,this.length++),this},u.prototype.muln=function(z){return this.clone().imuln(z)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(z){var N=x(z);if(N.length===0)return new u(1);for(var W=this,Z=0;Z<N.length&&N[Z]===0;Z++,W=W.sqr());if(++Z<N.length)for(var q=W.sqr();Z<N.length;Z++,q=q.sqr())N[Z]!==0&&(W=W.mul(q));return W},u.prototype.iushln=function(z){n(typeof z=="number"&&z>=0);var N=z%26,W=(z-N)/26,Z=67108863>>>26-N<<26-N,q;if(N!==0){var re=0;for(q=0;q<this.length;q++){var le=this.words[q]&Z,ie=(this.words[q]|0)-le<<N;this.words[q]=ie|re,re=le>>>26-N}re&&(this.words[q]=re,this.length++)}if(W!==0){for(q=this.length-1;q>=0;q--)this.words[q+W]=this.words[q];for(q=0;q<W;q++)this.words[q]=0;this.length+=W}return this.strip()},u.prototype.ishln=function(z){return n(this.negative===0),this.iushln(z)},u.prototype.iushrn=function(z,N,W){n(typeof z=="number"&&z>=0);var Z;N?Z=(N-N%26)/26:Z=0;var q=z%26,re=Math.min((z-q)/26,this.length),le=67108863^67108863>>>q<<q,ie=W;if(Z-=re,Z=Math.max(0,Z),ie){for(var K=0;K<re;K++)ie.words[K]=this.words[K];ie.length=re}if(re!==0)if(this.length>re)for(this.length-=re,K=0;K<this.length;K++)this.words[K]=this.words[K+re];else this.words[0]=0,this.length=1;var $=0;for(K=this.length-1;K>=0&&($!==0||K>=Z);K--){var X=this.words[K]|0;this.words[K]=$<<26-q|X>>>q,$=X&le}return ie&&$!==0&&(ie.words[ie.length++]=$),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(z,N,W){return n(this.negative===0),this.iushrn(z,N,W)},u.prototype.shln=function(z){return this.clone().ishln(z)},u.prototype.ushln=function(z){return this.clone().iushln(z)},u.prototype.shrn=function(z){return this.clone().ishrn(z)},u.prototype.ushrn=function(z){return this.clone().iushrn(z)},u.prototype.testn=function(z){n(typeof z=="number"&&z>=0);var N=z%26,W=(z-N)/26,Z=1<<N;if(this.length<=W)return!1;var q=this.words[W];return!!(q&Z)},u.prototype.imaskn=function(z){n(typeof z=="number"&&z>=0);var N=z%26,W=(z-N)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=W)return this;if(N!==0&&W++,this.length=Math.min(W,this.length),N!==0){var Z=67108863^67108863>>>N<<N;this.words[this.length-1]&=Z}return this.strip()},u.prototype.maskn=function(z){return this.clone().imaskn(z)},u.prototype.iaddn=function(z){return n(typeof z=="number"),n(z<67108864),z<0?this.isubn(-z):this.negative!==0?this.length===1&&(this.words[0]|0)<z?(this.words[0]=z-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(z),this.negative=1,this):this._iaddn(z)},u.prototype._iaddn=function(z){this.words[0]+=z;for(var N=0;N<this.length&&this.words[N]>=67108864;N++)this.words[N]-=67108864,N===this.length-1?this.words[N+1]=1:this.words[N+1]++;return this.length=Math.max(this.length,N+1),this},u.prototype.isubn=function(z){if(n(typeof z=="number"),n(z<67108864),z<0)return this.iaddn(-z);if(this.negative!==0)return this.negative=0,this.iaddn(z),this.negative=1,this;if(this.words[0]-=z,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var N=0;N<this.length&&this.words[N]<0;N++)this.words[N]+=67108864,this.words[N+1]-=1;return this.strip()},u.prototype.addn=function(z){return this.clone().iaddn(z)},u.prototype.subn=function(z){return this.clone().isubn(z)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(z,N,W){var Z=z.length+W,q;this._expand(Z);var re,le=0;for(q=0;q<z.length;q++){re=(this.words[q+W]|0)+le;var ie=(z.words[q]|0)*N;re-=ie&67108863,le=(re>>26)-(ie/67108864|0),this.words[q+W]=re&67108863}for(;q<this.length-W;q++)re=(this.words[q+W]|0)+le,le=re>>26,this.words[q+W]=re&67108863;if(le===0)return this.strip();for(n(le===-1),le=0,q=0;q<this.length;q++)re=-(this.words[q]|0)+le,le=re>>26,this.words[q]=re&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(z,N){var W=this.length-z.length,Z=this.clone(),q=z,re=q.words[q.length-1]|0,le=this._countBits(re);W=26-le,W!==0&&(q=q.ushln(W),Z.iushln(W),re=q.words[q.length-1]|0);var ie=Z.length-q.length,K;if(N!=="mod"){K=new u(null),K.length=ie+1,K.words=new Array(K.length);for(var $=0;$<K.length;$++)K.words[$]=0}var X=Z.clone()._ishlnsubmul(q,1,ie);X.negative===0&&(Z=X,K&&(K.words[ie]=1));for(var Q=ie-1;Q>=0;Q--){var se=(Z.words[q.length+Q]|0)*67108864+(Z.words[q.length+Q-1]|0);for(se=Math.min(se/re|0,67108863),Z._ishlnsubmul(q,se,Q);Z.negative!==0;)se--,Z.negative=0,Z._ishlnsubmul(q,1,Q),Z.isZero()||(Z.negative^=1);K&&(K.words[Q]=se)}return K&&K.strip(),Z.strip(),N!=="div"&&W!==0&&Z.iushrn(W),{div:K||null,mod:Z}},u.prototype.divmod=function(z,N,W){if(n(!z.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var Z,q,re;return this.negative!==0&&z.negative===0?(re=this.neg().divmod(z,N),N!=="mod"&&(Z=re.div.neg()),N!=="div"&&(q=re.mod.neg(),W&&q.negative!==0&&q.iadd(z)),{div:Z,mod:q}):this.negative===0&&z.negative!==0?(re=this.divmod(z.neg(),N),N!=="mod"&&(Z=re.div.neg()),{div:Z,mod:re.mod}):this.negative&z.negative?(re=this.neg().divmod(z.neg(),N),N!=="div"&&(q=re.mod.neg(),W&&q.negative!==0&&q.isub(z)),{div:re.div,mod:q}):z.length>this.length||this.cmp(z)<0?{div:new u(0),mod:this}:z.length===1?N==="div"?{div:this.divn(z.words[0]),mod:null}:N==="mod"?{div:null,mod:new u(this.modn(z.words[0]))}:{div:this.divn(z.words[0]),mod:new u(this.modn(z.words[0]))}:this._wordDiv(z,N)},u.prototype.div=function(z){return this.divmod(z,"div",!1).div},u.prototype.mod=function(z){return this.divmod(z,"mod",!1).mod},u.prototype.umod=function(z){return this.divmod(z,"mod",!0).mod},u.prototype.divRound=function(z){var N=this.divmod(z);if(N.mod.isZero())return N.div;var W=N.div.negative!==0?N.mod.isub(z):N.mod,Z=z.ushrn(1),q=z.andln(1),re=W.cmp(Z);return re<0||q===1&&re===0?N.div:N.div.negative!==0?N.div.isubn(1):N.div.iaddn(1)},u.prototype.modn=function(z){n(z<=67108863);for(var N=(1<<26)%z,W=0,Z=this.length-1;Z>=0;Z--)W=(N*W+(this.words[Z]|0))%z;return W},u.prototype.idivn=function(z){n(z<=67108863);for(var N=0,W=this.length-1;W>=0;W--){var Z=(this.words[W]|0)+N*67108864;this.words[W]=Z/z|0,N=Z%z}return this.strip()},u.prototype.divn=function(z){return this.clone().idivn(z)},u.prototype.egcd=function(z){n(z.negative===0),n(!z.isZero());var N=this,W=z.clone();N.negative!==0?N=N.umod(z):N=N.clone();for(var Z=new u(1),q=new u(0),re=new u(0),le=new u(1),ie=0;N.isEven()&&W.isEven();)N.iushrn(1),W.iushrn(1),++ie;for(var K=W.clone(),$=N.clone();!N.isZero();){for(var X=0,Q=1;!(N.words[0]&Q)&&X<26;++X,Q<<=1);if(X>0)for(N.iushrn(X);X-- >0;)(Z.isOdd()||q.isOdd())&&(Z.iadd(K),q.isub($)),Z.iushrn(1),q.iushrn(1);for(var se=0,J=1;!(W.words[0]&J)&&se<26;++se,J<<=1);if(se>0)for(W.iushrn(se);se-- >0;)(re.isOdd()||le.isOdd())&&(re.iadd(K),le.isub($)),re.iushrn(1),le.iushrn(1);N.cmp(W)>=0?(N.isub(W),Z.isub(re),q.isub(le)):(W.isub(N),re.isub(Z),le.isub(q))}return{a:re,b:le,gcd:W.iushln(ie)}},u.prototype._invmp=function(z){n(z.negative===0),n(!z.isZero());var N=this,W=z.clone();N.negative!==0?N=N.umod(z):N=N.clone();for(var Z=new u(1),q=new u(0),re=W.clone();N.cmpn(1)>0&&W.cmpn(1)>0;){for(var le=0,ie=1;!(N.words[0]&ie)&&le<26;++le,ie<<=1);if(le>0)for(N.iushrn(le);le-- >0;)Z.isOdd()&&Z.iadd(re),Z.iushrn(1);for(var K=0,$=1;!(W.words[0]&$)&&K<26;++K,$<<=1);if(K>0)for(W.iushrn(K);K-- >0;)q.isOdd()&&q.iadd(re),q.iushrn(1);N.cmp(W)>=0?(N.isub(W),Z.isub(q)):(W.isub(N),q.isub(Z))}var X;return N.cmpn(1)===0?X=Z:X=q,X.cmpn(0)<0&&X.iadd(z),X},u.prototype.gcd=function(z){if(this.isZero())return z.abs();if(z.isZero())return this.abs();var N=this.clone(),W=z.clone();N.negative=0,W.negative=0;for(var Z=0;N.isEven()&&W.isEven();Z++)N.iushrn(1),W.iushrn(1);do{for(;N.isEven();)N.iushrn(1);for(;W.isEven();)W.iushrn(1);var q=N.cmp(W);if(q<0){var re=N;N=W,W=re}else if(q===0||W.cmpn(1)===0)break;N.isub(W)}while(!0);return W.iushln(Z)},u.prototype.invm=function(z){return this.egcd(z).a.umod(z)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(z){return this.words[0]&z},u.prototype.bincn=function(z){n(typeof z=="number");var N=z%26,W=(z-N)/26,Z=1<<N;if(this.length<=W)return this._expand(W+1),this.words[W]|=Z,this;for(var q=Z,re=W;q!==0&&re<this.length;re++){var le=this.words[re]|0;le+=q,q=le>>>26,le&=67108863,this.words[re]=le}return q!==0&&(this.words[re]=q,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(z){var N=z<0;if(this.negative!==0&&!N)return-1;if(this.negative===0&&N)return 1;this.strip();var W;if(this.length>1)W=1;else{N&&(z=-z),n(z<=67108863,"Number is too big");var Z=this.words[0]|0;W=Z===z?0:Z<z?-1:1}return this.negative!==0?-W|0:W},u.prototype.cmp=function(z){if(this.negative!==0&&z.negative===0)return-1;if(this.negative===0&&z.negative!==0)return 1;var N=this.ucmp(z);return this.negative!==0?-N|0:N},u.prototype.ucmp=function(z){if(this.length>z.length)return 1;if(this.length<z.length)return-1;for(var N=0,W=this.length-1;W>=0;W--){var Z=this.words[W]|0,q=z.words[W]|0;if(Z!==q){Z<q?N=-1:Z>q&&(N=1);break}}return N},u.prototype.gtn=function(z){return this.cmpn(z)===1},u.prototype.gt=function(z){return this.cmp(z)===1},u.prototype.gten=function(z){return this.cmpn(z)>=0},u.prototype.gte=function(z){return this.cmp(z)>=0},u.prototype.ltn=function(z){return this.cmpn(z)===-1},u.prototype.lt=function(z){return this.cmp(z)===-1},u.prototype.lten=function(z){return this.cmpn(z)<=0},u.prototype.lte=function(z){return this.cmp(z)<=0},u.prototype.eqn=function(z){return this.cmpn(z)===0},u.prototype.eq=function(z){return this.cmp(z)===0},u.red=function(z){return new _(z)},u.prototype.toRed=function(z){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),z.convertTo(this)._forceRed(z)},u.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(z){return this.red=z,this},u.prototype.forceRed=function(z){return n(!this.red,"Already a number in reduction context"),this._forceRed(z)},u.prototype.redAdd=function(z){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,z)},u.prototype.redIAdd=function(z){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,z)},u.prototype.redSub=function(z){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,z)},u.prototype.redISub=function(z){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,z)},u.prototype.redShl=function(z){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,z)},u.prototype.redMul=function(z){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.mul(this,z)},u.prototype.redIMul=function(z){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.imul(this,z)},u.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(z){return n(this.red&&!z.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,z)};var i={k256:null,p224:null,p192:null,p25519:null};function E(F,z){this.name=F,this.p=new u(z,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}E.prototype._tmp=function(){var z=new u(null);return z.words=new Array(Math.ceil(this.n/13)),z},E.prototype.ireduce=function(z){var N=z,W;do this.split(N,this.tmp),N=this.imulK(N),N=N.iadd(this.tmp),W=N.bitLength();while(W>this.n);var Z=W<this.n?-1:N.ucmp(this.p);return Z===0?(N.words[0]=0,N.length=1):Z>0?N.isub(this.p):N.strip!==void 0?N.strip():N._strip(),N},E.prototype.split=function(z,N){z.iushrn(this.n,0,N)},E.prototype.imulK=function(z){return z.imul(this.k)};function m(){E.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}l(m,E),m.prototype.split=function(z,N){for(var W=4194303,Z=Math.min(z.length,9),q=0;q<Z;q++)N.words[q]=z.words[q];if(N.length=Z,z.length<=9){z.words[0]=0,z.length=1;return}var re=z.words[9];for(N.words[N.length++]=re&W,q=10;q<z.length;q++){var le=z.words[q]|0;z.words[q-10]=(le&W)<<4|re>>>22,re=le}re>>>=22,z.words[q-10]=re,re===0&&z.length>10?z.length-=10:z.length-=9},m.prototype.imulK=function(z){z.words[z.length]=0,z.words[z.length+1]=0,z.length+=2;for(var N=0,W=0;W<z.length;W++){var Z=z.words[W]|0;N+=Z*977,z.words[W]=N&67108863,N=Z*64+(N/67108864|0)}return z.words[z.length-1]===0&&(z.length--,z.words[z.length-1]===0&&z.length--),z};function k(){E.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}l(k,E);function I(){E.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}l(I,E);function O(){E.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}l(O,E),O.prototype.imulK=function(z){for(var N=0,W=0;W<z.length;W++){var Z=(z.words[W]|0)*19+N,q=Z&67108863;Z>>>=26,z.words[W]=q,N=Z}return N!==0&&(z.words[z.length++]=N),z},u._prime=function(z){if(i[z])return i[z];var N;if(z==="k256")N=new m;else if(z==="p224")N=new k;else if(z==="p192")N=new I;else if(z==="p25519")N=new O;else throw new Error("Unknown prime "+z);return i[z]=N,N};function _(F){if(typeof F=="string"){var z=u._prime(F);this.m=z.p,this.prime=z}else n(F.gtn(1),"modulus must be greater than 1"),this.m=F,this.prime=null}_.prototype._verify1=function(z){n(z.negative===0,"red works only with positives"),n(z.red,"red works only with red numbers")},_.prototype._verify2=function(z,N){n((z.negative|N.negative)===0,"red works only with positives"),n(z.red&&z.red===N.red,"red works only with red numbers")},_.prototype.imod=function(z){return this.prime?this.prime.ireduce(z)._forceRed(this):z.umod(this.m)._forceRed(this)},_.prototype.neg=function(z){return z.isZero()?z.clone():this.m.sub(z)._forceRed(this)},_.prototype.add=function(z,N){this._verify2(z,N);var W=z.add(N);return W.cmp(this.m)>=0&&W.isub(this.m),W._forceRed(this)},_.prototype.iadd=function(z,N){this._verify2(z,N);var W=z.iadd(N);return W.cmp(this.m)>=0&&W.isub(this.m),W},_.prototype.sub=function(z,N){this._verify2(z,N);var W=z.sub(N);return W.cmpn(0)<0&&W.iadd(this.m),W._forceRed(this)},_.prototype.isub=function(z,N){this._verify2(z,N);var W=z.isub(N);return W.cmpn(0)<0&&W.iadd(this.m),W},_.prototype.shl=function(z,N){return this._verify1(z),this.imod(z.ushln(N))},_.prototype.imul=function(z,N){return this._verify2(z,N),this.imod(z.imul(N))},_.prototype.mul=function(z,N){return this._verify2(z,N),this.imod(z.mul(N))},_.prototype.isqr=function(z){return this.imul(z,z.clone())},_.prototype.sqr=function(z){return this.mul(z,z)},_.prototype.sqrt=function(z){if(z.isZero())return z.clone();var N=this.m.andln(3);if(n(N%2===1),N===3){var W=this.m.add(new u(1)).iushrn(2);return this.pow(z,W)}for(var Z=this.m.subn(1),q=0;!Z.isZero()&&Z.andln(1)===0;)q++,Z.iushrn(1);n(!Z.isZero());var re=new u(1).toRed(this),le=re.redNeg(),ie=this.m.subn(1).iushrn(1),K=this.m.bitLength();for(K=new u(2*K*K).toRed(this);this.pow(K,ie).cmp(le)!==0;)K.redIAdd(le);for(var $=this.pow(K,Z),X=this.pow(z,Z.addn(1).iushrn(1)),Q=this.pow(z,Z),se=q;Q.cmp(re)!==0;){for(var J=Q,G=0;J.cmp(re)!==0;G++)J=J.redSqr();n(G<se);var oe=this.pow($,new u(1).iushln(se-G-1));X=X.redMul(oe),$=oe.redSqr(),Q=Q.redMul($),se=G}return X},_.prototype.invm=function(z){var N=z._invmp(this.m);return N.negative!==0?(N.negative=0,this.imod(N).redNeg()):this.imod(N)},_.prototype.pow=function(z,N){if(N.isZero())return new u(1).toRed(this);if(N.cmpn(1)===0)return z.clone();var W=4,Z=new Array(1<<W);Z[0]=new u(1).toRed(this),Z[1]=z;for(var q=2;q<Z.length;q++)Z[q]=this.mul(Z[q-1],z);var re=Z[0],le=0,ie=0,K=N.bitLength()%26;for(K===0&&(K=26),q=N.length-1;q>=0;q--){for(var $=N.words[q],X=K-1;X>=0;X--){var Q=$>>X&1;if(re!==Z[0]&&(re=this.sqr(re)),Q===0&&le===0){ie=0;continue}le<<=1,le|=Q,ie++,!(ie!==W&&(q!==0||X!==0))&&(re=this.mul(re,Z[le]),ie=0,le=0)}K=26}return re},_.prototype.convertTo=function(z){var N=z.umod(this.m);return N===z?N.clone():N},_.prototype.convertFrom=function(z){var N=z.clone();return N.red=null,N},u.mont=function(z){return new B(z)};function B(F){_.call(this,F),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}l(B,_),B.prototype.convertTo=function(z){return this.imod(z.ushln(this.shift))},B.prototype.convertFrom=function(z){var N=this.imod(z.mul(this.rinv));return N.red=null,N},B.prototype.imul=function(z,N){if(z.isZero()||N.isZero())return z.words[0]=0,z.length=1,z;var W=z.imul(N),Z=W.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),q=W.isub(Z).iushrn(this.shift),re=q;return q.cmp(this.m)>=0?re=q.isub(this.m):q.cmpn(0)<0&&(re=q.iadd(this.m)),re._forceRed(this)},B.prototype.mul=function(z,N){if(z.isZero()||N.isZero())return new u(0)._forceRed(this);var W=z.mul(N),Z=W.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),q=W.isub(Z).iushrn(this.shift),re=q;return q.cmp(this.m)>=0?re=q.isub(this.m):q.cmpn(0)<0&&(re=q.iadd(this.m)),re._forceRed(this)},B.prototype.invm=function(z){var N=this.imod(z._invmp(this.m).mul(this.r2));return N._forceRed(this)}}(v,this)},6204:function(v){v.exports=p;function p(r){var t,o,n,l=r.length,u=0;for(t=0;t<l;++t)u+=r[t].length;var f=new Array(u),g=0;for(t=0;t<l;++t){var h=r[t],w=h.length;for(o=0;o<w;++o){var c=f[g++]=new Array(w-1),a=0;for(n=0;n<w;++n)n!==o&&(c[a++]=h[n]);if(o&1){var d=c[1];c[1]=c[0],c[0]=d}}}return f}},6867:function(v,p,r){v.exports=a;var t=r(1888),o=r(855),n=r(7150);function l(d,x){for(var T=0;T<d;++T)if(!(x[T]<=x[T+d]))return!0;return!1}function u(d,x,T,C){for(var y=0,S=0,A=0,i=d.length;A<i;++A){var E=d[A];if(!l(x,E)){for(var m=0;m<2*x;++m)T[y++]=E[m];C[S++]=A}}return S}function f(d,x,T,C){var y=d.length,S=x.length;if(!(y<=0||S<=0)){var A=d[0].length>>>1;if(!(A<=0)){var i,E=t.mallocDouble(2*A*y),m=t.mallocInt32(y);if(y=u(d,A,E,m),y>0){if(A===1&&C)o.init(y),i=o.sweepComplete(A,T,0,y,E,m,0,y,E,m);else{var k=t.mallocDouble(2*A*S),I=t.mallocInt32(S);S=u(x,A,k,I),S>0&&(o.init(y+S),A===1?i=o.sweepBipartite(A,T,0,y,E,m,0,S,k,I):i=n(A,T,C,y,E,m,S,k,I),t.free(k),t.free(I))}t.free(E),t.free(m)}return i}}}var g;function h(d,x){g.push([d,x])}function w(d){return g=[],f(d,d,h,!0),g}function c(d,x){return g=[],f(d,x,h,!1),g}function a(d,x,T){switch(arguments.length){case 1:return w(d);case 2:return typeof x=="function"?f(d,d,x,!0):c(d,x);case 3:return f(d,x,T,!1);default:throw new Error("box-intersect: Invalid arguments")}}},2455:function(v,p){function r(){function n(f,g,h,w,c,a,d,x,T,C,y){for(var S=2*f,A=w,i=S*w;A<c;++A,i+=S){var E=a[g+i],m=a[g+i+f],k=d[A];e:for(var I=x,O=S*x;I<T;++I,O+=S){var _=C[g+O],B=C[g+O+f],F=y[I];if(!(B<E||m<_)){for(var z=g+1;z<f;++z){var N=a[z+i],W=a[z+f+i],Z=C[z+O],q=C[z+f+O];if(W<Z||q<N)continue e}var re=h(k,F);if(re!==void 0)return re}}}}function l(f,g,h,w,c,a,d,x,T,C,y){for(var S=2*f,A=x,i=S*x;A<T;++A,i+=S){var E=C[g+i],m=C[g+i+f],k=y[A];e:for(var I=w,O=S*w;I<c;++I,O+=S){var _=a[g+O],B=a[g+O+f],F=d[I];if(!(m<_||B<E)){for(var z=g+1;z<f;++z){var N=a[z+O],W=a[z+f+O],Z=C[z+i],q=C[z+f+i];if(W<Z||q<N)continue e}var re=h(F,k);if(re!==void 0)return re}}}}function u(f,g,h,w,c,a,d,x,T,C,y){return c-w>T-x?n(f,g,h,w,c,a,d,x,T,C,y):l(f,g,h,w,c,a,d,x,T,C,y)}return u}function t(){function n(h,w,c,a,d,x,T,C,y,S,A){for(var i=2*h,E=a,m=i*a;E<d;++E,m+=i){var k=x[w+m],I=x[w+m+h],O=T[E];e:for(var _=C,B=i*C;_<y;++_,B+=i){var F=S[w+B],z=A[_];if(!(F<=k||I<F)){for(var N=w+1;N<h;++N){var W=x[N+m],Z=x[N+h+m],q=S[N+B],re=S[N+h+B];if(Z<q||re<W)continue e}var le=c(z,O);if(le!==void 0)return le}}}}function l(h,w,c,a,d,x,T,C,y,S,A){for(var i=2*h,E=a,m=i*a;E<d;++E,m+=i){var k=x[w+m],I=x[w+m+h],O=T[E];e:for(var _=C,B=i*C;_<y;++_,B+=i){var F=S[w+B],z=A[_];if(!(F<k||I<F)){for(var N=w+1;N<h;++N){var W=x[N+m],Z=x[N+h+m],q=S[N+B],re=S[N+h+B];if(Z<q||re<W)continue e}var le=c(O,z);if(le!==void 0)return le}}}}function u(h,w,c,a,d,x,T,C,y,S,A){for(var i=2*h,E=C,m=i*C;E<y;++E,m+=i){var k=S[w+m],I=A[E];e:for(var O=a,_=i*a;O<d;++O,_+=i){var B=x[w+_],F=x[w+_+h],z=T[O];if(!(k<=B||F<k)){for(var N=w+1;N<h;++N){var W=x[N+_],Z=x[N+h+_],q=S[N+m],re=S[N+h+m];if(Z<q||re<W)continue e}var le=c(I,z);if(le!==void 0)return le}}}}function f(h,w,c,a,d,x,T,C,y,S,A){for(var i=2*h,E=C,m=i*C;E<y;++E,m+=i){var k=S[w+m],I=A[E];e:for(var O=a,_=i*a;O<d;++O,_+=i){var B=x[w+_],F=x[w+_+h],z=T[O];if(!(k<B||F<k)){for(var N=w+1;N<h;++N){var W=x[N+_],Z=x[N+h+_],q=S[N+m],re=S[N+h+m];if(Z<q||re<W)continue e}var le=c(z,I);if(le!==void 0)return le}}}}function g(h,w,c,a,d,x,T,C,y,S,A,i){return x-d>S-y?a?n(h,w,c,d,x,T,C,y,S,A,i):l(h,w,c,d,x,T,C,y,S,A,i):a?u(h,w,c,d,x,T,C,y,S,A,i):f(h,w,c,d,x,T,C,y,S,A,i)}return g}function o(n){return n?r():t()}p.partial=o(!1),p.full=o(!0)},7150:function(v,p,r){v.exports=F;var t=r(1888),o=r(8828),n=r(2455),l=n.partial,u=n.full,f=r(855),g=r(3545),h=r(8105),w=128,c=1<<22,a=1<<22,d=h("!(lo>=p0)&&!(p1>=hi)"),x=h("lo===p0"),T=h("lo<p0"),C=h("hi<=p0"),y=h("lo<=p0&&p0<=hi"),S=h("lo<p0&&p0<=hi"),A=6,i=2,E=1024,m=t.mallocInt32(E),k=t.mallocDouble(E);function I(z,N){var W=8*o.log2(N+1)*(z+1)|0,Z=o.nextPow2(A*W);m.length<Z&&(t.free(m),m=t.mallocInt32(Z));var q=o.nextPow2(i*W);k.length<q&&(t.free(k),k=t.mallocDouble(q))}function O(z,N,W,Z,q,re,le,ie,K){var $=A*z;m[$]=N,m[$+1]=W,m[$+2]=Z,m[$+3]=q,m[$+4]=re,m[$+5]=le;var X=i*z;k[X]=ie,k[X+1]=K}function _(z,N,W,Z,q,re,le,ie,K,$,X){var Q=2*z,se=K*Q,J=$[se+N];e:for(var G=q,oe=q*Q;G<re;++G,oe+=Q){var te=le[oe+N],fe=le[oe+N+z];if(!(J<te||fe<J)&&!(Z&&J===te)){for(var ge=ie[G],we=N+1;we<z;++we){var te=le[oe+we],fe=le[oe+we+z],xe=$[se+we],Ce=$[se+we+z];if(fe<xe||Ce<te)continue e}var De;if(Z?De=W(X,ge):De=W(ge,X),De!==void 0)return De}}}function B(z,N,W,Z,q,re,le,ie,K,$){var X=2*z,Q=ie*X,se=K[Q+N];e:for(var J=Z,G=Z*X;J<q;++J,G+=X){var oe=le[J];if(oe!==$){var te=re[G+N],fe=re[G+N+z];if(!(se<te||fe<se)){for(var ge=N+1;ge<z;++ge){var te=re[G+ge],fe=re[G+ge+z],we=K[Q+ge],xe=K[Q+ge+z];if(fe<we||xe<te)continue e}var Ce=W(oe,$);if(Ce!==void 0)return Ce}}}}function F(z,N,W,Z,q,re,le,ie,K){I(z,Z+le);var $=0,X=2*z,Q;for(O($++,0,0,Z,0,le,W?16:0,-1/0,1/0),W||O($++,0,0,le,0,Z,1,-1/0,1/0);$>0;){$-=1;var se=$*A,J=m[se],G=m[se+1],oe=m[se+2],te=m[se+3],fe=m[se+4],ge=m[se+5],we=$*i,xe=k[we],Ce=k[we+1],De=ge&1,Oe=!!(ge&16),Te=q,Re=re,Me=ie,ke=K;if(De&&(Te=ie,Re=K,Me=q,ke=re),!(ge&2&&(oe=T(z,J,G,oe,Te,Re,Ce),G>=oe))&&!(ge&4&&(G=C(z,J,G,oe,Te,Re,xe),G>=oe))){var Se=oe-G,He=fe-te;if(Oe){if(z*Se*(Se+He)<a){if(Q=f.scanComplete(z,J,N,G,oe,Te,Re,te,fe,Me,ke),Q!==void 0)return Q;continue}}else if(z*Math.min(Se,He)<w){if(Q=l(z,J,N,De,G,oe,Te,Re,te,fe,Me,ke),Q!==void 0)return Q;continue}else if(z*Se*He<c){if(Q=f.scanBipartite(z,J,N,De,G,oe,Te,Re,te,fe,Me,ke),Q!==void 0)return Q;continue}var je=d(z,J,G,oe,Te,Re,xe,Ce);if(G<je)if(z*(je-G)<w){if(Q=u(z,J+1,N,G,je,Te,Re,te,fe,Me,ke),Q!==void 0)return Q}else if(J===z-2){if(De?Q=f.sweepBipartite(z,N,te,fe,Me,ke,G,je,Te,Re):Q=f.sweepBipartite(z,N,G,je,Te,Re,te,fe,Me,ke),Q!==void 0)return Q}else O($++,J+1,G,je,te,fe,De,-1/0,1/0),O($++,J+1,te,fe,G,je,De^1,-1/0,1/0);if(je<oe){var at=g(z,J,te,fe,Me,ke),Ze=Me[X*at+J],$e=x(z,J,at,fe,Me,ke,Ze);if($e<fe&&O($++,J,je,oe,$e,fe,(De|4)+(Oe?16:0),Ze,Ce),te<at&&O($++,J,je,oe,te,at,(De|2)+(Oe?16:0),xe,Ze),at+1===$e){if(Oe?Q=B(z,J,N,je,oe,Te,Re,at,Me,ke[at]):Q=_(z,J,N,De,je,oe,Te,Re,at,Me,ke[at]),Q!==void 0)return Q}else if(at<$e){var ut;if(Oe){if(ut=y(z,J,je,oe,Te,Re,Ze),je<ut){var ht=x(z,J,je,ut,Te,Re,Ze);if(J===z-2){if(je<ht&&(Q=f.sweepComplete(z,N,je,ht,Te,Re,at,$e,Me,ke),Q!==void 0)||ht<ut&&(Q=f.sweepBipartite(z,N,ht,ut,Te,Re,at,$e,Me,ke),Q!==void 0))return Q}else je<ht&&O($++,J+1,je,ht,at,$e,16,-1/0,1/0),ht<ut&&(O($++,J+1,ht,ut,at,$e,0,-1/0,1/0),O($++,J+1,at,$e,ht,ut,1,-1/0,1/0))}}else De?ut=S(z,J,je,oe,Te,Re,Ze):ut=y(z,J,je,oe,Te,Re,Ze),je<ut&&(J===z-2?De?Q=f.sweepBipartite(z,N,at,$e,Me,ke,je,ut,Te,Re):Q=f.sweepBipartite(z,N,je,ut,Te,Re,at,$e,Me,ke):(O($++,J+1,je,ut,at,$e,De,-1/0,1/0),O($++,J+1,at,$e,je,ut,De^1,-1/0,1/0)))}}}}}},3545:function(v,p,r){v.exports=u;var t=r(8105),o=t("lo<p0"),n=8;function l(f,g,h,w,c,a){for(var d=2*f,x=d*(h+1)+g,T=h+1;T<w;++T,x+=d)for(var C=c[x],y=T,S=d*(T-1);y>h&&c[S+g]>C;--y,S-=d){for(var A=S,i=S+d,E=0;E<d;++E,++A,++i){var m=c[A];c[A]=c[i],c[i]=m}var k=a[y];a[y]=a[y-1],a[y-1]=k}}function u(f,g,h,w,c,a){if(w<=h+1)return h;for(var d=h,x=w,T=w+h>>>1,C=2*f,y=T,S=c[C*T+g];d<x;){if(x-d<n){l(f,g,d,x,c,a),S=c[C*T+g];break}var A=x-d,i=Math.random()*A+d|0,E=c[C*i+g],m=Math.random()*A+d|0,k=c[C*m+g],I=Math.random()*A+d|0,O=c[C*I+g];E<=k?O>=k?(y=m,S=k):E>=O?(y=i,S=E):(y=I,S=O):k>=O?(y=m,S=k):O>=E?(y=i,S=E):(y=I,S=O);for(var F=C*(x-1),z=C*y,_=0;_<C;++_,++F,++z){var B=c[F];c[F]=c[z],c[z]=B}var N=a[x-1];a[x-1]=a[y],a[y]=N,y=o(f,g,d,x-1,c,a,S);for(var F=C*(x-1),z=C*y,_=0;_<C;++_,++F,++z){var B=c[F];c[F]=c[z],c[z]=B}var N=a[x-1];if(a[x-1]=a[y],a[y]=N,T<y){for(x=y-1;d<x&&c[C*(x-1)+g]===S;)x-=1;x+=1}else if(y<T)for(d=y+1;d<x&&c[C*d+g]===S;)d+=1;else break}return o(f,g,h,T,c,a,c[C*T+g])}},8105:function(v){v.exports=r;var p={"lo===p0":t,"lo<p0":o,"lo<=p0":n,"hi<=p0":l,"lo<p0&&p0<=hi":f,"lo<=p0&&p0<=hi":u,"!(lo>=p0)&&!(p1>=hi)":g};function r(h){return p[h]}function t(h,w,c,a,d,x,T){for(var C=2*h,y=C*c,S=y,A=c,i=w,E=h+w,m=c;a>m;++m,y+=C){var k=d[y+i];if(k===T)if(A===m)A+=1,S+=C;else{for(var I=0;C>I;++I){var O=d[y+I];d[y+I]=d[S],d[S++]=O}var _=x[m];x[m]=x[A],x[A++]=_}}return A}function o(h,w,c,a,d,x,T){for(var C=2*h,y=C*c,S=y,A=c,i=w,E=h+w,m=c;a>m;++m,y+=C){var k=d[y+i];if(k<T)if(A===m)A+=1,S+=C;else{for(var I=0;C>I;++I){var O=d[y+I];d[y+I]=d[S],d[S++]=O}var _=x[m];x[m]=x[A],x[A++]=_}}return A}function n(h,w,c,a,d,x,T){for(var C=2*h,y=C*c,S=y,A=c,i=w,E=h+w,m=c;a>m;++m,y+=C){var k=d[y+E];if(k<=T)if(A===m)A+=1,S+=C;else{for(var I=0;C>I;++I){var O=d[y+I];d[y+I]=d[S],d[S++]=O}var _=x[m];x[m]=x[A],x[A++]=_}}return A}function l(h,w,c,a,d,x,T){for(var C=2*h,y=C*c,S=y,A=c,i=w,E=h+w,m=c;a>m;++m,y+=C){var k=d[y+E];if(k<=T)if(A===m)A+=1,S+=C;else{for(var I=0;C>I;++I){var O=d[y+I];d[y+I]=d[S],d[S++]=O}var _=x[m];x[m]=x[A],x[A++]=_}}return A}function u(h,w,c,a,d,x,T){for(var C=2*h,y=C*c,S=y,A=c,i=w,E=h+w,m=c;a>m;++m,y+=C){var k=d[y+i],I=d[y+E];if(k<=T&&T<=I)if(A===m)A+=1,S+=C;else{for(var O=0;C>O;++O){var _=d[y+O];d[y+O]=d[S],d[S++]=_}var B=x[m];x[m]=x[A],x[A++]=B}}return A}function f(h,w,c,a,d,x,T){for(var C=2*h,y=C*c,S=y,A=c,i=w,E=h+w,m=c;a>m;++m,y+=C){var k=d[y+i],I=d[y+E];if(k<T&&T<=I)if(A===m)A+=1,S+=C;else{for(var O=0;C>O;++O){var _=d[y+O];d[y+O]=d[S],d[S++]=_}var B=x[m];x[m]=x[A],x[A++]=B}}return A}function g(h,w,c,a,d,x,T,C){for(var y=2*h,S=y*c,A=S,i=c,E=w,m=h+w,k=c;a>k;++k,S+=y){var I=d[S+E],O=d[S+m];if(!(I>=T)&&!(C>=O))if(i===k)i+=1,A+=y;else{for(var _=0;y>_;++_){var B=d[S+_];d[S+_]=d[A],d[A++]=B}var F=x[k];x[k]=x[i],x[i++]=F}}return i}},1811:function(v){v.exports=r;var p=32;function r(w,c){c<=4*p?t(0,c-1,w):h(0,c-1,w)}function t(w,c,a){for(var d=2*(w+1),x=w+1;x<=c;++x){for(var T=a[d++],C=a[d++],y=x,S=d-2;y-- >w;){var A=a[S-2],i=a[S-1];if(A<T)break;if(A===T&&i<C)break;a[S]=A,a[S+1]=i,S-=2}a[S]=T,a[S+1]=C}}function o(w,c,a){w*=2,c*=2;var d=a[w],x=a[w+1];a[w]=a[c],a[w+1]=a[c+1],a[c]=d,a[c+1]=x}function n(w,c,a){w*=2,c*=2,a[w]=a[c],a[w+1]=a[c+1]}function l(w,c,a,d){w*=2,c*=2,a*=2;var x=d[w],T=d[w+1];d[w]=d[c],d[w+1]=d[c+1],d[c]=d[a],d[c+1]=d[a+1],d[a]=x,d[a+1]=T}function u(w,c,a,d,x){w*=2,c*=2,x[w]=x[c],x[c]=a,x[w+1]=x[c+1],x[c+1]=d}function f(w,c,a){w*=2,c*=2;var d=a[w],x=a[c];return d<x?!1:d===x?a[w+1]>a[c+1]:!0}function g(w,c,a,d){w*=2;var x=d[w];return x<c?!0:x===c?d[w+1]<a:!1}function h(w,c,a){var d=(c-w+1)/6|0,x=w+d,T=c-d,C=w+c>>1,y=C-d,S=C+d,A=x,i=y,E=C,m=S,k=T,I=w+1,O=c-1,_=0;f(A,i,a)&&(_=A,A=i,i=_),f(m,k,a)&&(_=m,m=k,k=_),f(A,E,a)&&(_=A,A=E,E=_),f(i,E,a)&&(_=i,i=E,E=_),f(A,m,a)&&(_=A,A=m,m=_),f(E,m,a)&&(_=E,E=m,m=_),f(i,k,a)&&(_=i,i=k,k=_),f(i,E,a)&&(_=i,i=E,E=_),f(m,k,a)&&(_=m,m=k,k=_);for(var B=a[2*i],F=a[2*i+1],z=a[2*m],N=a[2*m+1],W=2*A,Z=2*E,q=2*k,re=2*x,le=2*C,ie=2*T,K=0;K<2;++K){var $=a[W+K],X=a[Z+K],Q=a[q+K];a[re+K]=$,a[le+K]=X,a[ie+K]=Q}n(y,w,a),n(S,c,a);for(var se=I;se<=O;++se)if(g(se,B,F,a))se!==I&&o(se,I,a),++I;else if(!g(se,z,N,a))for(;;)if(g(O,z,N,a)){g(O,B,F,a)?(l(se,I,O,a),++I,--O):(o(se,O,a),--O);break}else{if(--O<se)break;continue}u(w,I-1,B,F,a),u(c,O+1,z,N,a),I-2-w<=p?t(w,I-2,a):h(w,I-2,a),c-(O+2)<=p?t(O+2,c,a):h(O+2,c,a),O-I<=p?t(I,O,a):h(I,O,a)}},855:function(v,p,r){v.exports={init:x,sweepBipartite:y,sweepComplete:S,scanBipartite:A,scanComplete:i};var t=r(1888),o=r(8828),n=r(1811),l=1<<28,u=1024,f=t.mallocInt32(u),g=t.mallocInt32(u),h=t.mallocInt32(u),w=t.mallocInt32(u),c=t.mallocInt32(u),a=t.mallocInt32(u),d=t.mallocDouble(u*8);function x(E){var m=o.nextPow2(E);f.length<m&&(t.free(f),f=t.mallocInt32(m)),g.length<m&&(t.free(g),g=t.mallocInt32(m)),h.length<m&&(t.free(h),h=t.mallocInt32(m)),w.length<m&&(t.free(w),w=t.mallocInt32(m)),c.length<m&&(t.free(c),c=t.mallocInt32(m)),a.length<m&&(t.free(a),a=t.mallocInt32(m));var k=8*m;d.length<k&&(t.free(d),d=t.mallocDouble(k))}function T(E,m,k,I){var O=m[I],_=E[k-1];E[O]=_,m[_]=O}function C(E,m,k,I){E[k]=I,m[I]=k}function y(E,m,k,I,O,_,B,F,z,N){for(var W=0,Z=2*E,q=E-1,re=Z-1,le=k;le<I;++le){var ie=_[le],K=Z*le;d[W++]=O[K+q],d[W++]=-(ie+1),d[W++]=O[K+re],d[W++]=ie}for(var le=B;le<F;++le){var ie=N[le]+l,$=Z*le;d[W++]=z[$+q],d[W++]=-ie,d[W++]=z[$+re],d[W++]=ie}var X=W>>>1;n(d,X);for(var Q=0,se=0,le=0;le<X;++le){var J=d[2*le+1]|0;if(J>=l)J=J-l|0,T(h,w,se--,J);else if(J>=0)T(f,g,Q--,J);else if(J<=-l){J=-J-l|0;for(var G=0;G<Q;++G){var oe=m(f[G],J);if(oe!==void 0)return oe}C(h,w,se++,J)}else{J=-J-1|0;for(var G=0;G<se;++G){var oe=m(J,h[G]);if(oe!==void 0)return oe}C(f,g,Q++,J)}}}function S(E,m,k,I,O,_,B,F,z,N){for(var W=0,Z=2*E,q=E-1,re=Z-1,le=k;le<I;++le){var ie=_[le]+1<<1,K=Z*le;d[W++]=O[K+q],d[W++]=-ie,d[W++]=O[K+re],d[W++]=ie}for(var le=B;le<F;++le){var ie=N[le]+1<<1,$=Z*le;d[W++]=z[$+q],d[W++]=-ie|1,d[W++]=z[$+re],d[W++]=ie|1}var X=W>>>1;n(d,X);for(var Q=0,se=0,J=0,le=0;le<X;++le){var G=d[2*le+1]|0,oe=G&1;if(le<X-1&&G>>1===d[2*le+3]>>1&&(oe=2,le+=1),G<0){for(var te=-(G>>1)-1,fe=0;fe<J;++fe){var ge=m(c[fe],te);if(ge!==void 0)return ge}if(oe!==0)for(var fe=0;fe<Q;++fe){var ge=m(f[fe],te);if(ge!==void 0)return ge}if(oe!==1)for(var fe=0;fe<se;++fe){var ge=m(h[fe],te);if(ge!==void 0)return ge}oe===0?C(f,g,Q++,te):oe===1?C(h,w,se++,te):oe===2&&C(c,a,J++,te)}else{var te=(G>>1)-1;oe===0?T(f,g,Q--,te):oe===1?T(h,w,se--,te):oe===2&&T(c,a,J--,te)}}}function A(E,m,k,I,O,_,B,F,z,N,W,Z){var q=0,re=2*E,le=m,ie=m+E,K=1,$=1;I?$=l:K=l;for(var X=O;X<_;++X){var Q=X+K,se=re*X;d[q++]=B[se+le],d[q++]=-Q,d[q++]=B[se+ie],d[q++]=Q}for(var X=z;X<N;++X){var Q=X+$,J=re*X;d[q++]=W[J+le],d[q++]=-Q}var G=q>>>1;n(d,G);for(var oe=0,X=0;X<G;++X){var te=d[2*X+1]|0;if(te<0){var Q=-te,fe=!1;if(Q>=l?(fe=!I,Q-=l):(fe=!!I,Q-=1),fe)C(f,g,oe++,Q);else{var ge=Z[Q],we=re*Q,xe=W[we+m+1],Ce=W[we+m+1+E];e:for(var De=0;De<oe;++De){var Oe=f[De],Te=re*Oe;if(!(Ce<B[Te+m+1]||B[Te+m+1+E]<xe)){for(var Re=m+2;Re<E;++Re)if(W[we+Re+E]<B[Te+Re]||B[Te+Re+E]<W[we+Re])continue e;var Me=F[Oe],ke;if(I?ke=k(ge,Me):ke=k(Me,ge),ke!==void 0)return ke}}}}else T(f,g,oe--,te-K)}}function i(E,m,k,I,O,_,B,F,z,N,W){for(var Z=0,q=2*E,re=m,le=m+E,ie=I;ie<O;++ie){var K=ie+l,$=q*ie;d[Z++]=_[$+re],d[Z++]=-K,d[Z++]=_[$+le],d[Z++]=K}for(var ie=F;ie<z;++ie){var K=ie+1,X=q*ie;d[Z++]=N[X+re],d[Z++]=-K}var Q=Z>>>1;n(d,Q);for(var se=0,ie=0;ie<Q;++ie){var J=d[2*ie+1]|0;if(J<0){var K=-J;if(K>=l)f[se++]=K-l;else{K-=1;var G=W[K],oe=q*K,te=N[oe+m+1],fe=N[oe+m+1+E];e:for(var ge=0;ge<se;++ge){var we=f[ge],xe=B[we];if(xe===G)break;var Ce=q*we;if(!(fe<_[Ce+m+1]||_[Ce+m+1+E]<te)){for(var De=m+2;De<E;++De)if(N[oe+De+E]<_[Ce+De]||_[Ce+De+E]<N[oe+De])continue e;var Oe=k(xe,G);if(Oe!==void 0)return Oe}}}}else{for(var K=J-l,ge=se-1;ge>=0;--ge)if(f[ge]===K){for(var De=ge+1;De<se;++De)f[De-1]=f[De];break}--se}}}},2538:function(v,p,r){var t=r(8902),o=r(5542),n=r(2272),l=r(5023);v.exports=w;function u(c){return[Math.min(c[0],c[1]),Math.max(c[0],c[1])]}function f(c,a){return c[0]-a[0]||c[1]-a[1]}function g(c){return c.map(u).sort(f)}function h(c,a,d){return a in c?c[a]:d}function w(c,a,d){Array.isArray(a)?(d=d||{},a=a||[]):(d=a||{},a=[]);var x=!!h(d,"delaunay",!0),T=!!h(d,"interior",!0),C=!!h(d,"exterior",!0),y=!!h(d,"infinity",!1);if(!T&&!C||c.length===0)return[];var S=t(c,a);if(x||T!==C||y){for(var A=o(c.length,g(a)),i=0;i<S.length;++i){var E=S[i];A.addTriangle(E[0],E[1],E[2])}return x&&n(c,A),C?T?y?l(A,0,y):A.cells():l(A,1,y):l(A,-1)}else return S}},2272:function(v,p,r){var t=r(2646)[4];r(2478),v.exports=n;function o(l,u,f,g,h,w){var c=u.opposite(g,h);if(!(c<0)){if(h<g){var a=g;g=h,h=a,a=w,w=c,c=a}u.isConstraint(g,h)||t(l[g],l[h],l[w],l[c])<0&&f.push(g,h)}}function n(l,u){for(var f=[],g=l.length,h=u.stars,w=0;w<g;++w)for(var c=h[w],a=1;a<c.length;a+=2){var d=c[a];if(!(d<w)&&!u.isConstraint(w,d)){for(var x=c[a-1],T=-1,C=1;C<c.length;C+=2)if(c[C-1]===d){T=c[C];break}T<0||t(l[w],l[d],l[x],l[T])<0&&f.push(w,d)}}for(;f.length>0;){for(var d=f.pop(),w=f.pop(),x=-1,T=-1,c=h[w],y=1;y<c.length;y+=2){var S=c[y-1],A=c[y];S===d?T=A:A===d&&(x=S)}x<0||T<0||t(l[w],l[d],l[x],l[T])>=0||(u.flip(w,d),o(l,u,f,x,w,T),o(l,u,f,w,T,x),o(l,u,f,T,d,x),o(l,u,f,d,x,T))}}},5023:function(v,p,r){var t=r(2478);v.exports=g;function o(h,w,c,a,d,x,T){this.cells=h,this.neighbor=w,this.flags=a,this.constraint=c,this.active=d,this.next=x,this.boundary=T}var n=o.prototype;function l(h,w){return h[0]-w[0]||h[1]-w[1]||h[2]-w[2]}n.locate=function(){var h=[0,0,0];return function(w,c,a){var d=w,x=c,T=a;return c<a?c<w&&(d=c,x=a,T=w):a<w&&(d=a,x=w,T=c),d<0?-1:(h[0]=d,h[1]=x,h[2]=T,t.eq(this.cells,h,l))}}();function u(h,w){for(var c=h.cells(),a=c.length,d=0;d<a;++d){var x=c[d],T=x[0],C=x[1],y=x[2];C<y?C<T&&(x[0]=C,x[1]=y,x[2]=T):y<T&&(x[0]=y,x[1]=T,x[2]=C)}c.sort(l);for(var S=new Array(a),d=0;d<S.length;++d)S[d]=0;var A=[],i=[],E=new Array(3*a),m=new Array(3*a),k=null;w&&(k=[]);for(var I=new o(c,E,m,S,A,i,k),d=0;d<a;++d)for(var x=c[d],O=0;O<3;++O){var T=x[O],C=x[(O+1)%3],_=E[3*d+O]=I.locate(C,T,h.opposite(C,T)),B=m[3*d+O]=h.isConstraint(T,C);_<0&&(B?i.push(d):(A.push(d),S[d]=1),w&&k.push([C,T,-1]))}return I}function f(h,w,c){for(var a=0,d=0;d<h.length;++d)w[d]===c&&(h[a++]=h[d]);return h.length=a,h}function g(h,w,c){var a=u(h,c);if(w===0)return c?a.cells.concat(a.boundary):a.cells;for(var d=1,x=a.active,T=a.next,C=a.flags,y=a.cells,S=a.constraint,A=a.neighbor;x.length>0||T.length>0;){for(;x.length>0;){var i=x.pop();if(C[i]!==-d){C[i]=d,y[i];for(var E=0;E<3;++E){var m=A[3*i+E];m>=0&&C[m]===0&&(S[3*i+E]?T.push(m):(x.push(m),C[m]=d))}}}var k=T;T=x,x=k,T.length=0,d=-d}var I=f(y,C,w);return c?I.concat(a.boundary):I}},8902:function(v,p,r){var t=r(2478),o=r(3250)[3],n=0,l=1,u=2;v.exports=T;function f(C,y,S,A,i){this.a=C,this.b=y,this.idx=S,this.lowerIds=A,this.upperIds=i}function g(C,y,S,A){this.a=C,this.b=y,this.type=S,this.idx=A}function h(C,y){var S=C.a[0]-y.a[0]||C.a[1]-y.a[1]||C.type-y.type;return S||C.type!==n&&(S=o(C.a,C.b,y.b),S)?S:C.idx-y.idx}function w(C,y){return o(C.a,C.b,y)}function c(C,y,S,A,i){for(var E=t.lt(y,A,w),m=t.gt(y,A,w),k=E;k<m;++k){for(var I=y[k],O=I.lowerIds,B=O.length;B>1&&o(S[O[B-2]],S[O[B-1]],A)>0;)C.push([O[B-1],O[B-2],i]),B-=1;O.length=B,O.push(i);for(var _=I.upperIds,B=_.length;B>1&&o(S[_[B-2]],S[_[B-1]],A)<0;)C.push([_[B-2],_[B-1],i]),B-=1;_.length=B,_.push(i)}}function a(C,y){var S;return C.a[0]<y.a[0]?S=o(C.a,C.b,y.a):S=o(y.b,y.a,C.a),S||(y.b[0]<C.b[0]?S=o(C.a,C.b,y.b):S=o(y.b,y.a,C.b),S||C.idx-y.idx)}function d(C,y,S){var A=t.le(C,S,a),i=C[A],E=i.upperIds,m=E[E.length-1];i.upperIds=[m],C.splice(A+1,0,new f(S.a,S.b,S.idx,[m],E))}function x(C,y,S){var A=S.a;S.a=S.b,S.b=A;var i=t.eq(C,S,a),E=C[i],m=C[i-1];m.upperIds=E.upperIds,C.splice(i,1)}function T(C,y){for(var S=C.length,A=y.length,i=[],E=0;E<S;++E)i.push(new g(C[E],null,n,E));for(var E=0;E<A;++E){var m=y[E],k=C[m[0]],I=C[m[1]];k[0]<I[0]?i.push(new g(k,I,u,E),new g(I,k,l,E)):k[0]>I[0]&&i.push(new g(I,k,u,E),new g(k,I,l,E))}i.sort(h);for(var O=i[0].a[0]-(1+Math.abs(i[0].a[0]))*Math.pow(2,-52),_=[new f([O,1],[O,0],-1,[],[])],B=[],E=0,F=i.length;E<F;++E){var z=i[E],N=z.type;N===n?c(B,_,C,z.a,z.idx):N===u?d(_,C,z):x(_,C,z)}return B}},5542:function(v,p,r){var t=r(2478);v.exports=u;function o(f,g){this.stars=f,this.edges=g}var n=o.prototype;function l(f,g,h){for(var w=1,c=f.length;w<c;w+=2)if(f[w-1]===g&&f[w]===h){f[w-1]=f[c-2],f[w]=f[c-1],f.length=c-2;return}}n.isConstraint=function(){var f=[0,0];function g(h,w){return h[0]-w[0]||h[1]-w[1]}return function(h,w){return f[0]=Math.min(h,w),f[1]=Math.max(h,w),t.eq(this.edges,f,g)>=0}}(),n.removeTriangle=function(f,g,h){var w=this.stars;l(w[f],g,h),l(w[g],h,f),l(w[h],f,g)},n.addTriangle=function(f,g,h){var w=this.stars;w[f].push(g,h),w[g].push(h,f),w[h].push(f,g)},n.opposite=function(f,g){for(var h=this.stars[g],w=1,c=h.length;w<c;w+=2)if(h[w]===f)return h[w-1];return-1},n.flip=function(f,g){var h=this.opposite(f,g),w=this.opposite(g,f);this.removeTriangle(f,g,h),this.removeTriangle(g,f,w),this.addTriangle(f,w,h),this.addTriangle(g,h,w)},n.edges=function(){for(var f=this.stars,g=[],h=0,w=f.length;h<w;++h)for(var c=f[h],a=0,d=c.length;a<d;a+=2)g.push([c[a],c[a+1]]);return g},n.cells=function(){for(var f=this.stars,g=[],h=0,w=f.length;h<w;++h)for(var c=f[h],a=0,d=c.length;a<d;a+=2){var x=c[a],T=c[a+1];h<Math.min(x,T)&&g.push([h,x,T])}return g};function u(f,g){for(var h=new Array(f),w=0;w<f;++w)h[w]=[];return new o(h,g)}},2419:function(v){v.exports=p;function p(r){for(var t=1,o=1;o<r.length;++o)for(var n=0;n<o;++n)if(r[o]<r[n])t=-t;else if(r[n]===r[o])return 0;return t}},3628:function(v,p,r){var t=r(1338),o=r(727);function n(f,g){for(var h=0,w=f.length,c=0;c<w;++c)h+=f[c]*g[c];return h}function l(f){var g=f.length;if(g===0)return[];f[0].length;var h=t([f.length+1,f.length+1],1),w=t([f.length+1],1);h[g][g]=0;for(var c=0;c<g;++c){for(var a=0;a<=c;++a)h[a][c]=h[c][a]=2*n(f[c],f[a]);w[c]=n(f[c],f[c])}for(var d=o(h,w),x=0,T=d[g+1],c=0;c<T.length;++c)x+=T[c];for(var C=new Array(g),c=0;c<g;++c){for(var T=d[c],y=0,a=0;a<T.length;++a)y+=T[a];C[c]=y/x}return C}function u(f){if(f.length===0)return[];for(var g=f[0].length,h=t([g]),w=l(f),c=0;c<f.length;++c)for(var a=0;a<g;++a)h[a]+=f[c][a]*w[c];return h}u.barycenetric=l,v.exports=u},6037:function(v,p,r){v.exports=o;var t=r(3628);function o(n){for(var l=t(n),u=0,f=0;f<n.length;++f)for(var g=n[f],h=0;h<l.length;++h)u+=Math.pow(g[h]-l[h],2);return Math.sqrt(u/n.length)}},332:function(v,p,r){v.exports=k;var t=r(1755),o=r(6867),n=r(1125),l=r(7842),u=r(1318),f=r(946),g=r(5838),h=r(1278),w=r(3637);function c(I){var O=f(I);return[h(O,-1/0),h(O,1/0)]}function a(I,O){for(var _=new Array(O.length),B=0;B<O.length;++B){var F=O[B],z=I[F[0]],N=I[F[1]];_[B]=[h(Math.min(z[0],N[0]),-1/0),h(Math.min(z[1],N[1]),-1/0),h(Math.max(z[0],N[0]),1/0),h(Math.max(z[1],N[1]),1/0)]}return _}function d(I){for(var O=new Array(I.length),_=0;_<I.length;++_){var B=I[_];O[_]=[h(B[0],-1/0),h(B[1],-1/0),h(B[0],1/0),h(B[1],1/0)]}return O}function x(I,O,_){var B=[];return o(_,function(F,z){var N=O[F],W=O[z];if(!(N[0]===W[0]||N[0]===W[1]||N[1]===W[0]||N[1]===W[1])){var Z=I[N[0]],q=I[N[1]],re=I[W[0]],le=I[W[1]];n(Z,q,re,le)&&B.push([F,z])}}),B}function T(I,O,_,B){var F=[];return o(_,B,function(z,N){var W=O[z];if(!(W[0]===N||W[1]===N)){var Z=I[N],q=I[W[0]],re=I[W[1]];n(q,re,Z,Z)&&F.push([z,N])}}),F}function C(I,O,_,B,F){var z,N,W=I.map(function(we){return[l(we[0]),l(we[1])]});for(z=0;z<_.length;++z){var Z=_[z];N=Z[0];var q=Z[1],re=O[N],le=O[q],ie=w(g(I[re[0]]),g(I[re[1]]),g(I[le[0]]),g(I[le[1]]));if(ie){var K=I.length;I.push([f(ie[0]),f(ie[1])]),W.push(ie),B.push([N,K],[q,K])}}for(B.sort(function(we,xe){if(we[0]!==xe[0])return we[0]-xe[0];var Ce=W[we[1]],De=W[xe[1]];return u(Ce[0],De[0])||u(Ce[1],De[1])}),z=B.length-1;z>=0;--z){var $=B[z];N=$[0];var X=O[N],Q=X[0],se=X[1],J=I[Q],G=I[se];if((J[0]-G[0]||J[1]-G[1])<0){var oe=Q;Q=se,se=oe}X[0]=Q;var te=X[1]=$[1],fe;for(F&&(fe=X[2]);z>0&&B[z-1][0]===N;){var $=B[--z],ge=$[1];F?O.push([te,ge,fe]):O.push([te,ge]),te=ge}F?O.push([te,se,fe]):O.push([te,se])}return W}function y(I,O,_){for(var B=O.length,F=new t(B),z=[],N=0;N<O.length;++N){var W=O[N],Z=c(W[0]),q=c(W[1]);z.push([h(Z[0],-1/0),h(q[0],-1/0),h(Z[1],1/0),h(q[1],1/0)])}o(z,function($,X){F.link($,X)});for(var re=!0,le=new Array(B),N=0;N<B;++N){var ie=F.find(N);ie!==N&&(re=!1,I[ie]=[Math.min(I[N][0],I[ie][0]),Math.min(I[N][1],I[ie][1])])}if(re)return null;for(var K=0,N=0;N<B;++N){var ie=F.find(N);ie===N?(le[N]=K,I[K++]=I[N]):le[N]=-1}I.length=K;for(var N=0;N<B;++N)le[N]<0&&(le[N]=le[F.find(N)]);return le}function S(I,O){return I[0]-O[0]||I[1]-O[1]}function A(I,O){var _=I[0]-O[0]||I[1]-O[1];return _||(I[2]<O[2]?-1:I[2]>O[2]?1:0)}function i(I,O,_){if(I.length!==0){if(O)for(var B=0;B<I.length;++B){var F=I[B],z=O[F[0]],N=O[F[1]];F[0]=Math.min(z,N),F[1]=Math.max(z,N)}else for(var B=0;B<I.length;++B){var F=I[B],z=F[0],N=F[1];F[0]=Math.min(z,N),F[1]=Math.max(z,N)}_?I.sort(A):I.sort(S);for(var W=1,B=1;B<I.length;++B){var Z=I[B-1],q=I[B];q[0]===Z[0]&&q[1]===Z[1]&&(!_||q[2]===Z[2])||(I[W++]=q)}I.length=W}}function E(I,O,_){var B=y(I,[],d(I));return i(O,B,_),!!B}function m(I,O,_){var B=a(I,O),F=x(I,O,B),z=d(I),N=T(I,O,B,z),W=C(I,O,F,N,_),Z=y(I,W);return i(O,Z,_),Z?!0:F.length>0||N.length>0}function k(I,O,_){var B;if(_){B=O;for(var F=new Array(O.length),z=0;z<O.length;++z){var N=O[z];F[z]=[N[0],N[1],_[z]]}O=F}for(var W=E(I,O,!!_);m(I,O,!!_);)W=!0;if(_&&W){B.length=0,_.length=0;for(var z=0;z<O.length;++z){var N=O[z];B.push([N[0],N[1]]),_.push(N[2])}}return W}},3637:function(v,p,r){v.exports=w;var t=r(6504),o=r(8697),n=r(5572),l=r(7721),u=r(544),f=r(2653),g=r(8987);function h(c,a){return n(t(c[0],a[1]),t(c[1],a[0]))}function w(c,a,d,x){var T=u(a,c),C=u(x,d),y=h(T,C);if(l(y)===0)return null;var S=u(c,d),A=h(C,S),i=o(A,y),E=g(T,i),m=f(c,E);return m}},3642:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},6729:function(v,p,r){var t=r(3642),o=r(395);v.exports=n;function n(g){var h,w,c,a,d,x,T,C,i,y,S;if(g||(g={}),C=(g.nshades||72)-1,T=g.format||"hex",x=g.colormap,x||(x="jet"),typeof x=="string"){if(x=x.toLowerCase(),!t[x])throw Error(x+" not a supported colorscale");d=t[x]}else if(Array.isArray(x))d=x.slice();else throw Error("unsupported colormap option",x);if(d.length>C+1)throw new Error(x+" map requires nshades to be at least size "+d.length);Array.isArray(g.alpha)?g.alpha.length!==2?y=[1,1]:y=g.alpha.slice():typeof g.alpha=="number"?y=[g.alpha,g.alpha]:y=[1,1],h=d.map(function(k){return Math.round(k.index*C)}),y[0]=Math.min(Math.max(y[0],0),1),y[1]=Math.min(Math.max(y[1],0),1);var A=d.map(function(k,I){var O=d[I].index,_=d[I].rgb.slice();return _.length===4&&_[3]>=0&&_[3]<=1||(_[3]=y[0]+(y[1]-y[0])*O),_}),i=[];for(S=0;S<h.length-1;++S){a=h[S+1]-h[S],w=A[S],c=A[S+1];for(var E=0;E<a;E++){var m=E/a;i.push([Math.round(o(w[0],c[0],m)),Math.round(o(w[1],c[1],m)),Math.round(o(w[2],c[2],m)),o(w[3],c[3],m)])}}return i.push(d[d.length-1].rgb.concat(y[1])),T==="hex"?i=i.map(u):T==="rgbaString"?i=i.map(f):T==="float"&&(i=i.map(l)),i}function l(g){return[g[0]/255,g[1]/255,g[2]/255,g[3]]}function u(g){for(var h,w="#",c=0;c<3;++c)h=g[c],h=h.toString(16),w+=("00"+h).substr(h.length);return w}function f(g){return"rgba("+g.join(",")+")"}},3140:function(v,p,r){v.exports=g;var t=r(3250),o=r(8572),n=r(9362),l=r(5382),u=r(8210);function f(h,w,c){var a=n(h[0],-w[0]),d=n(h[1],-w[1]),x=n(c[0],-w[0]),T=n(c[1],-w[1]),C=u(l(a,x),l(d,T));return C[C.length-1]>=0}function g(h,w,c,a){var d=t(w,c,a);if(d===0){var x=o(t(h,w,c)),T=o(t(h,w,a));if(x===T){if(x===0){var C=f(h,w,c),y=f(h,w,a);return C===y?0:C?1:-1}return 0}else{if(T===0)return x>0||f(h,w,a)?-1:1;if(x===0)return T>0||f(h,w,c)?1:-1}return o(T-x)}var S=t(h,w,c);if(S>0)return d>0&&t(h,w,a)>0?1:-1;if(S<0)return d>0||t(h,w,a)>0?1:-1;var A=t(h,w,a);return A>0||f(h,w,c)?1:-1}},8572:function(v){v.exports=function(r){return r<0?-1:r>0?1:0}},8507:function(v){v.exports=t;var p=Math.min;function r(o,n){return o-n}function t(o,n){var l=o.length,u=o.length-n.length;if(u)return u;switch(l){case 0:return 0;case 1:return o[0]-n[0];case 2:return o[0]+o[1]-n[0]-n[1]||p(o[0],o[1])-p(n[0],n[1]);case 3:var f=o[0]+o[1],g=n[0]+n[1];if(u=f+o[2]-(g+n[2]),u)return u;var h=p(o[0],o[1]),w=p(n[0],n[1]);return p(h,o[2])-p(w,n[2])||p(h+o[2],f)-p(w+n[2],g);case 4:var c=o[0],a=o[1],d=o[2],x=o[3],T=n[0],C=n[1],y=n[2],S=n[3];return c+a+d+x-(T+C+y+S)||p(c,a,d,x)-p(T,C,y,S,T)||p(c+a,c+d,c+x,a+d,a+x,d+x)-p(T+C,T+y,T+S,C+y,C+S,y+S)||p(c+a+d,c+a+x,c+d+x,a+d+x)-p(T+C+y,T+C+S,T+y+S,C+y+S);default:for(var A=o.slice().sort(r),i=n.slice().sort(r),E=0;E<l;++E)if(u=A[E]-i[E],u)return u;return 0}}},3788:function(v,p,r){var t=r(8507),o=r(2419);v.exports=n;function n(l,u){return t(l,u)||o(l)-o(u)}},7352:function(v,p,r){var t=r(5721),o=r(4750),n=r(2690);v.exports=l;function l(u){var f=u.length;if(f===0)return[];if(f===1)return[[0]];var g=u[0].length;return g===0?[]:g===1?t(u):g===2?o(u):n(u,g)}},5721:function(v){v.exports=p;function p(r){for(var t=0,o=0,n=1;n<r.length;++n)r[n][0]<r[t][0]&&(t=n),r[n][0]>r[o][0]&&(o=n);return t<o?[[t],[o]]:t>o?[[o],[t]]:[[t]]}},4750:function(v,p,r){v.exports=o;var t=r(3090);function o(n){var l=t(n),u=l.length;if(u<=2)return[];for(var f=new Array(u),g=l[u-1],h=0;h<u;++h){var w=l[h];f[h]=[g,w],g=w}return f}},2690:function(v,p,r){v.exports=u;var t=r(8954),o=r(3952);function n(f,g){for(var h=f.length,w=new Array(h),c=0;c<g.length;++c)w[c]=f[g[c]];for(var a=g.length,c=0;c<h;++c)g.indexOf(c)<0&&(w[a++]=f[c]);return w}function l(f,g){for(var h=f.length,w=g.length,c=0;c<h;++c)for(var a=f[c],d=0;d<a.length;++d){var x=a[d];if(x<w)a[d]=g[x];else{x=x-w;for(var T=0;T<w;++T)x>=g[T]&&(x+=1);a[d]=x}}return f}function u(f,g){try{return t(f,!0)}catch{var h=o(f);if(h.length<=g)return[];var w=n(f,h),c=t(w,!0);return l(c,h)}}},4769:function(v){function p(t,o,n,l,u,f){var g=6*u*u-6*u,h=3*u*u-4*u+1,w=-6*u*u+6*u,c=3*u*u-2*u;if(t.length){f||(f=new Array(t.length));for(var a=t.length-1;a>=0;--a)f[a]=g*t[a]+h*o[a]+w*n[a]+c*l[a];return f}return g*t+h*o+w*n[a]+c*l}function r(t,o,n,l,u,f){var g=u-1,h=u*u,w=g*g,c=(1+2*u)*w,a=u*w,d=h*(3-2*u),x=h*g;if(t.length){f||(f=new Array(t.length));for(var T=t.length-1;T>=0;--T)f[T]=c*t[T]+a*o[T]+d*n[T]+x*l[T];return f}return c*t+a*o+d*n+x*l}v.exports=r,v.exports.derivative=p},7642:function(v,p,r){var t=r(8954),o=r(1682);v.exports=f;function n(g,h){this.point=g,this.index=h}function l(g,h){for(var w=g.point,c=h.point,a=w.length,d=0;d<a;++d){var x=c[d]-w[d];if(x)return x}return 0}function u(g,h,w){if(g===1)return w?[[-1,0]]:[];var c=h.map(function(C,y){return[C[0],y]});c.sort(function(C,y){return C[0]-y[0]});for(var a=new Array(g-1),d=1;d<g;++d){var x=c[d-1],T=c[d];a[d-1]=[x[1],T[1]]}return w&&a.push([-1,a[0][1]],[a[g-1][1],-1]),a}function f(g,h){var w=g.length;if(w===0)return[];var c=g[0].length;if(c<1)return[];if(c===1)return u(w,g,h);for(var a=new Array(w),d=1,x=0;x<w;++x){for(var T=g[x],C=new Array(c+1),y=0,S=0;S<c;++S){var A=T[S];C[S]=A,y+=A*A}C[c]=y,a[x]=new n(C,x),d=Math.max(y,d)}o(a,l),w=a.length;for(var i=new Array(w+c+1),E=new Array(w+c+1),m=(c+1)*(c+1)*d,k=new Array(c+1),x=0;x<=c;++x)k[x]=0;k[c]=m,i[0]=k.slice(),E[0]=-1;for(var x=0;x<=c;++x){var C=k.slice();C[x]=1,i[x+1]=C,E[x+1]=-1}for(var x=0;x<w;++x){var I=a[x];i[x+c+1]=I.point,E[x+c+1]=I.index}var O=t(i,!1);if(h?O=O.filter(function(_){for(var B=0,F=0;F<=c;++F){var z=E[_[F]];if(z<0&&++B>=2)return!1;_[F]=z}return!0}):O=O.filter(function(_){for(var B=0;B<=c;++B){var F=E[_[B]];if(F<0)return!1;_[B]=F}return!0}),c&1)for(var x=0;x<O.length;++x){var I=O[x],C=I[0];I[0]=I[1],I[1]=C}return O}},2361:function(v){var p=!1;if(typeof Float64Array<"u"){var r=new Float64Array(1),t=new Uint32Array(r.buffer);if(r[0]=1,p=!0,t[1]===1072693248){let n=function(f,g){return t[0]=f,t[1]=g,r[0]},l=function(f){return r[0]=f,t[0]},u=function(f){return r[0]=f,t[1]};v.exports=function(g){return r[0]=g,[t[0],t[1]]},v.exports.pack=n,v.exports.lo=l,v.exports.hi=u}else if(t[0]===1072693248){let n=function(f,g){return t[1]=f,t[0]=g,r[0]},l=function(f){return r[0]=f,t[1]},u=function(f){return r[0]=f,t[0]};v.exports=function(g){return r[0]=g,[t[1],t[0]]},v.exports.pack=n,v.exports.lo=l,v.exports.hi=u}else p=!1}if(!p){let n=function(f,g){return o.writeUInt32LE(f,0,!0),o.writeUInt32LE(g,4,!0),o.readDoubleLE(0,!0)},l=function(f){return o.writeDoubleLE(f,0,!0),o.readUInt32LE(0,!0)},u=function(f){return o.writeDoubleLE(f,0,!0),o.readUInt32LE(4,!0)};var o=new Buffer(8);v.exports=function(g){return o.writeDoubleLE(g,0,!0),[o.readUInt32LE(0,!0),o.readUInt32LE(4,!0)]},v.exports.pack=n,v.exports.lo=l,v.exports.hi=u}v.exports.sign=function(n){return v.exports.hi(n)>>>31},v.exports.exponent=function(n){var l=v.exports.hi(n);return(l<<1>>>21)-1023},v.exports.fraction=function(n){var l=v.exports.lo(n),u=v.exports.hi(n),f=u&(1<<20)-1;return u&2146435072&&(f+=1048576),[l,f]},v.exports.denormalized=function(n){var l=v.exports.hi(n);return!(l&2146435072)}},1338:function(v){function p(o,n,l){var u=o[l]|0;if(u<=0)return[];var f=new Array(u),g;if(l===o.length-1)for(g=0;g<u;++g)f[g]=n;else for(g=0;g<u;++g)f[g]=p(o,n,l+1);return f}function r(o,n){var l,u;for(l=new Array(o),u=0;u<o;++u)l[u]=n;return l}function t(o,n){switch(typeof n>"u"&&(n=0),typeof o){case"number":if(o>0)return r(o|0,n);break;case"object":if(typeof o.length=="number")return p(o,n,0);break}return[]}v.exports=t},3134:function(v,p,r){v.exports=o;var t=r(1682);function o(n,l){var u=n.length;if(typeof l!="number"){l=0;for(var f=0;f<u;++f){var g=n[f];l=Math.max(l,g[0],g[1])}l=(l|0)+1}l=l|0;for(var h=new Array(l),f=0;f<l;++f)h[f]=[];for(var f=0;f<u;++f){var g=n[f];h[g[0]].push(g[1]),h[g[1]].push(g[0])}for(var w=0;w<l;++w)t(h[w],function(c,a){return c-a});return h}},5033:function(v){v.exports=p;function p(r,t,o){var n=t||0,l=o||1;return[[r[12]+r[0],r[13]+r[1],r[14]+r[2],r[15]+r[3]],[r[12]-r[0],r[13]-r[1],r[14]-r[2],r[15]-r[3]],[r[12]+r[4],r[13]+r[5],r[14]+r[6],r[15]+r[7]],[r[12]-r[4],r[13]-r[5],r[14]-r[6],r[15]-r[7]],[n*r[12]+r[8],n*r[13]+r[9],n*r[14]+r[10],n*r[15]+r[11]],[l*r[12]-r[8],l*r[13]-r[9],l*r[14]-r[10],l*r[15]-r[11]]]}},9215:function(v,p,r){v.exports=g;var t=r(4769),o=r(2478);function n(h,w,c){return Math.min(w,Math.max(h,c))}function l(h,w,c){this.dimension=h.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var a=0;a<this.dimension;++a)this.bounds[0][a]=-1/0,this.bounds[1][a]=1/0;this._state=h.slice().reverse(),this._velocity=w.slice().reverse(),this._time=[c],this._scratch=[h.slice(),h.slice(),h.slice(),h.slice(),h.slice()]}var u=l.prototype;u.flush=function(h){var w=o.gt(this._time,h)-1;w<=0||(this._time.splice(0,w),this._state.splice(0,w*this.dimension),this._velocity.splice(0,w*this.dimension))},u.curve=function(h){var w=this._time,c=w.length,a=o.le(w,h),d=this._scratch[0],x=this._state,T=this._velocity,C=this.dimension,y=this.bounds;if(a<0)for(var S=C-1,A=0;A<C;++A,--S)d[A]=x[S];else if(a>=c-1)for(var S=x.length-1,i=h-w[c-1],A=0;A<C;++A,--S)d[A]=x[S]+i*T[S];else{for(var S=C*(a+1)-1,E=w[a],m=w[a+1],k=m-E||1,I=this._scratch[1],O=this._scratch[2],_=this._scratch[3],B=this._scratch[4],F=!0,A=0;A<C;++A,--S)I[A]=x[S],_[A]=T[S]*k,O[A]=x[S+C],B[A]=T[S+C]*k,F=F&&I[A]===O[A]&&_[A]===B[A]&&_[A]===0;if(F)for(var A=0;A<C;++A)d[A]=I[A];else t(I,_,O,B,(h-E)/k,d)}for(var z=y[0],N=y[1],A=0;A<C;++A)d[A]=n(z[A],N[A],d[A]);return d},u.dcurve=function(h){var w=this._time,c=w.length,a=o.le(w,h),d=this._scratch[0],x=this._state,T=this._velocity,C=this.dimension;if(a>=c-1){var y=x.length-1;h-w[c-1];for(var S=0;S<C;++S,--y)d[S]=T[y]}else{for(var y=C*(a+1)-1,A=w[a],i=w[a+1],E=i-A||1,m=this._scratch[1],k=this._scratch[2],I=this._scratch[3],O=this._scratch[4],_=!0,S=0;S<C;++S,--y)m[S]=x[y],I[S]=T[y]*E,k[S]=x[y+C],O[S]=T[y+C]*E,_=_&&m[S]===k[S]&&I[S]===O[S]&&I[S]===0;if(_)for(var S=0;S<C;++S)d[S]=0;else{t.derivative(m,I,k,O,(h-A)/E,d);for(var S=0;S<C;++S)d[S]/=E}}return d},u.lastT=function(){var h=this._time;return h[h.length-1]},u.stable=function(){for(var h=this._velocity,w=h.length,c=this.dimension-1;c>=0;--c)if(h[--w])return!1;return!0},u.jump=function(h){var w=this.lastT(),c=this.dimension;if(!(h<w||arguments.length!==c+1)){var a=this._state,d=this._velocity,x=a.length-this.dimension,T=this.bounds,C=T[0],y=T[1];this._time.push(w,h);for(var S=0;S<2;++S)for(var A=0;A<c;++A)a.push(a[x++]),d.push(0);this._time.push(h);for(var A=c;A>0;--A)a.push(n(C[A-1],y[A-1],arguments[A])),d.push(0)}},u.push=function(h){var w=this.lastT(),c=this.dimension;if(!(h<w||arguments.length!==c+1)){var a=this._state,d=this._velocity,x=a.length-this.dimension,T=h-w,C=this.bounds,y=C[0],S=C[1],A=T>1e-6?1/T:0;this._time.push(h);for(var i=c;i>0;--i){var E=n(y[i-1],S[i-1],arguments[i]);a.push(E),d.push((E-a[x++])*A)}}},u.set=function(h){var w=this.dimension;if(!(h<this.lastT()||arguments.length!==w+1)){var c=this._state,a=this._velocity,d=this.bounds,x=d[0],T=d[1];this._time.push(h);for(var C=w;C>0;--C)c.push(n(x[C-1],T[C-1],arguments[C])),a.push(0)}},u.move=function(h){var w=this.lastT(),c=this.dimension;if(!(h<=w||arguments.length!==c+1)){var a=this._state,d=this._velocity,x=a.length-this.dimension,T=this.bounds,C=T[0],y=T[1],S=h-w,A=S>1e-6?1/S:0;this._time.push(h);for(var i=c;i>0;--i){var E=arguments[i];a.push(n(C[i-1],y[i-1],a[x++]+E)),d.push(E*A)}}},u.idle=function(h){var w=this.lastT();if(!(h<w)){var c=this.dimension,a=this._state,d=this._velocity,x=a.length-c,T=this.bounds,C=T[0],y=T[1],S=h-w;this._time.push(h);for(var A=c-1;A>=0;--A)a.push(n(C[A],y[A],a[x]+S*d[x])),d.push(0),x+=1}};function f(h){for(var w=new Array(h),c=0;c<h;++c)w[c]=0;return w}function g(h,w,c){switch(arguments.length){case 0:return new l([0],[0],0);case 1:if(typeof h=="number"){var a=f(h);return new l(a,a,0)}else return new l(h,f(h.length),0);case 2:if(typeof w=="number"){var a=f(h.length);return new l(h,a,+w)}else c=0;case 3:if(h.length!==w.length)throw new Error("state and velocity lengths must match");return new l(h,w,c)}}},3840:function(v){v.exports=C;var p=0,r=1;function t(y,S,A,i,E,m){this._color=y,this.key=S,this.value=A,this.left=i,this.right=E,this._count=m}function o(y){return new t(y._color,y.key,y.value,y.left,y.right,y._count)}function n(y,S){return new t(y,S.key,S.value,S.left,S.right,S._count)}function l(y){y._count=1+(y.left?y.left._count:0)+(y.right?y.right._count:0)}function u(y,S){this._compare=y,this.root=S}var f=u.prototype;Object.defineProperty(f,"keys",{get:function(){var y=[];return this.forEach(function(S,A){y.push(S)}),y}}),Object.defineProperty(f,"values",{get:function(){var y=[];return this.forEach(function(S,A){y.push(A)}),y}}),Object.defineProperty(f,"length",{get:function(){return this.root?this.root._count:0}}),f.insert=function(y,S){for(var A=this._compare,i=this.root,E=[],m=[];i;){var k=A(y,i.key);E.push(i),m.push(k),k<=0?i=i.left:i=i.right}E.push(new t(p,y,S,null,null,1));for(var I=E.length-2;I>=0;--I){var i=E[I];m[I]<=0?E[I]=new t(i._color,i.key,i.value,E[I+1],i.right,i._count+1):E[I]=new t(i._color,i.key,i.value,i.left,E[I+1],i._count+1)}for(var I=E.length-1;I>1;--I){var O=E[I-1],i=E[I];if(O._color===r||i._color===r)break;var _=E[I-2];if(_.left===O)if(O.left===i){var B=_.right;if(B&&B._color===p)O._color=r,_.right=n(r,B),_._color=p,I-=1;else{if(_._color=p,_.left=O.right,O._color=r,O.right=_,E[I-2]=O,E[I-1]=i,l(_),l(O),I>=3){var F=E[I-3];F.left===_?F.left=O:F.right=O}break}}else{var B=_.right;if(B&&B._color===p)O._color=r,_.right=n(r,B),_._color=p,I-=1;else{if(O.right=i.left,_._color=p,_.left=i.right,i._color=r,i.left=O,i.right=_,E[I-2]=i,E[I-1]=O,l(_),l(O),l(i),I>=3){var F=E[I-3];F.left===_?F.left=i:F.right=i}break}}else if(O.right===i){var B=_.left;if(B&&B._color===p)O._color=r,_.left=n(r,B),_._color=p,I-=1;else{if(_._color=p,_.right=O.left,O._color=r,O.left=_,E[I-2]=O,E[I-1]=i,l(_),l(O),I>=3){var F=E[I-3];F.right===_?F.right=O:F.left=O}break}}else{var B=_.left;if(B&&B._color===p)O._color=r,_.left=n(r,B),_._color=p,I-=1;else{if(O.left=i.right,_._color=p,_.right=i.left,i._color=r,i.right=O,i.left=_,E[I-2]=i,E[I-1]=O,l(_),l(O),l(i),I>=3){var F=E[I-3];F.right===_?F.right=i:F.left=i}break}}}return E[0]._color=r,new u(A,E[0])};function g(y,S){if(S.left){var A=g(y,S.left);if(A)return A}var A=y(S.key,S.value);if(A)return A;if(S.right)return g(y,S.right)}function h(y,S,A,i){var E=S(y,i.key);if(E<=0){if(i.left){var m=h(y,S,A,i.left);if(m)return m}var m=A(i.key,i.value);if(m)return m}if(i.right)return h(y,S,A,i.right)}function w(y,S,A,i,E){var m=A(y,E.key),k=A(S,E.key),I;if(m<=0&&(E.left&&(I=w(y,S,A,i,E.left),I)||k>0&&(I=i(E.key,E.value),I)))return I;if(k>0&&E.right)return w(y,S,A,i,E.right)}f.forEach=function(S,A,i){if(this.root)switch(arguments.length){case 1:return g(S,this.root);case 2:return h(A,this._compare,S,this.root);case 3:return this._compare(A,i)>=0?void 0:w(A,i,this._compare,S,this.root)}},Object.defineProperty(f,"begin",{get:function(){for(var y=[],S=this.root;S;)y.push(S),S=S.left;return new c(this,y)}}),Object.defineProperty(f,"end",{get:function(){for(var y=[],S=this.root;S;)y.push(S),S=S.right;return new c(this,y)}}),f.at=function(y){if(y<0)return new c(this,[]);for(var S=this.root,A=[];;){if(A.push(S),S.left){if(y<S.left._count){S=S.left;continue}y-=S.left._count}if(!y)return new c(this,A);if(y-=1,S.right){if(y>=S.right._count)break;S=S.right}else break}return new c(this,[])},f.ge=function(y){for(var S=this._compare,A=this.root,i=[],E=0;A;){var m=S(y,A.key);i.push(A),m<=0&&(E=i.length),m<=0?A=A.left:A=A.right}return i.length=E,new c(this,i)},f.gt=function(y){for(var S=this._compare,A=this.root,i=[],E=0;A;){var m=S(y,A.key);i.push(A),m<0&&(E=i.length),m<0?A=A.left:A=A.right}return i.length=E,new c(this,i)},f.lt=function(y){for(var S=this._compare,A=this.root,i=[],E=0;A;){var m=S(y,A.key);i.push(A),m>0&&(E=i.length),m<=0?A=A.left:A=A.right}return i.length=E,new c(this,i)},f.le=function(y){for(var S=this._compare,A=this.root,i=[],E=0;A;){var m=S(y,A.key);i.push(A),m>=0&&(E=i.length),m<0?A=A.left:A=A.right}return i.length=E,new c(this,i)},f.find=function(y){for(var S=this._compare,A=this.root,i=[];A;){var E=S(y,A.key);if(i.push(A),E===0)return new c(this,i);E<=0?A=A.left:A=A.right}return new c(this,[])},f.remove=function(y){var S=this.find(y);return S?S.remove():this},f.get=function(y){for(var S=this._compare,A=this.root;A;){var i=S(y,A.key);if(i===0)return A.value;i<=0?A=A.left:A=A.right}};function c(y,S){this.tree=y,this._stack=S}var a=c.prototype;Object.defineProperty(a,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(a,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),a.clone=function(){return new c(this.tree,this._stack.slice())};function d(y,S){y.key=S.key,y.value=S.value,y.left=S.left,y.right=S.right,y._color=S._color,y._count=S._count}function x(y){for(var S,A,i,E,m=y.length-1;m>=0;--m){if(S=y[m],m===0){S._color=r;return}if(A=y[m-1],A.left===S){if(i=A.right,i.right&&i.right._color===p){if(i=A.right=o(i),E=i.right=o(i.right),A.right=i.left,i.left=A,i.right=E,i._color=A._color,S._color=r,A._color=r,E._color=r,l(A),l(i),m>1){var k=y[m-2];k.left===A?k.left=i:k.right=i}y[m-1]=i;return}else if(i.left&&i.left._color===p){if(i=A.right=o(i),E=i.left=o(i.left),A.right=E.left,i.left=E.right,E.left=A,E.right=i,E._color=A._color,A._color=r,i._color=r,S._color=r,l(A),l(i),l(E),m>1){var k=y[m-2];k.left===A?k.left=E:k.right=E}y[m-1]=E;return}if(i._color===r)if(A._color===p){A._color=r,A.right=n(p,i);return}else{A.right=n(p,i);continue}else{if(i=o(i),A.right=i.left,i.left=A,i._color=A._color,A._color=p,l(A),l(i),m>1){var k=y[m-2];k.left===A?k.left=i:k.right=i}y[m-1]=i,y[m]=A,m+1<y.length?y[m+1]=S:y.push(S),m=m+2}}else{if(i=A.left,i.left&&i.left._color===p){if(i=A.left=o(i),E=i.left=o(i.left),A.left=i.right,i.right=A,i.left=E,i._color=A._color,S._color=r,A._color=r,E._color=r,l(A),l(i),m>1){var k=y[m-2];k.right===A?k.right=i:k.left=i}y[m-1]=i;return}else if(i.right&&i.right._color===p){if(i=A.left=o(i),E=i.right=o(i.right),A.left=E.right,i.right=E.left,E.right=A,E.left=i,E._color=A._color,A._color=r,i._color=r,S._color=r,l(A),l(i),l(E),m>1){var k=y[m-2];k.right===A?k.right=E:k.left=E}y[m-1]=E;return}if(i._color===r)if(A._color===p){A._color=r,A.left=n(p,i);return}else{A.left=n(p,i);continue}else{if(i=o(i),A.left=i.right,i.right=A,i._color=A._color,A._color=p,l(A),l(i),m>1){var k=y[m-2];k.right===A?k.right=i:k.left=i}y[m-1]=i,y[m]=A,m+1<y.length?y[m+1]=S:y.push(S),m=m+2}}}}a.remove=function(){var y=this._stack;if(y.length===0)return this.tree;var S=new Array(y.length),A=y[y.length-1];S[S.length-1]=new t(A._color,A.key,A.value,A.left,A.right,A._count);for(var i=y.length-2;i>=0;--i){var A=y[i];A.left===y[i+1]?S[i]=new t(A._color,A.key,A.value,S[i+1],A.right,A._count):S[i]=new t(A._color,A.key,A.value,A.left,S[i+1],A._count)}if(A=S[S.length-1],A.left&&A.right){var E=S.length;for(A=A.left;A.right;)S.push(A),A=A.right;var m=S[E-1];S.push(new t(A._color,m.key,m.value,A.left,A.right,A._count)),S[E-1].key=A.key,S[E-1].value=A.value;for(var i=S.length-2;i>=E;--i)A=S[i],S[i]=new t(A._color,A.key,A.value,A.left,S[i+1],A._count);S[E-1].left=S[E]}if(A=S[S.length-1],A._color===p){var k=S[S.length-2];k.left===A?k.left=null:k.right===A&&(k.right=null),S.pop();for(var i=0;i<S.length;++i)S[i]._count--;return new u(this.tree._compare,S[0])}else if(A.left||A.right){A.left?d(A,A.left):A.right&&d(A,A.right),A._color=r;for(var i=0;i<S.length-1;++i)S[i]._count--;return new u(this.tree._compare,S[0])}else{if(S.length===1)return new u(this.tree._compare,null);for(var i=0;i<S.length;++i)S[i]._count--;var I=S[S.length-2];x(S),I.left===A?I.left=null:I.right=null}return new u(this.tree._compare,S[0])},Object.defineProperty(a,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(a,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(a,"index",{get:function(){var y=0,S=this._stack;if(S.length===0){var A=this.tree.root;return A?A._count:0}else S[S.length-1].left&&(y=S[S.length-1].left._count);for(var i=S.length-2;i>=0;--i)S[i+1]===S[i].right&&(++y,S[i].left&&(y+=S[i].left._count));return y},enumerable:!0}),a.next=function(){var y=this._stack;if(y.length!==0){var S=y[y.length-1];if(S.right)for(S=S.right;S;)y.push(S),S=S.left;else for(y.pop();y.length>0&&y[y.length-1].right===S;)S=y[y.length-1],y.pop()}},Object.defineProperty(a,"hasNext",{get:function(){var y=this._stack;if(y.length===0)return!1;if(y[y.length-1].right)return!0;for(var S=y.length-1;S>0;--S)if(y[S-1].left===y[S])return!0;return!1}}),a.update=function(y){var S=this._stack;if(S.length===0)throw new Error("Can't update empty node!");var A=new Array(S.length),i=S[S.length-1];A[A.length-1]=new t(i._color,i.key,y,i.left,i.right,i._count);for(var E=S.length-2;E>=0;--E)i=S[E],i.left===S[E+1]?A[E]=new t(i._color,i.key,i.value,A[E+1],i.right,i._count):A[E]=new t(i._color,i.key,i.value,i.left,A[E+1],i._count);return new u(this.tree._compare,A[0])},a.prev=function(){var y=this._stack;if(y.length!==0){var S=y[y.length-1];if(S.left)for(S=S.left;S;)y.push(S),S=S.right;else for(y.pop();y.length>0&&y[y.length-1].left===S;)S=y[y.length-1],y.pop()}},Object.defineProperty(a,"hasPrev",{get:function(){var y=this._stack;if(y.length===0)return!1;if(y[y.length-1].left)return!0;for(var S=y.length-1;S>0;--S)if(y[S-1].right===y[S])return!0;return!1}});function T(y,S){return y<S?-1:y>S?1:0}function C(y){return new u(y||T,null)}},3837:function(v,p,r){v.exports=I;var t=r(4935),o=r(501),n=r(5304),l=r(6429),u=r(6444),f=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),g=ArrayBuffer,h=DataView;function w(O){return g.isView(O)&&!(O instanceof h)}function c(O){return Array.isArray(O)||w(O)}function a(O,_){return O[0]=_[0],O[1]=_[1],O[2]=_[2],O}function d(O){this.gl=O,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickFontStyle=["normal","normal","normal"],this.tickFontWeight=["normal","normal","normal"],this.tickFontVariant=["normal","normal","normal"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["sans-serif","sans-serif","sans-serif"],this.labelFontStyle=["normal","normal","normal"],this.labelFontWeight=["normal","normal","normal"],this.labelFontVariant=["normal","normal","normal"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(O)}var x=d.prototype;x.update=function(O){O=O||{};function _(Q,se,J){if(J in O){var G=O[J],oe=this[J],te;(Q?c(G)&&c(G[0]):c(G))?this[J]=te=[se(G[0]),se(G[1]),se(G[2])]:this[J]=te=[se(G),se(G),se(G)];for(var fe=0;fe<3;++fe)if(te[fe]!==oe[fe])return!0}return!1}var B=_.bind(this,!1,Number),F=_.bind(this,!1,Boolean),z=_.bind(this,!1,String),N=_.bind(this,!0,function(Q){if(c(Q)){if(Q.length===3)return[+Q[0],+Q[1],+Q[2],1];if(Q.length===4)return[+Q[0],+Q[1],+Q[2],+Q[3]]}return[0,0,0,1]}),W,Z=!1,q=!1;if("bounds"in O)for(var re=O.bounds,le=0;le<2;++le)for(var ie=0;ie<3;++ie)re[le][ie]!==this.bounds[le][ie]&&(q=!0),this.bounds[le][ie]=re[le][ie];if("ticks"in O){W=O.ticks,Z=!0,this.autoTicks=!1;for(var le=0;le<3;++le)this.tickSpacing[le]=0}else B("tickSpacing")&&(this.autoTicks=!0,q=!0);if(this._firstInit&&("ticks"in O||"tickSpacing"in O||(this.autoTicks=!0),q=!0,Z=!0,this._firstInit=!1),q&&this.autoTicks&&(W=u.create(this.bounds,this.tickSpacing),Z=!0),Z){for(var le=0;le<3;++le)W[le].sort(function(se,J){return se.x-J.x});u.equal(W,this.ticks)?Z=!1:this.ticks=W}F("tickEnable"),z("tickFont")&&(Z=!0),z("tickFontStyle")&&(Z=!0),z("tickFontWeight")&&(Z=!0),z("tickFontVariant")&&(Z=!0),B("tickSize"),B("tickAngle"),B("tickPad"),N("tickColor");var K=z("labels");z("labelFont")&&(K=!0),z("labelFontStyle")&&(K=!0),z("labelFontWeight")&&(K=!0),z("labelFontVariant")&&(K=!0),F("labelEnable"),B("labelSize"),B("labelPad"),N("labelColor"),F("lineEnable"),F("lineMirror"),B("lineWidth"),N("lineColor"),F("lineTickEnable"),F("lineTickMirror"),B("lineTickLength"),B("lineTickWidth"),N("lineTickColor"),F("gridEnable"),B("gridWidth"),N("gridColor"),F("zeroEnable"),N("zeroLineColor"),B("zeroLineWidth"),F("backgroundEnable"),N("backgroundColor");var $=[{family:this.labelFont[0],style:this.labelFontStyle[0],weight:this.labelFontWeight[0],variant:this.labelFontVariant[0]},{family:this.labelFont[1],style:this.labelFontStyle[1],weight:this.labelFontWeight[1],variant:this.labelFontVariant[1]},{family:this.labelFont[2],style:this.labelFontStyle[2],weight:this.labelFontWeight[2],variant:this.labelFontVariant[2]}],X=[{family:this.tickFont[0],style:this.tickFontStyle[0],weight:this.tickFontWeight[0],variant:this.tickFontVariant[0]},{family:this.tickFont[1],style:this.tickFontStyle[1],weight:this.tickFontWeight[1],variant:this.tickFontVariant[1]},{family:this.tickFont[2],style:this.tickFontStyle[2],weight:this.tickFontWeight[2],variant:this.tickFontVariant[2]}];this._text?this._text&&(K||Z)&&this._text.update(this.bounds,this.labels,$,this.ticks,X):this._text=t(this.gl,this.bounds,this.labels,$,this.ticks,X),this._lines&&Z&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=o(this.gl,this.bounds,this.ticks))};function T(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var C=[new T,new T,new T];function y(O,_,B,F,z){for(var N=O.primalOffset,W=O.primalMinor,Z=O.mirrorOffset,q=O.mirrorMinor,re=F[_],le=0;le<3;++le)if(_!==le){var ie=N,K=Z,$=W,X=q;re&1<<le&&(ie=Z,K=N,$=q,X=W),ie[le]=B[0][le],K[le]=B[1][le],z[le]>0?($[le]=-1,X[le]=0):($[le]=0,X[le]=1)}}var S=[0,0,0],A={model:f,view:f,projection:f,_ortho:!1};x.isOpaque=function(){return!0},x.isTransparent=function(){return!1},x.drawTransparent=function(O){};var i=0,E=[0,0,0],m=[0,0,0],k=[0,0,0];x.draw=function(O){O=O||A;for(var J=this.gl,_=O.model||f,B=O.view||f,F=O.projection||f,z=this.bounds,N=O._ortho||!1,W=l(_,B,F,z,N),Z=W.cubeEdges,q=W.axis,re=B[12],le=B[13],ie=B[14],K=B[15],$=N?2:1,X=$*this.pixelRatio*(F[3]*re+F[7]*le+F[11]*ie+F[15]*K)/J.drawingBufferHeight,Q=0;Q<3;++Q)this.lastCubeProps.cubeEdges[Q]=Z[Q],this.lastCubeProps.axis[Q]=q[Q];for(var se=C,Q=0;Q<3;++Q)y(C[Q],Q,this.bounds,Z,q);for(var J=this.gl,G=S,Q=0;Q<3;++Q)this.backgroundEnable[Q]?G[Q]=q[Q]:G[Q]=0;this._background.draw(_,B,F,z,G,this.backgroundColor),this._lines.bind(_,B,F,this);for(var Q=0;Q<3;++Q){var oe=[0,0,0];q[Q]>0?oe[Q]=z[1][Q]:oe[Q]=z[0][Q];for(var te=0;te<2;++te){var fe=(Q+1+te)%3,ge=(Q+1+(te^1))%3;this.gridEnable[fe]&&this._lines.drawGrid(fe,ge,this.bounds,oe,this.gridColor[fe],this.gridWidth[fe]*this.pixelRatio)}for(var te=0;te<2;++te){var fe=(Q+1+te)%3,ge=(Q+1+(te^1))%3;this.zeroEnable[ge]&&Math.min(z[0][ge],z[1][ge])<=0&&Math.max(z[0][ge],z[1][ge])>=0&&this._lines.drawZero(fe,ge,this.bounds,oe,this.zeroLineColor[ge],this.zeroLineWidth[ge]*this.pixelRatio)}}for(var Q=0;Q<3;++Q){this.lineEnable[Q]&&this._lines.drawAxisLine(Q,this.bounds,se[Q].primalOffset,this.lineColor[Q],this.lineWidth[Q]*this.pixelRatio),this.lineMirror[Q]&&this._lines.drawAxisLine(Q,this.bounds,se[Q].mirrorOffset,this.lineColor[Q],this.lineWidth[Q]*this.pixelRatio);for(var we=a(E,se[Q].primalMinor),xe=a(m,se[Q].mirrorMinor),Ce=this.lineTickLength,te=0;te<3;++te){var De=X/_[5*te];we[te]*=Ce[te]*De,xe[te]*=Ce[te]*De}this.lineTickEnable[Q]&&this._lines.drawAxisTicks(Q,se[Q].primalOffset,we,this.lineTickColor[Q],this.lineTickWidth[Q]*this.pixelRatio),this.lineTickMirror[Q]&&this._lines.drawAxisTicks(Q,se[Q].mirrorOffset,xe,this.lineTickColor[Q],this.lineTickWidth[Q]*this.pixelRatio)}this._lines.unbind(),this._text.bind(_,B,F,this.pixelRatio);var Oe,Te=.5,Re,Me;function ke($e){Me=[0,0,0],Me[$e]=1}function Se($e,ut,ht){var vt=($e+1)%3,xt=($e+2)%3,St=ut[vt],tt=ut[xt],Ie=ht[vt],Ve=ht[xt];if(St>0&&Ve>0){ke(vt);return}else if(St>0&&Ve<0){ke(vt);return}else if(St<0&&Ve>0){ke(vt);return}else if(St<0&&Ve<0){ke(vt);return}else if(tt>0&&Ie>0){ke(xt);return}else if(tt>0&&Ie<0){ke(xt);return}else if(tt<0&&Ie>0){ke(xt);return}else if(tt<0&&Ie<0){ke(xt);return}}for(var Q=0;Q<3;++Q){for(var He=se[Q].primalMinor,je=se[Q].mirrorMinor,at=a(k,se[Q].primalOffset),te=0;te<3;++te)this.lineTickEnable[Q]&&(at[te]+=X*He[te]*Math.max(this.lineTickLength[te],0)/_[5*te]);var Ze=[0,0,0];if(Ze[Q]=1,this.tickEnable[Q]){this.tickAngle[Q]===-3600?(this.tickAngle[Q]=0,this.tickAlign[Q]="auto"):this.tickAlign[Q]=-1,Re=1,Oe=[this.tickAlign[Q],Te,Re],Oe[0]==="auto"?Oe[0]=i:Oe[0]=parseInt(""+Oe[0]),Me=[0,0,0],Se(Q,He,je);for(var te=0;te<3;++te)at[te]+=X*He[te]*this.tickPad[te]/_[5*te];this._text.drawTicks(Q,this.tickSize[Q],this.tickAngle[Q],at,this.tickColor[Q],Ze,Me,Oe)}if(this.labelEnable[Q]){Re=0,Me=[0,0,0],this.labels[Q].length>4&&(ke(Q),Re=1),Oe=[this.labelAlign[Q],Te,Re],Oe[0]==="auto"?Oe[0]=i:Oe[0]=parseInt(""+Oe[0]);for(var te=0;te<3;++te)at[te]+=X*He[te]*this.labelPad[te]/_[5*te];at[Q]+=.5*(z[0][Q]+z[1][Q]),this._text.drawLabel(Q,this.labelSize[Q],this.labelAngle[Q],at,this.labelColor[Q],[0,0,0],Me,Oe)}}this._text.unbind()},x.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function I(O,_){var B=new d(O);return B.update(_),B}},5304:function(v,p,r){v.exports=f;var t=r(2762),o=r(8116),n=r(1879).bg;function l(g,h,w,c){this.gl=g,this.buffer=h,this.vao=w,this.shader=c}var u=l.prototype;u.draw=function(g,h,w,c,a,d){for(var x=!1,T=0;T<3;++T)x=x||a[T];if(x){var C=this.gl;C.enable(C.POLYGON_OFFSET_FILL),C.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:g,view:h,projection:w,bounds:c,enable:a,colors:d},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),C.disable(C.POLYGON_OFFSET_FILL)}},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function f(g){for(var h=[],w=[],c=0,a=0;a<3;++a)for(var d=(a+1)%3,x=(a+2)%3,T=[0,0,0],C=[0,0,0],y=-1;y<=1;y+=2){w.push(c,c+2,c+1,c+1,c+2,c+3),T[a]=y,C[a]=y;for(var S=-1;S<=1;S+=2){T[d]=S;for(var A=-1;A<=1;A+=2)T[x]=A,h.push(T[0],T[1],T[2],C[0],C[1],C[2]),c+=1}var i=d;d=x,x=i}var E=t(g,new Float32Array(h)),m=t(g,new Uint16Array(w),g.ELEMENT_ARRAY_BUFFER),k=o(g,[{buffer:E,type:g.FLOAT,size:3,offset:0,stride:24},{buffer:E,type:g.FLOAT,size:3,offset:12,stride:24}],m),I=n(g);return I.attributes.position.location=0,I.attributes.normal.location=1,new l(g,E,k,I)}},6429:function(v,p,r){v.exports=y;var t=r(8828),o=r(6760),n=r(5202),l=r(3250),u=new Array(16),f=new Array(8),g=new Array(8),h=new Array(3),w=[0,0,0];(function(){for(var S=0;S<8;++S)f[S]=[1,1,1,1],g[S]=[1,1,1]})();function c(S,A,i){for(var E=0;E<4;++E){S[E]=i[12+E];for(var m=0;m<3;++m)S[E]+=A[m]*i[4*m+E]}}var a=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function d(S){for(var A=0;A<a.length;++A)if(S=n.positive(S,a[A]),S.length<3)return 0;for(var i=S[0],E=i[0]/i[3],m=i[1]/i[3],k=0,A=1;A+1<S.length;++A){var I=S[A],O=S[A+1],_=I[0]/I[3],B=I[1]/I[3],F=O[0]/O[3],z=O[1]/O[3],N=_-E,W=B-m,Z=F-E,q=z-m;k+=Math.abs(N*q-W*Z)}return k}var x=[1,1,1],T=[0,0,0],C={cubeEdges:x,axis:T};function y(S,A,i,E,m){o(u,A,S),o(u,i,u);for(var k=0,I=0;I<2;++I){h[2]=E[I][2];for(var O=0;O<2;++O){h[1]=E[O][1];for(var _=0;_<2;++_)h[0]=E[_][0],c(f[k],h,u),k+=1}}for(var B=-1,I=0;I<8;++I){for(var F=f[I][3],z=0;z<3;++z)g[I][z]=f[I][z]/F;m&&(g[I][2]*=-1),F<0&&(B<0||g[I][2]<g[B][2])&&(B=I)}if(B<0){B=0;for(var N=0;N<3;++N){for(var W=(N+2)%3,Z=(N+1)%3,q=-1,re=-1,le=0;le<2;++le){var ie=le<<N,K=ie+(le<<W)+(1-le<<Z),$=ie+(1-le<<W)+(le<<Z);l(g[ie],g[K],g[$],w)<0||(le?q=1:re=1)}if(q<0||re<0){re>q&&(B|=1<<N);continue}for(var le=0;le<2;++le){var ie=le<<N,K=ie+(le<<W)+(1-le<<Z),$=ie+(1-le<<W)+(le<<Z),X=d([f[ie],f[K],f[$],f[ie+(1<<W)+(1<<Z)]]);le?q=X:re=X}if(re>q){B|=1<<N;continue}}}for(var Q=7^B,se=-1,I=0;I<8;++I)I===B||I===Q||(se<0||g[se][1]>g[I][1])&&(se=I);for(var J=-1,I=0;I<3;++I){var G=se^1<<I;if(!(G===B||G===Q)){J<0&&(J=G);var Z=g[G];Z[0]<g[J][0]&&(J=G)}}for(var oe=-1,I=0;I<3;++I){var G=se^1<<I;if(!(G===B||G===Q||G===J)){oe<0&&(oe=G);var Z=g[G];Z[0]>g[oe][0]&&(oe=G)}}var te=x;te[0]=te[1]=te[2]=0,te[t.log2(J^se)]=se&J,te[t.log2(se^oe)]=se&oe;var fe=oe^7;fe===B||fe===Q?(fe=J^7,te[t.log2(oe^fe)]=fe&oe):te[t.log2(J^fe)]=fe&J;for(var ge=T,we=B,N=0;N<3;++N)we&1<<N?ge[N]=-1:ge[N]=1;return C}},501:function(v,p,r){v.exports=x;var t=r(2762),o=r(8116),n=r(1879).n,l=[0,0,0],u=[0,0,0],f=[0,0,0],g=[0,0,0],h=[1,1];function w(T){return T[0]=T[1]=T[2]=0,T}function c(T,C){return T[0]=C[0],T[1]=C[1],T[2]=C[2],T}function a(T,C,y,S,A,i,E,m){this.gl=T,this.vertBuffer=C,this.vao=y,this.shader=S,this.tickCount=A,this.tickOffset=i,this.gridCount=E,this.gridOffset=m}var d=a.prototype;d.bind=function(T,C,y){this.shader.bind(),this.shader.uniforms.model=T,this.shader.uniforms.view=C,this.shader.uniforms.projection=y,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=h,this.vao.bind()},d.unbind=function(){this.vao.unbind()},d.drawAxisLine=function(T,C,y,S,A){var i=w(u);this.shader.uniforms.majorAxis=u,i[T]=C[1][T]-C[0][T],this.shader.uniforms.minorAxis=i;var E=c(g,y);E[T]+=C[0][T],this.shader.uniforms.offset=E,this.shader.uniforms.lineWidth=A,this.shader.uniforms.color=S;var m=w(f);m[(T+2)%3]=1,this.shader.uniforms.screenAxis=m,this.vao.draw(this.gl.TRIANGLES,6);var m=w(f);m[(T+1)%3]=1,this.shader.uniforms.screenAxis=m,this.vao.draw(this.gl.TRIANGLES,6)},d.drawAxisTicks=function(T,C,y,S,A){if(this.tickCount[T]){var i=w(l);i[T]=1,this.shader.uniforms.majorAxis=i,this.shader.uniforms.offset=C,this.shader.uniforms.minorAxis=y,this.shader.uniforms.color=S,this.shader.uniforms.lineWidth=A;var E=w(f);E[T]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[T],this.tickOffset[T])}},d.drawGrid=function(T,C,y,S,A,i){if(this.gridCount[T]){var E=w(u);E[C]=y[1][C]-y[0][C],this.shader.uniforms.minorAxis=E;var m=c(g,S);m[C]+=y[0][C],this.shader.uniforms.offset=m;var k=w(l);k[T]=1,this.shader.uniforms.majorAxis=k;var I=w(f);I[T]=1,this.shader.uniforms.screenAxis=I,this.shader.uniforms.lineWidth=i,this.shader.uniforms.color=A,this.vao.draw(this.gl.TRIANGLES,this.gridCount[T],this.gridOffset[T])}},d.drawZero=function(T,C,y,S,A,i){var E=w(u);this.shader.uniforms.majorAxis=E,E[T]=y[1][T]-y[0][T],this.shader.uniforms.minorAxis=E;var m=c(g,S);m[T]+=y[0][T],this.shader.uniforms.offset=m;var k=w(f);k[C]=1,this.shader.uniforms.screenAxis=k,this.shader.uniforms.lineWidth=i,this.shader.uniforms.color=A,this.vao.draw(this.gl.TRIANGLES,6)},d.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function x(T,C,y){var S=[],A=[0,0,0],i=[0,0,0],E=[0,0,0],m=[0,0,0];S.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var k=0;k<3;++k){for(var _=S.length/3|0,I=0;I<y[k].length;++I){var O=+y[k][I].x;S.push(O,0,1,O,1,1,O,0,-1,O,0,-1,O,1,1,O,1,-1)}var F=S.length/3|0;A[k]=_,i[k]=F-_;for(var _=S.length/3|0,B=0;B<y[k].length;++B){var O=+y[k][B].x;S.push(O,0,1,O,1,1,O,0,-1,O,0,-1,O,1,1,O,1,-1)}var F=S.length/3|0;E[k]=_,m[k]=F-_}var z=t(T,new Float32Array(S)),N=o(T,[{buffer:z,type:T.FLOAT,size:3,stride:0,offset:0}]),W=n(T);return W.attributes.position.location=0,new a(T,z,N,W,i,A,m,E)}},1879:function(v,p,r){var t=r(3236),o=r(9405),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),l=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.n=function(w){return o(w,n,l,null,[{name:"position",type:"vec3"}])};var u=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.Q=function(w){return o(w,u,f,null,[{name:"position",type:"vec3"}])};var g=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * (view * (model * vec4(nPosition, 1.0)));
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}
`]),h=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);p.bg=function(w){return o(w,g,h,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},4935:function(v,p,r){v.exports=d;var t=r(2762),o=r(8116),n=r(4359),l=r(1879).Q,u=window||b.global||{},f=u.__TEXT_CACHE||{};u.__TEXT_CACHE={};var g=3;function h(x,T,C,y){this.gl=x,this.shader=T,this.buffer=C,this.vao=y,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var w=h.prototype,c=[0,0];w.bind=function(x,T,C,y){this.vao.bind(),this.shader.bind();var S=this.shader.uniforms;S.model=x,S.view=T,S.projection=C,S.pixelScale=y,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=c},w.unbind=function(){this.vao.unbind()},w.update=function(x,T,C,y,S){var A=[];function i(N,W,Z,q,re,le){var ie=[Z.style,Z.weight,Z.variant,Z.family].join("_"),K=f[ie];K||(K=f[ie]={});var $=K[W];$||($=K[W]=a(W,{triangles:!0,font:Z.family,fontStyle:Z.style,fontWeight:Z.weight,fontVariant:Z.variant,textAlign:"center",textBaseline:"middle",lineSpacing:re,styletags:le}));for(var X=(q||12)/12,Q=$.positions,se=$.cells,J=0,G=se.length;J<G;++J)for(var oe=se[J],te=2;te>=0;--te){var fe=Q[oe[te]];A.push(X*fe[0],-X*fe[1],N)}}for(var E=[0,0,0],m=[0,0,0],k=[0,0,0],I=[0,0,0],O=1.25,_={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},B=0;B<3;++B){k[B]=A.length/g|0,i(.5*(x[0][B]+x[1][B]),T[B],C[B],12,O,_),I[B]=(A.length/g|0)-k[B],E[B]=A.length/g|0;for(var F=0;F<y[B].length;++F)if(y[B][F].text){var z={family:y[B][F].font||S[B].family,style:S[B].fontStyle||S[B].style,weight:S[B].fontWeight||S[B].weight,variant:S[B].fontVariant||S[B].variant};i(y[B][F].x,y[B][F].text,z,y[B][F].fontSize||12,O,_)}m[B]=(A.length/g|0)-E[B]}this.buffer.update(A),this.tickOffset=E,this.tickCount=m,this.labelOffset=k,this.labelCount=I},w.drawTicks=function(x,T,C,y,S,A,i,E){this.tickCount[x]&&(this.shader.uniforms.axis=A,this.shader.uniforms.color=S,this.shader.uniforms.angle=C,this.shader.uniforms.scale=T,this.shader.uniforms.offset=y,this.shader.uniforms.alignDir=i,this.shader.uniforms.alignOpt=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[x],this.tickOffset[x]))},w.drawLabel=function(x,T,C,y,S,A,i,E){this.labelCount[x]&&(this.shader.uniforms.axis=A,this.shader.uniforms.color=S,this.shader.uniforms.angle=C,this.shader.uniforms.scale=T,this.shader.uniforms.offset=y,this.shader.uniforms.alignDir=i,this.shader.uniforms.alignOpt=E,this.vao.draw(this.gl.TRIANGLES,this.labelCount[x],this.labelOffset[x]))},w.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function a(x,T){try{return n(x,T)}catch(C){return console.warn('error vectorizing text:"'+x+'" error:',C),{cells:[],positions:[]}}}function d(x,T,C,y,S,A){var i=t(x),E=o(x,[{buffer:i,size:3}]),m=l(x);m.attributes.position.location=0;var k=new h(x,m,i,E);return k.update(T,C,y,S,A),k}},6444:function(v,p){p.create=t,p.equal=o;function r(n,l){var u=n+"",f=u.indexOf("."),g=0;f>=0&&(g=u.length-f-1);var h=Math.pow(10,g),w=Math.round(n*l*h),c=w+"";if(c.indexOf("e")>=0)return c;var a=w/h,d=w%h;w<0?(a=-Math.ceil(a)|0,d=-d|0):(a=Math.floor(a)|0,d=d|0);var x=""+a;if(w<0&&(x="-"+x),g){for(var T=""+d;T.length<g;)T="0"+T;return x+"."+T}else return x}function t(n,l){for(var u=[],f=0;f<3;++f){var g=[];.5*(n[0][f]+n[1][f]);for(var h=0;h*l[f]<=n[1][f];++h)g.push({x:h*l[f],text:r(l[f],h)});for(var h=-1;h*l[f]>=n[0][f];--h)g.push({x:h*l[f],text:r(l[f],h)});u.push(g)}return u}function o(n,l){for(var u=0;u<3;++u){if(n[u].length!==l[u].length)return!1;for(var f=0;f<n[u].length;++f){var g=n[u][f],h=l[u][f];if(g.x!==h.x||g.text!==h.text||g.font!==h.font||g.fontColor!==h.fontColor||g.fontSize!==h.fontSize||g.dx!==h.dx||g.dy!==h.dy)return!1}}return!0}},5445:function(v,p,r){v.exports=C;var t=r(5033),o=r(5202),n=r(6429),l=r(6760),u=r(5665),f=r(5352),g=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),h=new Float32Array(16);function w(y,S,A){this.lo=y,this.hi=S,this.pixelsPerDataUnit=A}var c=[0,0,0,1],a=[0,0,0,1];function d(y,S,A,i,E){for(var m=0;m<3;++m){for(var k=c,I=a,O=0;O<3;++O)I[O]=k[O]=A[O];I[3]=k[3]=1,I[m]+=1,f(I,I,S),I[3]<0&&(y[m]=1/0),k[m]-=1,f(k,k,S),k[3]<0&&(y[m]=1/0);var _=(k[0]/k[3]-I[0]/I[3])*i,B=(k[1]/k[3]-I[1]/I[3])*E;y[m]=.25*Math.sqrt(_*_+B*B)}return y}var x=[new w(1/0,-1/0,1/0),new w(1/0,-1/0,1/0),new w(1/0,-1/0,1/0)],T=[0,0,0];function C(y,S,A,i,B){var m=S.model||g,k=S.view||g,I=S.projection||g,O=S._ortho||!1,_=y.bounds,B=B||n(m,k,I,_,O),F=B.axis;l(h,k,m),l(h,I,h);for(var z=x,N=0;N<3;++N)z[N].lo=1/0,z[N].hi=-1/0,z[N].pixelsPerDataUnit=1/0;var W=t(u(h,h));u(h,h);for(var Z=0;Z<3;++Z){var q=(Z+1)%3,re=(Z+2)%3,le=T;e:for(var N=0;N<2;++N){var ie=[];if(F[Z]<0!=!!N){le[Z]=_[N][Z];for(var K=0;K<2;++K){le[q]=_[K^N][q];for(var $=0;$<2;++$)le[re]=_[$^K^N][re],ie.push(le.slice())}for(var X=O?5:4,K=X;K===X;++K){if(ie.length===0)continue e;ie=o.positive(ie,W[K])}for(var K=0;K<ie.length;++K)for(var re=ie[K],Q=d(T,h,re,A,i),$=0;$<3;++$)z[$].lo=Math.min(z[$].lo,re[$]),z[$].hi=Math.max(z[$].hi,re[$]),$!==Z&&(z[$].pixelsPerDataUnit=Math.min(z[$].pixelsPerDataUnit,Math.abs(Q[$])))}}}return z}},2762:function(v,p,r){var t=r(1888),o=r(5298),n=r(9618),l=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function u(a,d,x,T,C){this.gl=a,this.type=d,this.handle=x,this.length=T,this.usage=C}var f=u.prototype;f.bind=function(){this.gl.bindBuffer(this.type,this.handle)},f.unbind=function(){this.gl.bindBuffer(this.type,null)},f.dispose=function(){this.gl.deleteBuffer(this.handle)};function g(a,d,x,T,C,y){var S=C.length*C.BYTES_PER_ELEMENT;if(y<0)return a.bufferData(d,C,T),S;if(S+y>x)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return a.bufferSubData(d,y,C),x}function h(a,d){for(var x=t.malloc(a.length,d),T=a.length,C=0;C<T;++C)x[C]=a[C];return x}function w(a,d){for(var x=1,T=d.length-1;T>=0;--T){if(d[T]!==x)return!1;x*=a[T]}return!0}f.update=function(a,d){if(typeof d!="number"&&(d=-1),this.bind(),typeof a=="object"&&typeof a.shape<"u"){var x=a.dtype;if(l.indexOf(x)<0&&(x="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var T=gl.getExtension("OES_element_index_uint");T&&x!=="uint16"?x="uint32":x="uint16"}if(x===a.dtype&&w(a.shape,a.stride))a.offset===0&&a.data.length===a.shape[0]?this.length=g(this.gl,this.type,this.length,this.usage,a.data,d):this.length=g(this.gl,this.type,this.length,this.usage,a.data.subarray(a.offset,a.shape[0]),d);else{var C=t.malloc(a.size,x),y=n(C,a.shape);o.assign(y,a),d<0?this.length=g(this.gl,this.type,this.length,this.usage,C,d):this.length=g(this.gl,this.type,this.length,this.usage,C.subarray(0,a.size),d),t.free(C)}}else if(Array.isArray(a)){var S;this.type===this.gl.ELEMENT_ARRAY_BUFFER?S=h(a,"uint16"):S=h(a,"float32"),d<0?this.length=g(this.gl,this.type,this.length,this.usage,S,d):this.length=g(this.gl,this.type,this.length,this.usage,S.subarray(0,a.length),d),t.free(S)}else if(typeof a=="object"&&typeof a.length=="number")this.length=g(this.gl,this.type,this.length,this.usage,a,d);else if(typeof a=="number"||a===void 0){if(d>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");a=a|0,a<=0&&(a=1),this.gl.bufferData(this.type,a|0,this.usage),this.length=a}else throw new Error("gl-buffer: Invalid data type")};function c(a,d,x,T){if(x=x||a.ARRAY_BUFFER,T=T||a.DYNAMIC_DRAW,x!==a.ARRAY_BUFFER&&x!==a.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(T!==a.DYNAMIC_DRAW&&T!==a.STATIC_DRAW&&T!==a.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var C=a.createBuffer(),y=new u(a,x,C,0,T);return y.update(d),y}v.exports=c},6405:function(v,p,r){var t=r(2931);v.exports=function(n,l){var u=n.positions,f=n.vectors,g={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return l&&(l[0]=[0,0,0],l[1]=[0,0,0]),g;for(var h=0,w=1/0,c=-1/0,a=1/0,d=-1/0,x=1/0,T=-1/0,C=null,y=null,S=[],A=1/0,i=!1,E=n.coneSizemode==="raw",m=0;m<u.length;m++){var k=u[m];w=Math.min(k[0],w),c=Math.max(k[0],c),a=Math.min(k[1],a),d=Math.max(k[1],d),x=Math.min(k[2],x),T=Math.max(k[2],T);var I=f[m];if(t.length(I)>h&&(h=t.length(I)),m&&!E){var O=2*t.distance(C,k)/(t.length(y)+t.length(I));O?(A=Math.min(A,O),i=!1):i=!0}i||(C=k,y=I),S.push(I)}var _=[w,a,x],B=[c,d,T];l&&(l[0]=_,l[1]=B),h===0&&(h=1);var F=1/h;isFinite(A)||(A=1),g.vectorScale=A;var z=n.coneSize||(E?1:.5);n.absoluteConeSize&&(z=n.absoluteConeSize*F),g.coneScale=z;for(var m=0,N=0;m<u.length;m++)for(var k=u[m],W=k[0],Z=k[1],q=k[2],re=S[m],le=t.length(re)*F,ie=0,K=8;ie<K;ie++){g.positions.push([W,Z,q,N++]),g.positions.push([W,Z,q,N++]),g.positions.push([W,Z,q,N++]),g.positions.push([W,Z,q,N++]),g.positions.push([W,Z,q,N++]),g.positions.push([W,Z,q,N++]),g.vectors.push(re),g.vectors.push(re),g.vectors.push(re),g.vectors.push(re),g.vectors.push(re),g.vectors.push(re),g.vertexIntensity.push(le,le,le),g.vertexIntensity.push(le,le,le);var $=g.positions.length;g.cells.push([$-6,$-5,$-4],[$-3,$-2,$-1])}return g};var o=r(614);v.exports.createMesh=r(9060),v.exports.createConeMesh=function(n,l){return v.exports.createMesh(n,l,{shaders:o,traceType:"cone"})}},9060:function(v,p,r){var t=r(9405),o=r(2762),n=r(8116),l=r(7766),u=r(6760),f=r(7608),g=r(9618),h=r(6729),w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(S,A,i,E,m,k,I,O,_,B,F){this.gl=S,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=A,this.dirty=!0,this.triShader=i,this.pickShader=E,this.trianglePositions=m,this.triangleVectors=k,this.triangleColors=O,this.triangleUVs=_,this.triangleIds=I,this.triangleVAO=B,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=F,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=w,this._view=w,this._projection=w,this._resolution=[1,1]}var a=c.prototype;a.isOpaque=function(){return this.opacity>=1},a.isTransparent=function(){return this.opacity<1},a.pickSlots=1,a.setPickBase=function(S){this.pickId=S};function d(S){for(var A=h({colormap:S,nshades:256,format:"rgba"}),i=new Uint8Array(256*4),E=0;E<256;++E){for(var m=A[E],k=0;k<3;++k)i[4*E+k]=m[k];i[4*E+3]=m[3]*255}return g(i,[256,256,4],[4,0,1])}function x(S){for(var A=S.length,i=new Array(A),E=0;E<A;++E)i[E]=S[E][2];return i}a.update=function(S){S=S||{};var A=this.gl;this.dirty=!0,"lightPosition"in S&&(this.lightPosition=S.lightPosition),"opacity"in S&&(this.opacity=S.opacity),"ambient"in S&&(this.ambientLight=S.ambient),"diffuse"in S&&(this.diffuseLight=S.diffuse),"specular"in S&&(this.specularLight=S.specular),"roughness"in S&&(this.roughness=S.roughness),"fresnel"in S&&(this.fresnel=S.fresnel),S.tubeScale!==void 0&&(this.tubeScale=S.tubeScale),S.vectorScale!==void 0&&(this.vectorScale=S.vectorScale),S.coneScale!==void 0&&(this.coneScale=S.coneScale),S.coneOffset!==void 0&&(this.coneOffset=S.coneOffset),S.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=A.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=A.LINEAR,this.texture.setPixels(d(S.colormap)),this.texture.generateMipmap());var i=S.cells,E=S.positions,m=S.vectors;if(!(!E||!i||!m)){var k=[],I=[],O=[],_=[],B=[];this.cells=i,this.positions=E,this.vectors=m;var F=S.meshColor||[1,1,1,1],z=S.vertexIntensity,N=1/0,W=-1/0;if(z)if(S.vertexIntensityBounds)N=+S.vertexIntensityBounds[0],W=+S.vertexIntensityBounds[1];else for(var Z=0;Z<z.length;++Z){var q=z[Z];N=Math.min(N,q),W=Math.max(W,q)}else for(var Z=0;Z<E.length;++Z){var q=E[Z][2];N=Math.min(N,q),W=Math.max(W,q)}z?this.intensity=z:this.intensity=x(E),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Z=0;Z<E.length;++Z)for(var re=E[Z],le=0;le<3;++le)isNaN(re[le])||!isFinite(re[le])||(this.bounds[0][le]=Math.min(this.bounds[0][le],re[le]),this.bounds[1][le]=Math.max(this.bounds[1][le],re[le]));var ie=0;e:for(var Z=0;Z<i.length;++Z){var K=i[Z];switch(K.length){case 3:for(var le=0;le<3;++le)for(var $=K[le],re=E[$],X=0;X<3;++X)if(isNaN(re[X])||!isFinite(re[X]))continue e;for(var le=0;le<3;++le){var $=K[2-le],re=E[$];k.push(re[0],re[1],re[2],re[3]);var Q=m[$];I.push(Q[0],Q[1],Q[2],Q[3]||0);var se=F;se.length===3?O.push(se[0],se[1],se[2],1):O.push(se[0],se[1],se[2],se[3]);var J;z?J=[(z[$]-N)/(W-N),0]:J=[(re[2]-N)/(W-N),0],_.push(J[0],J[1]),B.push(Z)}ie+=1;break}}this.triangleCount=ie,this.trianglePositions.update(k),this.triangleVectors.update(I),this.triangleColors.update(O),this.triangleUVs.update(_),this.triangleIds.update(new Uint32Array(B))}},a.drawTransparent=a.draw=function(S){S=S||{};for(var A=this.gl,i=S.model||w,E=S.view||w,m=S.projection||w,k=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],I=0;I<3;++I)k[0][I]=Math.max(k[0][I],this.clipBounds[0][I]),k[1][I]=Math.min(k[1][I],this.clipBounds[1][I]);var O={model:i,view:E,projection:m,inverseModel:w.slice(),clipBounds:k,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};O.inverseModel=f(O.inverseModel,O.model),A.disable(A.CULL_FACE),this.texture.bind(0);var _=new Array(16);u(_,O.view,O.model),u(_,O.projection,_),f(_,_);for(var I=0;I<3;++I)O.eyePosition[I]=_[12+I]/_[15];for(var B=_[15],I=0;I<3;++I)B+=this.lightPosition[I]*_[4*I+3];for(var I=0;I<3;++I){for(var F=_[12+I],z=0;z<3;++z)F+=_[4*z+I]*this.lightPosition[z];O.lightPosition[I]=F/B}if(this.triangleCount>0){var N=this.triShader;N.bind(),N.uniforms=O,this.triangleVAO.bind(),A.drawArrays(A.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},a.drawPick=function(S){S=S||{};for(var A=this.gl,i=S.model||w,E=S.view||w,m=S.projection||w,k=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],I=0;I<3;++I)k[0][I]=Math.max(k[0][I],this.clipBounds[0][I]),k[1][I]=Math.min(k[1][I],this.clipBounds[1][I]);this._model=[].slice.call(i),this._view=[].slice.call(E),this._projection=[].slice.call(m),this._resolution=[A.drawingBufferWidth,A.drawingBufferHeight];var O={model:i,view:E,projection:m,clipBounds:k,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},_=this.pickShader;_.bind(),_.uniforms=O,this.triangleCount>0&&(this.triangleVAO.bind(),A.drawArrays(A.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},a.pick=function(S){if(!S||S.id!==this.pickId)return null;var A=S.value[0]+256*S.value[1]+65536*S.value[2],i=this.cells[A],E=this.positions[i[1]].slice(0,3),m={position:E,dataCoordinate:E,index:Math.floor(i[1]/48)};return this.traceType==="cone"?m.index=Math.floor(i[1]/48):this.traceType==="streamtube"&&(m.intensity=this.intensity[i[1]],m.velocity=this.vectors[i[1]].slice(0,3),m.divergence=this.vectors[i[1]][3],m.index=A),m},a.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function T(S,A){var i=t(S,A.meshShader.vertex,A.meshShader.fragment,null,A.meshShader.attributes);return i.attributes.position.location=0,i.attributes.color.location=2,i.attributes.uv.location=3,i.attributes.vector.location=4,i}function C(S,A){var i=t(S,A.pickShader.vertex,A.pickShader.fragment,null,A.pickShader.attributes);return i.attributes.position.location=0,i.attributes.id.location=1,i.attributes.vector.location=4,i}function y(S,A,i){var E=i.shaders;arguments.length===1&&(A=S,S=A.gl);var m=T(S,E),k=C(S,E),I=l(S,g(new Uint8Array([255,255,255,255]),[1,1,4]));I.generateMipmap(),I.minFilter=S.LINEAR_MIPMAP_LINEAR,I.magFilter=S.LINEAR;var O=o(S),_=o(S),B=o(S),F=o(S),z=o(S),N=n(S,[{buffer:O,type:S.FLOAT,size:4},{buffer:z,type:S.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:B,type:S.FLOAT,size:4},{buffer:F,type:S.FLOAT,size:2},{buffer:_,type:S.FLOAT,size:4}]),W=new c(S,I,m,k,O,_,z,B,F,N,i.traceType||"cone");return W.update(A),W}v.exports=y},614:function(v,p,r){var t=r(3236),o=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),l=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * (view * conePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:o,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},p.pickShader={vertex:l,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},737:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},5171:function(v,p,r){var t=r(737);v.exports=function(n){return t[n]}},9165:function(v,p,r){v.exports=c;var t=r(2762),o=r(8116),n=r(3436),l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(a,d,x,T){this.gl=a,this.shader=T,this.buffer=d,this.vao=x,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var f=u.prototype;f.isOpaque=function(){return!this.hasAlpha},f.isTransparent=function(){return this.hasAlpha},f.drawTransparent=f.draw=function(a){var d=this.gl,x=this.shader.uniforms;this.shader.bind();var T=x.view=a.view||l,C=x.projection=a.projection||l;x.model=a.model||l,x.clipBounds=this.clipBounds,x.opacity=this.opacity;var y=T[12],S=T[13],A=T[14],i=T[15],E=a._ortho||!1,m=E?2:1,k=m*this.pixelRatio*(C[3]*y+C[7]*S+C[11]*A+C[15]*i)/d.drawingBufferHeight;this.vao.bind();for(var I=0;I<3;++I)d.lineWidth(this.lineWidth[I]*this.pixelRatio),x.capSize=this.capSize[I]*k,this.lineCount[I]&&d.drawArrays(d.LINES,this.lineOffset[I],this.lineCount[I]);this.vao.unbind()};function g(a,d){for(var x=0;x<3;++x)a[0][x]=Math.min(a[0][x],d[x]),a[1][x]=Math.max(a[1][x],d[x])}var h=function(){for(var a=new Array(3),d=0;d<3;++d){for(var x=[],T=1;T<=2;++T)for(var C=-1;C<=1;C+=2){var y=(T+d)%3,S=[0,0,0];S[y]=C,x.push(S)}a[d]=x}return a}();function w(a,d,x,T){for(var C=h[T],y=0;y<C.length;++y){var S=C[y];a.push(d[0],d[1],d[2],x[0],x[1],x[2],x[3],S[0],S[1],S[2])}return C.length}f.update=function(a){a=a||{},"lineWidth"in a&&(this.lineWidth=a.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in a&&(this.capSize=a.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in a&&(this.opacity=+a.opacity,this.opacity<1&&(this.hasAlpha=!0));var d=a.color||[[0,0,0],[0,0,0],[0,0,0]],x=a.position,T=a.error;if(Array.isArray(d[0])||(d=[d,d,d]),x&&T){var C=[],y=x.length,S=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var A=0;A<3;++A){this.lineOffset[A]=S;e:for(var i=0;i<y;++i){for(var E=x[i],m=0;m<3;++m)if(isNaN(E[m])||!isFinite(E[m]))continue e;var k=T[i],I=d[A];if(Array.isArray(I[0])&&(I=d[i]),I.length===3?I=[I[0],I[1],I[2],1]:I.length===4&&(I=[I[0],I[1],I[2],I[3]],!this.hasAlpha&&I[3]<1&&(this.hasAlpha=!0)),!(isNaN(k[0][A])||isNaN(k[1][A]))){if(k[0][A]<0){var O=E.slice();O[A]+=k[0][A],C.push(E[0],E[1],E[2],I[0],I[1],I[2],I[3],0,0,0,O[0],O[1],O[2],I[0],I[1],I[2],I[3],0,0,0),g(this.bounds,O),S+=2+w(C,O,I,A)}if(k[1][A]>0){var O=E.slice();O[A]+=k[1][A],C.push(E[0],E[1],E[2],I[0],I[1],I[2],I[3],0,0,0,O[0],O[1],O[2],I[0],I[1],I[2],I[3],0,0,0),g(this.bounds,O),S+=2+w(C,O,I,A)}}}this.lineCount[A]=S-this.lineOffset[A]}this.buffer.update(C)}},f.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function c(a){var d=a.gl,x=t(d),T=o(d,[{buffer:x,type:d.FLOAT,size:3,offset:0,stride:40},{buffer:x,type:d.FLOAT,size:4,offset:12,stride:40},{buffer:x,type:d.FLOAT,size:3,offset:28,stride:40}]),C=n(d);C.attributes.position.location=0,C.attributes.color.location=1,C.attributes.offset.location=2;var y=new u(d,x,T,C);return y.update(a),y}},3436:function(v,p,r){var t=r(3236),o=r(9405),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * (view * worldPosition);
  fragColor           = color;
  fragPosition        = position;
}`]),l=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);v.exports=function(u){return o(u,n,l,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},2260:function(v,p,r){var t=r(7766);v.exports=S;var o=null,n,l,u,f;function g(A){var i=A.getParameter(A.FRAMEBUFFER_BINDING),E=A.getParameter(A.RENDERBUFFER_BINDING),m=A.getParameter(A.TEXTURE_BINDING_2D);return[i,E,m]}function h(A,i){A.bindFramebuffer(A.FRAMEBUFFER,i[0]),A.bindRenderbuffer(A.RENDERBUFFER,i[1]),A.bindTexture(A.TEXTURE_2D,i[2])}function w(A,i){var E=A.getParameter(i.MAX_COLOR_ATTACHMENTS_WEBGL);o=new Array(E+1);for(var m=0;m<=E;++m){for(var k=new Array(E),I=0;I<m;++I)k[I]=A.COLOR_ATTACHMENT0+I;for(var I=m;I<E;++I)k[I]=A.NONE;o[m]=k}}function c(A){switch(A){case n:throw new Error("gl-fbo: Framebuffer unsupported");case l:throw new Error("gl-fbo: Framebuffer incomplete attachment");case u:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case f:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function a(A,i,E,m,k,I){if(!m)return null;var O=t(A,i,E,k,m);return O.magFilter=A.NEAREST,O.minFilter=A.NEAREST,O.mipSamples=1,O.bind(),A.framebufferTexture2D(A.FRAMEBUFFER,I,A.TEXTURE_2D,O.handle,0),O}function d(A,i,E,m,k){var I=A.createRenderbuffer();return A.bindRenderbuffer(A.RENDERBUFFER,I),A.renderbufferStorage(A.RENDERBUFFER,m,i,E),A.framebufferRenderbuffer(A.FRAMEBUFFER,k,A.RENDERBUFFER,I),I}function x(A){var i=g(A.gl),E=A.gl,m=A.handle=E.createFramebuffer(),k=A._shape[0],I=A._shape[1],O=A.color.length,_=A._ext,B=A._useStencil,F=A._useDepth,z=A._colorType;E.bindFramebuffer(E.FRAMEBUFFER,m);for(var N=0;N<O;++N)A.color[N]=a(E,k,I,z,E.RGBA,E.COLOR_ATTACHMENT0+N);O===0?(A._color_rb=d(E,k,I,E.RGBA4,E.COLOR_ATTACHMENT0),_&&_.drawBuffersWEBGL(o[0])):O>1&&_.drawBuffersWEBGL(o[O]);var W=E.getExtension("WEBGL_depth_texture");W?B?A.depth=a(E,k,I,W.UNSIGNED_INT_24_8_WEBGL,E.DEPTH_STENCIL,E.DEPTH_STENCIL_ATTACHMENT):F&&(A.depth=a(E,k,I,E.UNSIGNED_SHORT,E.DEPTH_COMPONENT,E.DEPTH_ATTACHMENT)):F&&B?A._depth_rb=d(E,k,I,E.DEPTH_STENCIL,E.DEPTH_STENCIL_ATTACHMENT):F?A._depth_rb=d(E,k,I,E.DEPTH_COMPONENT16,E.DEPTH_ATTACHMENT):B&&(A._depth_rb=d(E,k,I,E.STENCIL_INDEX,E.STENCIL_ATTACHMENT));var Z=E.checkFramebufferStatus(E.FRAMEBUFFER);if(Z!==E.FRAMEBUFFER_COMPLETE){A._destroyed=!0,E.bindFramebuffer(E.FRAMEBUFFER,null),E.deleteFramebuffer(A.handle),A.handle=null,A.depth&&(A.depth.dispose(),A.depth=null),A._depth_rb&&(E.deleteRenderbuffer(A._depth_rb),A._depth_rb=null);for(var N=0;N<A.color.length;++N)A.color[N].dispose(),A.color[N]=null;A._color_rb&&(E.deleteRenderbuffer(A._color_rb),A._color_rb=null),h(E,i),c(Z)}h(E,i)}function T(A,i,E,m,k,I,O,_){this.gl=A,this._shape=[i|0,E|0],this._destroyed=!1,this._ext=_,this.color=new Array(k);for(var B=0;B<k;++B)this.color[B]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=m,this._useDepth=I,this._useStencil=O;var F=this,z=[i|0,E|0];Object.defineProperties(z,{0:{get:function(){return F._shape[0]},set:function(N){return F.width=N}},1:{get:function(){return F._shape[1]},set:function(N){return F.height=N}}}),this._shapeVector=z,x(this)}var C=T.prototype;function y(A,i,E){if(A._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(A._shape[0]===i&&A._shape[1]===E)){var m=A.gl,k=m.getParameter(m.MAX_RENDERBUFFER_SIZE);if(i<0||i>k||E<0||E>k)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");A._shape[0]=i,A._shape[1]=E;for(var I=g(m),O=0;O<A.color.length;++O)A.color[O].shape=A._shape;A._color_rb&&(m.bindRenderbuffer(m.RENDERBUFFER,A._color_rb),m.renderbufferStorage(m.RENDERBUFFER,m.RGBA4,A._shape[0],A._shape[1])),A.depth&&(A.depth.shape=A._shape),A._depth_rb&&(m.bindRenderbuffer(m.RENDERBUFFER,A._depth_rb),A._useDepth&&A._useStencil?m.renderbufferStorage(m.RENDERBUFFER,m.DEPTH_STENCIL,A._shape[0],A._shape[1]):A._useDepth?m.renderbufferStorage(m.RENDERBUFFER,m.DEPTH_COMPONENT16,A._shape[0],A._shape[1]):A._useStencil&&m.renderbufferStorage(m.RENDERBUFFER,m.STENCIL_INDEX,A._shape[0],A._shape[1])),m.bindFramebuffer(m.FRAMEBUFFER,A.handle);var _=m.checkFramebufferStatus(m.FRAMEBUFFER);_!==m.FRAMEBUFFER_COMPLETE&&(A.dispose(),h(m,I),c(_)),h(m,I)}}Object.defineProperties(C,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(A){if(Array.isArray(A)||(A=[A|0,A|0]),A.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var i=A[0]|0,E=A[1]|0;return y(this,i,E),[i,E]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(A){return A=A|0,y(this,A,this._shape[1]),A},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(A){return A=A|0,y(this,this._shape[0],A),A},enumerable:!1}}),C.bind=function(){if(!this._destroyed){var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,this.handle),A.viewport(0,0,this._shape[0],this._shape[1])}},C.dispose=function(){if(!this._destroyed){this._destroyed=!0;var A=this.gl;A.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(A.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var i=0;i<this.color.length;++i)this.color[i].dispose(),this.color[i]=null;this._color_rb&&(A.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function S(A,i,E,m){n||(n=A.FRAMEBUFFER_UNSUPPORTED,l=A.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,u=A.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,f=A.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var k=A.getExtension("WEBGL_draw_buffers");if(!o&&k&&w(A,k),Array.isArray(i)&&(m=E,E=i[1]|0,i=i[0]|0),typeof i!="number")throw new Error("gl-fbo: Missing shape parameter");var I=A.getParameter(A.MAX_RENDERBUFFER_SIZE);if(i<0||i>I||E<0||E>I)throw new Error("gl-fbo: Parameters are too large for FBO");m=m||{};var O=1;if("color"in m){if(O=Math.max(m.color|0,0),O<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(O>1)if(k){if(O>A.getParameter(k.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+O+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var _=A.UNSIGNED_BYTE,B=A.getExtension("OES_texture_float");if(m.float&&O>0){if(!B)throw new Error("gl-fbo: Context does not support floating point textures");_=A.FLOAT}else m.preferFloat&&O>0&&B&&(_=A.FLOAT);var F=!0;"depth"in m&&(F=!!m.depth);var z=!1;return"stencil"in m&&(z=!!m.stencil),new T(A,i,E,_,O,F,z,k)}},2992:function(v,p,r){var t=r(3387).sprintf,o=r(5171),n=r(1848),l=r(1085);v.exports=u;function u(f,g,h){var w=n(g)||"of unknown name (see npm glsl-shader-name)",c="unknown type";h!==void 0&&(c=h===o.FRAGMENT_SHADER?"fragment":"vertex");for(var a=t(`Error compiling %s shader %s:
`,c,w),d=t("%s%s",a,f),x=f.split(`
`),T={},C=0;C<x.length;C++){var y=x[C];if(!(y===""||y==="\0")){var S=parseInt(y.split(":")[2]);if(isNaN(S))throw new Error(t("Could not parse error: %s",y));T[S]=y}}for(var A=l(g).split(`
`),C=0;C<A.length;C++)if(!(!T[C+3]&&!T[C+2]&&!T[C+1])){var i=A[C];if(a+=i+`
`,T[C+1]){var E=T[C+1];E=E.substr(E.split(":",3).join(":").length+1).trim(),a+=t(`^^^ %s

`,E)}}return{long:a.trim(),short:d.trim()}}},2510:function(v,p,r){v.exports=c;var t=r(2478),o=r(7762),n=r(1888),l=r(9405),u=r(2762),f=r(6768);function g(a,d,x,T,C,y,S){this.plot=a,this.shader=d,this.pickShader=x,this.positionBuffer=T,this.weightBuffer=C,this.colorBuffer=y,this.idBuffer=S,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var h=g.prototype,w=[0,0,1,0,0,1,1,0,1,1,0,1];h.draw=function(){var a=[1,0,0,0,1,0,0,0,1];return function(){var d=this.plot,x=this.shader,T=this.bounds,C=this.numVertices;if(!(C<=0)){var y=d.gl,S=d.dataBox,A=T[2]-T[0],i=T[3]-T[1],E=S[2]-S[0],m=S[3]-S[1];a[0]=2*A/E,a[4]=2*i/m,a[6]=2*(T[0]-S[0])/E-1,a[7]=2*(T[1]-S[1])/m-1,x.bind();var k=x.uniforms;k.viewTransform=a,k.shape=this.shape;var I=x.attributes;this.positionBuffer.bind(),I.position.pointer(),this.weightBuffer.bind(),I.weight.pointer(y.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),I.color.pointer(y.UNSIGNED_BYTE,!0),y.drawArrays(y.TRIANGLES,0,C)}}}(),h.drawPick=function(){var a=[1,0,0,0,1,0,0,0,1],d=[0,0,0,0];return function(x){var T=this.plot,C=this.pickShader,y=this.bounds,S=this.numVertices;if(!(S<=0)){var A=T.gl,i=T.dataBox,E=y[2]-y[0],m=y[3]-y[1],k=i[2]-i[0],I=i[3]-i[1];a[0]=2*E/k,a[4]=2*m/I,a[6]=2*(y[0]-i[0])/k-1,a[7]=2*(y[1]-i[1])/I-1;for(var O=0;O<4;++O)d[O]=x>>O*8&255;this.pickOffset=x,C.bind();var _=C.uniforms;_.viewTransform=a,_.pickOffset=d,_.shape=this.shape;var B=C.attributes;return this.positionBuffer.bind(),B.position.pointer(),this.weightBuffer.bind(),B.weight.pointer(A.UNSIGNED_BYTE,!1),this.idBuffer.bind(),B.pickId.pointer(A.UNSIGNED_BYTE,!1),A.drawArrays(A.TRIANGLES,0,S),x+this.shape[0]*this.shape[1]}}}(),h.pick=function(a,d,x){var T=this.pickOffset,C=this.shape[0]*this.shape[1];if(x<T||x>=T+C)return null;var y=x-T,S=this.xData,A=this.yData;return{object:this,pointId:y,dataCoord:[S[y%this.shape[0]],A[y/this.shape[0]|0]]}},h.update=function(a){a=a||{};var d=a.shape||[0,0],x=a.x||o(d[0]),T=a.y||o(d[1]),C=a.z||new Float32Array(d[0]*d[1]),y=a.zsmooth!==!1;this.xData=x,this.yData=T;var S=a.colorLevels||[0],A=a.colorValues||[0,0,0,1],i=S.length,E=this.bounds,m,k,I,O;y?(m=E[0]=x[0],k=E[1]=T[0],I=E[2]=x[x.length-1],O=E[3]=T[T.length-1]):(m=E[0]=x[0]+(x[1]-x[0])/2,k=E[1]=T[0]+(T[1]-T[0])/2,I=E[2]=x[x.length-1]+(x[x.length-1]-x[x.length-2])/2,O=E[3]=T[T.length-1]+(T[T.length-1]-T[T.length-2])/2);var _=1/(I-m),B=1/(O-k),F=d[0],z=d[1];this.shape=[F,z];var N=(y?(F-1)*(z-1):F*z)*(w.length>>>1);this.numVertices=N;for(var W=n.mallocUint8(N*4),Z=n.mallocFloat32(N*2),q=n.mallocUint8(N*2),re=n.mallocUint32(N),le=0,ie=y?F-1:F,K=y?z-1:z,$=0;$<K;++$){var X,Q;y?(X=B*(T[$]-k),Q=B*(T[$+1]-k)):(X=$<z-1?B*(T[$]-(T[$+1]-T[$])/2-k):B*(T[$]-(T[$]-T[$-1])/2-k),Q=$<z-1?B*(T[$]+(T[$+1]-T[$])/2-k):B*(T[$]+(T[$]-T[$-1])/2-k));for(var se=0;se<ie;++se){var J,G;y?(J=_*(x[se]-m),G=_*(x[se+1]-m)):(J=se<F-1?_*(x[se]-(x[se+1]-x[se])/2-m):_*(x[se]-(x[se]-x[se-1])/2-m),G=se<F-1?_*(x[se]+(x[se+1]-x[se])/2-m):_*(x[se]+(x[se]-x[se-1])/2-m));for(var oe=0;oe<w.length;oe+=2){var te=w[oe],fe=w[oe+1],ge=y?($+fe)*F+(se+te):$*F+se,we=C[ge],xe=t.le(S,we),Ce,De,Oe,Te;if(xe<0)Ce=A[0],De=A[1],Oe=A[2],Te=A[3];else if(xe===i-1)Ce=A[4*i-4],De=A[4*i-3],Oe=A[4*i-2],Te=A[4*i-1];else{var Re=(we-S[xe])/(S[xe+1]-S[xe]),Me=1-Re,ke=4*xe,Se=4*(xe+1);Ce=Me*A[ke]+Re*A[Se],De=Me*A[ke+1]+Re*A[Se+1],Oe=Me*A[ke+2]+Re*A[Se+2],Te=Me*A[ke+3]+Re*A[Se+3]}W[4*le]=255*Ce,W[4*le+1]=255*De,W[4*le+2]=255*Oe,W[4*le+3]=255*Te,Z[2*le]=J*.5+G*.5,Z[2*le+1]=X*.5+Q*.5,q[2*le]=te,q[2*le+1]=fe,re[le]=$*F+se,le+=1}}}this.positionBuffer.update(Z),this.weightBuffer.update(q),this.colorBuffer.update(W),this.idBuffer.update(re),n.free(Z),n.free(W),n.free(q),n.free(re)},h.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function c(a,d){var x=a.gl,T=l(x,f.vertex,f.fragment),C=l(x,f.pickVertex,f.pickFragment),y=u(x),S=u(x),A=u(x),i=u(x),E=new g(a,T,C,y,S,A,i);return E.update(d),a.addObject(E),E}},6768:function(v,p,r){var t=r(3236);v.exports={fragment:t([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},7319:function(v,p,r){var t=r(3236),o=r(9405),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),l=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),f=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];p.createShader=function(g){return o(g,n,l,null,f)},p.createPickShader=function(g){return o(g,n,u,null,f)}},5714:function(v,p,r){v.exports=A;var t=r(2762),o=r(8116),n=r(7766),l=new Uint8Array(4),u=new Float32Array(l.buffer);function f(i,E,m,k){return l[0]=k,l[1]=m,l[2]=E,l[3]=i,u[0]}var g=r(2478),h=r(9618),w=r(7319),c=w.createShader,a=w.createPickShader,d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function x(i,E){for(var m=0,k=0;k<3;++k){var I=i[k]-E[k];m+=I*I}return Math.sqrt(m)}function T(i){for(var E=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],m=0;m<3;++m)E[0][m]=Math.max(i[0][m],E[0][m]),E[1][m]=Math.min(i[1][m],E[1][m]);return E}function C(i,E,m,k){this.arcLength=i,this.position=E,this.index=m,this.dataCoordinate=k}function y(i,E,m,k,I,O){this.gl=i,this.shader=E,this.pickShader=m,this.buffer=k,this.vao=I,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=O,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var S=y.prototype;S.isTransparent=function(){return this.hasAlpha},S.isOpaque=function(){return!this.hasAlpha},S.pickSlots=1,S.setPickBase=function(i){this.pickId=i},S.drawTransparent=S.draw=function(i){if(this.vertexCount){var E=this.gl,m=this.shader,k=this.vao;m.bind(),m.uniforms={model:i.model||d,view:i.view||d,projection:i.projection||d,clipBounds:T(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[E.drawingBufferWidth,E.drawingBufferHeight],pixelRatio:this.pixelRatio},k.bind(),k.draw(E.TRIANGLE_STRIP,this.vertexCount),k.unbind()}},S.drawPick=function(i){if(this.vertexCount){var E=this.gl,m=this.pickShader,k=this.vao;m.bind(),m.uniforms={model:i.model||d,view:i.view||d,projection:i.projection||d,pickId:this.pickId,clipBounds:T(this.clipBounds),screenShape:[E.drawingBufferWidth,E.drawingBufferHeight],pixelRatio:this.pixelRatio},k.bind(),k.draw(E.TRIANGLE_STRIP,this.vertexCount),k.unbind()}},S.update=function(i){var E,m;this.dirty=!0;var k=!!i.connectGaps;"dashScale"in i&&(this.dashScale=i.dashScale),this.hasAlpha=!1,"opacity"in i&&(this.opacity=+i.opacity,this.opacity<1&&(this.hasAlpha=!0));var I=[],O=[],_=[],B=0,F=0,z=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],N=i.position||i.positions;if(N){var W=i.color||i.colors||[0,0,0,1],Z=i.lineWidth||1,q=!1;e:for(E=1;E<N.length;++E){var re=N[E-1],le=N[E];for(O.push(B),_.push(re.slice()),m=0;m<3;++m){if(isNaN(re[m])||isNaN(le[m])||!isFinite(re[m])||!isFinite(le[m])){if(!k&&I.length>0){for(var ie=0;ie<24;++ie)I.push(I[I.length-12]);F+=2,q=!0}continue e}z[0][m]=Math.min(z[0][m],re[m],le[m]),z[1][m]=Math.max(z[1][m],re[m],le[m])}var K,$;Array.isArray(W[0])?(K=W.length>E-1?W[E-1]:W.length>0?W[W.length-1]:[0,0,0,1],$=W.length>E?W[E]:W.length>0?W[W.length-1]:[0,0,0,1]):K=$=W,K.length===3&&(K=[K[0],K[1],K[2],1]),$.length===3&&($=[$[0],$[1],$[2],1]),!this.hasAlpha&&K[3]<1&&(this.hasAlpha=!0);var X;Array.isArray(Z)?X=Z.length>E-1?Z[E-1]:Z.length>0?Z[Z.length-1]:[0,0,0,1]:X=Z;var Q=B;if(B+=x(re,le),q){for(m=0;m<2;++m)I.push(re[0],re[1],re[2],le[0],le[1],le[2],Q,X,K[0],K[1],K[2],K[3]);F+=2,q=!1}I.push(re[0],re[1],re[2],le[0],le[1],le[2],Q,X,K[0],K[1],K[2],K[3],re[0],re[1],re[2],le[0],le[1],le[2],Q,-X,K[0],K[1],K[2],K[3],le[0],le[1],le[2],re[0],re[1],re[2],B,-X,$[0],$[1],$[2],$[3],le[0],le[1],le[2],re[0],re[1],re[2],B,X,$[0],$[1],$[2],$[3]),F+=4}}if(this.buffer.update(I),O.push(B),_.push(N[N.length-1].slice()),this.bounds=z,this.vertexCount=F,this.points=_,this.arcLength=O,"dashes"in i){var se=i.dashes,J=se.slice();for(J.unshift(0),E=1;E<J.length;++E)J[E]=J[E-1]+J[E];var G=h(new Array(256*4),[256,1,4]);for(E=0;E<256;++E){for(m=0;m<4;++m)G.set(E,0,m,0);g.le(J,J[J.length-1]*E/255)&1?G.set(E,0,0,0):G.set(E,0,0,255)}this.texture.setPixels(G)}},S.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},S.pick=function(i){if(!i||i.id!==this.pickId)return null;var E=f(i.value[0],i.value[1],i.value[2],0),m=g.le(this.arcLength,E);if(m<0)return null;if(m===this.arcLength.length-1)return new C(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),m);for(var k=this.points[m],I=this.points[Math.min(m+1,this.points.length-1)],O=(E-this.arcLength[m])/(this.arcLength[m+1]-this.arcLength[m]),_=1-O,B=[0,0,0],F=0;F<3;++F)B[F]=_*k[F]+O*I[F];var z=Math.min(O<.5?m:m+1,this.points.length-1);return new C(E,B,z,this.points[z])};function A(i){var E=i.gl||i.scene&&i.scene.gl,m=c(E);m.attributes.position.location=0,m.attributes.nextPosition.location=1,m.attributes.arcLength.location=2,m.attributes.lineWidth.location=3,m.attributes.color.location=4;var k=a(E);k.attributes.position.location=0,k.attributes.nextPosition.location=1,k.attributes.arcLength.location=2,k.attributes.lineWidth.location=3,k.attributes.color.location=4;for(var I=t(E),O=o(E,[{buffer:I,size:3,offset:0,stride:48},{buffer:I,size:3,offset:12,stride:48},{buffer:I,size:1,offset:24,stride:48},{buffer:I,size:1,offset:28,stride:48},{buffer:I,size:4,offset:32,stride:48}]),_=h(new Array(256*4),[256,1,4]),B=0;B<1024;++B)_.data[B]=255;var F=n(E,_);F.wrap=E.REPEAT;var z=new y(E,m,k,I,O,F);return z.update(i),z}},1903:function(v){v.exports=p;function p(r){var t=new Float32Array(16);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},6864:function(v){v.exports=p;function p(){var r=new Float32Array(16);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},9921:function(v){v.exports=p;function p(r){var t=r[0],o=r[1],n=r[2],l=r[3],u=r[4],f=r[5],g=r[6],h=r[7],w=r[8],c=r[9],a=r[10],d=r[11],x=r[12],T=r[13],C=r[14],y=r[15],S=t*f-o*u,A=t*g-n*u,i=t*h-l*u,E=o*g-n*f,m=o*h-l*f,k=n*h-l*g,I=w*T-c*x,O=w*C-a*x,_=w*y-d*x,B=c*C-a*T,F=c*y-d*T,z=a*y-d*C;return S*z-A*F+i*B+E*_-m*O+k*I}},7399:function(v){v.exports=p;function p(r,t){var o=t[0],n=t[1],l=t[2],u=t[3],f=o+o,g=n+n,h=l+l,w=o*f,c=n*f,a=n*g,d=l*f,x=l*g,T=l*h,C=u*f,y=u*g,S=u*h;return r[0]=1-a-T,r[1]=c+S,r[2]=d-y,r[3]=0,r[4]=c-S,r[5]=1-w-T,r[6]=x+C,r[7]=0,r[8]=d+y,r[9]=x-C,r[10]=1-w-a,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},6743:function(v){v.exports=p;function p(r,t,o){var n=t[0],l=t[1],u=t[2],f=t[3],g=n+n,h=l+l,w=u+u,c=n*g,a=n*h,d=n*w,x=l*h,T=l*w,C=u*w,y=f*g,S=f*h,A=f*w;return r[0]=1-(x+C),r[1]=a+A,r[2]=d-S,r[3]=0,r[4]=a-A,r[5]=1-(c+C),r[6]=T+y,r[7]=0,r[8]=d+S,r[9]=T-y,r[10]=1-(c+x),r[11]=0,r[12]=o[0],r[13]=o[1],r[14]=o[2],r[15]=1,r}},7894:function(v){v.exports=p;function p(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7608:function(v){v.exports=p;function p(r,t){var o=t[0],n=t[1],l=t[2],u=t[3],f=t[4],g=t[5],h=t[6],w=t[7],c=t[8],a=t[9],d=t[10],x=t[11],T=t[12],C=t[13],y=t[14],S=t[15],A=o*g-n*f,i=o*h-l*f,E=o*w-u*f,m=n*h-l*g,k=n*w-u*g,I=l*w-u*h,O=c*C-a*T,_=c*y-d*T,B=c*S-x*T,F=a*y-d*C,z=a*S-x*C,N=d*S-x*y,W=A*N-i*z+E*F+m*B-k*_+I*O;return W?(W=1/W,r[0]=(g*N-h*z+w*F)*W,r[1]=(l*z-n*N-u*F)*W,r[2]=(C*I-y*k+S*m)*W,r[3]=(d*k-a*I-x*m)*W,r[4]=(h*B-f*N-w*_)*W,r[5]=(o*N-l*B+u*_)*W,r[6]=(y*E-T*I-S*i)*W,r[7]=(c*I-d*E+x*i)*W,r[8]=(f*z-g*B+w*O)*W,r[9]=(n*B-o*z-u*O)*W,r[10]=(T*k-C*E+S*A)*W,r[11]=(a*E-c*k-x*A)*W,r[12]=(g*_-f*F-h*O)*W,r[13]=(o*F-n*_+l*O)*W,r[14]=(C*i-T*m-y*A)*W,r[15]=(c*m-a*i+d*A)*W,r):null}},6582:function(v,p,r){var t=r(7894);v.exports=o;function o(n,l,u,f){var g,h,w,c,a,d,x,T,C,y,S=l[0],A=l[1],i=l[2],E=f[0],m=f[1],k=f[2],I=u[0],O=u[1],_=u[2];return Math.abs(S-I)<1e-6&&Math.abs(A-O)<1e-6&&Math.abs(i-_)<1e-6?t(n):(x=S-I,T=A-O,C=i-_,y=1/Math.sqrt(x*x+T*T+C*C),x*=y,T*=y,C*=y,g=m*C-k*T,h=k*x-E*C,w=E*T-m*x,y=Math.sqrt(g*g+h*h+w*w),y?(y=1/y,g*=y,h*=y,w*=y):(g=0,h=0,w=0),c=T*w-C*h,a=C*g-x*w,d=x*h-T*g,y=Math.sqrt(c*c+a*a+d*d),y?(y=1/y,c*=y,a*=y,d*=y):(c=0,a=0,d=0),n[0]=g,n[1]=c,n[2]=x,n[3]=0,n[4]=h,n[5]=a,n[6]=T,n[7]=0,n[8]=w,n[9]=d,n[10]=C,n[11]=0,n[12]=-(g*S+h*A+w*i),n[13]=-(c*S+a*A+d*i),n[14]=-(x*S+T*A+C*i),n[15]=1,n)}},6760:function(v){v.exports=p;function p(r,t,o){var n=t[0],l=t[1],u=t[2],f=t[3],g=t[4],h=t[5],w=t[6],c=t[7],a=t[8],d=t[9],x=t[10],T=t[11],C=t[12],y=t[13],S=t[14],A=t[15],i=o[0],E=o[1],m=o[2],k=o[3];return r[0]=i*n+E*g+m*a+k*C,r[1]=i*l+E*h+m*d+k*y,r[2]=i*u+E*w+m*x+k*S,r[3]=i*f+E*c+m*T+k*A,i=o[4],E=o[5],m=o[6],k=o[7],r[4]=i*n+E*g+m*a+k*C,r[5]=i*l+E*h+m*d+k*y,r[6]=i*u+E*w+m*x+k*S,r[7]=i*f+E*c+m*T+k*A,i=o[8],E=o[9],m=o[10],k=o[11],r[8]=i*n+E*g+m*a+k*C,r[9]=i*l+E*h+m*d+k*y,r[10]=i*u+E*w+m*x+k*S,r[11]=i*f+E*c+m*T+k*A,i=o[12],E=o[13],m=o[14],k=o[15],r[12]=i*n+E*g+m*a+k*C,r[13]=i*l+E*h+m*d+k*y,r[14]=i*u+E*w+m*x+k*S,r[15]=i*f+E*c+m*T+k*A,r}},4040:function(v){v.exports=p;function p(r,t,o,n,l,u,f){var g=1/(t-o),h=1/(n-l),w=1/(u-f);return r[0]=-2*g,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*h,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*w,r[11]=0,r[12]=(t+o)*g,r[13]=(l+n)*h,r[14]=(f+u)*w,r[15]=1,r}},4772:function(v){v.exports=p;function p(r,t,o,n,l){var u=1/Math.tan(t/2),f=1/(n-l);return r[0]=u/o,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=u,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(l+n)*f,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*l*n*f,r[15]=0,r}},6079:function(v){v.exports=p;function p(r,t,o,n){var l=n[0],u=n[1],f=n[2],g=Math.sqrt(l*l+u*u+f*f),h,w,c,a,d,x,T,C,y,S,A,i,E,m,k,I,O,_,B,F,z,N,W,Z;return Math.abs(g)<1e-6?null:(g=1/g,l*=g,u*=g,f*=g,h=Math.sin(o),w=Math.cos(o),c=1-w,a=t[0],d=t[1],x=t[2],T=t[3],C=t[4],y=t[5],S=t[6],A=t[7],i=t[8],E=t[9],m=t[10],k=t[11],I=l*l*c+w,O=u*l*c+f*h,_=f*l*c-u*h,B=l*u*c-f*h,F=u*u*c+w,z=f*u*c+l*h,N=l*f*c+u*h,W=u*f*c-l*h,Z=f*f*c+w,r[0]=a*I+C*O+i*_,r[1]=d*I+y*O+E*_,r[2]=x*I+S*O+m*_,r[3]=T*I+A*O+k*_,r[4]=a*B+C*F+i*z,r[5]=d*B+y*F+E*z,r[6]=x*B+S*F+m*z,r[7]=T*B+A*F+k*z,r[8]=a*N+C*W+i*Z,r[9]=d*N+y*W+E*Z,r[10]=x*N+S*W+m*Z,r[11]=T*N+A*W+k*Z,t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r)}},5567:function(v){v.exports=p;function p(r,t,o){var n=Math.sin(o),l=Math.cos(o),u=t[4],f=t[5],g=t[6],h=t[7],w=t[8],c=t[9],a=t[10],d=t[11];return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[4]=u*l+w*n,r[5]=f*l+c*n,r[6]=g*l+a*n,r[7]=h*l+d*n,r[8]=w*l-u*n,r[9]=c*l-f*n,r[10]=a*l-g*n,r[11]=d*l-h*n,r}},2408:function(v){v.exports=p;function p(r,t,o){var n=Math.sin(o),l=Math.cos(o),u=t[0],f=t[1],g=t[2],h=t[3],w=t[8],c=t[9],a=t[10],d=t[11];return t!==r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=u*l-w*n,r[1]=f*l-c*n,r[2]=g*l-a*n,r[3]=h*l-d*n,r[8]=u*n+w*l,r[9]=f*n+c*l,r[10]=g*n+a*l,r[11]=h*n+d*l,r}},7089:function(v){v.exports=p;function p(r,t,o){var n=Math.sin(o),l=Math.cos(o),u=t[0],f=t[1],g=t[2],h=t[3],w=t[4],c=t[5],a=t[6],d=t[7];return t!==r&&(r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=u*l+w*n,r[1]=f*l+c*n,r[2]=g*l+a*n,r[3]=h*l+d*n,r[4]=w*l-u*n,r[5]=c*l-f*n,r[6]=a*l-g*n,r[7]=d*l-h*n,r}},2504:function(v){v.exports=p;function p(r,t,o){var n=o[0],l=o[1],u=o[2];return r[0]=t[0]*n,r[1]=t[1]*n,r[2]=t[2]*n,r[3]=t[3]*n,r[4]=t[4]*l,r[5]=t[5]*l,r[6]=t[6]*l,r[7]=t[7]*l,r[8]=t[8]*u,r[9]=t[9]*u,r[10]=t[10]*u,r[11]=t[11]*u,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},7656:function(v){v.exports=p;function p(r,t,o){var n=o[0],l=o[1],u=o[2],f,g,h,w,c,a,d,x,T,C,y,S;return t===r?(r[12]=t[0]*n+t[4]*l+t[8]*u+t[12],r[13]=t[1]*n+t[5]*l+t[9]*u+t[13],r[14]=t[2]*n+t[6]*l+t[10]*u+t[14],r[15]=t[3]*n+t[7]*l+t[11]*u+t[15]):(f=t[0],g=t[1],h=t[2],w=t[3],c=t[4],a=t[5],d=t[6],x=t[7],T=t[8],C=t[9],y=t[10],S=t[11],r[0]=f,r[1]=g,r[2]=h,r[3]=w,r[4]=c,r[5]=a,r[6]=d,r[7]=x,r[8]=T,r[9]=C,r[10]=y,r[11]=S,r[12]=f*n+c*l+T*u+t[12],r[13]=g*n+a*l+C*u+t[13],r[14]=h*n+d*l+y*u+t[14],r[15]=w*n+x*l+S*u+t[15]),r}},5665:function(v){v.exports=p;function p(r,t){if(r===t){var o=t[1],n=t[2],l=t[3],u=t[6],f=t[7],g=t[11];r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=o,r[6]=t[9],r[7]=t[13],r[8]=n,r[9]=u,r[11]=t[14],r[12]=l,r[13]=f,r[14]=g}else r[0]=t[0],r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=t[1],r[5]=t[5],r[6]=t[9],r[7]=t[13],r[8]=t[2],r[9]=t[6],r[10]=t[10],r[11]=t[14],r[12]=t[3],r[13]=t[7],r[14]=t[11],r[15]=t[15];return r}},7626:function(v,p,r){var t=r(2642),o=r(9346);v.exports=g;function n(h,w){for(var c=[0,0,0,0],a=0;a<4;++a)for(var d=0;d<4;++d)c[d]+=h[4*a+d]*w[a];return c}function l(h,w,c,a,d){for(var x=n(a,n(c,n(w,[h[0],h[1],h[2],1]))),T=0;T<3;++T)x[T]/=x[3];return[.5*d[0]*(1+x[0]),.5*d[1]*(1-x[1])]}function u(h,w){if(h.length===2){for(var c=0,a=0,d=0;d<2;++d)c+=Math.pow(w[d]-h[0][d],2),a+=Math.pow(w[d]-h[1][d],2);return c=Math.sqrt(c),a=Math.sqrt(a),c+a<1e-6?[1,0]:[a/(c+a),c/(a+c)]}else if(h.length===3){var x=[0,0];return o(h[0],h[1],h[2],w,x),t(h,x)}return[]}function f(h,w){for(var c=[0,0,0],a=0;a<h.length;++a)for(var d=h[a],x=w[a],T=0;T<3;++T)c[T]+=x*d[T];return c}function g(h,w,c,a,d,x){if(h.length===1)return[0,h[0].slice()];for(var T=new Array(h.length),C=0;C<h.length;++C)T[C]=l(h[C],c,a,d,x);for(var y=0,S=1/0,C=0;C<T.length;++C){for(var A=0,i=0;i<2;++i)A+=Math.pow(T[C][i]-w[i],2);A<S&&(S=A,y=C)}for(var E=u(T,w),m=0,C=0;C<3;++C){if(E[C]<-.001||E[C]>1.0001)return null;m+=E[C]}return Math.abs(m-1)>.001?null:[y,f(h,E),E]}},840:function(v,p,r){var t=r(3236),o=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),l=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * (view * (model * vec4(position, 1.0)));
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),g=t([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),h=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_id        = id;
  f_position  = position;
}`]),w=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),c=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * (view * (model * vec4(position, 1.0)));
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),a=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
}`]),d=t([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);p.meshShader={vertex:o,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.wireShader={vertex:l,fragment:u,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.pointShader={vertex:f,fragment:g,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},p.pickShader={vertex:h,fragment:w,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},p.pointPickShader={vertex:c,fragment:w,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},p.contourShader={vertex:a,fragment:d,attributes:[{name:"position",type:"vec3"}]}},7201:function(v,p,r){var t=1e-6,o=1e-6,n=r(9405),l=r(2762),u=r(8116),f=r(7766),g=r(8406),h=r(6760),w=r(7608),c=r(9618),a=r(6729),d=r(7765),x=r(1888),T=r(840),C=r(7626),y=T.meshShader,S=T.wireShader,A=T.pointShader,i=T.pickShader,E=T.pointPickShader,m=T.contourShader,k=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function I(ie,K,$,X,Q,se,J,G,oe,te,fe,ge,we,xe,Ce,De,Oe,Te,Re,Me,ke,Se,He,je,at,Ze,$e){this.gl=ie,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=K,this.dirty=!0,this.triShader=$,this.lineShader=X,this.pointShader=Q,this.pickShader=se,this.pointPickShader=J,this.contourShader=G,this.trianglePositions=oe,this.triangleColors=fe,this.triangleNormals=we,this.triangleUVs=ge,this.triangleIds=te,this.triangleVAO=xe,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Ce,this.edgeColors=Oe,this.edgeUVs=Te,this.edgeIds=De,this.edgeVAO=Re,this.edgeCount=0,this.pointPositions=Me,this.pointColors=Se,this.pointUVs=He,this.pointSizes=je,this.pointIds=ke,this.pointVAO=at,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=Ze,this.contourVAO=$e,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=k,this._view=k,this._projection=k,this._resolution=[1,1]}var O=I.prototype;O.isOpaque=function(){return!this.hasAlpha},O.isTransparent=function(){return this.hasAlpha},O.pickSlots=1,O.setPickBase=function(ie){this.pickId=ie};function _(ie,K){if(!K||!K.length)return 1;for(var $=0;$<K.length;++$){if(K.length<2)return 1;if(K[$][0]===ie)return K[$][1];if(K[$][0]>ie&&$>0){var X=(K[$][0]-ie)/(K[$][0]-K[$-1][0]);return K[$][1]*(1-X)+X*K[$-1][1]}}return 1}function B(ie,K){for(var $=a({colormap:ie,nshades:256,format:"rgba"}),X=new Uint8Array(256*4),Q=0;Q<256;++Q){for(var se=$[Q],J=0;J<3;++J)X[4*Q+J]=se[J];K?X[4*Q+3]=255*_(Q/255,K):X[4*Q+3]=255*se[3]}return c(X,[256,256,4],[4,0,1])}function F(ie){for(var K=ie.length,$=new Array(K),X=0;X<K;++X)$[X]=ie[X][2];return $}O.highlight=function(ie){if(!ie||!this.contourEnable){this.contourCount=0;return}for(var K=d(this.cells,this.intensity,ie.intensity),$=K.cells,X=K.vertexIds,Q=K.vertexWeights,se=$.length,J=x.mallocFloat32(2*3*se),G=0,oe=0;oe<se;++oe)for(var te=$[oe],fe=0;fe<2;++fe){var ge=te[0];te.length===2&&(ge=te[fe]);for(var we=X[ge][0],xe=X[ge][1],Ce=Q[ge],De=1-Ce,Oe=this.positions[we],Te=this.positions[xe],Re=0;Re<3;++Re)J[G++]=Ce*Oe[Re]+De*Te[Re]}this.contourCount=G/3|0,this.contourPositions.update(J.subarray(0,G)),x.free(J)},O.update=function(ie){ie=ie||{};var K=this.gl;this.dirty=!0,"contourEnable"in ie&&(this.contourEnable=ie.contourEnable),"contourColor"in ie&&(this.contourColor=ie.contourColor),"lineWidth"in ie&&(this.lineWidth=ie.lineWidth),"lightPosition"in ie&&(this.lightPosition=ie.lightPosition),this.hasAlpha=!1,"opacity"in ie&&(this.opacity=ie.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in ie&&(this.opacityscale=ie.opacityscale,this.hasAlpha=!0),"ambient"in ie&&(this.ambientLight=ie.ambient),"diffuse"in ie&&(this.diffuseLight=ie.diffuse),"specular"in ie&&(this.specularLight=ie.specular),"roughness"in ie&&(this.roughness=ie.roughness),"fresnel"in ie&&(this.fresnel=ie.fresnel),ie.texture?(this.texture.dispose(),this.texture=f(K,ie.texture)):ie.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=K.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=K.LINEAR,this.texture.setPixels(B(ie.colormap,this.opacityscale)),this.texture.generateMipmap());var $=ie.cells,X=ie.positions;if(!(!X||!$)){var Q=[],se=[],J=[],G=[],oe=[],te=[],fe=[],ge=[],we=[],xe=[],Ce=[],De=[],Oe=[],Te=[];this.cells=$,this.positions=X;var Re=ie.vertexNormals,Me=ie.cellNormals,ke=ie.vertexNormalsEpsilon===void 0?t:ie.vertexNormalsEpsilon,Se=ie.faceNormalsEpsilon===void 0?o:ie.faceNormalsEpsilon;ie.useFacetNormals&&!Me&&(Me=g.faceNormals($,X,Se)),!Me&&!Re&&(Re=g.vertexNormals($,X,ke));var He=ie.vertexColors,je=ie.cellColors,at=ie.meshColor||[1,1,1,1],Ze=ie.vertexUVs,$e=ie.vertexIntensity,ut=ie.cellUVs,ht=ie.cellIntensity,vt=1/0,xt=-1/0;if(!Ze&&!ut)if($e)if(ie.vertexIntensityBounds)vt=+ie.vertexIntensityBounds[0],xt=+ie.vertexIntensityBounds[1];else for(var St=0;St<$e.length;++St){var tt=$e[St];vt=Math.min(vt,tt),xt=Math.max(xt,tt)}else if(ht)if(ie.cellIntensityBounds)vt=+ie.cellIntensityBounds[0],xt=+ie.cellIntensityBounds[1];else for(var St=0;St<ht.length;++St){var tt=ht[St];vt=Math.min(vt,tt),xt=Math.max(xt,tt)}else for(var St=0;St<X.length;++St){var tt=X[St][2];vt=Math.min(vt,tt),xt=Math.max(xt,tt)}$e?this.intensity=$e:ht?this.intensity=ht:this.intensity=F(X),this.pickVertex=!(ht||je);var Ie=ie.pointSizes,Ve=ie.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var St=0;St<X.length;++St)for(var Ge=X[St],Xe=0;Xe<3;++Xe)isNaN(Ge[Xe])||!isFinite(Ge[Xe])||(this.bounds[0][Xe]=Math.min(this.bounds[0][Xe],Ge[Xe]),this.bounds[1][Xe]=Math.max(this.bounds[1][Xe],Ge[Xe]));var Le=0,Fe=0,Ue=0;e:for(var St=0;St<$.length;++St){var Ee=$[St];switch(Ee.length){case 1:for(var he=Ee[0],Ge=X[he],Xe=0;Xe<3;++Xe)if(isNaN(Ge[Xe])||!isFinite(Ge[Xe]))continue e;xe.push(Ge[0],Ge[1],Ge[2]);var ye;He?ye=He[he]:je?ye=je[St]:ye=at,this.opacityscale&&$e?se.push(ye[0],ye[1],ye[2],this.opacity*_(($e[he]-vt)/(xt-vt),this.opacityscale)):ye.length===3?Ce.push(ye[0],ye[1],ye[2],this.opacity):(Ce.push(ye[0],ye[1],ye[2],ye[3]*this.opacity),ye[3]<1&&(this.hasAlpha=!0));var _e;Ze?_e=Ze[he]:$e?_e=[($e[he]-vt)/(xt-vt),0]:ut?_e=ut[St]:ht?_e=[(ht[St]-vt)/(xt-vt),0]:_e=[(Ge[2]-vt)/(xt-vt),0],De.push(_e[0],_e[1]),Ie?Oe.push(Ie[he]):Oe.push(Ve),Te.push(St),Ue+=1;break;case 2:for(var Xe=0;Xe<2;++Xe)for(var he=Ee[Xe],Ge=X[he],We=0;We<3;++We)if(isNaN(Ge[We])||!isFinite(Ge[We]))continue e;for(var Xe=0;Xe<2;++Xe){var he=Ee[Xe],Ge=X[he];te.push(Ge[0],Ge[1],Ge[2]);var ye;He?ye=He[he]:je?ye=je[St]:ye=at,this.opacityscale&&$e?se.push(ye[0],ye[1],ye[2],this.opacity*_(($e[he]-vt)/(xt-vt),this.opacityscale)):ye.length===3?fe.push(ye[0],ye[1],ye[2],this.opacity):(fe.push(ye[0],ye[1],ye[2],ye[3]*this.opacity),ye[3]<1&&(this.hasAlpha=!0));var _e;Ze?_e=Ze[he]:$e?_e=[($e[he]-vt)/(xt-vt),0]:ut?_e=ut[St]:ht?_e=[(ht[St]-vt)/(xt-vt),0]:_e=[(Ge[2]-vt)/(xt-vt),0],ge.push(_e[0],_e[1]),we.push(St)}Fe+=1;break;case 3:for(var Xe=0;Xe<3;++Xe)for(var he=Ee[Xe],Ge=X[he],We=0;We<3;++We)if(isNaN(Ge[We])||!isFinite(Ge[We]))continue e;for(var Xe=0;Xe<3;++Xe){var he=Ee[2-Xe],Ge=X[he];Q.push(Ge[0],Ge[1],Ge[2]);var ye;He?ye=He[he]:je?ye=je[St]:ye=at,ye?this.opacityscale&&$e?se.push(ye[0],ye[1],ye[2],this.opacity*_(($e[he]-vt)/(xt-vt),this.opacityscale)):ye.length===3?se.push(ye[0],ye[1],ye[2],this.opacity):(se.push(ye[0],ye[1],ye[2],ye[3]*this.opacity),ye[3]<1&&(this.hasAlpha=!0)):se.push(.5,.5,.5,1);var _e;Ze?_e=Ze[he]:$e?_e=[($e[he]-vt)/(xt-vt),0]:ut?_e=ut[St]:ht?_e=[(ht[St]-vt)/(xt-vt),0]:_e=[(Ge[2]-vt)/(xt-vt),0],G.push(_e[0],_e[1]);var rt;Re?rt=Re[he]:rt=Me[St],J.push(rt[0],rt[1],rt[2]),oe.push(St)}Le+=1;break}}this.pointCount=Ue,this.edgeCount=Fe,this.triangleCount=Le,this.pointPositions.update(xe),this.pointColors.update(Ce),this.pointUVs.update(De),this.pointSizes.update(Oe),this.pointIds.update(new Uint32Array(Te)),this.edgePositions.update(te),this.edgeColors.update(fe),this.edgeUVs.update(ge),this.edgeIds.update(new Uint32Array(we)),this.trianglePositions.update(Q),this.triangleColors.update(se),this.triangleUVs.update(G),this.triangleNormals.update(J),this.triangleIds.update(new Uint32Array(oe))}},O.drawTransparent=O.draw=function(ie){ie=ie||{};for(var K=this.gl,$=ie.model||k,X=ie.view||k,Q=ie.projection||k,se=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],J=0;J<3;++J)se[0][J]=Math.max(se[0][J],this.clipBounds[0][J]),se[1][J]=Math.min(se[1][J],this.clipBounds[1][J]);var G={model:$,view:X,projection:Q,inverseModel:k.slice(),clipBounds:se,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};G.inverseModel=w(G.inverseModel,G.model),K.disable(K.CULL_FACE),this.texture.bind(0);var oe=new Array(16);h(oe,G.view,G.model),h(oe,G.projection,oe),w(oe,oe);for(var J=0;J<3;++J)G.eyePosition[J]=oe[12+J]/oe[15];for(var te=oe[15],J=0;J<3;++J)te+=this.lightPosition[J]*oe[4*J+3];for(var J=0;J<3;++J){for(var fe=oe[12+J],ge=0;ge<3;++ge)fe+=oe[4*ge+J]*this.lightPosition[ge];G.lightPosition[J]=fe/te}if(this.triangleCount>0){var we=this.triShader;we.bind(),we.uniforms=G,this.triangleVAO.bind(),K.drawArrays(K.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var we=this.lineShader;we.bind(),we.uniforms=G,this.edgeVAO.bind(),K.lineWidth(this.lineWidth*this.pixelRatio),K.drawArrays(K.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var we=this.pointShader;we.bind(),we.uniforms=G,this.pointVAO.bind(),K.drawArrays(K.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var we=this.contourShader;we.bind(),we.uniforms=G,this.contourVAO.bind(),K.drawArrays(K.LINES,0,this.contourCount),this.contourVAO.unbind()}},O.drawPick=function(ie){ie=ie||{};for(var K=this.gl,$=ie.model||k,X=ie.view||k,Q=ie.projection||k,se=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],J=0;J<3;++J)se[0][J]=Math.max(se[0][J],this.clipBounds[0][J]),se[1][J]=Math.min(se[1][J],this.clipBounds[1][J]);this._model=[].slice.call($),this._view=[].slice.call(X),this._projection=[].slice.call(Q),this._resolution=[K.drawingBufferWidth,K.drawingBufferHeight];var G={model:$,view:X,projection:Q,clipBounds:se,pickId:this.pickId/255},oe=this.pickShader;if(oe.bind(),oe.uniforms=G,this.triangleCount>0&&(this.triangleVAO.bind(),K.drawArrays(K.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),K.lineWidth(this.lineWidth*this.pixelRatio),K.drawArrays(K.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var oe=this.pointPickShader;oe.bind(),oe.uniforms=G,this.pointVAO.bind(),K.drawArrays(K.POINTS,0,this.pointCount),this.pointVAO.unbind()}},O.pick=function(ie){if(!ie||ie.id!==this.pickId)return null;for(var K=ie.value[0]+256*ie.value[1]+65536*ie.value[2],$=this.cells[K],X=this.positions,Q=new Array($.length),se=0;se<$.length;++se)Q[se]=X[$[se]];var J=ie.coord[0],G=ie.coord[1];if(!this.pickVertex){var oe=this.positions[$[0]],te=this.positions[$[1]],fe=this.positions[$[2]],ge=[(oe[0]+te[0]+fe[0])/3,(oe[1]+te[1]+fe[1])/3,(oe[2]+te[2]+fe[2])/3];return{_cellCenter:!0,position:[J,G],index:K,cell:$,cellId:K,intensity:this.intensity[K],dataCoordinate:ge}}var we=C(Q,[J*this.pixelRatio,this._resolution[1]-G*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!we)return null;for(var xe=we[2],Ce=0,se=0;se<$.length;++se)Ce+=xe[se]*this.intensity[$[se]];return{position:we[1],index:$[we[0]],cell:$,cellId:K,intensity:Ce,dataCoordinate:this.positions[$[we[0]]]}},O.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function z(ie){var K=n(ie,y.vertex,y.fragment);return K.attributes.position.location=0,K.attributes.color.location=2,K.attributes.uv.location=3,K.attributes.normal.location=4,K}function N(ie){var K=n(ie,S.vertex,S.fragment);return K.attributes.position.location=0,K.attributes.color.location=2,K.attributes.uv.location=3,K}function W(ie){var K=n(ie,A.vertex,A.fragment);return K.attributes.position.location=0,K.attributes.color.location=2,K.attributes.uv.location=3,K.attributes.pointSize.location=4,K}function Z(ie){var K=n(ie,i.vertex,i.fragment);return K.attributes.position.location=0,K.attributes.id.location=1,K}function q(ie){var K=n(ie,E.vertex,E.fragment);return K.attributes.position.location=0,K.attributes.id.location=1,K.attributes.pointSize.location=4,K}function re(ie){var K=n(ie,m.vertex,m.fragment);return K.attributes.position.location=0,K}function le(ie,K){arguments.length===1&&(K=ie,ie=K.gl);var $=ie.getExtension("OES_standard_derivatives")||ie.getExtension("MOZ_OES_standard_derivatives")||ie.getExtension("WEBKIT_OES_standard_derivatives");if(!$)throw new Error("derivatives not supported");var X=z(ie),Q=N(ie),se=W(ie),J=Z(ie),G=q(ie),oe=re(ie),te=f(ie,c(new Uint8Array([255,255,255,255]),[1,1,4]));te.generateMipmap(),te.minFilter=ie.LINEAR_MIPMAP_LINEAR,te.magFilter=ie.LINEAR;var fe=l(ie),ge=l(ie),we=l(ie),xe=l(ie),Ce=l(ie),De=u(ie,[{buffer:fe,type:ie.FLOAT,size:3},{buffer:Ce,type:ie.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ge,type:ie.FLOAT,size:4},{buffer:we,type:ie.FLOAT,size:2},{buffer:xe,type:ie.FLOAT,size:3}]),Oe=l(ie),Te=l(ie),Re=l(ie),Me=l(ie),ke=u(ie,[{buffer:Oe,type:ie.FLOAT,size:3},{buffer:Me,type:ie.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Te,type:ie.FLOAT,size:4},{buffer:Re,type:ie.FLOAT,size:2}]),Se=l(ie),He=l(ie),je=l(ie),at=l(ie),Ze=l(ie),$e=u(ie,[{buffer:Se,type:ie.FLOAT,size:3},{buffer:Ze,type:ie.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:He,type:ie.FLOAT,size:4},{buffer:je,type:ie.FLOAT,size:2},{buffer:at,type:ie.FLOAT,size:1}]),ut=l(ie),ht=u(ie,[{buffer:ut,type:ie.FLOAT,size:3}]),vt=new I(ie,te,X,Q,se,J,G,oe,fe,Ce,ge,we,xe,De,Oe,Me,Te,Re,ke,Se,Ze,He,je,at,$e,ut,ht);return vt.update(K),vt}v.exports=le},8120:function(v,p,r){v.exports=f;var t=r(2762),o=r(9405),n=r(3603);function l(g,h,w){this.plot=g,this.vbo=h,this.shader=w}var u=l.prototype;u.bind=function(){var g=this.shader;this.vbo.bind(),this.shader.bind(),g.attributes.coord.pointer(),g.uniforms.screenBox=this.plot.screenBox},u.drawBox=function(){var g=[0,0],h=[0,0];return function(w,c,a,d,x){var T=this.plot,C=this.shader,y=T.gl;g[0]=w,g[1]=c,h[0]=a,h[1]=d,C.uniforms.lo=g,C.uniforms.hi=h,C.uniforms.color=x,y.drawArrays(y.TRIANGLE_STRIP,0,4)}}(),u.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function f(g){var h=g.gl,w=t(h,[0,0,0,1,1,0,1,1]),c=o(h,n.boxVert,n.lineFrag);return new l(g,w,c)}},1913:function(v,p,r){v.exports=h;var t=r(2762),o=r(9405),n=r(2478),l=r(3603);function u(w,c,a,d){this.plot=w,this.vbo=c,this.shader=a,this.tickShader=d,this.ticks=[[],[]]}function f(w,c){return w-c}var g=u.prototype;g.draw=function(){var w=[0,0],c=[0,0],a=[0,0];return function(){for(var d=this.plot,x=this.vbo,T=this.shader,C=this.ticks,y=d.gl,S=d._tickBounds,A=d.dataBox,i=d.viewBox,E=d.gridLineWidth,m=d.gridLineColor,k=d.gridLineEnable,I=d.pixelRatio,O=0;O<2;++O){var _=S[O],B=S[O+2],F=B-_,z=.5*(A[O+2]+A[O]),N=A[O+2]-A[O];c[O]=2*F/N,w[O]=2*(_-z)/N}T.bind(),x.bind(),T.attributes.dataCoord.pointer(),T.uniforms.dataShift=w,T.uniforms.dataScale=c;for(var W=0,O=0;O<2;++O){a[0]=a[1]=0,a[O]=1,T.uniforms.dataAxis=a,T.uniforms.lineWidth=E[O]/(i[O+2]-i[O])*I,T.uniforms.color=m[O];var Z=C[O].length*6;k[O]&&Z&&y.drawArrays(y.TRIANGLES,W,Z),W+=Z}}}(),g.drawTickMarks=function(){var w=[0,0],c=[0,0],a=[1,0],d=[0,1],x=[0,0],T=[0,0];return function(){for(var C=this.plot,y=this.vbo,S=this.tickShader,A=this.ticks,i=C.gl,E=C._tickBounds,m=C.dataBox,k=C.viewBox,I=C.pixelRatio,O=C.screenBox,_=O[2]-O[0],B=O[3]-O[1],F=k[2]-k[0],z=k[3]-k[1],N=0;N<2;++N){var W=E[N],Z=E[N+2],q=Z-W,re=.5*(m[N+2]+m[N]),le=m[N+2]-m[N];c[N]=2*q/le,w[N]=2*(W-re)/le}c[0]*=F/_,w[0]*=F/_,c[1]*=z/B,w[1]*=z/B,S.bind(),y.bind(),S.attributes.dataCoord.pointer();var ie=S.uniforms;ie.dataShift=w,ie.dataScale=c;var K=C.tickMarkLength,$=C.tickMarkWidth,X=C.tickMarkColor,Q=0,se=A[0].length*6,J=Math.min(n.ge(A[0],(m[0]-E[0])/(E[2]-E[0]),f),A[0].length),G=Math.min(n.gt(A[0],(m[2]-E[0])/(E[2]-E[0]),f),A[0].length),oe=Q+6*J,te=6*Math.max(0,G-J),fe=Math.min(n.ge(A[1],(m[1]-E[1])/(E[3]-E[1]),f),A[1].length),ge=Math.min(n.gt(A[1],(m[3]-E[1])/(E[3]-E[1]),f),A[1].length),we=se+6*fe,xe=6*Math.max(0,ge-fe);x[0]=2*(k[0]-K[1])/_-1,x[1]=(k[3]+k[1])/B-1,T[0]=K[1]*I/_,T[1]=$[1]*I/B,xe&&(ie.color=X[1],ie.tickScale=T,ie.dataAxis=d,ie.screenOffset=x,i.drawArrays(i.TRIANGLES,we,xe)),x[0]=(k[2]+k[0])/_-1,x[1]=2*(k[1]-K[0])/B-1,T[0]=$[0]*I/_,T[1]=K[0]*I/B,te&&(ie.color=X[0],ie.tickScale=T,ie.dataAxis=a,ie.screenOffset=x,i.drawArrays(i.TRIANGLES,oe,te)),x[0]=2*(k[2]+K[3])/_-1,x[1]=(k[3]+k[1])/B-1,T[0]=K[3]*I/_,T[1]=$[3]*I/B,xe&&(ie.color=X[3],ie.tickScale=T,ie.dataAxis=d,ie.screenOffset=x,i.drawArrays(i.TRIANGLES,we,xe)),x[0]=(k[2]+k[0])/_-1,x[1]=2*(k[3]+K[2])/B-1,T[0]=$[2]*I/_,T[1]=K[2]*I/B,te&&(ie.color=X[2],ie.tickScale=T,ie.dataAxis=a,ie.screenOffset=x,i.drawArrays(i.TRIANGLES,oe,te))}}(),g.update=function(){var w=[1,1,-1,-1,1,-1],c=[1,-1,1,1,-1,-1];return function(a){var d=a.ticks,x=a.bounds,T=new Float32Array(6*3*(d[0].length+d[1].length));this.plot.zeroLineEnable;for(var C=0,y=[[],[]],S=0;S<2;++S)for(var A=y[S],i=d[S],E=x[S],m=x[S+2],k=0;k<i.length;++k){var I=(i[k].x-E)/(m-E);A.push(I);for(var O=0;O<6;++O)T[C++]=I,T[C++]=w[O],T[C++]=c[O]}this.ticks=y,this.vbo.update(T)}}(),g.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function h(w){var c=w.gl,a=t(c),d=o(c,l.gridVert,l.gridFrag),x=o(c,l.tickVert,l.gridFrag),T=new u(w,a,d,x);return T}},4747:function(v,p,r){v.exports=f;var t=r(2762),o=r(9405),n=r(3603);function l(g,h,w){this.plot=g,this.vbo=h,this.shader=w}var u=l.prototype;u.bind=function(){var g=this.shader;this.vbo.bind(),this.shader.bind(),g.attributes.coord.pointer(),g.uniforms.screenBox=this.plot.screenBox},u.drawLine=function(){var g=[0,0],h=[0,0];return function(w,c,a,d,x,T){var C=this.plot,y=this.shader,S=C.gl;g[0]=w,g[1]=c,h[0]=a,h[1]=d,y.uniforms.start=g,y.uniforms.end=h,y.uniforms.width=x*C.pixelRatio,y.uniforms.color=T,S.drawArrays(S.TRIANGLE_STRIP,0,4)}}(),u.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function f(g){var h=g.gl,w=t(h,[-1,-1,-1,1,1,-1,1,1]),c=o(h,n.lineVert,n.lineFrag),a=new l(g,w,c);return a}},3603:function(v,p,r){var t=r(3236),o=t([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);v.exports={lineVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:o,textVert:t([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:o,gridVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:o,boxVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},2142:function(v,p,r){v.exports=h;var t=r(2762),o=r(9405),n=r(529),l=r(2478),u=r(3603);function f(w,c,a){this.plot=w,this.vbo=c,this.shader=a,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var g=f.prototype;g.drawTicks=function(){var w=[0,0],c=[0,0],a=[0,0];return function(d){var x=this.plot,T=this.shader,C=this.tickX[d],y=this.tickOffset[d],S=x.gl,A=x.viewBox,i=x.dataBox,E=x.screenBox,m=x.pixelRatio,k=x.tickEnable,I=x.tickPad,O=x.tickColor,_=x.tickAngle,B=x.labelEnable,F=x.labelPad,z=x.labelColor,N=x.labelAngle,W=this.labelOffset[d],Z=this.labelCount[d],q=l.lt(C,i[d]),re=l.le(C,i[d+2]);w[0]=w[1]=0,w[d]=1,c[d]=(A[2+d]+A[d])/(E[2+d]-E[d])-1;var le=2/E[2+(d^1)]-E[d^1];c[d^1]=le*A[d^1]-1,k[d]&&(c[d^1]-=le*m*I[d],q<re&&y[re]>y[q]&&(T.uniforms.dataAxis=w,T.uniforms.screenOffset=c,T.uniforms.color=O[d],T.uniforms.angle=_[d],S.drawArrays(S.TRIANGLES,y[q],y[re]-y[q]))),B[d]&&Z&&(c[d^1]-=le*m*F[d],T.uniforms.dataAxis=a,T.uniforms.screenOffset=c,T.uniforms.color=z[d],T.uniforms.angle=N[d],S.drawArrays(S.TRIANGLES,W,Z)),c[d^1]=le*A[2+(d^1)]-1,k[d+2]&&(c[d^1]+=le*m*I[d+2],q<re&&y[re]>y[q]&&(T.uniforms.dataAxis=w,T.uniforms.screenOffset=c,T.uniforms.color=O[d+2],T.uniforms.angle=_[d+2],S.drawArrays(S.TRIANGLES,y[q],y[re]-y[q]))),B[d+2]&&Z&&(c[d^1]+=le*m*F[d+2],T.uniforms.dataAxis=a,T.uniforms.screenOffset=c,T.uniforms.color=z[d+2],T.uniforms.angle=N[d+2],S.drawArrays(S.TRIANGLES,W,Z))}}(),g.drawTitle=function(){var w=[0,0],c=[0,0];return function(){var a=this.plot,d=this.shader,x=a.gl,T=a.screenBox,C=a.titleCenter,y=a.titleAngle,S=a.titleColor,A=a.pixelRatio;if(this.titleCount){for(var i=0;i<2;++i)c[i]=2*(C[i]*A-T[i])/(T[2+i]-T[i])-1;d.bind(),d.uniforms.dataAxis=w,d.uniforms.screenOffset=c,d.uniforms.angle=y,d.uniforms.color=S,x.drawArrays(x.TRIANGLES,this.titleOffset,this.titleCount)}}}(),g.bind=function(){var w=[0,0],c=[0,0],a=[0,0];return function(){var d=this.plot,x=this.shader,T=d._tickBounds,C=d.dataBox,y=d.screenBox,S=d.viewBox;x.bind();for(var A=0;A<2;++A){var i=T[A],E=T[A+2],m=E-i,k=.5*(C[A+2]+C[A]),I=C[A+2]-C[A],O=S[A],_=S[A+2],B=_-O,F=y[A],z=y[A+2],N=z-F;c[A]=2*m/I*B/N,w[A]=2*(i-k)/I*B/N}a[1]=2*d.pixelRatio/(y[3]-y[1]),a[0]=a[1]*(y[3]-y[1])/(y[2]-y[0]),x.uniforms.dataScale=c,x.uniforms.dataShift=w,x.uniforms.textScale=a,this.vbo.bind(),x.attributes.textCoordinate.pointer()}}(),g.update=function(w){var c=[],a=w.ticks,d=w.bounds,x,T,C,y,S;for(S=0;S<2;++S){var A=[Math.floor(c.length/3)],i=[-1/0],E=a[S];for(x=0;x<E.length;++x){var m=E[x],k=m.x,I=m.text,O=m.font||"sans-serif",_=m.fontStyle||"normal",B=m.fontWeight||"normal",F=m.fontVariant||"normal";y=m.fontSize||12;for(var z=1/(d[S+2]-d[S]),N=d[S],W=I.split(`
`),Z=0;Z<W.length;Z++)for(C=n(O,W[Z],{fontStyle:_,fontWeight:B,fontVariant:F}).data,T=0;T<C.length;T+=2)c.push(C[T]*y,-C[T+1]*y-Z*y*1.2,(k-N)*z);A.push(Math.floor(c.length/3)),i.push(k)}this.tickOffset[S]=A,this.tickX[S]=i}for(S=0;S<2;++S){for(this.labelOffset[S]=Math.floor(c.length/3),C=n(w.labelFont[S],w.labels[S],{fontStyle:w.labelFontStyle[S],fontWeight:w.labelFontWeight[S],fontVariant:w.labelFontVariant[S],textAlign:"center"}).data,y=w.labelSize[S],x=0;x<C.length;x+=2)c.push(C[x]*y,-C[x+1]*y,0);this.labelCount[S]=Math.floor(c.length/3)-this.labelOffset[S]}for(this.titleOffset=Math.floor(c.length/3),C=n(w.titleFont,w.title,{fontStyle:w.titleFontStyle,fontWeight:w.titleFontWeight,fontVariant:w.titleFontVariant}).data,y=w.titleSize,x=0;x<C.length;x+=2)c.push(C[x]*y,-C[x+1]*y,0);this.titleCount=Math.floor(c.length/3)-this.titleOffset,this.vbo.update(c)},g.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function h(w){var c=w.gl,a=t(c),d=o(c,u.textVert,u.textFrag),x=new f(w,a,d);return x}},1850:function(v,p,r){v.exports=c;var t=r(3589),o=r(1913),n=r(2142),l=r(4747),u=r(8120);function f(a,d){this.gl=a,this.pickBuffer=d,this.screenBox=[0,0,a.drawingBufferWidth,a.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var g=f.prototype;g.setDirty=function(){this.dirty=this.pickDirty=!0},g.setOverlayDirty=function(){this.dirty=!0},g.nextDepthValue=function(){return this._depthCounter++/65536},g.draw=function(){return function(){var a=this.gl,d=this.screenBox,x=this.viewBox,T=this.dataBox,C=this.pixelRatio,y=this.grid,S=this.line,A=this.text,i=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,a.bindFramebuffer(a.FRAMEBUFFER,null),a.enable(a.SCISSOR_TEST),a.disable(a.DEPTH_TEST),a.depthFunc(a.LESS),a.depthMask(!1),a.enable(a.BLEND),a.blendEquation(a.FUNC_ADD,a.FUNC_ADD),a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA),this.borderColor){a.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]);var E=this.borderColor;a.clearColor(E[0]*E[3],E[1]*E[3],E[2]*E[3],E[3]),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)}a.scissor(x[0],x[1],x[2]-x[0],x[3]-x[1]),a.viewport(x[0],x[1],x[2]-x[0],x[3]-x[1]);var m=this.backgroundColor;a.clearColor(m[0]*m[3],m[1]*m[3],m[2]*m[3],m[3]),a.clear(a.COLOR_BUFFER_BIT),y.draw();var k=this.zeroLineEnable,I=this.zeroLineColor,O=this.zeroLineWidth;if(k[0]||k[1]){S.bind();for(var _=0;_<2;++_)if(!(!k[_]||!(T[_]<=0&&T[_+2]>=0))){var B=d[_]-T[_]*(d[_+2]-d[_])/(T[_+2]-T[_]);_===0?S.drawLine(B,d[1],B,d[3],O[_],I[_]):S.drawLine(d[0],B,d[2],B,O[_],I[_])}}for(var _=0;_<i.length;++_)i[_].draw();a.viewport(d[0],d[1],d[2]-d[0],d[3]-d[1]),a.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]),this.grid.drawTickMarks(),S.bind();var F=this.borderLineEnable,z=this.borderLineWidth,N=this.borderLineColor;F[1]&&S.drawLine(x[0],x[1]-.5*z[1]*C,x[0],x[3]+.5*z[3]*C,z[1],N[1]),F[0]&&S.drawLine(x[0]-.5*z[0]*C,x[1],x[2]+.5*z[2]*C,x[1],z[0],N[0]),F[3]&&S.drawLine(x[2],x[1]-.5*z[1]*C,x[2],x[3]+.5*z[3]*C,z[3],N[3]),F[2]&&S.drawLine(x[0]-.5*z[0]*C,x[3],x[2]+.5*z[2]*C,x[3],z[2],N[2]),A.bind();for(var _=0;_<2;++_)A.drawTicks(_);this.titleEnable&&A.drawTitle();for(var W=this.overlays,_=0;_<W.length;++_)W[_].draw();a.disable(a.SCISSOR_TEST),a.disable(a.BLEND),a.depthMask(!0)}}}(),g.drawPick=function(){return function(){if(!this.static){var a=this.pickBuffer;this.gl,this._pickTimeout=null,a.begin();for(var d=1,x=this.objects,T=0;T<x.length;++T)d=x[T].drawPick(d);a.end()}}}(),g.pick=function(){return function(a,d){if(!this.static){var x=this.pixelRatio,T=this.pickPixelRatio,C=this.viewBox,y=Math.round((a-C[0]/x)*T)|0,S=Math.round((d-C[1]/x)*T)|0,A=this.pickBuffer.query(y,S,this.pickRadius);if(!A)return null;for(var i=A.id+(A.value[0]<<8)+(A.value[1]<<16)+(A.value[2]<<24),E=this.objects,m=0;m<E.length;++m){var k=E[m].pick(y,S,i);if(k)return k}return null}}}();function h(a){for(var d=a.slice(),x=0;x<d.length;++x)d[x]=d[x].slice();return d}function w(a,d){return a.x-d.x}g.setScreenBox=function(a){var d=this.screenBox,x=this.pixelRatio;d[0]=Math.round(a[0]*x)|0,d[1]=Math.round(a[1]*x)|0,d[2]=Math.round(a[2]*x)|0,d[3]=Math.round(a[3]*x)|0,this.setDirty()},g.setDataBox=function(a){var d=this.dataBox,x=d[0]!==a[0]||d[1]!==a[1]||d[2]!==a[2]||d[3]!==a[3];x&&(d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3],this.setDirty())},g.setViewBox=function(a){var d=this.pixelRatio,x=this.viewBox;x[0]=Math.round(a[0]*d)|0,x[1]=Math.round(a[1]*d)|0,x[2]=Math.round(a[2]*d)|0,x[3]=Math.round(a[3]*d)|0;var T=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((a[2]-a[0])*T)|0,Math.round((a[3]-a[1])*T)|0],this.setDirty()},g.update=function(a){a=a||{};var d=this.gl;this.pixelRatio=a.pixelRatio||1;var x=this.pixelRatio;this.pickPixelRatio=Math.max(x,1),this.setScreenBox(a.screenBox||[0,0,d.drawingBufferWidth/x,d.drawingBufferHeight/x]),this.screenBox,this.setViewBox(a.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/x,.125*(this.screenBox[3]-this.screenBox[1])/x,.875*(this.screenBox[2]-this.screenBox[0])/x,.875*(this.screenBox[3]-this.screenBox[1])/x]);var T=this.viewBox,C=(T[2]-T[0])/(T[3]-T[1]);this.setDataBox(a.dataBox||[-10,-10/C,10,10/C]),this.borderColor=a.borderColor!==!1?(a.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(a.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(a.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(a.gridLineWidth||[1,1]).slice(),this.gridLineColor=h(a.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(a.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(a.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=h(a.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(a.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(a.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=h(a.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(a.titleCenter||[.5*(T[0]+T[2])/x,(T[3]+120)/x]).slice(),this.titleEnable=!("titleEnable"in a)||!!a.titleEnable,this.titleAngle=a.titleAngle||0,this.titleColor=(a.titleColor||[0,0,0,1]).slice(),this.labelPad=(a.labelPad||[15,15,15,15]).slice(),this.labelAngle=(a.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(a.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=h(a.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(a.tickPad||[15,15,15,15]).slice(),this.tickAngle=(a.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(a.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=h(a.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(a.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(a.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=h(a.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var y=a.ticks||[[],[]],S=this._tickBounds;S[0]=S[1]=1/0,S[2]=S[3]=-1/0;for(var A=0;A<2;++A){var i=y[A].slice(0);i.length!==0&&(i.sort(w),S[A]=Math.min(S[A],i[0].x),S[A+2]=Math.max(S[A+2],i[i.length-1].x))}this.grid.update({bounds:S,ticks:y}),this.text.update({bounds:S,ticks:y,labels:a.labels||["x","y"],labelSize:a.labelSize||[12,12],labelFont:a.labelFont||["sans-serif","sans-serif"],labelFontStyle:a.labelFontStyle||["normal","normal"],labelFontWeight:a.labelFontWeight||["normal","normal"],labelFontVariant:a.labelFontVariant||["normal","normal"],title:a.title||"",titleSize:a.titleSize||18,titleFont:a.titleFont||"sans-serif",titleFontStyle:a.titleFontStyle||"normal",titleFontWeight:a.titleFontWeight||"normal",titleFontVariant:a.titleFontVariant||"normal"}),this.static=!!a.static,this.setDirty()},g.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var a=this.objects.length-1;a>=0;--a)this.objects[a].dispose();this.objects.length=0;for(var a=this.overlays.length-1;a>=0;--a)this.overlays[a].dispose();this.overlays.length=0,this.gl=null},g.addObject=function(a){this.objects.indexOf(a)<0&&(this.objects.push(a),this.setDirty())},g.removeObject=function(a){for(var d=this.objects,x=0;x<d.length;++x)if(d[x]===a){d.splice(x,1),this.setDirty();break}},g.addOverlay=function(a){this.overlays.indexOf(a)<0&&(this.overlays.push(a),this.setOverlayDirty())},g.removeOverlay=function(a){for(var d=this.overlays,x=0;x<d.length;++x)if(d[x]===a){d.splice(x,1),this.setOverlayDirty();break}};function c(a){var d=a.gl,x=t(d,[d.drawingBufferWidth,d.drawingBufferHeight]),T=new f(d,x);return T.grid=o(T),T.text=n(T),T.line=l(T),T.box=u(T),T.update(a),T}},4437:function(v,p,r){v.exports=g;var t=r(3025),o=r(6296),n=r(351),l=r(8512),u=r(24),f=r(7520);function g(h,w){h=h||document.body,w=w||{};var c=[.01,1/0];"distanceLimits"in w&&(c[0]=w.distanceLimits[0],c[1]=w.distanceLimits[1]),"zoomMin"in w&&(c[0]=w.zoomMin),"zoomMax"in w&&(c[1]=w.zoomMax);var a=o({center:w.center||[0,0,0],up:w.up||[0,1,0],eye:w.eye||[0,0,10],mode:w.mode||"orbit",distanceLimits:c}),d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0,T=h.clientWidth,C=h.clientHeight,y={keyBindingMode:"rotate",enableWheel:!0,view:a,element:h,delay:w.delay||16,rotateSpeed:w.rotateSpeed||1,zoomSpeed:w.zoomSpeed||1,translateSpeed:w.translateSpeed||1,flipX:!!w.flipX,flipY:!!w.flipY,modes:a.modes,_ortho:w._ortho||w.projection&&w.projection.type==="orthographic"||!1,tick:function(){var S=t(),A=this.delay,i=S-2*A;a.idle(S-A),a.recalcMatrix(i),a.flush(S-(100+A*2));for(var E=!0,m=a.computedMatrix,k=0;k<16;++k)E=E&&d[k]===m[k],d[k]=m[k];var I=h.clientWidth===T&&h.clientHeight===C;return T=h.clientWidth,C=h.clientHeight,E?!I:(x=Math.exp(a.computedRadius[0]),!0)},lookAt:function(S,A,i){a.lookAt(a.lastT(),S,A,i)},rotate:function(S,A,i){a.rotate(a.lastT(),S,A,i)},pan:function(S,A,i){a.pan(a.lastT(),S,A,i)},translate:function(S,A,i){a.translate(a.lastT(),S,A,i)}};return Object.defineProperties(y,{matrix:{get:function(){return a.computedMatrix},set:function(S){return a.setMatrix(a.lastT(),S),a.computedMatrix},enumerable:!0},mode:{get:function(){return a.getMode()},set:function(S){var A=a.computedUp.slice(),i=a.computedEye.slice(),E=a.computedCenter.slice();if(a.setMode(S),S==="turntable"){var m=t();a._active.lookAt(m,i,E,A),a._active.lookAt(m+500,i,E,[0,0,1]),a._active.flush(m)}return a.getMode()},enumerable:!0},center:{get:function(){return a.computedCenter},set:function(S){return a.lookAt(a.lastT(),null,S),a.computedCenter},enumerable:!0},eye:{get:function(){return a.computedEye},set:function(S){return a.lookAt(a.lastT(),S),a.computedEye},enumerable:!0},up:{get:function(){return a.computedUp},set:function(S){return a.lookAt(a.lastT(),null,null,S),a.computedUp},enumerable:!0},distance:{get:function(){return x},set:function(S){return a.setDistance(a.lastT(),S),S},enumerable:!0},distanceLimits:{get:function(){return a.getDistanceLimits(c)},set:function(S){return a.setDistanceLimits(S),S},enumerable:!0}}),h.addEventListener("contextmenu",function(S){return S.preventDefault(),!1}),y._lastX=-1,y._lastY=-1,y._lastMods={shift:!1,control:!1,alt:!1,meta:!1},y.enableMouseListeners=function(){y.mouseListener=n(h,S),h.addEventListener("touchstart",function(A){var i=u(A.changedTouches[0],h);S(0,i[0],i[1],y._lastMods),S(1,i[0],i[1],y._lastMods)},f?{passive:!0}:!1),h.addEventListener("touchmove",function(A){var i=u(A.changedTouches[0],h);S(1,i[0],i[1],y._lastMods),A.preventDefault()},f?{passive:!1}:!1),h.addEventListener("touchend",function(A){S(0,y._lastX,y._lastY,y._lastMods)},f?{passive:!0}:!1);function S(A,i,E,m){var k=y.keyBindingMode;if(k!==!1){var I=k==="rotate",O=k==="pan",_=k==="zoom",B=!!m.control,F=!!m.alt,z=!!m.shift,N=!!(A&1),W=!!(A&2),Z=!!(A&4),q=1/h.clientHeight,re=q*(i-y._lastX),le=q*(E-y._lastY),ie=y.flipX?1:-1,K=y.flipY?1:-1,$=Math.PI*y.rotateSpeed,X=t();if(y._lastX!==-1&&y._lastY!==-1&&((I&&N&&!B&&!F&&!z||N&&!B&&!F&&z)&&a.rotate(X,ie*$*re,-K*$*le,0),(O&&N&&!B&&!F&&!z||W||N&&B&&!F&&!z)&&a.pan(X,-y.translateSpeed*re*x,y.translateSpeed*le*x,0),_&&N&&!B&&!F&&!z||Z||N&&!B&&F&&!z)){var Q=-y.zoomSpeed*le/window.innerHeight*(X-a.lastT())*100;a.pan(X,0,0,x*(Math.exp(Q)-1))}return y._lastX=i,y._lastY=E,y._lastMods=m,!0}}y.wheelListener=l(h,function(A,i){if(y.keyBindingMode!==!1&&y.enableWheel){var E=y.flipX?1:-1,m=y.flipY?1:-1,k=t();if(Math.abs(A)>Math.abs(i))a.rotate(k,0,0,-A*E*Math.PI*y.rotateSpeed/window.innerWidth);else if(!y._ortho){var I=-y.zoomSpeed*m*i/window.innerHeight*(k-a.lastT())/20;a.pan(k,0,0,x*(Math.exp(I)-1))}}},!0)},y.enableMouseListeners(),y}},799:function(v,p,r){var t=r(3236),o=r(9405),n=t([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),l=t([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);v.exports=function(u){return o(u,n,l,null,[{name:"position",type:"vec2"}])}},4100:function(v,p,r){var t=r(4437),o=r(3837),n=r(5445),l=r(4449),u=r(3589),f=r(2260),g=r(7169),h=r(351),w=r(4772),c=r(4040),a=r(799),d=r(9216)({tablet:!0,featureDetect:!0});v.exports={createScene:S,createCamera:t};function x(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function T(i,E){var m=null;try{m=i.getContext("webgl",E),m||(m=i.getContext("experimental-webgl",E))}catch{return null}return m}function C(i){var E=Math.round(Math.log(Math.abs(i))/Math.log(10));if(E<0){var m=Math.round(Math.pow(10,-E));return Math.ceil(i*m)/m}else if(E>0){var m=Math.round(Math.pow(10,E));return Math.ceil(i/m)*m}return Math.ceil(i)}function y(i){return typeof i=="boolean"?i:!0}function S(i){i=i||{},i.camera=i.camera||{};var E=i.canvas;if(!E)if(E=document.createElement("canvas"),i.container){var m=i.container;m.appendChild(E)}else document.body.appendChild(E);var k=i.gl;if(k||(i.glOptions&&(d=!!i.glOptions.preserveDrawingBuffer),k=T(E,i.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:d})),!k)throw new Error("webgl not supported");var I=i.bounds||[[-10,-10,-10],[10,10,10]],O=new x,_=f(k,k.drawingBufferWidth,k.drawingBufferHeight,{preferFloat:!d}),B=a(k),F=i.cameraObject&&i.cameraObject._ortho===!0||i.camera.projection&&i.camera.projection.type==="orthographic"||!1,z={eye:i.camera.eye||[2,0,0],center:i.camera.center||[0,0,0],up:i.camera.up||[0,1,0],zoomMin:i.camera.zoomMax||.1,zoomMax:i.camera.zoomMin||100,mode:i.camera.mode||"turntable",_ortho:F},N=i.axes||{},W=o(k,N);W.enable=!N.disable;var Z=i.spikes||{},q=l(k,Z),re=[],le=[],ie=[],K=[],$=!0,J=!0,X=new Array(16),Q=new Array(16),se={view:null,projection:X,model:Q,_ortho:!1},J=!0,G=[k.drawingBufferWidth,k.drawingBufferHeight],oe=i.cameraObject||t(E,z),te={gl:k,contextLost:!1,pixelRatio:i.pixelRatio||1,canvas:E,selection:O,camera:oe,axes:W,axesPixels:null,spikes:q,bounds:I,objects:re,shape:G,aspect:i.aspectRatio||[1,1,1],pickRadius:i.pickRadius||10,zNear:i.zNear||.01,zFar:i.zFar||1e3,fovy:i.fovy||Math.PI/4,clearColor:i.clearColor||[0,0,0,0],autoResize:y(i.autoResize),autoBounds:y(i.autoBounds),autoScale:!!i.autoScale,autoCenter:y(i.autoCenter),clipToBounds:y(i.clipToBounds),snapToData:!!i.snapToData,onselect:i.onselect||null,onrender:i.onrender||null,onclick:i.onclick||null,cameraParams:se,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Me){this.aspect[0]=Me.x,this.aspect[1]=Me.y,this.aspect[2]=Me.z,J=!0},setBounds:function(Me,ke){this.bounds[0][Me]=ke.min,this.bounds[1][Me]=ke.max},setClearColor:function(Me){this.clearColor=Me},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},fe=[k.drawingBufferWidth/te.pixelRatio|0,k.drawingBufferHeight/te.pixelRatio|0];function ge(){if(!te._stopped&&te.autoResize){var Me=E.parentNode,ke=1,Se=1;Me&&Me!==document.body?(ke=Me.clientWidth,Se=Me.clientHeight):(ke=window.innerWidth,Se=window.innerHeight);var He=Math.ceil(ke*te.pixelRatio)|0,je=Math.ceil(Se*te.pixelRatio)|0;if(He!==E.width||je!==E.height){E.width=He,E.height=je;var at=E.style;at.position=at.position||"absolute",at.left="0px",at.top="0px",at.width=ke+"px",at.height=Se+"px",$=!0}}}te.autoResize&&ge(),window.addEventListener("resize",ge);function we(){for(var Me=re.length,ke=K.length,Se=0;Se<ke;++Se)ie[Se]=0;e:for(var Se=0;Se<Me;++Se){var He=re[Se],je=He.pickSlots;if(!je){le[Se]=-1;continue}for(var at=0;at<ke;++at)if(ie[at]+je<255){le[Se]=at,He.setPickBase(ie[at]+1),ie[at]+=je;continue e}var Ze=u(k,G);le[Se]=ke,K.push(Ze),ie.push(je),He.setPickBase(1),ke+=1}for(;ke>0&&ie[ke-1]===0;)ie.pop(),K.pop().dispose()}te.update=function(Me){te._stopped||($=!0,J=!0)},te.add=function(Me){te._stopped||(Me.axes=W,re.push(Me),le.push(-1),$=!0,J=!0,we())},te.remove=function(Me){if(!te._stopped){var ke=re.indexOf(Me);ke<0||(re.splice(ke,1),le.pop(),$=!0,J=!0,we())}},te.dispose=function(){if(!te._stopped&&(te._stopped=!0,window.removeEventListener("resize",ge),E.removeEventListener("webglcontextlost",xe),te.mouseListener.enabled=!1,!te.contextLost)){W.dispose(),q.dispose();for(var Me=0;Me<re.length;++Me)re[Me].dispose();_.dispose();for(var Me=0;Me<K.length;++Me)K[Me].dispose();B.dispose(),k=null,W=null,q=null,re=[]}},te._mouseRotating=!1,te._prevButtons=0,te.enableMouseListeners=function(){te.mouseListener=h(E,function(Me,ke,Se){if(!te._stopped){var He=K.length,je=re.length,at=O.object;O.distance=1/0,O.mouse[0]=ke,O.mouse[1]=Se,O.object=null,O.screen=null,O.dataCoordinate=O.dataPosition=null;var Ze=!1;if(Me&&te._prevButtons)te._mouseRotating=!0;else{te._mouseRotating&&(J=!0),te._mouseRotating=!1;for(var $e=0;$e<He;++$e){var ut=K[$e].query(ke,fe[1]-Se-1,te.pickRadius);if(ut){if(ut.distance>O.distance)continue;for(var ht=0;ht<je;++ht){var vt=re[ht];if(le[ht]===$e){var xt=vt.pick(ut);xt&&(O.buttons=Me,O.screen=ut.coord,O.distance=ut.distance,O.object=vt,O.index=xt.distance,O.dataPosition=xt.position,O.dataCoordinate=xt.dataCoordinate,O.data=xt,Ze=!0)}}}}}at&&at!==O.object&&(at.highlight&&at.highlight(null),$=!0),O.object&&(O.object.highlight&&O.object.highlight(O.data),$=!0),Ze=Ze||O.object!==at,Ze&&te.onselect&&te.onselect(O),Me&1&&!(te._prevButtons&1)&&te.onclick&&te.onclick(O),te._prevButtons=Me}})};function xe(){if(te.contextLost)return!0;k.isContextLost()&&(te.contextLost=!0,te.mouseListener.enabled=!1,te.selection.object=null,te.oncontextloss&&te.oncontextloss())}E.addEventListener("webglcontextlost",xe);function Ce(){if(!xe()){k.colorMask(!0,!0,!0,!0),k.depthMask(!0),k.disable(k.BLEND),k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL);for(var Me=re.length,ke=K.length,Se=0;Se<ke;++Se){var He=K[Se];He.shape=fe,He.begin();for(var je=0;je<Me;++je)if(le[je]===Se){var at=re[je];at.drawPick&&(at.pixelRatio=1,at.drawPick(se))}He.end()}}}var De=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Oe=[De[0].slice(),De[1].slice()];function Te(){if(!xe()){ge();var Me=te.camera.tick();se.view=te.camera.matrix,$=$||Me,J=J||Me,W.pixelRatio=te.pixelRatio,q.pixelRatio=te.pixelRatio;var ke=re.length,Se=De[0],He=De[1];Se[0]=Se[1]=Se[2]=1/0,He[0]=He[1]=He[2]=-1/0;for(var je=0;je<ke;++je){var at=re[je];at.pixelRatio=te.pixelRatio,at.axes=te.axes,$=$||!!at.dirty,J=J||!!at.dirty;var Ze=at.bounds;if(Ze)for(var $e=Ze[0],ut=Ze[1],ht=0;ht<3;++ht)Se[ht]=Math.min(Se[ht],$e[ht]),He[ht]=Math.max(He[ht],ut[ht])}var vt=te.bounds;if(te.autoBounds)for(var ht=0;ht<3;++ht){if(He[ht]<Se[ht])Se[ht]=-1,He[ht]=1;else{Se[ht]===He[ht]&&(Se[ht]-=1,He[ht]+=1);var xt=.05*(He[ht]-Se[ht]);Se[ht]=Se[ht]-xt,He[ht]=He[ht]+xt}vt[0][ht]=Se[ht],vt[1][ht]=He[ht]}for(var St=!1,ht=0;ht<3;++ht)St=St||Oe[0][ht]!==vt[0][ht]||Oe[1][ht]!==vt[1][ht],Oe[0][ht]=vt[0][ht],Oe[1][ht]=vt[1][ht];if(J=J||St,$=$||St,!!$){if(St){for(var tt=[0,0,0],je=0;je<3;++je)tt[je]=C((vt[1][je]-vt[0][je])/10);W.autoTicks?W.update({bounds:vt,tickSpacing:tt}):W.update({bounds:vt})}var Ie=k.drawingBufferWidth,Ve=k.drawingBufferHeight;G[0]=Ie,G[1]=Ve,fe[0]=Math.max(Ie/te.pixelRatio,1)|0,fe[1]=Math.max(Ve/te.pixelRatio,1)|0,A(te,F);for(var je=0;je<ke;++je){var at=re[je];at.axesBounds=vt,te.clipToBounds&&(at.clipBounds=vt)}O.object&&(te.snapToData?q.position=O.dataCoordinate:q.position=O.dataPosition,q.bounds=vt),J&&(J=!1,Ce()),te.axesPixels=n(te.axes,se,Ie,Ve),te.onrender&&te.onrender(),k.bindFramebuffer(k.FRAMEBUFFER,null),k.viewport(0,0,Ie,Ve),te.clearRGBA(),k.depthMask(!0),k.colorMask(!0,!0,!0,!0),k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL),k.disable(k.BLEND),k.disable(k.CULL_FACE);var Ge=!1;W.enable&&(Ge=Ge||W.isTransparent(),W.draw(se)),q.axes=W,O.object&&q.draw(se),k.disable(k.CULL_FACE);for(var je=0;je<ke;++je){var at=re[je];at.axes=W,at.pixelRatio=te.pixelRatio,at.isOpaque&&at.isOpaque()&&at.draw(se),at.isTransparent&&at.isTransparent()&&(Ge=!0)}if(Ge){_.shape=G,_.bind(),k.clear(k.DEPTH_BUFFER_BIT),k.colorMask(!1,!1,!1,!1),k.depthMask(!0),k.depthFunc(k.LESS),W.enable&&W.isTransparent()&&W.drawTransparent(se);for(var je=0;je<ke;++je){var at=re[je];at.isOpaque&&at.isOpaque()&&at.draw(se)}k.enable(k.BLEND),k.blendEquation(k.FUNC_ADD),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),k.colorMask(!0,!0,!0,!0),k.depthMask(!1),k.clearColor(0,0,0,0),k.clear(k.COLOR_BUFFER_BIT),W.isTransparent()&&W.drawTransparent(se);for(var je=0;je<ke;++je){var at=re[je];at.isTransparent&&at.isTransparent()&&at.drawTransparent(se)}k.bindFramebuffer(k.FRAMEBUFFER,null),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),k.disable(k.DEPTH_TEST),B.bind(),_.color[0].bind(0),B.uniforms.accumBuffer=0,g(k),k.disable(k.BLEND)}$=!1;for(var je=0;je<ke;++je)re[je].dirty=!1}}}function Re(){te._stopped||te.contextLost||(Te(),requestAnimationFrame(Re))}return te.enableMouseListeners(),Re(),te.redraw=function(){te._stopped||($=!0,Te())},te}function A(i,E){var m=i.bounds,k=i.cameraParams,I=k.projection,O=k.model,_=i.gl.drawingBufferWidth,B=i.gl.drawingBufferHeight,F=i.zNear,z=i.zFar,N=i.fovy,W=_/B;E?(c(I,-W,W,-1,1,F,z),k._ortho=!0):(w(I,N,W,F,z),k._ortho=!1);for(var Z=0;Z<16;++Z)O[Z]=0;O[15]=1;for(var q=0,Z=0;Z<3;++Z)q=Math.max(q,m[1][Z]-m[0][Z]);for(var Z=0;Z<3;++Z)i.autoScale?O[5*Z]=i.aspect[Z]/(m[1][Z]-m[0][Z]):O[5*Z]=1/q,i.autoCenter&&(O[12+Z]=-O[5*Z]*.5*(m[0][Z]+m[1][Z]))}},6640:function(v,p,r){var t=r(3236);p.pointVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),p.pointFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),p.pickVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),p.pickFragment=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},4696:function(v,p,r){var t=r(9405),o=r(2762),n=r(1888),l=r(6640);v.exports=h;function u(w,c,a,d,x){this.plot=w,this.offsetBuffer=c,this.pickBuffer=a,this.shader=d,this.pickShader=x,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var f=u.prototype;f.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},f.update=function(w){var c;w=w||{};function a(A,i){return A in w?w[A]:i}this.sizeMin=a("sizeMin",.5),this.sizeMax=a("sizeMax",20),this.color=a("color",[1,0,0,1]).slice(),this.areaRatio=a("areaRatio",1),this.borderColor=a("borderColor",[0,0,0,1]).slice(),this.blend=a("blend",!1);var d=w.positions.length>>>1,x=w.positions instanceof Float32Array,T=w.idToIndex instanceof Int32Array&&w.idToIndex.length>=d,C=w.positions,y=x?C:n.mallocFloat32(C.length),S=T?w.idToIndex:n.mallocInt32(d);if(x||y.set(C),!T)for(y.set(C),c=0;c<d;c++)S[c]=c;this.points=C,this.offsetBuffer.update(y),this.pickBuffer.update(S),x||n.free(y),T||n.free(S),this.pointCount=d,this.pickOffset=0};function g(w,c){var a=0,d=w.length>>>1,x;for(x=0;x<d;x++){var T=w[x*2],C=w[x*2+1];T>=c[0]&&T<=c[2]&&C>=c[1]&&C<=c[3]&&a++}return a}f.unifiedDraw=function(){var w=[1,0,0,0,1,0,0,0,1],c=[0,0,0,0];return function(a){var d=a!==void 0,x=d?this.pickShader:this.shader,T=this.plot.gl,C=this.plot.dataBox;if(this.pointCount===0)return a;var y=C[2]-C[0],S=C[3]-C[1],A=g(this.points,C),i=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(A,.33333)));w[0]=2/y,w[4]=2/S,w[6]=-2*C[0]/y-1,w[7]=-2*C[1]/S-1,this.offsetBuffer.bind(),x.bind(),x.attributes.position.pointer(),x.uniforms.matrix=w,x.uniforms.color=this.color,x.uniforms.borderColor=this.borderColor,x.uniforms.pointCloud=i<5,x.uniforms.pointSize=i,x.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),d&&(c[0]=a&255,c[1]=a>>8&255,c[2]=a>>16&255,c[3]=a>>24&255,this.pickBuffer.bind(),x.attributes.pickId.pointer(T.UNSIGNED_BYTE),x.uniforms.pickOffset=c,this.pickOffset=a);var E=T.getParameter(T.BLEND),m=T.getParameter(T.DITHER);return E&&!this.blend&&T.disable(T.BLEND),m&&T.disable(T.DITHER),T.drawArrays(T.POINTS,0,this.pointCount),E&&!this.blend&&T.enable(T.BLEND),m&&T.enable(T.DITHER),a+this.pointCount}}(),f.draw=f.unifiedDraw,f.drawPick=f.unifiedDraw,f.pick=function(w,c,a){var d=this.pickOffset,x=this.pointCount;if(a<d||a>=d+x)return null;var T=a-d,C=this.points;return{object:this,pointId:T,dataCoord:[C[2*T],C[2*T+1]]}};function h(w,c){var a=w.gl,d=o(a),x=o(a),T=t(a,l.pointVertex,l.pointFragment),C=t(a,l.pickVertex,l.pickFragment),y=new u(w,d,x,T,C);return y.update(c),w.addObject(y),y}},783:function(v){v.exports=p;function p(r,t,o,n){var l=t[0],u=t[1],f=t[2],g=t[3],h=o[0],w=o[1],c=o[2],a=o[3],d,x,T,C,y;return x=l*h+u*w+f*c+g*a,x<0&&(x=-x,h=-h,w=-w,c=-c,a=-a),1-x>1e-6?(d=Math.acos(x),T=Math.sin(d),C=Math.sin((1-n)*d)/T,y=Math.sin(n*d)/T):(C=1-n,y=n),r[0]=C*l+y*h,r[1]=C*u+y*w,r[2]=C*f+y*c,r[3]=C*g+y*a,r}},5964:function(v){v.exports=function(p){return!p&&p!==0?"":p.toString()}},9366:function(v,p,r){var t=r(4359);v.exports=n;var o={};function n(l,u,f){var g=[u.style,u.weight,u.variant,u.family].join("_"),h=o[g];if(h||(h=o[g]={}),l in h)return h[l];var w={textAlign:"center",textBaseline:"middle",lineHeight:1,font:u.family,fontStyle:u.style,fontWeight:u.weight,fontVariant:u.variant,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};w.triangles=!0;var c=t(l,w);w.triangles=!1;var a=t(l,w),d,x;if(f&&f!==1){for(d=0;d<c.positions.length;++d)for(x=0;x<c.positions[d].length;++x)c.positions[d][x]/=f;for(d=0;d<a.positions.length;++d)for(x=0;x<a.positions[d].length;++x)a.positions[d][x]/=f}var T=[[1/0,1/0],[-1/0,-1/0]],C=a.positions.length;for(d=0;d<C;++d){var y=a.positions[d];for(x=0;x<2;++x)T[0][x]=Math.min(T[0][x],y[x]),T[1][x]=Math.max(T[1][x],y[x])}return h[l]=[c,a,T]}},1283:function(v,p,r){var t=r(9405),o=r(3236),n=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),l=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),u=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * (view * (model * vec4(position, 1)));
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * (view * (model * vec4(dataPosition, 1)));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),f=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),g=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),h=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],w={vertex:n,fragment:f,attributes:h},c={vertex:l,fragment:f,attributes:h},a={vertex:u,fragment:f,attributes:h},d={vertex:n,fragment:g,attributes:h},x={vertex:l,fragment:g,attributes:h},T={vertex:u,fragment:g,attributes:h};function C(y,S){var A=t(y,S),i=A.attributes;return i.position.location=0,i.color.location=1,i.glyph.location=2,i.id.location=3,A}p.createPerspective=function(y){return C(y,w)},p.createOrtho=function(y){return C(y,c)},p.createProject=function(y){return C(y,a)},p.createPickPerspective=function(y){return C(y,d)},p.createPickOrtho=function(y){return C(y,x)},p.createPickProject=function(y){return C(y,T)}},8418:function(v,p,r){var t=r(5219),o=r(2762),n=r(8116),l=r(1888),u=r(6760),f=r(1283),g=r(9366),h=r(5964),w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],c=ArrayBuffer,a=DataView;function d(Q){return c.isView(Q)&&!(Q instanceof a)}function x(Q){return Array.isArray(Q)||d(Q)}v.exports=X;function T(Q,se){var J=Q[0],G=Q[1],oe=Q[2],te=Q[3];return Q[0]=se[0]*J+se[4]*G+se[8]*oe+se[12]*te,Q[1]=se[1]*J+se[5]*G+se[9]*oe+se[13]*te,Q[2]=se[2]*J+se[6]*G+se[10]*oe+se[14]*te,Q[3]=se[3]*J+se[7]*G+se[11]*oe+se[15]*te,Q}function C(Q,se,J,G){return T(G,G),T(G,G),T(G,G)}function y(Q,se){this.index=Q,this.dataCoordinate=this.position=se}function S(Q){return Q===!0||Q>1?1:Q}function A(Q,se,J,G,oe,te,fe,ge,we,xe,Ce,De){this.gl=Q,this.pixelRatio=1,this.shader=se,this.orthoShader=J,this.projectShader=G,this.pointBuffer=oe,this.colorBuffer=te,this.glyphBuffer=fe,this.idBuffer=ge,this.vao=we,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=xe,this.pickOrthoShader=Ce,this.pickProjectShader=De,this.points=[],this._selectResult=new y(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var i=A.prototype;i.pickSlots=1,i.setPickBase=function(Q){this.pickId=Q},i.isTransparent=function(){if(this.hasAlpha)return!0;for(var Q=0;Q<3;++Q)if(this.axesProject[Q]&&this.projectHasAlpha)return!0;return!1},i.isOpaque=function(){if(!this.hasAlpha)return!0;for(var Q=0;Q<3;++Q)if(this.axesProject[Q]&&!this.projectHasAlpha)return!0;return!1};var E=[0,0],m=[0,0,0],k=[0,0,0],I=[0,0,0,1],O=[0,0,0,1],_=w.slice(),B=[0,0,0],F=[[0,0,0],[0,0,0]];function z(Q){return Q[0]=Q[1]=Q[2]=0,Q}function N(Q,se){return Q[0]=se[0],Q[1]=se[1],Q[2]=se[2],Q[3]=1,Q}function W(Q,se,J,G){return Q[0]=se[0],Q[1]=se[1],Q[2]=se[2],Q[J]=G,Q}function Z(Q){for(var se=F,J=0;J<2;++J)for(var G=0;G<3;++G)se[J][G]=Math.max(Math.min(Q[J][G],1e8),-1e8);return se}function q(Q,se,J,G){var oe=se.axesProject,te=se.gl,fe=Q.uniforms,ge=J.model||w,we=J.view||w,xe=J.projection||w,Ce=se.axesBounds,De=Z(se.clipBounds),Oe;se.axes&&se.axes.lastCubeProps?Oe=se.axes.lastCubeProps.axis:Oe=[1,1,1],E[0]=2/te.drawingBufferWidth,E[1]=2/te.drawingBufferHeight,Q.bind(),fe.view=we,fe.projection=xe,fe.screenSize=E,fe.highlightId=se.highlightId,fe.highlightScale=se.highlightScale,fe.clipBounds=De,fe.pickGroup=se.pickId/255,fe.pixelRatio=G;for(var Te=0;Te<3;++Te)if(oe[Te]){fe.scale=se.projectScale[Te],fe.opacity=se.projectOpacity[Te];for(var Re=_,Me=0;Me<16;++Me)Re[Me]=0;for(var Me=0;Me<4;++Me)Re[5*Me]=1;Re[5*Te]=0,Oe[Te]<0?Re[12+Te]=Ce[0][Te]:Re[12+Te]=Ce[1][Te],u(Re,ge,Re),fe.model=Re;var ke=(Te+1)%3,Se=(Te+2)%3,He=z(m),je=z(k);He[ke]=1,je[Se]=1;var at=C(xe,we,ge,N(I,He)),Ze=C(xe,we,ge,N(O,je));if(Math.abs(at[1])>Math.abs(Ze[1])){var $e=at;at=Ze,Ze=$e,$e=He,He=je,je=$e;var ut=ke;ke=Se,Se=ut}at[0]<0&&(He[ke]=-1),Ze[1]>0&&(je[Se]=-1);for(var ht=0,vt=0,Me=0;Me<4;++Me)ht+=Math.pow(ge[4*ke+Me],2),vt+=Math.pow(ge[4*Se+Me],2);He[ke]/=Math.sqrt(ht),je[Se]/=Math.sqrt(vt),fe.axes[0]=He,fe.axes[1]=je,fe.fragClipBounds[0]=W(B,De[0],Te,-1e8),fe.fragClipBounds[1]=W(B,De[1],Te,1e8),se.vao.bind(),se.vao.draw(te.TRIANGLES,se.vertexCount),se.lineWidth>0&&(te.lineWidth(se.lineWidth*G),se.vao.draw(te.LINES,se.lineVertexCount,se.vertexCount)),se.vao.unbind()}}var re=[-1e8,-1e8,-1e8],le=[1e8,1e8,1e8],ie=[re,le];function K(Q,se,J,G,oe,te,fe){var ge=J.gl;if((te===J.projectHasAlpha||fe)&&q(se,J,G,oe),te===J.hasAlpha||fe){Q.bind();var we=Q.uniforms;we.model=G.model||w,we.view=G.view||w,we.projection=G.projection||w,E[0]=2/ge.drawingBufferWidth,E[1]=2/ge.drawingBufferHeight,we.screenSize=E,we.highlightId=J.highlightId,we.highlightScale=J.highlightScale,we.fragClipBounds=ie,we.clipBounds=J.axes.bounds,we.opacity=J.opacity,we.pickGroup=J.pickId/255,we.pixelRatio=oe,J.vao.bind(),J.vao.draw(ge.TRIANGLES,J.vertexCount),J.lineWidth>0&&(ge.lineWidth(J.lineWidth*oe),J.vao.draw(ge.LINES,J.lineVertexCount,J.vertexCount)),J.vao.unbind()}}i.draw=function(Q){var se=this.useOrtho?this.orthoShader:this.shader;K(se,this.projectShader,this,Q,this.pixelRatio,!1,!1)},i.drawTransparent=function(Q){var se=this.useOrtho?this.orthoShader:this.shader;K(se,this.projectShader,this,Q,this.pixelRatio,!0,!1)},i.drawPick=function(Q){var se=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;K(se,this.pickProjectShader,this,Q,1,!0,!0)},i.pick=function(Q){if(!Q||Q.id!==this.pickId)return null;var se=Q.value[2]+(Q.value[1]<<8)+(Q.value[0]<<16);if(se>=this.pointCount||se<0)return null;var J=this.points[se],G=this._selectResult;G.index=se;for(var oe=0;oe<3;++oe)G.position[oe]=G.dataCoordinate[oe]=J[oe];return G},i.highlight=function(Q){if(!Q)this.highlightId=[1,1,1,1];else{var se=Q.index,J=se&255,G=se>>8&255,oe=se>>16&255;this.highlightId=[J/255,G/255,oe/255,0]}};function $(Q,se,J,G){var oe;x(Q)?se<Q.length?oe=Q[se]:oe=void 0:oe=Q,oe=h(oe);var te=!0;t(oe)&&(oe="▼",te=!1),J||(J={});var fe=J.family;x(fe)&&(fe=fe[se]),fe||(fe="normal");var ge=J.weight;x(ge)&&(ge=ge[se]),ge||(ge="normal");var we=J.style;x(we)&&(we=we[se]),we||(we="normal");var xe=J.variant;x(xe)&&(xe=xe[se]),xe||(xe="normal");var Ce=g(oe,{family:fe,weight:ge,style:we,variant:xe},G),Ce=g(oe,J,G);return{mesh:Ce[0],lines:Ce[1],bounds:Ce[2],visible:te}}i.update=function(Q){if(Q=Q||{},"perspective"in Q&&(this.useOrtho=!Q.perspective),"orthographic"in Q&&(this.useOrtho=!!Q.orthographic),"lineWidth"in Q&&(this.lineWidth=Q.lineWidth),"project"in Q)if(x(Q.project))this.axesProject=Q.project;else{var se=!!Q.project;this.axesProject=[se,se,se]}if("projectScale"in Q)if(x(Q.projectScale))this.projectScale=Q.projectScale.slice();else{var J=+Q.projectScale;this.projectScale=[J,J,J]}if(this.projectHasAlpha=!1,"projectOpacity"in Q){if(x(Q.projectOpacity))this.projectOpacity=Q.projectOpacity.slice();else{var J=+Q.projectOpacity;this.projectOpacity=[J,J,J]}for(var G=0;G<3;++G)this.projectOpacity[G]=S(this.projectOpacity[G]),this.projectOpacity[G]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in Q&&(this.opacity=S(Q.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var oe=Q.position,te={family:Q.font||"normal",style:Q.fontStyle||"normal",weight:Q.fontWeight||"normal",variant:Q.fontVariant||"normal"},fe=Q.alignment||[0,0],ge,we;if(fe.length===2)ge=fe[0],we=fe[1];else{ge=[],we=[];for(var G=0;G<fe.length;++G)ge[G]=fe[G][0],we[G]=fe[G][1]}var xe=[1/0,1/0,1/0],Ce=[-1/0,-1/0,-1/0],De=Q.glyph,Oe=Q.color,Te=Q.size,Re=Q.angle,Me=Q.lineColor,ke=-1,Se=0,He=0,je=0;if(oe.length){je=oe.length;e:for(var G=0;G<je;++G){for(var at=oe[G],Ze=0;Ze<3;++Ze)if(isNaN(at[Ze])||!isFinite(at[Ze]))continue e;var $e=$(De,G,te,this.pixelRatio),ut=$e.mesh,ht=$e.lines,vt=$e.bounds;Se+=ut.cells.length*3,He+=ht.edges.length*2}}var xt=Se+He,St=l.mallocFloat(3*xt),tt=l.mallocFloat(4*xt),Ie=l.mallocFloat(2*xt),Ve=l.mallocUint32(xt);if(xt>0){var Ge=0,Xe=Se,Le=[0,0,0,1],Fe=[0,0,0,1],Ue=x(Oe)&&x(Oe[0]),Ee=x(Me)&&x(Me[0]);e:for(var G=0;G<je;++G){ke+=1;for(var at=oe[G],Ze=0;Ze<3;++Ze){if(isNaN(at[Ze])||!isFinite(at[Ze]))continue e;Ce[Ze]=Math.max(Ce[Ze],at[Ze]),xe[Ze]=Math.min(xe[Ze],at[Ze])}var $e=$(De,G,te,this.pixelRatio),ut=$e.mesh,ht=$e.lines,vt=$e.bounds,he=$e.visible;if(!he)Le=[1,1,1,0];else if(x(Oe)){var ye;if(Ue?G<Oe.length?ye=Oe[G]:ye=[0,0,0,0]:ye=Oe,ye.length===3){for(var Ze=0;Ze<3;++Ze)Le[Ze]=ye[Ze];Le[3]=1}else if(ye.length===4){for(var Ze=0;Ze<4;++Ze)Le[Ze]=ye[Ze];!this.hasAlpha&&ye[3]<1&&(this.hasAlpha=!0)}}else Le[0]=Le[1]=Le[2]=0,Le[3]=1;if(!he)Fe=[1,1,1,0];else if(x(Me)){var ye;if(Ee?G<Me.length?ye=Me[G]:ye=[0,0,0,0]:ye=Me,ye.length===3){for(var Ze=0;Ze<3;++Ze)Fe[Ze]=ye[Ze];Fe[Ze]=1}else if(ye.length===4){for(var Ze=0;Ze<4;++Ze)Fe[Ze]=ye[Ze];!this.hasAlpha&&ye[3]<1&&(this.hasAlpha=!0)}}else Fe[0]=Fe[1]=Fe[2]=0,Fe[3]=1;var _e=.5;he?x(Te)?G<Te.length?_e=+Te[G]:_e=12:Te?_e=+Te:this.useOrtho&&(_e=12):_e=0;var We=0;x(Re)?G<Re.length?We=+Re[G]:We=0:Re&&(We=+Re);for(var rt=Math.cos(We),st=Math.sin(We),at=oe[G],Ze=0;Ze<3;++Ze)Ce[Ze]=Math.max(Ce[Ze],at[Ze]),xe[Ze]=Math.min(xe[Ze],at[Ze]);var Vt=ge,Xt=we,Vt=0;x(ge)?G<ge.length?Vt=ge[G]:Vt=0:ge&&(Vt=ge);var Xt=0;x(we)?G<we.length?Xt=we[G]:Xt=0:we&&(Xt=we),Vt*=Vt>0?1-vt[0][0]:Vt<0?1+vt[1][0]:1,Xt*=Xt>0?1-vt[0][1]:Xt<0?1+vt[1][1]:1;for(var Tt=[Vt,Xt],jt=ut.cells||[],$t=ut.positions||[],Ze=0;Ze<jt.length;++Ze)for(var Lt=jt[Ze],Kt=0;Kt<3;++Kt){for(var vr=0;vr<3;++vr)St[3*Ge+vr]=at[vr];for(var vr=0;vr<4;++vr)tt[4*Ge+vr]=Le[vr];Ve[Ge]=ke;var pt=$t[Lt[Kt]];Ie[2*Ge]=_e*(rt*pt[0]-st*pt[1]+Tt[0]),Ie[2*Ge+1]=_e*(st*pt[0]+rt*pt[1]+Tt[1]),Ge+=1}for(var jt=ht.edges,$t=ht.positions,Ze=0;Ze<jt.length;++Ze)for(var Lt=jt[Ze],Kt=0;Kt<2;++Kt){for(var vr=0;vr<3;++vr)St[3*Xe+vr]=at[vr];for(var vr=0;vr<4;++vr)tt[4*Xe+vr]=Fe[vr];Ve[Xe]=ke;var pt=$t[Lt[Kt]];Ie[2*Xe]=_e*(rt*pt[0]-st*pt[1]+Tt[0]),Ie[2*Xe+1]=_e*(st*pt[0]+rt*pt[1]+Tt[1]),Xe+=1}}}this.bounds=[xe,Ce],this.points=oe,this.pointCount=oe.length,this.vertexCount=Se,this.lineVertexCount=He,this.pointBuffer.update(St),this.colorBuffer.update(tt),this.glyphBuffer.update(Ie),this.idBuffer.update(Ve),l.free(St),l.free(tt),l.free(Ie),l.free(Ve)},i.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function X(Q){var se=Q.gl,J=f.createPerspective(se),G=f.createOrtho(se),oe=f.createProject(se),te=f.createPickPerspective(se),fe=f.createPickOrtho(se),ge=f.createPickProject(se),we=o(se),xe=o(se),Ce=o(se),De=o(se),Oe=n(se,[{buffer:we,size:3,type:se.FLOAT},{buffer:xe,size:4,type:se.FLOAT},{buffer:Ce,size:2,type:se.FLOAT},{buffer:De,size:4,type:se.UNSIGNED_BYTE,normalized:!0}]),Te=new A(se,J,G,oe,we,xe,Ce,De,Oe,te,fe,ge);return Te.update(Q),Te}},4298:function(v,p,r){var t=r(3236);p.boxVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),p.boxFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},3161:function(v,p,r){var t=r(9405),o=r(2762),n=r(4298);v.exports=f;function l(g,h,w){this.plot=g,this.boxBuffer=h,this.boxShader=w,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var u=l.prototype;u.draw=function(){if(this.enabled){var g=this.plot,h=this.selectBox,w=this.borderWidth;this.innerFill;var c=this.innerColor;this.outerFill;var a=this.outerColor,d=this.borderColor,x=g.box,T=g.screenBox,C=g.dataBox,y=g.viewBox,S=g.pixelRatio,A=(h[0]-C[0])*(y[2]-y[0])/(C[2]-C[0])+y[0],i=(h[1]-C[1])*(y[3]-y[1])/(C[3]-C[1])+y[1],E=(h[2]-C[0])*(y[2]-y[0])/(C[2]-C[0])+y[0],m=(h[3]-C[1])*(y[3]-y[1])/(C[3]-C[1])+y[1];if(A=Math.max(A,y[0]),i=Math.max(i,y[1]),E=Math.min(E,y[2]),m=Math.min(m,y[3]),!(E<A||m<i)){x.bind();var k=T[2]-T[0],I=T[3]-T[1];if(this.outerFill&&(x.drawBox(0,0,k,i,a),x.drawBox(0,i,A,m,a),x.drawBox(0,m,k,I,a),x.drawBox(E,i,k,m,a)),this.innerFill&&x.drawBox(A,i,E,m,c),w>0){var O=w*S;x.drawBox(A-O,i-O,E+O,i+O,d),x.drawBox(A-O,m-O,E+O,m+O,d),x.drawBox(A-O,i-O,A+O,m+O,d),x.drawBox(E-O,i-O,E+O,m+O,d)}}}},u.update=function(g){g=g||{},this.innerFill=!!g.innerFill,this.outerFill=!!g.outerFill,this.innerColor=(g.innerColor||[0,0,0,.5]).slice(),this.outerColor=(g.outerColor||[0,0,0,.5]).slice(),this.borderColor=(g.borderColor||[0,0,0,1]).slice(),this.borderWidth=g.borderWidth||0,this.selectBox=(g.selectBox||this.selectBox).slice()},u.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function f(g,h){var w=g.gl,c=o(w,[0,0,0,1,1,0,1,1]),a=t(w,n.boxVertex,n.boxFragment),d=new l(g,c,a);return d.update(h),g.addOverlay(d),d}},3589:function(v,p,r){v.exports=w;var t=r(2260),o=r(1888),n=r(9618),l=r(8828).nextPow2,u=function(c,a,d){for(var x=1e8,T=-1,C=-1,y=c.shape[0],S=c.shape[1],A=0;A<y;A++)for(var i=0;i<S;i++){var E=c.get(A,i,0),m=c.get(A,i,1),k=c.get(A,i,2),I=c.get(A,i,3);if(E<255||m<255||k<255||I<255){var O=a-A,_=d-i,B=O*O+_*_;B<x&&(x=B,T=A,C=i)}}return[T,C,x]};function f(c,a,d,x,T){this.coord=[c,a],this.id=d,this.value=x,this.distance=T}function g(c,a,d){this.gl=c,this.fbo=a,this.buffer=d,this._readTimeout=null;var x=this;this._readCallback=function(){x.gl&&(a.bind(),c.readPixels(0,0,a.shape[0],a.shape[1],c.RGBA,c.UNSIGNED_BYTE,x.buffer),x._readTimeout=null)}}var h=g.prototype;Object.defineProperty(h,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(c){if(this.gl){this.fbo.shape=c;var a=this.fbo.shape[0],d=this.fbo.shape[1];if(d*a*4>this.buffer.length){o.free(this.buffer);for(var x=this.buffer=o.mallocUint8(l(d*a*4)),T=0;T<d*a*4;++T)x[T]=255}return c}}}),h.begin=function(){var c=this.gl;this.shape,c&&(this.fbo.bind(),c.clearColor(1,1,1,1),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT))},h.end=function(){var c=this.gl;c&&(c.bindFramebuffer(c.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},h.query=function(c,a,d){if(!this.gl)return null;var x=this.fbo.shape.slice();c=c|0,a=a|0,typeof d!="number"&&(d=1);var T=Math.min(Math.max(c-d,0),x[0])|0,C=Math.min(Math.max(c+d,0),x[0])|0,y=Math.min(Math.max(a-d,0),x[1])|0,S=Math.min(Math.max(a+d,0),x[1])|0;if(C<=T||S<=y)return null;var A=[C-T,S-y],i=n(this.buffer,[A[0],A[1],4],[4,x[0]*4,1],4*(T+x[0]*y)),E=u(i.hi(A[0],A[1],1),d,d),m=E[0],k=E[1];if(m<0||Math.pow(this.radius,2)<E[2])return null;var I=i.get(m,k,0),O=i.get(m,k,1),_=i.get(m,k,2),B=i.get(m,k,3);return new f(m+T|0,k+y|0,I,[O,_,B],Math.sqrt(E[2]))},h.dispose=function(){this.gl&&(this.fbo.dispose(),o.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function w(c,a){var d=a[0],x=a[1],T={},C=t(c,d,x,T),y=o.mallocUint8(d*x*4);return new g(c,C,y)}},9405:function(v,p,r){var t=r(3327),o=r(8731),n=r(216),l=r(5091),u=r(2145),f=r(8866);function g(a){this.gl=a,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var h=g.prototype;h.bind=function(){this.program||this._relink();var a,d=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),x=this.gl.lastAttribCount;if(d>x)for(a=x;a<d;a++)this.gl.enableVertexAttribArray(a);else if(x>d)for(a=d;a<x;a++)this.gl.disableVertexAttribArray(a);this.gl.lastAttribCount=d,this.gl.useProgram(this.program)},h.dispose=function(){for(var a=this.gl.lastAttribCount,d=0;d<a;d++)this.gl.disableVertexAttribArray(d);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function w(a,d){return a.name<d.name?-1:1}h.update=function(a,d,x,T){if(!d||arguments.length===1){var C=a;a=C.vertex,d=C.fragment,x=C.uniforms,T=C.attributes}var y=this,S=y.gl,A=y._vref;y._vref=l.shader(S,S.VERTEX_SHADER,a),A&&A.dispose(),y.vertShader=y._vref.shader;var i=this._fref;if(y._fref=l.shader(S,S.FRAGMENT_SHADER,d),i&&i.dispose(),y.fragShader=y._fref.shader,!x||!T){var E=S.createProgram();if(S.attachShader(E,y.fragShader),S.attachShader(E,y.vertShader),S.linkProgram(E),!S.getProgramParameter(E,S.LINK_STATUS)){var m=S.getProgramInfoLog(E);throw new f(m,"Error linking program:"+m)}x=x||u.uniforms(S,E),T=T||u.attributes(S,E),S.deleteProgram(E)}T=T.slice(),T.sort(w);var k=[],I=[],O=[],_;for(_=0;_<T.length;++_){var B=T[_];if(B.type.indexOf("mat")>=0){for(var F=B.type.charAt(B.type.length-1)|0,z=new Array(F),N=0;N<F;++N)z[N]=O.length,I.push(B.name+"["+N+"]"),typeof B.location=="number"?O.push(B.location+N):Array.isArray(B.location)&&B.location.length===F&&typeof B.location[N]=="number"?O.push(B.location[N]|0):O.push(-1);k.push({name:B.name,type:B.type,locations:z})}else k.push({name:B.name,type:B.type,locations:[O.length]}),I.push(B.name),typeof B.location=="number"?O.push(B.location|0):O.push(-1)}var W=0;for(_=0;_<O.length;++_)if(O[_]<0){for(;O.indexOf(W)>=0;)W+=1;O[_]=W}var Z=new Array(x.length);function q(){y.program=l.program(S,y._vref,y._fref,I,O);for(var re=0;re<x.length;++re)Z[re]=S.getUniformLocation(y.program,x[re].name)}q(),y._relink=q,y.types={uniforms:n(x),attributes:n(T)},y.attributes=o(S,y,k,O),Object.defineProperty(y,"uniforms",t(S,y,x,Z))};function c(a,d,x,T,C){var y=new g(a);return y.update(d,x,T,C),y}v.exports=c},8866:function(v){function p(r,t,o){this.shortMessage=t||"",this.longMessage=o||"",this.rawError=r||"",this.message="gl-shader: "+(t||r||"")+(o?`
`+o:""),this.stack=new Error().stack}p.prototype=new Error,p.prototype.name="GLError",p.prototype.constructor=p,v.exports=p},8731:function(v,p,r){v.exports=g;var t=r(8866);function o(h,w,c,a,d,x){this._gl=h,this._wrapper=w,this._index=c,this._locations=a,this._dimension=d,this._constFunc=x}var n=o.prototype;n.pointer=function(w,c,a,d){var x=this,T=x._gl,C=x._locations[x._index];T.vertexAttribPointer(C,x._dimension,w||T.FLOAT,!!c,a||0,d||0),T.enableVertexAttribArray(C)},n.set=function(h,w,c,a){return this._constFunc(this._locations[this._index],h,w,c,a)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(h){return h!==this._locations[this._index]&&(this._locations[this._index]=h|0,this._wrapper.program=null),h|0}});var l=[function(h,w,c){return c.length===void 0?h.vertexAttrib1f(w,c):h.vertexAttrib1fv(w,c)},function(h,w,c,a){return c.length===void 0?h.vertexAttrib2f(w,c,a):h.vertexAttrib2fv(w,c)},function(h,w,c,a,d){return c.length===void 0?h.vertexAttrib3f(w,c,a,d):h.vertexAttrib3fv(w,c)},function(h,w,c,a,d,x){return c.length===void 0?h.vertexAttrib4f(w,c,a,d,x):h.vertexAttrib4fv(w,c)}];function u(h,w,c,a,d,x,T){var C=l[d],y=new o(h,w,c,a,d,C);Object.defineProperty(x,T,{set:function(S){return h.disableVertexAttribArray(a[c]),C(h,a[c],S),S},get:function(){return y},enumerable:!0})}function f(h,w,c,a,d,x,T){for(var C=new Array(d),y=new Array(d),S=0;S<d;++S)u(h,w,c[S],a,d,C,S),y[S]=C[S];Object.defineProperty(C,"location",{set:function(E){if(Array.isArray(E))for(var m=0;m<d;++m)y[m].location=E[m];else for(var m=0;m<d;++m)y[m].location=E+m;return E},get:function(){for(var E=new Array(d),m=0;m<d;++m)E[m]=a[c[m]];return E},enumerable:!0}),C.pointer=function(E,m,k,I){E=E||h.FLOAT,m=!!m,k=k||d*d,I=I||0;for(var O=0;O<d;++O){var _=a[c[O]];h.vertexAttribPointer(_,d,E,m,k,I+O*d),h.enableVertexAttribArray(_)}};var A=new Array(d),i=h["vertexAttrib"+d+"fv"];Object.defineProperty(x,T,{set:function(E){for(var m=0;m<d;++m){var k=a[c[m]];if(h.disableVertexAttribArray(k),Array.isArray(E[0]))i.call(h,k,E[m]);else{for(var I=0;I<d;++I)A[I]=E[d*m+I];i.call(h,k,A)}}return E},get:function(){return C},enumerable:!0})}function g(h,w,c,a){for(var d={},x=0,T=c.length;x<T;++x){var C=c[x],y=C.name,S=C.type,A=C.locations;switch(S){case"bool":case"int":case"float":u(h,w,A[0],a,1,d,y);break;default:if(S.indexOf("vec")>=0){var i=S.charCodeAt(S.length-1)-48;if(i<2||i>4)throw new t("","Invalid data type for attribute "+y+": "+S);u(h,w,A[0],a,i,d,y)}else if(S.indexOf("mat")>=0){var i=S.charCodeAt(S.length-1)-48;if(i<2||i>4)throw new t("","Invalid data type for attribute "+y+": "+S);f(h,w,A,a,i,d,y)}else throw new t("","Unknown data type for attribute "+y+": "+S);break}}return d}},3327:function(v,p,r){var t=r(216),o=r(8866);v.exports=u;function n(f){return function(){return f}}function l(f,g){for(var h=new Array(f),w=0;w<f;++w)h[w]=g;return h}function u(f,g,h,w){function c(S){return function(A,i,E){return A.getUniform(i.program,E[S])}}function a(S){return function(i){for(var E=d("",S),m=0;m<E.length;++m){var k=E[m],I=k[0],O=k[1];if(w[O]){var _=i;if(typeof I=="string"&&(I.indexOf(".")===0||I.indexOf("[")===0)){var B=I;if(I.indexOf(".")===0&&(B=I.slice(1)),B.indexOf("]")===B.length-1){var F=B.indexOf("["),z=B.slice(0,F),N=B.slice(F+1,B.length-1);_=z?i[z][N]:i[N]}else _=i[B]}var W=h[O].type,Z;switch(W){case"bool":case"int":case"sampler2D":case"samplerCube":f.uniform1i(w[O],_);break;case"float":f.uniform1f(w[O],_);break;default:var q=W.indexOf("vec");if(0<=q&&q<=1&&W.length===4+q){if(Z=W.charCodeAt(W.length-1)-48,Z<2||Z>4)throw new o("","Invalid data type");switch(W.charAt(0)){case"b":case"i":f["uniform"+Z+"iv"](w[O],_);break;case"v":f["uniform"+Z+"fv"](w[O],_);break;default:throw new o("","Unrecognized data type for vector "+name+": "+W)}}else if(W.indexOf("mat")===0&&W.length===4){if(Z=W.charCodeAt(W.length-1)-48,Z<2||Z>4)throw new o("","Invalid uniform dimension type for matrix "+name+": "+W);f["uniformMatrix"+Z+"fv"](w[O],!1,_);break}else throw new o("","Unknown uniform data type for "+name+": "+W)}}}}}function d(S,A){if(typeof A!="object")return[[S,A]];var i=[];for(var E in A){var m=A[E],k=S;parseInt(E)+""===E?k+="["+E+"]":k+="."+E,typeof m=="object"?i.push.apply(i,d(k,m)):i.push([k,m])}return i}function x(S){switch(S){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var A=S.indexOf("vec");if(0<=A&&A<=1&&S.length===4+A){var i=S.charCodeAt(S.length-1)-48;if(i<2||i>4)throw new o("","Invalid data type");return S.charAt(0)==="b"?l(i,!1):l(i,0)}else if(S.indexOf("mat")===0&&S.length===4){var i=S.charCodeAt(S.length-1)-48;if(i<2||i>4)throw new o("","Invalid uniform dimension type for matrix "+name+": "+S);return l(i*i,0)}else throw new o("","Unknown uniform data type for "+name+": "+S)}}function T(S,A,i){if(typeof i=="object"){var E=C(i);Object.defineProperty(S,A,{get:n(E),set:a(i),enumerable:!0,configurable:!1})}else w[i]?Object.defineProperty(S,A,{get:c(i),set:a(i),enumerable:!0,configurable:!1}):S[A]=x(h[i].type)}function C(S){var A;if(Array.isArray(S)){A=new Array(S.length);for(var i=0;i<S.length;++i)T(A,i,S[i])}else{A={};for(var E in S)T(A,E,S[E])}return A}var y=t(h,!0);return{get:n(C(y)),set:a(y),enumerable:!0,configurable:!0}}},216:function(v){v.exports=p;function p(r,t){for(var o={},n=0;n<r.length;++n)for(var l=r[n].name,u=l.split("."),f=o,g=0;g<u.length;++g){var h=u[g].split("[");if(h.length>1){h[0]in f||(f[h[0]]=[]),f=f[h[0]];for(var w=1;w<h.length;++w){var c=parseInt(h[w]);w<h.length-1||g<u.length-1?(c in f||(w<h.length-1?f[c]=[]:f[c]={}),f=f[c]):t?f[c]=n:f[c]=r[n].type}}else g<u.length-1?(h[0]in f||(f[h[0]]={}),f=f[h[0]]):t?f[h[0]]=n:f[h[0]]=r[n].type}return o}},2145:function(v,p){p.uniforms=n,p.attributes=l;var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},t=null;function o(u,f){if(!t){var g=Object.keys(r);t={};for(var h=0;h<g.length;++h){var w=g[h];t[u[w]]=r[w]}}return t[f]}function n(u,f){for(var g=u.getProgramParameter(f,u.ACTIVE_UNIFORMS),h=[],w=0;w<g;++w){var c=u.getActiveUniform(f,w);if(c){var a=o(u,c.type);if(c.size>1)for(var d=0;d<c.size;++d)h.push({name:c.name.replace("[0]","["+d+"]"),type:a});else h.push({name:c.name,type:a})}}return h}function l(u,f){for(var g=u.getProgramParameter(f,u.ACTIVE_ATTRIBUTES),h=[],w=0;w<g;++w){var c=u.getActiveAttrib(f,w);c&&h.push({name:c.name,type:o(u,c.type)})}return h}},5091:function(v,p,r){p.shader=d,p.program=x;var t=r(8866),o=r(2992),n=typeof WeakMap>"u"?r(606):WeakMap,l=new n,u=0;function f(T,C,y,S,A,i,E){this.id=T,this.src=C,this.type=y,this.shader=S,this.count=i,this.programs=[],this.cache=E}f.prototype.dispose=function(){if(--this.count===0){for(var T=this.cache,C=T.gl,y=this.programs,S=0,A=y.length;S<A;++S){var i=T.programs[y[S]];i&&(delete T.programs[S],C.deleteProgram(i))}C.deleteShader(this.shader),delete T.shaders[this.type===C.FRAGMENT_SHADER|0][this.src]}};function g(T){this.gl=T,this.shaders=[{},{}],this.programs={}}var h=g.prototype;function w(T,C,y){var S=T.createShader(C);if(T.shaderSource(S,y),T.compileShader(S),!T.getShaderParameter(S,T.COMPILE_STATUS)){var A=T.getShaderInfoLog(S);try{var i=o(A,y,C)}catch(E){throw console.warn("Failed to format compiler error: "+E),new t(A,`Error compiling shader:
`+A)}throw new t(A,i.short,i.long)}return S}h.getShaderReference=function(T,C){var y=this.gl,S=this.shaders[T===y.FRAGMENT_SHADER|0],A=S[C];if(!A||!y.isShader(A.shader)){var i=w(y,T,C);A=S[C]=new f(u++,C,T,i,[],1,this)}else A.count+=1;return A};function c(T,C,y,S,A){var i=T.createProgram();T.attachShader(i,C),T.attachShader(i,y);for(var E=0;E<S.length;++E)T.bindAttribLocation(i,A[E],S[E]);if(T.linkProgram(i),!T.getProgramParameter(i,T.LINK_STATUS)){var m=T.getProgramInfoLog(i);throw new t(m,"Error linking program: "+m)}return i}h.getProgram=function(T,C,y,S){var A=[T.id,C.id,y.join(":"),S.join(":")].join("@"),i=this.programs[A];return(!i||!this.gl.isProgram(i))&&(this.programs[A]=i=c(this.gl,T.shader,C.shader,y,S),T.programs.push(A),C.programs.push(A)),i};function a(T){var C=l.get(T);return C||(C=new g(T),l.set(T,C)),C}function d(T,C,y){return a(T).getShaderReference(C,y)}function x(T,C,y,S,A){return a(T).getProgram(C,y,S,A)}},4098:function(v){v.exports=t;function p(o){this.plot=o,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var r=p.prototype;r.update=function(o){o=o||{},this.enable=(o.enable||[!0,!0,!1,!1]).slice(),this.width=(o.width||[1,1,1,1]).slice(),this.color=(o.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(o.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},r.draw=function(){var o=this.enable,n=this.width,l=this.color,u=this.center,f=this.plot,g=f.line,h=f.dataBox,w=f.viewBox;if(g.bind(),h[0]<=u[0]&&u[0]<=h[2]&&h[1]<=u[1]&&u[1]<=h[3]){var c=w[0]+(u[0]-h[0])/(h[2]-h[0])*(w[2]-w[0]),a=w[1]+(u[1]-h[1])/(h[3]-h[1])*(w[3]-w[1]);o[0]&&g.drawLine(c,a,w[0],a,n[0],l[0]),o[1]&&g.drawLine(c,a,c,w[1],n[1],l[1]),o[2]&&g.drawLine(c,a,w[2],a,n[2],l[2]),o[3]&&g.drawLine(c,a,c,w[3],n[3],l[3])}},r.dispose=function(){this.plot.removeOverlay(this)};function t(o,n){var l=new p(o);return l.update(n),o.addOverlay(l),l}},1493:function(v,p,r){var t=r(3236),o=r(9405),n=t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * (view * (model * vec4(vertexPosition, 1.0)));
  vec2 clipOffset = (projection * (view * (model * vec4(color, 0.0)))).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),l=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);v.exports=function(u){return o(u,n,l,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},4449:function(v,p,r){var t=r(2762),o=r(8116),n=r(1493);v.exports=c;var l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(a,d,x,T){this.gl=a,this.buffer=d,this.vao=x,this.shader=T,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var f=u.prototype,g=[0,0,0],h=[0,0,0],w=[0,0];f.isTransparent=function(){return!1},f.drawTransparent=function(a){},f.draw=function(a){var d=this.gl,x=this.vao,T=this.shader;x.bind(),T.bind();var C=a.model||l,y=a.view||l,S=a.projection||l,A;this.axes&&(A=this.axes.lastCubeProps.axis);for(var i=g,E=h,m=0;m<3;++m)A&&A[m]<0?(i[m]=this.bounds[0][m],E[m]=this.bounds[1][m]):(i[m]=this.bounds[1][m],E[m]=this.bounds[0][m]);w[0]=d.drawingBufferWidth,w[1]=d.drawingBufferHeight,T.uniforms.model=C,T.uniforms.view=y,T.uniforms.projection=S,T.uniforms.coordinates=[this.position,i,E],T.uniforms.colors=this.colors,T.uniforms.screenShape=w;for(var m=0;m<3;++m)T.uniforms.lineWidth=this.lineWidth[m]*this.pixelRatio,this.enabled[m]&&(x.draw(d.TRIANGLES,6,6*m),this.drawSides[m]&&x.draw(d.TRIANGLES,12,18+12*m));x.unbind()},f.update=function(a){a&&("bounds"in a&&(this.bounds=a.bounds),"position"in a&&(this.position=a.position),"lineWidth"in a&&(this.lineWidth=a.lineWidth),"colors"in a&&(this.colors=a.colors),"enabled"in a&&(this.enabled=a.enabled),"drawSides"in a&&(this.drawSides=a.drawSides))},f.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function c(a,d){var x=[];function T(i,E,m,k,I,O){var _=[i,E,m,0,0,0,1];_[k+3]=1,_[k]=I,x.push.apply(x,_),_[6]=-1,x.push.apply(x,_),_[k]=O,x.push.apply(x,_),x.push.apply(x,_),_[6]=1,x.push.apply(x,_),_[k]=I,x.push.apply(x,_)}T(0,0,0,0,0,1),T(0,0,0,1,0,1),T(0,0,0,2,0,1),T(1,0,0,1,-1,1),T(1,0,0,2,-1,1),T(0,1,0,0,-1,1),T(0,1,0,2,-1,1),T(0,0,1,0,-1,1),T(0,0,1,1,-1,1);var C=t(a,x),y=o(a,[{type:a.FLOAT,buffer:C,size:3,offset:0,stride:28},{type:a.FLOAT,buffer:C,size:3,offset:12,stride:28},{type:a.FLOAT,buffer:C,size:1,offset:24,stride:28}]),S=n(a);S.attributes.position.location=0,S.attributes.color.location=1,S.attributes.weight.location=2;var A=new u(a,C,y,S);return A.update(d),A}},6740:function(v,p,r){var t=r(3236),o=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),l=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * (view * tubePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:o,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},p.pickShader={vertex:l,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7815:function(v,p,r){var t=r(2931),o=r(9970),n=["xyz","xzy","yxz","yzx","zxy","zyx"],l=function(x,T,C,y){for(var S=x.points,A=x.velocities,i=x.divergences,E=[],m=[],k=[],I=[],O=[],_=[],B=0,F=0,z=o.create(),N=o.create(),W=8,Z=0;Z<S.length;Z++){var q=S[Z],re=A[Z],le=i[Z];T===0&&(le=C*.05),F=t.length(re)/y,z=o.create(),t.copy(z,re),z[3]=le;for(var ie=0;ie<W;ie++)O[ie]=[q[0],q[1],q[2],ie];if(I.length>0)for(var ie=0;ie<W;ie++){var K=(ie+1)%W;E.push(I[ie],O[ie],O[K],O[K],I[K],I[ie]),k.push(N,z,z,z,N,N),_.push(B,F,F,F,B,B);var $=E.length;m.push([$-6,$-5,$-4],[$-3,$-2,$-1])}var X=I;I=O,O=X;var Q=N;N=z,z=Q;var se=B;B=F,F=se}return{positions:E,cells:m,vectors:k,vertexIntensity:_}},u=function(x,T,C,y){for(var S=0,A=0;A<x.length;A++)for(var i=x[A].velocities,E=0;E<i.length;E++)S=Math.max(S,t.length(i[E]));for(var m=x.map(function(Z){return l(Z,C,y,S)}),k=[],I=[],O=[],_=[],A=0;A<m.length;A++){var B=m[A],F=k.length;k=k.concat(B.positions),O=O.concat(B.vectors),_=_.concat(B.vertexIntensity);for(var E=0;E<B.cells.length;E++){var z=B.cells[E],N=[];I.push(N);for(var W=0;W<z.length;W++)N.push(z[W]+F)}}return{positions:k,cells:I,vectors:O,vertexIntensity:_,colormap:T}},f=function(x,T){var C=x.length,y;for(y=0;y<C;y++){var S=x[y];if(S===T)return y;if(S>T)return y-1}return y},g=function(x,T,C){return x<T?T:x>C?C:x},h=function(x,T,C){var y=T.vectors,S=T.meshgrid,A=x[0],i=x[1],E=x[2],m=S[0].length,k=S[1].length,I=S[2].length,O=f(S[0],A),_=f(S[1],i),B=f(S[2],E),F=O+1,z=_+1,N=B+1;if(O=g(O,0,m-1),F=g(F,0,m-1),_=g(_,0,k-1),z=g(z,0,k-1),B=g(B,0,I-1),N=g(N,0,I-1),O<0||_<0||B<0||F>m-1||z>k-1||N>I-1)return t.create();var W=S[0][O],Z=S[0][F],q=S[1][_],re=S[1][z],le=S[2][B],ie=S[2][N],K=(A-W)/(Z-W),$=(i-q)/(re-q),X=(E-le)/(ie-le);isFinite(K)||(K=.5),isFinite($)||($=.5),isFinite(X)||(X=.5);var Q,se,J,G,oe,te;switch(C.reversedX&&(O=m-1-O,F=m-1-F),C.reversedY&&(_=k-1-_,z=k-1-z),C.reversedZ&&(B=I-1-B,N=I-1-N),C.filled){case 5:oe=B,te=N,J=_*I,G=z*I,Q=O*I*k,se=F*I*k;break;case 4:oe=B,te=N,Q=O*I,se=F*I,J=_*I*m,G=z*I*m;break;case 3:J=_,G=z,oe=B*k,te=N*k,Q=O*k*I,se=F*k*I;break;case 2:J=_,G=z,Q=O*k,se=F*k,oe=B*k*m,te=N*k*m;break;case 1:Q=O,se=F,oe=B*m,te=N*m,J=_*m*I,G=z*m*I;break;default:Q=O,se=F,J=_*m,G=z*m,oe=B*m*k,te=N*m*k;break}var fe=y[Q+J+oe],ge=y[Q+J+te],we=y[Q+G+oe],xe=y[Q+G+te],Ce=y[se+J+oe],De=y[se+J+te],Oe=y[se+G+oe],Te=y[se+G+te],Re=t.create(),Me=t.create(),ke=t.create(),Se=t.create();t.lerp(Re,fe,Ce,K),t.lerp(Me,ge,De,K),t.lerp(ke,we,Oe,K),t.lerp(Se,xe,Te,K);var He=t.create(),je=t.create();t.lerp(He,Re,ke,$),t.lerp(je,Me,Se,$);var at=t.create();return t.lerp(at,He,je,X),at},w=function(x){var T=1/0;x.sort(function(A,i){return A-i});for(var C=x.length,y=1;y<C;y++){var S=Math.abs(x[y]-x[y-1]);S<T&&(T=S)}return T},c=function(x){for(var T=[],C=[],y=[],S={},A={},i={},E=x.length,m=0;m<E;m++){var k=x[m],I=k[0],O=k[1],_=k[2];S[I]||(T.push(I),S[I]=!0),A[O]||(C.push(O),A[O]=!0),i[_]||(y.push(_),i[_]=!0)}var B=w(T),F=w(C),z=w(y),N=Math.min(B,F,z);return isFinite(N)?N:1};v.exports=function(x,T){var C=x.startingPositions,y=x.maxLength||1e3,S=x.tubeSize||1,A=x.absoluteTubeSize,i=x.gridFill||"+x+y+z",E={};i.indexOf("-x")!==-1&&(E.reversedX=!0),i.indexOf("-y")!==-1&&(E.reversedY=!0),i.indexOf("-z")!==-1&&(E.reversedZ=!0),E.filled=n.indexOf(i.replace(/-/g,"").replace(/\+/g,""));var m=x.getVelocity||function(De){return h(De,x,E)},k=x.getDivergence||function(De,Oe){var Te=t.create(),Re=1e-4;t.add(Te,De,[Re,0,0]);var Me=m(Te);t.subtract(Me,Me,Oe),t.scale(Me,Me,1/Re),t.add(Te,De,[0,Re,0]);var ke=m(Te);t.subtract(ke,ke,Oe),t.scale(ke,ke,1/Re),t.add(Te,De,[0,0,Re]);var Se=m(Te);return t.subtract(Se,Se,Oe),t.scale(Se,Se,1/Re),t.add(Te,Me,ke),t.add(Te,Te,Se),Te},I=[],O=T[0][0],_=T[0][1],B=T[0][2],F=T[1][0],z=T[1][1],N=T[1][2],W=function(De){var Oe=De[0],Te=De[1],Re=De[2];return!(Oe<O||Oe>F||Te<_||Te>z||Re<B||Re>N)},Z=t.distance(T[0],T[1]),q=10*Z/y,re=q*q,le=1,ie=0,K=C.length;K>1&&(le=c(C));for(var $=0;$<K;$++){var X=t.create();t.copy(X,C[$]);var Q=[X],se=[],J=m(X),G=X;se.push(J);var oe=[],te=k(X,J),fe=t.length(te);isFinite(fe)&&fe>ie&&(ie=fe),oe.push(fe),I.push({points:Q,velocities:se,divergences:oe});for(var ge=0;ge<y*100&&Q.length<y&&W(X);){ge++;var we=t.clone(J),xe=t.squaredLength(we);if(xe===0)break;if(xe>re&&t.scale(we,we,q/Math.sqrt(xe)),t.add(we,we,X),J=m(we),t.squaredDistance(G,we)-re>-1e-4*re){Q.push(we),G=we,se.push(J);var te=k(we,J),fe=t.length(te);isFinite(fe)&&fe>ie&&(ie=fe),oe.push(fe)}X=we}}var Ce=u(I,x.colormap,ie,le);return A?Ce.tubeScale=A:(ie===0&&(ie=1),Ce.tubeScale=S*.5*le/ie),Ce};var a=r(6740),d=r(6405).createMesh;v.exports.createTubeMesh=function(x,T){return d(x,T,{shaders:a,traceType:"streamtube"})}},990:function(v,p,r){var t=r(9405),o=r(3236),n=o([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(localCoordinate, 1.0);
  vec4 clipPosition = projection * (view * worldPosition);
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),l=o([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color — in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),u=o([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(dataCoordinate, 1.0);

  vec4 clipPosition = projection * (view * worldPosition);
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),f=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);p.createShader=function(g){var h=t(g,n,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},p.createPickShader=function(g){var h=t(g,n,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},p.createContourShader=function(g){var h=t(g,u,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h},p.createPickContourShader=function(g){var h=t(g,u,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h}},9499:function(v,p,r){v.exports=se;var t=r(8828),o=r(2762),n=r(8116),l=r(7766),u=r(1888),f=r(6729),g=r(5298),h=r(9994),w=r(9618),c=r(3711),a=r(6760),d=r(7608),x=r(2478),T=r(6199),C=r(990),y=C.createShader,S=C.createContourShader,A=C.createPickShader,i=C.createPickContourShader,E=4*10,m=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],k=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],I=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var J=0;J<3;++J){var G=I[J],oe=(J+1)%3,te=(J+2)%3;G[oe+0]=1,G[te+3]=1,G[J+6]=1}})();function O(J,G,oe,te,fe){this.position=J,this.index=G,this.uv=oe,this.level=te,this.dataCoordinate=fe}var _=256;function B(J,G,oe,te,fe,ge,we,xe,Ce,De,Oe,Te,Re,Me,ke){this.gl=J,this.shape=G,this.bounds=oe,this.objectOffset=ke,this.intensityBounds=[],this._shader=te,this._pickShader=fe,this._coordinateBuffer=ge,this._vao=we,this._colorMap=xe,this._contourShader=Ce,this._contourPickShader=De,this._contourBuffer=Oe,this._contourVAO=Te,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new O([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Re,this._dynamicVAO=Me,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[w(u.mallocFloat(1024),[0,0]),w(u.mallocFloat(1024),[0,0]),w(u.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var F=B.prototype;F.genColormap=function(J,G){var oe=!1,te=h([f({colormap:J,nshades:_,format:"rgba"}).map(function(fe,ge){var we=G?z(ge/255,G):fe[3];return we<1&&(oe=!0),[fe[0],fe[1],fe[2],255*we]})]);return g.divseq(te,255),this.hasAlphaScale=oe,te},F.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},F.isOpaque=function(){return!this.isTransparent()},F.pickSlots=1,F.setPickBase=function(J){this.pickId=J};function z(J,G){if(!G||!G.length)return 1;for(var oe=0;oe<G.length;++oe){if(G.length<2)return 1;if(G[oe][0]===J)return G[oe][1];if(G[oe][0]>J&&oe>0){var te=(G[oe][0]-J)/(G[oe][0]-G[oe-1][0]);return G[oe][1]*(1-te)+te*G[oe-1][1]}}return 1}var N=[0,0,0],W={showSurface:!1,showContour:!1,projections:[m.slice(),m.slice(),m.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function Z(J,G){var oe,te,fe,ge=G.axes&&G.axes.lastCubeProps.axis||N,we=G.showSurface,xe=G.showContour;for(oe=0;oe<3;++oe)for(we=we||G.surfaceProject[oe],te=0;te<3;++te)xe=xe||G.contourProject[oe][te];for(oe=0;oe<3;++oe){var Ce=W.projections[oe];for(te=0;te<16;++te)Ce[te]=0;for(te=0;te<4;++te)Ce[5*te]=1;Ce[5*oe]=0,Ce[12+oe]=G.axesBounds[+(ge[oe]>0)][oe],a(Ce,J.model,Ce);var De=W.clipBounds[oe];for(fe=0;fe<2;++fe)for(te=0;te<3;++te)De[fe][te]=J.clipBounds[fe][te];De[0][oe]=-1e8,De[1][oe]=1e8}return W.showSurface=we,W.showContour=xe,W}var q={model:m,view:m,projection:m,inverseModel:m.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},re=m.slice(),le=[1,0,0,0,1,0,0,0,1];function ie(J,G){J=J||{};var oe=this.gl;oe.disable(oe.CULL_FACE),this._colorMap.bind(0);var te=q;te.model=J.model||m,te.view=J.view||m,te.projection=J.projection||m,te.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],te.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],te.objectOffset=this.objectOffset,te.contourColor=this.contourColor[0],te.inverseModel=d(te.inverseModel,te.model);for(var fe=0;fe<2;++fe)for(var ge=te.clipBounds[fe],we=0;we<3;++we)ge[we]=Math.min(Math.max(this.clipBounds[fe][we],-1e8),1e8);te.kambient=this.ambientLight,te.kdiffuse=this.diffuseLight,te.kspecular=this.specularLight,te.roughness=this.roughness,te.fresnel=this.fresnel,te.opacity=this.opacity,te.height=0,te.permutation=le,te.vertexColor=this.vertexColor;var xe=re;for(a(xe,te.view,te.model),a(xe,te.projection,xe),d(xe,xe),fe=0;fe<3;++fe)te.eyePosition[fe]=xe[12+fe]/xe[15];var Ce=xe[15];for(fe=0;fe<3;++fe)Ce+=this.lightPosition[fe]*xe[4*fe+3];for(fe=0;fe<3;++fe){var De=xe[12+fe];for(we=0;we<3;++we)De+=xe[4*we+fe]*this.lightPosition[we];te.lightPosition[fe]=De/Ce}var Oe=Z(te,this);if(Oe.showSurface){for(this._shader.bind(),this._shader.uniforms=te,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(oe.TRIANGLES,this._vertexCount),fe=0;fe<3;++fe)!this.surfaceProject[fe]||!this.vertexCount||(this._shader.uniforms.model=Oe.projections[fe],this._shader.uniforms.clipBounds=Oe.clipBounds[fe],this._vao.draw(oe.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Oe.showContour){var Te=this._contourShader;te.kambient=1,te.kdiffuse=0,te.kspecular=0,te.opacity=1,Te.bind(),Te.uniforms=te;var Re=this._contourVAO;for(Re.bind(),fe=0;fe<3;++fe)for(Te.uniforms.permutation=I[fe],oe.lineWidth(this.contourWidth[fe]*this.pixelRatio),we=0;we<this.contourLevels[fe].length;++we)we===this.highlightLevel[fe]?(Te.uniforms.contourColor=this.highlightColor[fe],Te.uniforms.contourTint=this.highlightTint[fe]):(we===0||we-1===this.highlightLevel[fe])&&(Te.uniforms.contourColor=this.contourColor[fe],Te.uniforms.contourTint=this.contourTint[fe]),this._contourCounts[fe][we]&&(Te.uniforms.height=this.contourLevels[fe][we],Re.draw(oe.LINES,this._contourCounts[fe][we],this._contourOffsets[fe][we]));for(fe=0;fe<3;++fe)for(Te.uniforms.model=Oe.projections[fe],Te.uniforms.clipBounds=Oe.clipBounds[fe],we=0;we<3;++we)if(this.contourProject[fe][we]){Te.uniforms.permutation=I[we],oe.lineWidth(this.contourWidth[we]*this.pixelRatio);for(var Me=0;Me<this.contourLevels[we].length;++Me)Me===this.highlightLevel[we]?(Te.uniforms.contourColor=this.highlightColor[we],Te.uniforms.contourTint=this.highlightTint[we]):(Me===0||Me-1===this.highlightLevel[we])&&(Te.uniforms.contourColor=this.contourColor[we],Te.uniforms.contourTint=this.contourTint[we]),this._contourCounts[we][Me]&&(Te.uniforms.height=this.contourLevels[we][Me],Re.draw(oe.LINES,this._contourCounts[we][Me],this._contourOffsets[we][Me]))}for(Re.unbind(),Re=this._dynamicVAO,Re.bind(),fe=0;fe<3;++fe)if(this._dynamicCounts[fe]!==0)for(Te.uniforms.model=te.model,Te.uniforms.clipBounds=te.clipBounds,Te.uniforms.permutation=I[fe],oe.lineWidth(this.dynamicWidth[fe]*this.pixelRatio),Te.uniforms.contourColor=this.dynamicColor[fe],Te.uniforms.contourTint=this.dynamicTint[fe],Te.uniforms.height=this.dynamicLevel[fe],Re.draw(oe.LINES,this._dynamicCounts[fe],this._dynamicOffsets[fe]),we=0;we<3;++we)this.contourProject[we][fe]&&(Te.uniforms.model=Oe.projections[we],Te.uniforms.clipBounds=Oe.clipBounds[we],Re.draw(oe.LINES,this._dynamicCounts[fe],this._dynamicOffsets[fe]));Re.unbind()}}F.draw=function(J){return ie.call(this,J,!1)},F.drawTransparent=function(J){return ie.call(this,J,!0)};var K={model:m,view:m,projection:m,inverseModel:m,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};F.drawPick=function(J){J=J||{};var G=this.gl;G.disable(G.CULL_FACE);var oe=K;oe.model=J.model||m,oe.view=J.view||m,oe.projection=J.projection||m,oe.shape=this._field[2].shape,oe.pickId=this.pickId/255,oe.lowerBound=this.bounds[0],oe.upperBound=this.bounds[1],oe.objectOffset=this.objectOffset,oe.permutation=le;for(var te=0;te<2;++te)for(var fe=oe.clipBounds[te],ge=0;ge<3;++ge)fe[ge]=Math.min(Math.max(this.clipBounds[te][ge],-1e8),1e8);var we=Z(oe,this);if(we.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=oe,this._vao.bind(),this._vao.draw(G.TRIANGLES,this._vertexCount),te=0;te<3;++te)this.surfaceProject[te]&&(this._pickShader.uniforms.model=we.projections[te],this._pickShader.uniforms.clipBounds=we.clipBounds[te],this._vao.draw(G.TRIANGLES,this._vertexCount));this._vao.unbind()}if(we.showContour){var xe=this._contourPickShader;xe.bind(),xe.uniforms=oe;var Ce=this._contourVAO;for(Ce.bind(),ge=0;ge<3;++ge)for(G.lineWidth(this.contourWidth[ge]*this.pixelRatio),xe.uniforms.permutation=I[ge],te=0;te<this.contourLevels[ge].length;++te)this._contourCounts[ge][te]&&(xe.uniforms.height=this.contourLevels[ge][te],Ce.draw(G.LINES,this._contourCounts[ge][te],this._contourOffsets[ge][te]));for(te=0;te<3;++te)for(xe.uniforms.model=we.projections[te],xe.uniforms.clipBounds=we.clipBounds[te],ge=0;ge<3;++ge)if(this.contourProject[te][ge]){xe.uniforms.permutation=I[ge],G.lineWidth(this.contourWidth[ge]*this.pixelRatio);for(var De=0;De<this.contourLevels[ge].length;++De)this._contourCounts[ge][De]&&(xe.uniforms.height=this.contourLevels[ge][De],Ce.draw(G.LINES,this._contourCounts[ge][De],this._contourOffsets[ge][De]))}Ce.unbind()}},F.pick=function(J){if(!J||J.id!==this.pickId)return null;var G=this._field[2].shape,oe=this._pickResult,te=G[0]*(J.value[0]+(J.value[2]>>4)/16)/255,fe=Math.floor(te),ge=te-fe,we=G[1]*(J.value[1]+(J.value[2]&15)/16)/255,xe=Math.floor(we),Ce=we-xe;fe+=1,xe+=1;var De=oe.position;De[0]=De[1]=De[2]=0;for(var Oe=0;Oe<2;++Oe)for(var Te=Oe?ge:1-ge,Re=0;Re<2;++Re)for(var Me=Re?Ce:1-Ce,ke=fe+Oe,Se=xe+Re,He=Te*Me,je=0;je<3;++je)De[je]+=this._field[je].get(ke,Se)*He;for(var at=this._pickResult.level,Ze=0;Ze<3;++Ze)if(at[Ze]=x.le(this.contourLevels[Ze],De[Ze]),at[Ze]<0)this.contourLevels[Ze].length>0&&(at[Ze]=0);else if(at[Ze]<this.contourLevels[Ze].length-1){var $e=this.contourLevels[Ze][at[Ze]],ut=this.contourLevels[Ze][at[Ze]+1];Math.abs($e-De[Ze])>Math.abs(ut-De[Ze])&&(at[Ze]+=1)}for(oe.index[0]=ge<.5?fe:fe+1,oe.index[1]=Ce<.5?xe:xe+1,oe.uv[0]=te/G[0],oe.uv[1]=we/G[1],je=0;je<3;++je)oe.dataCoordinate[je]=this._field[je].get(oe.index[0],oe.index[1]);return oe},F.padField=function(J,G){var oe=G.shape.slice(),te=J.shape.slice();g.assign(J.lo(1,1).hi(oe[0],oe[1]),G),g.assign(J.lo(1).hi(oe[0],1),G.hi(oe[0],1)),g.assign(J.lo(1,te[1]-1).hi(oe[0],1),G.lo(0,oe[1]-1).hi(oe[0],1)),g.assign(J.lo(0,1).hi(1,oe[1]),G.hi(1)),g.assign(J.lo(te[0]-1,1).hi(1,oe[1]),G.lo(oe[0]-1)),J.set(0,0,G.get(0,0)),J.set(0,te[1]-1,G.get(0,oe[1]-1)),J.set(te[0]-1,0,G.get(oe[0]-1,0)),J.set(te[0]-1,te[1]-1,G.get(oe[0]-1,oe[1]-1))};function $(J,G){return Array.isArray(J)?[G(J[0]),G(J[1]),G(J[2])]:[G(J),G(J),G(J)]}function X(J){return Array.isArray(J)?J.length===3?[J[0],J[1],J[2],1]:[J[0],J[1],J[2],J[3]]:[0,0,0,1]}function Q(J){if(Array.isArray(J)){if(Array.isArray(J))return[X(J[0]),X(J[1]),X(J[2])];var G=X(J);return[G.slice(),G.slice(),G.slice()]}}F.update=function(J){J=J||{},this.objectOffset=J.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in J&&(this.contourWidth=$(J.contourWidth,Number)),"showContour"in J&&(this.showContour=$(J.showContour,Boolean)),"showSurface"in J&&(this.showSurface=!!J.showSurface),"contourTint"in J&&(this.contourTint=$(J.contourTint,Boolean)),"contourColor"in J&&(this.contourColor=Q(J.contourColor)),"contourProject"in J&&(this.contourProject=$(J.contourProject,function(Ke){return $(Ke,Boolean)})),"surfaceProject"in J&&(this.surfaceProject=J.surfaceProject),"dynamicColor"in J&&(this.dynamicColor=Q(J.dynamicColor)),"dynamicTint"in J&&(this.dynamicTint=$(J.dynamicTint,Number)),"dynamicWidth"in J&&(this.dynamicWidth=$(J.dynamicWidth,Number)),"opacity"in J&&(this.opacity=J.opacity),"opacityscale"in J&&(this.opacityscale=J.opacityscale),"colorBounds"in J&&(this.colorBounds=J.colorBounds),"vertexColor"in J&&(this.vertexColor=J.vertexColor?1:0),"colormap"in J&&this._colorMap.setPixels(this.genColormap(J.colormap,this.opacityscale));var G=J.field||J.coords&&J.coords[2]||null,oe=!1;if(G||(this._field[2].shape[0]||this._field[2].shape[2]?G=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):G=this._field[2].hi(0,0)),"field"in J||"coords"in J){var te=(G.shape[0]+2)*(G.shape[1]+2);te>this._field[2].data.length&&(u.freeFloat(this._field[2].data),this._field[2].data=u.mallocFloat(t.nextPow2(te))),this._field[2]=w(this._field[2].data,[G.shape[0]+2,G.shape[1]+2]),this.padField(this._field[2],G),this.shape=G.shape.slice();for(var fe=this.shape,ge=0;ge<2;++ge)this._field[2].size>this._field[ge].data.length&&(u.freeFloat(this._field[ge].data),this._field[ge].data=u.mallocFloat(this._field[2].size)),this._field[ge]=w(this._field[ge].data,[fe[0]+2,fe[1]+2]);if(J.coords){var we=J.coords;if(!Array.isArray(we)||we.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(ge=0;ge<2;++ge){var xe=we[ge];for(Re=0;Re<2;++Re)if(xe.shape[Re]!==fe[Re])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[ge],xe)}}else if(J.ticks){var Ce=J.ticks;if(!Array.isArray(Ce)||Ce.length!==2)throw new Error("gl-surface: invalid ticks");for(ge=0;ge<2;++ge){var De=Ce[ge];if((Array.isArray(De)||De.length)&&(De=w(De)),De.shape[0]!==fe[ge])throw new Error("gl-surface: invalid tick length");var Oe=w(De.data,fe);Oe.stride[ge]=De.stride[0],Oe.stride[ge^1]=0,this.padField(this._field[ge],Oe)}}else{for(ge=0;ge<2;++ge){var Te=[0,0];Te[ge]=1,this._field[ge]=w(this._field[ge].data,[fe[0]+2,fe[1]+2],Te,0)}this._field[0].set(0,0,0);for(var Re=0;Re<fe[0];++Re)this._field[0].set(Re+1,0,Re);for(this._field[0].set(fe[0]+1,0,fe[0]-1),this._field[1].set(0,0,0),Re=0;Re<fe[1];++Re)this._field[1].set(0,Re+1,Re);this._field[1].set(0,fe[1]+1,fe[1]-1)}var Me=this._field,ke=w(u.mallocFloat(Me[2].size*3*2),[3,fe[0]+2,fe[1]+2,2]);for(ge=0;ge<3;++ge)T(ke.pick(ge),Me[ge],"mirror");var Se=w(u.mallocFloat(Me[2].size*3),[fe[0]+2,fe[1]+2,3]);for(ge=0;ge<fe[0]+2;++ge)for(Re=0;Re<fe[1]+2;++Re){var He=ke.get(0,ge,Re,0),je=ke.get(0,ge,Re,1),at=ke.get(1,ge,Re,0),Ze=ke.get(1,ge,Re,1),$e=ke.get(2,ge,Re,0),ut=ke.get(2,ge,Re,1),ht=at*ut-Ze*$e,vt=$e*je-ut*He,xt=He*Ze-je*at,St=Math.sqrt(ht*ht+vt*vt+xt*xt);St<1e-8?(St=Math.max(Math.abs(ht),Math.abs(vt),Math.abs(xt)),St<1e-8?(xt=1,vt=ht=0,St=1):St=1/St):St=1/Math.sqrt(St),Se.set(ge,Re,0,ht*St),Se.set(ge,Re,1,vt*St),Se.set(ge,Re,2,xt*St)}u.free(ke.data);var tt=[1/0,1/0,1/0],Ie=[-1/0,-1/0,-1/0],Ve=1/0,Ge=-1/0,Xe=(fe[0]-1)*(fe[1]-1)*6,Le=u.mallocFloat(t.nextPow2(10*Xe)),Fe=0,Ue=0;for(ge=0;ge<fe[0]-1;++ge)e:for(Re=0;Re<fe[1]-1;++Re){for(var Ee=0;Ee<2;++Ee)for(var he=0;he<2;++he)for(var ye=0;ye<3;++ye){var _e=this._field[ye].get(1+ge+Ee,1+Re+he);if(isNaN(_e)||!isFinite(_e))continue e}for(ye=0;ye<6;++ye){var We=ge+k[ye][0],rt=Re+k[ye][1],st=this._field[0].get(We+1,rt+1),Vt=this._field[1].get(We+1,rt+1);_e=this._field[2].get(We+1,rt+1),ht=Se.get(We+1,rt+1,0),vt=Se.get(We+1,rt+1,1),xt=Se.get(We+1,rt+1,2),J.intensity&&(Xt=J.intensity.get(We,rt));var Xt=J.intensity?J.intensity.get(We,rt):_e+this.objectOffset[2];Le[Fe++]=We,Le[Fe++]=rt,Le[Fe++]=st,Le[Fe++]=Vt,Le[Fe++]=_e,Le[Fe++]=0,Le[Fe++]=Xt,Le[Fe++]=ht,Le[Fe++]=vt,Le[Fe++]=xt,tt[0]=Math.min(tt[0],st+this.objectOffset[0]),tt[1]=Math.min(tt[1],Vt+this.objectOffset[1]),tt[2]=Math.min(tt[2],_e+this.objectOffset[2]),Ve=Math.min(Ve,Xt),Ie[0]=Math.max(Ie[0],st+this.objectOffset[0]),Ie[1]=Math.max(Ie[1],Vt+this.objectOffset[1]),Ie[2]=Math.max(Ie[2],_e+this.objectOffset[2]),Ge=Math.max(Ge,Xt),Ue+=1}}for(J.intensityBounds&&(Ve=+J.intensityBounds[0],Ge=+J.intensityBounds[1]),ge=6;ge<Fe;ge+=10)Le[ge]=(Le[ge]-Ve)/(Ge-Ve);this._vertexCount=Ue,this._coordinateBuffer.update(Le.subarray(0,Fe)),u.freeFloat(Le),u.free(Se.data),this.bounds=[tt,Ie],this.intensity=J.intensity||this._field[2],(this.intensityBounds[0]!==Ve||this.intensityBounds[1]!==Ge)&&(oe=!0),this.intensityBounds=[Ve,Ge]}if("levels"in J){var Tt=J.levels;for(Array.isArray(Tt[0])?Tt=Tt.slice():Tt=[[],[],Tt],ge=0;ge<3;++ge)Tt[ge]=Tt[ge].slice(),Tt[ge].sort(function(Ke,et){return Ke-et});for(ge=0;ge<3;++ge)for(Re=0;Re<Tt[ge].length;++Re)Tt[ge][Re]-=this.objectOffset[ge];e:for(ge=0;ge<3;++ge){if(Tt[ge].length!==this.contourLevels[ge].length){oe=!0;break}for(Re=0;Re<Tt[ge].length;++Re)if(Tt[ge][Re]!==this.contourLevels[ge][Re]){oe=!0;break e}}this.contourLevels=Tt}if(oe){Me=this._field,fe=this.shape;for(var Lt=[],Kt=0;Kt<3;++Kt){var vr=this.contourLevels[Kt],pt=[],jt=[],$t=[0,0,0];for(ge=0;ge<vr.length;++ge){var mr=c(this._field[Kt],vr[ge]);pt.push(Lt.length/5|0),Ue=0;e:for(Re=0;Re<mr.cells.length;++Re){var or=mr.cells[Re];for(ye=0;ye<2;++ye){var gt=mr.positions[or[ye]],lt=gt[0],bt=Math.floor(lt)|0,Et=lt-bt,kt=gt[1],Ot=Math.floor(kt)|0,Ft=kt-Ot,Bt=!1;t:for(var Jt=0;Jt<3;++Jt){$t[Jt]=0;var hr=(Kt+Jt+1)%3;for(Ee=0;Ee<2;++Ee){var cr=Ee?Et:1-Et;for(We=Math.min(Math.max(bt+Ee,0),fe[0])|0,he=0;he<2;++he){var dr=he?Ft:1-Ft;if(rt=Math.min(Math.max(Ot+he,0),fe[1])|0,Jt<2?_e=this._field[hr].get(We,rt):_e=(this.intensity.get(We,rt)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(_e)||isNaN(_e)){Bt=!0;break t}var fr=cr*dr;$t[Jt]+=fr*_e}}}if(!Bt)Lt.push($t[0],$t[1],gt[0],gt[1],$t[2]),Ue+=1;else{if(ye>0){for(var Lr=0;Lr<5;++Lr)Lt.pop();Ue-=1}continue e}}}jt.push(Ue)}this._contourOffsets[Kt]=pt,this._contourCounts[Kt]=jt}var xr=u.mallocFloat(Lt.length);for(ge=0;ge<Lt.length;++ge)xr[ge]=Lt[ge];this._contourBuffer.update(xr),u.freeFloat(xr)}},F.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var J=0;J<3;++J)u.freeFloat(this._field[J].data)},F.highlight=function(J){var G;if(!J){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(G=0;G<3;++G)this.enableHighlight[G]?this.highlightLevel[G]=J.level[G]:this.highlightLevel[G]=-1;var oe;for(this.snapToData?oe=J.dataCoordinate:oe=J.position,G=0;G<3;++G)oe[G]-=this.objectOffset[G];if(!((!this.enableDynamic[0]||oe[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||oe[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||oe[2]===this.dynamicLevel[2]))){for(var te=0,fe=this.shape,ge=u.mallocFloat(12*fe[0]*fe[1]),we=0;we<3;++we){if(!this.enableDynamic[we]){this.dynamicLevel[we]=NaN,this._dynamicCounts[we]=0;continue}this.dynamicLevel[we]=oe[we];var xe=(we+1)%3,Ce=(we+2)%3,De=this._field[we],Oe=this._field[xe],Te=this._field[Ce],Re=c(De,oe[we]),Me=Re.cells,ke=Re.positions;for(this._dynamicOffsets[we]=te,G=0;G<Me.length;++G)for(var Se=Me[G],He=0;He<2;++He){var je=ke[Se[He]],at=+je[0],Ze=at|0,$e=Math.min(Ze+1,fe[0])|0,ut=at-Ze,ht=1-ut,vt=+je[1],xt=vt|0,St=Math.min(xt+1,fe[1])|0,tt=vt-xt,Ie=1-tt,Ve=ht*Ie,Ge=ht*tt,Xe=ut*Ie,Le=ut*tt,Fe=Ve*Oe.get(Ze,xt)+Ge*Oe.get(Ze,St)+Xe*Oe.get($e,xt)+Le*Oe.get($e,St),Ue=Ve*Te.get(Ze,xt)+Ge*Te.get(Ze,St)+Xe*Te.get($e,xt)+Le*Te.get($e,St);if(isNaN(Fe)||isNaN(Ue)){He&&(te-=1);break}ge[2*te+0]=Fe,ge[2*te+1]=Ue,te+=1}this._dynamicCounts[we]=te-this._dynamicOffsets[we]}this._dynamicBuffer.update(ge.subarray(0,2*te)),u.freeFloat(ge)}};function se(J){var G=J.gl,oe=y(G),te=A(G),fe=S(G),ge=i(G),we=o(G),xe=n(G,[{buffer:we,size:4,stride:E,offset:0},{buffer:we,size:3,stride:E,offset:16},{buffer:we,size:3,stride:E,offset:28}]),Ce=o(G),De=n(G,[{buffer:Ce,size:4,stride:20,offset:0},{buffer:Ce,size:1,stride:20,offset:16}]),Oe=o(G),Te=n(G,[{buffer:Oe,size:2,type:G.FLOAT}]),Re=l(G,1,_,G.RGBA,G.UNSIGNED_BYTE);Re.minFilter=G.LINEAR,Re.magFilter=G.LINEAR;var Me=new B(G,[0,0],[[0,0,0],[0,0,0]],oe,te,we,xe,Re,fe,ge,Ce,De,Oe,Te,[0,0,0]),ke={levels:[[],[],[]]};for(var Se in J)ke[Se]=J[Se];return ke.colormap=ke.colormap||"jet",Me.update(ke),Me}},7766:function(v,p,r){var t=r(9618),o=r(5298),n=r(1888);v.exports=i;var l=null,u=null,f=null;function g(E){l=[E.LINEAR,E.NEAREST_MIPMAP_LINEAR,E.LINEAR_MIPMAP_NEAREST,E.LINEAR_MIPMAP_NEAREST],u=[E.NEAREST,E.LINEAR,E.NEAREST_MIPMAP_NEAREST,E.NEAREST_MIPMAP_LINEAR,E.LINEAR_MIPMAP_NEAREST,E.LINEAR_MIPMAP_LINEAR],f=[E.REPEAT,E.CLAMP_TO_EDGE,E.MIRRORED_REPEAT]}function h(E){return typeof HTMLCanvasElement<"u"&&E instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&E instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&E instanceof HTMLVideoElement||typeof ImageData<"u"&&E instanceof ImageData}var w=function(E,m){o.muls(E,m,255)};function c(E,m,k){var I=E.gl,O=I.getParameter(I.MAX_TEXTURE_SIZE);if(m<0||m>O||k<0||k>O)throw new Error("gl-texture2d: Invalid texture size");return E._shape=[m,k],E.bind(),I.texImage2D(I.TEXTURE_2D,0,E.format,m,k,0,E.format,E.type,null),E._mipLevels=[0],E}function a(E,m,k,I,O,_){this.gl=E,this.handle=m,this.format=O,this.type=_,this._shape=[k,I],this._mipLevels=[0],this._magFilter=E.NEAREST,this._minFilter=E.NEAREST,this._wrapS=E.CLAMP_TO_EDGE,this._wrapT=E.CLAMP_TO_EDGE,this._anisoSamples=1;var B=this,F=[this._wrapS,this._wrapT];Object.defineProperties(F,[{get:function(){return B._wrapS},set:function(N){return B.wrapS=N}},{get:function(){return B._wrapT},set:function(N){return B.wrapT=N}}]),this._wrapVector=F;var z=[this._shape[0],this._shape[1]];Object.defineProperties(z,[{get:function(){return B._shape[0]},set:function(N){return B.width=N}},{get:function(){return B._shape[1]},set:function(N){return B.height=N}}]),this._shapeVector=z}var d=a.prototype;Object.defineProperties(d,{minFilter:{get:function(){return this._minFilter},set:function(E){this.bind();var m=this.gl;if(this.type===m.FLOAT&&l.indexOf(E)>=0&&(m.getExtension("OES_texture_float_linear")||(E=m.NEAREST)),u.indexOf(E)<0)throw new Error("gl-texture2d: Unknown filter mode "+E);return m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,E),this._minFilter=E}},magFilter:{get:function(){return this._magFilter},set:function(E){this.bind();var m=this.gl;if(this.type===m.FLOAT&&l.indexOf(E)>=0&&(m.getExtension("OES_texture_float_linear")||(E=m.NEAREST)),u.indexOf(E)<0)throw new Error("gl-texture2d: Unknown filter mode "+E);return m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,E),this._magFilter=E}},mipSamples:{get:function(){return this._anisoSamples},set:function(E){var m=this._anisoSamples;if(this._anisoSamples=Math.max(E,1)|0,m!==this._anisoSamples){var k=this.gl.getExtension("EXT_texture_filter_anisotropic");k&&this.gl.texParameterf(this.gl.TEXTURE_2D,k.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(E){if(this.bind(),f.indexOf(E)<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,E),this._wrapS=E}},wrapT:{get:function(){return this._wrapT},set:function(E){if(this.bind(),f.indexOf(E)<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,E),this._wrapT=E}},wrap:{get:function(){return this._wrapVector},set:function(E){if(Array.isArray(E)||(E=[E,E]),E.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var m=0;m<2;++m)if(f.indexOf(E[m])<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);this._wrapS=E[0],this._wrapT=E[1];var k=this.gl;return this.bind(),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,this._wrapS),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,this._wrapT),E}},shape:{get:function(){return this._shapeVector},set:function(E){if(!Array.isArray(E))E=[E|0,E|0];else if(E.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return c(this,E[0]|0,E[1]|0),[E[0]|0,E[1]|0]}},width:{get:function(){return this._shape[0]},set:function(E){return E=E|0,c(this,E,this._shape[1]),E}},height:{get:function(){return this._shape[1]},set:function(E){return E=E|0,c(this,this._shape[0],E),E}}}),d.bind=function(E){var m=this.gl;return E!==void 0&&m.activeTexture(m.TEXTURE0+(E|0)),m.bindTexture(m.TEXTURE_2D,this.handle),E!==void 0?E|0:m.getParameter(m.ACTIVE_TEXTURE)-m.TEXTURE0},d.dispose=function(){this.gl.deleteTexture(this.handle)},d.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var E=Math.min(this._shape[0],this._shape[1]),m=0;E>0;++m,E>>>=1)this._mipLevels.indexOf(m)<0&&this._mipLevels.push(m)},d.setPixels=function(E,m,k,I){var O=this.gl;this.bind(),Array.isArray(m)?(I=k,k=m[1]|0,m=m[0]|0):(m=m||0,k=k||0),I=I||0;var _=h(E)?E:E.raw;if(_){var B=this._mipLevels.indexOf(I)<0;B?(O.texImage2D(O.TEXTURE_2D,0,this.format,this.format,this.type,_),this._mipLevels.push(I)):O.texSubImage2D(O.TEXTURE_2D,I,m,k,this.format,this.type,_)}else if(E.shape&&E.stride&&E.data){if(E.shape.length<2||m+E.shape[1]>this._shape[1]>>>I||k+E.shape[0]>this._shape[0]>>>I||m<0||k<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");T(O,m,k,I,this.format,this.type,this._mipLevels,E)}else throw new Error("gl-texture2d: Unsupported data type")};function x(E,m){return E.length===3?m[2]===1&&m[1]===E[0]*E[2]&&m[0]===E[2]:m[0]===1&&m[1]===E[0]}function T(E,m,k,I,O,_,B,F){var z=F.dtype,N=F.shape.slice();if(N.length<2||N.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var W=0,Z=0,q=x(N,F.stride.slice());if(z==="float32"?W=E.FLOAT:z==="float64"?(W=E.FLOAT,q=!1,z="float32"):z==="uint8"?W=E.UNSIGNED_BYTE:(W=E.UNSIGNED_BYTE,q=!1,z="uint8"),N.length===2)Z=E.LUMINANCE,N=[N[0],N[1],1],F=t(F.data,N,[F.stride[0],F.stride[1],1],F.offset);else if(N.length===3){if(N[2]===1)Z=E.ALPHA;else if(N[2]===2)Z=E.LUMINANCE_ALPHA;else if(N[2]===3)Z=E.RGB;else if(N[2]===4)Z=E.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");N[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((Z===E.LUMINANCE||Z===E.ALPHA)&&(O===E.LUMINANCE||O===E.ALPHA)&&(Z=O),Z!==O)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var re=F.size,le=B.indexOf(I)<0;if(le&&B.push(I),W===_&&q)F.offset===0&&F.data.length===re?le?E.texImage2D(E.TEXTURE_2D,I,O,N[0],N[1],0,O,_,F.data):E.texSubImage2D(E.TEXTURE_2D,I,m,k,N[0],N[1],O,_,F.data):le?E.texImage2D(E.TEXTURE_2D,I,O,N[0],N[1],0,O,_,F.data.subarray(F.offset,F.offset+re)):E.texSubImage2D(E.TEXTURE_2D,I,m,k,N[0],N[1],O,_,F.data.subarray(F.offset,F.offset+re));else{var ie;_===E.FLOAT?ie=n.mallocFloat32(re):ie=n.mallocUint8(re);var K=t(ie,N,[N[2],N[2]*N[0],1]);W===E.FLOAT&&_===E.UNSIGNED_BYTE?w(K,F):o.assign(K,F),le?E.texImage2D(E.TEXTURE_2D,I,O,N[0],N[1],0,O,_,ie.subarray(0,re)):E.texSubImage2D(E.TEXTURE_2D,I,m,k,N[0],N[1],O,_,ie.subarray(0,re)),_===E.FLOAT?n.freeFloat32(ie):n.freeUint8(ie)}}function C(E){var m=E.createTexture();return E.bindTexture(E.TEXTURE_2D,m),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE),m}function y(E,m,k,I,O){var _=E.getParameter(E.MAX_TEXTURE_SIZE);if(m<0||m>_||k<0||k>_)throw new Error("gl-texture2d: Invalid texture shape");if(O===E.FLOAT&&!E.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var B=C(E);return E.texImage2D(E.TEXTURE_2D,0,I,m,k,0,I,O,null),new a(E,B,m,k,I,O)}function S(E,m,k,I,O,_){var B=C(E);return E.texImage2D(E.TEXTURE_2D,0,O,O,_,m),new a(E,B,k,I,O,_)}function A(E,m){var k=m.dtype,I=m.shape.slice(),O=E.getParameter(E.MAX_TEXTURE_SIZE);if(I[0]<0||I[0]>O||I[1]<0||I[1]>O)throw new Error("gl-texture2d: Invalid texture size");var _=x(I,m.stride.slice()),B=0;k==="float32"?B=E.FLOAT:k==="float64"?(B=E.FLOAT,_=!1,k="float32"):k==="uint8"?B=E.UNSIGNED_BYTE:(B=E.UNSIGNED_BYTE,_=!1,k="uint8");var F=0;if(I.length===2)F=E.LUMINANCE,I=[I[0],I[1],1],m=t(m.data,I,[m.stride[0],m.stride[1],1],m.offset);else if(I.length===3)if(I[2]===1)F=E.ALPHA;else if(I[2]===2)F=E.LUMINANCE_ALPHA;else if(I[2]===3)F=E.RGB;else if(I[2]===4)F=E.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");B===E.FLOAT&&!E.getExtension("OES_texture_float")&&(B=E.UNSIGNED_BYTE,_=!1);var z,N,W=m.size;if(_)m.offset===0&&m.data.length===W?z=m.data:z=m.data.subarray(m.offset,m.offset+W);else{var Z=[I[2],I[2]*I[0],1];N=n.malloc(W,k);var q=t(N,I,Z,0);(k==="float32"||k==="float64")&&B===E.UNSIGNED_BYTE?w(q,m):o.assign(q,m),z=N.subarray(0,W)}var re=C(E);return E.texImage2D(E.TEXTURE_2D,0,F,I[0],I[1],0,F,B,z),_||n.free(N),new a(E,re,I[0],I[1],F,B)}function i(E){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(l||g(E),typeof arguments[1]=="number")return y(E,arguments[1],arguments[2],arguments[3]||E.RGBA,arguments[4]||E.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return y(E,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||E.RGBA,arguments[3]||E.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var m=arguments[1],k=h(m)?m:m.raw;if(k)return S(E,k,m.width|0,m.height|0,arguments[2]||E.RGBA,arguments[3]||E.UNSIGNED_BYTE);if(m.shape&&m.data&&m.stride)return A(E,m)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},1433:function(v){function p(r,t,o){t?t.bind():r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null);var n=r.getParameter(r.MAX_VERTEX_ATTRIBS)|0;if(o){if(o.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var l=0;l<o.length;++l){var u=o[l];if(u.buffer){var f=u.buffer,g=u.size||4,h=u.type||r.FLOAT,w=!!u.normalized,c=u.stride||0,a=u.offset||0;f.bind(),r.enableVertexAttribArray(l),r.vertexAttribPointer(l,g,h,w,c,a)}else{if(typeof u=="number")r.vertexAttrib1f(l,u);else if(u.length===1)r.vertexAttrib1f(l,u[0]);else if(u.length===2)r.vertexAttrib2f(l,u[0],u[1]);else if(u.length===3)r.vertexAttrib3f(l,u[0],u[1],u[2]);else if(u.length===4)r.vertexAttrib4f(l,u[0],u[1],u[2],u[3]);else throw new Error("gl-vao: Invalid vertex attribute");r.disableVertexAttribArray(l)}}for(;l<n;++l)r.disableVertexAttribArray(l)}else{r.bindBuffer(r.ARRAY_BUFFER,null);for(var l=0;l<n;++l)r.disableVertexAttribArray(l)}}v.exports=p},870:function(v,p,r){var t=r(1433);function o(l){this.gl=l,this._elements=null,this._attributes=null,this._elementsType=l.UNSIGNED_SHORT}o.prototype.bind=function(){t(this.gl,this._elements,this._attributes)},o.prototype.update=function(l,u,f){this._elements=u,this._attributes=l,this._elementsType=f||this.gl.UNSIGNED_SHORT},o.prototype.dispose=function(){},o.prototype.unbind=function(){},o.prototype.draw=function(l,u,f){f=f||0;var g=this.gl;this._elements?g.drawElements(l,u,this._elementsType,f):g.drawArrays(l,f,u)};function n(l){return new o(l)}v.exports=n},7518:function(v,p,r){var t=r(1433);function o(u,f,g,h,w,c){this.location=u,this.dimension=f,this.a=g,this.b=h,this.c=w,this.d=c}o.prototype.bind=function(u){switch(this.dimension){case 1:u.vertexAttrib1f(this.location,this.a);break;case 2:u.vertexAttrib2f(this.location,this.a,this.b);break;case 3:u.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:u.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function n(u,f,g){this.gl=u,this._ext=f,this.handle=g,this._attribs=[],this._useElements=!1,this._elementsType=u.UNSIGNED_SHORT}n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var u=0;u<this._attribs.length;++u)this._attribs[u].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(u,f,g){if(this.bind(),t(this.gl,f,u),this.unbind(),this._attribs.length=0,u)for(var h=0;h<u.length;++h){var w=u[h];typeof w=="number"?this._attribs.push(new o(h,1,w)):Array.isArray(w)&&this._attribs.push(new o(h,w.length,w[0],w[1],w[2],w[3]))}this._useElements=!!f,this._elementsType=g||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(u,f,g){g=g||0;var h=this.gl;this._useElements?h.drawElements(u,f,this._elementsType,g):h.drawArrays(u,g,f)};function l(u,f){return new n(u,f,f.createVertexArrayOES())}v.exports=l},8116:function(v,p,r){var t=r(7518),o=r(870);function n(u){this.bindVertexArrayOES=u.bindVertexArray.bind(u),this.createVertexArrayOES=u.createVertexArray.bind(u),this.deleteVertexArrayOES=u.deleteVertexArray.bind(u)}function l(u,f,g,h){var w=u.createVertexArray?new n(u):u.getExtension("OES_vertex_array_object"),c;return w?c=t(u,w):c=o(u),c.update(f,g,h),c}v.exports=l},5632:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]+o[0],r[1]=t[1]+o[1],r[2]=t[2]+o[2],r}},8192:function(v,p,r){v.exports=l;var t=r(2825),o=r(3536),n=r(244);function l(u,f){var g=t(u[0],u[1],u[2]),h=t(f[0],f[1],f[2]);o(g,g),o(h,h);var w=n(g,h);return w>1?0:Math.acos(w)}},9226:function(v){v.exports=p;function p(r,t){return r[0]=Math.ceil(t[0]),r[1]=Math.ceil(t[1]),r[2]=Math.ceil(t[2]),r}},3126:function(v){v.exports=p;function p(r){var t=new Float32Array(3);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},3990:function(v){v.exports=p;function p(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},1091:function(v){v.exports=p;function p(){var r=new Float32Array(3);return r[0]=0,r[1]=0,r[2]=0,r}},5911:function(v){v.exports=p;function p(r,t,o){var n=t[0],l=t[1],u=t[2],f=o[0],g=o[1],h=o[2];return r[0]=l*h-u*g,r[1]=u*f-n*h,r[2]=n*g-l*f,r}},5455:function(v,p,r){v.exports=r(7056)},7056:function(v){v.exports=p;function p(r,t){var o=t[0]-r[0],n=t[1]-r[1],l=t[2]-r[2];return Math.sqrt(o*o+n*n+l*l)}},4008:function(v,p,r){v.exports=r(6690)},6690:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]/o[0],r[1]=t[1]/o[1],r[2]=t[2]/o[2],r}},244:function(v){v.exports=p;function p(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]}},2613:function(v){v.exports=1e-6},9922:function(v,p,r){v.exports=o;var t=r(2613);function o(n,l){var u=n[0],f=n[1],g=n[2],h=l[0],w=l[1],c=l[2];return Math.abs(u-h)<=t*Math.max(1,Math.abs(u),Math.abs(h))&&Math.abs(f-w)<=t*Math.max(1,Math.abs(f),Math.abs(w))&&Math.abs(g-c)<=t*Math.max(1,Math.abs(g),Math.abs(c))}},9265:function(v){v.exports=p;function p(r,t){return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]}},2681:function(v){v.exports=p;function p(r,t){return r[0]=Math.floor(t[0]),r[1]=Math.floor(t[1]),r[2]=Math.floor(t[2]),r}},5137:function(v,p,r){v.exports=o;var t=r(1091)();function o(n,l,u,f,g,h){var w,c;for(l||(l=3),u||(u=0),f?c=Math.min(f*l+u,n.length):c=n.length,w=u;w<c;w+=l)t[0]=n[w],t[1]=n[w+1],t[2]=n[w+2],g(t,t,h),n[w]=t[0],n[w+1]=t[1],n[w+2]=t[2];return n}},2825:function(v){v.exports=p;function p(r,t,o){var n=new Float32Array(3);return n[0]=r,n[1]=t,n[2]=o,n}},2931:function(v,p,r){v.exports={EPSILON:r(2613),create:r(1091),clone:r(3126),angle:r(8192),fromValues:r(2825),copy:r(3990),set:r(1463),equals:r(9922),exactEquals:r(9265),add:r(5632),subtract:r(6843),sub:r(2229),multiply:r(5847),mul:r(4505),divide:r(6690),div:r(4008),min:r(8107),max:r(7417),floor:r(2681),ceil:r(9226),round:r(2447),scale:r(6621),scaleAndAdd:r(8489),distance:r(7056),dist:r(5455),squaredDistance:r(2953),sqrDist:r(6141),length:r(1387),len:r(868),squaredLength:r(3066),sqrLen:r(5486),negate:r(5093),inverse:r(811),normalize:r(3536),dot:r(244),cross:r(5911),lerp:r(6658),random:r(7636),transformMat4:r(5673),transformMat3:r(492),transformQuat:r(264),rotateX:r(6894),rotateY:r(109),rotateZ:r(8692),forEach:r(5137)}},811:function(v){v.exports=p;function p(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r}},868:function(v,p,r){v.exports=r(1387)},1387:function(v){v.exports=p;function p(r){var t=r[0],o=r[1],n=r[2];return Math.sqrt(t*t+o*o+n*n)}},6658:function(v){v.exports=p;function p(r,t,o,n){var l=t[0],u=t[1],f=t[2];return r[0]=l+n*(o[0]-l),r[1]=u+n*(o[1]-u),r[2]=f+n*(o[2]-f),r}},7417:function(v){v.exports=p;function p(r,t,o){return r[0]=Math.max(t[0],o[0]),r[1]=Math.max(t[1],o[1]),r[2]=Math.max(t[2],o[2]),r}},8107:function(v){v.exports=p;function p(r,t,o){return r[0]=Math.min(t[0],o[0]),r[1]=Math.min(t[1],o[1]),r[2]=Math.min(t[2],o[2]),r}},4505:function(v,p,r){v.exports=r(5847)},5847:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]*o[0],r[1]=t[1]*o[1],r[2]=t[2]*o[2],r}},5093:function(v){v.exports=p;function p(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r}},3536:function(v){v.exports=p;function p(r,t){var o=t[0],n=t[1],l=t[2],u=o*o+n*n+l*l;return u>0&&(u=1/Math.sqrt(u),r[0]=t[0]*u,r[1]=t[1]*u,r[2]=t[2]*u),r}},7636:function(v){v.exports=p;function p(r,t){t=t||1;var o=Math.random()*2*Math.PI,n=Math.random()*2-1,l=Math.sqrt(1-n*n)*t;return r[0]=Math.cos(o)*l,r[1]=Math.sin(o)*l,r[2]=n*t,r}},6894:function(v){v.exports=p;function p(r,t,o,n){var l=o[1],u=o[2],f=t[1]-l,g=t[2]-u,h=Math.sin(n),w=Math.cos(n);return r[0]=t[0],r[1]=l+f*w-g*h,r[2]=u+f*h+g*w,r}},109:function(v){v.exports=p;function p(r,t,o,n){var l=o[0],u=o[2],f=t[0]-l,g=t[2]-u,h=Math.sin(n),w=Math.cos(n);return r[0]=l+g*h+f*w,r[1]=t[1],r[2]=u+g*w-f*h,r}},8692:function(v){v.exports=p;function p(r,t,o,n){var l=o[0],u=o[1],f=t[0]-l,g=t[1]-u,h=Math.sin(n),w=Math.cos(n);return r[0]=l+f*w-g*h,r[1]=u+f*h+g*w,r[2]=t[2],r}},2447:function(v){v.exports=p;function p(r,t){return r[0]=Math.round(t[0]),r[1]=Math.round(t[1]),r[2]=Math.round(t[2]),r}},6621:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]*o,r[1]=t[1]*o,r[2]=t[2]*o,r}},8489:function(v){v.exports=p;function p(r,t,o,n){return r[0]=t[0]+o[0]*n,r[1]=t[1]+o[1]*n,r[2]=t[2]+o[2]*n,r}},1463:function(v){v.exports=p;function p(r,t,o,n){return r[0]=t,r[1]=o,r[2]=n,r}},6141:function(v,p,r){v.exports=r(2953)},5486:function(v,p,r){v.exports=r(3066)},2953:function(v){v.exports=p;function p(r,t){var o=t[0]-r[0],n=t[1]-r[1],l=t[2]-r[2];return o*o+n*n+l*l}},3066:function(v){v.exports=p;function p(r){var t=r[0],o=r[1],n=r[2];return t*t+o*o+n*n}},2229:function(v,p,r){v.exports=r(6843)},6843:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]-o[0],r[1]=t[1]-o[1],r[2]=t[2]-o[2],r}},492:function(v){v.exports=p;function p(r,t,o){var n=t[0],l=t[1],u=t[2];return r[0]=n*o[0]+l*o[3]+u*o[6],r[1]=n*o[1]+l*o[4]+u*o[7],r[2]=n*o[2]+l*o[5]+u*o[8],r}},5673:function(v){v.exports=p;function p(r,t,o){var n=t[0],l=t[1],u=t[2],f=o[3]*n+o[7]*l+o[11]*u+o[15];return f=f||1,r[0]=(o[0]*n+o[4]*l+o[8]*u+o[12])/f,r[1]=(o[1]*n+o[5]*l+o[9]*u+o[13])/f,r[2]=(o[2]*n+o[6]*l+o[10]*u+o[14])/f,r}},264:function(v){v.exports=p;function p(r,t,o){var n=t[0],l=t[1],u=t[2],f=o[0],g=o[1],h=o[2],w=o[3],c=w*n+g*u-h*l,a=w*l+h*n-f*u,d=w*u+f*l-g*n,x=-f*n-g*l-h*u;return r[0]=c*w+x*-f+a*-h-d*-g,r[1]=a*w+x*-g+d*-f-c*-h,r[2]=d*w+x*-h+c*-g-a*-f,r}},4361:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]+o[0],r[1]=t[1]+o[1],r[2]=t[2]+o[2],r[3]=t[3]+o[3],r}},2335:function(v){v.exports=p;function p(r){var t=new Float32Array(4);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},2933:function(v){v.exports=p;function p(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},7536:function(v){v.exports=p;function p(){var r=new Float32Array(4);return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}},4691:function(v){v.exports=p;function p(r,t){var o=t[0]-r[0],n=t[1]-r[1],l=t[2]-r[2],u=t[3]-r[3];return Math.sqrt(o*o+n*n+l*l+u*u)}},1373:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]/o[0],r[1]=t[1]/o[1],r[2]=t[2]/o[2],r[3]=t[3]/o[3],r}},3750:function(v){v.exports=p;function p(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]+r[3]*t[3]}},3390:function(v){v.exports=p;function p(r,t,o,n){var l=new Float32Array(4);return l[0]=r,l[1]=t,l[2]=o,l[3]=n,l}},9970:function(v,p,r){v.exports={create:r(7536),clone:r(2335),fromValues:r(3390),copy:r(2933),set:r(4578),add:r(4361),subtract:r(6860),multiply:r(3576),divide:r(1373),min:r(2334),max:r(160),scale:r(9288),scaleAndAdd:r(4844),distance:r(4691),squaredDistance:r(7960),length:r(6808),squaredLength:r(483),negate:r(1498),inverse:r(4494),normalize:r(5177),dot:r(3750),lerp:r(2573),random:r(9131),transformMat4:r(5352),transformQuat:r(4041)}},4494:function(v){v.exports=p;function p(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r[3]=1/t[3],r}},6808:function(v){v.exports=p;function p(r){var t=r[0],o=r[1],n=r[2],l=r[3];return Math.sqrt(t*t+o*o+n*n+l*l)}},2573:function(v){v.exports=p;function p(r,t,o,n){var l=t[0],u=t[1],f=t[2],g=t[3];return r[0]=l+n*(o[0]-l),r[1]=u+n*(o[1]-u),r[2]=f+n*(o[2]-f),r[3]=g+n*(o[3]-g),r}},160:function(v){v.exports=p;function p(r,t,o){return r[0]=Math.max(t[0],o[0]),r[1]=Math.max(t[1],o[1]),r[2]=Math.max(t[2],o[2]),r[3]=Math.max(t[3],o[3]),r}},2334:function(v){v.exports=p;function p(r,t,o){return r[0]=Math.min(t[0],o[0]),r[1]=Math.min(t[1],o[1]),r[2]=Math.min(t[2],o[2]),r[3]=Math.min(t[3],o[3]),r}},3576:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]*o[0],r[1]=t[1]*o[1],r[2]=t[2]*o[2],r[3]=t[3]*o[3],r}},1498:function(v){v.exports=p;function p(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=-t[3],r}},5177:function(v){v.exports=p;function p(r,t){var o=t[0],n=t[1],l=t[2],u=t[3],f=o*o+n*n+l*l+u*u;return f>0&&(f=1/Math.sqrt(f),r[0]=o*f,r[1]=n*f,r[2]=l*f,r[3]=u*f),r}},9131:function(v,p,r){var t=r(5177),o=r(9288);v.exports=n;function n(l,u){return u=u||1,l[0]=Math.random(),l[1]=Math.random(),l[2]=Math.random(),l[3]=Math.random(),t(l,l),o(l,l,u),l}},9288:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]*o,r[1]=t[1]*o,r[2]=t[2]*o,r[3]=t[3]*o,r}},4844:function(v){v.exports=p;function p(r,t,o,n){return r[0]=t[0]+o[0]*n,r[1]=t[1]+o[1]*n,r[2]=t[2]+o[2]*n,r[3]=t[3]+o[3]*n,r}},4578:function(v){v.exports=p;function p(r,t,o,n,l){return r[0]=t,r[1]=o,r[2]=n,r[3]=l,r}},7960:function(v){v.exports=p;function p(r,t){var o=t[0]-r[0],n=t[1]-r[1],l=t[2]-r[2],u=t[3]-r[3];return o*o+n*n+l*l+u*u}},483:function(v){v.exports=p;function p(r){var t=r[0],o=r[1],n=r[2],l=r[3];return t*t+o*o+n*n+l*l}},6860:function(v){v.exports=p;function p(r,t,o){return r[0]=t[0]-o[0],r[1]=t[1]-o[1],r[2]=t[2]-o[2],r[3]=t[3]-o[3],r}},5352:function(v){v.exports=p;function p(r,t,o){var n=t[0],l=t[1],u=t[2],f=t[3];return r[0]=o[0]*n+o[4]*l+o[8]*u+o[12]*f,r[1]=o[1]*n+o[5]*l+o[9]*u+o[13]*f,r[2]=o[2]*n+o[6]*l+o[10]*u+o[14]*f,r[3]=o[3]*n+o[7]*l+o[11]*u+o[15]*f,r}},4041:function(v){v.exports=p;function p(r,t,o){var n=t[0],l=t[1],u=t[2],f=o[0],g=o[1],h=o[2],w=o[3],c=w*n+g*u-h*l,a=w*l+h*n-f*u,d=w*u+f*l-g*n,x=-f*n-g*l-h*u;return r[0]=c*w+x*-f+a*-h-d*-g,r[1]=a*w+x*-g+d*-f-c*-h,r[2]=d*w+x*-h+c*-g-a*-f,r[3]=t[3],r}},1848:function(v,p,r){var t=r(4905),o=r(6468);v.exports=n;function n(l){for(var u=Array.isArray(l)?l:t(l),f=0;f<u.length;f++){var g=u[f];if(g.type==="preprocessor"){var h=g.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(h&&h[2]){var w=h[1],c=h[2];return(w?o(c):c).trim()}}}}},5874:function(v,p,r){v.exports=m;var t=r(620),o=r(7827),n=r(6852),l=r(7932),u=r(3508),f=999,g=9999,h=0,w=1,c=2,a=3,d=4,x=5,T=6,C=7,y=8,S=9,A=10,i=11,E=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function m(k){var I=0,O=0,_=f,B,F,z=[],N=[],W=1,Z=0,q=0,re=!1,le=!1,ie="",K;k=k||{};var $=n,X=t;k.version==="300 es"&&($=u,X=l);for(var Q={},se={},I=0;I<$.length;I++)Q[$[I]]=!0;for(var I=0;I<X.length;I++)se[X[I]]=!0;return function(ke){return N=[],ke!==null?G(ke):oe()};function J(ke){ke.length&&N.push({type:E[_],data:ke,position:q,line:W,column:Z})}function G(ke){I=0,ke.toString&&(ke=ke.toString()),ie+=ke.replace(/\r\n/g,`
`),K=ie.length;for(var Se;B=ie[I],I<K;){switch(Se=I,_){case h:I=xe();break;case w:I=we();break;case c:I=ge();break;case a:I=Ce();break;case d:I=Te();break;case i:I=Oe();break;case x:I=Re();break;case g:I=Me();break;case S:I=fe();break;case f:I=te();break}if(Se!==I)switch(ie[Se]){case`
`:Z=0,++W;break;default:++Z;break}}return O+=I,ie=ie.slice(I),N}function oe(ke){return z.length&&J(z.join("")),_=A,J("(eof)"),N}function te(){return z=z.length?[]:z,F==="/"&&B==="*"?(q=O+I-1,_=h,F=B,I+1):F==="/"&&B==="/"?(q=O+I-1,_=w,F=B,I+1):B==="#"?(_=c,q=O+I,I):/\s/.test(B)?(_=S,q=O+I,I):(re=/\d/.test(B),le=/[^\w_]/.test(B),q=O+I,_=re?d:le?a:g,I)}function fe(){return/[^\s]/g.test(B)?(J(z.join("")),_=f,I):(z.push(B),F=B,I+1)}function ge(){return(B==="\r"||B===`
`)&&F!=="\\"?(J(z.join("")),_=f,I):(z.push(B),F=B,I+1)}function we(){return ge()}function xe(){return B==="/"&&F==="*"?(z.push(B),J(z.join("")),_=f,I+1):(z.push(B),F=B,I+1)}function Ce(){if(F==="."&&/\d/.test(B))return _=x,I;if(F==="/"&&B==="*")return _=h,I;if(F==="/"&&B==="/")return _=w,I;if(B==="."&&z.length){for(;De(z););return _=x,I}if(B===";"||B===")"||B==="("){if(z.length)for(;De(z););return J(B),_=f,I+1}var ke=z.length===2&&B!=="=";if(/[\w_\d\s]/.test(B)||ke){for(;De(z););return _=f,I}return z.push(B),F=B,I+1}function De(ke){var Se=0,He,je;do{if(He=o.indexOf(ke.slice(0,ke.length+Se).join("")),je=o[He],He===-1){if(Se--+ke.length>0)continue;je=ke.slice(0,1).join("")}return J(je),q+=je.length,z=z.slice(je.length),z.length}while(!0)}function Oe(){return/[^a-fA-F0-9]/.test(B)?(J(z.join("")),_=f,I):(z.push(B),F=B,I+1)}function Te(){return B==="."||/[eE]/.test(B)?(z.push(B),_=x,F=B,I+1):B==="x"&&z.length===1&&z[0]==="0"?(_=i,z.push(B),F=B,I+1):/[^\d]/.test(B)?(J(z.join("")),_=f,I):(z.push(B),F=B,I+1)}function Re(){return B==="f"&&(z.push(B),F=B,I+=1),/[eE]/.test(B)||(B==="-"||B==="+")&&/[eE]/.test(F)?(z.push(B),F=B,I+1):/[^\d]/.test(B)?(J(z.join("")),_=f,I):(z.push(B),F=B,I+1)}function Me(){if(/[^\d\w_]/.test(B)){var ke=z.join("");return se[ke]?_=y:Q[ke]?_=C:_=T,J(z.join("")),_=f,I}return z.push(B),F=B,I+1}}},3508:function(v,p,r){var t=r(6852);t=t.slice().filter(function(o){return!/^(gl\_|texture)/.test(o)}),v.exports=t.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},6852:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},7932:function(v,p,r){var t=r(620);v.exports=t.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},620:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},7827:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},4905:function(v,p,r){var t=r(5874);v.exports=o;function o(n,l){var u=t(l),f=[];return f=f.concat(u(n)),f=f.concat(u(null)),f}},3236:function(v){v.exports=function(p){typeof p=="string"&&(p=[p]);for(var r=[].slice.call(arguments,1),t=[],o=0;o<p.length-1;o++)t.push(p[o],r[o]||"");return t.push(p[o]),t.join("")}},7520:function(v,p,r){var t=r(9507);function o(){var n=!1;try{var l=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,l),window.removeEventListener("test",null,l)}catch{n=!1}return n}v.exports=t&&o()},3778:function(v,p){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */p.read=function(r,t,o,n,l){var u,f,g=l*8-n-1,h=(1<<g)-1,w=h>>1,c=-7,a=o?l-1:0,d=o?-1:1,x=r[t+a];for(a+=d,u=x&(1<<-c)-1,x>>=-c,c+=g;c>0;u=u*256+r[t+a],a+=d,c-=8);for(f=u&(1<<-c)-1,u>>=-c,c+=n;c>0;f=f*256+r[t+a],a+=d,c-=8);if(u===0)u=1-w;else{if(u===h)return f?NaN:(x?-1:1)*(1/0);f=f+Math.pow(2,n),u=u-w}return(x?-1:1)*f*Math.pow(2,u-n)},p.write=function(r,t,o,n,l,u){var f,g,h,w=u*8-l-1,c=(1<<w)-1,a=c>>1,d=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=n?0:u-1,T=n?1:-1,C=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(g=isNaN(t)?1:0,f=c):(f=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-f))<1&&(f--,h*=2),f+a>=1?t+=d/h:t+=d*Math.pow(2,1-a),t*h>=2&&(f++,h/=2),f+a>=c?(g=0,f=c):f+a>=1?(g=(t*h-1)*Math.pow(2,l),f=f+a):(g=t*Math.pow(2,a-1)*Math.pow(2,l),f=0));l>=8;r[o+x]=g&255,x+=T,g/=256,l-=8);for(f=f<<l|g,w+=l;w>0;r[o+x]=f&255,x+=T,f/=256,w-=8);r[o+x-T]|=C*128}},8954:function(v,p,r){v.exports=a;var t=r(3250),o=r(6803).Fw;function n(d,x,T){this.vertices=d,this.adjacent=x,this.boundary=T,this.lastVisited=-1}n.prototype.flip=function(){var d=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=d;var x=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=x};function l(d,x,T){this.vertices=d,this.cell=x,this.index=T}function u(d,x){return o(d.vertices,x.vertices)}function f(d){return function(){var x=this.tuple;return d.apply(this,x)}}function g(d){var x=t[d+1];return x||(x=t),f(x)}var h=[];function w(d,x,T){this.dimension=d,this.vertices=x,this.simplices=T,this.interior=T.filter(function(S){return!S.boundary}),this.tuple=new Array(d+1);for(var C=0;C<=d;++C)this.tuple[C]=this.vertices[C];var y=h[d];y||(y=h[d]=g(d)),this.orient=y}var c=w.prototype;c.handleBoundaryDegeneracy=function(d,x){var T=this.dimension,C=this.vertices.length-1,y=this.tuple,S=this.vertices,A=[d];for(d.lastVisited=-C;A.length>0;){d=A.pop();for(var i=d.adjacent,E=0;E<=T;++E){var m=i[E];if(!(!m.boundary||m.lastVisited<=-C)){for(var k=m.vertices,I=0;I<=T;++I){var O=k[I];O<0?y[I]=x:y[I]=S[O]}var _=this.orient();if(_>0)return m;m.lastVisited=-C,_===0&&A.push(m)}}}return null},c.walk=function(d,x){var T=this.vertices.length-1,C=this.dimension,y=this.vertices,S=this.tuple,A=x?this.interior.length*Math.random()|0:this.interior.length-1,i=this.interior[A];e:for(;!i.boundary;){for(var E=i.vertices,m=i.adjacent,k=0;k<=C;++k)S[k]=y[E[k]];i.lastVisited=T;for(var k=0;k<=C;++k){var I=m[k];if(!(I.lastVisited>=T)){var O=S[k];S[k]=d;var _=this.orient();if(S[k]=O,_<0){i=I;continue e}else I.boundary?I.lastVisited=-T:I.lastVisited=T}}return}return i},c.addPeaks=function(d,x){var T=this.vertices.length-1,C=this.dimension,y=this.vertices,S=this.tuple,A=this.interior,i=this.simplices,E=[x];x.lastVisited=T,x.vertices[x.vertices.indexOf(-1)]=T,x.boundary=!1,A.push(x);for(var m=[];E.length>0;){var x=E.pop(),k=x.vertices,I=x.adjacent,O=k.indexOf(T);if(!(O<0)){for(var _=0;_<=C;++_)if(_!==O){var B=I[_];if(!(!B.boundary||B.lastVisited>=T)){var F=B.vertices;if(B.lastVisited!==-T){for(var z=0,N=0;N<=C;++N)F[N]<0?(z=N,S[N]=d):S[N]=y[F[N]];var W=this.orient();if(W>0){F[z]=T,B.boundary=!1,A.push(B),E.push(B),B.lastVisited=T;continue}else B.lastVisited=-T}var Z=B.adjacent,q=k.slice(),re=I.slice(),le=new n(q,re,!0);i.push(le);var ie=Z.indexOf(x);if(!(ie<0)){Z[ie]=le,re[O]=B,q[_]=-1,re[_]=x,I[_]=le,le.flip();for(var N=0;N<=C;++N){var K=q[N];if(!(K<0||K===T)){for(var $=new Array(C-1),X=0,Q=0;Q<=C;++Q){var se=q[Q];se<0||Q===N||($[X++]=se)}m.push(new l($,le,N))}}}}}}}m.sort(u);for(var _=0;_+1<m.length;_+=2){var J=m[_],G=m[_+1],oe=J.index,te=G.index;oe<0||te<0||(J.cell.adjacent[J.index]=G.cell,G.cell.adjacent[G.index]=J.cell)}},c.insert=function(d,x){var T=this.vertices;T.push(d);var C=this.walk(d,x);if(C){for(var y=this.dimension,S=this.tuple,A=0;A<=y;++A){var i=C.vertices[A];i<0?S[A]=d:S[A]=T[i]}var E=this.orient(S);E<0||E===0&&(C=this.handleBoundaryDegeneracy(C,d),!C)||this.addPeaks(d,C)}},c.boundary=function(){for(var d=this.dimension,x=[],T=this.simplices,C=T.length,y=0;y<C;++y){var S=T[y];if(S.boundary){for(var A=new Array(d),i=S.vertices,E=0,m=0,k=0;k<=d;++k)i[k]>=0?A[E++]=i[k]:m=k&1;if(m===(d&1)){var I=A[0];A[0]=A[1],A[1]=I}x.push(A)}}return x};function a(d,x){var T=d.length;if(T===0)throw new Error("Must have at least d+1 points");var C=d[0].length;if(T<=C)throw new Error("Must input at least d+1 points");var y=d.slice(0,C+1),S=t.apply(void 0,y);if(S===0)throw new Error("Input not in general position");for(var A=new Array(C+1),i=0;i<=C;++i)A[i]=i;S<0&&(A[0]=1,A[1]=0);for(var E=new n(A,new Array(C+1),!1),m=E.adjacent,k=new Array(C+2),i=0;i<=C;++i){for(var I=A.slice(),O=0;O<=C;++O)O===i&&(I[O]=-1);var _=I[0];I[0]=I[1],I[1]=_;var B=new n(I,new Array(C+1),!0);m[i]=B,k[i]=B}k[C+1]=E;for(var i=0;i<=C;++i)for(var I=m[i].vertices,F=m[i].adjacent,O=0;O<=C;++O){var z=I[O];if(z<0){F[O]=E;continue}for(var N=0;N<=C;++N)m[N].vertices.indexOf(z)<0&&(F[O]=m[N])}for(var W=new w(C,y,k),Z=!!x,i=C+1;i<T;++i)W.insert(d[i],Z);return W.boundary()}},3352:function(v,p,r){var t=r(2478),o=0,n=1,l=2;v.exports=E;function u(m,k,I,O,_){this.mid=m,this.left=k,this.right=I,this.leftPoints=O,this.rightPoints=_,this.count=(k?k.count:0)+(I?I.count:0)+O.length}var f=u.prototype;function g(m,k){m.mid=k.mid,m.left=k.left,m.right=k.right,m.leftPoints=k.leftPoints,m.rightPoints=k.rightPoints,m.count=k.count}function h(m,k){var I=S(k);m.mid=I.mid,m.left=I.left,m.right=I.right,m.leftPoints=I.leftPoints,m.rightPoints=I.rightPoints,m.count=I.count}function w(m,k){var I=m.intervals([]);I.push(k),h(m,I)}function c(m,k){var I=m.intervals([]),O=I.indexOf(k);return O<0?o:(I.splice(O,1),h(m,I),n)}f.intervals=function(m){return m.push.apply(m,this.leftPoints),this.left&&this.left.intervals(m),this.right&&this.right.intervals(m),m},f.insert=function(m){var k=this.count-this.leftPoints.length;if(this.count+=1,m[1]<this.mid)this.left?4*(this.left.count+1)>3*(k+1)?w(this,m):this.left.insert(m):this.left=S([m]);else if(m[0]>this.mid)this.right?4*(this.right.count+1)>3*(k+1)?w(this,m):this.right.insert(m):this.right=S([m]);else{var I=t.ge(this.leftPoints,m,C),O=t.ge(this.rightPoints,m,y);this.leftPoints.splice(I,0,m),this.rightPoints.splice(O,0,m)}},f.remove=function(m){var k=this.count-this.leftPoints;if(m[1]<this.mid){if(!this.left)return o;var I=this.right?this.right.count:0;if(4*I>3*(k-1))return c(this,m);var O=this.left.remove(m);return O===l?(this.left=null,this.count-=1,n):(O===n&&(this.count-=1),O)}else if(m[0]>this.mid){if(!this.right)return o;var _=this.left?this.left.count:0;if(4*_>3*(k-1))return c(this,m);var O=this.right.remove(m);return O===l?(this.right=null,this.count-=1,n):(O===n&&(this.count-=1),O)}else{if(this.count===1)return this.leftPoints[0]===m?l:o;if(this.leftPoints.length===1&&this.leftPoints[0]===m){if(this.left&&this.right){for(var B=this,F=this.left;F.right;)B=F,F=F.right;if(B===this)F.right=this.right;else{var z=this.left,O=this.right;B.count-=F.count,B.right=F.left,F.left=z,F.right=O}g(this,F),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?g(this,this.left):g(this,this.right);return n}for(var z=t.ge(this.leftPoints,m,C);z<this.leftPoints.length&&this.leftPoints[z][0]===m[0];++z)if(this.leftPoints[z]===m){this.count-=1,this.leftPoints.splice(z,1);for(var O=t.ge(this.rightPoints,m,y);O<this.rightPoints.length&&this.rightPoints[O][1]===m[1];++O)if(this.rightPoints[O]===m)return this.rightPoints.splice(O,1),n}return o}};function a(m,k,I){for(var O=0;O<m.length&&m[O][0]<=k;++O){var _=I(m[O]);if(_)return _}}function d(m,k,I){for(var O=m.length-1;O>=0&&m[O][1]>=k;--O){var _=I(m[O]);if(_)return _}}function x(m,k){for(var I=0;I<m.length;++I){var O=k(m[I]);if(O)return O}}f.queryPoint=function(m,k){if(m<this.mid){if(this.left){var I=this.left.queryPoint(m,k);if(I)return I}return a(this.leftPoints,m,k)}else if(m>this.mid){if(this.right){var I=this.right.queryPoint(m,k);if(I)return I}return d(this.rightPoints,m,k)}else return x(this.leftPoints,k)},f.queryInterval=function(m,k,I){if(m<this.mid&&this.left){var O=this.left.queryInterval(m,k,I);if(O)return O}if(k>this.mid&&this.right){var O=this.right.queryInterval(m,k,I);if(O)return O}return k<this.mid?a(this.leftPoints,k,I):m>this.mid?d(this.rightPoints,m,I):x(this.leftPoints,I)};function T(m,k){return m-k}function C(m,k){var I=m[0]-k[0];return I||m[1]-k[1]}function y(m,k){var I=m[1]-k[1];return I||m[0]-k[0]}function S(m){if(m.length===0)return null;for(var k=[],I=0;I<m.length;++I)k.push(m[I][0],m[I][1]);k.sort(T);for(var O=k[k.length>>1],_=[],B=[],F=[],I=0;I<m.length;++I){var z=m[I];z[1]<O?_.push(z):O<z[0]?B.push(z):F.push(z)}var N=F,W=F.slice();return N.sort(C),W.sort(y),new u(O,S(_),S(B),N,W)}function A(m){this.root=m}var i=A.prototype;i.insert=function(m){this.root?this.root.insert(m):this.root=new u(m[0],null,null,[m],[m])},i.remove=function(m){if(this.root){var k=this.root.remove(m);return k===l&&(this.root=null),k!==o}return!1},i.queryPoint=function(m,k){if(this.root)return this.root.queryPoint(m,k)},i.queryInterval=function(m,k,I){if(m<=k&&this.root)return this.root.queryInterval(m,k,I)},Object.defineProperty(i,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(i,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function E(m){return!m||m.length===0?new A(null):new A(S(m))}},7762:function(v){function p(r){for(var t=new Array(r),o=0;o<r;++o)t[o]=o;return t}v.exports=p},9507:function(v){v.exports=!0},7163:function(v){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/v.exports=function(t){return t!=null&&(p(t)||r(t)||!!t._isBuffer)};function p(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function r(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&p(t.slice(0,0))}},5219:function(v){v.exports=function(p){for(var r=p.length,t,o=0;o<r;o++)if(t=p.charCodeAt(o),(t<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},395:function(v){function p(r,t,o){return r*(1-o)+t*o}v.exports=p},2652:function(v,p,r){var t=r(4335),o=r(6864),n=r(1903),l=r(9921),u=r(7608),f=r(5665),g={length:r(1387),normalize:r(3536),dot:r(244),cross:r(5911)},h=o(),w=o(),c=[0,0,0,0],a=[[0,0,0],[0,0,0],[0,0,0]],d=[0,0,0];v.exports=function(S,A,i,E,m,k){if(A||(A=[0,0,0]),i||(i=[0,0,0]),E||(E=[0,0,0]),m||(m=[0,0,0,1]),k||(k=[0,0,0,1]),!t(h,S)||(n(w,h),w[3]=0,w[7]=0,w[11]=0,w[15]=1,Math.abs(l(w)<1e-8)))return!1;var I=h[3],O=h[7],_=h[11],B=h[12],F=h[13],z=h[14],N=h[15];if(I!==0||O!==0||_!==0){c[0]=I,c[1]=O,c[2]=_,c[3]=N;var W=u(w,w);if(!W)return!1;f(w,w),x(m,c,w)}else m[0]=m[1]=m[2]=0,m[3]=1;if(A[0]=B,A[1]=F,A[2]=z,T(a,h),i[0]=g.length(a[0]),g.normalize(a[0],a[0]),E[0]=g.dot(a[0],a[1]),C(a[1],a[1],a[0],1,-E[0]),i[1]=g.length(a[1]),g.normalize(a[1],a[1]),E[0]/=i[1],E[1]=g.dot(a[0],a[2]),C(a[2],a[2],a[0],1,-E[1]),E[2]=g.dot(a[1],a[2]),C(a[2],a[2],a[1],1,-E[2]),i[2]=g.length(a[2]),g.normalize(a[2],a[2]),E[1]/=i[2],E[2]/=i[2],g.cross(d,a[1],a[2]),g.dot(a[0],d)<0)for(var Z=0;Z<3;Z++)i[Z]*=-1,a[Z][0]*=-1,a[Z][1]*=-1,a[Z][2]*=-1;return k[0]=.5*Math.sqrt(Math.max(1+a[0][0]-a[1][1]-a[2][2],0)),k[1]=.5*Math.sqrt(Math.max(1-a[0][0]+a[1][1]-a[2][2],0)),k[2]=.5*Math.sqrt(Math.max(1-a[0][0]-a[1][1]+a[2][2],0)),k[3]=.5*Math.sqrt(Math.max(1+a[0][0]+a[1][1]+a[2][2],0)),a[2][1]>a[1][2]&&(k[0]=-k[0]),a[0][2]>a[2][0]&&(k[1]=-k[1]),a[1][0]>a[0][1]&&(k[2]=-k[2]),!0};function x(y,S,A){var i=S[0],E=S[1],m=S[2],k=S[3];return y[0]=A[0]*i+A[4]*E+A[8]*m+A[12]*k,y[1]=A[1]*i+A[5]*E+A[9]*m+A[13]*k,y[2]=A[2]*i+A[6]*E+A[10]*m+A[14]*k,y[3]=A[3]*i+A[7]*E+A[11]*m+A[15]*k,y}function T(y,S){y[0][0]=S[0],y[0][1]=S[1],y[0][2]=S[2],y[1][0]=S[4],y[1][1]=S[5],y[1][2]=S[6],y[2][0]=S[8],y[2][1]=S[9],y[2][2]=S[10]}function C(y,S,A,i,E){y[0]=S[0]*i+A[0]*E,y[1]=S[1]*i+A[1]*E,y[2]=S[2]*i+A[2]*E}},4335:function(v){v.exports=function(r,t){var o=t[15];if(o===0)return!1;for(var n=1/o,l=0;l<16;l++)r[l]=t[l]*n;return!0}},7442:function(v,p,r){var t=r(6658),o=r(7182),n=r(2652),l=r(9921),u=r(8648),f=c(),g=c(),h=c();v.exports=w;function w(x,T,C,y){if(l(T)===0||l(C)===0)return!1;var S=n(T,f.translate,f.scale,f.skew,f.perspective,f.quaternion),A=n(C,g.translate,g.scale,g.skew,g.perspective,g.quaternion);return!S||!A?!1:(t(h.translate,f.translate,g.translate,y),t(h.skew,f.skew,g.skew,y),t(h.scale,f.scale,g.scale,y),t(h.perspective,f.perspective,g.perspective,y),u(h.quaternion,f.quaternion,g.quaternion,y),o(x,h.translate,h.scale,h.skew,h.perspective,h.quaternion),!0)}function c(){return{translate:a(),scale:a(1),skew:a(),perspective:d(),quaternion:d()}}function a(x){return[x||0,x||0,x||0]}function d(){return[0,0,0,1]}},7182:function(v,p,r){var t={identity:r(7894),translate:r(7656),multiply:r(6760),create:r(6864),scale:r(2504),fromRotationTranslation:r(6743)};t.create();var o=t.create();v.exports=function(l,u,f,g,h,w){return t.identity(l),t.fromRotationTranslation(l,w,u),l[3]=h[0],l[7]=h[1],l[11]=h[2],l[15]=h[3],t.identity(o),g[2]!==0&&(o[9]=g[2],t.multiply(l,l,o)),g[1]!==0&&(o[9]=0,o[8]=g[1],t.multiply(l,l,o)),g[0]!==0&&(o[8]=0,o[4]=g[0],t.multiply(l,l,o)),t.scale(l,l,f),l}},4192:function(v,p,r){var t=r(2478),o=r(7442),n=r(7608),l=r(5567),u=r(2408),f=r(7089),g=r(6582),h=r(7656);r(2504);var w=r(3536),c=[0,0,0];v.exports=T;function a(C){this._components=C.slice(),this._time=[0],this.prevMatrix=C.slice(),this.nextMatrix=C.slice(),this.computedMatrix=C.slice(),this.computedInverse=C.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var d=a.prototype;d.recalcMatrix=function(C){var y=this._time,S=t.le(y,C),A=this.computedMatrix;if(!(S<0)){var i=this._components;if(S===y.length-1)for(var E=16*S,m=0;m<16;++m)A[m]=i[E++];else{for(var k=y[S+1]-y[S],E=16*S,I=this.prevMatrix,O=!0,m=0;m<16;++m)I[m]=i[E++];for(var _=this.nextMatrix,m=0;m<16;++m)_[m]=i[E++],O=O&&I[m]===_[m];if(k<1e-6||O)for(var m=0;m<16;++m)A[m]=I[m];else o(A,I,_,(C-y[S])/k)}var B=this.computedUp;B[0]=A[1],B[1]=A[5],B[2]=A[9],w(B,B);var F=this.computedInverse;n(F,A);var z=this.computedEye,N=F[15];z[0]=F[12]/N,z[1]=F[13]/N,z[2]=F[14]/N;for(var W=this.computedCenter,Z=Math.exp(this.computedRadius[0]),m=0;m<3;++m)W[m]=z[m]-A[2+4*m]*Z}},d.idle=function(C){if(!(C<this.lastT())){for(var y=this._components,S=y.length-16,A=0;A<16;++A)y.push(y[S++]);this._time.push(C)}},d.flush=function(C){var y=t.gt(this._time,C)-2;y<0||(this._time.splice(0,y),this._components.splice(0,16*y))},d.lastT=function(){return this._time[this._time.length-1]},d.lookAt=function(C,y,S,A){this.recalcMatrix(C),y=y||this.computedEye,S=S||c,A=A||this.computedUp,this.setMatrix(C,g(this.computedMatrix,y,S,A));for(var i=0,E=0;E<3;++E)i+=Math.pow(S[E]-y[E],2);i=Math.log(Math.sqrt(i)),this.computedRadius[0]=i},d.rotate=function(C,y,S,A){this.recalcMatrix(C);var i=this.computedInverse;y&&u(i,i,y),S&&l(i,i,S),A&&f(i,i,A),this.setMatrix(C,n(this.computedMatrix,i))};var x=[0,0,0];d.pan=function(C,y,S,A){x[0]=-(y||0),x[1]=-(S||0),x[2]=-(A||0),this.recalcMatrix(C);var i=this.computedInverse;h(i,i,x),this.setMatrix(C,n(i,i))},d.translate=function(C,y,S,A){x[0]=y||0,x[1]=S||0,x[2]=A||0,this.recalcMatrix(C);var i=this.computedMatrix;h(i,i,x),this.setMatrix(C,i)},d.setMatrix=function(C,y){if(!(C<this.lastT())){this._time.push(C);for(var S=0;S<16;++S)this._components.push(y[S])}},d.setDistance=function(C,y){this.computedRadius[0]=y},d.setDistanceLimits=function(C,y){var S=this._limits;S[0]=C,S[1]=y},d.getDistanceLimits=function(C){var y=this._limits;return C?(C[0]=y[0],C[1]=y[1],C):y};function T(C){C=C||{};var y=C.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new a(y)}},3090:function(v,p,r){v.exports=o;var t=r(3250)[3];function o(n){var l=n.length;if(l<3){for(var d=new Array(l),u=0;u<l;++u)d[u]=u;return l===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:d}for(var f=new Array(l),u=0;u<l;++u)f[u]=u;f.sort(function(y,S){var A=n[y][0]-n[S][0];return A||n[y][1]-n[S][1]});for(var g=[f[0],f[1]],h=[f[0],f[1]],u=2;u<l;++u){for(var w=f[u],c=n[w],a=g.length;a>1&&t(n[g[a-2]],n[g[a-1]],c)<=0;)a-=1,g.pop();for(g.push(w),a=h.length;a>1&&t(n[h[a-2]],n[h[a-1]],c)>=0;)a-=1,h.pop();h.push(w)}for(var d=new Array(h.length+g.length-2),x=0,u=0,T=g.length;u<T;++u)d[x++]=g[u];for(var C=h.length-2;C>0;--C)d[x++]=h[C];return d}},351:function(v,p,r){v.exports=o;var t=r(4687);function o(n,l){l||(l=n,n=window);var u=0,f=0,g=0,h={shift:!1,alt:!1,control:!1,meta:!1},w=!1;function c(m){var k=!1;return"altKey"in m&&(k=k||m.altKey!==h.alt,h.alt=!!m.altKey),"shiftKey"in m&&(k=k||m.shiftKey!==h.shift,h.shift=!!m.shiftKey),"ctrlKey"in m&&(k=k||m.ctrlKey!==h.control,h.control=!!m.ctrlKey),"metaKey"in m&&(k=k||m.metaKey!==h.meta,h.meta=!!m.metaKey),k}function a(m,k){var I=t.x(k),O=t.y(k);"buttons"in k&&(m=k.buttons|0),(m!==u||I!==f||O!==g||c(k))&&(u=m|0,f=I||0,g=O||0,l&&l(u,f,g,h))}function d(m){a(0,m)}function x(){(u||f||g||h.shift||h.alt||h.meta||h.control)&&(f=g=0,u=0,h.shift=h.alt=h.control=h.meta=!1,l&&l(0,0,0,h))}function T(m){c(m)&&l&&l(u,f,g,h)}function C(m){t.buttons(m)===0?a(0,m):a(u,m)}function y(m){a(u|t.buttons(m),m)}function S(m){a(u&~t.buttons(m),m)}function A(){w||(w=!0,n.addEventListener("mousemove",C),n.addEventListener("mousedown",y),n.addEventListener("mouseup",S),n.addEventListener("mouseleave",d),n.addEventListener("mouseenter",d),n.addEventListener("mouseout",d),n.addEventListener("mouseover",d),n.addEventListener("blur",x),n.addEventListener("keyup",T),n.addEventListener("keydown",T),n.addEventListener("keypress",T),n!==window&&(window.addEventListener("blur",x),window.addEventListener("keyup",T),window.addEventListener("keydown",T),window.addEventListener("keypress",T)))}function i(){w&&(w=!1,n.removeEventListener("mousemove",C),n.removeEventListener("mousedown",y),n.removeEventListener("mouseup",S),n.removeEventListener("mouseleave",d),n.removeEventListener("mouseenter",d),n.removeEventListener("mouseout",d),n.removeEventListener("mouseover",d),n.removeEventListener("blur",x),n.removeEventListener("keyup",T),n.removeEventListener("keydown",T),n.removeEventListener("keypress",T),n!==window&&(window.removeEventListener("blur",x),window.removeEventListener("keyup",T),window.removeEventListener("keydown",T),window.removeEventListener("keypress",T)))}A();var E={element:n};return Object.defineProperties(E,{enabled:{get:function(){return w},set:function(m){m?A():i()},enumerable:!0},buttons:{get:function(){return u},enumerable:!0},x:{get:function(){return f},enumerable:!0},y:{get:function(){return g},enumerable:!0},mods:{get:function(){return h},enumerable:!0}}),E}},24:function(v){var p={left:0,top:0};v.exports=r;function r(o,n,l){n=n||o.currentTarget||o.srcElement,Array.isArray(l)||(l=[0,0]);var u=o.clientX||0,f=o.clientY||0,g=t(n);return l[0]=u-g.left,l[1]=f-g.top,l}function t(o){return o===window||o===document||o===document.body?p:o.getBoundingClientRect()}},4687:function(v,p){function r(l){if(typeof l=="object"){if("buttons"in l)return l.buttons;if("which"in l){var u=l.which;if(u===2)return 4;if(u===3)return 2;if(u>0)return 1<<u-1}else if("button"in l){var u=l.button;if(u===1)return 4;if(u===2)return 2;if(u>=0)return 1<<u}}return 0}p.buttons=r;function t(l){return l.target||l.srcElement||window}p.element=t;function o(l){if(typeof l=="object"){if("offsetX"in l)return l.offsetX;var u=t(l),f=u.getBoundingClientRect();return l.clientX-f.left}return 0}p.x=o;function n(l){if(typeof l=="object"){if("offsetY"in l)return l.offsetY;var u=t(l),f=u.getBoundingClientRect();return l.clientY-f.top}return 0}p.y=n},8512:function(v,p,r){var t=r(665);v.exports=o;function o(n,l,u){typeof n=="function"&&(u=!!l,l=n,n=window);var f=t("ex",n),g=function(h){u&&h.preventDefault();var w=h.deltaX||0,c=h.deltaY||0,a=h.deltaZ||0,d=h.deltaMode,x=1;switch(d){case 1:x=f;break;case 2:x=window.innerHeight;break}if(w*=x,c*=x,a*=x,w||c||a)return l(w,c,a,h)};return n.addEventListener("wheel",g),g}},2640:function(v,p,r){var t=r(1888);v.exports=l;var o={"false,0,1":function(f,g,h,w,c){return function(d,x,T,C){var y=d.shape[0]|0,S=d.shape[1]|0,A=d.data,i=d.offset|0,E=d.stride[0]|0,m=d.stride[1]|0,k=i,I,O=-E|0,_=0,B=-m|0,F=0,z=-E-m|0,N=0,W=E|0,Z=m-E*y|0,q=0,re=0,le=0,ie=2*y|0,K=w(ie),$=w(ie),X=0,Q=0,se=-1,J=-1,G=0,oe=-y|0,te=y|0,fe=0,ge=-y-1|0,we=y-1|0,xe=0,Ce=0,De=0;for(q=0;q<y;++q)K[X++]=h(A[k],x,T,C),k+=W;if(k+=Z,S>0){if(re=1,K[X++]=h(A[k],x,T,C),k+=W,y>0)for(q=1,I=A[k],Q=K[X]=h(I,x,T,C),G=K[X+se],fe=K[X+oe],xe=K[X+ge],(Q!==G||Q!==fe||Q!==xe)&&(_=A[k+O],F=A[k+B],N=A[k+z],f(q,re,I,_,F,N,Q,G,fe,xe,x,T,C),Ce=$[X]=le++),X+=1,k+=W,q=2;q<y;++q)I=A[k],Q=K[X]=h(I,x,T,C),G=K[X+se],fe=K[X+oe],xe=K[X+ge],(Q!==G||Q!==fe||Q!==xe)&&(_=A[k+O],F=A[k+B],N=A[k+z],f(q,re,I,_,F,N,Q,G,fe,xe,x,T,C),Ce=$[X]=le++,xe!==G&&g($[X+se],Ce,N,_,xe,G,x,T,C)),X+=1,k+=W;for(k+=Z,X=0,De=se,se=J,J=De,De=oe,oe=te,te=De,De=ge,ge=we,we=De,re=2;re<S;++re){if(K[X++]=h(A[k],x,T,C),k+=W,y>0)for(q=1,I=A[k],Q=K[X]=h(I,x,T,C),G=K[X+se],fe=K[X+oe],xe=K[X+ge],(Q!==G||Q!==fe||Q!==xe)&&(_=A[k+O],F=A[k+B],N=A[k+z],f(q,re,I,_,F,N,Q,G,fe,xe,x,T,C),Ce=$[X]=le++,xe!==fe&&g($[X+oe],Ce,F,N,fe,xe,x,T,C)),X+=1,k+=W,q=2;q<y;++q)I=A[k],Q=K[X]=h(I,x,T,C),G=K[X+se],fe=K[X+oe],xe=K[X+ge],(Q!==G||Q!==fe||Q!==xe)&&(_=A[k+O],F=A[k+B],N=A[k+z],f(q,re,I,_,F,N,Q,G,fe,xe,x,T,C),Ce=$[X]=le++,xe!==fe&&g($[X+oe],Ce,F,N,fe,xe,x,T,C),xe!==G&&g($[X+se],Ce,N,_,xe,G,x,T,C)),X+=1,k+=W;re&1&&(X=0),De=se,se=J,J=De,De=oe,oe=te,te=De,De=ge,ge=we,we=De,k+=Z}}c($),c(K)}},"false,1,0":function(f,g,h,w,c){return function(d,x,T,C){var y=d.shape[0]|0,S=d.shape[1]|0,A=d.data,i=d.offset|0,E=d.stride[0]|0,m=d.stride[1]|0,k=i,I,O=-E|0,_=0,B=-m|0,F=0,z=-E-m|0,N=0,W=m|0,Z=E-m*S|0,q=0,re=0,le=0,ie=2*S|0,K=w(ie),$=w(ie),X=0,Q=0,se=-1,J=-1,G=0,oe=-S|0,te=S|0,fe=0,ge=-S-1|0,we=S-1|0,xe=0,Ce=0,De=0;for(re=0;re<S;++re)K[X++]=h(A[k],x,T,C),k+=W;if(k+=Z,y>0){if(q=1,K[X++]=h(A[k],x,T,C),k+=W,S>0)for(re=1,I=A[k],Q=K[X]=h(I,x,T,C),fe=K[X+oe],G=K[X+se],xe=K[X+ge],(Q!==fe||Q!==G||Q!==xe)&&(_=A[k+O],F=A[k+B],N=A[k+z],f(q,re,I,_,F,N,Q,fe,G,xe,x,T,C),Ce=$[X]=le++),X+=1,k+=W,re=2;re<S;++re)I=A[k],Q=K[X]=h(I,x,T,C),fe=K[X+oe],G=K[X+se],xe=K[X+ge],(Q!==fe||Q!==G||Q!==xe)&&(_=A[k+O],F=A[k+B],N=A[k+z],f(q,re,I,_,F,N,Q,fe,G,xe,x,T,C),Ce=$[X]=le++,xe!==G&&g($[X+se],Ce,F,N,G,xe,x,T,C)),X+=1,k+=W;for(k+=Z,X=0,De=oe,oe=te,te=De,De=se,se=J,J=De,De=ge,ge=we,we=De,q=2;q<y;++q){if(K[X++]=h(A[k],x,T,C),k+=W,S>0)for(re=1,I=A[k],Q=K[X]=h(I,x,T,C),fe=K[X+oe],G=K[X+se],xe=K[X+ge],(Q!==fe||Q!==G||Q!==xe)&&(_=A[k+O],F=A[k+B],N=A[k+z],f(q,re,I,_,F,N,Q,fe,G,xe,x,T,C),Ce=$[X]=le++,xe!==fe&&g($[X+oe],Ce,N,_,xe,fe,x,T,C)),X+=1,k+=W,re=2;re<S;++re)I=A[k],Q=K[X]=h(I,x,T,C),fe=K[X+oe],G=K[X+se],xe=K[X+ge],(Q!==fe||Q!==G||Q!==xe)&&(_=A[k+O],F=A[k+B],N=A[k+z],f(q,re,I,_,F,N,Q,fe,G,xe,x,T,C),Ce=$[X]=le++,xe!==G&&g($[X+se],Ce,F,N,G,xe,x,T,C),xe!==fe&&g($[X+oe],Ce,N,_,xe,fe,x,T,C)),X+=1,k+=W;q&1&&(X=0),De=oe,oe=te,te=De,De=se,se=J,J=De,De=ge,ge=we,we=De,k+=Z}}c($),c(K)}}};function n(u,f,g,h,w,c){var a=[c,w].join(","),d=o[a];return d(u,f,g,t.mallocUint32,t.freeUint32)}function l(u){function f(x){throw new Error("ndarray-extract-contour: "+x)}typeof u!="object"&&f("Must specify arguments");var g=u.order;Array.isArray(g)||f("Must specify order");var h=u.arrayArguments||1;h<1&&f("Must have at least one array argument");var w=u.scalarArguments||0;w<0&&f("Scalar arg count must be > 0"),typeof u.vertex!="function"&&f("Must specify vertex creation function"),typeof u.cell!="function"&&f("Must specify cell creation function"),typeof u.phase!="function"&&f("Must specify phase function");for(var c=u.getters||[],a=new Array(h),d=0;d<h;++d)c.indexOf(d)>=0?a[d]=!0:a[d]=!1;return n(u.vertex,u.cell,u.phase,w,g,a)}},6199:function(v,p,r){var t=r(1338),o={zero:function(T,C,y,S){var A=T[0],i=y[0];S|=0;var E=0,m=i;for(E=0;E<A;++E)C[S]=0,S+=m},fdTemplate1:function(T,C,y,S,A,i,E){var m=T[0],k=y[0],I=i[0],O=-1*k,_=k;S|=0,E|=0;var B=0,F=k,z=I;for(B=0;B<m;++B)A[E]=.5*(C[S+O]-C[S+_]),S+=F,E+=z},fdTemplate2:function(T,C,y,S,A,i,E,m,k,I){var O=T[0],_=T[1],B=y[0],F=y[1],z=i[0],N=i[1],W=k[0],Z=k[1],q=-1*B,re=B,le=-1*F,ie=F;S|=0,E|=0,I|=0;var K=0,$=0,X=F,Q=B-_*F,se=N,J=z-_*N,G=Z,oe=W-_*Z;for($=0;$<O;++$){for(K=0;K<_;++K)A[E]=.5*(C[S+q]-C[S+re]),m[I]=.5*(C[S+le]-C[S+ie]),S+=X,E+=se,I+=G;S+=Q,E+=J,I+=oe}}},n={cdiff:function(T){var C={};return function(S,A,i){var E=S.dtype,m=S.order,k=A.dtype,I=A.order,O=i.dtype,_=i.order,B=[E,m.join(),k,I.join(),O,_.join()].join(),F=C[B];return F||(C[B]=F=T([E,m,k,I,O,_])),F(S.shape.slice(0),S.data,S.stride,S.offset|0,A.data,A.stride,A.offset|0,i.data,i.stride,i.offset|0)}},zero:function(T){var C={};return function(S){var A=S.dtype,i=S.order,E=[A,i.join()].join(),m=C[E];return m||(C[E]=m=T([A,i])),m(S.shape.slice(0),S.data,S.stride,S.offset|0)}},fdTemplate1:function(T){var C={};return function(S,A){var i=S.dtype,E=S.order,m=A.dtype,k=A.order,I=[i,E.join(),m,k.join()].join(),O=C[I];return O||(C[I]=O=T([i,E,m,k])),O(S.shape.slice(0),S.data,S.stride,S.offset|0,A.data,A.stride,A.offset|0)}},fdTemplate2:function(T){var C={};return function(S,A,i){var E=S.dtype,m=S.order,k=A.dtype,I=A.order,O=i.dtype,_=i.order,B=[E,m.join(),k,I.join(),O,_.join()].join(),F=C[B];return F||(C[B]=F=T([E,m,k,I,O,_])),F(S.shape.slice(0),S.data,S.stride,S.offset|0,A.data,A.stride,A.offset|0,i.data,i.stride,i.offset|0)}}};function l(T){var C=n[T.funcName];return C(u.bind(void 0,T))}function u(T){return o[T.funcName]}function f(T){return l({funcName:T.funcName})}var g={},h={},w=f({funcName:"cdiff"}),c=f({funcName:"zero"});function a(T){return T in g?g[T]:g[T]=f({funcName:"fdTemplate"+T})}function d(T,C,y,S){return function(A,i){var E=i.shape.slice();return E[0]>2&&E[1]>2&&S(i.pick(-1,-1).lo(1,1).hi(E[0]-2,E[1]-2),A.pick(-1,-1,0).lo(1,1).hi(E[0]-2,E[1]-2),A.pick(-1,-1,1).lo(1,1).hi(E[0]-2,E[1]-2)),E[1]>2&&(y(i.pick(0,-1).lo(1).hi(E[1]-2),A.pick(0,-1,1).lo(1).hi(E[1]-2)),C(A.pick(0,-1,0).lo(1).hi(E[1]-2))),E[1]>2&&(y(i.pick(E[0]-1,-1).lo(1).hi(E[1]-2),A.pick(E[0]-1,-1,1).lo(1).hi(E[1]-2)),C(A.pick(E[0]-1,-1,0).lo(1).hi(E[1]-2))),E[0]>2&&(y(i.pick(-1,0).lo(1).hi(E[0]-2),A.pick(-1,0,0).lo(1).hi(E[0]-2)),C(A.pick(-1,0,1).lo(1).hi(E[0]-2))),E[0]>2&&(y(i.pick(-1,E[1]-1).lo(1).hi(E[0]-2),A.pick(-1,E[1]-1,0).lo(1).hi(E[0]-2)),C(A.pick(-1,E[1]-1,1).lo(1).hi(E[0]-2))),A.set(0,0,0,0),A.set(0,0,1,0),A.set(E[0]-1,0,0,0),A.set(E[0]-1,0,1,0),A.set(0,E[1]-1,0,0),A.set(0,E[1]-1,1,0),A.set(E[0]-1,E[1]-1,0,0),A.set(E[0]-1,E[1]-1,1,0),A}}function x(T){var C=T.join(),E=h[C];if(E)return E;for(var y=T.length,S=[w,c],A=1;A<=y;++A)S.push(a(A));var i=d,E=i.apply(void 0,S);return h[C]=E,E}v.exports=function(C,y,S){if(Array.isArray(S)||(typeof S=="string"?S=t(y.dimension,S):S=t(y.dimension,"clamp")),y.size===0)return C;if(y.dimension===0)return C.set(0),C;var A=x(S);return A(C,y)}},4317:function(v){function p(l,u){var f=Math.floor(u),g=u-f,h=0<=f&&f<l.shape[0],w=0<=f+1&&f+1<l.shape[0],c=h?+l.get(f):0,a=w?+l.get(f+1):0;return(1-g)*c+g*a}function r(l,u,f){var g=Math.floor(u),h=u-g,w=0<=g&&g<l.shape[0],c=0<=g+1&&g+1<l.shape[0],a=Math.floor(f),d=f-a,x=0<=a&&a<l.shape[1],T=0<=a+1&&a+1<l.shape[1],C=w&&x?l.get(g,a):0,y=w&&T?l.get(g,a+1):0,S=c&&x?l.get(g+1,a):0,A=c&&T?l.get(g+1,a+1):0;return(1-d)*((1-h)*C+h*S)+d*((1-h)*y+h*A)}function t(l,u,f,g){var h=Math.floor(u),w=u-h,c=0<=h&&h<l.shape[0],a=0<=h+1&&h+1<l.shape[0],d=Math.floor(f),x=f-d,T=0<=d&&d<l.shape[1],C=0<=d+1&&d+1<l.shape[1],y=Math.floor(g),S=g-y,A=0<=y&&y<l.shape[2],i=0<=y+1&&y+1<l.shape[2],E=c&&T&&A?l.get(h,d,y):0,m=c&&C&&A?l.get(h,d+1,y):0,k=a&&T&&A?l.get(h+1,d,y):0,I=a&&C&&A?l.get(h+1,d+1,y):0,O=c&&T&&i?l.get(h,d,y+1):0,_=c&&C&&i?l.get(h,d+1,y+1):0,B=a&&T&&i?l.get(h+1,d,y+1):0,F=a&&C&&i?l.get(h+1,d+1,y+1):0;return(1-S)*((1-x)*((1-w)*E+w*k)+x*((1-w)*m+w*I))+S*((1-x)*((1-w)*O+w*B)+x*((1-w)*_+w*F))}function o(l){var u=l.shape.length|0,f=new Array(u),g=new Array(u),h=new Array(u),w=new Array(u),c,a;for(c=0;c<u;++c)a=+arguments[c+1],f[c]=Math.floor(a),g[c]=a-f[c],h[c]=0<=f[c]&&f[c]<l.shape[c],w[c]=0<=f[c]+1&&f[c]+1<l.shape[c];var d=0,x,T,C;e:for(c=0;c<1<<u;++c){for(T=1,C=l.offset,x=0;x<u;++x)if(c&1<<x){if(!w[x])continue e;T*=g[x],C+=l.stride[x]*(f[x]+1)}else{if(!h[x])continue e;T*=1-g[x],C+=l.stride[x]*f[x]}d+=T*l.data[C]}return d}function n(l,u,f,g){switch(l.shape.length){case 0:return 0;case 1:return p(l,u);case 2:return r(l,u,f);case 3:return t(l,u,f,g);default:return o.apply(void 0,arguments)}}v.exports=n,v.exports.d1=p,v.exports.d2=r,v.exports.d3=t},5298:function(v,p){var r={"float64,2,1,0":function(){return function(h,w,c,a,d){var x=h[0],T=h[1],C=h[2],y=c[0],S=c[1],A=c[2];a|=0;var i=0,E=0,m=0,k=A,I=S-C*A,O=y-T*S;for(m=0;m<x;++m){for(E=0;E<T;++E){for(i=0;i<C;++i)w[a]/=d,a+=k;a+=I}a+=O}}},"uint8,2,0,1,float64,2,1,0":function(){return function(h,w,c,a,d,x,T,C){var y=h[0],S=h[1],A=h[2],i=c[0],E=c[1],m=c[2],k=x[0],I=x[1],O=x[2];a|=0,T|=0;for(var _=a,B=T,F=h[0]|0;F>0;){F<64?(y=F,F=0):(y=64,F-=64);for(var z=h[1]|0;z>0;){z<64?(S=z,z=0):(S=64,z-=64),a=_+F*i+z*E,T=B+F*k+z*I;var N=0,W=0,Z=0,q=m,re=i-A*m,le=E-y*i,ie=O,K=k-A*O,$=I-y*k;for(Z=0;Z<S;++Z){for(W=0;W<y;++W){for(N=0;N<A;++N)w[a]=d[T]*C,a+=q,T+=ie;a+=re,T+=K}a+=le,T+=$}}}}},"float32,1,0,float32,1,0":function(){return function(h,w,c,a,d,x,T){var C=h[0],y=h[1],S=c[0],A=c[1],i=x[0],E=x[1];a|=0,T|=0;var m=0,k=0,I=A,O=S-y*A,_=E,B=i-y*E;for(k=0;k<C;++k){for(m=0;m<y;++m)w[a]=d[T],a+=I,T+=_;a+=O,T+=B}}},"float32,1,0,float32,0,1":function(){return function(h,w,c,a,d,x,T){var C=h[0],y=h[1],S=c[0],A=c[1],i=x[0],E=x[1];a|=0,T|=0;for(var m=a,k=T,I=h[1]|0;I>0;){I<64?(y=I,I=0):(y=64,I-=64);for(var O=h[0]|0;O>0;){O<64?(C=O,O=0):(C=64,O-=64),a=m+I*A+O*S,T=k+I*E+O*i;var _=0,B=0,F=A,z=S-y*A,N=E,W=i-y*E;for(B=0;B<C;++B){for(_=0;_<y;++_)w[a]=d[T],a+=F,T+=N;a+=z,T+=W}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(h,w,c,a,d,x,T){var C=h[0],y=h[1],S=h[2],A=c[0],i=c[1],E=c[2],m=x[0],k=x[1],I=x[2];a|=0,T|=0;for(var O=a,_=T,B=h[2]|0;B>0;){B<64?(S=B,B=0):(S=64,B-=64);for(var F=h[0]|0;F>0;){F<64?(C=F,F=0):(C=64,F-=64);for(var z=h[1]|0;z>0;){z<64?(y=z,z=0):(y=64,z-=64),a=O+B*E+F*A+z*i,T=_+B*I+F*m+z*k;var N=0,W=0,Z=0,q=E,re=A-S*E,le=i-C*A,ie=I,K=m-S*I,$=k-C*m;for(Z=0;Z<y;++Z){for(W=0;W<C;++W){for(N=0;N<S;++N)w[a]=d[T],a+=q,T+=ie;a+=re,T+=K}a+=le,T+=$}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(h,w,c,a,d,x,T){var C=h[0],y=h[1],S=h[2],A=c[0],i=c[1],E=c[2],m=x[0],k=x[1],I=x[2];a|=0,T|=0;var O=0,_=0,B=0,F=E,z=A-S*E,N=i-C*A,W=I,Z=m-S*I,q=k-C*m;for(B=0;B<y;++B){for(_=0;_<C;++_){for(O=0;O<S;++O)w[a]=d[T],a+=F,T+=W;a+=z,T+=Z}a+=N,T+=q}}}};function t(g,h){var w=h.join(","),c=r[w];return c()}var o=t,n={mul:function(g){var h={};return function(c,a,d){var x=c.dtype,T=c.order,C=a.dtype,y=a.order,S=d.dtype,A=d.order,i=[x,T.join(),C,y.join(),S,A.join()].join(),E=h[i];return E||(h[i]=E=g([x,T,C,y,S,A])),E(c.shape.slice(0),c.data,c.stride,c.offset|0,a.data,a.stride,a.offset|0,d.data,d.stride,d.offset|0)}},muls:function(g){var h={};return function(c,a,d){var x=c.dtype,T=c.order,C=a.dtype,y=a.order,S=[x,T.join(),C,y.join()].join(),A=h[S];return A||(h[S]=A=g([x,T,C,y])),A(c.shape.slice(0),c.data,c.stride,c.offset|0,a.data,a.stride,a.offset|0,d)}},mulseq:function(g){var h={};return function(c,a){var d=c.dtype,x=c.order,T=[d,x.join()].join(),C=h[T];return C||(h[T]=C=g([d,x])),C(c.shape.slice(0),c.data,c.stride,c.offset|0,a)}},div:function(g){var h={};return function(c,a,d){var x=c.dtype,T=c.order,C=a.dtype,y=a.order,S=d.dtype,A=d.order,i=[x,T.join(),C,y.join(),S,A.join()].join(),E=h[i];return E||(h[i]=E=g([x,T,C,y,S,A])),E(c.shape.slice(0),c.data,c.stride,c.offset|0,a.data,a.stride,a.offset|0,d.data,d.stride,d.offset|0)}},divs:function(g){var h={};return function(c,a,d){var x=c.dtype,T=c.order,C=a.dtype,y=a.order,S=[x,T.join(),C,y.join()].join(),A=h[S];return A||(h[S]=A=g([x,T,C,y])),A(c.shape.slice(0),c.data,c.stride,c.offset|0,a.data,a.stride,a.offset|0,d)}},divseq:function(g){var h={};return function(c,a){var d=c.dtype,x=c.order,T=[d,x.join()].join(),C=h[T];return C||(h[T]=C=g([d,x])),C(c.shape.slice(0),c.data,c.stride,c.offset|0,a)}},assign:function(g){var h={};return function(c,a){var d=c.dtype,x=c.order,T=a.dtype,C=a.order,y=[d,x.join(),T,C.join()].join(),S=h[y];return S||(h[y]=S=g([d,x,T,C])),S(c.shape.slice(0),c.data,c.stride,c.offset|0,a.data,a.stride,a.offset|0)}}};function l(g){var h=n[g.funcName];return h(o.bind(void 0,g))}function u(g){return l({funcName:g.funcName})}var f={mul:"*",div:"/"};(function(){for(var g in f)p[g]=u({funcName:g}),p[g+"s"]=u({funcName:g+"s"}),p[g+"seq"]=u({funcName:g+"seq"})})(),p.assign=u({funcName:"assign"})},9994:function(v,p,r){var t=r(9618),o=r(8277);v.exports=function(l,u){for(var f=[],g=l,h=1;Array.isArray(g);)f.push(g.length),h*=g.length,g=g[0];return f.length===0?t():(u||(u=t(new Float64Array(h),f)),o(u,l),u)}},8277:function(v){function p(){return function(u,f,g,h,w){var c=u[0],a=u[1],d=u[2],x=g[0],T=g[1],C=g[2],y=[0,0,0];h|=0;var S=0,A=0,i=0,E=C,m=T-d*C,k=x-a*T;for(i=0;i<c;++i){for(A=0;A<a;++A){for(S=0;S<d;++S){{var I=w,O;for(O=0;O<y.length-1;++O)I=I[y[O]];f[h]=I[y[y.length-1]]}h+=E,++y[2]}h+=m,y[2]-=d,++y[1]}h+=k,y[1]-=a,++y[0]}}}function r(){return p()}var t=r;function o(u){var f={};return function(h,w){var c=h.dtype,a=h.order,d=[c,a.join()].join(),x=f[d];return x||(f[d]=x=u([c,a])),x(h.shape.slice(0),h.data,h.stride,h.offset|0,w)}}function n(u){return o(t.bind(void 0,u))}function l(u){return n({funcName:u.funcName})}v.exports=l({funcName:"convert"})},7640:function(v,p,r){var t=r(1888);function o(w){switch(w){case"uint32":return[t.mallocUint32,t.freeUint32];default:return null}}var n={"uint32,1,0":function(w,c){return function(d,x,T,C,y,S,A,i,E,m,k){var I,O,_,B=d*y+C,F,z=w(i),N,W,Z,q;for(I=d+1;I<=x;++I){for(O=I,B+=y,_=B,N=0,W=B,F=0;F<i;++F)z[N++]=T[W],W+=E;e:for(;O-- >d;){N=0,W=_-y;t:for(F=0;F<i;++F){if(Z=T[W],q=z[N],Z<q)break e;if(Z>q)break t;W+=m,N+=k}for(N=_,W=_-y,F=0;F<i;++F)T[N]=T[W],N+=E,W+=E;_-=y}for(N=_,W=0,F=0;F<i;++F)T[N]=z[W++],N+=E}c(z)}}};function l(w,c){var a=o(c),d=[c,w].join(","),x=n[d];return a?x(a[0],a[1]):x()}var u={"uint32,1,0":function(w,c,a){return function d(x,T,C,y,S,A,i,E,m,k,I){var O=(T-x+1)/6|0,_=x+O,B=T-O,F=x+T>>1,z=F-O,N=F+O,W=_,Z=z,q=F,re=N,le=B,ie=x+1,K=T-1,$=!0,X,Q,se,J,G,oe,te,fe,ge,we=0,xe=0,Ce=0,De,Oe,Te,Re,Me,ke,Se,He,je,at,Ze,$e,ut,ht,vt,xt,St=E,tt=c(St),Ie=c(St);Oe=S*W,Te=S*Z,xt=y;e:for(De=0;De<E;++De){if(te=Oe+xt,fe=Te+xt,Ce=C[te]-C[fe],Ce>0){Q=W,W=Z,Z=Q;break e}if(Ce<0)break e;xt+=k}Oe=S*re,Te=S*le,xt=y;e:for(De=0;De<E;++De){if(te=Oe+xt,fe=Te+xt,Ce=C[te]-C[fe],Ce>0){Q=re,re=le,le=Q;break e}if(Ce<0)break e;xt+=k}Oe=S*W,Te=S*q,xt=y;e:for(De=0;De<E;++De){if(te=Oe+xt,fe=Te+xt,Ce=C[te]-C[fe],Ce>0){Q=W,W=q,q=Q;break e}if(Ce<0)break e;xt+=k}Oe=S*Z,Te=S*q,xt=y;e:for(De=0;De<E;++De){if(te=Oe+xt,fe=Te+xt,Ce=C[te]-C[fe],Ce>0){Q=Z,Z=q,q=Q;break e}if(Ce<0)break e;xt+=k}Oe=S*W,Te=S*re,xt=y;e:for(De=0;De<E;++De){if(te=Oe+xt,fe=Te+xt,Ce=C[te]-C[fe],Ce>0){Q=W,W=re,re=Q;break e}if(Ce<0)break e;xt+=k}Oe=S*q,Te=S*re,xt=y;e:for(De=0;De<E;++De){if(te=Oe+xt,fe=Te+xt,Ce=C[te]-C[fe],Ce>0){Q=q,q=re,re=Q;break e}if(Ce<0)break e;xt+=k}Oe=S*Z,Te=S*le,xt=y;e:for(De=0;De<E;++De){if(te=Oe+xt,fe=Te+xt,Ce=C[te]-C[fe],Ce>0){Q=Z,Z=le,le=Q;break e}if(Ce<0)break e;xt+=k}Oe=S*Z,Te=S*q,xt=y;e:for(De=0;De<E;++De){if(te=Oe+xt,fe=Te+xt,Ce=C[te]-C[fe],Ce>0){Q=Z,Z=q,q=Q;break e}if(Ce<0)break e;xt+=k}Oe=S*re,Te=S*le,xt=y;e:for(De=0;De<E;++De){if(te=Oe+xt,fe=Te+xt,Ce=C[te]-C[fe],Ce>0){Q=re,re=le,le=Q;break e}if(Ce<0)break e;xt+=k}for(Oe=S*W,Te=S*Z,Re=S*q,Me=S*re,ke=S*le,Se=S*_,He=S*F,je=S*B,vt=0,xt=y,De=0;De<E;++De)te=Oe+xt,fe=Te+xt,ge=Re+xt,at=Me+xt,Ze=ke+xt,$e=Se+xt,ut=He+xt,ht=je+xt,tt[vt]=C[fe],Ie[vt]=C[at],$=$&&tt[vt]===Ie[vt],se=C[te],J=C[ge],G=C[Ze],C[$e]=se,C[ut]=J,C[ht]=G,++vt,xt+=m;for(Oe=S*z,Te=S*x,xt=y,De=0;De<E;++De)te=Oe+xt,fe=Te+xt,C[te]=C[fe],xt+=m;for(Oe=S*N,Te=S*T,xt=y,De=0;De<E;++De)te=Oe+xt,fe=Te+xt,C[te]=C[fe],xt+=m;if($)for(oe=ie;oe<=K;++oe){te=y+oe*S,vt=0;e:for(De=0;De<E;++De){if(Ce=C[te]-tt[vt],Ce!==0)break e;vt+=I,te+=k}if(Ce!==0)if(Ce<0){if(oe!==ie)for(Oe=S*oe,Te=S*ie,xt=y,De=0;De<E;++De)te=Oe+xt,fe=Te+xt,X=C[te],C[te]=C[fe],C[fe]=X,xt+=m;++ie}else for(;;){te=y+K*S,vt=0;e:for(De=0;De<E;++De){if(Ce=C[te]-tt[vt],Ce!==0)break e;vt+=I,te+=k}if(Ce>0)K--;else if(Ce<0){for(Oe=S*oe,Te=S*ie,Re=S*K,xt=y,De=0;De<E;++De)te=Oe+xt,fe=Te+xt,ge=Re+xt,X=C[te],C[te]=C[fe],C[fe]=C[ge],C[ge]=X,xt+=m;++ie,--K;break}else{for(Oe=S*oe,Te=S*K,xt=y,De=0;De<E;++De)te=Oe+xt,fe=Te+xt,X=C[te],C[te]=C[fe],C[fe]=X,xt+=m;--K;break}}}else for(oe=ie;oe<=K;++oe){te=y+oe*S,vt=0;e:for(De=0;De<E;++De){if(we=C[te]-tt[vt],we!==0)break e;vt+=I,te+=k}if(we<0){if(oe!==ie)for(Oe=S*oe,Te=S*ie,xt=y,De=0;De<E;++De)te=Oe+xt,fe=Te+xt,X=C[te],C[te]=C[fe],C[fe]=X,xt+=m;++ie}else{te=y+oe*S,vt=0;e:for(De=0;De<E;++De){if(xe=C[te]-Ie[vt],xe!==0)break e;vt+=I,te+=k}if(xe>0)for(;;){te=y+K*S,vt=0;e:for(De=0;De<E;++De){if(Ce=C[te]-Ie[vt],Ce!==0)break e;vt+=I,te+=k}if(Ce>0){if(--K<oe)break;continue}else{te=y+K*S,vt=0;e:for(De=0;De<E;++De){if(Ce=C[te]-tt[vt],Ce!==0)break e;vt+=I,te+=k}if(Ce<0){for(Oe=S*oe,Te=S*ie,Re=S*K,xt=y,De=0;De<E;++De)te=Oe+xt,fe=Te+xt,ge=Re+xt,X=C[te],C[te]=C[fe],C[fe]=C[ge],C[ge]=X,xt+=m;++ie,--K}else{for(Oe=S*oe,Te=S*K,xt=y,De=0;De<E;++De)te=Oe+xt,fe=Te+xt,X=C[te],C[te]=C[fe],C[fe]=X,xt+=m;--K}break}}}}for(Oe=S*x,Te=S*(ie-1),vt=0,xt=y,De=0;De<E;++De)te=Oe+xt,fe=Te+xt,C[te]=C[fe],C[fe]=tt[vt],++vt,xt+=m;for(Oe=S*T,Te=S*(K+1),vt=0,xt=y,De=0;De<E;++De)te=Oe+xt,fe=Te+xt,C[te]=C[fe],C[fe]=Ie[vt],++vt,xt+=m;if(ie-2-x<=32?w(x,ie-2,C,y,S,A,i,E,m,k,I):d(x,ie-2,C,y,S,A,i,E,m,k,I),T-(K+2)<=32?w(K+2,T,C,y,S,A,i,E,m,k,I):d(K+2,T,C,y,S,A,i,E,m,k,I),$){a(tt),a(Ie);return}if(ie<_&&K>B){e:for(;;){for(te=y+ie*S,vt=0,xt=y,De=0;De<E;++De){if(C[te]!==tt[vt])break e;++vt,te+=m}++ie}e:for(;;){for(te=y+K*S,vt=0,xt=y,De=0;De<E;++De){if(C[te]!==Ie[vt])break e;++vt,te+=m}--K}for(oe=ie;oe<=K;++oe){te=y+oe*S,vt=0;e:for(De=0;De<E;++De){if(we=C[te]-tt[vt],we!==0)break e;vt+=I,te+=k}if(we===0){if(oe!==ie)for(Oe=S*oe,Te=S*ie,xt=y,De=0;De<E;++De)te=Oe+xt,fe=Te+xt,X=C[te],C[te]=C[fe],C[fe]=X,xt+=m;++ie}else{te=y+oe*S,vt=0;e:for(De=0;De<E;++De){if(xe=C[te]-Ie[vt],xe!==0)break e;vt+=I,te+=k}if(xe===0)for(;;){te=y+K*S,vt=0;e:for(De=0;De<E;++De){if(Ce=C[te]-Ie[vt],Ce!==0)break e;vt+=I,te+=k}if(Ce===0){if(--K<oe)break;continue}else{te=y+K*S,vt=0;e:for(De=0;De<E;++De){if(Ce=C[te]-tt[vt],Ce!==0)break e;vt+=I,te+=k}if(Ce<0){for(Oe=S*oe,Te=S*ie,Re=S*K,xt=y,De=0;De<E;++De)te=Oe+xt,fe=Te+xt,ge=Re+xt,X=C[te],C[te]=C[fe],C[fe]=C[ge],C[ge]=X,xt+=m;++ie,--K}else{for(Oe=S*oe,Te=S*K,xt=y,De=0;De<E;++De)te=Oe+xt,fe=Te+xt,X=C[te],C[te]=C[fe],C[fe]=X,xt+=m;--K}break}}}}}a(tt),a(Ie),K-ie<=32?w(ie,K,C,y,S,A,i,E,m,k,I):d(ie,K,C,y,S,A,i,E,m,k,I)}}};function f(w,c,a){var d=o(c),x=[c,w].join(","),T=u[x];return w.length>1&&d?T(a,d[0],d[1]):T(a)}var g={"uint32,1,0":function(w,c){return function(a){var d=a.data,x=a.offset|0,T=a.shape,C=a.stride,y=C[0]|0,S=T[0]|0,A=C[1]|0,i=T[1]|0,E=A,m=A,k=1;S<=32?w(0,S-1,d,x,y,A,S,i,E,m,k):c(0,S-1,d,x,y,A,S,i,E,m,k)}}};function h(w,c){var a=[c,w].join(","),d=g[a],x=l(w,c),T=f(w,c,x);return d(x,T)}v.exports=h},446:function(v,p,r){var t=r(7640),o={};function n(l){var u=l.order,f=l.dtype,g=[u,f],h=g.join(":"),w=o[h];return w||(o[h]=w=t(u,f)),w(l),l}v.exports=n},9618:function(v,p,r){var t=r(7163),o=typeof Float64Array<"u";function n(c,a){return c[0]-a[0]}function l(){var c=this.stride,a=new Array(c.length),d;for(d=0;d<a.length;++d)a[d]=[Math.abs(c[d]),d];a.sort(n);var x=new Array(a.length);for(d=0;d<x.length;++d)x[d]=a[d][1];return x}var u={T:function(c){function a(x){this.data=x}var d=a.prototype;return d.dtype=c,d.index=function(){return-1},d.size=0,d.dimension=-1,d.shape=d.stride=d.order=[],d.lo=d.hi=d.transpose=d.step=function(){return new a(this.data)},d.get=d.set=function(){},d.pick=function(){return null},function(T){return new a(T)}},0:function(c,a){function d(T,C){this.data=T,this.offset=C}var x=d.prototype;return x.dtype=c,x.index=function(){return this.offset},x.dimension=0,x.size=1,x.shape=x.stride=x.order=[],x.lo=x.hi=x.transpose=x.step=function(){return new d(this.data,this.offset)},x.pick=function(){return a(this.data)},x.valueOf=x.get=function(){return c==="generic"?this.data.get(this.offset):this.data[this.offset]},x.set=function(C){return c==="generic"?this.data.set(this.offset,C):this.data[this.offset]=C},function(C,y,S,A){return new d(C,A)}},1:function(c,a,d){function x(C,y,S,A){this.data=C,this.shape=[y],this.stride=[S],this.offset=A|0}var T=x.prototype;return T.dtype=c,T.dimension=1,Object.defineProperty(T,"size",{get:function(){return this.shape[0]}}),T.order=[0],T.set=function(y,S){return c==="generic"?this.data.set(this.offset+this.stride[0]*y,S):this.data[this.offset+this.stride[0]*y]=S},T.get=function(y){return c==="generic"?this.data.get(this.offset+this.stride[0]*y):this.data[this.offset+this.stride[0]*y]},T.index=function(y){return this.offset+this.stride[0]*y},T.hi=function(y){return new x(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,this.stride[0],this.offset)},T.lo=function(y){var S=this.offset,A=0,i=this.shape[0],E=this.stride[0];return typeof y=="number"&&y>=0&&(A=y|0,S+=E*A,i-=A),new x(this.data,i,E,S)},T.step=function(y){var S=this.shape[0],A=this.stride[0],i=this.offset,E=0,m=Math.ceil;return typeof y=="number"&&(E=y|0,E<0?(i+=A*(S-1),S=m(-S/E)):S=m(S/E),A*=E),new x(this.data,S,A,i)},T.transpose=function(y){y=y===void 0?0:y|0;var S=this.shape,A=this.stride;return new x(this.data,S[y],A[y],this.offset)},T.pick=function(y){var S=[],A=[],i=this.offset;typeof y=="number"&&y>=0?i=i+this.stride[0]*y|0:(S.push(this.shape[0]),A.push(this.stride[0]));var E=a[S.length+1];return E(this.data,S,A,i)},function(y,S,A,i){return new x(y,S[0],A[0],i)}},2:function(c,a,d){function x(C,y,S,A,i,E){this.data=C,this.shape=[y,S],this.stride=[A,i],this.offset=E|0}var T=x.prototype;return T.dtype=c,T.dimension=2,Object.defineProperty(T,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(T,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),T.set=function(y,S,A){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*S,A):this.data[this.offset+this.stride[0]*y+this.stride[1]*S]=A},T.get=function(y,S){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*S):this.data[this.offset+this.stride[0]*y+this.stride[1]*S]},T.index=function(y,S){return this.offset+this.stride[0]*y+this.stride[1]*S},T.hi=function(y,S){return new x(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,typeof S!="number"||S<0?this.shape[1]:S|0,this.stride[0],this.stride[1],this.offset)},T.lo=function(y,S){var A=this.offset,i=0,E=this.shape[0],m=this.shape[1],k=this.stride[0],I=this.stride[1];return typeof y=="number"&&y>=0&&(i=y|0,A+=k*i,E-=i),typeof S=="number"&&S>=0&&(i=S|0,A+=I*i,m-=i),new x(this.data,E,m,k,I,A)},T.step=function(y,S){var A=this.shape[0],i=this.shape[1],E=this.stride[0],m=this.stride[1],k=this.offset,I=0,O=Math.ceil;return typeof y=="number"&&(I=y|0,I<0?(k+=E*(A-1),A=O(-A/I)):A=O(A/I),E*=I),typeof S=="number"&&(I=S|0,I<0?(k+=m*(i-1),i=O(-i/I)):i=O(i/I),m*=I),new x(this.data,A,i,E,m,k)},T.transpose=function(y,S){y=y===void 0?0:y|0,S=S===void 0?1:S|0;var A=this.shape,i=this.stride;return new x(this.data,A[y],A[S],i[y],i[S],this.offset)},T.pick=function(y,S){var A=[],i=[],E=this.offset;typeof y=="number"&&y>=0?E=E+this.stride[0]*y|0:(A.push(this.shape[0]),i.push(this.stride[0])),typeof S=="number"&&S>=0?E=E+this.stride[1]*S|0:(A.push(this.shape[1]),i.push(this.stride[1]));var m=a[A.length+1];return m(this.data,A,i,E)},function(y,S,A,i){return new x(y,S[0],S[1],A[0],A[1],i)}},3:function(c,a,d){function x(C,y,S,A,i,E,m,k){this.data=C,this.shape=[y,S,A],this.stride=[i,E,m],this.offset=k|0}var T=x.prototype;return T.dtype=c,T.dimension=3,Object.defineProperty(T,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(T,"order",{get:function(){var y=Math.abs(this.stride[0]),S=Math.abs(this.stride[1]),A=Math.abs(this.stride[2]);return y>S?S>A?[2,1,0]:y>A?[1,2,0]:[1,0,2]:y>A?[2,0,1]:A>S?[0,1,2]:[0,2,1]}}),T.set=function(y,S,A,i){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*A,i):this.data[this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*A]=i},T.get=function(y,S,A){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*A):this.data[this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*A]},T.index=function(y,S,A){return this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*A},T.hi=function(y,S,A){return new x(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,typeof S!="number"||S<0?this.shape[1]:S|0,typeof A!="number"||A<0?this.shape[2]:A|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},T.lo=function(y,S,A){var i=this.offset,E=0,m=this.shape[0],k=this.shape[1],I=this.shape[2],O=this.stride[0],_=this.stride[1],B=this.stride[2];return typeof y=="number"&&y>=0&&(E=y|0,i+=O*E,m-=E),typeof S=="number"&&S>=0&&(E=S|0,i+=_*E,k-=E),typeof A=="number"&&A>=0&&(E=A|0,i+=B*E,I-=E),new x(this.data,m,k,I,O,_,B,i)},T.step=function(y,S,A){var i=this.shape[0],E=this.shape[1],m=this.shape[2],k=this.stride[0],I=this.stride[1],O=this.stride[2],_=this.offset,B=0,F=Math.ceil;return typeof y=="number"&&(B=y|0,B<0?(_+=k*(i-1),i=F(-i/B)):i=F(i/B),k*=B),typeof S=="number"&&(B=S|0,B<0?(_+=I*(E-1),E=F(-E/B)):E=F(E/B),I*=B),typeof A=="number"&&(B=A|0,B<0?(_+=O*(m-1),m=F(-m/B)):m=F(m/B),O*=B),new x(this.data,i,E,m,k,I,O,_)},T.transpose=function(y,S,A){y=y===void 0?0:y|0,S=S===void 0?1:S|0,A=A===void 0?2:A|0;var i=this.shape,E=this.stride;return new x(this.data,i[y],i[S],i[A],E[y],E[S],E[A],this.offset)},T.pick=function(y,S,A){var i=[],E=[],m=this.offset;typeof y=="number"&&y>=0?m=m+this.stride[0]*y|0:(i.push(this.shape[0]),E.push(this.stride[0])),typeof S=="number"&&S>=0?m=m+this.stride[1]*S|0:(i.push(this.shape[1]),E.push(this.stride[1])),typeof A=="number"&&A>=0?m=m+this.stride[2]*A|0:(i.push(this.shape[2]),E.push(this.stride[2]));var k=a[i.length+1];return k(this.data,i,E,m)},function(y,S,A,i){return new x(y,S[0],S[1],S[2],A[0],A[1],A[2],i)}},4:function(c,a,d){function x(C,y,S,A,i,E,m,k,I,O){this.data=C,this.shape=[y,S,A,i],this.stride=[E,m,k,I],this.offset=O|0}var T=x.prototype;return T.dtype=c,T.dimension=4,Object.defineProperty(T,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(T,"order",{get:d}),T.set=function(y,S,A,i,E){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*A+this.stride[3]*i,E):this.data[this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*A+this.stride[3]*i]=E},T.get=function(y,S,A,i){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*A+this.stride[3]*i):this.data[this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*A+this.stride[3]*i]},T.index=function(y,S,A,i){return this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*A+this.stride[3]*i},T.hi=function(y,S,A,i){return new x(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,typeof S!="number"||S<0?this.shape[1]:S|0,typeof A!="number"||A<0?this.shape[2]:A|0,typeof i!="number"||i<0?this.shape[3]:i|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},T.lo=function(y,S,A,i){var E=this.offset,m=0,k=this.shape[0],I=this.shape[1],O=this.shape[2],_=this.shape[3],B=this.stride[0],F=this.stride[1],z=this.stride[2],N=this.stride[3];return typeof y=="number"&&y>=0&&(m=y|0,E+=B*m,k-=m),typeof S=="number"&&S>=0&&(m=S|0,E+=F*m,I-=m),typeof A=="number"&&A>=0&&(m=A|0,E+=z*m,O-=m),typeof i=="number"&&i>=0&&(m=i|0,E+=N*m,_-=m),new x(this.data,k,I,O,_,B,F,z,N,E)},T.step=function(y,S,A,i){var E=this.shape[0],m=this.shape[1],k=this.shape[2],I=this.shape[3],O=this.stride[0],_=this.stride[1],B=this.stride[2],F=this.stride[3],z=this.offset,N=0,W=Math.ceil;return typeof y=="number"&&(N=y|0,N<0?(z+=O*(E-1),E=W(-E/N)):E=W(E/N),O*=N),typeof S=="number"&&(N=S|0,N<0?(z+=_*(m-1),m=W(-m/N)):m=W(m/N),_*=N),typeof A=="number"&&(N=A|0,N<0?(z+=B*(k-1),k=W(-k/N)):k=W(k/N),B*=N),typeof i=="number"&&(N=i|0,N<0?(z+=F*(I-1),I=W(-I/N)):I=W(I/N),F*=N),new x(this.data,E,m,k,I,O,_,B,F,z)},T.transpose=function(y,S,A,i){y=y===void 0?0:y|0,S=S===void 0?1:S|0,A=A===void 0?2:A|0,i=i===void 0?3:i|0;var E=this.shape,m=this.stride;return new x(this.data,E[y],E[S],E[A],E[i],m[y],m[S],m[A],m[i],this.offset)},T.pick=function(y,S,A,i){var E=[],m=[],k=this.offset;typeof y=="number"&&y>=0?k=k+this.stride[0]*y|0:(E.push(this.shape[0]),m.push(this.stride[0])),typeof S=="number"&&S>=0?k=k+this.stride[1]*S|0:(E.push(this.shape[1]),m.push(this.stride[1])),typeof A=="number"&&A>=0?k=k+this.stride[2]*A|0:(E.push(this.shape[2]),m.push(this.stride[2])),typeof i=="number"&&i>=0?k=k+this.stride[3]*i|0:(E.push(this.shape[3]),m.push(this.stride[3]));var I=a[E.length+1];return I(this.data,E,m,k)},function(y,S,A,i){return new x(y,S[0],S[1],S[2],S[3],A[0],A[1],A[2],A[3],i)}},5:function(a,d,x){function T(y,S,A,i,E,m,k,I,O,_,B,F){this.data=y,this.shape=[S,A,i,E,m],this.stride=[k,I,O,_,B],this.offset=F|0}var C=T.prototype;return C.dtype=a,C.dimension=5,Object.defineProperty(C,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(C,"order",{get:x}),C.set=function(S,A,i,E,m,k){return a==="generic"?this.data.set(this.offset+this.stride[0]*S+this.stride[1]*A+this.stride[2]*i+this.stride[3]*E+this.stride[4]*m,k):this.data[this.offset+this.stride[0]*S+this.stride[1]*A+this.stride[2]*i+this.stride[3]*E+this.stride[4]*m]=k},C.get=function(S,A,i,E,m){return a==="generic"?this.data.get(this.offset+this.stride[0]*S+this.stride[1]*A+this.stride[2]*i+this.stride[3]*E+this.stride[4]*m):this.data[this.offset+this.stride[0]*S+this.stride[1]*A+this.stride[2]*i+this.stride[3]*E+this.stride[4]*m]},C.index=function(S,A,i,E,m){return this.offset+this.stride[0]*S+this.stride[1]*A+this.stride[2]*i+this.stride[3]*E+this.stride[4]*m},C.hi=function(S,A,i,E,m){return new T(this.data,typeof S!="number"||S<0?this.shape[0]:S|0,typeof A!="number"||A<0?this.shape[1]:A|0,typeof i!="number"||i<0?this.shape[2]:i|0,typeof E!="number"||E<0?this.shape[3]:E|0,typeof m!="number"||m<0?this.shape[4]:m|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},C.lo=function(S,A,i,E,m){var k=this.offset,I=0,O=this.shape[0],_=this.shape[1],B=this.shape[2],F=this.shape[3],z=this.shape[4],N=this.stride[0],W=this.stride[1],Z=this.stride[2],q=this.stride[3],re=this.stride[4];return typeof S=="number"&&S>=0&&(I=S|0,k+=N*I,O-=I),typeof A=="number"&&A>=0&&(I=A|0,k+=W*I,_-=I),typeof i=="number"&&i>=0&&(I=i|0,k+=Z*I,B-=I),typeof E=="number"&&E>=0&&(I=E|0,k+=q*I,F-=I),typeof m=="number"&&m>=0&&(I=m|0,k+=re*I,z-=I),new T(this.data,O,_,B,F,z,N,W,Z,q,re,k)},C.step=function(S,A,i,E,m){var k=this.shape[0],I=this.shape[1],O=this.shape[2],_=this.shape[3],B=this.shape[4],F=this.stride[0],z=this.stride[1],N=this.stride[2],W=this.stride[3],Z=this.stride[4],q=this.offset,re=0,le=Math.ceil;return typeof S=="number"&&(re=S|0,re<0?(q+=F*(k-1),k=le(-k/re)):k=le(k/re),F*=re),typeof A=="number"&&(re=A|0,re<0?(q+=z*(I-1),I=le(-I/re)):I=le(I/re),z*=re),typeof i=="number"&&(re=i|0,re<0?(q+=N*(O-1),O=le(-O/re)):O=le(O/re),N*=re),typeof E=="number"&&(re=E|0,re<0?(q+=W*(_-1),_=le(-_/re)):_=le(_/re),W*=re),typeof m=="number"&&(re=m|0,re<0?(q+=Z*(B-1),B=le(-B/re)):B=le(B/re),Z*=re),new T(this.data,k,I,O,_,B,F,z,N,W,Z,q)},C.transpose=function(S,A,i,E,m){S=S===void 0?0:S|0,A=A===void 0?1:A|0,i=i===void 0?2:i|0,E=E===void 0?3:E|0,m=m===void 0?4:m|0;var k=this.shape,I=this.stride;return new T(this.data,k[S],k[A],k[i],k[E],k[m],I[S],I[A],I[i],I[E],I[m],this.offset)},C.pick=function(S,A,i,E,m){var k=[],I=[],O=this.offset;typeof S=="number"&&S>=0?O=O+this.stride[0]*S|0:(k.push(this.shape[0]),I.push(this.stride[0])),typeof A=="number"&&A>=0?O=O+this.stride[1]*A|0:(k.push(this.shape[1]),I.push(this.stride[1])),typeof i=="number"&&i>=0?O=O+this.stride[2]*i|0:(k.push(this.shape[2]),I.push(this.stride[2])),typeof E=="number"&&E>=0?O=O+this.stride[3]*E|0:(k.push(this.shape[3]),I.push(this.stride[3])),typeof m=="number"&&m>=0?O=O+this.stride[4]*m|0:(k.push(this.shape[4]),I.push(this.stride[4]));var _=d[k.length+1];return _(this.data,k,I,O)},function(S,A,i,E){return new T(S,A[0],A[1],A[2],A[3],A[4],i[0],i[1],i[2],i[3],i[4],E)}}};function f(c,a){var d=a===-1?"T":String(a),x=u[d];return a===-1?x(c):a===0?x(c,h[c][0]):x(c,h[c],l)}function g(c){if(t(c))return"buffer";if(o)switch(Object.prototype.toString.call(c)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(c)?"array":"generic"}var h={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function w(c,a,d,x){if(c===void 0){var i=h.array[0];return i([])}else typeof c=="number"&&(c=[c]);a===void 0&&(a=[c.length]);var T=a.length;if(d===void 0){d=new Array(T);for(var C=T-1,y=1;C>=0;--C)d[C]=y,y*=a[C]}if(x===void 0){x=0;for(var C=0;C<T;++C)d[C]<0&&(x-=(a[C]-1)*d[C])}for(var S=g(c),A=h[S];A.length<=T+1;)A.push(f(S,A.length-1));var i=A[T+1];return i(c,a,d,x)}v.exports=w},1278:function(v,p,r){var t=r(2361),o=Math.pow(2,-1074),n=-1>>>0;v.exports=l;function l(u,f){if(isNaN(u)||isNaN(f))return NaN;if(u===f)return u;if(u===0)return f<0?-o:o;var g=t.hi(u),h=t.lo(u);return f>u==u>0?h===n?(g+=1,h=0):h+=1:h===0?(h=n,g-=1):h-=1,t.pack(h,g)}},8406:function(v,p){var r=1e-6,t=1e-6;p.vertexNormals=function(o,n,l){for(var u=n.length,f=new Array(u),g=l===void 0?r:l,h=0;h<u;++h)f[h]=[0,0,0];for(var h=0;h<o.length;++h)for(var w=o[h],c=0,a=w[w.length-1],d=w[0],x=0;x<w.length;++x){c=a,a=d,d=w[(x+1)%w.length];for(var T=n[c],C=n[a],y=n[d],S=new Array(3),A=0,i=new Array(3),E=0,m=0;m<3;++m)S[m]=T[m]-C[m],A+=S[m]*S[m],i[m]=y[m]-C[m],E+=i[m]*i[m];if(A*E>g)for(var k=f[a],I=1/Math.sqrt(A*E),m=0;m<3;++m){var O=(m+1)%3,_=(m+2)%3;k[m]+=I*(i[O]*S[_]-i[_]*S[O])}}for(var h=0;h<u;++h){for(var k=f[h],B=0,m=0;m<3;++m)B+=k[m]*k[m];if(B>g)for(var I=1/Math.sqrt(B),m=0;m<3;++m)k[m]*=I;else for(var m=0;m<3;++m)k[m]=0}return f},p.faceNormals=function(o,n,l){for(var u=o.length,f=new Array(u),g=l===void 0?t:l,h=0;h<u;++h){for(var w=o[h],c=new Array(3),a=0;a<3;++a)c[a]=n[w[a]];for(var d=new Array(3),x=new Array(3),a=0;a<3;++a)d[a]=c[1][a]-c[0][a],x[a]=c[2][a]-c[0][a];for(var T=new Array(3),C=0,a=0;a<3;++a){var y=(a+1)%3,S=(a+2)%3;T[a]=d[y]*x[S]-d[S]*x[y],C+=T[a]*T[a]}C>g?C=1/Math.sqrt(C):C=0;for(var a=0;a<3;++a)T[a]*=C;f[h]=T}return f}},4081:function(v){v.exports=p;function p(r,t,o,n,l,u,f,g,h,w){var c=t+u+w;if(a>0){var a=Math.sqrt(c+1);r[0]=.5*(f-h)/a,r[1]=.5*(g-n)/a,r[2]=.5*(o-u)/a,r[3]=.5*a}else{var d=Math.max(t,u,w),a=Math.sqrt(2*d-c+1);t>=d?(r[0]=.5*a,r[1]=.5*(l+o)/a,r[2]=.5*(g+n)/a,r[3]=.5*(f-h)/a):u>=d?(r[0]=.5*(o+l)/a,r[1]=.5*a,r[2]=.5*(h+f)/a,r[3]=.5*(g-n)/a):(r[0]=.5*(n+g)/a,r[1]=.5*(f+h)/a,r[2]=.5*a,r[3]=.5*(o-l)/a)}return r}},9977:function(v,p,r){v.exports=a;var t=r(9215),o=r(6582),n=r(7399),l=r(7608),u=r(4081);function f(d,x,T){return Math.sqrt(Math.pow(d,2)+Math.pow(x,2)+Math.pow(T,2))}function g(d,x,T,C){return Math.sqrt(Math.pow(d,2)+Math.pow(x,2)+Math.pow(T,2)+Math.pow(C,2))}function h(d,x){var T=x[0],C=x[1],y=x[2],S=x[3],A=g(T,C,y,S);A>1e-6?(d[0]=T/A,d[1]=C/A,d[2]=y/A,d[3]=S/A):(d[0]=d[1]=d[2]=0,d[3]=1)}function w(d,x,T){this.radius=t([T]),this.center=t(x),this.rotation=t(d),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var c=w.prototype;c.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},c.recalcMatrix=function(d){this.radius.curve(d),this.center.curve(d),this.rotation.curve(d);var x=this.computedRotation;h(x,x);var T=this.computedMatrix;n(T,x);var C=this.computedCenter,y=this.computedEye,S=this.computedUp,A=Math.exp(this.computedRadius[0]);y[0]=C[0]+A*T[2],y[1]=C[1]+A*T[6],y[2]=C[2]+A*T[10],S[0]=T[1],S[1]=T[5],S[2]=T[9];for(var i=0;i<3;++i){for(var E=0,m=0;m<3;++m)E+=T[i+4*m]*y[m];T[12+i]=-E}},c.getMatrix=function(d,x){this.recalcMatrix(d);var T=this.computedMatrix;if(x){for(var C=0;C<16;++C)x[C]=T[C];return x}return T},c.idle=function(d){this.center.idle(d),this.radius.idle(d),this.rotation.idle(d)},c.flush=function(d){this.center.flush(d),this.radius.flush(d),this.rotation.flush(d)},c.pan=function(d,x,T,C){x=x||0,T=T||0,C=C||0,this.recalcMatrix(d);var y=this.computedMatrix,S=y[1],A=y[5],i=y[9],E=f(S,A,i);S/=E,A/=E,i/=E;var m=y[0],k=y[4],I=y[8],O=m*S+k*A+I*i;m-=S*O,k-=A*O,I-=i*O;var _=f(m,k,I);m/=_,k/=_,I/=_,y[2],y[6],y[10];var B=m*x+S*T,F=k*x+A*T,z=I*x+i*T;this.center.move(d,B,F,z);var N=Math.exp(this.computedRadius[0]);N=Math.max(1e-4,N+C),this.radius.set(d,Math.log(N))},c.rotate=function(d,x,T,C){this.recalcMatrix(d),x=x||0,T=T||0;var y=this.computedMatrix,S=y[0],A=y[4],i=y[8],E=y[1],m=y[5],k=y[9],I=y[2],O=y[6],_=y[10],B=x*S+T*E,F=x*A+T*m,z=x*i+T*k,N=-(O*z-_*F),W=-(_*B-I*z),Z=-(I*F-O*B),q=Math.sqrt(Math.max(0,1-Math.pow(N,2)-Math.pow(W,2)-Math.pow(Z,2))),re=g(N,W,Z,q);re>1e-6?(N/=re,W/=re,Z/=re,q/=re):(N=W=Z=0,q=1);var le=this.computedRotation,ie=le[0],K=le[1],$=le[2],X=le[3],Q=ie*q+X*N+K*Z-$*W,se=K*q+X*W+$*N-ie*Z,J=$*q+X*Z+ie*W-K*N,G=X*q-ie*N-K*W-$*Z;if(C){N=I,W=O,Z=_;var oe=Math.sin(C)/f(N,W,Z);N*=oe,W*=oe,Z*=oe,q=Math.cos(x),Q=Q*q+G*N+se*Z-J*W,se=se*q+G*W+J*N-Q*Z,J=J*q+G*Z+Q*W-se*N,G=G*q-Q*N-se*W-J*Z}var te=g(Q,se,J,G);te>1e-6?(Q/=te,se/=te,J/=te,G/=te):(Q=se=J=0,G=1),this.rotation.set(d,Q,se,J,G)},c.lookAt=function(d,x,T,C){this.recalcMatrix(d),T=T||this.computedCenter,x=x||this.computedEye,C=C||this.computedUp;var y=this.computedMatrix;o(y,x,T,C);var S=this.computedRotation;u(S,y[0],y[1],y[2],y[4],y[5],y[6],y[8],y[9],y[10]),h(S,S),this.rotation.set(d,S[0],S[1],S[2],S[3]);for(var A=0,i=0;i<3;++i)A+=Math.pow(T[i]-x[i],2);this.radius.set(d,.5*Math.log(Math.max(A,1e-6))),this.center.set(d,T[0],T[1],T[2])},c.translate=function(d,x,T,C){this.center.move(d,x||0,T||0,C||0)},c.setMatrix=function(d,x){var T=this.computedRotation;u(T,x[0],x[1],x[2],x[4],x[5],x[6],x[8],x[9],x[10]),h(T,T),this.rotation.set(d,T[0],T[1],T[2],T[3]);var C=this.computedMatrix;l(C,x);var y=C[15];if(Math.abs(y)>1e-6){var S=C[12]/y,A=C[13]/y,i=C[14]/y;this.recalcMatrix(d);var E=Math.exp(this.computedRadius[0]);this.center.set(d,S-C[2]*E,A-C[6]*E,i-C[10]*E),this.radius.idle(d)}else this.center.idle(d),this.radius.idle(d)},c.setDistance=function(d,x){x>0&&this.radius.set(d,Math.log(x))},c.setDistanceLimits=function(d,x){d>0?d=Math.log(d):d=-1/0,x>0?x=Math.log(x):x=1/0,x=Math.max(x,d),this.radius.bounds[0][0]=d,this.radius.bounds[1][0]=x},c.getDistanceLimits=function(d){var x=this.radius.bounds;return d?(d[0]=Math.exp(x[0][0]),d[1]=Math.exp(x[1][0]),d):[Math.exp(x[0][0]),Math.exp(x[1][0])]},c.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},c.fromJSON=function(d){var x=this.lastT(),T=d.center;T&&this.center.set(x,T[0],T[1],T[2]);var C=d.rotation;C&&this.rotation.set(x,C[0],C[1],C[2],C[3]);var y=d.distance;y&&y>0&&this.radius.set(x,Math.log(y)),this.setDistanceLimits(d.zoomMin,d.zoomMax)};function a(d){d=d||{};var x=d.center||[0,0,0],T=d.rotation||[0,0,0,1],C=d.radius||1;x=[].slice.call(x,0,3),T=[].slice.call(T,0,4),h(T,T);var y=new w(T,x,Math.log(C));return y.setDistanceLimits(d.zoomMin,d.zoomMax),("eye"in d||"up"in d)&&y.lookAt(0,d.eye,d.center,d.up),y}},1371:function(v,p,r){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var t=r(3233);v.exports=function(n,l,u){return u=typeof u<"u"?u+"":" ",t(u,l)+n}},3202:function(v){v.exports=function(r,t){t||(t=[0,""]),r=String(r);var o=parseFloat(r,10);return t[0]=o,t[1]=r.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},3088:function(v,p,r){v.exports=o;var t=r(3140);function o(n,l){for(var u=l.length|0,f=n.length,g=[new Array(u),new Array(u)],h=0;h<u;++h)g[0][h]=[],g[1][h]=[];for(var h=0;h<f;++h){var w=n[h];g[0][w[0]].push(w),g[1][w[1]].push(w)}for(var c=[],h=0;h<u;++h)g[0][h].length+g[1][h].length===0&&c.push([h]);function a(A,i){var E=g[i][A[i]];E.splice(E.indexOf(A),1)}function d(A,i,E){for(var m,k,I,O=0;O<2;++O)if(g[O][i].length>0){m=g[O][i][0],I=O;break}k=m[I^1];for(var _=0;_<2;++_)for(var B=g[_][i],F=0;F<B.length;++F){var z=B[F],N=z[_^1],W=t(l[A],l[i],l[k],l[N]);W>0&&(m=z,k=N,I=_)}return E||m&&a(m,I),k}function x(A,i){var E=g[i][A][0],m=[A];a(E,i);for(var k=E[i^1];;){for(;k!==A;)m.push(k),k=d(m[m.length-2],k,!1);if(g[0][A].length+g[1][A].length===0)break;var I=m[m.length-1],O=A,_=m[1],B=d(I,O,!0);if(t(l[I],l[O],l[_],l[B])<0)break;m.push(A),k=d(I,O)}return m}function T(A,i){return i[1]===i[i.length-1]}for(var h=0;h<u;++h)for(var C=0;C<2;++C){for(var y=[];g[C][h].length>0;){g[0][h].length;var S=x(h,C);T(y,S)?y.push.apply(y,S):(y.length>0&&c.push(y),y=S)}y.length>0&&c.push(y)}return c}},5609:function(v,p,r){v.exports=o;var t=r(3134);function o(n,l){for(var u=t(n,l.length),f=new Array(l.length),g=new Array(l.length),h=[],w=0;w<l.length;++w){var c=u[w].length;g[w]=c,f[w]=!0,c<=1&&h.push(w)}for(;h.length>0;){var a=h.pop();f[a]=!1;for(var d=u[a],w=0;w<d.length;++w){var x=d[w];--g[x]===0&&h.push(x)}}for(var T=new Array(l.length),C=[],w=0;w<l.length;++w)if(f[w]){var a=C.length;T[w]=a,C.push(l[w])}else T[w]=-1;for(var y=[],w=0;w<n.length;++w){var S=n[w];f[S[0]]&&f[S[1]]&&y.push([T[S[0]],T[S[1]]])}return[y,C]}},2095:function(v,p,r){v.exports=c;var t=r(3134),o=r(3088),n=r(5085),l=r(5250),u=r(8210),f=r(1682),g=r(5609);function h(a,d){for(var x=new Array(a),T=0;T<a;++T)x[T]=d;return x}function w(a){for(var d=new Array(a),x=0;x<a;++x)d[x]=[];return d}function c(a,d){var G=g(a,d);a=G[0],d=G[1];var x=d.length;a.length;for(var T=t(a,d.length),C=0;C<x;++C)if(T[C].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var y=o(a,d);function S(Ce){for(var De=Ce.length,Oe=[0],Te=0;Te<De;++Te){var Re=d[Ce[Te]],Me=d[Ce[(Te+1)%De]],ke=l(-Re[0],Re[1]),Se=l(-Re[0],Me[1]),He=l(Me[0],Re[1]),je=l(Me[0],Me[1]);Oe=u(Oe,u(u(ke,Se),u(He,je)))}return Oe[Oe.length-1]>0}y=y.filter(S);for(var A=y.length,i=new Array(A),E=new Array(A),C=0;C<A;++C){i[C]=C;var m=new Array(A),k=y[C].map(function(De){return d[De]}),I=n([k]),O=0;e:for(var _=0;_<A;++_)if(m[_]=0,C!==_){for(var B=y[_],F=B.length,z=0;z<F;++z){var N=I(d[B[z]]);if(N!==0){N<0&&(m[_]=1,O+=1);continue e}}m[_]=1,O+=1}E[C]=[O,C,m]}E.sort(function(Ce,De){return De[0]-Ce[0]});for(var C=0;C<A;++C)for(var m=E[C],W=m[1],Z=m[2],_=0;_<A;++_)Z[_]&&(i[_]=W);for(var q=w(A),C=0;C<A;++C)q[C].push(i[C]),q[i[C]].push(C);for(var re={},le=h(x,!1),C=0;C<A;++C)for(var B=y[C],F=B.length,_=0;_<F;++_){var ie=B[_],K=B[(_+1)%F],$=Math.min(ie,K)+":"+Math.max(ie,K);if($ in re){var X=re[$];q[X].push(C),q[C].push(X),le[ie]=le[K]=!0}else re[$]=C}function Q(Ce){for(var De=Ce.length,Oe=0;Oe<De;++Oe)if(!le[Ce[Oe]])return!1;return!0}for(var se=[],J=h(A,-1),C=0;C<A;++C)i[C]===C&&!Q(y[C])?(se.push(C),J[C]=0):J[C]=-1;for(var G=[];se.length>0;){var oe=se.pop(),te=q[oe];f(te,function(Ce,De){return Ce-De});var fe=te.length,ge=J[oe],we;if(ge===0){var B=y[oe];we=[B]}for(var C=0;C<fe;++C){var xe=te[C];if(!(J[xe]>=0)&&(J[xe]=ge^1,se.push(xe),ge===0)){var B=y[xe];Q(B)||(B.reverse(),we.push(B))}}ge===0&&G.push(we)}return G}},5085:function(v,p,r){v.exports=d;var t=r(3250)[3],o=r(4209),n=r(3352),l=r(2478);function u(){return!0}function f(x){return function(T,C){var y=x[T];return y?!!y.queryPoint(C,u):!1}}function g(x){for(var T={},C=0;C<x.length;++C){var y=x[C],S=y[0][0],A=y[0][1],i=y[1][1],E=[Math.min(A,i),Math.max(A,i)];S in T?T[S].push(E):T[S]=[E]}for(var m={},k=Object.keys(T),C=0;C<k.length;++C){var I=T[k[C]];m[k[C]]=n(I)}return f(m)}function h(x,T){return function(C){var y=l.le(T,C[0]);if(y<0)return 1;var S=x[y];if(!S)if(y>0&&T[y]===C[0])S=x[y-1];else return 1;for(var A=1;S;){var i=S.key,E=t(C,i[0],i[1]);if(i[0][0]<i[1][0])if(E<0)S=S.left;else if(E>0)A=-1,S=S.right;else return 0;else if(E>0)S=S.left;else if(E<0)A=1,S=S.right;else return 0}return A}}function w(x){return 1}function c(x){return function(C){return x(C[0],C[1])?0:1}}function a(x,T){return function(y){return x(y[0],y[1])?0:T(y)}}function d(x){for(var T=x.length,C=[],y=[],S=0;S<T;++S)for(var A=x[S],i=A.length,E=i-1,m=0;m<i;E=m++){var k=A[E],I=A[m];k[0]===I[0]?y.push([k,I]):C.push([k,I])}if(C.length===0)return y.length===0?w:c(g(y));var O=o(C),_=h(O.slabs,O.coordinates);return y.length===0?_:a(g(y),_)}},9346:function(v){var p=new Float64Array(4),r=new Float64Array(4),t=new Float64Array(4);function o(n,l,u,f,g){p.length<f.length&&(p=new Float64Array(f.length),r=new Float64Array(f.length),t=new Float64Array(f.length));for(var h=0;h<f.length;++h)p[h]=n[h]-f[h],r[h]=l[h]-n[h],t[h]=u[h]-n[h];for(var w=0,c=0,a=0,d=0,x=0,T=0,h=0;h<f.length;++h){var C=r[h],y=t[h],S=p[h];w+=C*C,c+=C*y,a+=y*y,d+=S*C,x+=S*y,T+=S*S}var A=Math.abs(w*a-c*c),i=c*x-a*d,E=c*d-w*x,m;if(i+E<=A)if(i<0)E<0&&d<0?(E=0,-d>=w?(i=1,m=w+2*d+T):(i=-d/w,m=d*i+T)):(i=0,x>=0?(E=0,m=T):-x>=a?(E=1,m=a+2*x+T):(E=-x/a,m=x*E+T));else if(E<0)E=0,d>=0?(i=0,m=T):-d>=w?(i=1,m=w+2*d+T):(i=-d/w,m=d*i+T);else{var k=1/A;i*=k,E*=k,m=i*(w*i+c*E+2*d)+E*(c*i+a*E+2*x)+T}else{var I,O,_,B;i<0?(I=c+d,O=a+x,O>I?(_=O-I,B=w-2*c+a,_>=B?(i=1,E=0,m=w+2*d+T):(i=_/B,E=1-i,m=i*(w*i+c*E+2*d)+E*(c*i+a*E+2*x)+T)):(i=0,O<=0?(E=1,m=a+2*x+T):x>=0?(E=0,m=T):(E=-x/a,m=x*E+T))):E<0?(I=c+x,O=w+d,O>I?(_=O-I,B=w-2*c+a,_>=B?(E=1,i=0,m=a+2*x+T):(E=_/B,i=1-E,m=i*(w*i+c*E+2*d)+E*(c*i+a*E+2*x)+T)):(E=0,O<=0?(i=1,m=w+2*d+T):d>=0?(i=0,m=T):(i=-d/w,m=d*i+T))):(_=a+x-c-d,_<=0?(i=0,E=1,m=a+2*x+T):(B=w-2*c+a,_>=B?(i=1,E=0,m=w+2*d+T):(i=_/B,E=1-i,m=i*(w*i+c*E+2*d)+E*(c*i+a*E+2*x)+T)))}for(var F=1-i-E,h=0;h<f.length;++h)g[h]=F*n[h]+i*l[h]+E*u[h];return m<0?0:m}v.exports=o},8648:function(v,p,r){v.exports=r(783)},2653:function(v,p,r){var t=r(3865);v.exports=o;function o(n,l){for(var u=n.length,f=new Array(u),g=0;g<u;++g)f[g]=t(n[g],l[g]);return f}},5838:function(v,p,r){v.exports=o;var t=r(7842);function o(n){for(var l=new Array(n.length),u=0;u<n.length;++u)l[u]=t(n[u]);return l}},8987:function(v,p,r){var t=r(7842),o=r(6504);v.exports=n;function n(l,u){for(var f=t(u),g=l.length,h=new Array(g),w=0;w<g;++w)h[w]=o(l[w],f);return h}},544:function(v,p,r){var t=r(5572);v.exports=o;function o(n,l){for(var u=n.length,f=new Array(u),g=0;g<u;++g)f[g]=t(n[g],l[g]);return f}},5771:function(v,p,r){var t=r(8507),o=r(3788),n=r(2419);v.exports=l;function l(u){u.sort(o);for(var f=u.length,g=0,h=0;h<f;++h){var w=u[h],c=n(w);if(c!==0){if(g>0){var a=u[g-1];if(t(w,a)===0&&n(a)!==c){g-=1;continue}}u[g++]=w}}return u.length=g,u}},3233:function(v){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var p="",r;v.exports=t;function t(o,n){if(typeof o!="string")throw new TypeError("expected a string");if(n===1)return o;if(n===2)return o+o;var l=o.length*n;if(r!==o||typeof r>"u")r=o,p="";else if(p.length>=l)return p.substr(0,l);for(;l>p.length&&n>1;)n&1&&(p+=o),n>>=1,o+=o;return p+=o,p=p.substr(0,l),p}},3025:function(v,p,r){v.exports=r.g.performance&&r.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},7004:function(v){v.exports=p;function p(r){for(var t=r.length,o=r[r.length-1],n=t,l=t-2;l>=0;--l){var u=o,f=r[l];o=u+f;var g=o-u,h=f-g;h&&(r[--n]=o,o=h)}for(var w=0,l=n;l<t;++l){var u=r[l],f=o;o=u+f;var g=o-u,h=f-g;h&&(r[w++]=h)}return r[w++]=o,r.length=w,r}},2962:function(v,p,r){var t=r(5250),o=r(8210),n=r(3012),l=r(7004),u=6;function f(T,C,y,S){return function(i){return S(T(y(i[0][0],i[1][1]),y(-i[0][1],i[1][0])))}}function g(T,C,y,S){return function(i){return S(T(C(T(y(i[1][1],i[2][2]),y(-i[1][2],i[2][1])),i[0][0]),T(C(T(y(i[1][0],i[2][2]),y(-i[1][2],i[2][0])),-i[0][1]),C(T(y(i[1][0],i[2][1]),y(-i[1][1],i[2][0])),i[0][2]))))}}function h(T,C,y,S){return function(i){return S(T(T(C(T(C(T(y(i[2][2],i[3][3]),y(-i[2][3],i[3][2])),i[1][1]),T(C(T(y(i[2][1],i[3][3]),y(-i[2][3],i[3][1])),-i[1][2]),C(T(y(i[2][1],i[3][2]),y(-i[2][2],i[3][1])),i[1][3]))),i[0][0]),C(T(C(T(y(i[2][2],i[3][3]),y(-i[2][3],i[3][2])),i[1][0]),T(C(T(y(i[2][0],i[3][3]),y(-i[2][3],i[3][0])),-i[1][2]),C(T(y(i[2][0],i[3][2]),y(-i[2][2],i[3][0])),i[1][3]))),-i[0][1])),T(C(T(C(T(y(i[2][1],i[3][3]),y(-i[2][3],i[3][1])),i[1][0]),T(C(T(y(i[2][0],i[3][3]),y(-i[2][3],i[3][0])),-i[1][1]),C(T(y(i[2][0],i[3][1]),y(-i[2][1],i[3][0])),i[1][3]))),i[0][2]),C(T(C(T(y(i[2][1],i[3][2]),y(-i[2][2],i[3][1])),i[1][0]),T(C(T(y(i[2][0],i[3][2]),y(-i[2][2],i[3][0])),-i[1][1]),C(T(y(i[2][0],i[3][1]),y(-i[2][1],i[3][0])),i[1][2]))),-i[0][3]))))}}function w(T,C,y,S){return function(i){return S(T(T(C(T(T(C(T(C(T(y(i[3][3],i[4][4]),y(-i[3][4],i[4][3])),i[2][2]),T(C(T(y(i[3][2],i[4][4]),y(-i[3][4],i[4][2])),-i[2][3]),C(T(y(i[3][2],i[4][3]),y(-i[3][3],i[4][2])),i[2][4]))),i[1][1]),C(T(C(T(y(i[3][3],i[4][4]),y(-i[3][4],i[4][3])),i[2][1]),T(C(T(y(i[3][1],i[4][4]),y(-i[3][4],i[4][1])),-i[2][3]),C(T(y(i[3][1],i[4][3]),y(-i[3][3],i[4][1])),i[2][4]))),-i[1][2])),T(C(T(C(T(y(i[3][2],i[4][4]),y(-i[3][4],i[4][2])),i[2][1]),T(C(T(y(i[3][1],i[4][4]),y(-i[3][4],i[4][1])),-i[2][2]),C(T(y(i[3][1],i[4][2]),y(-i[3][2],i[4][1])),i[2][4]))),i[1][3]),C(T(C(T(y(i[3][2],i[4][3]),y(-i[3][3],i[4][2])),i[2][1]),T(C(T(y(i[3][1],i[4][3]),y(-i[3][3],i[4][1])),-i[2][2]),C(T(y(i[3][1],i[4][2]),y(-i[3][2],i[4][1])),i[2][3]))),-i[1][4]))),i[0][0]),C(T(T(C(T(C(T(y(i[3][3],i[4][4]),y(-i[3][4],i[4][3])),i[2][2]),T(C(T(y(i[3][2],i[4][4]),y(-i[3][4],i[4][2])),-i[2][3]),C(T(y(i[3][2],i[4][3]),y(-i[3][3],i[4][2])),i[2][4]))),i[1][0]),C(T(C(T(y(i[3][3],i[4][4]),y(-i[3][4],i[4][3])),i[2][0]),T(C(T(y(i[3][0],i[4][4]),y(-i[3][4],i[4][0])),-i[2][3]),C(T(y(i[3][0],i[4][3]),y(-i[3][3],i[4][0])),i[2][4]))),-i[1][2])),T(C(T(C(T(y(i[3][2],i[4][4]),y(-i[3][4],i[4][2])),i[2][0]),T(C(T(y(i[3][0],i[4][4]),y(-i[3][4],i[4][0])),-i[2][2]),C(T(y(i[3][0],i[4][2]),y(-i[3][2],i[4][0])),i[2][4]))),i[1][3]),C(T(C(T(y(i[3][2],i[4][3]),y(-i[3][3],i[4][2])),i[2][0]),T(C(T(y(i[3][0],i[4][3]),y(-i[3][3],i[4][0])),-i[2][2]),C(T(y(i[3][0],i[4][2]),y(-i[3][2],i[4][0])),i[2][3]))),-i[1][4]))),-i[0][1])),T(C(T(T(C(T(C(T(y(i[3][3],i[4][4]),y(-i[3][4],i[4][3])),i[2][1]),T(C(T(y(i[3][1],i[4][4]),y(-i[3][4],i[4][1])),-i[2][3]),C(T(y(i[3][1],i[4][3]),y(-i[3][3],i[4][1])),i[2][4]))),i[1][0]),C(T(C(T(y(i[3][3],i[4][4]),y(-i[3][4],i[4][3])),i[2][0]),T(C(T(y(i[3][0],i[4][4]),y(-i[3][4],i[4][0])),-i[2][3]),C(T(y(i[3][0],i[4][3]),y(-i[3][3],i[4][0])),i[2][4]))),-i[1][1])),T(C(T(C(T(y(i[3][1],i[4][4]),y(-i[3][4],i[4][1])),i[2][0]),T(C(T(y(i[3][0],i[4][4]),y(-i[3][4],i[4][0])),-i[2][1]),C(T(y(i[3][0],i[4][1]),y(-i[3][1],i[4][0])),i[2][4]))),i[1][3]),C(T(C(T(y(i[3][1],i[4][3]),y(-i[3][3],i[4][1])),i[2][0]),T(C(T(y(i[3][0],i[4][3]),y(-i[3][3],i[4][0])),-i[2][1]),C(T(y(i[3][0],i[4][1]),y(-i[3][1],i[4][0])),i[2][3]))),-i[1][4]))),i[0][2]),T(C(T(T(C(T(C(T(y(i[3][2],i[4][4]),y(-i[3][4],i[4][2])),i[2][1]),T(C(T(y(i[3][1],i[4][4]),y(-i[3][4],i[4][1])),-i[2][2]),C(T(y(i[3][1],i[4][2]),y(-i[3][2],i[4][1])),i[2][4]))),i[1][0]),C(T(C(T(y(i[3][2],i[4][4]),y(-i[3][4],i[4][2])),i[2][0]),T(C(T(y(i[3][0],i[4][4]),y(-i[3][4],i[4][0])),-i[2][2]),C(T(y(i[3][0],i[4][2]),y(-i[3][2],i[4][0])),i[2][4]))),-i[1][1])),T(C(T(C(T(y(i[3][1],i[4][4]),y(-i[3][4],i[4][1])),i[2][0]),T(C(T(y(i[3][0],i[4][4]),y(-i[3][4],i[4][0])),-i[2][1]),C(T(y(i[3][0],i[4][1]),y(-i[3][1],i[4][0])),i[2][4]))),i[1][2]),C(T(C(T(y(i[3][1],i[4][2]),y(-i[3][2],i[4][1])),i[2][0]),T(C(T(y(i[3][0],i[4][2]),y(-i[3][2],i[4][0])),-i[2][1]),C(T(y(i[3][0],i[4][1]),y(-i[3][1],i[4][0])),i[2][2]))),-i[1][4]))),-i[0][3]),C(T(T(C(T(C(T(y(i[3][2],i[4][3]),y(-i[3][3],i[4][2])),i[2][1]),T(C(T(y(i[3][1],i[4][3]),y(-i[3][3],i[4][1])),-i[2][2]),C(T(y(i[3][1],i[4][2]),y(-i[3][2],i[4][1])),i[2][3]))),i[1][0]),C(T(C(T(y(i[3][2],i[4][3]),y(-i[3][3],i[4][2])),i[2][0]),T(C(T(y(i[3][0],i[4][3]),y(-i[3][3],i[4][0])),-i[2][2]),C(T(y(i[3][0],i[4][2]),y(-i[3][2],i[4][0])),i[2][3]))),-i[1][1])),T(C(T(C(T(y(i[3][1],i[4][3]),y(-i[3][3],i[4][1])),i[2][0]),T(C(T(y(i[3][0],i[4][3]),y(-i[3][3],i[4][0])),-i[2][1]),C(T(y(i[3][0],i[4][1]),y(-i[3][1],i[4][0])),i[2][3]))),i[1][2]),C(T(C(T(y(i[3][1],i[4][2]),y(-i[3][2],i[4][1])),i[2][0]),T(C(T(y(i[3][0],i[4][2]),y(-i[3][2],i[4][0])),-i[2][1]),C(T(y(i[3][0],i[4][1]),y(-i[3][1],i[4][0])),i[2][2]))),-i[1][3]))),i[0][4])))))}}function c(T){var C=T===2?f:T===3?g:T===4?h:T===5?w:void 0;return C(o,n,t,l)}var a=[function(){return[0]},function(C){return[C[0][0]]}];function d(T,C,y,S,A,i,E,m){return function(I){switch(I.length){case 0:return T(I);case 1:return C(I);case 2:return y(I);case 3:return S(I);case 4:return A(I);case 5:return i(I)}var O=E[I.length];return O||(O=E[I.length]=m(I.length)),O(I)}}function x(){for(;a.length<u;)a.push(c(a.length));v.exports=d.apply(void 0,a.concat([a,c]));for(var T=0;T<a.length;++T)v.exports[T]=a[T]}x()},1944:function(v,p,r){var t=r(5250),o=r(8210);v.exports=n;function n(l,u){for(var f=t(l[0],u[0]),g=1;g<l.length;++g)f=o(f,t(l[g],u[g]));return f}},2646:function(v,p,r){var t=r(5250),o=r(8210),n=r(8545),l=r(3012),u=6;function f(A){var i=A===3?c:A===4?a:A===5?d:x;return i(o,n,t,l)}function g(){return 0}function h(){return 0}function w(){return 0}function c(A,i,E,m){function k(I,O,_){var B=E(I[0],I[0]),F=m(B,O[0]),z=m(B,_[0]),N=E(O[0],O[0]),W=m(N,I[0]),Z=m(N,_[0]),q=E(_[0],_[0]),re=m(q,I[0]),le=m(q,O[0]),ie=A(i(le,Z),i(W,F)),K=i(re,z),$=i(ie,K);return $[$.length-1]}return k}function a(A,i,E,m){function k(I,O,_,B){var F=A(E(I[0],I[0]),E(I[1],I[1])),z=m(F,O[0]),N=m(F,_[0]),W=m(F,B[0]),Z=A(E(O[0],O[0]),E(O[1],O[1])),q=m(Z,I[0]),re=m(Z,_[0]),le=m(Z,B[0]),ie=A(E(_[0],_[0]),E(_[1],_[1])),K=m(ie,I[0]),$=m(ie,O[0]),X=m(ie,B[0]),Q=A(E(B[0],B[0]),E(B[1],B[1])),se=m(Q,I[0]),J=m(Q,O[0]),G=m(Q,_[0]),oe=A(A(m(i(G,X),O[1]),A(m(i(J,le),-_[1]),m(i($,re),B[1]))),A(m(i(J,le),I[1]),A(m(i(se,W),-O[1]),m(i(q,z),B[1])))),te=A(A(m(i(G,X),I[1]),A(m(i(se,W),-_[1]),m(i(K,N),B[1]))),A(m(i($,re),I[1]),A(m(i(K,N),-O[1]),m(i(q,z),_[1])))),fe=i(oe,te);return fe[fe.length-1]}return k}function d(A,i,E,m){function k(I,O,_,B,F){var z=A(E(I[0],I[0]),A(E(I[1],I[1]),E(I[2],I[2]))),N=m(z,O[0]),W=m(z,_[0]),Z=m(z,B[0]),q=m(z,F[0]),re=A(E(O[0],O[0]),A(E(O[1],O[1]),E(O[2],O[2]))),le=m(re,I[0]),ie=m(re,_[0]),K=m(re,B[0]),$=m(re,F[0]),X=A(E(_[0],_[0]),A(E(_[1],_[1]),E(_[2],_[2]))),Q=m(X,I[0]),se=m(X,O[0]),J=m(X,B[0]),G=m(X,F[0]),oe=A(E(B[0],B[0]),A(E(B[1],B[1]),E(B[2],B[2]))),te=m(oe,I[0]),fe=m(oe,O[0]),ge=m(oe,_[0]),we=m(oe,F[0]),xe=A(E(F[0],F[0]),A(E(F[1],F[1]),E(F[2],F[2]))),Ce=m(xe,I[0]),De=m(xe,O[0]),Oe=m(xe,_[0]),Te=m(xe,B[0]),Re=A(A(A(m(A(m(i(Te,we),_[1]),A(m(i(Oe,G),-B[1]),m(i(ge,J),F[1]))),O[2]),A(m(A(m(i(Te,we),O[1]),A(m(i(De,$),-B[1]),m(i(fe,K),F[1]))),-_[2]),m(A(m(i(Oe,G),O[1]),A(m(i(De,$),-_[1]),m(i(se,ie),F[1]))),B[2]))),A(m(A(m(i(ge,J),O[1]),A(m(i(fe,K),-_[1]),m(i(se,ie),B[1]))),-F[2]),A(m(A(m(i(Te,we),O[1]),A(m(i(De,$),-B[1]),m(i(fe,K),F[1]))),I[2]),m(A(m(i(Te,we),I[1]),A(m(i(Ce,q),-B[1]),m(i(te,Z),F[1]))),-O[2])))),A(A(m(A(m(i(De,$),I[1]),A(m(i(Ce,q),-O[1]),m(i(le,N),F[1]))),B[2]),A(m(A(m(i(fe,K),I[1]),A(m(i(te,Z),-O[1]),m(i(le,N),B[1]))),-F[2]),m(A(m(i(ge,J),O[1]),A(m(i(fe,K),-_[1]),m(i(se,ie),B[1]))),I[2]))),A(m(A(m(i(ge,J),I[1]),A(m(i(te,Z),-_[1]),m(i(Q,W),B[1]))),-O[2]),A(m(A(m(i(fe,K),I[1]),A(m(i(te,Z),-O[1]),m(i(le,N),B[1]))),_[2]),m(A(m(i(se,ie),I[1]),A(m(i(Q,W),-O[1]),m(i(le,N),_[1]))),-B[2]))))),Me=A(A(A(m(A(m(i(Te,we),_[1]),A(m(i(Oe,G),-B[1]),m(i(ge,J),F[1]))),I[2]),m(A(m(i(Te,we),I[1]),A(m(i(Ce,q),-B[1]),m(i(te,Z),F[1]))),-_[2])),A(m(A(m(i(Oe,G),I[1]),A(m(i(Ce,q),-_[1]),m(i(Q,W),F[1]))),B[2]),m(A(m(i(ge,J),I[1]),A(m(i(te,Z),-_[1]),m(i(Q,W),B[1]))),-F[2]))),A(A(m(A(m(i(Oe,G),O[1]),A(m(i(De,$),-_[1]),m(i(se,ie),F[1]))),I[2]),m(A(m(i(Oe,G),I[1]),A(m(i(Ce,q),-_[1]),m(i(Q,W),F[1]))),-O[2])),A(m(A(m(i(De,$),I[1]),A(m(i(Ce,q),-O[1]),m(i(le,N),F[1]))),_[2]),m(A(m(i(se,ie),I[1]),A(m(i(Q,W),-O[1]),m(i(le,N),_[1]))),-F[2])))),ke=i(Re,Me);return ke[ke.length-1]}return k}function x(A,i,E,m){function k(I,O,_,B,F,z){var N=A(A(E(I[0],I[0]),E(I[1],I[1])),A(E(I[2],I[2]),E(I[3],I[3]))),W=m(N,O[0]),Z=m(N,_[0]),q=m(N,B[0]),re=m(N,F[0]),le=m(N,z[0]),ie=A(A(E(O[0],O[0]),E(O[1],O[1])),A(E(O[2],O[2]),E(O[3],O[3]))),K=m(ie,I[0]),$=m(ie,_[0]),X=m(ie,B[0]),Q=m(ie,F[0]),se=m(ie,z[0]),J=A(A(E(_[0],_[0]),E(_[1],_[1])),A(E(_[2],_[2]),E(_[3],_[3]))),G=m(J,I[0]),oe=m(J,O[0]),te=m(J,B[0]),fe=m(J,F[0]),ge=m(J,z[0]),we=A(A(E(B[0],B[0]),E(B[1],B[1])),A(E(B[2],B[2]),E(B[3],B[3]))),xe=m(we,I[0]),Ce=m(we,O[0]),De=m(we,_[0]),Oe=m(we,F[0]),Te=m(we,z[0]),Re=A(A(E(F[0],F[0]),E(F[1],F[1])),A(E(F[2],F[2]),E(F[3],F[3]))),Me=m(Re,I[0]),ke=m(Re,O[0]),Se=m(Re,_[0]),He=m(Re,B[0]),je=m(Re,z[0]),at=A(A(E(z[0],z[0]),E(z[1],z[1])),A(E(z[2],z[2]),E(z[3],z[3]))),Ze=m(at,I[0]),$e=m(at,O[0]),ut=m(at,_[0]),ht=m(at,B[0]),vt=m(at,F[0]),xt=A(A(A(m(A(A(m(A(m(i(vt,je),B[1]),A(m(i(ht,Te),-F[1]),m(i(He,Oe),z[1]))),_[2]),m(A(m(i(vt,je),_[1]),A(m(i(ut,ge),-F[1]),m(i(Se,fe),z[1]))),-B[2])),A(m(A(m(i(ht,Te),_[1]),A(m(i(ut,ge),-B[1]),m(i(De,te),z[1]))),F[2]),m(A(m(i(He,Oe),_[1]),A(m(i(Se,fe),-B[1]),m(i(De,te),F[1]))),-z[2]))),O[3]),A(m(A(A(m(A(m(i(vt,je),B[1]),A(m(i(ht,Te),-F[1]),m(i(He,Oe),z[1]))),O[2]),m(A(m(i(vt,je),O[1]),A(m(i($e,se),-F[1]),m(i(ke,Q),z[1]))),-B[2])),A(m(A(m(i(ht,Te),O[1]),A(m(i($e,se),-B[1]),m(i(Ce,X),z[1]))),F[2]),m(A(m(i(He,Oe),O[1]),A(m(i(ke,Q),-B[1]),m(i(Ce,X),F[1]))),-z[2]))),-_[3]),m(A(A(m(A(m(i(vt,je),_[1]),A(m(i(ut,ge),-F[1]),m(i(Se,fe),z[1]))),O[2]),m(A(m(i(vt,je),O[1]),A(m(i($e,se),-F[1]),m(i(ke,Q),z[1]))),-_[2])),A(m(A(m(i(ut,ge),O[1]),A(m(i($e,se),-_[1]),m(i(oe,$),z[1]))),F[2]),m(A(m(i(Se,fe),O[1]),A(m(i(ke,Q),-_[1]),m(i(oe,$),F[1]))),-z[2]))),B[3]))),A(A(m(A(A(m(A(m(i(ht,Te),_[1]),A(m(i(ut,ge),-B[1]),m(i(De,te),z[1]))),O[2]),m(A(m(i(ht,Te),O[1]),A(m(i($e,se),-B[1]),m(i(Ce,X),z[1]))),-_[2])),A(m(A(m(i(ut,ge),O[1]),A(m(i($e,se),-_[1]),m(i(oe,$),z[1]))),B[2]),m(A(m(i(De,te),O[1]),A(m(i(Ce,X),-_[1]),m(i(oe,$),B[1]))),-z[2]))),-F[3]),m(A(A(m(A(m(i(He,Oe),_[1]),A(m(i(Se,fe),-B[1]),m(i(De,te),F[1]))),O[2]),m(A(m(i(He,Oe),O[1]),A(m(i(ke,Q),-B[1]),m(i(Ce,X),F[1]))),-_[2])),A(m(A(m(i(Se,fe),O[1]),A(m(i(ke,Q),-_[1]),m(i(oe,$),F[1]))),B[2]),m(A(m(i(De,te),O[1]),A(m(i(Ce,X),-_[1]),m(i(oe,$),B[1]))),-F[2]))),z[3])),A(m(A(A(m(A(m(i(vt,je),B[1]),A(m(i(ht,Te),-F[1]),m(i(He,Oe),z[1]))),O[2]),m(A(m(i(vt,je),O[1]),A(m(i($e,se),-F[1]),m(i(ke,Q),z[1]))),-B[2])),A(m(A(m(i(ht,Te),O[1]),A(m(i($e,se),-B[1]),m(i(Ce,X),z[1]))),F[2]),m(A(m(i(He,Oe),O[1]),A(m(i(ke,Q),-B[1]),m(i(Ce,X),F[1]))),-z[2]))),I[3]),m(A(A(m(A(m(i(vt,je),B[1]),A(m(i(ht,Te),-F[1]),m(i(He,Oe),z[1]))),I[2]),m(A(m(i(vt,je),I[1]),A(m(i(Ze,le),-F[1]),m(i(Me,re),z[1]))),-B[2])),A(m(A(m(i(ht,Te),I[1]),A(m(i(Ze,le),-B[1]),m(i(xe,q),z[1]))),F[2]),m(A(m(i(He,Oe),I[1]),A(m(i(Me,re),-B[1]),m(i(xe,q),F[1]))),-z[2]))),-O[3])))),A(A(A(m(A(A(m(A(m(i(vt,je),O[1]),A(m(i($e,se),-F[1]),m(i(ke,Q),z[1]))),I[2]),m(A(m(i(vt,je),I[1]),A(m(i(Ze,le),-F[1]),m(i(Me,re),z[1]))),-O[2])),A(m(A(m(i($e,se),I[1]),A(m(i(Ze,le),-O[1]),m(i(K,W),z[1]))),F[2]),m(A(m(i(ke,Q),I[1]),A(m(i(Me,re),-O[1]),m(i(K,W),F[1]))),-z[2]))),B[3]),m(A(A(m(A(m(i(ht,Te),O[1]),A(m(i($e,se),-B[1]),m(i(Ce,X),z[1]))),I[2]),m(A(m(i(ht,Te),I[1]),A(m(i(Ze,le),-B[1]),m(i(xe,q),z[1]))),-O[2])),A(m(A(m(i($e,se),I[1]),A(m(i(Ze,le),-O[1]),m(i(K,W),z[1]))),B[2]),m(A(m(i(Ce,X),I[1]),A(m(i(xe,q),-O[1]),m(i(K,W),B[1]))),-z[2]))),-F[3])),A(m(A(A(m(A(m(i(He,Oe),O[1]),A(m(i(ke,Q),-B[1]),m(i(Ce,X),F[1]))),I[2]),m(A(m(i(He,Oe),I[1]),A(m(i(Me,re),-B[1]),m(i(xe,q),F[1]))),-O[2])),A(m(A(m(i(ke,Q),I[1]),A(m(i(Me,re),-O[1]),m(i(K,W),F[1]))),B[2]),m(A(m(i(Ce,X),I[1]),A(m(i(xe,q),-O[1]),m(i(K,W),B[1]))),-F[2]))),z[3]),m(A(A(m(A(m(i(ht,Te),_[1]),A(m(i(ut,ge),-B[1]),m(i(De,te),z[1]))),O[2]),m(A(m(i(ht,Te),O[1]),A(m(i($e,se),-B[1]),m(i(Ce,X),z[1]))),-_[2])),A(m(A(m(i(ut,ge),O[1]),A(m(i($e,se),-_[1]),m(i(oe,$),z[1]))),B[2]),m(A(m(i(De,te),O[1]),A(m(i(Ce,X),-_[1]),m(i(oe,$),B[1]))),-z[2]))),I[3]))),A(A(m(A(A(m(A(m(i(ht,Te),_[1]),A(m(i(ut,ge),-B[1]),m(i(De,te),z[1]))),I[2]),m(A(m(i(ht,Te),I[1]),A(m(i(Ze,le),-B[1]),m(i(xe,q),z[1]))),-_[2])),A(m(A(m(i(ut,ge),I[1]),A(m(i(Ze,le),-_[1]),m(i(G,Z),z[1]))),B[2]),m(A(m(i(De,te),I[1]),A(m(i(xe,q),-_[1]),m(i(G,Z),B[1]))),-z[2]))),-O[3]),m(A(A(m(A(m(i(ht,Te),O[1]),A(m(i($e,se),-B[1]),m(i(Ce,X),z[1]))),I[2]),m(A(m(i(ht,Te),I[1]),A(m(i(Ze,le),-B[1]),m(i(xe,q),z[1]))),-O[2])),A(m(A(m(i($e,se),I[1]),A(m(i(Ze,le),-O[1]),m(i(K,W),z[1]))),B[2]),m(A(m(i(Ce,X),I[1]),A(m(i(xe,q),-O[1]),m(i(K,W),B[1]))),-z[2]))),_[3])),A(m(A(A(m(A(m(i(ut,ge),O[1]),A(m(i($e,se),-_[1]),m(i(oe,$),z[1]))),I[2]),m(A(m(i(ut,ge),I[1]),A(m(i(Ze,le),-_[1]),m(i(G,Z),z[1]))),-O[2])),A(m(A(m(i($e,se),I[1]),A(m(i(Ze,le),-O[1]),m(i(K,W),z[1]))),_[2]),m(A(m(i(oe,$),I[1]),A(m(i(G,Z),-O[1]),m(i(K,W),_[1]))),-z[2]))),-B[3]),m(A(A(m(A(m(i(De,te),O[1]),A(m(i(Ce,X),-_[1]),m(i(oe,$),B[1]))),I[2]),m(A(m(i(De,te),I[1]),A(m(i(xe,q),-_[1]),m(i(G,Z),B[1]))),-O[2])),A(m(A(m(i(Ce,X),I[1]),A(m(i(xe,q),-O[1]),m(i(K,W),B[1]))),_[2]),m(A(m(i(oe,$),I[1]),A(m(i(G,Z),-O[1]),m(i(K,W),_[1]))),-B[2]))),z[3]))))),St=A(A(A(m(A(A(m(A(m(i(vt,je),B[1]),A(m(i(ht,Te),-F[1]),m(i(He,Oe),z[1]))),_[2]),m(A(m(i(vt,je),_[1]),A(m(i(ut,ge),-F[1]),m(i(Se,fe),z[1]))),-B[2])),A(m(A(m(i(ht,Te),_[1]),A(m(i(ut,ge),-B[1]),m(i(De,te),z[1]))),F[2]),m(A(m(i(He,Oe),_[1]),A(m(i(Se,fe),-B[1]),m(i(De,te),F[1]))),-z[2]))),I[3]),A(m(A(A(m(A(m(i(vt,je),B[1]),A(m(i(ht,Te),-F[1]),m(i(He,Oe),z[1]))),I[2]),m(A(m(i(vt,je),I[1]),A(m(i(Ze,le),-F[1]),m(i(Me,re),z[1]))),-B[2])),A(m(A(m(i(ht,Te),I[1]),A(m(i(Ze,le),-B[1]),m(i(xe,q),z[1]))),F[2]),m(A(m(i(He,Oe),I[1]),A(m(i(Me,re),-B[1]),m(i(xe,q),F[1]))),-z[2]))),-_[3]),m(A(A(m(A(m(i(vt,je),_[1]),A(m(i(ut,ge),-F[1]),m(i(Se,fe),z[1]))),I[2]),m(A(m(i(vt,je),I[1]),A(m(i(Ze,le),-F[1]),m(i(Me,re),z[1]))),-_[2])),A(m(A(m(i(ut,ge),I[1]),A(m(i(Ze,le),-_[1]),m(i(G,Z),z[1]))),F[2]),m(A(m(i(Se,fe),I[1]),A(m(i(Me,re),-_[1]),m(i(G,Z),F[1]))),-z[2]))),B[3]))),A(A(m(A(A(m(A(m(i(ht,Te),_[1]),A(m(i(ut,ge),-B[1]),m(i(De,te),z[1]))),I[2]),m(A(m(i(ht,Te),I[1]),A(m(i(Ze,le),-B[1]),m(i(xe,q),z[1]))),-_[2])),A(m(A(m(i(ut,ge),I[1]),A(m(i(Ze,le),-_[1]),m(i(G,Z),z[1]))),B[2]),m(A(m(i(De,te),I[1]),A(m(i(xe,q),-_[1]),m(i(G,Z),B[1]))),-z[2]))),-F[3]),m(A(A(m(A(m(i(He,Oe),_[1]),A(m(i(Se,fe),-B[1]),m(i(De,te),F[1]))),I[2]),m(A(m(i(He,Oe),I[1]),A(m(i(Me,re),-B[1]),m(i(xe,q),F[1]))),-_[2])),A(m(A(m(i(Se,fe),I[1]),A(m(i(Me,re),-_[1]),m(i(G,Z),F[1]))),B[2]),m(A(m(i(De,te),I[1]),A(m(i(xe,q),-_[1]),m(i(G,Z),B[1]))),-F[2]))),z[3])),A(m(A(A(m(A(m(i(vt,je),_[1]),A(m(i(ut,ge),-F[1]),m(i(Se,fe),z[1]))),O[2]),m(A(m(i(vt,je),O[1]),A(m(i($e,se),-F[1]),m(i(ke,Q),z[1]))),-_[2])),A(m(A(m(i(ut,ge),O[1]),A(m(i($e,se),-_[1]),m(i(oe,$),z[1]))),F[2]),m(A(m(i(Se,fe),O[1]),A(m(i(ke,Q),-_[1]),m(i(oe,$),F[1]))),-z[2]))),I[3]),m(A(A(m(A(m(i(vt,je),_[1]),A(m(i(ut,ge),-F[1]),m(i(Se,fe),z[1]))),I[2]),m(A(m(i(vt,je),I[1]),A(m(i(Ze,le),-F[1]),m(i(Me,re),z[1]))),-_[2])),A(m(A(m(i(ut,ge),I[1]),A(m(i(Ze,le),-_[1]),m(i(G,Z),z[1]))),F[2]),m(A(m(i(Se,fe),I[1]),A(m(i(Me,re),-_[1]),m(i(G,Z),F[1]))),-z[2]))),-O[3])))),A(A(A(m(A(A(m(A(m(i(vt,je),O[1]),A(m(i($e,se),-F[1]),m(i(ke,Q),z[1]))),I[2]),m(A(m(i(vt,je),I[1]),A(m(i(Ze,le),-F[1]),m(i(Me,re),z[1]))),-O[2])),A(m(A(m(i($e,se),I[1]),A(m(i(Ze,le),-O[1]),m(i(K,W),z[1]))),F[2]),m(A(m(i(ke,Q),I[1]),A(m(i(Me,re),-O[1]),m(i(K,W),F[1]))),-z[2]))),_[3]),m(A(A(m(A(m(i(ut,ge),O[1]),A(m(i($e,se),-_[1]),m(i(oe,$),z[1]))),I[2]),m(A(m(i(ut,ge),I[1]),A(m(i(Ze,le),-_[1]),m(i(G,Z),z[1]))),-O[2])),A(m(A(m(i($e,se),I[1]),A(m(i(Ze,le),-O[1]),m(i(K,W),z[1]))),_[2]),m(A(m(i(oe,$),I[1]),A(m(i(G,Z),-O[1]),m(i(K,W),_[1]))),-z[2]))),-F[3])),A(m(A(A(m(A(m(i(Se,fe),O[1]),A(m(i(ke,Q),-_[1]),m(i(oe,$),F[1]))),I[2]),m(A(m(i(Se,fe),I[1]),A(m(i(Me,re),-_[1]),m(i(G,Z),F[1]))),-O[2])),A(m(A(m(i(ke,Q),I[1]),A(m(i(Me,re),-O[1]),m(i(K,W),F[1]))),_[2]),m(A(m(i(oe,$),I[1]),A(m(i(G,Z),-O[1]),m(i(K,W),_[1]))),-F[2]))),z[3]),m(A(A(m(A(m(i(He,Oe),_[1]),A(m(i(Se,fe),-B[1]),m(i(De,te),F[1]))),O[2]),m(A(m(i(He,Oe),O[1]),A(m(i(ke,Q),-B[1]),m(i(Ce,X),F[1]))),-_[2])),A(m(A(m(i(Se,fe),O[1]),A(m(i(ke,Q),-_[1]),m(i(oe,$),F[1]))),B[2]),m(A(m(i(De,te),O[1]),A(m(i(Ce,X),-_[1]),m(i(oe,$),B[1]))),-F[2]))),I[3]))),A(A(m(A(A(m(A(m(i(He,Oe),_[1]),A(m(i(Se,fe),-B[1]),m(i(De,te),F[1]))),I[2]),m(A(m(i(He,Oe),I[1]),A(m(i(Me,re),-B[1]),m(i(xe,q),F[1]))),-_[2])),A(m(A(m(i(Se,fe),I[1]),A(m(i(Me,re),-_[1]),m(i(G,Z),F[1]))),B[2]),m(A(m(i(De,te),I[1]),A(m(i(xe,q),-_[1]),m(i(G,Z),B[1]))),-F[2]))),-O[3]),m(A(A(m(A(m(i(He,Oe),O[1]),A(m(i(ke,Q),-B[1]),m(i(Ce,X),F[1]))),I[2]),m(A(m(i(He,Oe),I[1]),A(m(i(Me,re),-B[1]),m(i(xe,q),F[1]))),-O[2])),A(m(A(m(i(ke,Q),I[1]),A(m(i(Me,re),-O[1]),m(i(K,W),F[1]))),B[2]),m(A(m(i(Ce,X),I[1]),A(m(i(xe,q),-O[1]),m(i(K,W),B[1]))),-F[2]))),_[3])),A(m(A(A(m(A(m(i(Se,fe),O[1]),A(m(i(ke,Q),-_[1]),m(i(oe,$),F[1]))),I[2]),m(A(m(i(Se,fe),I[1]),A(m(i(Me,re),-_[1]),m(i(G,Z),F[1]))),-O[2])),A(m(A(m(i(ke,Q),I[1]),A(m(i(Me,re),-O[1]),m(i(K,W),F[1]))),_[2]),m(A(m(i(oe,$),I[1]),A(m(i(G,Z),-O[1]),m(i(K,W),_[1]))),-F[2]))),-B[3]),m(A(A(m(A(m(i(De,te),O[1]),A(m(i(Ce,X),-_[1]),m(i(oe,$),B[1]))),I[2]),m(A(m(i(De,te),I[1]),A(m(i(xe,q),-_[1]),m(i(G,Z),B[1]))),-O[2])),A(m(A(m(i(Ce,X),I[1]),A(m(i(xe,q),-O[1]),m(i(K,W),B[1]))),_[2]),m(A(m(i(oe,$),I[1]),A(m(i(G,Z),-O[1]),m(i(K,W),_[1]))),-B[2]))),F[3]))))),tt=i(xt,St);return tt[tt.length-1]}return k}var T=[g,h,w];function C(A){var i=T[A.length];return i||(i=T[A.length]=f(A.length)),i.apply(void 0,A)}function y(A,i,E,m,k,I,O,_){function B(F,z,N,W,Z,q){switch(arguments.length){case 0:case 1:return 0;case 2:return m(F,z);case 3:return k(F,z,N);case 4:return I(F,z,N,W);case 5:return O(F,z,N,W,Z);case 6:return _(F,z,N,W,Z,q)}for(var re=new Array(arguments.length),le=0;le<arguments.length;++le)re[le]=arguments[le];return A(re)}return B}function S(){for(;T.length<=u;)T.push(f(T.length));v.exports=y.apply(void 0,[C].concat(T));for(var A=0;A<=u;++A)v.exports[A]=T[A]}S()},727:function(v,p,r){var t=r(2962),o=6;function n(T){var C=T===2?f:T===3?g:T===4?h:T===5?w:c;return T<6?C(t[T]):C(t)}function l(){return[[0]]}function u(T,C){return[[C[0]],[T[0][0]]]}function f(T){return function(y,S){return[T([[+S[0],+y[0][1]],[+S[1],+y[1][1]]]),T([[+y[0][0],+S[0]],[+y[1][0],+S[1]]]),T(y)]}}function g(T){return function(y,S){return[T([[+S[0],+y[0][1],+y[0][2]],[+S[1],+y[1][1],+y[1][2]],[+S[2],+y[2][1],+y[2][2]]]),T([[+y[0][0],+S[0],+y[0][2]],[+y[1][0],+S[1],+y[1][2]],[+y[2][0],+S[2],+y[2][2]]]),T([[+y[0][0],+y[0][1],+S[0]],[+y[1][0],+y[1][1],+S[1]],[+y[2][0],+y[2][1],+S[2]]]),T(y)]}}function h(T){return function(y,S){return[T([[+S[0],+y[0][1],+y[0][2],+y[0][3]],[+S[1],+y[1][1],+y[1][2],+y[1][3]],[+S[2],+y[2][1],+y[2][2],+y[2][3]],[+S[3],+y[3][1],+y[3][2],+y[3][3]]]),T([[+y[0][0],+S[0],+y[0][2],+y[0][3]],[+y[1][0],+S[1],+y[1][2],+y[1][3]],[+y[2][0],+S[2],+y[2][2],+y[2][3]],[+y[3][0],+S[3],+y[3][2],+y[3][3]]]),T([[+y[0][0],+y[0][1],+S[0],+y[0][3]],[+y[1][0],+y[1][1],+S[1],+y[1][3]],[+y[2][0],+y[2][1],+S[2],+y[2][3]],[+y[3][0],+y[3][1],+S[3],+y[3][3]]]),T([[+y[0][0],+y[0][1],+y[0][2],+S[0]],[+y[1][0],+y[1][1],+y[1][2],+S[1]],[+y[2][0],+y[2][1],+y[2][2],+S[2]],[+y[3][0],+y[3][1],+y[3][2],+S[3]]]),T(y)]}}function w(T){return function(y,S){return[T([[+S[0],+y[0][1],+y[0][2],+y[0][3],+y[0][4]],[+S[1],+y[1][1],+y[1][2],+y[1][3],+y[1][4]],[+S[2],+y[2][1],+y[2][2],+y[2][3],+y[2][4]],[+S[3],+y[3][1],+y[3][2],+y[3][3],+y[3][4]],[+S[4],+y[4][1],+y[4][2],+y[4][3],+y[4][4]]]),T([[+y[0][0],+S[0],+y[0][2],+y[0][3],+y[0][4]],[+y[1][0],+S[1],+y[1][2],+y[1][3],+y[1][4]],[+y[2][0],+S[2],+y[2][2],+y[2][3],+y[2][4]],[+y[3][0],+S[3],+y[3][2],+y[3][3],+y[3][4]],[+y[4][0],+S[4],+y[4][2],+y[4][3],+y[4][4]]]),T([[+y[0][0],+y[0][1],+S[0],+y[0][3],+y[0][4]],[+y[1][0],+y[1][1],+S[1],+y[1][3],+y[1][4]],[+y[2][0],+y[2][1],+S[2],+y[2][3],+y[2][4]],[+y[3][0],+y[3][1],+S[3],+y[3][3],+y[3][4]],[+y[4][0],+y[4][1],+S[4],+y[4][3],+y[4][4]]]),T([[+y[0][0],+y[0][1],+y[0][2],+S[0],+y[0][4]],[+y[1][0],+y[1][1],+y[1][2],+S[1],+y[1][4]],[+y[2][0],+y[2][1],+y[2][2],+S[2],+y[2][4]],[+y[3][0],+y[3][1],+y[3][2],+S[3],+y[3][4]],[+y[4][0],+y[4][1],+y[4][2],+S[4],+y[4][4]]]),T([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+S[0]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+S[1]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+S[2]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+S[3]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+S[4]]]),T(y)]}}function c(T){return function(y,S){return[T([[+S[0],+y[0][1],+y[0][2],+y[0][3],+y[0][4],+y[0][5]],[+S[1],+y[1][1],+y[1][2],+y[1][3],+y[1][4],+y[1][5]],[+S[2],+y[2][1],+y[2][2],+y[2][3],+y[2][4],+y[2][5]],[+S[3],+y[3][1],+y[3][2],+y[3][3],+y[3][4],+y[3][5]],[+S[4],+y[4][1],+y[4][2],+y[4][3],+y[4][4],+y[4][5]],[+S[5],+y[5][1],+y[5][2],+y[5][3],+y[5][4],+y[5][5]]]),T([[+y[0][0],+S[0],+y[0][2],+y[0][3],+y[0][4],+y[0][5]],[+y[1][0],+S[1],+y[1][2],+y[1][3],+y[1][4],+y[1][5]],[+y[2][0],+S[2],+y[2][2],+y[2][3],+y[2][4],+y[2][5]],[+y[3][0],+S[3],+y[3][2],+y[3][3],+y[3][4],+y[3][5]],[+y[4][0],+S[4],+y[4][2],+y[4][3],+y[4][4],+y[4][5]],[+y[5][0],+S[5],+y[5][2],+y[5][3],+y[5][4],+y[5][5]]]),T([[+y[0][0],+y[0][1],+S[0],+y[0][3],+y[0][4],+y[0][5]],[+y[1][0],+y[1][1],+S[1],+y[1][3],+y[1][4],+y[1][5]],[+y[2][0],+y[2][1],+S[2],+y[2][3],+y[2][4],+y[2][5]],[+y[3][0],+y[3][1],+S[3],+y[3][3],+y[3][4],+y[3][5]],[+y[4][0],+y[4][1],+S[4],+y[4][3],+y[4][4],+y[4][5]],[+y[5][0],+y[5][1],+S[5],+y[5][3],+y[5][4],+y[5][5]]]),T([[+y[0][0],+y[0][1],+y[0][2],+S[0],+y[0][4],+y[0][5]],[+y[1][0],+y[1][1],+y[1][2],+S[1],+y[1][4],+y[1][5]],[+y[2][0],+y[2][1],+y[2][2],+S[2],+y[2][4],+y[2][5]],[+y[3][0],+y[3][1],+y[3][2],+S[3],+y[3][4],+y[3][5]],[+y[4][0],+y[4][1],+y[4][2],+S[4],+y[4][4],+y[4][5]],[+y[5][0],+y[5][1],+y[5][2],+S[5],+y[5][4],+y[5][5]]]),T([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+S[0],+y[0][5]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+S[1],+y[1][5]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+S[2],+y[2][5]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+S[3],+y[3][5]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+S[4],+y[4][5]],[+y[5][0],+y[5][1],+y[5][2],+y[5][3],+S[5],+y[5][5]]]),T([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+y[0][4],+S[0]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+y[1][4],+S[1]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+y[2][4],+S[2]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+y[3][4],+S[3]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+y[4][4],+S[4]],[+y[5][0],+y[5][1],+y[5][2],+y[5][3],+y[5][4],+S[5]]]),T(y)]}}var a=[l,u];function d(T,C,y,S,A,i,E,m){return function(I,O){switch(I.length){case 0:return T(I,O);case 1:return C(I,O);case 2:return y(I,O);case 3:return S(I,O);case 4:return A(I,O);case 5:return i(I,O)}var _=E[I.length];return _||(_=E[I.length]=m(I.length)),_(I,O)}}function x(){for(;a.length<o;)a.push(n(a.length));v.exports=d.apply(void 0,a.concat([a,n]));for(var T=0;T<o;++T)v.exports[T]=a[T]}x()},3250:function(v,p,r){var t=r(5250),o=r(8210),n=r(3012),l=r(8545),u=5,f=11102230246251565e-32,g=(3+16*f)*f,h=(7+56*f)*f;function w(i,E,m,k){return function(O,_,B){var F=i(i(E(_[1],B[0]),E(-B[1],_[0])),i(E(O[1],_[0]),E(-_[1],O[0]))),z=i(E(O[1],B[0]),E(-B[1],O[0])),N=k(F,z);return N[N.length-1]}}function c(i,E,m,k){return function(O,_,B,F){var z=i(i(m(i(E(B[1],F[0]),E(-F[1],B[0])),_[2]),i(m(i(E(_[1],F[0]),E(-F[1],_[0])),-B[2]),m(i(E(_[1],B[0]),E(-B[1],_[0])),F[2]))),i(m(i(E(_[1],F[0]),E(-F[1],_[0])),O[2]),i(m(i(E(O[1],F[0]),E(-F[1],O[0])),-_[2]),m(i(E(O[1],_[0]),E(-_[1],O[0])),F[2])))),N=i(i(m(i(E(B[1],F[0]),E(-F[1],B[0])),O[2]),i(m(i(E(O[1],F[0]),E(-F[1],O[0])),-B[2]),m(i(E(O[1],B[0]),E(-B[1],O[0])),F[2]))),i(m(i(E(_[1],B[0]),E(-B[1],_[0])),O[2]),i(m(i(E(O[1],B[0]),E(-B[1],O[0])),-_[2]),m(i(E(O[1],_[0]),E(-_[1],O[0])),B[2])))),W=k(z,N);return W[W.length-1]}}function a(i,E,m,k){return function(O,_,B,F,z){var N=i(i(i(m(i(m(i(E(F[1],z[0]),E(-z[1],F[0])),B[2]),i(m(i(E(B[1],z[0]),E(-z[1],B[0])),-F[2]),m(i(E(B[1],F[0]),E(-F[1],B[0])),z[2]))),_[3]),i(m(i(m(i(E(F[1],z[0]),E(-z[1],F[0])),_[2]),i(m(i(E(_[1],z[0]),E(-z[1],_[0])),-F[2]),m(i(E(_[1],F[0]),E(-F[1],_[0])),z[2]))),-B[3]),m(i(m(i(E(B[1],z[0]),E(-z[1],B[0])),_[2]),i(m(i(E(_[1],z[0]),E(-z[1],_[0])),-B[2]),m(i(E(_[1],B[0]),E(-B[1],_[0])),z[2]))),F[3]))),i(m(i(m(i(E(B[1],F[0]),E(-F[1],B[0])),_[2]),i(m(i(E(_[1],F[0]),E(-F[1],_[0])),-B[2]),m(i(E(_[1],B[0]),E(-B[1],_[0])),F[2]))),-z[3]),i(m(i(m(i(E(F[1],z[0]),E(-z[1],F[0])),_[2]),i(m(i(E(_[1],z[0]),E(-z[1],_[0])),-F[2]),m(i(E(_[1],F[0]),E(-F[1],_[0])),z[2]))),O[3]),m(i(m(i(E(F[1],z[0]),E(-z[1],F[0])),O[2]),i(m(i(E(O[1],z[0]),E(-z[1],O[0])),-F[2]),m(i(E(O[1],F[0]),E(-F[1],O[0])),z[2]))),-_[3])))),i(i(m(i(m(i(E(_[1],z[0]),E(-z[1],_[0])),O[2]),i(m(i(E(O[1],z[0]),E(-z[1],O[0])),-_[2]),m(i(E(O[1],_[0]),E(-_[1],O[0])),z[2]))),F[3]),i(m(i(m(i(E(_[1],F[0]),E(-F[1],_[0])),O[2]),i(m(i(E(O[1],F[0]),E(-F[1],O[0])),-_[2]),m(i(E(O[1],_[0]),E(-_[1],O[0])),F[2]))),-z[3]),m(i(m(i(E(B[1],F[0]),E(-F[1],B[0])),_[2]),i(m(i(E(_[1],F[0]),E(-F[1],_[0])),-B[2]),m(i(E(_[1],B[0]),E(-B[1],_[0])),F[2]))),O[3]))),i(m(i(m(i(E(B[1],F[0]),E(-F[1],B[0])),O[2]),i(m(i(E(O[1],F[0]),E(-F[1],O[0])),-B[2]),m(i(E(O[1],B[0]),E(-B[1],O[0])),F[2]))),-_[3]),i(m(i(m(i(E(_[1],F[0]),E(-F[1],_[0])),O[2]),i(m(i(E(O[1],F[0]),E(-F[1],O[0])),-_[2]),m(i(E(O[1],_[0]),E(-_[1],O[0])),F[2]))),B[3]),m(i(m(i(E(_[1],B[0]),E(-B[1],_[0])),O[2]),i(m(i(E(O[1],B[0]),E(-B[1],O[0])),-_[2]),m(i(E(O[1],_[0]),E(-_[1],O[0])),B[2]))),-F[3]))))),W=i(i(i(m(i(m(i(E(F[1],z[0]),E(-z[1],F[0])),B[2]),i(m(i(E(B[1],z[0]),E(-z[1],B[0])),-F[2]),m(i(E(B[1],F[0]),E(-F[1],B[0])),z[2]))),O[3]),m(i(m(i(E(F[1],z[0]),E(-z[1],F[0])),O[2]),i(m(i(E(O[1],z[0]),E(-z[1],O[0])),-F[2]),m(i(E(O[1],F[0]),E(-F[1],O[0])),z[2]))),-B[3])),i(m(i(m(i(E(B[1],z[0]),E(-z[1],B[0])),O[2]),i(m(i(E(O[1],z[0]),E(-z[1],O[0])),-B[2]),m(i(E(O[1],B[0]),E(-B[1],O[0])),z[2]))),F[3]),m(i(m(i(E(B[1],F[0]),E(-F[1],B[0])),O[2]),i(m(i(E(O[1],F[0]),E(-F[1],O[0])),-B[2]),m(i(E(O[1],B[0]),E(-B[1],O[0])),F[2]))),-z[3]))),i(i(m(i(m(i(E(B[1],z[0]),E(-z[1],B[0])),_[2]),i(m(i(E(_[1],z[0]),E(-z[1],_[0])),-B[2]),m(i(E(_[1],B[0]),E(-B[1],_[0])),z[2]))),O[3]),m(i(m(i(E(B[1],z[0]),E(-z[1],B[0])),O[2]),i(m(i(E(O[1],z[0]),E(-z[1],O[0])),-B[2]),m(i(E(O[1],B[0]),E(-B[1],O[0])),z[2]))),-_[3])),i(m(i(m(i(E(_[1],z[0]),E(-z[1],_[0])),O[2]),i(m(i(E(O[1],z[0]),E(-z[1],O[0])),-_[2]),m(i(E(O[1],_[0]),E(-_[1],O[0])),z[2]))),B[3]),m(i(m(i(E(_[1],B[0]),E(-B[1],_[0])),O[2]),i(m(i(E(O[1],B[0]),E(-B[1],O[0])),-_[2]),m(i(E(O[1],_[0]),E(-_[1],O[0])),B[2]))),-z[3])))),Z=k(N,W);return Z[Z.length-1]}}function d(i){var E=i===3?w:i===4?c:a;return E(o,t,n,l)}var x=d(3),T=d(4),C=[function(){return 0},function(){return 0},function(E,m){return m[0]-E[0]},function(E,m,k){var I=(E[1]-k[1])*(m[0]-k[0]),O=(E[0]-k[0])*(m[1]-k[1]),_=I-O,B;if(I>0){if(O<=0)return _;B=I+O}else if(I<0){if(O>=0)return _;B=-(I+O)}else return _;var F=g*B;return _>=F||_<=-F?_:x(E,m,k)},function(E,m,k,I){var O=E[0]-I[0],_=m[0]-I[0],B=k[0]-I[0],F=E[1]-I[1],z=m[1]-I[1],N=k[1]-I[1],W=E[2]-I[2],Z=m[2]-I[2],q=k[2]-I[2],re=_*N,le=B*z,ie=B*F,K=O*N,$=O*z,X=_*F,Q=W*(re-le)+Z*(ie-K)+q*($-X),se=(Math.abs(re)+Math.abs(le))*Math.abs(W)+(Math.abs(ie)+Math.abs(K))*Math.abs(Z)+(Math.abs($)+Math.abs(X))*Math.abs(q),J=h*se;return Q>J||-Q>J?Q:T(E,m,k,I)}];function y(i){var E=C[i.length];return E||(E=C[i.length]=d(i.length)),E.apply(void 0,i)}function S(i,E,m,k,I,O,_){return function(F,z,N,W,Z){switch(arguments.length){case 0:case 1:return 0;case 2:return k(F,z);case 3:return I(F,z,N);case 4:return O(F,z,N,W);case 5:return _(F,z,N,W,Z)}for(var q=new Array(arguments.length),re=0;re<arguments.length;++re)q[re]=arguments[re];return i(q)}}function A(){for(;C.length<=u;)C.push(d(C.length));v.exports=S.apply(void 0,[y].concat(C));for(var i=0;i<=u;++i)v.exports[i]=C[i]}A()},5382:function(v,p,r){var t=r(8210),o=r(3012);v.exports=n;function n(l,u){if(l.length===1)return o(u,l[0]);if(u.length===1)return o(l,u[0]);if(l.length===0||u.length===0)return[0];var f=[0];if(l.length<u.length)for(var g=0;g<l.length;++g)f=t(f,o(u,l[g]));else for(var g=0;g<u.length;++g)f=t(f,o(l,u[g]));return f}},3012:function(v,p,r){var t=r(5250),o=r(9362);v.exports=n;function n(l,u){var f=l.length;if(f===1){var g=t(l[0],u);return g[0]?g:[g[1]]}var h=new Array(2*f),w=[.1,.1],c=[.1,.1],a=0;t(l[0],u,w),w[0]&&(h[a++]=w[0]);for(var d=1;d<f;++d){t(l[d],u,c);var x=w[1];o(x,c[0],w),w[0]&&(h[a++]=w[0]);var T=c[1],C=w[1],y=T+C,S=y-T,A=C-S;w[1]=y,A&&(h[a++]=A)}return w[1]&&(h[a++]=w[1]),a===0&&(h[a++]=0),h.length=a,h}},1125:function(v,p,r){v.exports=n;var t=r(3250)[3];function o(l,u,f,g){for(var h=0;h<2;++h){var w=l[h],c=u[h],a=Math.min(w,c),d=Math.max(w,c),x=f[h],T=g[h],C=Math.min(x,T),y=Math.max(x,T);if(y<a||d<C)return!1}return!0}function n(l,u,f,g){var h=t(l,f,g),w=t(u,f,g);if(h>0&&w>0||h<0&&w<0)return!1;var c=t(f,l,u),a=t(g,l,u);return c>0&&a>0||c<0&&a<0?!1:h===0&&w===0&&c===0&&a===0?o(l,u,f,g):!0}},8545:function(v){v.exports=r;function p(t,o){var n=t+o,l=n-t,u=n-l,f=o-l,g=t-u,h=g+f;return h?[h,n]:[n]}function r(t,o){var n=t.length|0,l=o.length|0;if(n===1&&l===1)return p(t[0],-o[0]);var u=n+l,f=new Array(u),g=0,h=0,w=0,c=Math.abs,a=t[h],d=c(a),x=-o[w],T=c(x),C,y;d<T?(y=a,h+=1,h<n&&(a=t[h],d=c(a))):(y=x,w+=1,w<l&&(x=-o[w],T=c(x))),h<n&&d<T||w>=l?(C=a,h+=1,h<n&&(a=t[h],d=c(a))):(C=x,w+=1,w<l&&(x=-o[w],T=c(x)));for(var S=C+y,A=S-C,i=y-A,E=i,m=S,k,I,O,_,B;h<n&&w<l;)d<T?(C=a,h+=1,h<n&&(a=t[h],d=c(a))):(C=x,w+=1,w<l&&(x=-o[w],T=c(x))),y=E,S=C+y,A=S-C,i=y-A,i&&(f[g++]=i),k=m+S,I=k-m,O=k-I,_=S-I,B=m-O,E=B+_,m=k;for(;h<n;)C=a,y=E,S=C+y,A=S-C,i=y-A,i&&(f[g++]=i),k=m+S,I=k-m,O=k-I,_=S-I,B=m-O,E=B+_,m=k,h+=1,h<n&&(a=t[h]);for(;w<l;)C=x,y=E,S=C+y,A=S-C,i=y-A,i&&(f[g++]=i),k=m+S,I=k-m,O=k-I,_=S-I,B=m-O,E=B+_,m=k,w+=1,w<l&&(x=-o[w]);return E&&(f[g++]=E),m&&(f[g++]=m),g||(f[g++]=0),f.length=g,f}},8210:function(v){v.exports=r;function p(t,o){var n=t+o,l=n-t,u=n-l,f=o-l,g=t-u,h=g+f;return h?[h,n]:[n]}function r(t,o){var n=t.length|0,l=o.length|0;if(n===1&&l===1)return p(t[0],o[0]);var u=n+l,f=new Array(u),g=0,h=0,w=0,c=Math.abs,a=t[h],d=c(a),x=o[w],T=c(x),C,y;d<T?(y=a,h+=1,h<n&&(a=t[h],d=c(a))):(y=x,w+=1,w<l&&(x=o[w],T=c(x))),h<n&&d<T||w>=l?(C=a,h+=1,h<n&&(a=t[h],d=c(a))):(C=x,w+=1,w<l&&(x=o[w],T=c(x)));for(var S=C+y,A=S-C,i=y-A,E=i,m=S,k,I,O,_,B;h<n&&w<l;)d<T?(C=a,h+=1,h<n&&(a=t[h],d=c(a))):(C=x,w+=1,w<l&&(x=o[w],T=c(x))),y=E,S=C+y,A=S-C,i=y-A,i&&(f[g++]=i),k=m+S,I=k-m,O=k-I,_=S-I,B=m-O,E=B+_,m=k;for(;h<n;)C=a,y=E,S=C+y,A=S-C,i=y-A,i&&(f[g++]=i),k=m+S,I=k-m,O=k-I,_=S-I,B=m-O,E=B+_,m=k,h+=1,h<n&&(a=t[h]);for(;w<l;)C=x,y=E,S=C+y,A=S-C,i=y-A,i&&(f[g++]=i),k=m+S,I=k-m,O=k-I,_=S-I,B=m-O,E=B+_,m=k,w+=1,w<l&&(x=o[w]);return E&&(f[g++]=E),m&&(f[g++]=m),g||(f[g++]=0),f.length=g,f}},9127:function(v,p,r){v.exports=n;var t=r(6204),o=r(5771);function n(l){return o(t(l))}},7765:function(v,p,r){v.exports=a;var t=r(9618),o=r(1888),n=r(446),l=r(1570);function u(d){for(var x=d.length,T=0,C=0;C<x;++C)T=Math.max(T,d[C].length)|0;return T-1}function f(d,x){for(var T=d.length,C=o.mallocUint8(T),y=0;y<T;++y)C[y]=d[y]<x|0;return C}function g(d,x){for(var T=d.length,C=x*(x+1)/2*T|0,y=o.mallocUint32(C*2),S=0,A=0;A<T;++A)for(var i=d[A],x=i.length,E=0;E<x;++E)for(var m=0;m<E;++m){var k=i[m],I=i[E];y[S++]=Math.min(k,I)|0,y[S++]=Math.max(k,I)|0}var O=S/2|0;n(t(y,[O,2]));for(var _=2,A=2;A<S;A+=2)y[A-2]===y[A]&&y[A-1]===y[A+1]||(y[_++]=y[A],y[_++]=y[A+1]);return t(y,[_/2|0,2])}function h(d,x,T,C){for(var y=d.data,S=d.shape[0],A=o.mallocDouble(S),i=0,E=0;E<S;++E){var m=y[2*E],k=y[2*E+1];if(T[m]!==T[k]){var I=x[m],O=x[k];y[2*i]=m,y[2*i+1]=k,A[i++]=(O-C)/(O-I)}}return d.shape[0]=i,t(A,[i])}function w(d,x){var T=o.mallocInt32(x*2),C=d.shape[0],y=d.data;T[0]=0;for(var S=0,A=0;A<C;++A){var i=y[2*A];if(i!==S){for(T[2*S+1]=A;++S<i;)T[2*S]=A,T[2*S+1]=A;T[2*S]=A}}for(T[2*S+1]=C;++S<x;)T[2*S]=T[2*S+1]=C;return T}function c(d){for(var x=d.shape[0]|0,T=d.data,C=new Array(x),y=0;y<x;++y)C[y]=[T[2*y],T[2*y+1]];return C}function a(d,x,T,C){T=T||0,typeof C>"u"&&(C=u(d));var y=d.length;if(y===0||C<1)return{cells:[],vertexIds:[],vertexWeights:[]};var S=f(x,+T),A=g(d,C),i=h(A,x,S,+T),E=w(A,x.length|0),m=l(C)(d,A.data,E,S),k=c(A),I=[].slice.call(i.data,0,i.shape[0]);return o.free(S),o.free(A.data),o.free(i.data),o.free(E),{cells:m,vertexIds:k,vertexWeights:I}}},1570:function(v){v.exports=r;var p=[function(){function o(n,l,u,f){for(var g=n.length,h=[],w=0;w<g;++w){var c=n[w];c.length}return h}return o},function(){function o(l,u,f,g){for(var h=Math.min(f,g)|0,w=Math.max(f,g)|0,c=l[2*h],a=l[2*h+1];c<a;){var d=c+a>>1,x=u[2*d+1];if(x===w)return d;w<x?a=d:c=d+1}return c}function n(l,u,f,g){for(var h=l.length,w=[],c=0;c<h;++c){var a=l[c],d=a.length;if(d===2){var x=(g[a[0]]<<0)+(g[a[1]]<<1);if(x===0||x===3)continue;switch(x){case 0:break;case 1:w.push([o(f,u,a[0],a[1])]);break;case 2:w.push([o(f,u,a[1],a[0])]);break}}}return w}return n},function(){function o(l,u,f,g){for(var h=Math.min(f,g)|0,w=Math.max(f,g)|0,c=l[2*h],a=l[2*h+1];c<a;){var d=c+a>>1,x=u[2*d+1];if(x===w)return d;w<x?a=d:c=d+1}return c}function n(l,u,f,g){for(var h=l.length,w=[],c=0;c<h;++c){var a=l[c],d=a.length;if(d===3){var x=(g[a[0]]<<0)+(g[a[1]]<<1)+(g[a[2]]<<2);if(x===0||x===7)continue;switch(x){case 0:break;case 1:w.push([o(f,u,a[0],a[2]),o(f,u,a[0],a[1])]);break;case 2:w.push([o(f,u,a[1],a[0]),o(f,u,a[1],a[2])]);break;case 3:w.push([o(f,u,a[0],a[2]),o(f,u,a[1],a[2])]);break;case 4:w.push([o(f,u,a[2],a[1]),o(f,u,a[2],a[0])]);break;case 5:w.push([o(f,u,a[2],a[1]),o(f,u,a[0],a[1])]);break;case 6:w.push([o(f,u,a[1],a[0]),o(f,u,a[2],a[0])]);break}}else if(d===2){var x=(g[a[0]]<<0)+(g[a[1]]<<1);if(x===0||x===3)continue;switch(x){case 0:break;case 1:w.push([o(f,u,a[0],a[1])]);break;case 2:w.push([o(f,u,a[1],a[0])]);break}}}return w}return n},function(){function o(l,u,f,g){for(var h=Math.min(f,g)|0,w=Math.max(f,g)|0,c=l[2*h],a=l[2*h+1];c<a;){var d=c+a>>1,x=u[2*d+1];if(x===w)return d;w<x?a=d:c=d+1}return c}function n(l,u,f,g){for(var h=l.length,w=[],c=0;c<h;++c){var a=l[c],d=a.length;if(d===4){var x=(g[a[0]]<<0)+(g[a[1]]<<1)+(g[a[2]]<<2)+(g[a[3]]<<3);if(x===0||x===15)continue;switch(x){case 0:break;case 1:w.push([o(f,u,a[0],a[1]),o(f,u,a[0],a[2]),o(f,u,a[0],a[3])]);break;case 2:w.push([o(f,u,a[1],a[2]),o(f,u,a[1],a[0]),o(f,u,a[1],a[3])]);break;case 3:w.push([o(f,u,a[1],a[2]),o(f,u,a[0],a[2]),o(f,u,a[0],a[3])],[o(f,u,a[1],a[3]),o(f,u,a[1],a[2]),o(f,u,a[0],a[3])]);break;case 4:w.push([o(f,u,a[2],a[0]),o(f,u,a[2],a[1]),o(f,u,a[2],a[3])]);break;case 5:w.push([o(f,u,a[0],a[1]),o(f,u,a[2],a[1]),o(f,u,a[0],a[3])],[o(f,u,a[2],a[1]),o(f,u,a[2],a[3]),o(f,u,a[0],a[3])]);break;case 6:w.push([o(f,u,a[2],a[0]),o(f,u,a[1],a[0]),o(f,u,a[1],a[3])],[o(f,u,a[2],a[3]),o(f,u,a[2],a[0]),o(f,u,a[1],a[3])]);break;case 7:w.push([o(f,u,a[0],a[3]),o(f,u,a[1],a[3]),o(f,u,a[2],a[3])]);break;case 8:w.push([o(f,u,a[3],a[1]),o(f,u,a[3],a[0]),o(f,u,a[3],a[2])]);break;case 9:w.push([o(f,u,a[3],a[1]),o(f,u,a[0],a[1]),o(f,u,a[0],a[2])],[o(f,u,a[3],a[2]),o(f,u,a[3],a[1]),o(f,u,a[0],a[2])]);break;case 10:w.push([o(f,u,a[1],a[0]),o(f,u,a[3],a[0]),o(f,u,a[1],a[2])],[o(f,u,a[3],a[0]),o(f,u,a[3],a[2]),o(f,u,a[1],a[2])]);break;case 11:w.push([o(f,u,a[1],a[2]),o(f,u,a[0],a[2]),o(f,u,a[3],a[2])]);break;case 12:w.push([o(f,u,a[3],a[0]),o(f,u,a[2],a[0]),o(f,u,a[2],a[1])],[o(f,u,a[3],a[1]),o(f,u,a[3],a[0]),o(f,u,a[2],a[1])]);break;case 13:w.push([o(f,u,a[0],a[1]),o(f,u,a[2],a[1]),o(f,u,a[3],a[1])]);break;case 14:w.push([o(f,u,a[2],a[0]),o(f,u,a[1],a[0]),o(f,u,a[3],a[0])]);break}}else if(d===3){var x=(g[a[0]]<<0)+(g[a[1]]<<1)+(g[a[2]]<<2);if(x===0||x===7)continue;switch(x){case 0:break;case 1:w.push([o(f,u,a[0],a[2]),o(f,u,a[0],a[1])]);break;case 2:w.push([o(f,u,a[1],a[0]),o(f,u,a[1],a[2])]);break;case 3:w.push([o(f,u,a[0],a[2]),o(f,u,a[1],a[2])]);break;case 4:w.push([o(f,u,a[2],a[1]),o(f,u,a[2],a[0])]);break;case 5:w.push([o(f,u,a[2],a[1]),o(f,u,a[0],a[1])]);break;case 6:w.push([o(f,u,a[1],a[0]),o(f,u,a[2],a[0])]);break}}else if(d===2){var x=(g[a[0]]<<0)+(g[a[1]]<<1);if(x===0||x===3)continue;switch(x){case 0:break;case 1:w.push([o(f,u,a[0],a[1])]);break;case 2:w.push([o(f,u,a[1],a[0])]);break}}}return w}return n}];function r(t){return p[t]()}},6803:function(v,p,r){r(8828),r(1755);function t(o,n){var l=o.length,u=o.length-n.length,f=Math.min;if(u)return u;switch(l){case 0:return 0;case 1:return o[0]-n[0];case 2:var a=o[0]+o[1]-n[0]-n[1];return a||f(o[0],o[1])-f(n[0],n[1]);case 3:var g=o[0]+o[1],h=n[0]+n[1];if(a=g+o[2]-(h+n[2]),a)return a;var w=f(o[0],o[1]),c=f(n[0],n[1]),a=f(w,o[2])-f(c,n[2]);return a||f(w+o[2],g)-f(c+n[2],h);default:var d=o.slice(0);d.sort();var x=n.slice(0);x.sort();for(var T=0;T<l;++T)if(u=d[T]-x[T],u)return u;return 0}}p.Fw=t},3105:function(v,p){"use restrict";var r=32;p.INT_BITS=r,p.INT_MAX=2147483647,p.INT_MIN=-1<<r-1,p.sign=function(n){return(n>0)-(n<0)},p.abs=function(n){var l=n>>r-1;return(n^l)-l},p.min=function(n,l){return l^(n^l)&-(n<l)},p.max=function(n,l){return n^(n^l)&-(n<l)},p.isPow2=function(n){return!(n&n-1)&&!!n},p.log2=function(n){var l,u;return l=(n>65535)<<4,n>>>=l,u=(n>255)<<3,n>>>=u,l|=u,u=(n>15)<<2,n>>>=u,l|=u,u=(n>3)<<1,n>>>=u,l|=u,l|n>>1},p.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},p.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var l=32;return n&=-n,n&&l--,n&65535&&(l-=16),n&16711935&&(l-=8),n&252645135&&(l-=4),n&858993459&&(l-=2),n&1431655765&&(l-=1),l}p.countTrailingZeros=t,p.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},p.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},p.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var o=new Array(256);(function(n){for(var l=0;l<256;++l){var u=l,f=l,g=7;for(u>>>=1;u;u>>>=1)f<<=1,f|=u&1,--g;n[l]=f<<g&255}})(o),p.reverse=function(n){return o[n&255]<<24|o[n>>>8&255]<<16|o[n>>>16&255]<<8|o[n>>>24&255]},p.interleave2=function(n,l){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,l&=65535,l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,l=(l|l<<1)&1431655765,n|l<<1},p.deinterleave2=function(n,l){return n=n>>>l&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},p.interleave3=function(n,l,u){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,l&=1023,l=(l|l<<16)&4278190335,l=(l|l<<8)&251719695,l=(l|l<<4)&3272356035,l=(l|l<<2)&1227133513,n|=l<<1,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|u<<2},p.deinterleave3=function(n,l){return n=n>>>l&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},p.nextCombination=function(n){var l=n|n-1;return l+1|(~l&-~l)-1>>>t(n)+1}},2014:function(v,p,r){"use restrict";var t=r(3105),o=r(4623);function n(i){for(var E=0,m=Math.max,k=0,I=i.length;k<I;++k)E=m(E,i[k].length);return E-1}p.dimension=n;function l(i){for(var E=-1,m=Math.max,k=0,I=i.length;k<I;++k)for(var O=i[k],_=0,B=O.length;_<B;++_)E=m(E,O[_]);return E+1}p.countVertices=l;function u(i){for(var E=new Array(i.length),m=0,k=i.length;m<k;++m)E[m]=i[m].slice(0);return E}p.cloneCells=u;function f(i,E){var m=i.length,k=i.length-E.length,I=Math.min;if(k)return k;switch(m){case 0:return 0;case 1:return i[0]-E[0];case 2:var z=i[0]+i[1]-E[0]-E[1];return z||I(i[0],i[1])-I(E[0],E[1]);case 3:var O=i[0]+i[1],_=E[0]+E[1];if(z=O+i[2]-(_+E[2]),z)return z;var B=I(i[0],i[1]),F=I(E[0],E[1]),z=I(B,i[2])-I(F,E[2]);return z||I(B+i[2],O)-I(F+E[2],_);default:var N=i.slice(0);N.sort();var W=E.slice(0);W.sort();for(var Z=0;Z<m;++Z)if(k=N[Z]-W[Z],k)return k;return 0}}p.compareCells=f;function g(i,E){return f(i[0],E[0])}function h(i,E){if(E){for(var m=i.length,k=new Array(m),I=0;I<m;++I)k[I]=[i[I],E[I]];k.sort(g);for(var I=0;I<m;++I)i[I]=k[I][0],E[I]=k[I][1];return i}else return i.sort(f),i}p.normalize=h;function w(i){if(i.length===0)return[];for(var E=1,m=i.length,k=1;k<m;++k){var I=i[k];if(f(I,i[k-1])){if(k===E){E++;continue}i[E++]=I}}return i.length=E,i}p.unique=w;function c(i,E){for(var m=0,k=i.length-1,I=-1;m<=k;){var O=m+k>>1,_=f(i[O],E);_<=0?(_===0&&(I=O),m=O+1):_>0&&(k=O-1)}return I}p.findCell=c;function a(i,E){for(var m=new Array(i.length),k=0,I=m.length;k<I;++k)m[k]=[];for(var O=[],k=0,_=E.length;k<_;++k)for(var B=E[k],F=B.length,z=1,N=1<<F;z<N;++z){O.length=t.popCount(z);for(var W=0,Z=0;Z<F;++Z)z&1<<Z&&(O[W++]=B[Z]);var q=c(i,O);if(!(q<0))for(;m[q++].push(k),!(q>=i.length||f(i[q],O)!==0););}return m}p.incidence=a;function d(i,E){if(!E)return a(w(T(i,0)),i);for(var m=new Array(E),k=0;k<E;++k)m[k]=[];for(var k=0,I=i.length;k<I;++k)for(var O=i[k],_=0,B=O.length;_<B;++_)m[O[_]].push(k);return m}p.dual=d;function x(i){for(var E=[],m=0,k=i.length;m<k;++m)for(var I=i[m],O=I.length|0,_=1,B=1<<O;_<B;++_){for(var F=[],z=0;z<O;++z)_>>>z&1&&F.push(I[z]);E.push(F)}return h(E)}p.explode=x;function T(i,E){if(E<0)return[];for(var m=[],k=(1<<E+1)-1,I=0;I<i.length;++I)for(var O=i[I],_=k;_<1<<O.length;_=t.nextCombination(_)){for(var B=new Array(E+1),F=0,z=0;z<O.length;++z)_&1<<z&&(B[F++]=O[z]);m.push(B)}return h(m)}p.skeleton=T;function C(i){for(var E=[],m=0,k=i.length;m<k;++m)for(var I=i[m],O=0,_=I.length;O<_;++O){for(var B=new Array(I.length-1),F=0,z=0;F<_;++F)F!==O&&(B[z++]=I[F]);E.push(B)}return h(E)}p.boundary=C;function y(i,E){for(var m=new o(E),k=0;k<i.length;++k)for(var I=i[k],O=0;O<I.length;++O)for(var _=O+1;_<I.length;++_)m.link(I[O],I[_]);for(var B=[],F=m.ranks,k=0;k<F.length;++k)F[k]=-1;for(var k=0;k<i.length;++k){var z=m.find(i[k][0]);F[z]<0?(F[z]=B.length,B.push([i[k].slice(0)])):B[F[z]].push(i[k].slice(0))}return B}function S(i){for(var E=w(h(T(i,0))),m=new o(E.length),k=0;k<i.length;++k)for(var I=i[k],O=0;O<I.length;++O)for(var _=c(E,[I[O]]),B=O+1;B<I.length;++B)m.link(_,c(E,[I[B]]));for(var F=[],z=m.ranks,k=0;k<z.length;++k)z[k]=-1;for(var k=0;k<i.length;++k){var N=m.find(c(E,[i[k][0]]));z[N]<0?(z[N]=F.length,F.push([i[k].slice(0)])):F[z[N]].push(i[k].slice(0))}return F}function A(i,E){return E?y(i,E):S(i)}p.connectedComponents=A},4623:function(v){"use restrict";v.exports=p;function p(r){this.roots=new Array(r),this.ranks=new Array(r);for(var t=0;t<r;++t)this.roots[t]=t,this.ranks[t]=0}p.prototype.length=function(){return this.roots.length},p.prototype.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},p.prototype.find=function(r){for(var t=this.roots;t[r]!==r;){var o=t[r];t[r]=t[o],r=o}return r},p.prototype.link=function(r,t){var o=this.find(r),n=this.find(t);if(o!==n){var l=this.ranks,u=this.roots,f=l[o],g=l[n];f<g?u[o]=n:g<f?u[n]=o:(u[n]=o,++l[o])}}},5878:function(v,p,r){v.exports=l;var t=r(3250),o=r(2014);function n(u,f,g){var h=Math.abs(t(u,f,g)),w=Math.sqrt(Math.pow(f[0]-g[0],2)+Math.pow(f[1]-g[1],2));return h/w}function l(u,f,g){for(var h=f.length,w=u.length,c=new Array(h),a=new Array(h),d=new Array(h),x=new Array(h),T=0;T<h;++T)c[T]=a[T]=-1,d[T]=1/0,x[T]=!1;for(var T=0;T<w;++T){var C=u[T];if(C.length!==2)throw new Error("Input must be a graph");var y=C[1],S=C[0];a[S]!==-1?a[S]=-2:a[S]=y,c[y]!==-1?c[y]=-2:c[y]=S}function A(ie){if(x[ie])return 1/0;var K=c[ie],$=a[ie];return K<0||$<0?1/0:n(f[ie],f[K],f[$])}function i(ie,K){var $=F[ie],X=F[K];F[ie]=X,F[K]=$,z[$]=K,z[X]=ie}function E(ie){return d[F[ie]]}function m(ie){return ie&1?ie-1>>1:(ie>>1)-1}function k(ie){for(var K=E(ie);;){var $=K,X=2*ie+1,Q=2*(ie+1),se=ie;if(X<W){var J=E(X);J<$&&(se=X,$=J)}if(Q<W){var G=E(Q);G<$&&(se=Q)}if(se===ie)return ie;i(ie,se),ie=se}}function I(ie){for(var K=E(ie);ie>0;){var $=m(ie);if($>=0){var X=E($);if(K<X){i(ie,$),ie=$;continue}}return ie}}function O(){if(W>0){var ie=F[0];return i(0,W-1),W-=1,k(0),ie}return-1}function _(ie,K){var $=F[ie];return d[$]===K?ie:(d[$]=-1/0,I(ie),O(),d[$]=K,W+=1,I(W-1))}function B(ie){if(!x[ie]){x[ie]=!0;var K=c[ie],$=a[ie];c[$]>=0&&(c[$]=K),a[K]>=0&&(a[K]=$),z[K]>=0&&_(z[K],A(K)),z[$]>=0&&_(z[$],A($))}}for(var F=[],z=new Array(h),T=0;T<h;++T){var N=d[T]=A(T);N<1/0?(z[T]=F.length,F.push(T)):z[T]=-1}for(var W=F.length,T=W>>1;T>=0;--T)k(T);for(;;){var Z=O();if(Z<0||d[Z]>g)break;B(Z)}for(var q=[],T=0;T<h;++T)x[T]||(z[T]=q.length,q.push(f[T].slice()));q.length;function re(ie,K){if(ie[K]<0)return K;var $=K,X=K;do{var Q=ie[X];if(!x[X]||Q<0||Q===X||(X=Q,Q=ie[X],!x[X]||Q<0||Q===X))break;X=Q,$=ie[$]}while($!==X);for(var se=K;se!==X;se=ie[se])ie[se]=X;return X}var le=[];return u.forEach(function(ie){var K=re(c,ie[0]),$=re(a,ie[1]);if(K>=0&&$>=0&&K!==$){var X=z[K],Q=z[$];X!==Q&&le.push([X,Q])}}),o.unique(o.normalize(le)),{positions:q,edges:le}}},1303:function(v,p,r){v.exports=n;var t=r(3250);function o(l,u){var f,g;if(u[0][0]<u[1][0])f=u[0],g=u[1];else if(u[0][0]>u[1][0])f=u[1],g=u[0];else{var h=Math.min(l[0][1],l[1][1]),w=Math.max(l[0][1],l[1][1]),c=Math.min(u[0][1],u[1][1]),a=Math.max(u[0][1],u[1][1]);return w<c?w-c:h>a?h-a:w-a}var d,x;l[0][1]<l[1][1]?(d=l[0],x=l[1]):(d=l[1],x=l[0]);var T=t(g,f,d);return T||(T=t(g,f,x),T)?T:x-g}function n(l,u){var f,g;if(u[0][0]<u[1][0])f=u[0],g=u[1];else if(u[0][0]>u[1][0])f=u[1],g=u[0];else return o(u,l);var h,w;if(l[0][0]<l[1][0])h=l[0],w=l[1];else if(l[0][0]>l[1][0])h=l[1],w=l[0];else return-o(l,u);var c=t(f,g,w),a=t(f,g,h);if(c<0){if(a<=0)return c}else if(c>0){if(a>=0)return c}else if(a)return a;if(c=t(w,h,g),a=t(w,h,f),c<0){if(a<=0)return c}else if(c>0){if(a>=0)return c}else if(a)return a;return g[0]-w[0]}},4209:function(v,p,r){v.exports=a;var t=r(2478),o=r(3840),n=r(3250),l=r(1303);function u(d,x,T){this.slabs=d,this.coordinates=x,this.horizontal=T}var f=u.prototype;function g(d,x){return d.y-x}function h(d,x){for(var T=null;d;){var C=d.key,y,S;C[0][0]<C[1][0]?(y=C[0],S=C[1]):(y=C[1],S=C[0]);var A=n(y,S,x);if(A<0)d=d.left;else if(A>0)if(x[0]!==C[1][0])T=d,d=d.right;else{var i=h(d.right,x);if(i)return i;d=d.left}else{if(x[0]!==C[1][0])return d;var i=h(d.right,x);if(i)return i;d=d.left}}return T}f.castUp=function(d){var x=t.le(this.coordinates,d[0]);if(x<0)return-1;this.slabs[x];var T=h(this.slabs[x],d),C=-1;if(T&&(C=T.value),this.coordinates[x]===d[0]){var y=null;if(T&&(y=T.key),x>0){var S=h(this.slabs[x-1],d);S&&(y?l(S.key,y)>0&&(y=S.key,C=S.value):(C=S.value,y=S.key))}var A=this.horizontal[x];if(A.length>0){var i=t.ge(A,d[1],g);if(i<A.length){var E=A[i];if(d[1]===E.y){if(E.closed)return E.index;for(;i<A.length-1&&A[i+1].y===d[1];)if(i=i+1,E=A[i],E.closed)return E.index;if(E.y===d[1]&&!E.start){if(i=i+1,i>=A.length)return C;E=A[i]}}if(E.start)if(y){var m=n(y[0],y[1],[d[0],E.y]);y[0][0]>y[1][0]&&(m=-m),m>0&&(C=E.index)}else C=E.index;else E.y!==d[1]&&(C=E.index)}}}return C};function w(d,x,T,C){this.y=d,this.index=x,this.start=T,this.closed=C}function c(d,x,T,C){this.x=d,this.segment=x,this.create=T,this.index=C}function a(d){for(var x=d.length,T=2*x,C=new Array(T),y=0;y<x;++y){var S=d[y],A=S[0][0]<S[1][0];C[2*y]=new c(S[0][0],S,A,y),C[2*y+1]=new c(S[1][0],S,!A,y)}C.sort(function(B,F){var z=B.x-F.x;return z||(z=B.create-F.create,z)?z:Math.min(B.segment[0][1],B.segment[1][1])-Math.min(F.segment[0][1],F.segment[1][1])});for(var i=o(l),E=[],m=[],k=[],y=0;y<T;){for(var I=C[y].x,O=[];y<T;){var _=C[y];if(_.x!==I)break;y+=1,_.segment[0][0]===_.x&&_.segment[1][0]===_.x?_.create&&(_.segment[0][1]<_.segment[1][1]?(O.push(new w(_.segment[0][1],_.index,!0,!0)),O.push(new w(_.segment[1][1],_.index,!1,!1))):(O.push(new w(_.segment[1][1],_.index,!0,!1)),O.push(new w(_.segment[0][1],_.index,!1,!0)))):_.create?i=i.insert(_.segment,_.index):i=i.remove(_.segment)}E.push(i.root),m.push(I),k.push(O)}return new u(E,m,k)}},5202:function(v,p,r){var t=r(1944),o=r(8210);v.exports=u,v.exports.positive=f,v.exports.negative=g;function n(h,w){var c=o(t(h,w),[w[w.length-1]]);return c[c.length-1]}function l(h,w,c,a){var d=a-w,x=-w/d;x<0?x=0:x>1&&(x=1);for(var T=1-x,C=h.length,y=new Array(C),S=0;S<C;++S)y[S]=x*h[S]+T*c[S];return y}function u(h,w){for(var c=[],a=[],d=n(h[h.length-1],w),x=h[h.length-1],T=h[0],C=0;C<h.length;++C,x=T){T=h[C];var y=n(T,w);if(d<0&&y>0||d>0&&y<0){var S=l(x,y,T,d);c.push(S),a.push(S.slice())}y<0?a.push(T.slice()):y>0?c.push(T.slice()):(c.push(T.slice()),a.push(T.slice())),d=y}return{positive:c,negative:a}}function f(h,w){for(var c=[],a=n(h[h.length-1],w),d=h[h.length-1],x=h[0],T=0;T<h.length;++T,d=x){x=h[T];var C=n(x,w);(a<0&&C>0||a>0&&C<0)&&c.push(l(d,C,x,a)),C>=0&&c.push(x.slice()),a=C}return c}function g(h,w){for(var c=[],a=n(h[h.length-1],w),d=h[h.length-1],x=h[0],T=0;T<h.length;++T,d=x){x=h[T];var C=n(x,w);(a<0&&C>0||a>0&&C<0)&&c.push(l(d,C,x,a)),C<=0&&c.push(x.slice()),a=C}return c}},3387:function(v,p,r){var t;(function(){var o={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(h){return u(g(h),arguments)}function l(h,w){return n.apply(null,[h].concat(w||[]))}function u(h,w){var c=1,a=h.length,d,x="",T,C,y,S,A,i,E,m;for(T=0;T<a;T++)if(typeof h[T]=="string")x+=h[T];else if(typeof h[T]=="object"){if(y=h[T],y.keys)for(d=w[c],C=0;C<y.keys.length;C++){if(d==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',y.keys[C],y.keys[C-1]));d=d[y.keys[C]]}else y.param_no?d=w[y.param_no]:d=w[c++];if(o.not_type.test(y.type)&&o.not_primitive.test(y.type)&&d instanceof Function&&(d=d()),o.numeric_arg.test(y.type)&&typeof d!="number"&&isNaN(d))throw new TypeError(n("[sprintf] expecting number but found %T",d));switch(o.number.test(y.type)&&(E=d>=0),y.type){case"b":d=parseInt(d,10).toString(2);break;case"c":d=String.fromCharCode(parseInt(d,10));break;case"d":case"i":d=parseInt(d,10);break;case"j":d=JSON.stringify(d,null,y.width?parseInt(y.width):0);break;case"e":d=y.precision?parseFloat(d).toExponential(y.precision):parseFloat(d).toExponential();break;case"f":d=y.precision?parseFloat(d).toFixed(y.precision):parseFloat(d);break;case"g":d=y.precision?String(Number(d.toPrecision(y.precision))):parseFloat(d);break;case"o":d=(parseInt(d,10)>>>0).toString(8);break;case"s":d=String(d),d=y.precision?d.substring(0,y.precision):d;break;case"t":d=String(!!d),d=y.precision?d.substring(0,y.precision):d;break;case"T":d=Object.prototype.toString.call(d).slice(8,-1).toLowerCase(),d=y.precision?d.substring(0,y.precision):d;break;case"u":d=parseInt(d,10)>>>0;break;case"v":d=d.valueOf(),d=y.precision?d.substring(0,y.precision):d;break;case"x":d=(parseInt(d,10)>>>0).toString(16);break;case"X":d=(parseInt(d,10)>>>0).toString(16).toUpperCase();break}o.json.test(y.type)?x+=d:(o.number.test(y.type)&&(!E||y.sign)?(m=E?"+":"-",d=d.toString().replace(o.sign,"")):m="",A=y.pad_char?y.pad_char==="0"?"0":y.pad_char.charAt(1):" ",i=y.width-(m+d).length,S=y.width&&i>0?A.repeat(i):"",x+=y.align?m+d+S:A==="0"?m+S+d:S+m+d)}return x}var f=Object.create(null);function g(h){if(f[h])return f[h];for(var w=h,c,a=[],d=0;w;){if((c=o.text.exec(w))!==null)a.push(c[0]);else if((c=o.modulo.exec(w))!==null)a.push("%");else if((c=o.placeholder.exec(w))!==null){if(c[2]){d|=1;var x=[],T=c[2],C=[];if((C=o.key.exec(T))!==null)for(x.push(C[1]);(T=T.substring(C[0].length))!=="";)if((C=o.key_access.exec(T))!==null)x.push(C[1]);else if((C=o.index_access.exec(T))!==null)x.push(C[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");c[2]=x}else d|=2;if(d===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");a.push({placeholder:c[0],param_no:c[1],keys:c[2],sign:c[3],pad_char:c[4],align:c[5],width:c[6],precision:c[7],type:c[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");w=w.substring(c[0].length)}return f[h]=a}p.sprintf=n,p.vsprintf=l,typeof window<"u"&&(window.sprintf=n,window.vsprintf=l,t=(function(){return{sprintf:n,vsprintf:l}}).call(p,r,p,v),t!==void 0&&(v.exports=t))})()},3711:function(v,p,r){v.exports=g;var t=r(2640),o=r(781),n={"2d":function(h,w,c){var a=h({order:w,scalarArguments:3,getters:c==="generic"?[0]:void 0,phase:function(x,T,C,y){return x>y|0},vertex:function(x,T,C,y,S,A,i,E,m,k,I,O,_){var B=(i<<0)+(E<<1)+(m<<2)+(k<<3)|0;if(!(B===0||B===15))switch(B){case 0:I.push([x-.5,T-.5]);break;case 1:I.push([x-.25-.25*(y+C-2*_)/(C-y),T-.25-.25*(S+C-2*_)/(C-S)]);break;case 2:I.push([x-.75-.25*(-y-C+2*_)/(y-C),T-.25-.25*(A+y-2*_)/(y-A)]);break;case 3:I.push([x-.5,T-.5-.5*(S+C+A+y-4*_)/(C-S+y-A)]);break;case 4:I.push([x-.25-.25*(A+S-2*_)/(S-A),T-.75-.25*(-S-C+2*_)/(S-C)]);break;case 5:I.push([x-.5-.5*(y+C+A+S-4*_)/(C-y+S-A),T-.5]);break;case 6:I.push([x-.5-.25*(-y-C+A+S)/(y-C+S-A),T-.5-.25*(-S-C+A+y)/(S-C+y-A)]);break;case 7:I.push([x-.75-.25*(A+S-2*_)/(S-A),T-.75-.25*(A+y-2*_)/(y-A)]);break;case 8:I.push([x-.75-.25*(-A-S+2*_)/(A-S),T-.75-.25*(-A-y+2*_)/(A-y)]);break;case 9:I.push([x-.5-.25*(y+C+-A-S)/(C-y+A-S),T-.5-.25*(S+C+-A-y)/(C-S+A-y)]);break;case 10:I.push([x-.5-.5*(-y-C+-A-S+4*_)/(y-C+A-S),T-.5]);break;case 11:I.push([x-.25-.25*(-A-S+2*_)/(A-S),T-.75-.25*(S+C-2*_)/(C-S)]);break;case 12:I.push([x-.5,T-.5-.5*(-S-C+-A-y+4*_)/(S-C+A-y)]);break;case 13:I.push([x-.75-.25*(y+C-2*_)/(C-y),T-.25-.25*(-A-y+2*_)/(A-y)]);break;case 14:I.push([x-.25-.25*(-y-C+2*_)/(y-C),T-.25-.25*(-S-C+2*_)/(S-C)]);break;case 15:I.push([x-.5,T-.5]);break}},cell:function(x,T,C,y,S,A,i,E,m){S?E.push([x,T]):E.push([T,x])}});return function(d,x){var T=[],C=[];return a(d,T,C,x),{positions:T,cells:C}}}};function l(h,w){var c=h.length+"d",a=n[c];if(a)return a(t,h,w)}function u(h,w){for(var c=o(h,w),a=c.length,d=new Array(a),x=new Array(a),T=0;T<a;++T)d[T]=[c[T]],x[T]=[T];return{positions:d,cells:x}}var f={};function g(h,d){if(h.dimension<=0)return{positions:[],cells:[]};if(h.dimension===1)return u(h,d);var c=h.order.join()+"-"+h.dtype,a=f[c],d=+d||0;return a||(a=f[c]=l(h.order,h.dtype)),a(h,d)}},529:function(v,p,r){v.exports=u;var t=r(4359),o=window||b.global||{},n=o.__TEXT_CACHE||{};o.__TEXT_CACHE={};function l(f){for(var g=f.cells,h=f.positions,w=new Float32Array(g.length*6),c=0,a=0,d=0;d<g.length;++d)for(var x=g[d],T=0;T<3;++T){var C=h[x[T]];w[c++]=C[0],w[c++]=C[1]+1.4,a=Math.max(C[0],a)}return{data:w,shape:a}}function u(f,g,w){var w=w||{},c=w.fontStyle||"normal",a=w.fontWeight||"normal",d=w.fontVariant||"normal",x=[c,a,d,f].join("_"),T=n[x];T||(T=n[x]={" ":{data:new Float32Array(0),shape:.2}});var C=T[g];if(!C)if(g.length<=1||!/\d/.test(g))C=T[g]=l(t(g,{triangles:!0,font:f,fontStyle:c,fontWeight:a,fontVariant:d,textAlign:w.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var y=g.split(/(\d|\s)/),S=new Array(y.length),A=0,i=0,E=0;E<y.length;++E)S[E]=u(f,y[E]),A+=S[E].data.length,i+=S[E].shape,E>0&&(i+=.02);for(var m=new Float32Array(A),k=0,I=-.5*i,E=0;E<S.length;++E){for(var O=S[E].data,_=0;_<O.length;_+=2)m[k++]=O[_]+I,m[k++]=O[_+1];I+=S[E].shape+.02}C=T[g]={data:m,shape:i}}return C}},665:function(v,p,r){var t=r(3202);v.exports=u;var o=96;function n(f,g){var h=t(getComputedStyle(f).getPropertyValue(g));return h[0]*u(h[1],f)}function l(f,g){var h=document.createElement("div");h.style["font-size"]="128"+f,g.appendChild(h);var w=n(h,"font-size")/128;return g.removeChild(h),w}function u(f,g){switch(g=g||document.body,f=(f||"px").trim().toLowerCase(),(g===window||g===document)&&(g=document.body),f){case"%":return g.clientHeight/100;case"ch":case"ex":return l(f,g);case"em":return n(g,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return o;case"cm":return o/2.54;case"mm":return o/25.4;case"pt":return o/72;case"pc":return o/6}return 1}},7261:function(v,p,r){v.exports=x;var t=r(9215),o=r(7608),n=r(6079),l=r(5911),u=r(3536),f=r(244);function g(T,C,y){return Math.sqrt(Math.pow(T,2)+Math.pow(C,2)+Math.pow(y,2))}function h(T){return Math.min(1,Math.max(-1,T))}function w(T){var C=Math.abs(T[0]),y=Math.abs(T[1]),S=Math.abs(T[2]),A=[0,0,0];C>Math.max(y,S)?A[2]=1:y>Math.max(C,S)?A[0]=1:A[1]=1;for(var i=0,E=0,m=0;m<3;++m)i+=T[m]*T[m],E+=A[m]*T[m];for(var m=0;m<3;++m)A[m]-=E/i*T[m];return u(A,A),A}function c(T,C,y,S,A,i,E,m){this.center=t(y),this.up=t(S),this.right=t(A),this.radius=t([i]),this.angle=t([E,m]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(T,C),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var k=0;k<16;++k)this.computedMatrix[k]=.5;this.recalcMatrix(0)}var a=c.prototype;a.setDistanceLimits=function(T,C){T>0?T=Math.log(T):T=-1/0,C>0?C=Math.log(C):C=1/0,C=Math.max(C,T),this.radius.bounds[0][0]=T,this.radius.bounds[1][0]=C},a.getDistanceLimits=function(T){var C=this.radius.bounds[0];return T?(T[0]=Math.exp(C[0][0]),T[1]=Math.exp(C[1][0]),T):[Math.exp(C[0][0]),Math.exp(C[1][0])]},a.recalcMatrix=function(T){this.center.curve(T),this.up.curve(T),this.right.curve(T),this.radius.curve(T),this.angle.curve(T);for(var C=this.computedUp,y=this.computedRight,S=0,A=0,i=0;i<3;++i)A+=C[i]*y[i],S+=C[i]*C[i];for(var E=Math.sqrt(S),m=0,i=0;i<3;++i)y[i]-=C[i]*A/S,m+=y[i]*y[i],C[i]/=E;for(var k=Math.sqrt(m),i=0;i<3;++i)y[i]/=k;var I=this.computedToward;l(I,C,y),u(I,I);for(var O=Math.exp(this.computedRadius[0]),_=this.computedAngle[0],B=this.computedAngle[1],F=Math.cos(_),z=Math.sin(_),N=Math.cos(B),W=Math.sin(B),Z=this.computedCenter,q=F*N,re=z*N,le=W,ie=-F*W,K=-z*W,$=N,X=this.computedEye,Q=this.computedMatrix,i=0;i<3;++i){var se=q*y[i]+re*I[i]+le*C[i];Q[4*i+1]=ie*y[i]+K*I[i]+$*C[i],Q[4*i+2]=se,Q[4*i+3]=0}var J=Q[1],G=Q[5],oe=Q[9],te=Q[2],fe=Q[6],ge=Q[10],we=G*ge-oe*fe,xe=oe*te-J*ge,Ce=J*fe-G*te,De=g(we,xe,Ce);we/=De,xe/=De,Ce/=De,Q[0]=we,Q[4]=xe,Q[8]=Ce;for(var i=0;i<3;++i)X[i]=Z[i]+Q[2+4*i]*O;for(var i=0;i<3;++i){for(var m=0,Oe=0;Oe<3;++Oe)m+=Q[i+4*Oe]*X[Oe];Q[12+i]=-m}Q[15]=1},a.getMatrix=function(T,C){this.recalcMatrix(T);var y=this.computedMatrix;if(C){for(var S=0;S<16;++S)C[S]=y[S];return C}return y};var d=[0,0,0];a.rotate=function(T,C,y,S){if(this.angle.move(T,C,y),S){this.recalcMatrix(T);var A=this.computedMatrix;d[0]=A[2],d[1]=A[6],d[2]=A[10];for(var i=this.computedUp,E=this.computedRight,m=this.computedToward,k=0;k<3;++k)A[4*k]=i[k],A[4*k+1]=E[k],A[4*k+2]=m[k];n(A,A,S,d);for(var k=0;k<3;++k)i[k]=A[4*k],E[k]=A[4*k+1];this.up.set(T,i[0],i[1],i[2]),this.right.set(T,E[0],E[1],E[2])}},a.pan=function(T,C,y,S){C=C||0,y=y||0,S=S||0,this.recalcMatrix(T);var A=this.computedMatrix;Math.exp(this.computedRadius[0]);var i=A[1],E=A[5],m=A[9],k=g(i,E,m);i/=k,E/=k,m/=k;var I=A[0],O=A[4],_=A[8],B=I*i+O*E+_*m;I-=i*B,O-=E*B,_-=m*B;var F=g(I,O,_);I/=F,O/=F,_/=F;var z=I*C+i*y,N=O*C+E*y,W=_*C+m*y;this.center.move(T,z,N,W);var Z=Math.exp(this.computedRadius[0]);Z=Math.max(1e-4,Z+S),this.radius.set(T,Math.log(Z))},a.translate=function(T,C,y,S){this.center.move(T,C||0,y||0,S||0)},a.setMatrix=function(T,C,y,S){var A=1;typeof y=="number"&&(A=y|0),(A<0||A>3)&&(A=1);var i=(A+2)%3;C||(this.recalcMatrix(T),C=this.computedMatrix);var E=C[A],m=C[A+4],k=C[A+8];if(S){var O=Math.abs(E),_=Math.abs(m),B=Math.abs(k),F=Math.max(O,_,B);O===F?(E=E<0?-1:1,m=k=0):B===F?(k=k<0?-1:1,E=m=0):(m=m<0?-1:1,E=k=0)}else{var I=g(E,m,k);E/=I,m/=I,k/=I}var z=C[i],N=C[i+4],W=C[i+8],Z=z*E+N*m+W*k;z-=E*Z,N-=m*Z,W-=k*Z;var q=g(z,N,W);z/=q,N/=q,W/=q;var re=m*W-k*N,le=k*z-E*W,ie=E*N-m*z,K=g(re,le,ie);re/=K,le/=K,ie/=K,this.center.jump(T,ke,Se,He),this.radius.idle(T),this.up.jump(T,E,m,k),this.right.jump(T,z,N,W);var $,X;if(A===2){var Q=C[1],se=C[5],J=C[9],G=Q*z+se*N+J*W,oe=Q*re+se*le+J*ie;we<0?$=-Math.PI/2:$=Math.PI/2,X=Math.atan2(oe,G)}else{var te=C[2],fe=C[6],ge=C[10],we=te*E+fe*m+ge*k,xe=te*z+fe*N+ge*W,Ce=te*re+fe*le+ge*ie;$=Math.asin(h(we)),X=Math.atan2(Ce,xe)}this.angle.jump(T,X,$),this.recalcMatrix(T);var De=C[2],Oe=C[6],Te=C[10],Re=this.computedMatrix;o(Re,C);var Me=Re[15],ke=Re[12]/Me,Se=Re[13]/Me,He=Re[14]/Me,je=Math.exp(this.computedRadius[0]);this.center.jump(T,ke-De*je,Se-Oe*je,He-Te*je)},a.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},a.idle=function(T){this.center.idle(T),this.up.idle(T),this.right.idle(T),this.radius.idle(T),this.angle.idle(T)},a.flush=function(T){this.center.flush(T),this.up.flush(T),this.right.flush(T),this.radius.flush(T),this.angle.flush(T)},a.setDistance=function(T,C){C>0&&this.radius.set(T,Math.log(C))},a.lookAt=function(T,C,y,S){this.recalcMatrix(T),C=C||this.computedEye,y=y||this.computedCenter,S=S||this.computedUp;var A=S[0],i=S[1],E=S[2],m=g(A,i,E);if(!(m<1e-6)){A/=m,i/=m,E/=m;var k=C[0]-y[0],I=C[1]-y[1],O=C[2]-y[2],_=g(k,I,O);if(!(_<1e-6)){k/=_,I/=_,O/=_;var B=this.computedRight,F=B[0],z=B[1],N=B[2],W=A*F+i*z+E*N;F-=W*A,z-=W*i,N-=W*E;var Z=g(F,z,N);if(!(Z<.01&&(F=i*O-E*I,z=E*k-A*O,N=A*I-i*k,Z=g(F,z,N),Z<1e-6))){F/=Z,z/=Z,N/=Z,this.up.set(T,A,i,E),this.right.set(T,F,z,N),this.center.set(T,y[0],y[1],y[2]),this.radius.set(T,Math.log(_));var q=i*N-E*z,re=E*F-A*N,le=A*z-i*F,ie=g(q,re,le);q/=ie,re/=ie,le/=ie;var K=A*k+i*I+E*O,$=F*k+z*I+N*O,X=q*k+re*I+le*O,Q=Math.asin(h(K)),se=Math.atan2(X,$),J=this.angle._state,G=J[J.length-1],oe=J[J.length-2];G=G%(2*Math.PI);var te=Math.abs(G+2*Math.PI-se),fe=Math.abs(G-se),ge=Math.abs(G-2*Math.PI-se);te<fe&&(G+=2*Math.PI),ge<fe&&(G-=2*Math.PI),this.angle.jump(this.angle.lastT(),G,oe),this.angle.set(T,se,Q)}}}};function x(T){T=T||{};var C=T.center||[0,0,0],y=T.up||[0,1,0],S=T.right||w(y),A=T.radius||1,i=T.theta||0,E=T.phi||0;if(C=[].slice.call(C,0,3),y=[].slice.call(y,0,3),u(y,y),S=[].slice.call(S,0,3),u(S,S),"eye"in T){var m=T.eye,k=[m[0]-C[0],m[1]-C[1],m[2]-C[2]];l(S,k,y),g(S[0],S[1],S[2])<1e-6?S=w(y):u(S,S),A=g(k[0],k[1],k[2]);var I=f(y,k)/A,O=f(S,k)/A;E=Math.acos(I),i=Math.acos(O)}return A=Math.log(A),new c(T.zoomMin,T.zoomMax,C,y,S,A,i,E)}},5250:function(v){v.exports=r;var p=+(Math.pow(2,27)+1);function r(t,o,n){var l=t*o,u=p*t,f=u-t,g=u-f,h=t-g,w=p*o,c=w-o,a=w-c,d=o-a,x=l-g*a,T=x-h*a,C=T-g*d,y=h*d-C;return n?(n[0]=y,n[1]=l,n):[y,l]}},9362:function(v){v.exports=p;function p(r,t,o){var n=r+t,l=n-r,u=n-l,f=t-l,g=r-u;return o?(o[0]=g+f,o[1]=n,o):[g+f,n]}},1888:function(v,p,r){var t=r(8828),o=r(1338),n=r(4793).hp;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:o([32,0]),UINT16:o([32,0]),UINT32:o([32,0]),BIGUINT64:o([32,0]),INT8:o([32,0]),INT16:o([32,0]),INT32:o([32,0]),BIGINT64:o([32,0]),FLOAT:o([32,0]),DOUBLE:o([32,0]),DATA:o([32,0]),UINT8C:o([32,0]),BUFFER:o([32,0])});var l=typeof Uint8ClampedArray<"u",u=typeof BigUint64Array<"u",f=typeof BigInt64Array<"u",g=r.g.__TYPEDARRAY_POOL;g.UINT8C||(g.UINT8C=o([32,0])),g.BIGUINT64||(g.BIGUINT64=o([32,0])),g.BIGINT64||(g.BIGINT64=o([32,0])),g.BUFFER||(g.BUFFER=o([32,0]));var h=g.DATA,w=g.BUFFER;p.free=function(F){if(n.isBuffer(F))w[t.log2(F.length)].push(F);else{if(Object.prototype.toString.call(F)!=="[object ArrayBuffer]"&&(F=F.buffer),!F)return;var z=F.length||F.byteLength,N=t.log2(z)|0;h[N].push(F)}};function c(B){if(B){var F=B.length||B.byteLength,z=t.log2(F);h[z].push(B)}}function a(B){c(B.buffer)}p.freeUint8=p.freeUint16=p.freeUint32=p.freeBigUint64=p.freeInt8=p.freeInt16=p.freeInt32=p.freeBigInt64=p.freeFloat32=p.freeFloat=p.freeFloat64=p.freeDouble=p.freeUint8Clamped=p.freeDataView=a,p.freeArrayBuffer=c,p.freeBuffer=function(F){w[t.log2(F.length)].push(F)},p.malloc=function(F,z){if(z===void 0||z==="arraybuffer")return d(F);switch(z){case"uint8":return x(F);case"uint16":return T(F);case"uint32":return C(F);case"int8":return y(F);case"int16":return S(F);case"int32":return A(F);case"float":case"float32":return i(F);case"double":case"float64":return E(F);case"uint8_clamped":return m(F);case"bigint64":return I(F);case"biguint64":return k(F);case"buffer":return _(F);case"data":case"dataview":return O(F);default:return null}return null};function d(F){var F=t.nextPow2(F),z=t.log2(F),N=h[z];return N.length>0?N.pop():new ArrayBuffer(F)}p.mallocArrayBuffer=d;function x(B){return new Uint8Array(d(B),0,B)}p.mallocUint8=x;function T(B){return new Uint16Array(d(2*B),0,B)}p.mallocUint16=T;function C(B){return new Uint32Array(d(4*B),0,B)}p.mallocUint32=C;function y(B){return new Int8Array(d(B),0,B)}p.mallocInt8=y;function S(B){return new Int16Array(d(2*B),0,B)}p.mallocInt16=S;function A(B){return new Int32Array(d(4*B),0,B)}p.mallocInt32=A;function i(B){return new Float32Array(d(4*B),0,B)}p.mallocFloat32=p.mallocFloat=i;function E(B){return new Float64Array(d(8*B),0,B)}p.mallocFloat64=p.mallocDouble=E;function m(B){return l?new Uint8ClampedArray(d(B),0,B):x(B)}p.mallocUint8Clamped=m;function k(B){return u?new BigUint64Array(d(8*B),0,B):null}p.mallocBigUint64=k;function I(B){return f?new BigInt64Array(d(8*B),0,B):null}p.mallocBigInt64=I;function O(B){return new DataView(d(B),0,B)}p.mallocDataView=O;function _(B){B=t.nextPow2(B);var F=t.log2(B),z=w[F];return z.length>0?z.pop():new n(B)}p.mallocBuffer=_,p.clearCache=function(){for(var F=0;F<32;++F)g.UINT8[F].length=0,g.UINT16[F].length=0,g.UINT32[F].length=0,g.INT8[F].length=0,g.INT16[F].length=0,g.INT32[F].length=0,g.FLOAT[F].length=0,g.DOUBLE[F].length=0,g.BIGUINT64[F].length=0,g.BIGINT64[F].length=0,g.UINT8C[F].length=0,h[F].length=0,w[F].length=0}},1755:function(v){"use restrict";v.exports=p;function p(t){this.roots=new Array(t),this.ranks=new Array(t);for(var o=0;o<t;++o)this.roots[o]=o,this.ranks[o]=0}var r=p.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}}),r.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},r.find=function(t){for(var o=t,n=this.roots;n[t]!==t;)t=n[t];for(;n[o]!==t;){var l=n[o];n[o]=t,o=l}return t},r.link=function(t,o){var n=this.find(t),l=this.find(o);if(n!==l){var u=this.ranks,f=this.roots,g=u[n],h=u[l];g<h?f[n]=l:h<g?f[l]=n:(f[l]=n,++u[n])}}},1682:function(v){function p(o,n){for(var l=1,u=o.length,f=o[0],g=o[0],h=1;h<u;++h)if(g=f,f=o[h],n(f,g)){if(h===l){l++;continue}o[l++]=f}return o.length=l,o}function r(o){for(var n=1,l=o.length,u=o[0],f=o[0],g=1;g<l;++g,f=u)if(f=u,u=o[g],u!==f){if(g===n){n++;continue}o[n++]=u}return o.length=n,o}function t(o,n,l){return o.length===0?o:n?(l||o.sort(n),p(o,n)):(l||o.sort(),r(o))}v.exports=t},4359:function(v,p,r){v.exports=l;var t=r(7718),o=null,n=null;typeof document<"u"&&(o=document.createElement("canvas"),o.width=8192,o.height=1024,n=o.getContext("2d"));function l(u,f){return(typeof f!="object"||f===null)&&(f={}),t(u,f.canvas||o,f.context||n,f)}},7718:function(v,p,r){v.exports=I,v.exports.processPixels=k;var t=r(3711),o=r(9618),n=r(5878),l=r(332),u=r(2538),f=r(2095),g="b",h="b|",w="i",c="i|",a="sup",d="+",x="+1",T="sub",C="-",y="-1";function S(O,_,B,F){for(var z="<"+O+">",N="</"+O+">",W=z.length,Z=N.length,q=_[0]===d||_[0]===C,re=0,le=-Z;re>-1&&(re=B.indexOf(z,re),!(re===-1||(le=B.indexOf(N,re+W),le===-1)||le<=re));){for(var ie=re;ie<le+Z;++ie)if(ie<re+W||ie>=le)F[ie]=null,B=B.substr(0,ie)+" "+B.substr(ie+1);else if(F[ie]!==null){var K=F[ie].indexOf(_[0]);K===-1?F[ie]+=_:q&&(F[ie]=F[ie].substr(0,K+1)+(1+parseInt(F[ie][K+1]))+F[ie].substr(K+2))}var $=re+W,X=B.substr($,le-$),Q=X.indexOf(z);Q!==-1?re=Q:re=le+Z}return F}function A(O,_,B){for(var F=_.textAlign||"start",z=_.textBaseline||"alphabetic",N=[1<<30,1<<30],W=[0,0],Z=O.length,q=0;q<Z;++q)for(var re=O[q],le=0;le<2;++le)N[le]=Math.min(N[le],re[le])|0,W[le]=Math.max(W[le],re[le])|0;var ie=0;switch(F){case"center":ie=-.5*(N[0]+W[0]);break;case"right":case"end":ie=-W[0];break;case"left":case"start":ie=-N[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+F+"'")}var K=0;switch(z){case"hanging":case"top":K=-N[1];break;case"middle":K=-.5*(N[1]+W[1]);break;case"alphabetic":case"ideographic":K=-3*B;break;case"bottom":K=-W[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+z+"'")}var $=1/B;return"lineHeight"in _?$*=+_.lineHeight:"width"in _?$=_.width/(W[0]-N[0]):"height"in _&&($=_.height/(W[1]-N[1])),O.map(function(X){return[$*(X[0]+ie),$*(X[1]+K)]})}function i(O,_,B,F,z,N){B=B.replace(/\n/g,""),N.breaklines===!0?B=B.replace(/\<br\>/g,`
`):B=B.replace(/\<br\>/g," ");var W="",Z=[];for(G=0;G<B.length;++G)Z[G]=W;N.bolds===!0&&(Z=S(g,h,B,Z)),N.italics===!0&&(Z=S(w,c,B,Z)),N.superscripts===!0&&(Z=S(a,x,B,Z)),N.subscripts===!0&&(Z=S(T,y,B,Z));var q=[],re="";for(G=0;G<B.length;++G)Z[G]!==null&&(re+=B[G],q.push(Z[G]));var le=re.split(`
`),ie=le.length,K=Math.round(z*F),$=F,X=F*2,Q=0,se=ie*K+X;O.height<se&&(O.height=se),_.fillStyle="#000",_.fillRect(0,0,O.width,O.height),_.fillStyle="#fff";var J,G,oe,te,fe,ge=0,we="";function xe(){if(we!==""){var He=_.measureText(we).width;_.fillText(we,$+oe,X+te),oe+=He}}function Ce(){return""+Math.round(fe)+"px "}function De(He,je){var at=""+_.font;if(N.subscripts===!0){var Ze=He.indexOf(C),$e=je.indexOf(C),ut=Ze>-1?parseInt(He[1+Ze]):0,ht=$e>-1?parseInt(je[1+$e]):0;ut!==ht&&(at=at.replace(Ce(),"?px "),fe*=Math.pow(.75,ht-ut),at=at.replace("?px ",Ce())),te+=.25*K*(ht-ut)}if(N.superscripts===!0){var vt=He.indexOf(d),xt=je.indexOf(d),St=vt>-1?parseInt(He[1+vt]):0,tt=xt>-1?parseInt(je[1+xt]):0;St!==tt&&(at=at.replace(Ce(),"?px "),fe*=Math.pow(.75,tt-St),at=at.replace("?px ",Ce())),te-=.25*K*(tt-St)}if(N.bolds===!0){var Ie=He.indexOf(h)>-1,Ve=je.indexOf(h)>-1;!Ie&&Ve&&(Ge?at=at.replace("italic ","italic bold "):at="bold "+at),Ie&&!Ve&&(at=at.replace("bold ",""))}if(N.italics===!0){var Ge=He.indexOf(c)>-1,Xe=je.indexOf(c)>-1;!Ge&&Xe&&(at="italic "+at),Ge&&!Xe&&(at=at.replace("italic ",""))}_.font=at}for(J=0;J<ie;++J){var Oe=le[J]+`
`;for(oe=0,te=J*K,fe=F,we="",G=0;G<Oe.length;++G){var Te=G+ge<q.length?q[G+ge]:q[q.length-1];W===Te?we+=Oe[G]:(xe(),we=Oe[G],Te!==void 0&&(De(W,Te),W=Te))}xe(),ge+=Oe.length;var Re=Math.round(oe+2*$)|0;Q<Re&&(Q=Re)}var Me=Q,ke=X+K*ie,Se=o(_.getImageData(0,0,Me,ke).data,[ke,Me,4]);return Se.pick(-1,-1,0).transpose(1,0)}function E(O,_){var B=t(O,128);return _?n(B.cells,B.positions,.25):{edges:B.cells,positions:B.positions}}function m(O,_,B,F){var z=E(O,F),N=A(z.positions,_,B),W=z.edges,Z=_.orientation==="ccw";if(l(N,W),_.polygons||_.polygon||_.polyline){for(var q=f(W,N),re=new Array(q.length),le=0;le<q.length;++le){for(var ie=q[le],K=new Array(ie.length),$=0;$<ie.length;++$){for(var X=ie[$],Q=new Array(X.length),se=0;se<X.length;++se)Q[se]=N[X[se]].slice();Z&&Q.reverse(),K[$]=Q}re[le]=K}return re}else return _.triangles||_.triangulate||_.triangle?{cells:u(N,W,{delaunay:!1,exterior:!1,interior:!0}),positions:N}:{edges:W,positions:N}}function k(O,_,B){try{return m(O,_,B,!0)}catch{}try{return m(O,_,B,!1)}catch{}return _.polygons||_.polyline||_.polygon?[]:_.triangles||_.triangulate||_.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function I(O,_,B,F){var z=64,N=1.25,W={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};F&&(F.size&&F.size>0&&(z=F.size),F.lineSpacing&&F.lineSpacing>0&&(N=F.lineSpacing),F.styletags&&F.styletags.breaklines&&(W.breaklines=!!F.styletags.breaklines),F.styletags&&F.styletags.bolds&&(W.bolds=!!F.styletags.bolds),F.styletags&&F.styletags.italics&&(W.italics=!!F.styletags.italics),F.styletags&&F.styletags.subscripts&&(W.subscripts=!!F.styletags.subscripts),F.styletags&&F.styletags.superscripts&&(W.superscripts=!!F.styletags.superscripts)),B.font=[F.fontStyle,F.fontVariant,F.fontWeight,z+"px",F.font].filter(function(q){return q}).join(" "),B.textAlign="start",B.textBaseline="alphabetic",B.direction="ltr";var Z=i(_,B,O,z,N,W);return k(Z,F,z)}},1538:function(v){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function r(E){E.permitHostObjects___&&E.permitHostObjects___(r)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=r);var t=!1;if(typeof WeakMap=="function"){var o=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var n=new o,l=Object.freeze({});if(n.set(l,1),n.get(l)!==1)t=!0;else{v.exports=WeakMap;return}}}var u=Object.getOwnPropertyNames,f=Object.defineProperty,g=Object.isExtensible,h="weakmap:",w=h+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var c=new ArrayBuffer(25),a=new Uint8Array(c);crypto.getRandomValues(a),w=h+"rand:"+Array.prototype.map.call(a,function(E){return(E%36).toString(36)}).join("")+"___"}function d(E){return!(E.substr(0,h.length)==h&&E.substr(E.length-3)==="___")}if(f(Object,"getOwnPropertyNames",{value:function(m){return u(m).filter(d)}}),"getPropertyNames"in Object){var x=Object.getPropertyNames;f(Object,"getPropertyNames",{value:function(m){return x(m).filter(d)}})}function T(E){if(E!==Object(E))throw new TypeError("Not an object: "+E);var m=E[w];if(m&&m.key===E)return m;if(g(E)){m={key:E};try{return f(E,w,{value:m,writable:!1,enumerable:!1,configurable:!1}),m}catch{return}}}(function(){var E=Object.freeze;f(Object,"freeze",{value:function(O){return T(O),E(O)}});var m=Object.seal;f(Object,"seal",{value:function(O){return T(O),m(O)}});var k=Object.preventExtensions;f(Object,"preventExtensions",{value:function(O){return T(O),k(O)}})})();function C(E){return E.prototype=null,Object.freeze(E)}var y=!1;function S(){!y&&typeof console<"u"&&(y=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var A=0,i=function(){this instanceof i||S();var E=[],m=[],k=A++;function I(F,z){var N,W=T(F);return W?k in W?W[k]:z:(N=E.indexOf(F),N>=0?m[N]:z)}function O(F){var z=T(F);return z?k in z:E.indexOf(F)>=0}function _(F,z){var N,W=T(F);return W?W[k]=z:(N=E.indexOf(F),N>=0?m[N]=z:(N=E.length,m[N]=z,E[N]=F)),this}function B(F){var z=T(F),N,W;return z?k in z&&delete z[k]:(N=E.indexOf(F),N<0?!1:(W=E.length-1,E[N]=void 0,m[N]=m[W],E[N]=E[W],E.length=W,m.length=W,!0))}return Object.create(i.prototype,{get___:{value:C(I)},has___:{value:C(O)},set___:{value:C(_)},delete___:{value:C(B)}})};i.prototype=Object.create(Object.prototype,{get:{value:function(m,k){return this.get___(m,k)},writable:!0,configurable:!0},has:{value:function(m){return this.has___(m)},writable:!0,configurable:!0},set:{value:function(m,k){return this.set___(m,k)},writable:!0,configurable:!0},delete:{value:function(m){return this.delete___(m)},writable:!0,configurable:!0}}),typeof o=="function"?function(){t&&typeof Proxy<"u"&&(Proxy=void 0);function E(){this instanceof i||S();var m=new o,k=void 0,I=!1;function O(z,N){return k?m.has(z)?m.get(z):k.get___(z,N):m.get(z,N)}function _(z){return m.has(z)||(k?k.has___(z):!1)}var B;t?B=function(z,N){return m.set(z,N),m.has(z)||(k||(k=new i),k.set(z,N)),this}:B=function(z,N){if(I)try{m.set(z,N)}catch{k||(k=new i),k.set___(z,N)}else m.set(z,N);return this};function F(z){var N=!!m.delete(z);return k&&k.delete___(z)||N}return Object.create(i.prototype,{get___:{value:C(O)},has___:{value:C(_)},set___:{value:C(B)},delete___:{value:C(F)},permitHostObjects___:{value:C(function(z){if(z===r)I=!0;else throw new Error("bogus call to permitHostObjects___")})}})}E.prototype=i.prototype,v.exports=E,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),v.exports=i)})()},236:function(v,p,r){var t=r(8284);v.exports=o;function o(){var n={};return function(l){if((typeof l!="object"||l===null)&&typeof l!="function")throw new Error("Weakmap-shim: Key must be object");var u=l.valueOf(n);return u&&u.identity===n?u:t(l,n)}}},8284:function(v){v.exports=p;function p(r,t){var o={identity:t},n=r.valueOf;return Object.defineProperty(r,"valueOf",{value:function(l){return l!==t?n.apply(this,arguments):o},writable:!0}),o}},606:function(v,p,r){var t=r(236);v.exports=o;function o(){var n=t();return{get:function(l,u){var f=n(l);return f.hasOwnProperty("value")?f.value:u},set:function(l,u){return n(l).value=u,this},has:function(l){return"value"in n(l)},delete:function(l){return delete n(l).value}}}},3349:function(v){function p(){return function(u,f,g,h,w,c){var a=u[0],d=g[0],x=[0],T=d;h|=0;var C=0,y=d;for(C=0;C<a;++C){{var S=f[h]-c,A=f[h+T]-c;S>=0!=A>=0&&w.push(x[0]+.5+.5*(S+A)/(S-A))}h+=y,++x[0]}}}function r(){return p()}var t=r;function o(u){var f={};return function(h,w,c){var a=h.dtype,d=h.order,x=[a,d.join()].join(),T=f[x];return T||(f[x]=T=u([a,d])),T(h.shape.slice(0),h.data,h.stride,h.offset|0,w,c)}}function n(u){return o(t.bind(void 0,u))}function l(u){return n({funcName:u.funcName})}v.exports=l({funcName:"zeroCrossings"})},781:function(v,p,r){v.exports=o;var t=r(3349);function o(n,l){var u=[];return l=+l||0,t(n.hi(n.shape[0]-1),u,l),u}},7790:function(){}},s={};function L(v){var p=s[v];if(p!==void 0)return p.exports;var r=s[v]={id:v,loaded:!1,exports:{}};return P[v].call(r.exports,r,r.exports,L),r.loaded=!0,r.exports}(function(){L.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){L.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v}}();var M=L(1964);Y.exports=M})()},33576:function(Y,V,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function b(tt,Ie){if(!(tt instanceof Ie))throw new TypeError("Cannot call a class as a function")}function P(tt,Ie){for(var Ve=0;Ve<Ie.length;Ve++){var Ge=Ie[Ve];Ge.enumerable=Ge.enumerable||!1,Ge.configurable=!0,"value"in Ge&&(Ge.writable=!0),Object.defineProperty(tt,L(Ge.key),Ge)}}function s(tt,Ie,Ve){return Ie&&P(tt.prototype,Ie),Object.defineProperty(tt,"prototype",{writable:!1}),tt}function L(tt){var Ie=M(tt,"string");return l(Ie)==="symbol"?Ie:String(Ie)}function M(tt,Ie){if(l(tt)!=="object"||tt===null)return tt;var Ve=tt[Symbol.toPrimitive];if(Ve!==void 0){var Ge=Ve.call(tt,Ie);if(l(Ge)!=="object")return Ge;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tt)}function v(tt,Ie,Ve){function Ge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{return!1}}return Ie=r(Ie),p(tt,Ge()?Reflect.construct(Ie,[],r(tt).constructor):Ie.apply(tt,Ve))}function p(tt,Ie){if(Ie&&(l(Ie)==="object"||typeof Ie=="function"))return Ie;if(Ie!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(tt)}function r(tt){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ve){return Ve.__proto__||Object.getPrototypeOf(Ve)},r(tt)}function t(tt){if(tt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tt}function o(tt,Ie){if(typeof Ie!="function"&&Ie!==null)throw new TypeError("Super expression must either be null or a function");tt.prototype=Object.create(Ie&&Ie.prototype,{constructor:{value:tt,writable:!0,configurable:!0}}),Object.defineProperty(tt,"prototype",{writable:!1}),Ie&&n(tt,Ie)}function n(tt,Ie){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ge,Xe){return Ge.__proto__=Xe,Ge},n(tt,Ie)}function l(tt){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ie){return typeof Ie}:function(Ie){return Ie&&typeof Symbol=="function"&&Ie.constructor===Symbol&&Ie!==Symbol.prototype?"symbol":typeof Ie},l(tt)}var u=e(59968),f=e(35984),g=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;V.Buffer=a,V.SlowBuffer=k,V.INSPECT_MAX_BYTES=50;var h=2147483647;V.kMaxLength=h,a.TYPED_ARRAY_SUPPORT=w(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function w(){try{var tt=new Uint8Array(1),Ie={foo:function(){return 42}};return Object.setPrototypeOf(Ie,Uint8Array.prototype),Object.setPrototypeOf(tt,Ie),tt.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function c(tt){if(tt>h)throw new RangeError('The value "'+tt+'" is invalid for option "size"');var Ie=new Uint8Array(tt);return Object.setPrototypeOf(Ie,a.prototype),Ie}function a(tt,Ie,Ve){if(typeof tt=="number"){if(typeof Ie=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return C(tt)}return d(tt,Ie,Ve)}a.poolSize=8192;function d(tt,Ie,Ve){if(typeof tt=="string")return y(tt,Ie);if(ArrayBuffer.isView(tt))return A(tt);if(tt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(tt));if(ut(tt,ArrayBuffer)||tt&&ut(tt.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ut(tt,SharedArrayBuffer)||tt&&ut(tt.buffer,SharedArrayBuffer)))return i(tt,Ie,Ve);if(typeof tt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ge=tt.valueOf&&tt.valueOf();if(Ge!=null&&Ge!==tt)return a.from(Ge,Ie,Ve);var Xe=E(tt);if(Xe)return Xe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof tt[Symbol.toPrimitive]=="function")return a.from(tt[Symbol.toPrimitive]("string"),Ie,Ve);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(tt))}a.from=function(tt,Ie,Ve){return d(tt,Ie,Ve)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function x(tt){if(typeof tt!="number")throw new TypeError('"size" argument must be of type number');if(tt<0)throw new RangeError('The value "'+tt+'" is invalid for option "size"')}function T(tt,Ie,Ve){return x(tt),tt<=0?c(tt):Ie!==void 0?typeof Ve=="string"?c(tt).fill(Ie,Ve):c(tt).fill(Ie):c(tt)}a.alloc=function(tt,Ie,Ve){return T(tt,Ie,Ve)};function C(tt){return x(tt),c(tt<0?0:m(tt)|0)}a.allocUnsafe=function(tt){return C(tt)},a.allocUnsafeSlow=function(tt){return C(tt)};function y(tt,Ie){if((typeof Ie!="string"||Ie==="")&&(Ie="utf8"),!a.isEncoding(Ie))throw new TypeError("Unknown encoding: "+Ie);var Ve=I(tt,Ie)|0,Ge=c(Ve),Xe=Ge.write(tt,Ie);return Xe!==Ve&&(Ge=Ge.slice(0,Xe)),Ge}function S(tt){for(var Ie=tt.length<0?0:m(tt.length)|0,Ve=c(Ie),Ge=0;Ge<Ie;Ge+=1)Ve[Ge]=tt[Ge]&255;return Ve}function A(tt){if(ut(tt,Uint8Array)){var Ie=new Uint8Array(tt);return i(Ie.buffer,Ie.byteOffset,Ie.byteLength)}return S(tt)}function i(tt,Ie,Ve){if(Ie<0||tt.byteLength<Ie)throw new RangeError('"offset" is outside of buffer bounds');if(tt.byteLength<Ie+(Ve||0))throw new RangeError('"length" is outside of buffer bounds');var Ge;return Ie===void 0&&Ve===void 0?Ge=new Uint8Array(tt):Ve===void 0?Ge=new Uint8Array(tt,Ie):Ge=new Uint8Array(tt,Ie,Ve),Object.setPrototypeOf(Ge,a.prototype),Ge}function E(tt){if(a.isBuffer(tt)){var Ie=m(tt.length)|0,Ve=c(Ie);return Ve.length===0||tt.copy(Ve,0,0,Ie),Ve}if(tt.length!==void 0)return typeof tt.length!="number"||ht(tt.length)?c(0):S(tt);if(tt.type==="Buffer"&&Array.isArray(tt.data))return S(tt.data)}function m(tt){if(tt>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return tt|0}function k(tt){return+tt!=tt&&(tt=0),a.alloc(+tt)}a.isBuffer=function(Ie){return Ie!=null&&Ie._isBuffer===!0&&Ie!==a.prototype},a.compare=function(Ie,Ve){if(ut(Ie,Uint8Array)&&(Ie=a.from(Ie,Ie.offset,Ie.byteLength)),ut(Ve,Uint8Array)&&(Ve=a.from(Ve,Ve.offset,Ve.byteLength)),!a.isBuffer(Ie)||!a.isBuffer(Ve))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Ie===Ve)return 0;for(var Ge=Ie.length,Xe=Ve.length,Le=0,Fe=Math.min(Ge,Xe);Le<Fe;++Le)if(Ie[Le]!==Ve[Le]){Ge=Ie[Le],Xe=Ve[Le];break}return Ge<Xe?-1:Xe<Ge?1:0},a.isEncoding=function(Ie){switch(String(Ie).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(Ie,Ve){if(!Array.isArray(Ie))throw new TypeError('"list" argument must be an Array of Buffers');if(Ie.length===0)return a.alloc(0);var Ge;if(Ve===void 0)for(Ve=0,Ge=0;Ge<Ie.length;++Ge)Ve+=Ie[Ge].length;var Xe=a.allocUnsafe(Ve),Le=0;for(Ge=0;Ge<Ie.length;++Ge){var Fe=Ie[Ge];if(ut(Fe,Uint8Array))Le+Fe.length>Xe.length?(a.isBuffer(Fe)||(Fe=a.from(Fe)),Fe.copy(Xe,Le)):Uint8Array.prototype.set.call(Xe,Fe,Le);else if(a.isBuffer(Fe))Fe.copy(Xe,Le);else throw new TypeError('"list" argument must be an Array of Buffers');Le+=Fe.length}return Xe};function I(tt,Ie){if(a.isBuffer(tt))return tt.length;if(ArrayBuffer.isView(tt)||ut(tt,ArrayBuffer))return tt.byteLength;if(typeof tt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+l(tt));var Ve=tt.length,Ge=arguments.length>2&&arguments[2]===!0;if(!Ge&&Ve===0)return 0;for(var Xe=!1;;)switch(Ie){case"ascii":case"latin1":case"binary":return Ve;case"utf8":case"utf-8":return He(tt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ve*2;case"hex":return Ve>>>1;case"base64":return Ze(tt).length;default:if(Xe)return Ge?-1:He(tt).length;Ie=(""+Ie).toLowerCase(),Xe=!0}}a.byteLength=I;function O(tt,Ie,Ve){var Ge=!1;if((Ie===void 0||Ie<0)&&(Ie=0),Ie>this.length||((Ve===void 0||Ve>this.length)&&(Ve=this.length),Ve<=0)||(Ve>>>=0,Ie>>>=0,Ve<=Ie))return"";for(tt||(tt="utf8");;)switch(tt){case"hex":return Q(this,Ie,Ve);case"utf8":case"utf-8":return le(this,Ie,Ve);case"ascii":return $(this,Ie,Ve);case"latin1":case"binary":return X(this,Ie,Ve);case"base64":return re(this,Ie,Ve);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,Ie,Ve);default:if(Ge)throw new TypeError("Unknown encoding: "+tt);tt=(tt+"").toLowerCase(),Ge=!0}}a.prototype._isBuffer=!0;function _(tt,Ie,Ve){var Ge=tt[Ie];tt[Ie]=tt[Ve],tt[Ve]=Ge}a.prototype.swap16=function(){var Ie=this.length;if(Ie%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ve=0;Ve<Ie;Ve+=2)_(this,Ve,Ve+1);return this},a.prototype.swap32=function(){var Ie=this.length;if(Ie%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ve=0;Ve<Ie;Ve+=4)_(this,Ve,Ve+3),_(this,Ve+1,Ve+2);return this},a.prototype.swap64=function(){var Ie=this.length;if(Ie%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ve=0;Ve<Ie;Ve+=8)_(this,Ve,Ve+7),_(this,Ve+1,Ve+6),_(this,Ve+2,Ve+5),_(this,Ve+3,Ve+4);return this},a.prototype.toString=function(){var Ie=this.length;return Ie===0?"":arguments.length===0?le(this,0,Ie):O.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(Ie){if(!a.isBuffer(Ie))throw new TypeError("Argument must be a Buffer");return this===Ie?!0:a.compare(this,Ie)===0},a.prototype.inspect=function(){var Ie="",Ve=V.INSPECT_MAX_BYTES;return Ie=this.toString("hex",0,Ve).replace(/(.{2})/g,"$1 ").trim(),this.length>Ve&&(Ie+=" ... "),"<Buffer "+Ie+">"},g&&(a.prototype[g]=a.prototype.inspect),a.prototype.compare=function(Ie,Ve,Ge,Xe,Le){if(ut(Ie,Uint8Array)&&(Ie=a.from(Ie,Ie.offset,Ie.byteLength)),!a.isBuffer(Ie))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+l(Ie));if(Ve===void 0&&(Ve=0),Ge===void 0&&(Ge=Ie?Ie.length:0),Xe===void 0&&(Xe=0),Le===void 0&&(Le=this.length),Ve<0||Ge>Ie.length||Xe<0||Le>this.length)throw new RangeError("out of range index");if(Xe>=Le&&Ve>=Ge)return 0;if(Xe>=Le)return-1;if(Ve>=Ge)return 1;if(Ve>>>=0,Ge>>>=0,Xe>>>=0,Le>>>=0,this===Ie)return 0;for(var Fe=Le-Xe,Ue=Ge-Ve,Ee=Math.min(Fe,Ue),he=this.slice(Xe,Le),ye=Ie.slice(Ve,Ge),_e=0;_e<Ee;++_e)if(he[_e]!==ye[_e]){Fe=he[_e],Ue=ye[_e];break}return Fe<Ue?-1:Ue<Fe?1:0};function B(tt,Ie,Ve,Ge,Xe){if(tt.length===0)return-1;if(typeof Ve=="string"?(Ge=Ve,Ve=0):Ve>2147483647?Ve=2147483647:Ve<-2147483648&&(Ve=-2147483648),Ve=+Ve,ht(Ve)&&(Ve=Xe?0:tt.length-1),Ve<0&&(Ve=tt.length+Ve),Ve>=tt.length){if(Xe)return-1;Ve=tt.length-1}else if(Ve<0)if(Xe)Ve=0;else return-1;if(typeof Ie=="string"&&(Ie=a.from(Ie,Ge)),a.isBuffer(Ie))return Ie.length===0?-1:F(tt,Ie,Ve,Ge,Xe);if(typeof Ie=="number")return Ie=Ie&255,typeof Uint8Array.prototype.indexOf=="function"?Xe?Uint8Array.prototype.indexOf.call(tt,Ie,Ve):Uint8Array.prototype.lastIndexOf.call(tt,Ie,Ve):F(tt,[Ie],Ve,Ge,Xe);throw new TypeError("val must be string, number or Buffer")}function F(tt,Ie,Ve,Ge,Xe){var Le=1,Fe=tt.length,Ue=Ie.length;if(Ge!==void 0&&(Ge=String(Ge).toLowerCase(),Ge==="ucs2"||Ge==="ucs-2"||Ge==="utf16le"||Ge==="utf-16le")){if(tt.length<2||Ie.length<2)return-1;Le=2,Fe/=2,Ue/=2,Ve/=2}function Ee(rt,st){return Le===1?rt[st]:rt.readUInt16BE(st*Le)}var he;if(Xe){var ye=-1;for(he=Ve;he<Fe;he++)if(Ee(tt,he)===Ee(Ie,ye===-1?0:he-ye)){if(ye===-1&&(ye=he),he-ye+1===Ue)return ye*Le}else ye!==-1&&(he-=he-ye),ye=-1}else for(Ve+Ue>Fe&&(Ve=Fe-Ue),he=Ve;he>=0;he--){for(var _e=!0,We=0;We<Ue;We++)if(Ee(tt,he+We)!==Ee(Ie,We)){_e=!1;break}if(_e)return he}return-1}a.prototype.includes=function(Ie,Ve,Ge){return this.indexOf(Ie,Ve,Ge)!==-1},a.prototype.indexOf=function(Ie,Ve,Ge){return B(this,Ie,Ve,Ge,!0)},a.prototype.lastIndexOf=function(Ie,Ve,Ge){return B(this,Ie,Ve,Ge,!1)};function z(tt,Ie,Ve,Ge){Ve=Number(Ve)||0;var Xe=tt.length-Ve;Ge?(Ge=Number(Ge),Ge>Xe&&(Ge=Xe)):Ge=Xe;var Le=Ie.length;Ge>Le/2&&(Ge=Le/2);var Fe;for(Fe=0;Fe<Ge;++Fe){var Ue=parseInt(Ie.substr(Fe*2,2),16);if(ht(Ue))return Fe;tt[Ve+Fe]=Ue}return Fe}function N(tt,Ie,Ve,Ge){return $e(He(Ie,tt.length-Ve),tt,Ve,Ge)}function W(tt,Ie,Ve,Ge){return $e(je(Ie),tt,Ve,Ge)}function Z(tt,Ie,Ve,Ge){return $e(Ze(Ie),tt,Ve,Ge)}function q(tt,Ie,Ve,Ge){return $e(at(Ie,tt.length-Ve),tt,Ve,Ge)}a.prototype.write=function(Ie,Ve,Ge,Xe){if(Ve===void 0)Xe="utf8",Ge=this.length,Ve=0;else if(Ge===void 0&&typeof Ve=="string")Xe=Ve,Ge=this.length,Ve=0;else if(isFinite(Ve))Ve=Ve>>>0,isFinite(Ge)?(Ge=Ge>>>0,Xe===void 0&&(Xe="utf8")):(Xe=Ge,Ge=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Le=this.length-Ve;if((Ge===void 0||Ge>Le)&&(Ge=Le),Ie.length>0&&(Ge<0||Ve<0)||Ve>this.length)throw new RangeError("Attempt to write outside buffer bounds");Xe||(Xe="utf8");for(var Fe=!1;;)switch(Xe){case"hex":return z(this,Ie,Ve,Ge);case"utf8":case"utf-8":return N(this,Ie,Ve,Ge);case"ascii":case"latin1":case"binary":return W(this,Ie,Ve,Ge);case"base64":return Z(this,Ie,Ve,Ge);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,Ie,Ve,Ge);default:if(Fe)throw new TypeError("Unknown encoding: "+Xe);Xe=(""+Xe).toLowerCase(),Fe=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function re(tt,Ie,Ve){return Ie===0&&Ve===tt.length?u.fromByteArray(tt):u.fromByteArray(tt.slice(Ie,Ve))}function le(tt,Ie,Ve){Ve=Math.min(tt.length,Ve);for(var Ge=[],Xe=Ie;Xe<Ve;){var Le=tt[Xe],Fe=null,Ue=Le>239?4:Le>223?3:Le>191?2:1;if(Xe+Ue<=Ve){var Ee=void 0,he=void 0,ye=void 0,_e=void 0;switch(Ue){case 1:Le<128&&(Fe=Le);break;case 2:Ee=tt[Xe+1],(Ee&192)===128&&(_e=(Le&31)<<6|Ee&63,_e>127&&(Fe=_e));break;case 3:Ee=tt[Xe+1],he=tt[Xe+2],(Ee&192)===128&&(he&192)===128&&(_e=(Le&15)<<12|(Ee&63)<<6|he&63,_e>2047&&(_e<55296||_e>57343)&&(Fe=_e));break;case 4:Ee=tt[Xe+1],he=tt[Xe+2],ye=tt[Xe+3],(Ee&192)===128&&(he&192)===128&&(ye&192)===128&&(_e=(Le&15)<<18|(Ee&63)<<12|(he&63)<<6|ye&63,_e>65535&&_e<1114112&&(Fe=_e))}}Fe===null?(Fe=65533,Ue=1):Fe>65535&&(Fe-=65536,Ge.push(Fe>>>10&1023|55296),Fe=56320|Fe&1023),Ge.push(Fe),Xe+=Ue}return K(Ge)}var ie=4096;function K(tt){var Ie=tt.length;if(Ie<=ie)return String.fromCharCode.apply(String,tt);for(var Ve="",Ge=0;Ge<Ie;)Ve+=String.fromCharCode.apply(String,tt.slice(Ge,Ge+=ie));return Ve}function $(tt,Ie,Ve){var Ge="";Ve=Math.min(tt.length,Ve);for(var Xe=Ie;Xe<Ve;++Xe)Ge+=String.fromCharCode(tt[Xe]&127);return Ge}function X(tt,Ie,Ve){var Ge="";Ve=Math.min(tt.length,Ve);for(var Xe=Ie;Xe<Ve;++Xe)Ge+=String.fromCharCode(tt[Xe]);return Ge}function Q(tt,Ie,Ve){var Ge=tt.length;(!Ie||Ie<0)&&(Ie=0),(!Ve||Ve<0||Ve>Ge)&&(Ve=Ge);for(var Xe="",Le=Ie;Le<Ve;++Le)Xe+=vt[tt[Le]];return Xe}function se(tt,Ie,Ve){for(var Ge=tt.slice(Ie,Ve),Xe="",Le=0;Le<Ge.length-1;Le+=2)Xe+=String.fromCharCode(Ge[Le]+Ge[Le+1]*256);return Xe}a.prototype.slice=function(Ie,Ve){var Ge=this.length;Ie=~~Ie,Ve=Ve===void 0?Ge:~~Ve,Ie<0?(Ie+=Ge,Ie<0&&(Ie=0)):Ie>Ge&&(Ie=Ge),Ve<0?(Ve+=Ge,Ve<0&&(Ve=0)):Ve>Ge&&(Ve=Ge),Ve<Ie&&(Ve=Ie);var Xe=this.subarray(Ie,Ve);return Object.setPrototypeOf(Xe,a.prototype),Xe};function J(tt,Ie,Ve){if(tt%1!==0||tt<0)throw new RangeError("offset is not uint");if(tt+Ie>Ve)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(Ie,Ve,Ge){Ie=Ie>>>0,Ve=Ve>>>0,Ge||J(Ie,Ve,this.length);for(var Xe=this[Ie],Le=1,Fe=0;++Fe<Ve&&(Le*=256);)Xe+=this[Ie+Fe]*Le;return Xe},a.prototype.readUintBE=a.prototype.readUIntBE=function(Ie,Ve,Ge){Ie=Ie>>>0,Ve=Ve>>>0,Ge||J(Ie,Ve,this.length);for(var Xe=this[Ie+--Ve],Le=1;Ve>0&&(Le*=256);)Xe+=this[Ie+--Ve]*Le;return Xe},a.prototype.readUint8=a.prototype.readUInt8=function(Ie,Ve){return Ie=Ie>>>0,Ve||J(Ie,1,this.length),this[Ie]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(Ie,Ve){return Ie=Ie>>>0,Ve||J(Ie,2,this.length),this[Ie]|this[Ie+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(Ie,Ve){return Ie=Ie>>>0,Ve||J(Ie,2,this.length),this[Ie]<<8|this[Ie+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(Ie,Ve){return Ie=Ie>>>0,Ve||J(Ie,4,this.length),(this[Ie]|this[Ie+1]<<8|this[Ie+2]<<16)+this[Ie+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(Ie,Ve){return Ie=Ie>>>0,Ve||J(Ie,4,this.length),this[Ie]*16777216+(this[Ie+1]<<16|this[Ie+2]<<8|this[Ie+3])},a.prototype.readBigUInt64LE=xt(function(Ie){Ie=Ie>>>0,Re(Ie,"offset");var Ve=this[Ie],Ge=this[Ie+7];(Ve===void 0||Ge===void 0)&&Me(Ie,this.length-8);var Xe=Ve+this[++Ie]*Math.pow(2,8)+this[++Ie]*Math.pow(2,16)+this[++Ie]*Math.pow(2,24),Le=this[++Ie]+this[++Ie]*Math.pow(2,8)+this[++Ie]*Math.pow(2,16)+Ge*Math.pow(2,24);return BigInt(Xe)+(BigInt(Le)<<BigInt(32))}),a.prototype.readBigUInt64BE=xt(function(Ie){Ie=Ie>>>0,Re(Ie,"offset");var Ve=this[Ie],Ge=this[Ie+7];(Ve===void 0||Ge===void 0)&&Me(Ie,this.length-8);var Xe=Ve*Math.pow(2,24)+this[++Ie]*Math.pow(2,16)+this[++Ie]*Math.pow(2,8)+this[++Ie],Le=this[++Ie]*Math.pow(2,24)+this[++Ie]*Math.pow(2,16)+this[++Ie]*Math.pow(2,8)+Ge;return(BigInt(Xe)<<BigInt(32))+BigInt(Le)}),a.prototype.readIntLE=function(Ie,Ve,Ge){Ie=Ie>>>0,Ve=Ve>>>0,Ge||J(Ie,Ve,this.length);for(var Xe=this[Ie],Le=1,Fe=0;++Fe<Ve&&(Le*=256);)Xe+=this[Ie+Fe]*Le;return Le*=128,Xe>=Le&&(Xe-=Math.pow(2,8*Ve)),Xe},a.prototype.readIntBE=function(Ie,Ve,Ge){Ie=Ie>>>0,Ve=Ve>>>0,Ge||J(Ie,Ve,this.length);for(var Xe=Ve,Le=1,Fe=this[Ie+--Xe];Xe>0&&(Le*=256);)Fe+=this[Ie+--Xe]*Le;return Le*=128,Fe>=Le&&(Fe-=Math.pow(2,8*Ve)),Fe},a.prototype.readInt8=function(Ie,Ve){return Ie=Ie>>>0,Ve||J(Ie,1,this.length),this[Ie]&128?(255-this[Ie]+1)*-1:this[Ie]},a.prototype.readInt16LE=function(Ie,Ve){Ie=Ie>>>0,Ve||J(Ie,2,this.length);var Ge=this[Ie]|this[Ie+1]<<8;return Ge&32768?Ge|4294901760:Ge},a.prototype.readInt16BE=function(Ie,Ve){Ie=Ie>>>0,Ve||J(Ie,2,this.length);var Ge=this[Ie+1]|this[Ie]<<8;return Ge&32768?Ge|4294901760:Ge},a.prototype.readInt32LE=function(Ie,Ve){return Ie=Ie>>>0,Ve||J(Ie,4,this.length),this[Ie]|this[Ie+1]<<8|this[Ie+2]<<16|this[Ie+3]<<24},a.prototype.readInt32BE=function(Ie,Ve){return Ie=Ie>>>0,Ve||J(Ie,4,this.length),this[Ie]<<24|this[Ie+1]<<16|this[Ie+2]<<8|this[Ie+3]},a.prototype.readBigInt64LE=xt(function(Ie){Ie=Ie>>>0,Re(Ie,"offset");var Ve=this[Ie],Ge=this[Ie+7];(Ve===void 0||Ge===void 0)&&Me(Ie,this.length-8);var Xe=this[Ie+4]+this[Ie+5]*Math.pow(2,8)+this[Ie+6]*Math.pow(2,16)+(Ge<<24);return(BigInt(Xe)<<BigInt(32))+BigInt(Ve+this[++Ie]*Math.pow(2,8)+this[++Ie]*Math.pow(2,16)+this[++Ie]*Math.pow(2,24))}),a.prototype.readBigInt64BE=xt(function(Ie){Ie=Ie>>>0,Re(Ie,"offset");var Ve=this[Ie],Ge=this[Ie+7];(Ve===void 0||Ge===void 0)&&Me(Ie,this.length-8);var Xe=(Ve<<24)+this[++Ie]*Math.pow(2,16)+this[++Ie]*Math.pow(2,8)+this[++Ie];return(BigInt(Xe)<<BigInt(32))+BigInt(this[++Ie]*Math.pow(2,24)+this[++Ie]*Math.pow(2,16)+this[++Ie]*Math.pow(2,8)+Ge)}),a.prototype.readFloatLE=function(Ie,Ve){return Ie=Ie>>>0,Ve||J(Ie,4,this.length),f.read(this,Ie,!0,23,4)},a.prototype.readFloatBE=function(Ie,Ve){return Ie=Ie>>>0,Ve||J(Ie,4,this.length),f.read(this,Ie,!1,23,4)},a.prototype.readDoubleLE=function(Ie,Ve){return Ie=Ie>>>0,Ve||J(Ie,8,this.length),f.read(this,Ie,!0,52,8)},a.prototype.readDoubleBE=function(Ie,Ve){return Ie=Ie>>>0,Ve||J(Ie,8,this.length),f.read(this,Ie,!1,52,8)};function G(tt,Ie,Ve,Ge,Xe,Le){if(!a.isBuffer(tt))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ie>Xe||Ie<Le)throw new RangeError('"value" argument is out of bounds');if(Ve+Ge>tt.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(Ie,Ve,Ge,Xe){if(Ie=+Ie,Ve=Ve>>>0,Ge=Ge>>>0,!Xe){var Le=Math.pow(2,8*Ge)-1;G(this,Ie,Ve,Ge,Le,0)}var Fe=1,Ue=0;for(this[Ve]=Ie&255;++Ue<Ge&&(Fe*=256);)this[Ve+Ue]=Ie/Fe&255;return Ve+Ge},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(Ie,Ve,Ge,Xe){if(Ie=+Ie,Ve=Ve>>>0,Ge=Ge>>>0,!Xe){var Le=Math.pow(2,8*Ge)-1;G(this,Ie,Ve,Ge,Le,0)}var Fe=Ge-1,Ue=1;for(this[Ve+Fe]=Ie&255;--Fe>=0&&(Ue*=256);)this[Ve+Fe]=Ie/Ue&255;return Ve+Ge},a.prototype.writeUint8=a.prototype.writeUInt8=function(Ie,Ve,Ge){return Ie=+Ie,Ve=Ve>>>0,Ge||G(this,Ie,Ve,1,255,0),this[Ve]=Ie&255,Ve+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(Ie,Ve,Ge){return Ie=+Ie,Ve=Ve>>>0,Ge||G(this,Ie,Ve,2,65535,0),this[Ve]=Ie&255,this[Ve+1]=Ie>>>8,Ve+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(Ie,Ve,Ge){return Ie=+Ie,Ve=Ve>>>0,Ge||G(this,Ie,Ve,2,65535,0),this[Ve]=Ie>>>8,this[Ve+1]=Ie&255,Ve+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(Ie,Ve,Ge){return Ie=+Ie,Ve=Ve>>>0,Ge||G(this,Ie,Ve,4,4294967295,0),this[Ve+3]=Ie>>>24,this[Ve+2]=Ie>>>16,this[Ve+1]=Ie>>>8,this[Ve]=Ie&255,Ve+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(Ie,Ve,Ge){return Ie=+Ie,Ve=Ve>>>0,Ge||G(this,Ie,Ve,4,4294967295,0),this[Ve]=Ie>>>24,this[Ve+1]=Ie>>>16,this[Ve+2]=Ie>>>8,this[Ve+3]=Ie&255,Ve+4};function oe(tt,Ie,Ve,Ge,Xe){Te(Ie,Ge,Xe,tt,Ve,7);var Le=Number(Ie&BigInt(4294967295));tt[Ve++]=Le,Le=Le>>8,tt[Ve++]=Le,Le=Le>>8,tt[Ve++]=Le,Le=Le>>8,tt[Ve++]=Le;var Fe=Number(Ie>>BigInt(32)&BigInt(4294967295));return tt[Ve++]=Fe,Fe=Fe>>8,tt[Ve++]=Fe,Fe=Fe>>8,tt[Ve++]=Fe,Fe=Fe>>8,tt[Ve++]=Fe,Ve}function te(tt,Ie,Ve,Ge,Xe){Te(Ie,Ge,Xe,tt,Ve,7);var Le=Number(Ie&BigInt(4294967295));tt[Ve+7]=Le,Le=Le>>8,tt[Ve+6]=Le,Le=Le>>8,tt[Ve+5]=Le,Le=Le>>8,tt[Ve+4]=Le;var Fe=Number(Ie>>BigInt(32)&BigInt(4294967295));return tt[Ve+3]=Fe,Fe=Fe>>8,tt[Ve+2]=Fe,Fe=Fe>>8,tt[Ve+1]=Fe,Fe=Fe>>8,tt[Ve]=Fe,Ve+8}a.prototype.writeBigUInt64LE=xt(function(Ie){var Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return oe(this,Ie,Ve,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=xt(function(Ie){var Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return te(this,Ie,Ve,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(Ie,Ve,Ge,Xe){if(Ie=+Ie,Ve=Ve>>>0,!Xe){var Le=Math.pow(2,8*Ge-1);G(this,Ie,Ve,Ge,Le-1,-Le)}var Fe=0,Ue=1,Ee=0;for(this[Ve]=Ie&255;++Fe<Ge&&(Ue*=256);)Ie<0&&Ee===0&&this[Ve+Fe-1]!==0&&(Ee=1),this[Ve+Fe]=(Ie/Ue>>0)-Ee&255;return Ve+Ge},a.prototype.writeIntBE=function(Ie,Ve,Ge,Xe){if(Ie=+Ie,Ve=Ve>>>0,!Xe){var Le=Math.pow(2,8*Ge-1);G(this,Ie,Ve,Ge,Le-1,-Le)}var Fe=Ge-1,Ue=1,Ee=0;for(this[Ve+Fe]=Ie&255;--Fe>=0&&(Ue*=256);)Ie<0&&Ee===0&&this[Ve+Fe+1]!==0&&(Ee=1),this[Ve+Fe]=(Ie/Ue>>0)-Ee&255;return Ve+Ge},a.prototype.writeInt8=function(Ie,Ve,Ge){return Ie=+Ie,Ve=Ve>>>0,Ge||G(this,Ie,Ve,1,127,-128),Ie<0&&(Ie=255+Ie+1),this[Ve]=Ie&255,Ve+1},a.prototype.writeInt16LE=function(Ie,Ve,Ge){return Ie=+Ie,Ve=Ve>>>0,Ge||G(this,Ie,Ve,2,32767,-32768),this[Ve]=Ie&255,this[Ve+1]=Ie>>>8,Ve+2},a.prototype.writeInt16BE=function(Ie,Ve,Ge){return Ie=+Ie,Ve=Ve>>>0,Ge||G(this,Ie,Ve,2,32767,-32768),this[Ve]=Ie>>>8,this[Ve+1]=Ie&255,Ve+2},a.prototype.writeInt32LE=function(Ie,Ve,Ge){return Ie=+Ie,Ve=Ve>>>0,Ge||G(this,Ie,Ve,4,2147483647,-2147483648),this[Ve]=Ie&255,this[Ve+1]=Ie>>>8,this[Ve+2]=Ie>>>16,this[Ve+3]=Ie>>>24,Ve+4},a.prototype.writeInt32BE=function(Ie,Ve,Ge){return Ie=+Ie,Ve=Ve>>>0,Ge||G(this,Ie,Ve,4,2147483647,-2147483648),Ie<0&&(Ie=4294967295+Ie+1),this[Ve]=Ie>>>24,this[Ve+1]=Ie>>>16,this[Ve+2]=Ie>>>8,this[Ve+3]=Ie&255,Ve+4},a.prototype.writeBigInt64LE=xt(function(Ie){var Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return oe(this,Ie,Ve,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=xt(function(Ie){var Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return te(this,Ie,Ve,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function fe(tt,Ie,Ve,Ge,Xe,Le){if(Ve+Ge>tt.length)throw new RangeError("Index out of range");if(Ve<0)throw new RangeError("Index out of range")}function ge(tt,Ie,Ve,Ge,Xe){return Ie=+Ie,Ve=Ve>>>0,Xe||fe(tt,Ie,Ve,4),f.write(tt,Ie,Ve,Ge,23,4),Ve+4}a.prototype.writeFloatLE=function(Ie,Ve,Ge){return ge(this,Ie,Ve,!0,Ge)},a.prototype.writeFloatBE=function(Ie,Ve,Ge){return ge(this,Ie,Ve,!1,Ge)};function we(tt,Ie,Ve,Ge,Xe){return Ie=+Ie,Ve=Ve>>>0,Xe||fe(tt,Ie,Ve,8),f.write(tt,Ie,Ve,Ge,52,8),Ve+8}a.prototype.writeDoubleLE=function(Ie,Ve,Ge){return we(this,Ie,Ve,!0,Ge)},a.prototype.writeDoubleBE=function(Ie,Ve,Ge){return we(this,Ie,Ve,!1,Ge)},a.prototype.copy=function(Ie,Ve,Ge,Xe){if(!a.isBuffer(Ie))throw new TypeError("argument should be a Buffer");if(Ge||(Ge=0),!Xe&&Xe!==0&&(Xe=this.length),Ve>=Ie.length&&(Ve=Ie.length),Ve||(Ve=0),Xe>0&&Xe<Ge&&(Xe=Ge),Xe===Ge||Ie.length===0||this.length===0)return 0;if(Ve<0)throw new RangeError("targetStart out of bounds");if(Ge<0||Ge>=this.length)throw new RangeError("Index out of range");if(Xe<0)throw new RangeError("sourceEnd out of bounds");Xe>this.length&&(Xe=this.length),Ie.length-Ve<Xe-Ge&&(Xe=Ie.length-Ve+Ge);var Le=Xe-Ge;return this===Ie&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ve,Ge,Xe):Uint8Array.prototype.set.call(Ie,this.subarray(Ge,Xe),Ve),Le},a.prototype.fill=function(Ie,Ve,Ge,Xe){if(typeof Ie=="string"){if(typeof Ve=="string"?(Xe=Ve,Ve=0,Ge=this.length):typeof Ge=="string"&&(Xe=Ge,Ge=this.length),Xe!==void 0&&typeof Xe!="string")throw new TypeError("encoding must be a string");if(typeof Xe=="string"&&!a.isEncoding(Xe))throw new TypeError("Unknown encoding: "+Xe);if(Ie.length===1){var Le=Ie.charCodeAt(0);(Xe==="utf8"&&Le<128||Xe==="latin1")&&(Ie=Le)}}else typeof Ie=="number"?Ie=Ie&255:typeof Ie=="boolean"&&(Ie=Number(Ie));if(Ve<0||this.length<Ve||this.length<Ge)throw new RangeError("Out of range index");if(Ge<=Ve)return this;Ve=Ve>>>0,Ge=Ge===void 0?this.length:Ge>>>0,Ie||(Ie=0);var Fe;if(typeof Ie=="number")for(Fe=Ve;Fe<Ge;++Fe)this[Fe]=Ie;else{var Ue=a.isBuffer(Ie)?Ie:a.from(Ie,Xe),Ee=Ue.length;if(Ee===0)throw new TypeError('The value "'+Ie+'" is invalid for argument "value"');for(Fe=0;Fe<Ge-Ve;++Fe)this[Fe+Ve]=Ue[Fe%Ee]}return this};var xe={};function Ce(tt,Ie,Ve){xe[tt]=function(Ge){o(Xe,Ge);function Xe(){var Le;return b(this,Xe),Le=v(this,Xe),Object.defineProperty(t(Le),"message",{value:Ie.apply(t(Le),arguments),writable:!0,configurable:!0}),Le.name="".concat(Le.name," [").concat(tt,"]"),Le.stack,delete Le.name,Le}return s(Xe,[{key:"code",get:function(){return tt},set:function(Fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Fe,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(tt,"]: ").concat(this.message)}}]),Xe}(Ve)}Ce("ERR_BUFFER_OUT_OF_BOUNDS",function(tt){return tt?"".concat(tt," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ce("ERR_INVALID_ARG_TYPE",function(tt,Ie){return'The "'.concat(tt,'" argument must be of type number. Received type ').concat(l(Ie))},TypeError),Ce("ERR_OUT_OF_RANGE",function(tt,Ie,Ve){var Ge='The value of "'.concat(tt,'" is out of range.'),Xe=Ve;return Number.isInteger(Ve)&&Math.abs(Ve)>Math.pow(2,32)?Xe=De(String(Ve)):typeof Ve=="bigint"&&(Xe=String(Ve),(Ve>Math.pow(BigInt(2),BigInt(32))||Ve<-Math.pow(BigInt(2),BigInt(32)))&&(Xe=De(Xe)),Xe+="n"),Ge+=" It must be ".concat(Ie,". Received ").concat(Xe),Ge},RangeError);function De(tt){for(var Ie="",Ve=tt.length,Ge=tt[0]==="-"?1:0;Ve>=Ge+4;Ve-=3)Ie="_".concat(tt.slice(Ve-3,Ve)).concat(Ie);return"".concat(tt.slice(0,Ve)).concat(Ie)}function Oe(tt,Ie,Ve){Re(Ie,"offset"),(tt[Ie]===void 0||tt[Ie+Ve]===void 0)&&Me(Ie,tt.length-(Ve+1))}function Te(tt,Ie,Ve,Ge,Xe,Le){if(tt>Ve||tt<Ie){var Fe=typeof Ie=="bigint"?"n":"",Ue;throw Ie===0||Ie===BigInt(0)?Ue=">= 0".concat(Fe," and < 2").concat(Fe," ** ").concat((Le+1)*8).concat(Fe):Ue=">= -(2".concat(Fe," ** ").concat((Le+1)*8-1).concat(Fe,") and < 2 ** ")+"".concat((Le+1)*8-1).concat(Fe),new xe.ERR_OUT_OF_RANGE("value",Ue,tt)}Oe(Ge,Xe,Le)}function Re(tt,Ie){if(typeof tt!="number")throw new xe.ERR_INVALID_ARG_TYPE(Ie,"number",tt)}function Me(tt,Ie,Ve){throw Math.floor(tt)!==tt?(Re(tt,Ve),new xe.ERR_OUT_OF_RANGE("offset","an integer",tt)):Ie<0?new xe.ERR_BUFFER_OUT_OF_BOUNDS:new xe.ERR_OUT_OF_RANGE("offset",">= ".concat(0," and <= ").concat(Ie),tt)}var ke=/[^+/0-9A-Za-z-_]/g;function Se(tt){if(tt=tt.split("=")[0],tt=tt.trim().replace(ke,""),tt.length<2)return"";for(;tt.length%4!==0;)tt=tt+"=";return tt}function He(tt,Ie){Ie=Ie||1/0;for(var Ve,Ge=tt.length,Xe=null,Le=[],Fe=0;Fe<Ge;++Fe){if(Ve=tt.charCodeAt(Fe),Ve>55295&&Ve<57344){if(!Xe){if(Ve>56319){(Ie-=3)>-1&&Le.push(239,191,189);continue}else if(Fe+1===Ge){(Ie-=3)>-1&&Le.push(239,191,189);continue}Xe=Ve;continue}if(Ve<56320){(Ie-=3)>-1&&Le.push(239,191,189),Xe=Ve;continue}Ve=(Xe-55296<<10|Ve-56320)+65536}else Xe&&(Ie-=3)>-1&&Le.push(239,191,189);if(Xe=null,Ve<128){if((Ie-=1)<0)break;Le.push(Ve)}else if(Ve<2048){if((Ie-=2)<0)break;Le.push(Ve>>6|192,Ve&63|128)}else if(Ve<65536){if((Ie-=3)<0)break;Le.push(Ve>>12|224,Ve>>6&63|128,Ve&63|128)}else if(Ve<1114112){if((Ie-=4)<0)break;Le.push(Ve>>18|240,Ve>>12&63|128,Ve>>6&63|128,Ve&63|128)}else throw new Error("Invalid code point")}return Le}function je(tt){for(var Ie=[],Ve=0;Ve<tt.length;++Ve)Ie.push(tt.charCodeAt(Ve)&255);return Ie}function at(tt,Ie){for(var Ve,Ge,Xe,Le=[],Fe=0;Fe<tt.length&&!((Ie-=2)<0);++Fe)Ve=tt.charCodeAt(Fe),Ge=Ve>>8,Xe=Ve%256,Le.push(Xe),Le.push(Ge);return Le}function Ze(tt){return u.toByteArray(Se(tt))}function $e(tt,Ie,Ve,Ge){var Xe;for(Xe=0;Xe<Ge&&!(Xe+Ve>=Ie.length||Xe>=tt.length);++Xe)Ie[Xe+Ve]=tt[Xe];return Xe}function ut(tt,Ie){return tt instanceof Ie||tt!=null&&tt.constructor!=null&&tt.constructor.name!=null&&tt.constructor.name===Ie.name}function ht(tt){return tt!==tt}var vt=function(){for(var tt="0123456789abcdef",Ie=new Array(256),Ve=0;Ve<16;++Ve)for(var Ge=Ve*16,Xe=0;Xe<16;++Xe)Ie[Ge+Xe]=tt[Ve]+tt[Xe];return Ie}();function xt(tt){return typeof BigInt>"u"?St:tt}function St(){throw new Error("BigInt not supported")}},25928:function(Y){Y.exports=P,Y.exports.isMobile=P,Y.exports.default=P;var V=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,b=/android|ipad|playbook|silk/i;function P(s){s||(s={});var L=s.ua;if(!L&&typeof navigator<"u"&&(L=navigator.userAgent),L&&L.headers&&typeof L.headers["user-agent"]=="string"&&(L=L.headers["user-agent"]),typeof L!="string")return!1;var M=V.test(L)&&!e.test(L)||!!s.tablet&&b.test(L);return!M&&s.tablet&&s.featureDetect&&navigator&&navigator.maxTouchPoints>1&&L.indexOf("Macintosh")!==-1&&L.indexOf("Safari")!==-1&&(M=!0),M}},48932:function(Y,V,e){e.r(V),e.d(V,{sankeyCenter:function(){return o},sankeyCircular:function(){return E},sankeyJustify:function(){return t},sankeyLeft:function(){return p},sankeyRight:function(){return r}});var b=e(84706),P=e(34712),s=e(10132),L=e(6688),M=e.n(L);function v(xe){return xe.target.depth}function p(xe){return xe.depth}function r(xe,Ce){return Ce-1-xe.height}function t(xe,Ce){return xe.sourceLinks.length?xe.depth:Ce-1}function o(xe){return xe.targetLinks.length?xe.depth:xe.sourceLinks.length?(0,b.SY)(xe.sourceLinks,v)-1:0}function n(xe){return function(){return xe}}var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xe){return typeof xe}:function(xe){return xe&&typeof Symbol=="function"&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe};function u(xe,Ce){return g(xe.source,Ce.source)||xe.index-Ce.index}function f(xe,Ce){return g(xe.target,Ce.target)||xe.index-Ce.index}function g(xe,Ce){return xe.partOfCycle===Ce.partOfCycle?xe.y0-Ce.y0:xe.circularLinkType==="top"||Ce.circularLinkType==="bottom"?-1:1}function h(xe){return xe.value}function w(xe){return(xe.y0+xe.y1)/2}function c(xe){return w(xe.source)}function a(xe){return w(xe.target)}function d(xe){return xe.index}function x(xe){return xe.nodes}function T(xe){return xe.links}function C(xe,Ce){var De=xe.get(Ce);if(!De)throw new Error("missing: "+Ce);return De}function y(xe,Ce){return Ce(xe)}var S=25,A=10,i=.3;function E(){var xe=0,Ce=0,De=1,Oe=1,Te=24,Re,Me=d,ke=t,Se=x,He=T,je=32,at=2,Ze,$e=null;function ut(){var Ge={nodes:Se.apply(null,arguments),links:He.apply(null,arguments)};ht(Ge),m(Ge,Me,$e),vt(Ge),tt(Ge),k(Ge,Me),Ie(Ge,je,Me),Ve(Ge);for(var Xe=4,Le=0;Le<Xe;Le++)G(Ge,Oe,Me),oe(Ge,Oe,Me),Q(Ge,Ce,Oe,Me),G(Ge,Oe,Me),oe(Ge,Oe,Me);return we(Ge,Ce,Oe),z(Ge,at,Oe,Me),Ge}ut.nodeId=function(Ge){return arguments.length?(Me=typeof Ge=="function"?Ge:n(Ge),ut):Me},ut.nodeAlign=function(Ge){return arguments.length?(ke=typeof Ge=="function"?Ge:n(Ge),ut):ke},ut.nodeWidth=function(Ge){return arguments.length?(Te=+Ge,ut):Te},ut.nodePadding=function(Ge){return arguments.length?(Re=+Ge,ut):Re},ut.nodes=function(Ge){return arguments.length?(Se=typeof Ge=="function"?Ge:n(Ge),ut):Se},ut.links=function(Ge){return arguments.length?(He=typeof Ge=="function"?Ge:n(Ge),ut):He},ut.size=function(Ge){return arguments.length?(xe=Ce=0,De=+Ge[0],Oe=+Ge[1],ut):[De-xe,Oe-Ce]},ut.extent=function(Ge){return arguments.length?(xe=+Ge[0][0],De=+Ge[1][0],Ce=+Ge[0][1],Oe=+Ge[1][1],ut):[[xe,Ce],[De,Oe]]},ut.iterations=function(Ge){return arguments.length?(je=+Ge,ut):je},ut.circularLinkGap=function(Ge){return arguments.length?(at=+Ge,ut):at},ut.nodePaddingRatio=function(Ge){return arguments.length?(Ze=+Ge,ut):Ze},ut.sortNodes=function(Ge){return arguments.length?($e=Ge,ut):$e},ut.update=function(Ge){return k(Ge,Me),Ve(Ge),Ge.links.forEach(function(Xe){Xe.circular&&(Xe.circularLinkType=Xe.y0+Xe.y1<Oe?"top":"bottom",Xe.source.circularLinkType=Xe.circularLinkType,Xe.target.circularLinkType=Xe.circularLinkType)}),G(Ge,Oe,Me,!1),oe(Ge,Oe,Me),z(Ge,at,Oe,Me),Ge};function ht(Ge){Ge.nodes.forEach(function(Le,Fe){Le.index=Fe,Le.sourceLinks=[],Le.targetLinks=[]});var Xe=(0,P.kH)(Ge.nodes,Me);return Ge.links.forEach(function(Le,Fe){Le.index=Fe;var Ue=Le.source,Ee=Le.target;(typeof Ue>"u"?"undefined":l(Ue))!=="object"&&(Ue=Le.source=C(Xe,Ue)),(typeof Ee>"u"?"undefined":l(Ee))!=="object"&&(Ee=Le.target=C(Xe,Ee)),Ue.sourceLinks.push(Le),Ee.targetLinks.push(Le)}),Ge}function vt(Ge){Ge.nodes.forEach(function(Xe){Xe.partOfCycle=!1,Xe.value=Math.max((0,b.oh)(Xe.sourceLinks,h),(0,b.oh)(Xe.targetLinks,h)),Xe.sourceLinks.forEach(function(Le){Le.circular&&(Xe.partOfCycle=!0,Xe.circularLinkType=Le.circularLinkType)}),Xe.targetLinks.forEach(function(Le){Le.circular&&(Xe.partOfCycle=!0,Xe.circularLinkType=Le.circularLinkType)})})}function xt(Ge){var Xe=0,Le=0,Fe=0,Ue=0,Ee=(0,b.kv)(Ge.nodes,function(he){return he.column});return Ge.links.forEach(function(he){he.circular&&(he.circularLinkType=="top"?Xe=Xe+he.width:Le=Le+he.width,he.target.column==0&&(Ue=Ue+he.width),he.source.column==Ee&&(Fe=Fe+he.width))}),Xe=Xe>0?Xe+S+A:Xe,Le=Le>0?Le+S+A:Le,Fe=Fe>0?Fe+S+A:Fe,Ue=Ue>0?Ue+S+A:Ue,{top:Xe,bottom:Le,left:Ue,right:Fe}}function St(Ge,Xe){var Le=(0,b.kv)(Ge.nodes,function(We){return We.column}),Fe=De-xe,Ue=Oe-Ce,Ee=Fe+Xe.right+Xe.left,he=Ue+Xe.top+Xe.bottom,ye=Fe/Ee,_e=Ue/he;return xe=xe*ye+Xe.left,De=Xe.right==0?De:De*ye,Ce=Ce*_e+Xe.top,Oe=Oe*_e,Ge.nodes.forEach(function(We){We.x0=xe+We.column*((De-xe-Te)/Le),We.x1=We.x0+Te}),_e}function tt(Ge){var Xe,Le,Fe;for(Xe=Ge.nodes,Le=[],Fe=0;Xe.length;++Fe,Xe=Le,Le=[])Xe.forEach(function(Ue){Ue.depth=Fe,Ue.sourceLinks.forEach(function(Ee){Le.indexOf(Ee.target)<0&&!Ee.circular&&Le.push(Ee.target)})});for(Xe=Ge.nodes,Le=[],Fe=0;Xe.length;++Fe,Xe=Le,Le=[])Xe.forEach(function(Ue){Ue.height=Fe,Ue.targetLinks.forEach(function(Ee){Le.indexOf(Ee.source)<0&&!Ee.circular&&Le.push(Ee.source)})});Ge.nodes.forEach(function(Ue){Ue.column=Math.floor(ke.call(null,Ue,Fe))})}function Ie(Ge,Xe,Le){var Fe=(0,P.UJ)().key(function(We){return We.column}).sortKeys(b.XE).entries(Ge.nodes).map(function(We){return We.values});he(Le),_e();for(var Ue=1,Ee=Xe;Ee>0;--Ee)ye(Ue*=.99,Le),_e();function he(We){if(Ze){var rt=1/0;Fe.forEach(function(Tt){var Lt=Oe*Ze/(Tt.length+1);rt=Lt<rt?Lt:rt}),Re=rt}var st=(0,b.SY)(Fe,function(Tt){return(Oe-Ce-(Tt.length-1)*Re)/(0,b.oh)(Tt,h)});st=st*i,Ge.links.forEach(function(Tt){Tt.width=Tt.value*st});var Vt=xt(Ge),Xt=St(Ge,Vt);st=st*Xt,Ge.links.forEach(function(Tt){Tt.width=Tt.value*st}),Fe.forEach(function(Tt){var Lt=Tt.length;Tt.forEach(function(Kt,vr){Kt.depth==Fe.length-1&&Lt==1||Kt.depth==0&&Lt==1?(Kt.y0=Oe/2-Kt.value*st,Kt.y1=Kt.y0+Kt.value*st):Kt.partOfCycle?_(Kt,We)==0?(Kt.y0=Oe/2+vr,Kt.y1=Kt.y0+Kt.value*st):Kt.circularLinkType=="top"?(Kt.y0=Ce+vr,Kt.y1=Kt.y0+Kt.value*st):(Kt.y0=Oe-Kt.value*st-vr,Kt.y1=Kt.y0+Kt.value*st):Vt.top==0||Vt.bottom==0?(Kt.y0=(Oe-Ce)/Lt*vr,Kt.y1=Kt.y0+Kt.value*st):(Kt.y0=(Oe-Ce)/2-Lt/2+vr,Kt.y1=Kt.y0+Kt.value*st)})})}function ye(We,rt){var st=Fe.length;Fe.forEach(function(Vt){var Xt=Vt.length,Tt=Vt[0].depth;Vt.forEach(function(Lt){var Kt;if((Lt.sourceLinks.length||Lt.targetLinks.length)&&!(Lt.partOfCycle&&_(Lt,rt)>0))if(Tt==0&&Xt==1)Kt=Lt.y1-Lt.y0,Lt.y0=Oe/2-Kt/2,Lt.y1=Oe/2+Kt/2;else if(Tt==st-1&&Xt==1)Kt=Lt.y1-Lt.y0,Lt.y0=Oe/2-Kt/2,Lt.y1=Oe/2+Kt/2;else{var vr=0,pt=(0,b.mo)(Lt.sourceLinks,a),jt=(0,b.mo)(Lt.targetLinks,c);pt&&jt?vr=(pt+jt)/2:vr=pt||jt;var $t=(vr-w(Lt))*We;Lt.y0+=$t,Lt.y1+=$t}})})}function _e(){Fe.forEach(function(We){var rt,st,Vt=Ce,Xt=We.length,Tt;for(We.sort(g),Tt=0;Tt<Xt;++Tt)rt=We[Tt],st=Vt-rt.y0,st>0&&(rt.y0+=st,rt.y1+=st),Vt=rt.y1+Re;if(st=Vt-Re-Oe,st>0)for(Vt=rt.y0-=st,rt.y1-=st,Tt=Xt-2;Tt>=0;--Tt)rt=We[Tt],st=rt.y1+Re-Vt,st>0&&(rt.y0-=st,rt.y1-=st),Vt=rt.y0})}}function Ve(Ge){Ge.nodes.forEach(function(Xe){Xe.sourceLinks.sort(f),Xe.targetLinks.sort(u)}),Ge.nodes.forEach(function(Xe){var Le=Xe.y0,Fe=Le,Ue=Xe.y1,Ee=Ue;Xe.sourceLinks.forEach(function(he){he.circular?(he.y0=Ue-he.width/2,Ue=Ue-he.width):(he.y0=Le+he.width/2,Le+=he.width)}),Xe.targetLinks.forEach(function(he){he.circular?(he.y1=Ee-he.width/2,Ee=Ee-he.width):(he.y1=Fe+he.width/2,Fe+=he.width)})})}return ut}function m(xe,Ce,De){var Oe=0;if(De===null){for(var Te=[],Re=0;Re<xe.links.length;Re++){var Me=xe.links[Re],ke=Me.source.index,Se=Me.target.index;Te[ke]||(Te[ke]=[]),Te[Se]||(Te[Se]=[]),Te[ke].indexOf(Se)===-1&&Te[ke].push(Se)}var He=M()(Te);He.sort(function($e,ut){return $e.length-ut.length});var je={};for(Re=0;Re<He.length;Re++){var at=He[Re],Ze=at.slice(-2);je[Ze[0]]||(je[Ze[0]]={}),je[Ze[0]][Ze[1]]=!0}xe.links.forEach(function($e){var ut=$e.target.index,ht=$e.source.index;ut===ht||je[ht]&&je[ht][ut]?($e.circular=!0,$e.circularLinkID=Oe,Oe=Oe+1):$e.circular=!1})}else xe.links.forEach(function($e){$e.source[De]<$e.target[De]?$e.circular=!1:($e.circular=!0,$e.circularLinkID=Oe,Oe=Oe+1)})}function k(xe,Ce){var De=0,Oe=0;xe.links.forEach(function(Te){Te.circular&&(Te.source.circularLinkType||Te.target.circularLinkType?Te.circularLinkType=Te.source.circularLinkType?Te.source.circularLinkType:Te.target.circularLinkType:Te.circularLinkType=De<Oe?"top":"bottom",Te.circularLinkType=="top"?De=De+1:Oe=Oe+1,xe.nodes.forEach(function(Re){(y(Re,Ce)==y(Te.source,Ce)||y(Re,Ce)==y(Te.target,Ce))&&(Re.circularLinkType=Te.circularLinkType)}))}),xe.links.forEach(function(Te){Te.circular&&(Te.source.circularLinkType==Te.target.circularLinkType&&(Te.circularLinkType=Te.source.circularLinkType),ge(Te,Ce)&&(Te.circularLinkType=Te.source.circularLinkType))})}function I(xe){var Ce=Math.abs(xe.y1-xe.y0),De=Math.abs(xe.target.x0-xe.source.x1);return Math.atan(De/Ce)}function O(xe,Ce){return xe.source.column<Ce.target.column?!1:!(xe.target.column>Ce.source.column)}function _(xe,Ce){var De=0;xe.sourceLinks.forEach(function(Te){De=Te.circular&&!ge(Te,Ce)?De+1:De});var Oe=0;return xe.targetLinks.forEach(function(Te){Oe=Te.circular&&!ge(Te,Ce)?Oe+1:Oe}),De+Oe}function B(xe){var Ce=xe.source.sourceLinks,De=0;Ce.forEach(function(Re){De=Re.circular?De+1:De});var Oe=xe.target.targetLinks,Te=0;return Oe.forEach(function(Re){Te=Re.circular?Te+1:Te}),!(De>1||Te>1)}function F(xe,Ce,De){return xe.sort(W),xe.forEach(function(Oe,Te){var Re=0;if(ge(Oe,De)&&B(Oe))Oe.circularPathData.verticalBuffer=Re+Oe.width/2;else{var Me=0;for(Me;Me<Te;Me++)if(O(xe[Te],xe[Me])){var ke=xe[Me].circularPathData.verticalBuffer+xe[Me].width/2+Ce;Re=ke>Re?ke:Re}Oe.circularPathData.verticalBuffer=Re+Oe.width/2}}),xe}function z(xe,Ce,De,Oe){var Te=5,Re=(0,b.SY)(xe.links,function(Se){return Se.source.y0});xe.links.forEach(function(Se){Se.circular&&(Se.circularPathData={})});var Me=xe.links.filter(function(Se){return Se.circularLinkType=="top"});F(Me,Ce,Oe);var ke=xe.links.filter(function(Se){return Se.circularLinkType=="bottom"});F(ke,Ce,Oe),xe.links.forEach(function(Se){if(Se.circular){if(Se.circularPathData.arcRadius=Se.width+A,Se.circularPathData.leftNodeBuffer=Te,Se.circularPathData.rightNodeBuffer=Te,Se.circularPathData.sourceWidth=Se.source.x1-Se.source.x0,Se.circularPathData.sourceX=Se.source.x0+Se.circularPathData.sourceWidth,Se.circularPathData.targetX=Se.target.x0,Se.circularPathData.sourceY=Se.y0,Se.circularPathData.targetY=Se.y1,ge(Se,Oe)&&B(Se))Se.circularPathData.leftSmallArcRadius=A+Se.width/2,Se.circularPathData.leftLargeArcRadius=A+Se.width/2,Se.circularPathData.rightSmallArcRadius=A+Se.width/2,Se.circularPathData.rightLargeArcRadius=A+Se.width/2,Se.circularLinkType=="bottom"?(Se.circularPathData.verticalFullExtent=Se.source.y1+S+Se.circularPathData.verticalBuffer,Se.circularPathData.verticalLeftInnerExtent=Se.circularPathData.verticalFullExtent-Se.circularPathData.leftLargeArcRadius,Se.circularPathData.verticalRightInnerExtent=Se.circularPathData.verticalFullExtent-Se.circularPathData.rightLargeArcRadius):(Se.circularPathData.verticalFullExtent=Se.source.y0-S-Se.circularPathData.verticalBuffer,Se.circularPathData.verticalLeftInnerExtent=Se.circularPathData.verticalFullExtent+Se.circularPathData.leftLargeArcRadius,Se.circularPathData.verticalRightInnerExtent=Se.circularPathData.verticalFullExtent+Se.circularPathData.rightLargeArcRadius);else{var He=Se.source.column,je=Se.circularLinkType,at=xe.links.filter(function(ut){return ut.source.column==He&&ut.circularLinkType==je});Se.circularLinkType=="bottom"?at.sort(q):at.sort(Z);var Ze=0;at.forEach(function(ut,ht){ut.circularLinkID==Se.circularLinkID&&(Se.circularPathData.leftSmallArcRadius=A+Se.width/2+Ze,Se.circularPathData.leftLargeArcRadius=A+Se.width/2+ht*Ce+Ze),Ze=Ze+ut.width}),He=Se.target.column,at=xe.links.filter(function(ut){return ut.target.column==He&&ut.circularLinkType==je}),Se.circularLinkType=="bottom"?at.sort(le):at.sort(re),Ze=0,at.forEach(function(ut,ht){ut.circularLinkID==Se.circularLinkID&&(Se.circularPathData.rightSmallArcRadius=A+Se.width/2+Ze,Se.circularPathData.rightLargeArcRadius=A+Se.width/2+ht*Ce+Ze),Ze=Ze+ut.width}),Se.circularLinkType=="bottom"?(Se.circularPathData.verticalFullExtent=Math.max(De,Se.source.y1,Se.target.y1)+S+Se.circularPathData.verticalBuffer,Se.circularPathData.verticalLeftInnerExtent=Se.circularPathData.verticalFullExtent-Se.circularPathData.leftLargeArcRadius,Se.circularPathData.verticalRightInnerExtent=Se.circularPathData.verticalFullExtent-Se.circularPathData.rightLargeArcRadius):(Se.circularPathData.verticalFullExtent=Re-S-Se.circularPathData.verticalBuffer,Se.circularPathData.verticalLeftInnerExtent=Se.circularPathData.verticalFullExtent+Se.circularPathData.leftLargeArcRadius,Se.circularPathData.verticalRightInnerExtent=Se.circularPathData.verticalFullExtent+Se.circularPathData.rightLargeArcRadius)}Se.circularPathData.leftInnerExtent=Se.circularPathData.sourceX+Se.circularPathData.leftNodeBuffer,Se.circularPathData.rightInnerExtent=Se.circularPathData.targetX-Se.circularPathData.rightNodeBuffer,Se.circularPathData.leftFullExtent=Se.circularPathData.sourceX+Se.circularPathData.leftLargeArcRadius+Se.circularPathData.leftNodeBuffer,Se.circularPathData.rightFullExtent=Se.circularPathData.targetX-Se.circularPathData.rightLargeArcRadius-Se.circularPathData.rightNodeBuffer}if(Se.circular)Se.path=N(Se);else{var $e=(0,s.ak)().source(function(ut){var ht=ut.source.x0+(ut.source.x1-ut.source.x0),vt=ut.y0;return[ht,vt]}).target(function(ut){var ht=ut.target.x0,vt=ut.y1;return[ht,vt]});Se.path=$e(Se)}})}function N(xe){var Ce="";return xe.circularLinkType=="top"?Ce="M"+xe.circularPathData.sourceX+" "+xe.circularPathData.sourceY+" L"+xe.circularPathData.leftInnerExtent+" "+xe.circularPathData.sourceY+" A"+xe.circularPathData.leftLargeArcRadius+" "+xe.circularPathData.leftSmallArcRadius+" 0 0 0 "+xe.circularPathData.leftFullExtent+" "+(xe.circularPathData.sourceY-xe.circularPathData.leftSmallArcRadius)+" L"+xe.circularPathData.leftFullExtent+" "+xe.circularPathData.verticalLeftInnerExtent+" A"+xe.circularPathData.leftLargeArcRadius+" "+xe.circularPathData.leftLargeArcRadius+" 0 0 0 "+xe.circularPathData.leftInnerExtent+" "+xe.circularPathData.verticalFullExtent+" L"+xe.circularPathData.rightInnerExtent+" "+xe.circularPathData.verticalFullExtent+" A"+xe.circularPathData.rightLargeArcRadius+" "+xe.circularPathData.rightLargeArcRadius+" 0 0 0 "+xe.circularPathData.rightFullExtent+" "+xe.circularPathData.verticalRightInnerExtent+" L"+xe.circularPathData.rightFullExtent+" "+(xe.circularPathData.targetY-xe.circularPathData.rightSmallArcRadius)+" A"+xe.circularPathData.rightLargeArcRadius+" "+xe.circularPathData.rightSmallArcRadius+" 0 0 0 "+xe.circularPathData.rightInnerExtent+" "+xe.circularPathData.targetY+" L"+xe.circularPathData.targetX+" "+xe.circularPathData.targetY:Ce="M"+xe.circularPathData.sourceX+" "+xe.circularPathData.sourceY+" L"+xe.circularPathData.leftInnerExtent+" "+xe.circularPathData.sourceY+" A"+xe.circularPathData.leftLargeArcRadius+" "+xe.circularPathData.leftSmallArcRadius+" 0 0 1 "+xe.circularPathData.leftFullExtent+" "+(xe.circularPathData.sourceY+xe.circularPathData.leftSmallArcRadius)+" L"+xe.circularPathData.leftFullExtent+" "+xe.circularPathData.verticalLeftInnerExtent+" A"+xe.circularPathData.leftLargeArcRadius+" "+xe.circularPathData.leftLargeArcRadius+" 0 0 1 "+xe.circularPathData.leftInnerExtent+" "+xe.circularPathData.verticalFullExtent+" L"+xe.circularPathData.rightInnerExtent+" "+xe.circularPathData.verticalFullExtent+" A"+xe.circularPathData.rightLargeArcRadius+" "+xe.circularPathData.rightLargeArcRadius+" 0 0 1 "+xe.circularPathData.rightFullExtent+" "+xe.circularPathData.verticalRightInnerExtent+" L"+xe.circularPathData.rightFullExtent+" "+(xe.circularPathData.targetY+xe.circularPathData.rightSmallArcRadius)+" A"+xe.circularPathData.rightLargeArcRadius+" "+xe.circularPathData.rightSmallArcRadius+" 0 0 1 "+xe.circularPathData.rightInnerExtent+" "+xe.circularPathData.targetY+" L"+xe.circularPathData.targetX+" "+xe.circularPathData.targetY,Ce}function W(xe,Ce){return ie(xe)==ie(Ce)?xe.circularLinkType=="bottom"?q(xe,Ce):Z(xe,Ce):ie(Ce)-ie(xe)}function Z(xe,Ce){return xe.y0-Ce.y0}function q(xe,Ce){return Ce.y0-xe.y0}function re(xe,Ce){return xe.y1-Ce.y1}function le(xe,Ce){return Ce.y1-xe.y1}function ie(xe){return xe.target.column-xe.source.column}function K(xe){return xe.target.x0-xe.source.x1}function $(xe,Ce){var De=I(xe),Oe=K(Ce)/Math.tan(De),Te=fe(xe)=="up"?xe.y1+Oe:xe.y1-Oe;return Te}function X(xe,Ce){var De=I(xe),Oe=K(Ce)/Math.tan(De),Te=fe(xe)=="up"?xe.y1-Oe:xe.y1+Oe;return Te}function Q(xe,Ce,De,Oe){xe.links.forEach(function(Te){if(!Te.circular&&Te.target.column-Te.source.column>1){var Re=Te.source.column+1,Me=Te.target.column-1,ke=1,Se=Me-Re+1;for(ke=1;Re<=Me;Re++,ke++)xe.nodes.forEach(function(He){if(He.column==Re){var je=ke/(Se+1),at=Math.pow(1-je,3),Ze=3*je*Math.pow(1-je,2),$e=3*Math.pow(je,2)*(1-je),ut=Math.pow(je,3),ht=at*Te.y0+Ze*Te.y0+$e*Te.y1+ut*Te.y1,vt=ht-Te.width/2,xt=ht+Te.width/2,St;vt>He.y0&&vt<He.y1?(St=He.y1-vt+10,St=He.circularLinkType=="bottom"?St:-St,He=J(He,St,Ce,De),xe.nodes.forEach(function(tt){y(tt,Oe)==y(He,Oe)||tt.column!=He.column||se(He,tt)&&J(tt,St,Ce,De)})):xt>He.y0&&xt<He.y1?(St=xt-He.y0+10,He=J(He,St,Ce,De),xe.nodes.forEach(function(tt){y(tt,Oe)==y(He,Oe)||tt.column!=He.column||tt.y0<He.y1&&tt.y1>He.y1&&J(tt,St,Ce,De)})):vt<He.y0&&xt>He.y1&&(St=xt-He.y0+10,He=J(He,St,Ce,De),xe.nodes.forEach(function(tt){y(tt,Oe)==y(He,Oe)||tt.column!=He.column||tt.y0<He.y1&&tt.y1>He.y1&&J(tt,St,Ce,De)}))}})}})}function se(xe,Ce){return xe.y0>Ce.y0&&xe.y0<Ce.y1||xe.y1>Ce.y0&&xe.y1<Ce.y1?!0:xe.y0<Ce.y0&&xe.y1>Ce.y1}function J(xe,Ce,De,Oe){return xe.y0+Ce>=De&&xe.y1+Ce<=Oe&&(xe.y0=xe.y0+Ce,xe.y1=xe.y1+Ce,xe.targetLinks.forEach(function(Te){Te.y1=Te.y1+Ce}),xe.sourceLinks.forEach(function(Te){Te.y0=Te.y0+Ce})),xe}function G(xe,Ce,De,Oe){xe.nodes.forEach(function(Te){Oe&&Te.y+(Te.y1-Te.y0)>Ce&&(Te.y=Te.y-(Te.y+(Te.y1-Te.y0)-Ce));var Re=xe.links.filter(function(Se){return y(Se.source,De)==y(Te,De)}),Me=Re.length;Me>1&&Re.sort(function(Se,He){if(!Se.circular&&!He.circular){if(Se.target.column==He.target.column)return Se.y1-He.y1;if(te(Se,He)){if(Se.target.column>He.target.column){var je=X(He,Se);return Se.y1-je}if(He.target.column>Se.target.column){var at=X(Se,He);return at-He.y1}}else return Se.y1-He.y1}if(Se.circular&&!He.circular)return Se.circularLinkType=="top"?-1:1;if(He.circular&&!Se.circular)return He.circularLinkType=="top"?1:-1;if(Se.circular&&He.circular)return Se.circularLinkType===He.circularLinkType&&Se.circularLinkType=="top"?Se.target.column===He.target.column?Se.target.y1-He.target.y1:He.target.column-Se.target.column:Se.circularLinkType===He.circularLinkType&&Se.circularLinkType=="bottom"?Se.target.column===He.target.column?He.target.y1-Se.target.y1:Se.target.column-He.target.column:Se.circularLinkType=="top"?-1:1});var ke=Te.y0;Re.forEach(function(Se){Se.y0=ke+Se.width/2,ke=ke+Se.width}),Re.forEach(function(Se,He){if(Se.circularLinkType=="bottom"){var je=He+1,at=0;for(je;je<Me;je++)at=at+Re[je].width;Se.y0=Te.y1-at-Se.width/2}})})}function oe(xe,Ce,De){xe.nodes.forEach(function(Oe){var Te=xe.links.filter(function(ke){return y(ke.target,De)==y(Oe,De)}),Re=Te.length;Re>1&&Te.sort(function(ke,Se){if(!ke.circular&&!Se.circular){if(ke.source.column==Se.source.column)return ke.y0-Se.y0;if(te(ke,Se)){if(Se.source.column<ke.source.column){var He=$(Se,ke);return ke.y0-He}if(ke.source.column<Se.source.column){var je=$(ke,Se);return je-Se.y0}}else return ke.y0-Se.y0}if(ke.circular&&!Se.circular)return ke.circularLinkType=="top"?-1:1;if(Se.circular&&!ke.circular)return Se.circularLinkType=="top"?1:-1;if(ke.circular&&Se.circular)return ke.circularLinkType===Se.circularLinkType&&ke.circularLinkType=="top"?ke.source.column===Se.source.column?ke.source.y1-Se.source.y1:ke.source.column-Se.source.column:ke.circularLinkType===Se.circularLinkType&&ke.circularLinkType=="bottom"?ke.source.column===Se.source.column?ke.source.y1-Se.source.y1:Se.source.column-ke.source.column:ke.circularLinkType=="top"?-1:1});var Me=Oe.y0;Te.forEach(function(ke){ke.y1=Me+ke.width/2,Me=Me+ke.width}),Te.forEach(function(ke,Se){if(ke.circularLinkType=="bottom"){var He=Se+1,je=0;for(He;He<Re;He++)je=je+Te[He].width;ke.y1=Oe.y1-je-ke.width/2}})})}function te(xe,Ce){return fe(xe)==fe(Ce)}function fe(xe){return xe.y0-xe.y1>0?"up":"down"}function ge(xe,Ce){return y(xe.source,Ce)==y(xe.target,Ce)}function we(xe,Ce,De){var Oe=xe.nodes,Te=xe.links,Re=!1,Me=!1;if(Te.forEach(function(Ze){Ze.circularLinkType=="top"?Re=!0:Ze.circularLinkType=="bottom"&&(Me=!0)}),Re==!1||Me==!1){var ke=(0,b.SY)(Oe,function(Ze){return Ze.y0}),Se=(0,b.kv)(Oe,function(Ze){return Ze.y1}),He=Se-ke,je=De-Ce,at=je/He;Oe.forEach(function(Ze){var $e=(Ze.y1-Ze.y0)*at;Ze.y0=(Ze.y0-ke)*at,Ze.y1=Ze.y0+$e}),Te.forEach(function(Ze){Ze.y0=(Ze.y0-ke)*at,Ze.y1=(Ze.y1-ke)*at,Ze.width=Ze.width*at})}}},26800:function(Y,V,e){e.r(V),e.d(V,{sankey:function(){return d},sankeyCenter:function(){return p},sankeyJustify:function(){return v},sankeyLeft:function(){return L},sankeyLinkHorizontal:function(){return y},sankeyRight:function(){return M}});var b=e(84706),P=e(34712);function s(S){return S.target.depth}function L(S){return S.depth}function M(S,A){return A-1-S.height}function v(S,A){return S.sourceLinks.length?S.depth:A-1}function p(S){return S.targetLinks.length?S.depth:S.sourceLinks.length?(0,b.SY)(S.sourceLinks,s)-1:0}function r(S){return function(){return S}}function t(S,A){return n(S.source,A.source)||S.index-A.index}function o(S,A){return n(S.target,A.target)||S.index-A.index}function n(S,A){return S.y0-A.y0}function l(S){return S.value}function u(S){return(S.y0+S.y1)/2}function f(S){return u(S.source)*S.value}function g(S){return u(S.target)*S.value}function h(S){return S.index}function w(S){return S.nodes}function c(S){return S.links}function a(S,A){var i=S.get(A);if(!i)throw new Error("missing: "+A);return i}function d(){var S=0,A=0,i=1,E=1,m=24,k=8,I=h,O=v,_=w,B=c,F=32,z=2/3;function N(){var ie={nodes:_.apply(null,arguments),links:B.apply(null,arguments)};return W(ie),Z(ie),q(ie),re(ie),le(ie),ie}N.update=function(ie){return le(ie),ie},N.nodeId=function(ie){return arguments.length?(I=typeof ie=="function"?ie:r(ie),N):I},N.nodeAlign=function(ie){return arguments.length?(O=typeof ie=="function"?ie:r(ie),N):O},N.nodeWidth=function(ie){return arguments.length?(m=+ie,N):m},N.nodePadding=function(ie){return arguments.length?(k=+ie,N):k},N.nodes=function(ie){return arguments.length?(_=typeof ie=="function"?ie:r(ie),N):_},N.links=function(ie){return arguments.length?(B=typeof ie=="function"?ie:r(ie),N):B},N.size=function(ie){return arguments.length?(S=A=0,i=+ie[0],E=+ie[1],N):[i-S,E-A]},N.extent=function(ie){return arguments.length?(S=+ie[0][0],i=+ie[1][0],A=+ie[0][1],E=+ie[1][1],N):[[S,A],[i,E]]},N.iterations=function(ie){return arguments.length?(F=+ie,N):F};function W(ie){ie.nodes.forEach(function($,X){$.index=X,$.sourceLinks=[],$.targetLinks=[]});var K=(0,P.kH)(ie.nodes,I);ie.links.forEach(function($,X){$.index=X;var Q=$.source,se=$.target;typeof Q!="object"&&(Q=$.source=a(K,Q)),typeof se!="object"&&(se=$.target=a(K,se)),Q.sourceLinks.push($),se.targetLinks.push($)})}function Z(ie){ie.nodes.forEach(function(K){K.value=Math.max((0,b.oh)(K.sourceLinks,l),(0,b.oh)(K.targetLinks,l))})}function q(ie){var K,$,X;for(K=ie.nodes,$=[],X=0;K.length;++X,K=$,$=[])K.forEach(function(se){se.depth=X,se.sourceLinks.forEach(function(J){$.indexOf(J.target)<0&&$.push(J.target)})});for(K=ie.nodes,$=[],X=0;K.length;++X,K=$,$=[])K.forEach(function(se){se.height=X,se.targetLinks.forEach(function(J){$.indexOf(J.source)<0&&$.push(J.source)})});var Q=(i-S-m)/(X-1);ie.nodes.forEach(function(se){se.x1=(se.x0=S+Math.max(0,Math.min(X-1,Math.floor(O.call(null,se,X))))*Q)+m})}function re(ie){var K=(0,P.UJ)().key(function(oe){return oe.x0}).sortKeys(b.XE).entries(ie.nodes).map(function(oe){return oe.values});Q(),G();for(var $=1,X=F;X>0;--X)J($*=.99),G(),se($),G();function Q(){var oe=(0,b.kv)(K,function(ge){return ge.length}),te=z*(E-A)/(oe-1);k>te&&(k=te);var fe=(0,b.SY)(K,function(ge){return(E-A-(ge.length-1)*k)/(0,b.oh)(ge,l)});K.forEach(function(ge){ge.forEach(function(we,xe){we.y1=(we.y0=xe)+we.value*fe})}),ie.links.forEach(function(ge){ge.width=ge.value*fe})}function se(oe){K.forEach(function(te){te.forEach(function(fe){if(fe.targetLinks.length){var ge=((0,b.oh)(fe.targetLinks,f)/(0,b.oh)(fe.targetLinks,l)-u(fe))*oe;fe.y0+=ge,fe.y1+=ge}})})}function J(oe){K.slice().reverse().forEach(function(te){te.forEach(function(fe){if(fe.sourceLinks.length){var ge=((0,b.oh)(fe.sourceLinks,g)/(0,b.oh)(fe.sourceLinks,l)-u(fe))*oe;fe.y0+=ge,fe.y1+=ge}})})}function G(){K.forEach(function(oe){var te,fe,ge=A,we=oe.length,xe;for(oe.sort(n),xe=0;xe<we;++xe)te=oe[xe],fe=ge-te.y0,fe>0&&(te.y0+=fe,te.y1+=fe),ge=te.y1+k;if(fe=ge-k-E,fe>0)for(ge=te.y0-=fe,te.y1-=fe,xe=we-2;xe>=0;--xe)te=oe[xe],fe=te.y1+k-ge,fe>0&&(te.y0-=fe,te.y1-=fe),ge=te.y0})}}function le(ie){ie.nodes.forEach(function(K){K.sourceLinks.sort(o),K.targetLinks.sort(t)}),ie.nodes.forEach(function(K){var $=K.y0,X=$;K.sourceLinks.forEach(function(Q){Q.y0=$+Q.width/2,$+=Q.width}),K.targetLinks.forEach(function(Q){Q.y1=X+Q.width/2,X+=Q.width})})}return N}var x=e(10132);function T(S){return[S.source.x1,S.y0]}function C(S){return[S.target.x0,S.y1]}function y(){return(0,x.ak)().source(T).target(C)}},33428:function(Y,V,e){var b,P;(function(){var s={version:"3.8.2"},L=[].slice,M=function(ue){return L.call(ue)},v=self.document;function p(ue){return ue&&(ue.ownerDocument||ue.document||ue).documentElement}function r(ue){return ue&&(ue.ownerDocument&&ue.ownerDocument.defaultView||ue.document&&ue||ue.defaultView)}if(v)try{M(v.documentElement.childNodes)[0].nodeType}catch{M=function(Ae){for(var Be=Ae.length,qe=new Array(Be);Be--;)qe[Be]=Ae[Be];return qe}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var t=this.Element.prototype,o=t.setAttribute,n=t.setAttributeNS,l=this.CSSStyleDeclaration.prototype,u=l.setProperty;t.setAttribute=function(Ae,Be){o.call(this,Ae,Be+"")},t.setAttributeNS=function(Ae,Be,qe){n.call(this,Ae,Be,qe+"")},l.setProperty=function(Ae,Be,qe){u.call(this,Ae,Be+"",qe)}}s.ascending=f;function f(ue,Ae){return ue<Ae?-1:ue>Ae?1:ue>=Ae?0:NaN}s.descending=function(ue,Ae){return Ae<ue?-1:Ae>ue?1:Ae>=ue?0:NaN},s.min=function(ue,Ae){var Be=-1,qe=ue.length,nt,ct;if(arguments.length===1){for(;++Be<qe;)if((ct=ue[Be])!=null&&ct>=ct){nt=ct;break}for(;++Be<qe;)(ct=ue[Be])!=null&&nt>ct&&(nt=ct)}else{for(;++Be<qe;)if((ct=Ae.call(ue,ue[Be],Be))!=null&&ct>=ct){nt=ct;break}for(;++Be<qe;)(ct=Ae.call(ue,ue[Be],Be))!=null&&nt>ct&&(nt=ct)}return nt},s.max=function(ue,Ae){var Be=-1,qe=ue.length,nt,ct;if(arguments.length===1){for(;++Be<qe;)if((ct=ue[Be])!=null&&ct>=ct){nt=ct;break}for(;++Be<qe;)(ct=ue[Be])!=null&&ct>nt&&(nt=ct)}else{for(;++Be<qe;)if((ct=Ae.call(ue,ue[Be],Be))!=null&&ct>=ct){nt=ct;break}for(;++Be<qe;)(ct=Ae.call(ue,ue[Be],Be))!=null&&ct>nt&&(nt=ct)}return nt},s.extent=function(ue,Ae){var Be=-1,qe=ue.length,nt,ct,Rt;if(arguments.length===1){for(;++Be<qe;)if((ct=ue[Be])!=null&&ct>=ct){nt=Rt=ct;break}for(;++Be<qe;)(ct=ue[Be])!=null&&(nt>ct&&(nt=ct),Rt<ct&&(Rt=ct))}else{for(;++Be<qe;)if((ct=Ae.call(ue,ue[Be],Be))!=null&&ct>=ct){nt=Rt=ct;break}for(;++Be<qe;)(ct=Ae.call(ue,ue[Be],Be))!=null&&(nt>ct&&(nt=ct),Rt<ct&&(Rt=ct))}return[nt,Rt]};function g(ue){return ue===null?NaN:+ue}function h(ue){return!isNaN(ue)}s.sum=function(ue,Ae){var Be=0,qe=ue.length,nt,ct=-1;if(arguments.length===1)for(;++ct<qe;)h(nt=+ue[ct])&&(Be+=nt);else for(;++ct<qe;)h(nt=+Ae.call(ue,ue[ct],ct))&&(Be+=nt);return Be},s.mean=function(ue,Ae){var Be=0,qe=ue.length,nt,ct=-1,Rt=qe;if(arguments.length===1)for(;++ct<qe;)h(nt=g(ue[ct]))?Be+=nt:--Rt;else for(;++ct<qe;)h(nt=g(Ae.call(ue,ue[ct],ct)))?Be+=nt:--Rt;if(Rt)return Be/Rt},s.quantile=function(ue,Ae){var Be=(ue.length-1)*Ae+1,qe=Math.floor(Be),nt=+ue[qe-1],ct=Be-qe;return ct?nt+ct*(ue[qe]-nt):nt},s.median=function(ue,Ae){var Be=[],qe=ue.length,nt,ct=-1;if(arguments.length===1)for(;++ct<qe;)h(nt=g(ue[ct]))&&Be.push(nt);else for(;++ct<qe;)h(nt=g(Ae.call(ue,ue[ct],ct)))&&Be.push(nt);if(Be.length)return s.quantile(Be.sort(f),.5)},s.variance=function(ue,Ae){var Be=ue.length,qe=0,nt,ct,Rt=0,At=-1,Ut=0;if(arguments.length===1)for(;++At<Be;)h(nt=g(ue[At]))&&(ct=nt-qe,qe+=ct/++Ut,Rt+=ct*(nt-qe));else for(;++At<Be;)h(nt=g(Ae.call(ue,ue[At],At)))&&(ct=nt-qe,qe+=ct/++Ut,Rt+=ct*(nt-qe));if(Ut>1)return Rt/(Ut-1)},s.deviation=function(){var ue=s.variance.apply(this,arguments);return ue&&Math.sqrt(ue)};function w(ue){return{left:function(Ae,Be,qe,nt){for(arguments.length<3&&(qe=0),arguments.length<4&&(nt=Ae.length);qe<nt;){var ct=qe+nt>>>1;ue(Ae[ct],Be)<0?qe=ct+1:nt=ct}return qe},right:function(Ae,Be,qe,nt){for(arguments.length<3&&(qe=0),arguments.length<4&&(nt=Ae.length);qe<nt;){var ct=qe+nt>>>1;ue(Ae[ct],Be)>0?nt=ct:qe=ct+1}return qe}}}var c=w(f);s.bisectLeft=c.left,s.bisect=s.bisectRight=c.right,s.bisector=function(ue){return w(ue.length===1?function(Ae,Be){return f(ue(Ae),Be)}:ue)},s.shuffle=function(ue,Ae,Be){(qe=arguments.length)<3&&(Be=ue.length,qe<2&&(Ae=0));for(var qe=Be-Ae,nt,ct;qe;)ct=Math.random()*qe--|0,nt=ue[qe+Ae],ue[qe+Ae]=ue[ct+Ae],ue[ct+Ae]=nt;return ue},s.permute=function(ue,Ae){for(var Be=Ae.length,qe=new Array(Be);Be--;)qe[Be]=ue[Ae[Be]];return qe},s.pairs=function(ue){for(var Ae=0,Be=ue.length-1,qe=ue[0],nt=new Array(Be<0?0:Be);Ae<Be;)nt[Ae]=[qe,qe=ue[++Ae]];return nt},s.transpose=function(ue){if(!(ct=ue.length))return[];for(var Ae=-1,Be=s.min(ue,a),qe=new Array(Be);++Ae<Be;)for(var nt=-1,ct,Rt=qe[Ae]=new Array(ct);++nt<ct;)Rt[nt]=ue[nt][Ae];return qe};function a(ue){return ue.length}s.zip=function(){return s.transpose(arguments)},s.keys=function(ue){var Ae=[];for(var Be in ue)Ae.push(Be);return Ae},s.values=function(ue){var Ae=[];for(var Be in ue)Ae.push(ue[Be]);return Ae},s.entries=function(ue){var Ae=[];for(var Be in ue)Ae.push({key:Be,value:ue[Be]});return Ae},s.merge=function(ue){for(var Ae=ue.length,Be,qe=-1,nt=0,ct,Rt;++qe<Ae;)nt+=ue[qe].length;for(ct=new Array(nt);--Ae>=0;)for(Rt=ue[Ae],Be=Rt.length;--Be>=0;)ct[--nt]=Rt[Be];return ct};var d=Math.abs;s.range=function(ue,Ae,Be){if(arguments.length<3&&(Be=1,arguments.length<2&&(Ae=ue,ue=0)),(Ae-ue)/Be===1/0)throw new Error("infinite range");var qe=[],nt=x(d(Be)),ct=-1,Rt;if(ue*=nt,Ae*=nt,Be*=nt,Be<0)for(;(Rt=ue+Be*++ct)>Ae;)qe.push(Rt/nt);else for(;(Rt=ue+Be*++ct)<Ae;)qe.push(Rt/nt);return qe};function x(ue){for(var Ae=1;ue*Ae%1;)Ae*=10;return Ae}function T(ue,Ae){for(var Be in Ae)Object.defineProperty(ue.prototype,Be,{value:Ae[Be],enumerable:!1})}s.map=function(ue,Ae){var Be=new C;if(ue instanceof C)ue.forEach(function(At,Ut){Be.set(At,Ut)});else if(Array.isArray(ue)){var qe=-1,nt=ue.length,ct;if(arguments.length===1)for(;++qe<nt;)Be.set(qe,ue[qe]);else for(;++qe<nt;)Be.set(Ae.call(ue,ct=ue[qe],qe),ct)}else for(var Rt in ue)Be.set(Rt,ue[Rt]);return Be};function C(){this._=Object.create(null)}var y="__proto__",S="\0";T(C,{has:E,get:function(ue){return this._[A(ue)]},set:function(ue,Ae){return this._[A(ue)]=Ae},remove:m,keys:k,values:function(){var ue=[];for(var Ae in this._)ue.push(this._[Ae]);return ue},entries:function(){var ue=[];for(var Ae in this._)ue.push({key:i(Ae),value:this._[Ae]});return ue},size:I,empty:O,forEach:function(ue){for(var Ae in this._)ue.call(this,i(Ae),this._[Ae])}});function A(ue){return(ue+="")===y||ue[0]===S?S+ue:ue}function i(ue){return(ue+="")[0]===S?ue.slice(1):ue}function E(ue){return A(ue)in this._}function m(ue){return(ue=A(ue))in this._&&delete this._[ue]}function k(){var ue=[];for(var Ae in this._)ue.push(i(Ae));return ue}function I(){var ue=0;for(var Ae in this._)++ue;return ue}function O(){for(var ue in this._)return!1;return!0}s.nest=function(){var ue={},Ae=[],Be=[],qe,nt;function ct(At,Ut,Ht){if(Ht>=Ae.length)return nt?nt.call(ue,Ut):qe?Ut.sort(qe):Ut;for(var ar=-1,Rr=Ut.length,Dr=Ae[Ht++],Qr,sn,_r,Hr=new C,Kr;++ar<Rr;)(Kr=Hr.get(Qr=Dr(sn=Ut[ar])))?Kr.push(sn):Hr.set(Qr,[sn]);return At?(sn=At(),_r=function(hn,yn){sn.set(hn,ct(At,yn,Ht))}):(sn={},_r=function(hn,yn){sn[hn]=ct(At,yn,Ht)}),Hr.forEach(_r),sn}function Rt(At,Ut){if(Ut>=Ae.length)return At;var Ht=[],ar=Be[Ut++];return At.forEach(function(Rr,Dr){Ht.push({key:Rr,values:Rt(Dr,Ut)})}),ar?Ht.sort(function(Rr,Dr){return ar(Rr.key,Dr.key)}):Ht}return ue.map=function(At,Ut){return ct(Ut,At,0)},ue.entries=function(At){return Rt(ct(s.map,At,0),0)},ue.key=function(At){return Ae.push(At),ue},ue.sortKeys=function(At){return Be[Ae.length-1]=At,ue},ue.sortValues=function(At){return qe=At,ue},ue.rollup=function(At){return nt=At,ue},ue},s.set=function(ue){var Ae=new _;if(ue)for(var Be=0,qe=ue.length;Be<qe;++Be)Ae.add(ue[Be]);return Ae};function _(){this._=Object.create(null)}T(_,{has:E,add:function(ue){return this._[A(ue+="")]=!0,ue},remove:m,values:k,size:I,empty:O,forEach:function(ue){for(var Ae in this._)ue.call(this,i(Ae))}}),s.behavior={};function B(ue){return ue}s.rebind=function(ue,Ae){for(var Be=1,qe=arguments.length,nt;++Be<qe;)ue[nt=arguments[Be]]=F(ue,Ae,Ae[nt]);return ue};function F(ue,Ae,Be){return function(){var qe=Be.apply(Ae,arguments);return qe===Ae?ue:qe}}function z(ue,Ae){if(Ae in ue)return Ae;Ae=Ae.charAt(0).toUpperCase()+Ae.slice(1);for(var Be=0,qe=N.length;Be<qe;++Be){var nt=N[Be]+Ae;if(nt in ue)return nt}}var N=["webkit","ms","moz","Moz","o","O"];function W(){}s.dispatch=function(){for(var ue=new Z,Ae=-1,Be=arguments.length;++Ae<Be;)ue[arguments[Ae]]=q(ue);return ue};function Z(){}Z.prototype.on=function(ue,Ae){var Be=ue.indexOf("."),qe="";if(Be>=0&&(qe=ue.slice(Be+1),ue=ue.slice(0,Be)),ue)return arguments.length<2?this[ue].on(qe):this[ue].on(qe,Ae);if(arguments.length===2){if(Ae==null)for(ue in this)this.hasOwnProperty(ue)&&this[ue].on(qe,null);return this}};function q(ue){var Ae=[],Be=new C;function qe(){for(var nt=Ae,ct=-1,Rt=nt.length,At;++ct<Rt;)(At=nt[ct].on)&&At.apply(this,arguments);return ue}return qe.on=function(nt,ct){var Rt=Be.get(nt),At;return arguments.length<2?Rt&&Rt.on:(Rt&&(Rt.on=null,Ae=Ae.slice(0,At=Ae.indexOf(Rt)).concat(Ae.slice(At+1)),Be.remove(nt)),ct&&Ae.push(Be.set(nt,{on:ct})),ue)},qe}s.event=null;function re(){s.event.preventDefault()}function le(){for(var ue=s.event,Ae;Ae=ue.sourceEvent;)ue=Ae;return ue}function ie(ue){for(var Ae=new Z,Be=0,qe=arguments.length;++Be<qe;)Ae[arguments[Be]]=q(Ae);return Ae.of=function(nt,ct){return function(Rt){try{var At=Rt.sourceEvent=s.event;Rt.target=ue,s.event=Rt,Ae[Rt.type].apply(nt,ct)}finally{s.event=At}}},Ae}s.requote=function(ue){return ue.replace(K,"\\$&")};var K=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,$={}.__proto__?function(ue,Ae){ue.__proto__=Ae}:function(ue,Ae){for(var Be in Ae)ue[Be]=Ae[Be]};function X(ue){return $(ue,G),ue}var Q=function(ue,Ae){return Ae.querySelector(ue)},se=function(ue,Ae){return Ae.querySelectorAll(ue)},J=function(ue,Ae){var Be=ue.matches||ue[z(ue,"matchesSelector")];return J=function(qe,nt){return Be.call(qe,nt)},J(ue,Ae)};typeof Sizzle=="function"&&(Q=function(ue,Ae){return Sizzle(ue,Ae)[0]||null},se=Sizzle,J=Sizzle.matchesSelector),s.selection=function(){return s.select(v.documentElement)};var G=s.selection.prototype=[];G.select=function(ue){var Ae=[],Be,qe,nt,ct;ue=oe(ue);for(var Rt=-1,At=this.length;++Rt<At;){Ae.push(Be=[]),Be.parentNode=(nt=this[Rt]).parentNode;for(var Ut=-1,Ht=nt.length;++Ut<Ht;)(ct=nt[Ut])?(Be.push(qe=ue.call(ct,ct.__data__,Ut,Rt)),qe&&"__data__"in ct&&(qe.__data__=ct.__data__)):Be.push(null)}return X(Ae)};function oe(ue){return typeof ue=="function"?ue:function(){return Q(ue,this)}}G.selectAll=function(ue){var Ae=[],Be,qe;ue=te(ue);for(var nt=-1,ct=this.length;++nt<ct;)for(var Rt=this[nt],At=-1,Ut=Rt.length;++At<Ut;)(qe=Rt[At])&&(Ae.push(Be=M(ue.call(qe,qe.__data__,At,nt))),Be.parentNode=qe);return X(Ae)};function te(ue){return typeof ue=="function"?ue:function(){return se(ue,this)}}var fe="http://www.w3.org/1999/xhtml",ge={svg:"http://www.w3.org/2000/svg",xhtml:fe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};s.ns={prefix:ge,qualify:function(ue){var Ae=ue.indexOf(":"),Be=ue;return Ae>=0&&(Be=ue.slice(0,Ae))!=="xmlns"&&(ue=ue.slice(Ae+1)),ge.hasOwnProperty(Be)?{space:ge[Be],local:ue}:ue}},G.attr=function(ue,Ae){if(arguments.length<2){if(typeof ue=="string"){var Be=this.node();return ue=s.ns.qualify(ue),ue.local?Be.getAttributeNS(ue.space,ue.local):Be.getAttribute(ue)}for(Ae in ue)this.each(we(Ae,ue[Ae]));return this}return this.each(we(ue,Ae))};function we(ue,Ae){ue=s.ns.qualify(ue);function Be(){this.removeAttribute(ue)}function qe(){this.removeAttributeNS(ue.space,ue.local)}function nt(){this.setAttribute(ue,Ae)}function ct(){this.setAttributeNS(ue.space,ue.local,Ae)}function Rt(){var Ut=Ae.apply(this,arguments);Ut==null?this.removeAttribute(ue):this.setAttribute(ue,Ut)}function At(){var Ut=Ae.apply(this,arguments);Ut==null?this.removeAttributeNS(ue.space,ue.local):this.setAttributeNS(ue.space,ue.local,Ut)}return Ae==null?ue.local?qe:Be:typeof Ae=="function"?ue.local?At:Rt:ue.local?ct:nt}function xe(ue){return ue.trim().replace(/\s+/g," ")}G.classed=function(ue,Ae){if(arguments.length<2){if(typeof ue=="string"){var Be=this.node(),qe=(ue=De(ue)).length,nt=-1;if(Ae=Be.classList){for(;++nt<qe;)if(!Ae.contains(ue[nt]))return!1}else for(Ae=Be.getAttribute("class");++nt<qe;)if(!Ce(ue[nt]).test(Ae))return!1;return!0}for(Ae in ue)this.each(Oe(Ae,ue[Ae]));return this}return this.each(Oe(ue,Ae))};function Ce(ue){return new RegExp("(?:^|\\s+)"+s.requote(ue)+"(?:\\s+|$)","g")}function De(ue){return(ue+"").trim().split(/^|\s+/)}function Oe(ue,Ae){ue=De(ue).map(Te);var Be=ue.length;function qe(){for(var ct=-1;++ct<Be;)ue[ct](this,Ae)}function nt(){for(var ct=-1,Rt=Ae.apply(this,arguments);++ct<Be;)ue[ct](this,Rt)}return typeof Ae=="function"?nt:qe}function Te(ue){var Ae=Ce(ue);return function(Be,qe){if(nt=Be.classList)return qe?nt.add(ue):nt.remove(ue);var nt=Be.getAttribute("class")||"";qe?(Ae.lastIndex=0,Ae.test(nt)||Be.setAttribute("class",xe(nt+" "+ue))):Be.setAttribute("class",xe(nt.replace(Ae," ")))}}G.style=function(ue,Ae,Be){var qe=arguments.length;if(qe<3){if(typeof ue!="string"){qe<2&&(Ae="");for(Be in ue)this.each(Re(Be,ue[Be],Ae));return this}if(qe<2){var nt=this.node();return r(nt).getComputedStyle(nt,null).getPropertyValue(ue)}Be=""}return this.each(Re(ue,Ae,Be))};function Re(ue,Ae,Be){function qe(){this.style.removeProperty(ue)}function nt(){this.style.setProperty(ue,Ae,Be)}function ct(){var Rt=Ae.apply(this,arguments);Rt==null?this.style.removeProperty(ue):this.style.setProperty(ue,Rt,Be)}return Ae==null?qe:typeof Ae=="function"?ct:nt}G.property=function(ue,Ae){if(arguments.length<2){if(typeof ue=="string")return this.node()[ue];for(Ae in ue)this.each(Me(Ae,ue[Ae]));return this}return this.each(Me(ue,Ae))};function Me(ue,Ae){function Be(){delete this[ue]}function qe(){this[ue]=Ae}function nt(){var ct=Ae.apply(this,arguments);ct==null?delete this[ue]:this[ue]=ct}return Ae==null?Be:typeof Ae=="function"?nt:qe}G.text=function(ue){return arguments.length?this.each(typeof ue=="function"?function(){var Ae=ue.apply(this,arguments);this.textContent=Ae??""}:ue==null?function(){this.textContent=""}:function(){this.textContent=ue}):this.node().textContent},G.html=function(ue){return arguments.length?this.each(typeof ue=="function"?function(){var Ae=ue.apply(this,arguments);this.innerHTML=Ae??""}:ue==null?function(){this.innerHTML=""}:function(){this.innerHTML=ue}):this.node().innerHTML},G.append=function(ue){return ue=ke(ue),this.select(function(){return this.appendChild(ue.apply(this,arguments))})};function ke(ue){function Ae(){var qe=this.ownerDocument,nt=this.namespaceURI;return nt===fe&&qe.documentElement.namespaceURI===fe?qe.createElement(ue):qe.createElementNS(nt,ue)}function Be(){return this.ownerDocument.createElementNS(ue.space,ue.local)}return typeof ue=="function"?ue:(ue=s.ns.qualify(ue)).local?Be:Ae}G.insert=function(ue,Ae){return ue=ke(ue),Ae=oe(Ae),this.select(function(){return this.insertBefore(ue.apply(this,arguments),Ae.apply(this,arguments)||null)})},G.remove=function(){return this.each(Se)};function Se(){var ue=this.parentNode;ue&&ue.removeChild(this)}G.data=function(ue,Ae){var Be=-1,qe=this.length,nt,ct;if(!arguments.length){for(ue=new Array(qe=(nt=this[0]).length);++Be<qe;)(ct=nt[Be])&&(ue[Be]=ct.__data__);return ue}function Rt(ar,Rr){var Dr,Qr=ar.length,sn=Rr.length,_r=Math.min(Qr,sn),Hr=new Array(sn),Kr=new Array(sn),hn=new Array(Qr),yn,qr;if(Ae){var Vn=new C,ta=new Array(Qr),fa;for(Dr=-1;++Dr<Qr;)(yn=ar[Dr])&&(Vn.has(fa=Ae.call(yn,yn.__data__,Dr))?hn[Dr]=yn:Vn.set(fa,yn),ta[Dr]=fa);for(Dr=-1;++Dr<sn;)(yn=Vn.get(fa=Ae.call(Rr,qr=Rr[Dr],Dr)))?yn!==!0&&(Hr[Dr]=yn,yn.__data__=qr):Kr[Dr]=He(qr),Vn.set(fa,!0);for(Dr=-1;++Dr<Qr;)Dr in ta&&Vn.get(ta[Dr])!==!0&&(hn[Dr]=ar[Dr])}else{for(Dr=-1;++Dr<_r;)yn=ar[Dr],qr=Rr[Dr],yn?(yn.__data__=qr,Hr[Dr]=yn):Kr[Dr]=He(qr);for(;Dr<sn;++Dr)Kr[Dr]=He(Rr[Dr]);for(;Dr<Qr;++Dr)hn[Dr]=ar[Dr]}Kr.update=Hr,Kr.parentNode=Hr.parentNode=hn.parentNode=ar.parentNode,At.push(Kr),Ut.push(Hr),Ht.push(hn)}var At=$e([]),Ut=X([]),Ht=X([]);if(typeof ue=="function")for(;++Be<qe;)Rt(nt=this[Be],ue.call(nt,nt.parentNode.__data__,Be));else for(;++Be<qe;)Rt(nt=this[Be],ue);return Ut.enter=function(){return At},Ut.exit=function(){return Ht},Ut};function He(ue){return{__data__:ue}}G.datum=function(ue){return arguments.length?this.property("__data__",ue):this.property("__data__")},G.filter=function(ue){var Ae=[],Be,qe,nt;typeof ue!="function"&&(ue=je(ue));for(var ct=0,Rt=this.length;ct<Rt;ct++){Ae.push(Be=[]),Be.parentNode=(qe=this[ct]).parentNode;for(var At=0,Ut=qe.length;At<Ut;At++)(nt=qe[At])&&ue.call(nt,nt.__data__,At,ct)&&Be.push(nt)}return X(Ae)};function je(ue){return function(){return J(this,ue)}}G.order=function(){for(var ue=-1,Ae=this.length;++ue<Ae;)for(var Be=this[ue],qe=Be.length-1,nt=Be[qe],ct;--qe>=0;)(ct=Be[qe])&&(nt&&nt!==ct.nextSibling&&nt.parentNode.insertBefore(ct,nt),nt=ct);return this},G.sort=function(ue){ue=at.apply(this,arguments);for(var Ae=-1,Be=this.length;++Ae<Be;)this[Ae].sort(ue);return this.order()};function at(ue){return arguments.length||(ue=f),function(Ae,Be){return Ae&&Be?ue(Ae.__data__,Be.__data__):!Ae-!Be}}G.each=function(ue){return Ze(this,function(Ae,Be,qe){ue.call(Ae,Ae.__data__,Be,qe)})};function Ze(ue,Ae){for(var Be=0,qe=ue.length;Be<qe;Be++)for(var nt=ue[Be],ct=0,Rt=nt.length,At;ct<Rt;ct++)(At=nt[ct])&&Ae(At,ct,Be);return ue}G.call=function(ue){var Ae=M(arguments);return ue.apply(Ae[0]=this,Ae),this},G.empty=function(){return!this.node()},G.node=function(){for(var ue=0,Ae=this.length;ue<Ae;ue++)for(var Be=this[ue],qe=0,nt=Be.length;qe<nt;qe++){var ct=Be[qe];if(ct)return ct}return null},G.size=function(){var ue=0;return Ze(this,function(){++ue}),ue};function $e(ue){return $(ue,ut),ue}var ut=[];s.selection.enter=$e,s.selection.enter.prototype=ut,ut.append=G.append,ut.empty=G.empty,ut.node=G.node,ut.call=G.call,ut.size=G.size,ut.select=function(ue){for(var Ae=[],Be,qe,nt,ct,Rt,At=-1,Ut=this.length;++At<Ut;){nt=(ct=this[At]).update,Ae.push(Be=[]),Be.parentNode=ct.parentNode;for(var Ht=-1,ar=ct.length;++Ht<ar;)(Rt=ct[Ht])?(Be.push(nt[Ht]=qe=ue.call(ct.parentNode,Rt.__data__,Ht,At)),qe.__data__=Rt.__data__):Be.push(null)}return X(Ae)},ut.insert=function(ue,Ae){return arguments.length<2&&(Ae=ht(this)),G.insert.call(this,ue,Ae)};function ht(ue){var Ae,Be;return function(qe,nt,ct){var Rt=ue[ct].update,At=Rt.length,Ut;for(ct!=Be&&(Be=ct,Ae=0),nt>=Ae&&(Ae=nt+1);!(Ut=Rt[Ae])&&++Ae<At;);return Ut}}s.select=function(ue){var Ae;return typeof ue=="string"?(Ae=[Q(ue,v)],Ae.parentNode=v.documentElement):(Ae=[ue],Ae.parentNode=p(ue)),X([Ae])},s.selectAll=function(ue){var Ae;return typeof ue=="string"?(Ae=M(se(ue,v)),Ae.parentNode=v.documentElement):(Ae=M(ue),Ae.parentNode=null),X([Ae])},G.on=function(ue,Ae,Be){var qe=arguments.length;if(qe<3){if(typeof ue!="string"){qe<2&&(Ae=!1);for(Be in ue)this.each(vt(Be,ue[Be],Ae));return this}if(qe<2)return(qe=this.node()["__on"+ue])&&qe._;Be=!1}return this.each(vt(ue,Ae,Be))};function vt(ue,Ae,Be){var qe="__on"+ue,nt=ue.indexOf("."),ct=St;nt>0&&(ue=ue.slice(0,nt));var Rt=xt.get(ue);Rt&&(ue=Rt,ct=tt);function At(){var ar=this[qe];ar&&(this.removeEventListener(ue,ar,ar.$),delete this[qe])}function Ut(){var ar=ct(Ae,M(arguments));At.call(this),this.addEventListener(ue,this[qe]=ar,ar.$=Be),ar._=Ae}function Ht(){var ar=new RegExp("^__on([^.]+)"+s.requote(ue)+"$"),Rr;for(var Dr in this)if(Rr=Dr.match(ar)){var Qr=this[Dr];this.removeEventListener(Rr[1],Qr,Qr.$),delete this[Dr]}}return nt?Ae?Ut:At:Ae?W:Ht}var xt=s.map({mouseenter:"mouseover",mouseleave:"mouseout"});v&&xt.forEach(function(ue){"on"+ue in v&&xt.remove(ue)});function St(ue,Ae){return function(Be){var qe=s.event;s.event=Be,Ae[0]=this.__data__;try{ue.apply(this,Ae)}finally{s.event=qe}}}function tt(ue,Ae){var Be=St(ue,Ae);return function(qe){var nt=this,ct=qe.relatedTarget;(!ct||ct!==nt&&!(ct.compareDocumentPosition(nt)&8))&&Be.call(nt,qe)}}var Ie,Ve=0;function Ge(ue){var Ae=".dragsuppress-"+ ++Ve,Be="click"+Ae,qe=s.select(r(ue)).on("touchmove"+Ae,re).on("dragstart"+Ae,re).on("selectstart"+Ae,re);if(Ie==null&&(Ie="onselectstart"in ue?!1:z(ue.style,"userSelect")),Ie){var nt=p(ue).style,ct=nt[Ie];nt[Ie]="none"}return function(Rt){if(qe.on(Ae,null),Ie&&(nt[Ie]=ct),Rt){var At=function(){qe.on(Be,null)};qe.on(Be,function(){re(),At()},!0),setTimeout(At,0)}}}s.mouse=function(ue){return Le(ue,le())};var Xe=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Le(ue,Ae){Ae.changedTouches&&(Ae=Ae.changedTouches[0]);var Be=ue.ownerSVGElement||ue;if(Be.createSVGPoint){var qe=Be.createSVGPoint();if(Xe<0){var nt=r(ue);if(nt.scrollX||nt.scrollY){Be=s.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ct=Be[0][0].getScreenCTM();Xe=!(ct.f||ct.e),Be.remove()}}return Xe?(qe.x=Ae.pageX,qe.y=Ae.pageY):(qe.x=Ae.clientX,qe.y=Ae.clientY),qe=qe.matrixTransform(ue.getScreenCTM().inverse()),[qe.x,qe.y]}var Rt=ue.getBoundingClientRect();return[Ae.clientX-Rt.left-ue.clientLeft,Ae.clientY-Rt.top-ue.clientTop]}s.touch=function(ue,Ae,Be){if(arguments.length<3&&(Be=Ae,Ae=le().changedTouches),Ae){for(var qe=0,nt=Ae.length,ct;qe<nt;++qe)if((ct=Ae[qe]).identifier===Be)return Le(ue,ct)}},s.behavior.drag=function(){var ue=ie(nt,"drag","dragstart","dragend"),Ae=null,Be=ct(W,s.mouse,r,"mousemove","mouseup"),qe=ct(Fe,s.touch,B,"touchmove","touchend");function nt(){this.on("mousedown.drag",Be).on("touchstart.drag",qe)}function ct(Rt,At,Ut,Ht,ar){return function(){var Rr=this,Dr=s.event.target.correspondingElement||s.event.target,Qr=Rr.parentNode,sn=ue.of(Rr,arguments),_r=0,Hr=Rt(),Kr=".drag"+(Hr==null?"":"-"+Hr),hn,yn=s.select(Ut(Dr)).on(Ht+Kr,ta).on(ar+Kr,fa),qr=Ge(Dr),Vn=At(Qr,Hr);Ae?(hn=Ae.apply(Rr,arguments),hn=[hn.x-Vn[0],hn.y-Vn[1]]):hn=[0,0],sn({type:"dragstart"});function ta(){var qn=At(Qr,Hr),sa,ca;qn&&(sa=qn[0]-Vn[0],ca=qn[1]-Vn[1],_r|=sa|ca,Vn=qn,sn({type:"drag",x:qn[0]+hn[0],y:qn[1]+hn[1],dx:sa,dy:ca}))}function fa(){At(Qr,Hr)&&(yn.on(Ht+Kr,null).on(ar+Kr,null),qr(_r),sn({type:"dragend"}))}}}return nt.origin=function(Rt){return arguments.length?(Ae=Rt,nt):Ae},s.rebind(nt,ue,"on")};function Fe(){return s.event.changedTouches[0].identifier}s.touches=function(ue,Ae){return arguments.length<2&&(Ae=le().touches),Ae?M(Ae).map(function(Be){var qe=Le(ue,Be);return qe.identifier=Be.identifier,qe}):[]};var Ue=1e-6,Ee=Ue*Ue,he=Math.PI,ye=2*he,_e=ye-Ue,We=he/2,rt=he/180,st=180/he;function Vt(ue,Ae,Be){return(Ae[0]-ue[0])*(Be[1]-ue[1])-(Ae[1]-ue[1])*(Be[0]-ue[0])}function Xt(ue){return ue>1?We:ue<-1?-We:Math.asin(ue)}function Tt(ue){return((ue=Math.exp(ue))-1/ue)/2}function Lt(ue){return((ue=Math.exp(ue))+1/ue)/2}function Kt(ue){return((ue=Math.exp(2*ue))-1)/(ue+1)}var vr=Math.SQRT2,pt=2,jt=4;s.interpolateZoom=function(ue,Ae){var Be=ue[0],qe=ue[1],nt=ue[2],ct=Ae[0],Rt=Ae[1],At=Ae[2],Ut=ct-Be,Ht=Rt-qe,ar=Ut*Ut+Ht*Ht,Rr,Dr;if(ar<Ee)Dr=Math.log(At/nt)/vr,Rr=function(hn){return[Be+hn*Ut,qe+hn*Ht,nt*Math.exp(vr*hn*Dr)]};else{var Qr=Math.sqrt(ar),sn=(At*At-nt*nt+jt*ar)/(2*nt*pt*Qr),_r=(At*At-nt*nt-jt*ar)/(2*At*pt*Qr),Hr=Math.log(Math.sqrt(sn*sn+1)-sn),Kr=Math.log(Math.sqrt(_r*_r+1)-_r);Dr=(Kr-Hr)/vr,Rr=function(hn){var yn=hn*Dr,qr=Lt(Hr),Vn=nt/(pt*Qr)*(qr*Kt(vr*yn+Hr)-Tt(Hr));return[Be+Vn*Ut,qe+Vn*Ht,nt*qr/Lt(vr*yn+Hr)]}}return Rr.duration=Dr*1e3,Rr},s.behavior.zoom=function(){var ue={x:0,y:0,k:1},Ae,Be,qe,nt=[960,500],ct=$t,Rt=250,At=0,Ut="mousedown.zoom",Ht="mousemove.zoom",ar="mouseup.zoom",Rr,Dr="touchstart.zoom",Qr,sn=ie(yn,"zoomstart","zoom","zoomend"),_r,Hr,Kr,hn;or||(or="onwheel"in v?(mr=function(){return-s.event.deltaY*(s.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(mr=function(){return s.event.wheelDelta},"mousewheel"):(mr=function(){return-s.event.detail},"MozMousePixelScroll"));function yn($n){$n.on(Ut,ka).on(or+".zoom",zi).on("dblclick.zoom",ui).on(Dr,ni)}yn.event=function($n){$n.each(function(){var Na=sn.of(this,arguments),Ta=ue;zr?s.select(this).transition().each("start.zoom",function(){ue=this.__chart__||{x:0,y:0,k:1},ca(Na)}).tween("zoom:zoom",function(){var Za=nt[0],xi=nt[1],ai=Be?Be[0]:Za/2,Ji=Be?Be[1]:xi/2,Qi=s.interpolateZoom([(ai-ue.x)/ue.k,(Ji-ue.y)/ue.k,Za/ue.k],[(ai-Ta.x)/Ta.k,(Ji-Ta.y)/Ta.k,Za/Ta.k]);return function(ro){var bi=Qi(ro),po=Za/bi[2];this.__chart__=ue={x:ai-bi[0]*po,y:Ji-bi[1]*po,k:po},Oa(Na)}}).each("interrupt.zoom",function(){Ma(Na)}).each("end.zoom",function(){Ma(Na)}):(this.__chart__=ue,ca(Na),Oa(Na),Ma(Na))})},yn.translate=function($n){return arguments.length?(ue={x:+$n[0],y:+$n[1],k:ue.k},sa(),yn):[ue.x,ue.y]},yn.scale=function($n){return arguments.length?(ue={x:ue.x,y:ue.y,k:null},ta(+$n),sa(),yn):ue.k},yn.scaleExtent=function($n){return arguments.length?(ct=$n==null?$t:[+$n[0],+$n[1]],yn):ct},yn.center=function($n){return arguments.length?(qe=$n&&[+$n[0],+$n[1]],yn):qe},yn.size=function($n){return arguments.length?(nt=$n&&[+$n[0],+$n[1]],yn):nt},yn.duration=function($n){return arguments.length?(Rt=+$n,yn):Rt},yn.x=function($n){return arguments.length?(Hr=$n,_r=$n.copy(),ue={x:0,y:0,k:1},yn):Hr},yn.y=function($n){return arguments.length?(hn=$n,Kr=$n.copy(),ue={x:0,y:0,k:1},yn):hn};function qr($n){return[($n[0]-ue.x)/ue.k,($n[1]-ue.y)/ue.k]}function Vn($n){return[$n[0]*ue.k+ue.x,$n[1]*ue.k+ue.y]}function ta($n){ue.k=Math.max(ct[0],Math.min(ct[1],$n))}function fa($n,Na){Na=Vn(Na),ue.x+=$n[0]-Na[0],ue.y+=$n[1]-Na[1]}function qn($n,Na,Ta,Za){$n.__chart__={x:ue.x,y:ue.y,k:ue.k},ta(Math.pow(2,Za)),fa(Be=Na,Ta),$n=s.select($n),Rt>0&&($n=$n.transition().duration(Rt)),$n.call(yn.event)}function sa(){Hr&&Hr.domain(_r.range().map(function($n){return($n-ue.x)/ue.k}).map(_r.invert)),hn&&hn.domain(Kr.range().map(function($n){return($n-ue.y)/ue.k}).map(Kr.invert))}function ca($n){At++||$n({type:"zoomstart"})}function Oa($n){sa(),$n({type:"zoom",scale:ue.k,translate:[ue.x,ue.y]})}function Ma($n){--At||($n({type:"zoomend"}),Be=null)}function ka(){var $n=this,Na=sn.of($n,arguments),Ta=0,Za=s.select(r($n)).on(Ht,Ji).on(ar,Qi),xi=qr(s.mouse($n)),ai=Ge($n);zt.call($n),ca(Na);function Ji(){Ta=1,fa(s.mouse($n),xi),Oa(Na)}function Qi(){Za.on(Ht,null).on(ar,null),ai(Ta),Ma(Na)}}function ni(){var $n=this,Na=sn.of($n,arguments),Ta={},Za=0,xi,ai=".zoom-"+s.event.changedTouches[0].identifier,Ji="touchmove"+ai,Qi="touchend"+ai,ro=[],bi=s.select($n),po=Ge($n);Ea(),ca(Na),bi.on(Ut,null).on(Dr,Ea);function la(){var no=s.touches($n);return xi=ue.k,no.forEach(function(fi){fi.identifier in Ta&&(Ta[fi.identifier]=qr(fi))}),no}function Ea(){var no=s.event.target;s.select(no).on(Ji,Ro).on(Qi,zo),ro.push(no);for(var fi=s.event.changedTouches,Hi=0,Fi=fi.length;Hi<Fi;++Hi)Ta[fi[Hi].identifier]=null;var vs=la(),Ds=Date.now();if(vs.length===1){if(Ds-Qr<500){var Ei=vs[0];qn($n,Ei,Ta[Ei.identifier],Math.floor(Math.log(ue.k)/Math.LN2)+1),re()}Qr=Ds}else if(vs.length>1){var Ei=vs[0],Wl=vs[1],Ka=Ei[0]-Wl[0],Ci=Ei[1]-Wl[1];Za=Ka*Ka+Ci*Ci}}function Ro(){var no=s.touches($n),fi,Hi,Fi,vs;zt.call($n);for(var Ds=0,Ei=no.length;Ds<Ei;++Ds,vs=null)if(Fi=no[Ds],vs=Ta[Fi.identifier]){if(Hi)break;fi=Fi,Hi=vs}if(vs){var Wl=(Wl=Fi[0]-fi[0])*Wl+(Wl=Fi[1]-fi[1])*Wl,Ka=Za&&Math.sqrt(Wl/Za);fi=[(fi[0]+Fi[0])/2,(fi[1]+Fi[1])/2],Hi=[(Hi[0]+vs[0])/2,(Hi[1]+vs[1])/2],ta(Ka*xi)}Qr=null,fa(fi,Hi),Oa(Na)}function zo(){if(s.event.touches.length){for(var no=s.event.changedTouches,fi=0,Hi=no.length;fi<Hi;++fi)delete Ta[no[fi].identifier];for(var Fi in Ta)return void la()}s.selectAll(ro).on(ai,null),bi.on(Ut,ka).on(Dr,ni),po(),Ma(Na)}}function zi(){var $n=sn.of(this,arguments);Rr?clearTimeout(Rr):(zt.call(this),Ae=qr(Be=qe||s.mouse(this)),ca($n)),Rr=setTimeout(function(){Rr=null,Ma($n)},50),re(),ta(Math.pow(2,mr()*.002)*ue.k),fa(Be,Ae),Oa($n)}function ui(){var $n=s.mouse(this),Na=Math.log(ue.k)/Math.LN2;qn(this,$n,qr($n),s.event.shiftKey?Math.ceil(Na)-1:Math.floor(Na)+1)}return s.rebind(yn,sn,"on")};var $t=[0,1/0],mr,or;s.color=gt;function gt(){}gt.prototype.toString=function(){return this.rgb()+""},s.hsl=lt;function lt(ue,Ae,Be){return this instanceof lt?(this.h=+ue,this.s=+Ae,void(this.l=+Be)):arguments.length<2?ue instanceof lt?new lt(ue.h,ue.s,ue.l):Qt(""+ue,Wt,lt):new lt(ue,Ae,Be)}var bt=lt.prototype=new gt;bt.brighter=function(ue){return ue=Math.pow(.7,arguments.length?ue:1),new lt(this.h,this.s,this.l/ue)},bt.darker=function(ue){return ue=Math.pow(.7,arguments.length?ue:1),new lt(this.h,this.s,ue*this.l)},bt.rgb=function(){return Et(this.h,this.s,this.l)};function Et(ue,Ae,Be){var qe,nt;ue=isNaN(ue)?0:(ue%=360)<0?ue+360:ue,Ae=isNaN(Ae)||Ae<0?0:Ae>1?1:Ae,Be=Be<0?0:Be>1?1:Be,nt=Be<=.5?Be*(1+Ae):Be+Ae-Be*Ae,qe=2*Be-nt;function ct(At){return At>360?At-=360:At<0&&(At+=360),At<60?qe+(nt-qe)*At/60:At<180?nt:At<240?qe+(nt-qe)*(240-At)/60:qe}function Rt(At){return Math.round(ct(At)*255)}return new tr(Rt(ue+120),Rt(ue),Rt(ue-120))}s.hcl=kt;function kt(ue,Ae,Be){return this instanceof kt?(this.h=+ue,this.c=+Ae,void(this.l=+Be)):arguments.length<2?ue instanceof kt?new kt(ue.h,ue.c,ue.l):ue instanceof Bt?xr(ue.l,ue.a,ue.b):xr((ue=yr((ue=s.rgb(ue)).r,ue.g,ue.b)).l,ue.a,ue.b):new kt(ue,Ae,Be)}var Ot=kt.prototype=new gt;Ot.brighter=function(ue){return new kt(this.h,this.c,Math.min(100,this.l+Jt*(arguments.length?ue:1)))},Ot.darker=function(ue){return new kt(this.h,this.c,Math.max(0,this.l-Jt*(arguments.length?ue:1)))},Ot.rgb=function(){return Ft(this.h,this.c,this.l).rgb()};function Ft(ue,Ae,Be){return isNaN(ue)&&(ue=0),isNaN(Ae)&&(Ae=0),new Bt(Be,Math.cos(ue*=rt)*Ae,Math.sin(ue)*Ae)}s.lab=Bt;function Bt(ue,Ae,Be){return this instanceof Bt?(this.l=+ue,this.a=+Ae,void(this.b=+Be)):arguments.length<2?ue instanceof Bt?new Bt(ue.l,ue.a,ue.b):ue instanceof kt?Ft(ue.h,ue.c,ue.l):yr((ue=tr(ue)).r,ue.g,ue.b):new Bt(ue,Ae,Be)}var Jt=18,hr=.95047,cr=1,dr=1.08883,fr=Bt.prototype=new gt;fr.brighter=function(ue){return new Bt(Math.min(100,this.l+Jt*(arguments.length?ue:1)),this.a,this.b)},fr.darker=function(ue){return new Bt(Math.max(0,this.l-Jt*(arguments.length?ue:1)),this.a,this.b)},fr.rgb=function(){return Lr(this.l,this.a,this.b)};function Lr(ue,Ae,Be){var qe=(ue+16)/116,nt=qe+Ae/500,ct=qe-Be/200;return nt=Ke(nt)*hr,qe=Ke(qe)*cr,ct=Ke(ct)*dr,new tr(er(3.2404542*nt-1.5371385*qe-.4985314*ct),er(-.969266*nt+1.8760108*qe+.041556*ct),er(.0556434*nt-.2040259*qe+1.0572252*ct))}function xr(ue,Ae,Be){return ue>0?new kt(Math.atan2(Be,Ae)*st,Math.sqrt(Ae*Ae+Be*Be),ue):new kt(NaN,NaN,ue)}function Ke(ue){return ue>.206893034?ue*ue*ue:(ue-.13793103448275862)/7.787037}function et(ue){return ue>.008856?Math.pow(ue,.3333333333333333):7.787037*ue+.13793103448275862}function er(ue){return Math.round(255*(ue<=.00304?12.92*ue:1.055*Math.pow(ue,.4166666666666667)-.055))}s.rgb=tr;function tr(ue,Ae,Be){return this instanceof tr?(this.r=~~ue,this.g=~~Ae,void(this.b=~~Be)):arguments.length<2?ue instanceof tr?new tr(ue.r,ue.g,ue.b):Qt(""+ue,tr,Et):new tr(ue,Ae,Be)}function Yt(ue){return new tr(ue>>16,ue>>8&255,ue&255)}function Pt(ue){return Yt(ue)+""}var Zt=tr.prototype=new gt;Zt.brighter=function(ue){ue=Math.pow(.7,arguments.length?ue:1);var Ae=this.r,Be=this.g,qe=this.b,nt=30;return!Ae&&!Be&&!qe?new tr(nt,nt,nt):(Ae&&Ae<nt&&(Ae=nt),Be&&Be<nt&&(Be=nt),qe&&qe<nt&&(qe=nt),new tr(Math.min(255,Ae/ue),Math.min(255,Be/ue),Math.min(255,qe/ue)))},Zt.darker=function(ue){return ue=Math.pow(.7,arguments.length?ue:1),new tr(ue*this.r,ue*this.g,ue*this.b)},Zt.hsl=function(){return Wt(this.r,this.g,this.b)},Zt.toString=function(){return"#"+nr(this.r)+nr(this.g)+nr(this.b)};function nr(ue){return ue<16?"0"+Math.max(0,ue).toString(16):Math.min(255,ue).toString(16)}function Qt(ue,Ae,Be){var qe=0,nt=0,ct=0,Rt,At,Ut;if(Rt=/([a-z]+)\((.*)\)/.exec(ue=ue.toLowerCase()),Rt)switch(At=Rt[2].split(","),Rt[1]){case"hsl":return Be(parseFloat(At[0]),parseFloat(At[1])/100,parseFloat(At[2])/100);case"rgb":return Ae(Tr(At[0]),Tr(At[1]),Tr(At[2]))}return(Ut=vn.get(ue))?Ae(Ut.r,Ut.g,Ut.b):(ue!=null&&ue.charAt(0)==="#"&&!isNaN(Ut=parseInt(ue.slice(1),16))&&(ue.length===4?(qe=(Ut&3840)>>4,qe=qe>>4|qe,nt=Ut&240,nt=nt>>4|nt,ct=Ut&15,ct=ct<<4|ct):ue.length===7&&(qe=(Ut&16711680)>>16,nt=(Ut&65280)>>8,ct=Ut&255)),Ae(qe,nt,ct))}function Wt(ue,Ae,Be){var qe=Math.min(ue/=255,Ae/=255,Be/=255),nt=Math.max(ue,Ae,Be),ct=nt-qe,Rt,At,Ut=(nt+qe)/2;return ct?(At=Ut<.5?ct/(nt+qe):ct/(2-nt-qe),ue==nt?Rt=(Ae-Be)/ct+(Ae<Be?6:0):Ae==nt?Rt=(Be-ue)/ct+2:Rt=(ue-Ae)/ct+4,Rt*=60):(Rt=NaN,At=Ut>0&&Ut<1?0:Rt),new lt(Rt,At,Ut)}function yr(ue,Ae,Be){ue=Ir(ue),Ae=Ir(Ae),Be=Ir(Be);var qe=et((.4124564*ue+.3575761*Ae+.1804375*Be)/hr),nt=et((.2126729*ue+.7151522*Ae+.072175*Be)/cr),ct=et((.0193339*ue+.119192*Ae+.9503041*Be)/dr);return Bt(116*nt-16,500*(qe-nt),200*(nt-ct))}function Ir(ue){return(ue/=255)<=.04045?ue/12.92:Math.pow((ue+.055)/1.055,2.4)}function Tr(ue){var Ae=parseFloat(ue);return ue.charAt(ue.length-1)==="%"?Math.round(Ae*2.55):Ae}var vn=s.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});vn.forEach(function(ue,Ae){vn.set(ue,Yt(Ae))});function Or(ue){return typeof ue=="function"?ue:function(){return ue}}s.functor=Or,s.xhr=En(B);function En(ue){return function(Ae,Be,qe){return arguments.length===2&&typeof Be=="function"&&(qe=Be,Be=null),nn(Ae,Be,ue,qe)}}function nn(ue,Ae,Be,qe){var nt={},ct=s.dispatch("beforesend","progress","load","error"),Rt={},At=new XMLHttpRequest,Ut=null;self.XDomainRequest&&!("withCredentials"in At)&&/^(http(s)?:)?\/\//.test(ue)&&(At=new XDomainRequest),"onload"in At?At.onload=At.onerror=Ht:At.onreadystatechange=function(){At.readyState>3&&Ht()};function Ht(){var ar=At.status,Rr;if(!ar&&Pr(At)||ar>=200&&ar<300||ar===304){try{Rr=Be.call(nt,At)}catch(Dr){ct.error.call(nt,Dr);return}ct.load.call(nt,Rr)}else ct.error.call(nt,At)}return At.onprogress=function(ar){var Rr=s.event;s.event=ar;try{ct.progress.call(nt,At)}finally{s.event=Rr}},nt.header=function(ar,Rr){return ar=(ar+"").toLowerCase(),arguments.length<2?Rt[ar]:(Rr==null?delete Rt[ar]:Rt[ar]=Rr+"",nt)},nt.mimeType=function(ar){return arguments.length?(Ae=ar==null?null:ar+"",nt):Ae},nt.responseType=function(ar){return arguments.length?(Ut=ar,nt):Ut},nt.response=function(ar){return Be=ar,nt},["get","post"].forEach(function(ar){nt[ar]=function(){return nt.send.apply(nt,[ar].concat(M(arguments)))}}),nt.send=function(ar,Rr,Dr){if(arguments.length===2&&typeof Rr=="function"&&(Dr=Rr,Rr=null),At.open(ar,ue,!0),Ae!=null&&!("accept"in Rt)&&(Rt.accept=Ae+",*/*"),At.setRequestHeader)for(var Qr in Rt)At.setRequestHeader(Qr,Rt[Qr]);return Ae!=null&&At.overrideMimeType&&At.overrideMimeType(Ae),Ut!=null&&(At.responseType=Ut),Dr!=null&&nt.on("error",Dr).on("load",function(sn){Dr(null,sn)}),ct.beforesend.call(nt,At),At.send(Rr??null),nt},nt.abort=function(){return At.abort(),nt},s.rebind(nt,ct,"on"),qe==null?nt:nt.get(gr(qe))}function gr(ue){return ue.length===1?function(Ae,Be){ue(Ae==null?Be:null)}:ue}function Pr(ue){var Ae=ue.responseType;return Ae&&Ae!=="text"?ue.response:ue.responseText}s.dsv=function(ue,Ae){var Be=new RegExp('["'+ue+`
]`),qe=ue.charCodeAt(0);function nt(Ht,ar,Rr){arguments.length<3&&(Rr=ar,ar=null);var Dr=nn(Ht,Ae,ar==null?ct:Rt(ar),Rr);return Dr.row=function(Qr){return arguments.length?Dr.response((ar=Qr)==null?ct:Rt(Qr)):ar},Dr}function ct(Ht){return nt.parse(Ht.responseText)}function Rt(Ht){return function(ar){return nt.parse(ar.responseText,Ht)}}nt.parse=function(Ht,ar){var Rr;return nt.parseRows(Ht,function(Dr,Qr){if(Rr)return Rr(Dr,Qr-1);var sn=function(_r){for(var Hr={},Kr=Dr.length,hn=0;hn<Kr;++hn)Hr[Dr[hn]]=_r[hn];return Hr};Rr=ar?function(_r,Hr){return ar(sn(_r),Hr)}:sn})},nt.parseRows=function(Ht,ar){var Rr={},Dr={},Qr=[],sn=Ht.length,_r=0,Hr=0,Kr,hn;function yn(){if(_r>=sn)return Dr;if(hn)return hn=!1,Rr;var Vn=_r;if(Ht.charCodeAt(Vn)===34){for(var ta=Vn;ta++<sn;)if(Ht.charCodeAt(ta)===34){if(Ht.charCodeAt(ta+1)!==34)break;++ta}_r=ta+2;var fa=Ht.charCodeAt(ta+1);return fa===13?(hn=!0,Ht.charCodeAt(ta+2)===10&&++_r):fa===10&&(hn=!0),Ht.slice(Vn+1,ta).replace(/""/g,'"')}for(;_r<sn;){var fa=Ht.charCodeAt(_r++),qn=1;if(fa===10)hn=!0;else if(fa===13)hn=!0,Ht.charCodeAt(_r)===10&&(++_r,++qn);else if(fa!==qe)continue;return Ht.slice(Vn,_r-qn)}return Ht.slice(Vn)}for(;(Kr=yn())!==Dr;){for(var qr=[];Kr!==Rr&&Kr!==Dr;)qr.push(Kr),Kr=yn();ar&&(qr=ar(qr,Hr++))==null||Qr.push(qr)}return Qr},nt.format=function(Ht){if(Array.isArray(Ht[0]))return nt.formatRows(Ht);var ar=new _,Rr=[];return Ht.forEach(function(Dr){for(var Qr in Dr)ar.has(Qr)||Rr.push(ar.add(Qr))}),[Rr.map(Ut).join(ue)].concat(Ht.map(function(Dr){return Rr.map(function(Qr){return Ut(Dr[Qr])}).join(ue)})).join(`
`)},nt.formatRows=function(Ht){return Ht.map(At).join(`
`)};function At(Ht){return Ht.map(Ut).join(ue)}function Ut(Ht){return Be.test(Ht)?'"'+Ht.replace(/\"/g,'""')+'"':Ht}return nt},s.csv=s.dsv(",","text/csv"),s.tsv=s.dsv("	","text/tab-separated-values");var Xr,kr,pn,tn,Tn=this[z(this,"requestAnimationFrame")]||function(ue){setTimeout(ue,17)};s.timer=function(){Ln.apply(this,arguments)};function Ln(ue,Ae,Be){var qe=arguments.length;qe<2&&(Ae=0),qe<3&&(Be=Date.now());var nt=Be+Ae,ct={c:ue,t:nt,n:null};return kr?kr.n=ct:Xr=ct,kr=ct,pn||(tn=clearTimeout(tn),pn=1,Tn(Hn)),ct}function Hn(){var ue=pa(),Ae=xa()-ue;Ae>24?(isFinite(Ae)&&(clearTimeout(tn),tn=setTimeout(Hn,Ae)),pn=0):(pn=1,Tn(Hn))}s.timer.flush=function(){pa(),xa()};function pa(){for(var ue=Date.now(),Ae=Xr;Ae;)ue>=Ae.t&&Ae.c(ue-Ae.t)&&(Ae.c=null),Ae=Ae.n;return ue}function xa(){for(var ue,Ae=Xr,Be=1/0;Ae;)Ae.c?(Ae.t<Be&&(Be=Ae.t),Ae=(ue=Ae).n):Ae=ue?ue.n=Ae.n:Xr=Ae.n;return kr=ue,Be}s.round=function(ue,Ae){return Ae?Math.round(ue*(Ae=Math.pow(10,Ae)))/Ae:Math.round(ue)},s.geom={};function ia(ue){return ue[0]}function ra(ue){return ue[1]}s.geom.hull=function(ue){var Ae=ia,Be=ra;if(arguments.length)return qe(ue);function qe(nt){if(nt.length<3)return[];var ct=Or(Ae),Rt=Or(Be),At,Ut=nt.length,Ht=[],ar=[];for(At=0;At<Ut;At++)Ht.push([+ct.call(this,nt[At],At),+Rt.call(this,nt[At],At),At]);for(Ht.sort(Cr),At=0;At<Ut;At++)ar.push([Ht[At][0],-Ht[At][1]]);var Rr=Rn(Ht),Dr=Rn(ar),Qr=Dr[0]===Rr[0],sn=Dr[Dr.length-1]===Rr[Rr.length-1],_r=[];for(At=Rr.length-1;At>=0;--At)_r.push(nt[Ht[Rr[At]][2]]);for(At=+Qr;At<Dr.length-sn;++At)_r.push(nt[Ht[Dr[At]][2]]);return _r}return qe.x=function(nt){return arguments.length?(Ae=nt,qe):Ae},qe.y=function(nt){return arguments.length?(Be=nt,qe):Be},qe};function Rn(ue){for(var Ae=ue.length,Be=[0,1],qe=2,nt=2;nt<Ae;nt++){for(;qe>1&&Vt(ue[Be[qe-2]],ue[Be[qe-1]],ue[nt])<=0;)--qe;Be[qe++]=nt}return Be.slice(0,qe)}function Cr(ue,Ae){return ue[0]-Ae[0]||ue[1]-Ae[1]}s.geom.polygon=function(ue){return $(ue,an),ue};var an=s.geom.polygon.prototype=[];an.area=function(){for(var ue=-1,Ae=this.length,Be,qe=this[Ae-1],nt=0;++ue<Ae;)Be=qe,qe=this[ue],nt+=Be[1]*qe[0]-Be[0]*qe[1];return nt*.5},an.centroid=function(ue){var Ae=-1,Be=this.length,qe=0,nt=0,ct,Rt=this[Be-1],At;for(arguments.length||(ue=-1/(6*this.area()));++Ae<Be;)ct=Rt,Rt=this[Ae],At=ct[0]*Rt[1]-Rt[0]*ct[1],qe+=(ct[0]+Rt[0])*At,nt+=(ct[1]+Rt[1])*At;return[qe*ue,nt*ue]},an.clip=function(ue){for(var Ae,Be=On(ue),qe=-1,nt=this.length-On(this),ct,Rt,At=this[nt-1],Ut,Ht,ar;++qe<nt;){for(Ae=ue.slice(),ue.length=0,Ut=this[qe],Ht=Ae[(Rt=Ae.length-Be)-1],ct=-1;++ct<Rt;)ar=Ae[ct],on(ar,At,Ut)?(on(Ht,At,Ut)||ue.push(ln(Ht,ar,At,Ut)),ue.push(ar)):on(Ht,At,Ut)&&ue.push(ln(Ht,ar,At,Ut)),Ht=ar;Be&&ue.push(ue[0]),At=Ut}return ue};function on(ue,Ae,Be){return(Be[0]-Ae[0])*(ue[1]-Ae[1])<(Be[1]-Ae[1])*(ue[0]-Ae[0])}function ln(ue,Ae,Be,qe){var nt=ue[0],ct=Be[0],Rt=Ae[0]-nt,At=qe[0]-ct,Ut=ue[1],Ht=Be[1],ar=Ae[1]-Ut,Rr=qe[1]-Ht,Dr=(At*(Ut-Ht)-Rr*(nt-ct))/(Rr*Rt-At*ar);return[nt+Dr*Rt,Ut+Dr*ar]}function On(ue){var Ae=ue[0],Be=ue[ue.length-1];return!(Ae[0]-Be[0]||Ae[1]-Be[1])}var gn,Cn,Bn,Qn=[],ha,Ra,Ar=[];function Br(){ho(this),this.edge=this.site=this.circle=null}function Mr(ue){var Ae=Qn.pop()||new Br;return Ae.site=ue,Ae}function Nr(ue){An(ue),Bn.remove(ue),Qn.push(ue),ho(ue)}function un(ue){var Ae=ue.circle,Be=Ae.x,qe=Ae.cy,nt={x:Be,y:qe},ct=ue.P,Rt=ue.N,At=[ue];Nr(ue);for(var Ut=ct;Ut.circle&&d(Be-Ut.circle.x)<Ue&&d(qe-Ut.circle.cy)<Ue;)ct=Ut.P,At.unshift(Ut),Nr(Ut),Ut=ct;At.unshift(Ut),An(Ut);for(var Ht=Rt;Ht.circle&&d(Be-Ht.circle.x)<Ue&&d(qe-Ht.circle.cy)<Ue;)Rt=Ht.N,At.push(Ht),Nr(Ht),Ht=Rt;At.push(Ht),An(Ht);var ar=At.length,Rr;for(Rr=1;Rr<ar;++Rr)Ht=At[Rr],Ut=At[Rr-1],Ca(Ht.edge,Ut.site,Ht.site,nt);Ut=At[0],Ht=At[ar-1],Ht.edge=jn(Ut.site,Ht.site,null,nt),wn(Ut),wn(Ht)}function Dn(ue){for(var Ae=ue.x,Be=ue.y,qe,nt,ct,Rt,At=Bn._;At;)if(ct=mn(At,Be)-Ae,ct>Ue)At=At.L;else if(Rt=Ae-cn(At,Be),Rt>Ue){if(!At.R){qe=At;break}At=At.R}else{ct>-Ue?(qe=At.P,nt=At):Rt>-Ue?(qe=At,nt=At.N):qe=nt=At;break}var Ut=Mr(ue);if(Bn.insert(qe,Ut),!(!qe&&!nt)){if(qe===nt){An(qe),nt=Mr(qe.site),Bn.insert(Ut,nt),Ut.edge=nt.edge=jn(qe.site,Ut.site),wn(qe),wn(nt);return}if(!nt){Ut.edge=jn(qe.site,Ut.site);return}An(qe),An(nt);var Ht=qe.site,ar=Ht.x,Rr=Ht.y,Dr=ue.x-ar,Qr=ue.y-Rr,sn=nt.site,_r=sn.x-ar,Hr=sn.y-Rr,Kr=2*(Dr*Hr-Qr*_r),hn=Dr*Dr+Qr*Qr,yn=_r*_r+Hr*Hr,qr={x:(Hr*hn-Qr*yn)/Kr+ar,y:(Dr*yn-_r*hn)/Kr+Rr};Ca(nt.edge,Ht,sn,qr),Ut.edge=jn(Ht,ue,null,qr),nt.edge=jn(ue,sn,null,qr),wn(qe),wn(nt)}}function mn(ue,Ae){var Be=ue.site,qe=Be.x,nt=Be.y,ct=nt-Ae;if(!ct)return qe;var Rt=ue.P;if(!Rt)return-1/0;Be=Rt.site;var At=Be.x,Ut=Be.y,Ht=Ut-Ae;if(!Ht)return At;var ar=At-qe,Rr=1/ct-1/Ht,Dr=ar/Ht;return Rr?(-Dr+Math.sqrt(Dr*Dr-2*Rr*(ar*ar/(-2*Ht)-Ut+Ht/2+nt-ct/2)))/Rr+qe:(qe+At)/2}function cn(ue,Ae){var Be=ue.N;if(Be)return mn(Be,Ae);var qe=ue.site;return qe.y===Ae?qe.x:1/0}function Er(ue){this.site=ue,this.edges=[]}Er.prototype.prepare=function(){for(var ue=this.edges,Ae=ue.length,Be;Ae--;)Be=ue[Ae].edge,(!Be.b||!Be.a)&&ue.splice(Ae,1);return ue.sort(Gr),ue.length};function Yr(ue){for(var Ae=ue[0][0],Be=ue[1][0],qe=ue[0][1],nt=ue[1][1],ct,Rt,At,Ut,Ht=Cn,ar=Ht.length,Rr,Dr,Qr,sn,_r,Hr;ar--;)if(Rr=Ht[ar],!(!Rr||!Rr.prepare()))for(Qr=Rr.edges,sn=Qr.length,Dr=0;Dr<sn;)Hr=Qr[Dr].end(),At=Hr.x,Ut=Hr.y,_r=Qr[++Dr%sn].start(),ct=_r.x,Rt=_r.y,(d(At-ct)>Ue||d(Ut-Rt)>Ue)&&(Qr.splice(Dr,0,new di(oa(Rr.site,Hr,d(At-Ae)<Ue&&nt-Ut>Ue?{x:Ae,y:d(ct-Ae)<Ue?Rt:nt}:d(Ut-nt)<Ue&&Be-At>Ue?{x:d(Rt-nt)<Ue?ct:Be,y:nt}:d(At-Be)<Ue&&Ut-qe>Ue?{x:Be,y:d(ct-Be)<Ue?Rt:qe}:d(Ut-qe)<Ue&&At-Ae>Ue?{x:d(Rt-qe)<Ue?ct:Ae,y:qe}:null),Rr.site,null)),++sn)}function Gr(ue,Ae){return Ae.angle-ue.angle}function $r(){ho(this),this.x=this.y=this.arc=this.site=this.cy=null}function wn(ue){var Ae=ue.P,Be=ue.N;if(!(!Ae||!Be)){var qe=Ae.site,nt=ue.site,ct=Be.site;if(qe!==ct){var Rt=nt.x,At=nt.y,Ut=qe.x-Rt,Ht=qe.y-At,ar=ct.x-Rt,Hr=ct.y-At,Rr=2*(Ut*Hr-Ht*ar);if(!(Rr>=-Ee)){var Dr=Ut*Ut+Ht*Ht,Qr=ar*ar+Hr*Hr,sn=(Hr*Dr-Ht*Qr)/Rr,_r=(Ut*Qr-ar*Dr)/Rr,Hr=_r+At,Kr=Ar.pop()||new $r;Kr.arc=ue,Kr.site=nt,Kr.x=sn+Rt,Kr.y=Hr+Math.sqrt(sn*sn+_r*_r),Kr.cy=Hr,ue.circle=Kr;for(var hn=null,yn=Ra._;yn;)if(Kr.y<yn.y||Kr.y===yn.y&&Kr.x<=yn.x)if(yn.L)yn=yn.L;else{hn=yn.P;break}else if(yn.R)yn=yn.R;else{hn=yn;break}Ra.insert(hn,Kr),hn||(ha=Kr)}}}}function An(ue){var Ae=ue.circle;Ae&&(Ae.P||(ha=Ae.N),Ra.remove(Ae),Ar.push(Ae),ho(Ae),ue.circle=null)}function Fn(ue,Ae,Be,qe){return function(nt){var ct=nt.a,Rt=nt.b,At=ct.x,Ut=ct.y,Ht=Rt.x,ar=Rt.y,Rr=0,Dr=1,Qr=Ht-At,sn=ar-Ut,_r;if(_r=ue-At,!(!Qr&&_r>0)){if(_r/=Qr,Qr<0){if(_r<Rr)return;_r<Dr&&(Dr=_r)}else if(Qr>0){if(_r>Dr)return;_r>Rr&&(Rr=_r)}if(_r=Be-At,!(!Qr&&_r<0)){if(_r/=Qr,Qr<0){if(_r>Dr)return;_r>Rr&&(Rr=_r)}else if(Qr>0){if(_r<Rr)return;_r<Dr&&(Dr=_r)}if(_r=Ae-Ut,!(!sn&&_r>0)){if(_r/=sn,sn<0){if(_r<Rr)return;_r<Dr&&(Dr=_r)}else if(sn>0){if(_r>Dr)return;_r>Rr&&(Rr=_r)}if(_r=qe-Ut,!(!sn&&_r<0)){if(_r/=sn,sn<0){if(_r>Dr)return;_r>Rr&&(Rr=_r)}else if(sn>0){if(_r<Rr)return;_r<Dr&&(Dr=_r)}return Rr>0&&(nt.a={x:At+Rr*Qr,y:Ut+Rr*sn}),Dr<1&&(nt.b={x:At+Dr*Qr,y:Ut+Dr*sn}),nt}}}}}}function Nn(ue){for(var Ae=gn,Be=Fn(ue[0][0],ue[0][1],ue[1][0],ue[1][1]),qe=Ae.length,nt;qe--;)nt=Ae[qe],(!_n(nt,ue)||!Be(nt)||d(nt.a.x-nt.b.x)<Ue&&d(nt.a.y-nt.b.y)<Ue)&&(nt.a=nt.b=null,Ae.splice(qe,1))}function _n(ue,Ae){var Be=ue.b;if(Be)return!0;var qe=ue.a,nt=Ae[0][0],ct=Ae[1][0],Rt=Ae[0][1],At=Ae[1][1],Ut=ue.l,Ht=ue.r,ar=Ut.x,Rr=Ut.y,Dr=Ht.x,Qr=Ht.y,sn=(ar+Dr)/2,_r=(Rr+Qr)/2,Hr,Kr;if(Qr===Rr){if(sn<nt||sn>=ct)return;if(ar>Dr){if(!qe)qe={x:sn,y:Rt};else if(qe.y>=At)return;Be={x:sn,y:At}}else{if(!qe)qe={x:sn,y:At};else if(qe.y<Rt)return;Be={x:sn,y:Rt}}}else if(Hr=(ar-Dr)/(Qr-Rr),Kr=_r-Hr*sn,Hr<-1||Hr>1)if(ar>Dr){if(!qe)qe={x:(Rt-Kr)/Hr,y:Rt};else if(qe.y>=At)return;Be={x:(At-Kr)/Hr,y:At}}else{if(!qe)qe={x:(At-Kr)/Hr,y:At};else if(qe.y<Rt)return;Be={x:(Rt-Kr)/Hr,y:Rt}}else if(Rr<Qr){if(!qe)qe={x:nt,y:Hr*nt+Kr};else if(qe.x>=ct)return;Be={x:ct,y:Hr*ct+Kr}}else{if(!qe)qe={x:ct,y:Hr*ct+Kr};else if(qe.x<nt)return;Be={x:nt,y:Hr*nt+Kr}}return ue.a=qe,ue.b=Be,!0}function Wn(ue,Ae){this.l=ue,this.r=Ae,this.a=this.b=null}function jn(ue,Ae,Be,qe){var nt=new Wn(ue,Ae);return gn.push(nt),Be&&Ca(nt,ue,Ae,Be),qe&&Ca(nt,Ae,ue,qe),Cn[ue.i].edges.push(new di(nt,ue,Ae)),Cn[Ae.i].edges.push(new di(nt,Ae,ue)),nt}function oa(ue,Ae,Be){var qe=new Wn(ue,null);return qe.a=Ae,qe.b=Be,gn.push(qe),qe}function Ca(ue,Ae,Be,qe){!ue.a&&!ue.b?(ue.a=qe,ue.l=Ae,ue.r=Be):ue.l===Be?ue.b=qe:ue.a=qe}function di(ue,Ae,Be){var qe=ue.a,nt=ue.b;this.edge=ue,this.site=Ae,this.angle=Be?Math.atan2(Be.y-Ae.y,Be.x-Ae.x):ue.l===Ae?Math.atan2(nt.x-qe.x,qe.y-nt.y):Math.atan2(qe.x-nt.x,nt.y-qe.y)}di.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function qa(){this._=null}function ho(ue){ue.U=ue.C=ue.L=ue.R=ue.P=ue.N=null}qa.prototype={insert:function(ue,Ae){var Be,qe,nt;if(ue){if(Ae.P=ue,Ae.N=ue.N,ue.N&&(ue.N.P=Ae),ue.N=Ae,ue.R){for(ue=ue.R;ue.L;)ue=ue.L;ue.L=Ae}else ue.R=Ae;Be=ue}else this._?(ue=As(this._),Ae.P=null,Ae.N=ue,ue.P=ue.L=Ae,Be=ue):(Ae.P=Ae.N=null,this._=Ae,Be=null);for(Ae.L=Ae.R=null,Ae.U=Be,Ae.C=!0,ue=Ae;Be&&Be.C;)qe=Be.U,Be===qe.L?(nt=qe.R,nt&&nt.C?(Be.C=nt.C=!1,qe.C=!0,ue=qe):(ue===Be.R&&(Eo(this,Be),ue=Be,Be=ue.U),Be.C=!1,qe.C=!0,qi(this,qe))):(nt=qe.L,nt&&nt.C?(Be.C=nt.C=!1,qe.C=!0,ue=qe):(ue===Be.L&&(qi(this,Be),ue=Be,Be=ue.U),Be.C=!1,qe.C=!0,Eo(this,qe))),Be=ue.U;this._.C=!1},remove:function(ue){ue.N&&(ue.N.P=ue.P),ue.P&&(ue.P.N=ue.N),ue.N=ue.P=null;var Ae=ue.U,Be,qe=ue.L,nt=ue.R,ct,Rt;if(qe?nt?ct=As(nt):ct=qe:ct=nt,Ae?Ae.L===ue?Ae.L=ct:Ae.R=ct:this._=ct,qe&&nt?(Rt=ct.C,ct.C=ue.C,ct.L=qe,qe.U=ct,ct!==nt?(Ae=ct.U,ct.U=ue.U,ue=ct.R,Ae.L=ue,ct.R=nt,nt.U=ct):(ct.U=Ae,Ae=ct,ue=ct.R)):(Rt=ue.C,ue=ct),ue&&(ue.U=Ae),!Rt){if(ue&&ue.C){ue.C=!1;return}do{if(ue===this._)break;if(ue===Ae.L){if(Be=Ae.R,Be.C&&(Be.C=!1,Ae.C=!0,Eo(this,Ae),Be=Ae.R),Be.L&&Be.L.C||Be.R&&Be.R.C){(!Be.R||!Be.R.C)&&(Be.L.C=!1,Be.C=!0,qi(this,Be),Be=Ae.R),Be.C=Ae.C,Ae.C=Be.R.C=!1,Eo(this,Ae),ue=this._;break}}else if(Be=Ae.L,Be.C&&(Be.C=!1,Ae.C=!0,qi(this,Ae),Be=Ae.L),Be.L&&Be.L.C||Be.R&&Be.R.C){(!Be.L||!Be.L.C)&&(Be.R.C=!1,Be.C=!0,Eo(this,Be),Be=Ae.L),Be.C=Ae.C,Ae.C=Be.L.C=!1,qi(this,Ae),ue=this._;break}Be.C=!0,ue=Ae,Ae=Ae.U}while(!ue.C);ue&&(ue.C=!1)}}};function Eo(ue,Ae){var Be=Ae,qe=Ae.R,nt=Be.U;nt?nt.L===Be?nt.L=qe:nt.R=qe:ue._=qe,qe.U=nt,Be.U=qe,Be.R=qe.L,Be.R&&(Be.R.U=Be),qe.L=Be}function qi(ue,Ae){var Be=Ae,qe=Ae.L,nt=Be.U;nt?nt.L===Be?nt.L=qe:nt.R=qe:ue._=qe,qe.U=nt,Be.U=qe,Be.L=qe.R,Be.L&&(Be.L.U=Be),qe.R=Be}function As(ue){for(;ue.L;)ue=ue.L;return ue}function Sl(ue,Ae){var Be=ue.sort(tu).pop(),qe,nt,ct;for(gn=[],Cn=new Array(ue.length),Bn=new qa,Ra=new qa;;)if(ct=ha,Be&&(!ct||Be.y<ct.y||Be.y===ct.y&&Be.x<ct.x))(Be.x!==qe||Be.y!==nt)&&(Cn[Be.i]=new Er(Be),Dn(Be),qe=Be.x,nt=Be.y),Be=ue.pop();else if(ct)un(ct.arc);else break;Ae&&(Nn(Ae),Yr(Ae));var Rt={cells:Cn,edges:gn};return Bn=Ra=gn=Cn=null,Rt}function tu(ue,Ae){return Ae.y-ue.y||Ae.x-ue.x}s.geom.voronoi=function(ue){var Ae=ia,Be=ra,qe=Ae,nt=Be,ct=ei;if(ue)return Rt(ue);function Rt(Ut){var Ht=new Array(Ut.length),ar=ct[0][0],Rr=ct[0][1],Dr=ct[1][0],Qr=ct[1][1];return Sl(At(Ut),ct).cells.forEach(function(sn,_r){var Hr=sn.edges,Kr=sn.site,hn=Ht[_r]=Hr.length?Hr.map(function(yn){var qr=yn.start();return[qr.x,qr.y]}):Kr.x>=ar&&Kr.x<=Dr&&Kr.y>=Rr&&Kr.y<=Qr?[[ar,Qr],[Dr,Qr],[Dr,Rr],[ar,Rr]]:[];hn.point=Ut[_r]}),Ht}function At(Ut){return Ut.map(function(Ht,ar){return{x:Math.round(qe(Ht,ar)/Ue)*Ue,y:Math.round(nt(Ht,ar)/Ue)*Ue,i:ar}})}return Rt.links=function(Ut){return Sl(At(Ut)).edges.filter(function(Ht){return Ht.l&&Ht.r}).map(function(Ht){return{source:Ut[Ht.l.i],target:Ut[Ht.r.i]}})},Rt.triangles=function(Ut){var Ht=[];return Sl(At(Ut)).cells.forEach(function(ar,Rr){for(var Dr=ar.site,Qr=ar.edges.sort(Gr),sn=-1,_r=Qr.length,Hr,Kr=Qr[_r-1].edge,hn=Kr.l===Dr?Kr.r:Kr.l;++sn<_r;)Hr=hn,Kr=Qr[sn].edge,hn=Kr.l===Dr?Kr.r:Kr.l,Rr<Hr.i&&Rr<hn.i&&ru(Dr,Hr,hn)<0&&Ht.push([Ut[Rr],Ut[Hr.i],Ut[hn.i]])}),Ht},Rt.x=function(Ut){return arguments.length?(qe=Or(Ae=Ut),Rt):Ae},Rt.y=function(Ut){return arguments.length?(nt=Or(Be=Ut),Rt):Be},Rt.clipExtent=function(Ut){return arguments.length?(ct=Ut??ei,Rt):ct===ei?null:ct},Rt.size=function(Ut){return arguments.length?Rt.clipExtent(Ut&&[[0,0],Ut]):ct===ei?null:ct&&ct[1]},Rt};var ei=[[-1e6,-1e6],[1e6,1e6]];function ru(ue,Ae,Be){return(ue.x-Be.x)*(Ae.y-ue.y)-(ue.x-Ae.x)*(Be.y-ue.y)}s.geom.delaunay=function(ue){return s.geom.voronoi().triangles(ue)},s.geom.quadtree=function(ue,Ae,Be,qe,nt){var ct=ia,Rt=ra,At;if(At=arguments.length)return ct=sf,Rt=ji,At===3&&(nt=Be,qe=Ae,Be=Ae=0),Ut(ue);function Ut(Ht){var ar,Rr=Or(ct),Dr=Or(Rt),Qr,sn,_r,Hr,Kr,hn,yn,qr;if(Ae!=null)Kr=Ae,hn=Be,yn=qe,qr=nt;else if(yn=qr=-(Kr=hn=1/0),Qr=[],sn=[],Hr=Ht.length,At)for(_r=0;_r<Hr;++_r)ar=Ht[_r],ar.x<Kr&&(Kr=ar.x),ar.y<hn&&(hn=ar.y),ar.x>yn&&(yn=ar.x),ar.y>qr&&(qr=ar.y),Qr.push(ar.x),sn.push(ar.y);else for(_r=0;_r<Hr;++_r){var Vn=+Rr(ar=Ht[_r],_r),ta=+Dr(ar,_r);Vn<Kr&&(Kr=Vn),ta<hn&&(hn=ta),Vn>yn&&(yn=Vn),ta>qr&&(qr=ta),Qr.push(Vn),sn.push(ta)}var fa=yn-Kr,qn=qr-hn;fa>qn?qr=hn+fa:yn=Kr+qn;function sa(Ma,ka,ni,zi,ui,$n,Na,Ta){if(!(isNaN(ni)||isNaN(zi)))if(Ma.leaf){var Za=Ma.x,xi=Ma.y;if(Za!=null)if(d(Za-ni)+d(xi-zi)<.01)ca(Ma,ka,ni,zi,ui,$n,Na,Ta);else{var ai=Ma.point;Ma.x=Ma.y=Ma.point=null,ca(Ma,ai,Za,xi,ui,$n,Na,Ta),ca(Ma,ka,ni,zi,ui,$n,Na,Ta)}else Ma.x=ni,Ma.y=zi,Ma.point=ka}else ca(Ma,ka,ni,zi,ui,$n,Na,Ta)}function ca(Ma,ka,ni,zi,ui,$n,Na,Ta){var Za=(ui+Na)*.5,xi=($n+Ta)*.5,ai=ni>=Za,Ji=zi>=xi,Qi=Ji<<1|ai;Ma.leaf=!1,Ma=Ma.nodes[Qi]||(Ma.nodes[Qi]=xo()),ai?ui=Za:Na=Za,Ji?$n=xi:Ta=xi,sa(Ma,ka,ni,zi,ui,$n,Na,Ta)}var Oa=xo();if(Oa.add=function(Ma){sa(Oa,Ma,+Rr(Ma,++_r),+Dr(Ma,_r),Kr,hn,yn,qr)},Oa.visit=function(Ma){El(Ma,Oa,Kr,hn,yn,qr)},Oa.find=function(Ma){return zu(Oa,Ma[0],Ma[1],Kr,hn,yn,qr)},_r=-1,Ae==null){for(;++_r<Hr;)sa(Oa,Ht[_r],Qr[_r],sn[_r],Kr,hn,yn,qr);--_r}else Ht.forEach(Oa.add);return Qr=sn=Ht=ar=null,Oa}return Ut.x=function(Ht){return arguments.length?(ct=Ht,Ut):ct},Ut.y=function(Ht){return arguments.length?(Rt=Ht,Ut):Rt},Ut.extent=function(Ht){return arguments.length?(Ht==null?Ae=Be=qe=nt=null:(Ae=+Ht[0][0],Be=+Ht[0][1],qe=+Ht[1][0],nt=+Ht[1][1]),Ut):Ae==null?null:[[Ae,Be],[qe,nt]]},Ut.size=function(Ht){return arguments.length?(Ht==null?Ae=Be=qe=nt=null:(Ae=Be=0,qe=+Ht[0],nt=+Ht[1]),Ut):Ae==null?null:[qe-Ae,nt-Be]},Ut};function sf(ue){return ue.x}function ji(ue){return ue.y}function xo(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function El(ue,Ae,Be,qe,nt,ct){if(!ue(Ae,Be,qe,nt,ct)){var Rt=(Be+nt)*.5,At=(qe+ct)*.5,Ut=Ae.nodes;Ut[0]&&El(ue,Ut[0],Be,qe,Rt,At),Ut[1]&&El(ue,Ut[1],Rt,qe,nt,At),Ut[2]&&El(ue,Ut[2],Be,At,Rt,ct),Ut[3]&&El(ue,Ut[3],Rt,At,nt,ct)}}function zu(ue,Ae,Be,qe,nt,ct,Rt){var At=1/0,Ut;return function Ht(ar,Rr,Dr,Qr,sn){if(!(Rr>ct||Dr>Rt||Qr<qe||sn<nt)){if(_r=ar.point){var _r,Hr=Ae-ar.x,Kr=Be-ar.y,hn=Hr*Hr+Kr*Kr;if(hn<At){var yn=Math.sqrt(At=hn);qe=Ae-yn,nt=Be-yn,ct=Ae+yn,Rt=Be+yn,Ut=_r}}for(var qr=ar.nodes,Vn=(Rr+Qr)*.5,ta=(Dr+sn)*.5,fa=Ae>=Vn,qn=Be>=ta,sa=qn<<1|fa,ca=sa+4;sa<ca;++sa)if(ar=qr[sa&3])switch(sa&3){case 0:Ht(ar,Rr,Dr,Vn,ta);break;case 1:Ht(ar,Vn,Dr,Qr,ta);break;case 2:Ht(ar,Rr,ta,Vn,sn);break;case 3:Ht(ar,Vn,ta,Qr,sn);break}}}(ue,qe,nt,ct,Rt),Ut}s.interpolateRgb=Di;function Di(ue,Ae){ue=s.rgb(ue),Ae=s.rgb(Ae);var Be=ue.r,qe=ue.g,nt=ue.b,ct=Ae.r-Be,Rt=Ae.g-qe,At=Ae.b-nt;return function(Ut){return"#"+nr(Math.round(Be+ct*Ut))+nr(Math.round(qe+Rt*Ut))+nr(Math.round(nt+At*Ut))}}s.interpolateObject=Cl;function Cl(ue,Ae){var Be={},qe={},nt;for(nt in ue)nt in Ae?Be[nt]=to(ue[nt],Ae[nt]):qe[nt]=ue[nt];for(nt in Ae)nt in ue||(qe[nt]=Ae[nt]);return function(ct){for(nt in Be)qe[nt]=Be[nt](ct);return qe}}s.interpolateNumber=_i;function _i(ue,Ae){return ue=+ue,Ae=+Ae,function(Be){return ue*(1-Be)+Ae*Be}}s.interpolateString=Ui;function Ui(ue,Ae){var Be=Ll.lastIndex=eo.lastIndex=0,qe,nt,ct,Rt=-1,At=[],Ut=[];for(ue=ue+"",Ae=Ae+"";(qe=Ll.exec(ue))&&(nt=eo.exec(Ae));)(ct=nt.index)>Be&&(ct=Ae.slice(Be,ct),At[Rt]?At[Rt]+=ct:At[++Rt]=ct),(qe=qe[0])===(nt=nt[0])?At[Rt]?At[Rt]+=nt:At[++Rt]=nt:(At[++Rt]=null,Ut.push({i:Rt,x:_i(qe,nt)})),Be=eo.lastIndex;return Be<Ae.length&&(ct=Ae.slice(Be),At[Rt]?At[Rt]+=ct:At[++Rt]=ct),At.length<2?Ut[0]?(Ae=Ut[0].x,function(Ht){return Ae(Ht)+""}):function(){return Ae}:(Ae=Ut.length,function(Ht){for(var ar=0,Rr;ar<Ae;++ar)At[(Rr=Ut[ar]).i]=Rr.x(Ht);return At.join("")})}var Ll=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eo=new RegExp(Ll.source,"g");s.interpolate=to;function to(ue,Ae){for(var Be=s.interpolators.length,qe;--Be>=0&&!(qe=s.interpolators[Be](ue,Ae)););return qe}s.interpolators=[function(ue,Ae){var Be=typeof Ae;return(Be==="string"?vn.has(Ae.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Ae)?Di:Ui:Ae instanceof gt?Di:Array.isArray(Ae)?ko:Be==="object"&&isNaN(Ae)?Cl:_i)(ue,Ae)}],s.interpolateArray=ko;function ko(ue,Ae){var Be=[],qe=[],nt=ue.length,ct=Ae.length,Rt=Math.min(ue.length,Ae.length),At;for(At=0;At<Rt;++At)Be.push(to(ue[At],Ae[At]));for(;At<nt;++At)qe[At]=ue[At];for(;At<ct;++At)qe[At]=Ae[At];return function(Ut){for(At=0;At<Rt;++At)qe[At]=Be[At](Ut);return qe}}var Gf=function(){return B},Co=s.map({linear:Gf,poly:Wf,quad:function(){return Ns},cubic:function(){return fs},sin:function(){return Xc},exp:function(){return Fu},circle:function(){return jc},elastic:Zc,back:Kc,bounce:function(){return ff}}),Yc=s.map({in:B,out:Zi,"in-out":lf,"out-in":function(ue){return lf(Zi(ue))}});s.ease=function(ue){var Ae=ue.indexOf("-"),Be=Ae>=0?ue.slice(0,Ae):ue,qe=Ae>=0?ue.slice(Ae+1):"in";return Be=Co.get(Be)||Gf,qe=Yc.get(qe)||B,us(qe(Be.apply(null,L.call(arguments,1))))};function us(ue){return function(Ae){return Ae<=0?0:Ae>=1?1:ue(Ae)}}function Zi(ue){return function(Ae){return 1-ue(1-Ae)}}function lf(ue){return function(Ae){return .5*(Ae<.5?ue(2*Ae):2-ue(2-2*Ae))}}function Ns(ue){return ue*ue}function fs(ue){return ue*ue*ue}function uf(ue){if(ue<=0)return 0;if(ue>=1)return 1;var Ae=ue*ue,Be=Ae*ue;return 4*(ue<.5?Be:3*(ue-Ae)+Be-.75)}function Wf(ue){return function(Ae){return Math.pow(Ae,ue)}}function Xc(ue){return 1-Math.cos(ue*We)}function Fu(ue){return Math.pow(2,10*(ue-1))}function jc(ue){return 1-Math.sqrt(1-ue*ue)}function Zc(ue,Ae){var Be;return arguments.length<2&&(Ae=.45),arguments.length?Be=Ae/ye*Math.asin(1/ue):(ue=1,Be=Ae/4),function(qe){return 1+ue*Math.pow(2,-10*qe)*Math.sin((qe-Be)*ye/Ae)}}function Kc(ue){return ue||(ue=1.70158),function(Ae){return Ae*Ae*((ue+1)*Ae-ue)}}function ff(ue){return ue<.36363636363636365?7.5625*ue*ue:ue<.7272727272727273?7.5625*(ue-=.5454545454545454)*ue+.75:ue<.9090909090909091?7.5625*(ue-=.8181818181818182)*ue+.9375:7.5625*(ue-=.9545454545454546)*ue+.984375}s.interpolateHcl=Jc;function Jc(ue,Ae){ue=s.hcl(ue),Ae=s.hcl(Ae);var Be=ue.h,qe=ue.c,nt=ue.l,ct=Ae.h-Be,Rt=Ae.c-qe,At=Ae.l-nt;return isNaN(Rt)&&(Rt=0,qe=isNaN(qe)?Ae.c:qe),isNaN(ct)?(ct=0,Be=isNaN(Be)?Ae.h:Be):ct>180?ct-=360:ct<-180&&(ct+=360),function(Ut){return Ft(Be+ct*Ut,qe+Rt*Ut,nt+At*Ut)+""}}s.interpolateHsl=Qc;function Qc(ue,Ae){ue=s.hsl(ue),Ae=s.hsl(Ae);var Be=ue.h,qe=ue.s,nt=ue.l,ct=Ae.h-Be,Rt=Ae.s-qe,At=Ae.l-nt;return isNaN(Rt)&&(Rt=0,qe=isNaN(qe)?Ae.s:qe),isNaN(ct)?(ct=0,Be=isNaN(Be)?Ae.h:Be):ct>180?ct-=360:ct<-180&&(ct+=360),function(Ut){return Et(Be+ct*Ut,qe+Rt*Ut,nt+At*Ut)+""}}s.interpolateLab=Yf;function Yf(ue,Ae){ue=s.lab(ue),Ae=s.lab(Ae);var Be=ue.l,qe=ue.a,nt=ue.b,ct=Ae.l-Be,Rt=Ae.a-qe,At=Ae.b-nt;return function(Ut){return Lr(Be+ct*Ut,qe+Rt*Ut,nt+At*Ut)+""}}s.interpolateRound=Xf;function Xf(ue,Ae){return Ae-=ue,function(Be){return Math.round(ue+Ae*Be)}}s.transform=function(ue){var Ae=v.createElementNS(s.ns.prefix.svg,"g");return(s.transform=function(Be){if(Be!=null){Ae.setAttribute("transform",Be);var qe=Ae.transform.baseVal.consolidate()}return new il(qe?qe.matrix:jf)})(ue)};function il(ue){var Ae=[ue.a,ue.b],Be=[ue.c,ue.d],qe=nu(Ae),nt=Pl(Ae,Be),ct=nu(au(Be,Ae,-nt))||0;Ae[0]*Be[1]<Be[0]*Ae[1]&&(Ae[0]*=-1,Ae[1]*=-1,qe*=-1,nt*=-1),this.rotate=(qe?Math.atan2(Ae[1],Ae[0]):Math.atan2(-Be[0],Be[1]))*st,this.translate=[ue.e,ue.f],this.scale=[qe,ct],this.skew=ct?Math.atan2(nt,ct)*st:0}il.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Pl(ue,Ae){return ue[0]*Ae[0]+ue[1]*Ae[1]}function nu(ue){var Ae=Math.sqrt(Pl(ue,ue));return Ae&&(ue[0]/=Ae,ue[1]/=Ae),Ae}function au(ue,Ae,Be){return ue[0]+=Be*Ae[0],ue[1]+=Be*Ae[1],ue}var jf={a:1,b:0,c:0,d:1,e:0,f:0};s.interpolateTransform=Bu;function Ms(ue){return ue.length?ue.pop()+",":""}function $c(ue,Ae,Be,qe){if(ue[0]!==Ae[0]||ue[1]!==Ae[1]){var nt=Be.push("translate(",null,",",null,")");qe.push({i:nt-4,x:_i(ue[0],Ae[0])},{i:nt-2,x:_i(ue[1],Ae[1])})}else(Ae[0]||Ae[1])&&Be.push("translate("+Ae+")")}function Ou(ue,Ae,Be,qe){ue!==Ae?(ue-Ae>180?Ae+=360:Ae-ue>180&&(ue+=360),qe.push({i:Be.push(Ms(Be)+"rotate(",null,")")-2,x:_i(ue,Ae)})):Ae&&Be.push(Ms(Be)+"rotate("+Ae+")")}function Zf(ue,Ae,Be,qe){ue!==Ae?qe.push({i:Be.push(Ms(Be)+"skewX(",null,")")-2,x:_i(ue,Ae)}):Ae&&Be.push(Ms(Be)+"skewX("+Ae+")")}function Kf(ue,Ae,Be,qe){if(ue[0]!==Ae[0]||ue[1]!==Ae[1]){var nt=Be.push(Ms(Be)+"scale(",null,",",null,")");qe.push({i:nt-4,x:_i(ue[0],Ae[0])},{i:nt-2,x:_i(ue[1],Ae[1])})}else(Ae[0]!==1||Ae[1]!==1)&&Be.push(Ms(Be)+"scale("+Ae+")")}function Bu(ue,Ae){var Be=[],qe=[];return ue=s.transform(ue),Ae=s.transform(Ae),$c(ue.translate,Ae.translate,Be,qe),Ou(ue.rotate,Ae.rotate,Be,qe),Zf(ue.skew,Ae.skew,Be,qe),Kf(ue.scale,Ae.scale,Be,qe),ue=Ae=null,function(nt){for(var ct=-1,Rt=qe.length,At;++ct<Rt;)Be[(At=qe[ct]).i]=At.x(nt);return Be.join("")}}function Yo(ue,Ae){return Ae=(Ae-=ue=+ue)||1/Ae,function(Be){return(Be-ue)/Ae}}function Rl(ue,Ae){return Ae=(Ae-=ue=+ue)||1/Ae,function(Be){return Math.max(0,Math.min(1,(Be-ue)/Ae))}}s.layout={},s.layout.bundle=function(){return function(ue){for(var Ae=[],Be=-1,qe=ue.length;++Be<qe;)Ae.push(ol(ue[Be]));return Ae}};function ol(ue){for(var Ae=ue.source,Be=ue.target,qe=Us(Ae,Be),nt=[Ae];Ae!==qe;)Ae=Ae.parent,nt.push(Ae);for(var ct=nt.length;Be!==qe;)nt.splice(ct,0,Be),Be=Be.parent;return nt}function iu(ue){for(var Ae=[],Be=ue.parent;Be!=null;)Ae.push(ue),ue=Be,Be=Be.parent;return Ae.push(ue),Ae}function Us(ue,Ae){if(ue===Ae)return ue;for(var Be=iu(ue),qe=iu(Ae),nt=Be.pop(),ct=qe.pop(),Rt=null;nt===ct;)Rt=nt,nt=Be.pop(),ct=qe.pop();return Rt}s.layout.chord=function(){var ue={},Ae,Be,qe,nt,ct=0,Rt,At,Ut;function Ht(){var Rr={},Dr=[],Qr=s.range(nt),sn=[],_r,Hr,Kr,hn,yn;for(Ae=[],Be=[],_r=0,hn=-1;++hn<nt;){for(Hr=0,yn=-1;++yn<nt;)Hr+=qe[hn][yn];Dr.push(Hr),sn.push(s.range(nt)),_r+=Hr}for(Rt&&Qr.sort(function(Oa,Ma){return Rt(Dr[Oa],Dr[Ma])}),At&&sn.forEach(function(Oa,Ma){Oa.sort(function(ka,ni){return At(qe[Ma][ka],qe[Ma][ni])})}),_r=(ye-ct*nt)/_r,Hr=0,hn=-1;++hn<nt;){for(Kr=Hr,yn=-1;++yn<nt;){var qr=Qr[hn],Vn=sn[qr][yn],ta=qe[qr][Vn],fa=Hr,qn=Hr+=ta*_r;Rr[qr+"-"+Vn]={index:qr,subindex:Vn,startAngle:fa,endAngle:qn,value:ta}}Be[qr]={index:qr,startAngle:Kr,endAngle:Hr,value:Dr[qr]},Hr+=ct}for(hn=-1;++hn<nt;)for(yn=hn-1;++yn<nt;){var sa=Rr[hn+"-"+yn],ca=Rr[yn+"-"+hn];(sa.value||ca.value)&&Ae.push(sa.value<ca.value?{source:ca,target:sa}:{source:sa,target:ca})}Ut&&ar()}function ar(){Ae.sort(function(Rr,Dr){return Ut((Rr.source.value+Rr.target.value)/2,(Dr.source.value+Dr.target.value)/2)})}return ue.matrix=function(Rr){return arguments.length?(nt=(qe=Rr)&&qe.length,Ae=Be=null,ue):qe},ue.padding=function(Rr){return arguments.length?(ct=Rr,Ae=Be=null,ue):ct},ue.sortGroups=function(Rr){return arguments.length?(Rt=Rr,Ae=Be=null,ue):Rt},ue.sortSubgroups=function(Rr){return arguments.length?(At=Rr,Ae=null,ue):At},ue.sortChords=function(Rr){return arguments.length?(Ut=Rr,Ae&&ar(),ue):Ut},ue.chords=function(){return Ae||Ht(),Ae},ue.groups=function(){return Be||Ht(),Be},ue},s.layout.force=function(){var ue={},Ae=s.dispatch("start","tick","end"),Be,qe=[1,1],nt,ct,Rt=.9,At=hf,Ut=qc,Ht=-30,ar=Nu,Rr=.1,Dr=.64,Qr=[],sn=[],_r,Hr,Kr;function hn(qr){return function(Vn,ta,fa,qn){if(Vn.point!==qr){var sa=Vn.cx-qr.x,ca=Vn.cy-qr.y,Oa=qn-ta,Ma=sa*sa+ca*ca;if(Oa*Oa/Dr<Ma){if(Ma<ar){var ka=Vn.charge/Ma;qr.px-=sa*ka,qr.py-=ca*ka}return!0}if(Vn.point&&Ma&&Ma<ar){var ka=Vn.pointCharge/Ma;qr.px-=sa*ka,qr.py-=ca*ka}}return!Vn.charge}}ue.tick=function(){if((ct*=.99)<.005)return Be=null,Ae.end({type:"end",alpha:ct=0}),!0;var qr=Qr.length,Vn=sn.length,ta,fa,qn,sa,ca,Oa,Ma,ka,ni;for(fa=0;fa<Vn;++fa)qn=sn[fa],sa=qn.source,ca=qn.target,ka=ca.x-sa.x,ni=ca.y-sa.y,(Oa=ka*ka+ni*ni)&&(Oa=ct*Hr[fa]*((Oa=Math.sqrt(Oa))-_r[fa])/Oa,ka*=Oa,ni*=Oa,ca.x-=ka*(Ma=sa.weight+ca.weight?sa.weight/(sa.weight+ca.weight):.5),ca.y-=ni*Ma,sa.x+=ka*(Ma=1-Ma),sa.y+=ni*Ma);if((Ma=ct*Rr)&&(ka=qe[0]/2,ni=qe[1]/2,fa=-1,Ma))for(;++fa<qr;)qn=Qr[fa],qn.x+=(ka-qn.x)*Ma,qn.y+=(ni-qn.y)*Ma;if(Ht)for(Li(ta=s.geom.quadtree(Qr),ct,Kr),fa=-1;++fa<qr;)(qn=Qr[fa]).fixed||ta.visit(hn(qn));for(fa=-1;++fa<qr;)qn=Qr[fa],qn.fixed?(qn.x=qn.px,qn.y=qn.py):(qn.x-=(qn.px-(qn.px=qn.x))*Rt,qn.y-=(qn.py-(qn.py=qn.y))*Rt);Ae.tick({type:"tick",alpha:ct})},ue.nodes=function(qr){return arguments.length?(Qr=qr,ue):Qr},ue.links=function(qr){return arguments.length?(sn=qr,ue):sn},ue.size=function(qr){return arguments.length?(qe=qr,ue):qe},ue.linkDistance=function(qr){return arguments.length?(At=typeof qr=="function"?qr:+qr,ue):At},ue.distance=ue.linkDistance,ue.linkStrength=function(qr){return arguments.length?(Ut=typeof qr=="function"?qr:+qr,ue):Ut},ue.friction=function(qr){return arguments.length?(Rt=+qr,ue):Rt},ue.charge=function(qr){return arguments.length?(Ht=typeof qr=="function"?qr:+qr,ue):Ht},ue.chargeDistance=function(qr){return arguments.length?(ar=qr*qr,ue):Math.sqrt(ar)},ue.gravity=function(qr){return arguments.length?(Rr=+qr,ue):Rr},ue.theta=function(qr){return arguments.length?(Dr=qr*qr,ue):Math.sqrt(Dr)},ue.alpha=function(qr){return arguments.length?(qr=+qr,ct?qr>0?ct=qr:(Be.c=null,Be.t=NaN,Be=null,Ae.end({type:"end",alpha:ct=0})):qr>0&&(Ae.start({type:"start",alpha:ct=qr}),Be=Ln(ue.tick)),ue):ct},ue.start=function(){var qr,Vn=Qr.length,ta=sn.length,fa=qe[0],qn=qe[1],sa,ca;for(qr=0;qr<Vn;++qr)(ca=Qr[qr]).index=qr,ca.weight=0;for(qr=0;qr<ta;++qr)ca=sn[qr],typeof ca.source=="number"&&(ca.source=Qr[ca.source]),typeof ca.target=="number"&&(ca.target=Qr[ca.target]),++ca.source.weight,++ca.target.weight;for(qr=0;qr<Vn;++qr)ca=Qr[qr],isNaN(ca.x)&&(ca.x=Oa("x",fa)),isNaN(ca.y)&&(ca.y=Oa("y",qn)),isNaN(ca.px)&&(ca.px=ca.x),isNaN(ca.py)&&(ca.py=ca.y);if(_r=[],typeof At=="function")for(qr=0;qr<ta;++qr)_r[qr]=+At.call(this,sn[qr],qr);else for(qr=0;qr<ta;++qr)_r[qr]=At;if(Hr=[],typeof Ut=="function")for(qr=0;qr<ta;++qr)Hr[qr]=+Ut.call(this,sn[qr],qr);else for(qr=0;qr<ta;++qr)Hr[qr]=Ut;if(Kr=[],typeof Ht=="function")for(qr=0;qr<Vn;++qr)Kr[qr]=+Ht.call(this,Qr[qr],qr);else for(qr=0;qr<Vn;++qr)Kr[qr]=Ht;function Oa(Ma,ka){if(!sa){for(sa=new Array(Vn),ui=0;ui<Vn;++ui)sa[ui]=[];for(ui=0;ui<ta;++ui){var ni=sn[ui];sa[ni.source.index].push(ni.target),sa[ni.target.index].push(ni.source)}}for(var zi=sa[qr],ui=-1,$n=zi.length,Na;++ui<$n;)if(!isNaN(Na=zi[ui][Ma]))return Na;return Math.random()*ka}return ue.resume()},ue.resume=function(){return ue.alpha(.1)},ue.stop=function(){return ue.alpha(0)},ue.drag=function(){if(nt||(nt=s.behavior.drag().origin(B).on("dragstart.force",cs).on("drag.force",yn).on("dragend.force",cf)),!arguments.length)return nt;this.on("mouseover.force",Dl).on("mouseout.force",Xo).call(nt)};function yn(qr){qr.px=s.event.x,qr.py=s.event.y,ue.resume()}return s.rebind(ue,Ae,"on")};function cs(ue){ue.fixed|=2}function cf(ue){ue.fixed&=-7}function Dl(ue){ue.fixed|=4,ue.px=ue.x,ue.py=ue.y}function Xo(ue){ue.fixed&=-5}function Li(ue,Ae,Be){var qe=0,nt=0;if(ue.charge=0,!ue.leaf)for(var ct=ue.nodes,Rt=ct.length,At=-1,Ut;++At<Rt;)Ut=ct[At],Ut!=null&&(Li(Ut,Ae,Be),ue.charge+=Ut.charge,qe+=Ut.charge*Ut.cx,nt+=Ut.charge*Ut.cy);if(ue.point){ue.leaf||(ue.point.x+=Math.random()-.5,ue.point.y+=Math.random()-.5);var Ht=Ae*Be[ue.point.index];ue.charge+=ue.pointCharge=Ht,qe+=Ht*ue.point.x,nt+=Ht*ue.point.y}ue.cx=qe/ue.charge,ue.cy=nt/ue.charge}var hf=20,qc=1,Nu=1/0;s.layout.hierarchy=function(){var ue=Vu,Ae=Uu,Be=_l;function qe(nt){var ct=[nt],Rt=[],At;for(nt.depth=0;(At=ct.pop())!=null;)if(Rt.push(At),(Ht=Ae.call(qe,At,At.depth))&&(Ut=Ht.length)){for(var Ut,Ht,ar;--Ut>=0;)ct.push(ar=Ht[Ut]),ar.parent=At,ar.depth=At.depth+1;Be&&(At.value=0),At.children=Ht}else Be&&(At.value=+Be.call(qe,At,At.depth)||0),delete At.children;return Lo(nt,function(Rr){var Dr,Qr;ue&&(Dr=Rr.children)&&Dr.sort(ue),Be&&(Qr=Rr.parent)&&(Qr.value+=Rr.value)}),Rt}return qe.sort=function(nt){return arguments.length?(ue=nt,qe):ue},qe.children=function(nt){return arguments.length?(Ae=nt,qe):Ae},qe.value=function(nt){return arguments.length?(Be=nt,qe):Be},qe.revalue=function(nt){return Be&&(kl(nt,function(ct){ct.children&&(ct.value=0)}),Lo(nt,function(ct){var Rt;ct.children||(ct.value=+Be.call(qe,ct,ct.depth)||0),(Rt=ct.parent)&&(Rt.value+=ct.value)})),nt},qe};function Il(ue,Ae){return s.rebind(ue,Ae,"sort","children","value"),ue.nodes=ue,ue.links=eh,ue}function kl(ue,Ae){for(var Be=[ue];(ue=Be.pop())!=null;)if(Ae(ue),(nt=ue.children)&&(qe=nt.length))for(var qe,nt;--qe>=0;)Be.push(nt[qe])}function Lo(ue,Ae){for(var Be=[ue],qe=[];(ue=Be.pop())!=null;)if(qe.push(ue),(Rt=ue.children)&&(ct=Rt.length))for(var nt=-1,ct,Rt;++nt<ct;)Be.push(Rt[nt]);for(;(ue=qe.pop())!=null;)Ae(ue)}function Uu(ue){return ue.children}function _l(ue){return ue.value}function Vu(ue,Ae){return Ae.value-ue.value}function eh(ue){return s.merge(ue.map(function(Ae){return(Ae.children||[]).map(function(Be){return{source:Ae,target:Be}})}))}s.layout.partition=function(){var ue=s.layout.hierarchy(),Ae=[1,1];function Be(ct,Rt,At,Ut){var Ht=ct.children;if(ct.x=Rt,ct.y=ct.depth*Ut,ct.dx=At,ct.dy=Ut,Ht&&(Rr=Ht.length)){var ar=-1,Rr,Dr,Qr;for(At=ct.value?At/ct.value:0;++ar<Rr;)Be(Dr=Ht[ar],Rt,Qr=Dr.value*At,Ut),Rt+=Qr}}function qe(ct){var Rt=ct.children,At=0;if(Rt&&(Ht=Rt.length))for(var Ut=-1,Ht;++Ut<Ht;)At=Math.max(At,qe(Rt[Ut]));return 1+At}function nt(ct,Rt){var At=ue.call(this,ct,Rt);return Be(At[0],0,Ae[0],Ae[1]/qe(At[0])),At}return nt.size=function(ct){return arguments.length?(Ae=ct,nt):Ae},Il(nt,ue)},s.layout.pie=function(){var ue=Number,Ae=Jf,Be=0,qe=ye,nt=0;function ct(Rt){var At=Rt.length,Ut=Rt.map(function(hn,yn){return+ue.call(ct,hn,yn)}),Ht=+(typeof Be=="function"?Be.apply(this,arguments):Be),ar=(typeof qe=="function"?qe.apply(this,arguments):qe)-Ht,Rr=Math.min(Math.abs(ar)/At,+(typeof nt=="function"?nt.apply(this,arguments):nt)),Dr=Rr*(ar<0?-1:1),Qr=s.sum(Ut),sn=Qr?(ar-At*Dr)/Qr:0,_r=s.range(At),Hr=[],Kr;return Ae!=null&&_r.sort(Ae===Jf?function(hn,yn){return Ut[yn]-Ut[hn]}:function(hn,yn){return Ae(Rt[hn],Rt[yn])}),_r.forEach(function(hn){Hr[hn]={data:Rt[hn],value:Kr=Ut[hn],startAngle:Ht,endAngle:Ht+=Kr*sn+Dr,padAngle:Rr}}),Hr}return ct.value=function(Rt){return arguments.length?(ue=Rt,ct):ue},ct.sort=function(Rt){return arguments.length?(Ae=Rt,ct):Ae},ct.startAngle=function(Rt){return arguments.length?(Be=Rt,ct):Be},ct.endAngle=function(Rt){return arguments.length?(qe=Rt,ct):qe},ct.padAngle=function(Rt){return arguments.length?(nt=Rt,ct):nt},ct};var Jf={};s.layout.stack=function(){var ue=B,Ae=ou,Be=Gu,qe=pf,nt=vf,ct=df;function Rt(At,Ut){if(!(sn=At.length))return At;var Ht=At.map(function(hn,yn){return ue.call(Rt,hn,yn)}),ar=Ht.map(function(hn){return hn.map(function(yn,qr){return[nt.call(Rt,yn,qr),ct.call(Rt,yn,qr)]})}),Rr=Ae.call(Rt,ar,Ut);Ht=s.permute(Ht,Rr),ar=s.permute(ar,Rr);var Dr=Be.call(Rt,ar,Ut),Qr=Ht[0].length,sn,_r,Hr,Kr;for(Hr=0;Hr<Qr;++Hr)for(qe.call(Rt,Ht[0][Hr],Kr=Dr[Hr],ar[0][Hr][1]),_r=1;_r<sn;++_r)qe.call(Rt,Ht[_r][Hr],Kr+=ar[_r-1][Hr][1],ar[_r][Hr][1]);return At}return Rt.values=function(At){return arguments.length?(ue=At,Rt):ue},Rt.order=function(At){return arguments.length?(Ae=typeof At=="function"?At:zl.get(At)||ou,Rt):Ae},Rt.offset=function(At){return arguments.length?(Be=typeof At=="function"?At:Hu.get(At)||Gu,Rt):Be},Rt.x=function(At){return arguments.length?(nt=At,Rt):nt},Rt.y=function(At){return arguments.length?(ct=At,Rt):ct},Rt.out=function(At){return arguments.length?(qe=At,Rt):qe},Rt};function vf(ue){return ue.x}function df(ue){return ue.y}function pf(ue,Ae,Be){ue.y0=Ae,ue.y=Be}var zl=s.map({"inside-out":function(ue){var Ae=ue.length,Be,qe,nt=ue.map(pi),ct=ue.map(Qf),Rt=s.range(Ae).sort(function(Rr,Dr){return nt[Rr]-nt[Dr]}),At=0,Ut=0,Ht=[],ar=[];for(Be=0;Be<Ae;++Be)qe=Rt[Be],At<Ut?(At+=ct[qe],Ht.push(qe)):(Ut+=ct[qe],ar.push(qe));return ar.reverse().concat(Ht)},reverse:function(ue){return s.range(ue.length).reverse()},default:ou}),Hu=s.map({silhouette:function(ue){var Ae=ue.length,Be=ue[0].length,qe=[],nt=0,ct,Rt,At,Ut=[];for(Rt=0;Rt<Be;++Rt){for(ct=0,At=0;ct<Ae;ct++)At+=ue[ct][Rt][1];At>nt&&(nt=At),qe.push(At)}for(Rt=0;Rt<Be;++Rt)Ut[Rt]=(nt-qe[Rt])/2;return Ut},wiggle:function(ue){var Ae=ue.length,Be=ue[0],qe=Be.length,nt,ct,Rt,At,Ut,Ht,ar,Rr,Dr,Qr=[];for(Qr[0]=Rr=Dr=0,ct=1;ct<qe;++ct){for(nt=0,At=0;nt<Ae;++nt)At+=ue[nt][ct][1];for(nt=0,Ut=0,ar=Be[ct][0]-Be[ct-1][0];nt<Ae;++nt){for(Rt=0,Ht=(ue[nt][ct][1]-ue[nt][ct-1][1])/(2*ar);Rt<nt;++Rt)Ht+=(ue[Rt][ct][1]-ue[Rt][ct-1][1])/ar;Ut+=Ht*ue[nt][ct][1]}Qr[ct]=Rr-=At?Ut/At*ar:0,Rr<Dr&&(Dr=Rr)}for(ct=0;ct<qe;++ct)Qr[ct]-=Dr;return Qr},expand:function(ue){var Ae=ue.length,Be=ue[0].length,qe=1/Ae,nt,ct,Rt,At=[];for(ct=0;ct<Be;++ct){for(nt=0,Rt=0;nt<Ae;nt++)Rt+=ue[nt][ct][1];if(Rt)for(nt=0;nt<Ae;nt++)ue[nt][ct][1]/=Rt;else for(nt=0;nt<Ae;nt++)ue[nt][ct][1]=qe}for(ct=0;ct<Be;++ct)At[ct]=0;return At},zero:Gu});function ou(ue){return s.range(ue.length)}function Gu(ue){for(var Ae=-1,Be=ue[0].length,qe=[];++Ae<Be;)qe[Ae]=0;return qe}function pi(ue){for(var Ae=1,Be=0,qe=ue[0][1],nt,ct=ue.length;Ae<ct;++Ae)(nt=ue[Ae][1])>qe&&(Be=Ae,qe=nt);return Be}function Qf(ue){return ue.reduce(jo,0)}function jo(ue,Ae){return ue+Ae[1]}s.layout.histogram=function(){var ue=!0,Ae=Number,Be=sl,qe=$f;function nt(ct,Dr){for(var At=[],Ut=ct.map(Ae,this),Ht=Be.call(this,Ut,Dr),ar=qe.call(this,Ht,Ut,Dr),Rr,Dr=-1,Qr=Ut.length,sn=ar.length-1,_r=ue?1:1/Qr,Hr;++Dr<sn;)Rr=At[Dr]=[],Rr.dx=ar[Dr+1]-(Rr.x=ar[Dr]),Rr.y=0;if(sn>0)for(Dr=-1;++Dr<Qr;)Hr=Ut[Dr],Hr>=Ht[0]&&Hr<=Ht[1]&&(Rr=At[s.bisect(ar,Hr,1,sn)-1],Rr.y+=_r,Rr.push(ct[Dr]));return At}return nt.value=function(ct){return arguments.length?(Ae=ct,nt):Ae},nt.range=function(ct){return arguments.length?(Be=Or(ct),nt):Be},nt.bins=function(ct){return arguments.length?(qe=typeof ct=="number"?function(Rt){return gf(Rt,ct)}:Or(ct),nt):qe},nt.frequency=function(ct){return arguments.length?(ue=!!ct,nt):ue},nt};function $f(ue,Ae){return gf(ue,Math.ceil(Math.log(Ae.length)/Math.LN2+1))}function gf(ue,Ae){for(var Be=-1,qe=+ue[0],nt=(ue[1]-qe)/Ae,ct=[];++Be<=Ae;)ct[Be]=nt*Be+qe;return ct}function sl(ue){return[s.min(ue),s.max(ue)]}s.layout.pack=function(){var ue=s.layout.hierarchy().sort(Vs),Ae=0,Be=[1,1],qe;function nt(ct,Rt){var At=ue.call(this,ct,Rt),Ut=At[0],Ht=Be[0],ar=Be[1],Rr=qe==null?Math.sqrt:typeof qe=="function"?qe:function(){return qe};if(Ut.x=Ut.y=0,Lo(Ut,function(Qr){Qr.r=+Rr(Qr.value)}),Lo(Ut,Zo),Ae){var Dr=Ae*(qe?1:Math.max(2*Ut.r/Ht,2*Ut.r/ar))/2;Lo(Ut,function(Qr){Qr.r+=Dr}),Lo(Ut,Zo),Lo(Ut,function(Qr){Qr.r-=Dr})}return Hs(Ut,Ht/2,ar/2,qe?1:1/Math.max(2*Ut.r/Ht,2*Ut.r/ar)),At}return nt.size=function(ct){return arguments.length?(Be=ct,nt):Be},nt.radius=function(ct){return arguments.length?(qe=ct==null||typeof ct=="function"?ct:+ct,nt):qe},nt.padding=function(ct){return arguments.length?(Ae=+ct,nt):Ae},Il(nt,ue)};function Vs(ue,Ae){return ue.value-Ae.value}function Wu(ue,Ae){var Be=ue._pack_next;ue._pack_next=Ae,Ae._pack_prev=ue,Ae._pack_next=Be,Be._pack_prev=Ae}function Ii(ue,Ae){ue._pack_next=Ae,Ae._pack_prev=ue}function su(ue,Ae){var Be=Ae.x-ue.x,qe=Ae.y-ue.y,nt=ue.r+Ae.r;return .999*nt*nt>Be*Be+qe*qe}function Zo(ue){if(!(Ae=ue.children)||!(Dr=Ae.length))return;var Ae,Be=1/0,qe=-1/0,nt=1/0,ct=-1/0,Rt,At,Ut,Ht,ar,Rr,Dr;function Qr(qr){Be=Math.min(qr.x-qr.r,Be),qe=Math.max(qr.x+qr.r,qe),nt=Math.min(qr.y-qr.r,nt),ct=Math.max(qr.y+qr.r,ct)}if(Ae.forEach(Ss),Rt=Ae[0],Rt.x=-Rt.r,Rt.y=0,Qr(Rt),Dr>1&&(At=Ae[1],At.x=At.r,At.y=0,Qr(At),Dr>2))for(Ut=Ae[2],Ko(Rt,At,Ut),Qr(Ut),Wu(Rt,Ut),Rt._pack_prev=Ut,Wu(Ut,At),At=Rt._pack_next,Ht=3;Ht<Dr;Ht++){Ko(Rt,At,Ut=Ae[Ht]);var sn=0,_r=1,Hr=1;for(ar=At._pack_next;ar!==At;ar=ar._pack_next,_r++)if(su(ar,Ut)){sn=1;break}if(sn==1)for(Rr=Rt._pack_prev;Rr!==ar._pack_prev&&!su(Rr,Ut);Rr=Rr._pack_prev,Hr++);sn?(_r<Hr||_r==Hr&&At.r<Rt.r?Ii(Rt,At=ar):Ii(Rt=Rr,At),Ht--):(Wu(Rt,Ut),At=Ut,Qr(Ut))}var Kr=(Be+qe)/2,hn=(nt+ct)/2,yn=0;for(Ht=0;Ht<Dr;Ht++)Ut=Ae[Ht],Ut.x-=Kr,Ut.y-=hn,yn=Math.max(yn,Ut.r+Math.sqrt(Ut.x*Ut.x+Ut.y*Ut.y));ue.r=yn,Ae.forEach(ll)}function Ss(ue){ue._pack_next=ue._pack_prev=ue}function ll(ue){delete ue._pack_next,delete ue._pack_prev}function Hs(ue,Ae,Be,qe){var nt=ue.children;if(ue.x=Ae+=qe*ue.x,ue.y=Be+=qe*ue.y,ue.r*=qe,nt)for(var ct=-1,Rt=nt.length;++ct<Rt;)Hs(nt[ct],Ae,Be,qe)}function Ko(ue,Ae,Be){var qe=ue.r+Be.r,nt=Ae.x-ue.x,ct=Ae.y-ue.y;if(qe&&(nt||ct)){var Rt=Ae.r+Be.r,At=nt*nt+ct*ct;Rt*=Rt,qe*=qe;var Ut=.5+(qe-Rt)/(2*At),Ht=Math.sqrt(Math.max(0,2*Rt*(qe+At)-(qe-=At)*qe-Rt*Rt))/(2*At);Be.x=ue.x+Ut*nt+Ht*ct,Be.y=ue.y+Ut*ct-Ht*nt}else Be.x=ue.x+qe,Be.y=ue.y}s.layout.tree=function(){var ue=s.layout.hierarchy().sort(null).value(null),Ae=Es,Be=[1,1],qe=null;function nt(ar,Rr){var Dr=ue.call(this,ar,Rr),Qr=Dr[0],sn=ct(Qr);if(Lo(sn,Rt),sn.parent.m=-sn.z,kl(sn,At),qe)kl(Qr,Ht);else{var _r=Qr,Hr=Qr,Kr=Qr;kl(Qr,function(Vn){Vn.x<_r.x&&(_r=Vn),Vn.x>Hr.x&&(Hr=Vn),Vn.depth>Kr.depth&&(Kr=Vn)});var hn=Ae(_r,Hr)/2-_r.x,yn=Be[0]/(Hr.x+Ae(Hr,_r)/2+hn),qr=Be[1]/(Kr.depth||1);kl(Qr,function(Vn){Vn.x=(Vn.x+hn)*yn,Vn.y=Vn.depth*qr})}return Dr}function ct(ar){for(var Rr={A:null,children:[ar]},Dr=[Rr],Qr;(Qr=Dr.pop())!=null;)for(var sn=Qr.children,_r,Hr=0,Kr=sn.length;Hr<Kr;++Hr)Dr.push((sn[Hr]=_r={_:sn[Hr],parent:Qr,children:(_r=sn[Hr].children)&&_r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Hr}).a=_r);return Rr.children[0]}function Rt(ar){var Rr=ar.children,Dr=ar.parent.children,Qr=ar.i?Dr[ar.i-1]:null;if(Rr.length){th(ar);var sn=(Rr[0].z+Rr[Rr.length-1].z)/2;Qr?(ar.z=Qr.z+Ae(ar._,Qr._),ar.m=ar.z-sn):ar.z=sn}else Qr&&(ar.z=Qr.z+Ae(ar._,Qr._));ar.parent.A=Ut(ar,Qr,ar.parent.A||Dr[0])}function At(ar){ar._.x=ar.z+ar.parent.m,ar.m+=ar.parent.m}function Ut(ar,Rr,Dr){if(Rr){for(var Qr=ar,sn=ar,_r=Rr,Hr=Qr.parent.children[0],Kr=Qr.m,hn=sn.m,yn=_r.m,qr=Hr.m,Vn;_r=Bo(_r),Qr=Jo(Qr),_r&&Qr;)Hr=Jo(Hr),sn=Bo(sn),sn.a=ar,Vn=_r.z+yn-Qr.z-Kr+Ae(_r._,Qr._),Vn>0&&(lu(rh(_r,ar,Dr),ar,Vn),Kr+=Vn,hn+=Vn),yn+=_r.m,Kr+=Qr.m,qr+=Hr.m,hn+=sn.m;_r&&!Bo(sn)&&(sn.t=_r,sn.m+=yn-hn),Qr&&!Jo(Hr)&&(Hr.t=Qr,Hr.m+=Kr-qr,Dr=ar)}return Dr}function Ht(ar){ar.x*=Be[0],ar.y=ar.depth*Be[1]}return nt.separation=function(ar){return arguments.length?(Ae=ar,nt):Ae},nt.size=function(ar){return arguments.length?(qe=(Be=ar)==null?Ht:null,nt):qe?null:Be},nt.nodeSize=function(ar){return arguments.length?(qe=(Be=ar)==null?null:Ht,nt):qe?Be:null},Il(nt,ue)};function Es(ue,Ae){return ue.parent==Ae.parent?1:2}function Jo(ue){var Ae=ue.children;return Ae.length?Ae[0]:ue.t}function Bo(ue){var Ae=ue.children,Be;return(Be=Ae.length)?Ae[Be-1]:ue.t}function lu(ue,Ae,Be){var qe=Be/(Ae.i-ue.i);Ae.c-=qe,Ae.s+=Be,ue.c+=qe,Ae.z+=Be,Ae.m+=Be}function th(ue){for(var Ae=0,Be=0,qe=ue.children,nt=qe.length,ct;--nt>=0;)ct=qe[nt],ct.z+=Ae,ct.m+=Ae,Ae+=ct.s+(Be+=ct.c)}function rh(ue,Ae,Be){return ue.a.parent===Ae.parent?ue.a:Be}s.layout.cluster=function(){var ue=s.layout.hierarchy().sort(null).value(null),Ae=Es,Be=[1,1],qe=!1;function nt(ct,Rt){var At=ue.call(this,ct,Rt),Ut=At[0],Ht,ar=0;Lo(Ut,function(_r){var Hr=_r.children;Hr&&Hr.length?(_r.x=ah(Hr),_r.y=nh(Hr)):(_r.x=Ht?ar+=Ae(_r,Ht):0,_r.y=0,Ht=_r)});var Rr=yf(Ut),Dr=qf(Ut),Qr=Rr.x-Ae(Rr,Dr)/2,sn=Dr.x+Ae(Dr,Rr)/2;return Lo(Ut,qe?function(_r){_r.x=(_r.x-Ut.x)*Be[0],_r.y=(Ut.y-_r.y)*Be[1]}:function(_r){_r.x=(_r.x-Qr)/(sn-Qr)*Be[0],_r.y=(1-(Ut.y?_r.y/Ut.y:1))*Be[1]}),At}return nt.separation=function(ct){return arguments.length?(Ae=ct,nt):Ae},nt.size=function(ct){return arguments.length?(qe=(Be=ct)==null,nt):qe?null:Be},nt.nodeSize=function(ct){return arguments.length?(qe=(Be=ct)!=null,nt):qe?Be:null},Il(nt,ue)};function nh(ue){return 1+s.max(ue,function(Ae){return Ae.y})}function ah(ue){return ue.reduce(function(Ae,Be){return Ae+Be.x},0)/ue.length}function yf(ue){var Ae=ue.children;return Ae&&Ae.length?yf(Ae[0]):ue}function qf(ue){var Ae=ue.children,Be;return Ae&&(Be=Ae.length)?qf(Ae[Be-1]):ue}s.layout.treemap=function(){var ue=s.layout.hierarchy(),Ae=Math.round,Be=[1,1],qe=null,nt=Fl,ct=!1,Rt,At="squarify",Ut=.5*(1+Math.sqrt(5));function Ht(_r,Hr){for(var Kr=-1,hn=_r.length,yn,qr;++Kr<hn;)qr=(yn=_r[Kr]).value*(Hr<0?0:Hr),yn.area=isNaN(qr)||qr<=0?0:qr}function ar(_r){var Hr=_r.children;if(Hr&&Hr.length){var Kr=nt(_r),hn=[],yn=Hr.slice(),qr,Vn=1/0,ta,fa=At==="slice"?Kr.dx:At==="dice"?Kr.dy:At==="slice-dice"?_r.depth&1?Kr.dy:Kr.dx:Math.min(Kr.dx,Kr.dy),qn;for(Ht(yn,Kr.dx*Kr.dy/_r.value),hn.area=0;(qn=yn.length)>0;)hn.push(qr=yn[qn-1]),hn.area+=qr.area,At!=="squarify"||(ta=Dr(hn,fa))<=Vn?(yn.pop(),Vn=ta):(hn.area-=hn.pop().area,Qr(hn,fa,Kr,!1),fa=Math.min(Kr.dx,Kr.dy),hn.length=hn.area=0,Vn=1/0);hn.length&&(Qr(hn,fa,Kr,!0),hn.length=hn.area=0),Hr.forEach(ar)}}function Rr(_r){var Hr=_r.children;if(Hr&&Hr.length){var Kr=nt(_r),hn=Hr.slice(),yn,qr=[];for(Ht(hn,Kr.dx*Kr.dy/_r.value),qr.area=0;yn=hn.pop();)qr.push(yn),qr.area+=yn.area,yn.z!=null&&(Qr(qr,yn.z?Kr.dx:Kr.dy,Kr,!hn.length),qr.length=qr.area=0);Hr.forEach(Rr)}}function Dr(_r,Hr){for(var Kr=_r.area,hn,yn=0,qr=1/0,Vn=-1,ta=_r.length;++Vn<ta;)(hn=_r[Vn].area)&&(hn<qr&&(qr=hn),hn>yn&&(yn=hn));return Kr*=Kr,Hr*=Hr,Kr?Math.max(Hr*yn*Ut/Kr,Kr/(Hr*qr*Ut)):1/0}function Qr(_r,Hr,Kr,hn){var yn=-1,qr=_r.length,Vn=Kr.x,ta=Kr.y,fa=Hr?Ae(_r.area/Hr):0,qn;if(Hr==Kr.dx){for((hn||fa>Kr.dy)&&(fa=Kr.dy);++yn<qr;)qn=_r[yn],qn.x=Vn,qn.y=ta,qn.dy=fa,Vn+=qn.dx=Math.min(Kr.x+Kr.dx-Vn,fa?Ae(qn.area/fa):0);qn.z=!0,qn.dx+=Kr.x+Kr.dx-Vn,Kr.y+=fa,Kr.dy-=fa}else{for((hn||fa>Kr.dx)&&(fa=Kr.dx);++yn<qr;)qn=_r[yn],qn.x=Vn,qn.y=ta,qn.dx=fa,ta+=qn.dy=Math.min(Kr.y+Kr.dy-ta,fa?Ae(qn.area/fa):0);qn.z=!1,qn.dy+=Kr.y+Kr.dy-ta,Kr.x+=fa,Kr.dx-=fa}}function sn(_r){var Hr=Rt||ue(_r),Kr=Hr[0];return Kr.x=Kr.y=0,Kr.value?(Kr.dx=Be[0],Kr.dy=Be[1]):Kr.dx=Kr.dy=0,Rt&&ue.revalue(Kr),Ht([Kr],Kr.dx*Kr.dy/Kr.value),(Rt?Rr:ar)(Kr),ct&&(Rt=Hr),Hr}return sn.size=function(_r){return arguments.length?(Be=_r,sn):Be},sn.padding=function(_r){if(!arguments.length)return qe;function Hr(yn){var qr=_r.call(sn,yn,yn.depth);return qr==null?Fl(yn):Ki(yn,typeof qr=="number"?[qr,qr,qr,qr]:qr)}function Kr(yn){return Ki(yn,_r)}var hn;return nt=(qe=_r)==null?Fl:(hn=typeof _r)=="function"?Hr:(hn==="number"&&(_r=[_r,_r,_r,_r]),Kr),sn},sn.round=function(_r){return arguments.length?(Ae=_r?Math.round:Number,sn):Ae!=Number},sn.sticky=function(_r){return arguments.length?(ct=_r,Rt=null,sn):ct},sn.ratio=function(_r){return arguments.length?(Ut=_r,sn):Ut},sn.mode=function(_r){return arguments.length?(At=_r+"",sn):At},Il(sn,ue)};function Fl(ue){return{x:ue.x,y:ue.y,dx:ue.dx,dy:ue.dy}}function Ki(ue,Ae){var Be=ue.x+Ae[3],qe=ue.y+Ae[0],nt=ue.dx-Ae[1]-Ae[3],ct=ue.dy-Ae[0]-Ae[2];return nt<0&&(Be+=nt/2,nt=0),ct<0&&(qe+=ct/2,ct=0),{x:Be,y:qe,dx:nt,dy:ct}}s.random={normal:function(ue,Ae){var Be=arguments.length;return Be<2&&(Ae=1),Be<1&&(ue=0),function(){var qe,nt,ct;do qe=Math.random()*2-1,nt=Math.random()*2-1,ct=qe*qe+nt*nt;while(!ct||ct>1);return ue+Ae*qe*Math.sqrt(-2*Math.log(ct)/ct)}},logNormal:function(){var ue=s.random.normal.apply(s,arguments);return function(){return Math.exp(ue())}},bates:function(ue){var Ae=s.random.irwinHall(ue);return function(){return Ae()/ue}},irwinHall:function(ue){return function(){for(var Ae=0,Be=0;Be<ue;Be++)Ae+=Math.random();return Ae}}},s.scale={};function _o(ue){var Ae=ue[0],Be=ue[ue.length-1];return Ae<Be?[Ae,Be]:[Be,Ae]}function Ol(ue){return ue.rangeExtent?ue.rangeExtent():_o(ue.range())}function ec(ue,Ae,Be,qe){var nt=Be(ue[0],ue[1]),ct=qe(Ae[0],Ae[1]);return function(Rt){return ct(nt(Rt))}}function uu(ue,Ae){var Be=0,qe=ue.length-1,nt=ue[Be],ct=ue[qe],Rt;return ct<nt&&(Rt=Be,Be=qe,qe=Rt,Rt=nt,nt=ct,ct=Rt),ue[Be]=Ae.floor(nt),ue[qe]=Ae.ceil(ct),ue}function Cs(ue){return ue?{floor:function(Ae){return Math.floor(Ae/ue)*ue},ceil:function(Ae){return Math.ceil(Ae/ue)*ue}}:ih}var ih={floor:B,ceil:B};function tc(ue,Ae,Be,qe){var nt=[],ct=[],Rt=0,At=Math.min(ue.length,Ae.length)-1;for(ue[At]<ue[0]&&(ue=ue.slice().reverse(),Ae=Ae.slice().reverse());++Rt<=At;)nt.push(Be(ue[Rt-1],ue[Rt])),ct.push(qe(Ae[Rt-1],Ae[Rt]));return function(Ut){var Ht=s.bisect(ue,Ut,1,At)-1;return ct[Ht](nt[Ht](Ut))}}s.scale.linear=function(){return rc([0,1],[0,1],to,!1)};function rc(ue,Ae,Be,qe){var nt,ct;function Rt(){var Ut=Math.min(ue.length,Ae.length)>2?tc:ec,Ht=qe?Rl:Yo;return nt=Ut(ue,Ae,Ht,Be),ct=Ut(Ae,ue,Ht,to),At}function At(Ut){return nt(Ut)}return At.invert=function(Ut){return ct(Ut)},At.domain=function(Ut){return arguments.length?(ue=Ut.map(Number),Rt()):ue},At.range=function(Ut){return arguments.length?(Ae=Ut,Rt()):Ae},At.rangeRound=function(Ut){return At.range(Ut).interpolate(Xf)},At.clamp=function(Ut){return arguments.length?(qe=Ut,Rt()):qe},At.interpolate=function(Ut){return arguments.length?(Be=Ut,Rt()):Be},At.ticks=function(Ut){return Qo(ue,Ut)},At.tickFormat=function(Ut,Ht){return d3_scale_linearTickFormat(ue,Ut,Ht)},At.nice=function(Ut){return nc(ue,Ut),Rt()},At.copy=function(){return rc(ue,Ae,Be,qe)},Rt()}function mf(ue,Ae){return s.rebind(ue,Ae,"range","rangeRound","interpolate","clamp")}function nc(ue,Ae){return uu(ue,Cs(bo(ue,Ae)[2])),uu(ue,Cs(bo(ue,Ae)[2])),ue}function bo(ue,Ae){Ae==null&&(Ae=10);var Be=_o(ue),qe=Be[1]-Be[0],nt=Math.pow(10,Math.floor(Math.log(qe/Ae)/Math.LN10)),ct=Ae/qe*nt;return ct<=.15?nt*=10:ct<=.35?nt*=5:ct<=.75&&(nt*=2),Be[0]=Math.ceil(Be[0]/nt)*nt,Be[1]=Math.floor(Be[1]/nt)*nt+nt*.5,Be[2]=nt,Be}function Qo(ue,Ae){return s.range.apply(s,bo(ue,Ae))}s.scale.log=function(){return Gs(s.scale.linear().domain([0,1]),10,!0,[1,10])};function Gs(ue,Ae,Be,qe){function nt(At){return(Be?Math.log(At<0?0:At):-Math.log(At>0?0:-At))/Math.log(Ae)}function ct(At){return Be?Math.pow(Ae,At):-Math.pow(Ae,-At)}function Rt(At){return ue(nt(At))}return Rt.invert=function(At){return ct(ue.invert(At))},Rt.domain=function(At){return arguments.length?(Be=At[0]>=0,ue.domain((qe=At.map(Number)).map(nt)),Rt):qe},Rt.base=function(At){return arguments.length?(Ae=+At,ue.domain(qe.map(nt)),Rt):Ae},Rt.nice=function(){var At=uu(qe.map(nt),Be?Math:Bl);return ue.domain(At),qe=At.map(ct),Rt},Rt.ticks=function(){var At=_o(qe),Ut=[],Ht=At[0],ar=At[1],Rr=Math.floor(nt(Ht)),Dr=Math.ceil(nt(ar)),Qr=Ae%1?2:Ae;if(isFinite(Dr-Rr)){if(Be){for(;Rr<Dr;Rr++)for(var sn=1;sn<Qr;sn++)Ut.push(ct(Rr)*sn);Ut.push(ct(Rr))}else for(Ut.push(ct(Rr));Rr++<Dr;)for(var sn=Qr-1;sn>0;sn--)Ut.push(ct(Rr)*sn);for(Rr=0;Ut[Rr]<Ht;Rr++);for(Dr=Ut.length;Ut[Dr-1]>ar;Dr--);Ut=Ut.slice(Rr,Dr)}return Ut},Rt.copy=function(){return Gs(ue.copy(),Ae,Be,qe)},mf(Rt,ue)}var Bl={floor:function(ue){return-Math.ceil(-ue)},ceil:function(ue){return-Math.floor(-ue)}};s.scale.pow=function(){return Yu(s.scale.linear(),1,[0,1])};function Yu(ue,Ae,Be){var qe=ul(Ae),nt=ul(1/Ae);function ct(Rt){return ue(qe(Rt))}return ct.invert=function(Rt){return nt(ue.invert(Rt))},ct.domain=function(Rt){return arguments.length?(ue.domain((Be=Rt.map(Number)).map(qe)),ct):Be},ct.ticks=function(Rt){return Qo(Be,Rt)},ct.tickFormat=function(Rt,At){return d3_scale_linearTickFormat(Be,Rt,At)},ct.nice=function(Rt){return ct.domain(nc(Be,Rt))},ct.exponent=function(Rt){return arguments.length?(qe=ul(Ae=Rt),nt=ul(1/Ae),ue.domain(Be.map(qe)),ct):Ae},ct.copy=function(){return Yu(ue.copy(),Ae,Be)},mf(ct,ue)}function ul(ue){return function(Ae){return Ae<0?-Math.pow(-Ae,ue):Math.pow(Ae,ue)}}s.scale.sqrt=function(){return s.scale.pow().exponent(.5)},s.scale.ordinal=function(){return fl([],{t:"range",a:[[]]})};function fl(ue,Ae){var Be,qe,nt;function ct(At){return qe[((Be.get(At)||(Ae.t==="range"?Be.set(At,ue.push(At)):NaN))-1)%qe.length]}function Rt(At,Ut){return s.range(ue.length).map(function(Ht){return At+Ut*Ht})}return ct.domain=function(At){if(!arguments.length)return ue;ue=[],Be=new C;for(var Ut=-1,Ht=At.length,ar;++Ut<Ht;)Be.has(ar=At[Ut])||Be.set(ar,ue.push(ar));return ct[Ae.t].apply(ct,Ae.a)},ct.range=function(At){return arguments.length?(qe=At,nt=0,Ae={t:"range",a:arguments},ct):qe},ct.rangePoints=function(At,Ut){arguments.length<2&&(Ut=0);var Ht=At[0],ar=At[1],Rr=ue.length<2?(Ht=(Ht+ar)/2,0):(ar-Ht)/(ue.length-1+Ut);return qe=Rt(Ht+Rr*Ut/2,Rr),nt=0,Ae={t:"rangePoints",a:arguments},ct},ct.rangeRoundPoints=function(At,Ut){arguments.length<2&&(Ut=0);var Ht=At[0],ar=At[1],Rr=ue.length<2?(Ht=ar=Math.round((Ht+ar)/2),0):(ar-Ht)/(ue.length-1+Ut)|0;return qe=Rt(Ht+Math.round(Rr*Ut/2+(ar-Ht-(ue.length-1+Ut)*Rr)/2),Rr),nt=0,Ae={t:"rangeRoundPoints",a:arguments},ct},ct.rangeBands=function(At,Ut,Ht){arguments.length<2&&(Ut=0),arguments.length<3&&(Ht=Ut);var ar=At[1]<At[0],Rr=At[ar-0],Dr=At[1-ar],Qr=(Dr-Rr)/(ue.length-Ut+2*Ht);return qe=Rt(Rr+Qr*Ht,Qr),ar&&qe.reverse(),nt=Qr*(1-Ut),Ae={t:"rangeBands",a:arguments},ct},ct.rangeRoundBands=function(At,Ut,Ht){arguments.length<2&&(Ut=0),arguments.length<3&&(Ht=Ut);var ar=At[1]<At[0],Rr=At[ar-0],Dr=At[1-ar],Qr=Math.floor((Dr-Rr)/(ue.length-Ut+2*Ht));return qe=Rt(Rr+Math.round((Dr-Rr-(ue.length-Ut)*Qr)/2),Qr),ar&&qe.reverse(),nt=Math.round(Qr*(1-Ut)),Ae={t:"rangeRoundBands",a:arguments},ct},ct.rangeBand=function(){return nt},ct.rangeExtent=function(){return _o(Ae.a[0])},ct.copy=function(){return fl(ue,Ae)},ct.domain(ue)}s.scale.category10=function(){return s.scale.ordinal().range(ac)},s.scale.category20=function(){return s.scale.ordinal().range(Ls)},s.scale.category20b=function(){return s.scale.ordinal().range(Nl)},s.scale.category20c=function(){return s.scale.ordinal().range(Ws)};var ac=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Pt),Ls=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Pt),Nl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Pt),Ws=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Pt);s.scale.quantile=function(){return Ps([],[])};function Ps(ue,Ae){var Be;function qe(){var ct=0,Rt=Ae.length;for(Be=[];++ct<Rt;)Be[ct-1]=s.quantile(ue,ct/Rt);return nt}function nt(ct){if(!isNaN(ct=+ct))return Ae[s.bisect(Be,ct)]}return nt.domain=function(ct){return arguments.length?(ue=ct.map(g).filter(h).sort(f),qe()):ue},nt.range=function(ct){return arguments.length?(Ae=ct,qe()):Ae},nt.quantiles=function(){return Be},nt.invertExtent=function(ct){return ct=Ae.indexOf(ct),ct<0?[NaN,NaN]:[ct>0?Be[ct-1]:ue[0],ct<Be.length?Be[ct]:ue[ue.length-1]]},nt.copy=function(){return Ps(ue,Ae)},qe()}s.scale.quantize=function(){return fu(0,1,[0,1])};function fu(ue,Ae,Be){var qe,nt;function ct(At){return Be[Math.max(0,Math.min(nt,Math.floor(qe*(At-ue))))]}function Rt(){return qe=Be.length/(Ae-ue),nt=Be.length-1,ct}return ct.domain=function(At){return arguments.length?(ue=+At[0],Ae=+At[At.length-1],Rt()):[ue,Ae]},ct.range=function(At){return arguments.length?(Be=At,Rt()):Be},ct.invertExtent=function(At){return At=Be.indexOf(At),At=At<0?NaN:At/qe+ue,[At,At+1/qe]},ct.copy=function(){return fu(ue,Ae,Be)},Rt()}s.scale.threshold=function(){return Ul([.5],[0,1])};function Ul(ue,Ae){function Be(qe){if(qe<=qe)return Ae[s.bisect(ue,qe)]}return Be.domain=function(qe){return arguments.length?(ue=qe,Be):ue},Be.range=function(qe){return arguments.length?(Ae=qe,Be):Ae},Be.invertExtent=function(qe){return qe=Ae.indexOf(qe),[ue[qe-1],ue[qe]]},Be.copy=function(){return Ul(ue,Ae)},Be}s.scale.identity=function(){return ci([0,1])};function ci(ue){function Ae(Be){return+Be}return Ae.invert=Ae,Ae.domain=Ae.range=function(Be){return arguments.length?(ue=Be.map(Ae),Ae):ue},Ae.ticks=function(Be){return Qo(ue,Be)},Ae.tickFormat=function(Be,qe){return d3_scale_linearTickFormat(ue,Be,qe)},Ae.copy=function(){return ci(ue)},Ae}s.svg={};function Vl(){return 0}s.svg.arc=function(){var ue=ic,Ae=Hl,Be=Vl,qe=Xu,nt=cu,ct=ju,Rt=xf;function At(){var Ht=Math.max(0,+ue.apply(this,arguments)),ar=Math.max(0,+Ae.apply(this,arguments)),Rr=nt.apply(this,arguments)-We,Dr=ct.apply(this,arguments)-We,Qr=Math.abs(Dr-Rr),sn=Rr>Dr?0:1;if(ar<Ht&&(_r=ar,ar=Ht,Ht=_r),Qr>=_e)return Ut(ar,sn)+(Ht?Ut(Ht,1-sn):"")+"Z";var _r,Hr,Kr,hn,yn=0,qr=0,Vn,ta,fa,qn,sa,ca,Oa,Ma,ka=[];if((hn=(+Rt.apply(this,arguments)||0)/2)&&(Kr=qe===Xu?Math.sqrt(Ht*Ht+ar*ar):+qe.apply(this,arguments),sn||(qr*=-1),ar&&(qr=Xt(Kr/ar*Math.sin(hn))),Ht&&(yn=Xt(Kr/Ht*Math.sin(hn)))),ar){Vn=ar*Math.cos(Rr+qr),ta=ar*Math.sin(Rr+qr),fa=ar*Math.cos(Dr-qr),qn=ar*Math.sin(Dr-qr);var ni=Math.abs(Dr-Rr-2*qr)<=he?0:1;if(qr&&hu(Vn,ta,fa,qn)===sn^ni){var zi=(Rr+Dr)/2;Vn=ar*Math.cos(zi),ta=ar*Math.sin(zi),fa=qn=null}}else Vn=ta=0;if(Ht){sa=Ht*Math.cos(Dr-yn),ca=Ht*Math.sin(Dr-yn),Oa=Ht*Math.cos(Rr+yn),Ma=Ht*Math.sin(Rr+yn);var ui=Math.abs(Rr-Dr+2*yn)<=he?0:1;if(yn&&hu(sa,ca,Oa,Ma)===1-sn^ui){var $n=(Rr+Dr)/2;sa=Ht*Math.cos($n),ca=Ht*Math.sin($n),Oa=Ma=null}}else sa=ca=0;if(Qr>Ue&&(_r=Math.min(Math.abs(ar-Ht)/2,+Be.apply(this,arguments)))>.001){Hr=Ht<ar^sn?0:1;var Na=_r,Ta=_r;if(Qr<he){var Za=Oa==null?[sa,ca]:fa==null?[Vn,ta]:ln([Vn,ta],[Oa,Ma],[fa,qn],[sa,ca]),xi=Vn-Za[0],ai=ta-Za[1],Ji=fa-Za[0],Qi=qn-Za[1],ro=1/Math.sin(Math.acos((xi*Ji+ai*Qi)/(Math.sqrt(xi*xi+ai*ai)*Math.sqrt(Ji*Ji+Qi*Qi)))/2),bi=Math.sqrt(Za[0]*Za[0]+Za[1]*Za[1]);Ta=Math.min(_r,(Ht-bi)/(ro-1)),Na=Math.min(_r,(ar-bi)/(ro+1))}if(fa!=null){var po=vu(Oa==null?[sa,ca]:[Oa,Ma],[Vn,ta],ar,Na,sn),la=vu([fa,qn],[sa,ca],ar,Na,sn);_r===Na?ka.push("M",po[0],"A",Na,",",Na," 0 0,",Hr," ",po[1],"A",ar,",",ar," 0 ",1-sn^hu(po[1][0],po[1][1],la[1][0],la[1][1]),",",sn," ",la[1],"A",Na,",",Na," 0 0,",Hr," ",la[0]):ka.push("M",po[0],"A",Na,",",Na," 0 1,",Hr," ",la[0])}else ka.push("M",Vn,",",ta);if(Oa!=null){var Ea=vu([Vn,ta],[Oa,Ma],Ht,-Ta,sn),Ro=vu([sa,ca],fa==null?[Vn,ta]:[fa,qn],Ht,-Ta,sn);_r===Ta?ka.push("L",Ro[0],"A",Ta,",",Ta," 0 0,",Hr," ",Ro[1],"A",Ht,",",Ht," 0 ",sn^hu(Ro[1][0],Ro[1][1],Ea[1][0],Ea[1][1]),",",1-sn," ",Ea[1],"A",Ta,",",Ta," 0 0,",Hr," ",Ea[0]):ka.push("L",Ro[0],"A",Ta,",",Ta," 0 0,",Hr," ",Ea[0])}else ka.push("L",sa,",",ca)}else ka.push("M",Vn,",",ta),fa!=null&&ka.push("A",ar,",",ar," 0 ",ni,",",sn," ",fa,",",qn),ka.push("L",sa,",",ca),Oa!=null&&ka.push("A",Ht,",",Ht," 0 ",ui,",",1-sn," ",Oa,",",Ma);return ka.push("Z"),ka.join("")}function Ut(Ht,ar){return"M0,"+Ht+"A"+Ht+","+Ht+" 0 1,"+ar+" 0,"+-Ht+"A"+Ht+","+Ht+" 0 1,"+ar+" 0,"+Ht}return At.innerRadius=function(Ht){return arguments.length?(ue=Or(Ht),At):ue},At.outerRadius=function(Ht){return arguments.length?(Ae=Or(Ht),At):Ae},At.cornerRadius=function(Ht){return arguments.length?(Be=Or(Ht),At):Be},At.padRadius=function(Ht){return arguments.length?(qe=Ht==Xu?Xu:Or(Ht),At):qe},At.startAngle=function(Ht){return arguments.length?(nt=Or(Ht),At):nt},At.endAngle=function(Ht){return arguments.length?(ct=Or(Ht),At):ct},At.padAngle=function(Ht){return arguments.length?(Rt=Or(Ht),At):Rt},At.centroid=function(){var Ht=(+ue.apply(this,arguments)+ +Ae.apply(this,arguments))/2,ar=(+nt.apply(this,arguments)+ +ct.apply(this,arguments))/2-We;return[Math.cos(ar)*Ht,Math.sin(ar)*Ht]},At};var Xu="auto";function ic(ue){return ue.innerRadius}function Hl(ue){return ue.outerRadius}function cu(ue){return ue.startAngle}function ju(ue){return ue.endAngle}function xf(ue){return ue&&ue.padAngle}function hu(ue,Ae,Be,qe){return(ue-Be)*Ae-(Ae-qe)*ue>0?0:1}function vu(ue,Ae,Be,qe,nt){var ct=ue[0]-Ae[0],Rt=ue[1]-Ae[1],At=(nt?qe:-qe)/Math.sqrt(ct*ct+Rt*Rt),Ut=At*Rt,Ht=-At*ct,ar=ue[0]+Ut,Rr=ue[1]+Ht,Dr=Ae[0]+Ut,Qr=Ae[1]+Ht,sn=(ar+Dr)/2,_r=(Rr+Qr)/2,Hr=Dr-ar,Kr=Qr-Rr,hn=Hr*Hr+Kr*Kr,yn=Be-qe,qr=ar*Qr-Dr*Rr,Vn=(Kr<0?-1:1)*Math.sqrt(Math.max(0,yn*yn*hn-qr*qr)),ta=(qr*Kr-Hr*Vn)/hn,fa=(-qr*Hr-Kr*Vn)/hn,qn=(qr*Kr+Hr*Vn)/hn,sa=(-qr*Hr+Kr*Vn)/hn,ca=ta-sn,Oa=fa-_r,Ma=qn-sn,ka=sa-_r;return ca*ca+Oa*Oa>Ma*Ma+ka*ka&&(ta=qn,fa=sa),[[ta-Ut,fa-Ht],[ta*Be/yn,fa*Be/yn]]}function Ys(){return!0}function du(ue){var Ae=ia,Be=ra,qe=Ys,nt=Vi,ct=nt.key,Rt=.7;function At(Ut){var Ht=[],ar=[],Rr=-1,Dr=Ut.length,Qr,sn=Or(Ae),_r=Or(Be);function Hr(){Ht.push("M",nt(ue(ar),Rt))}for(;++Rr<Dr;)qe.call(this,Qr=Ut[Rr],Rr)?ar.push([+sn.call(this,Qr,Rr),+_r.call(this,Qr,Rr)]):ar.length&&(Hr(),ar=[]);return ar.length&&Hr(),Ht.length?Ht.join(""):null}return At.x=function(Ut){return arguments.length?(Ae=Ut,At):Ae},At.y=function(Ut){return arguments.length?(Be=Ut,At):Be},At.defined=function(Ut){return arguments.length?(qe=Ut,At):qe},At.interpolate=function(Ut){return arguments.length?(typeof Ut=="function"?ct=nt=Ut:ct=(nt=Xs.get(Ut)||Vi).key,At):ct},At.tension=function(Ut){return arguments.length?(Rt=Ut,At):Rt},At}s.svg.line=function(){return du(B)};var Xs=s.map({linear:Vi,"linear-closed":hs,step:bf,"step-before":cl,"step-after":Zu,basis:Gl,"basis-open":sc,"basis-closed":js,bundle:sh,cardinal:oc,"cardinal-open":pu,"cardinal-closed":oh,monotone:Ju});Xs.forEach(function(ue,Ae){Ae.key=ue,Ae.closed=/-closed$/.test(ue)});function Vi(ue){return ue.length>1?ue.join("L"):ue+"Z"}function hs(ue){return ue.join("L")+"Z"}function bf(ue){for(var Ae=0,Be=ue.length,qe=ue[0],nt=[qe[0],",",qe[1]];++Ae<Be;)nt.push("H",(qe[0]+(qe=ue[Ae])[0])/2,"V",qe[1]);return Be>1&&nt.push("H",qe[0]),nt.join("")}function cl(ue){for(var Ae=0,Be=ue.length,qe=ue[0],nt=[qe[0],",",qe[1]];++Ae<Be;)nt.push("V",(qe=ue[Ae])[1],"H",qe[0]);return nt.join("")}function Zu(ue){for(var Ae=0,Be=ue.length,qe=ue[0],nt=[qe[0],",",qe[1]];++Ae<Be;)nt.push("H",(qe=ue[Ae])[0],"V",qe[1]);return nt.join("")}function pu(ue,Ae){return ue.length<4?Vi(ue):ue[1]+vo(ue.slice(1,-1),gu(ue,Ae))}function oh(ue,Ae){return ue.length<3?hs(ue):ue[0]+vo((ue.push(ue[0]),ue),gu([ue[ue.length-2]].concat(ue,[ue[1]]),Ae))}function oc(ue,Ae){return ue.length<3?Vi(ue):ue[0]+vo(ue,gu(ue,Ae))}function vo(ue,Ae){if(Ae.length<1||ue.length!=Ae.length&&ue.length!=Ae.length+2)return Vi(ue);var Be=ue.length!=Ae.length,qe="",nt=ue[0],ct=ue[1],Rt=Ae[0],At=Rt,Ut=1;if(Be&&(qe+="Q"+(ct[0]-Rt[0]*2/3)+","+(ct[1]-Rt[1]*2/3)+","+ct[0]+","+ct[1],nt=ue[1],Ut=2),Ae.length>1){At=Ae[1],ct=ue[Ut],Ut++,qe+="C"+(nt[0]+Rt[0])+","+(nt[1]+Rt[1])+","+(ct[0]-At[0])+","+(ct[1]-At[1])+","+ct[0]+","+ct[1];for(var Ht=2;Ht<Ae.length;Ht++,Ut++)ct=ue[Ut],At=Ae[Ht],qe+="S"+(ct[0]-At[0])+","+(ct[1]-At[1])+","+ct[0]+","+ct[1]}if(Be){var ar=ue[Ut];qe+="Q"+(ct[0]+At[0]*2/3)+","+(ct[1]+At[1]*2/3)+","+ar[0]+","+ar[1]}return qe}function gu(ue,Ae){for(var Be=[],qe=(1-Ae)/2,nt,ct=ue[0],Rt=ue[1],At=1,Ut=ue.length;++At<Ut;)nt=ct,ct=Rt,Rt=ue[At],Be.push([qe*(Rt[0]-nt[0]),qe*(Rt[1]-nt[1])]);return Be}function Gl(ue){if(ue.length<3)return Vi(ue);var Ae=1,Be=ue.length,qe=ue[0],nt=qe[0],ct=qe[1],Rt=[nt,nt,nt,(qe=ue[1])[0]],At=[ct,ct,ct,qe[1]],Ut=[nt,",",ct,"L",Po(Rs,Rt),",",Po(Rs,At)];for(ue.push(ue[Be-1]);++Ae<=Be;)qe=ue[Ae],Rt.shift(),Rt.push(qe[0]),At.shift(),At.push(qe[1]),Zs(Ut,Rt,At);return ue.pop(),Ut.push("L",qe),Ut.join("")}function sc(ue){if(ue.length<4)return Vi(ue);for(var Ae=[],Be=-1,qe=ue.length,nt,ct=[0],Rt=[0];++Be<3;)nt=ue[Be],ct.push(nt[0]),Rt.push(nt[1]);for(Ae.push(Po(Rs,ct)+","+Po(Rs,Rt)),--Be;++Be<qe;)nt=ue[Be],ct.shift(),ct.push(nt[0]),Rt.shift(),Rt.push(nt[1]),Zs(Ae,ct,Rt);return Ae.join("")}function js(ue){for(var Ae,Be=-1,qe=ue.length,nt=qe+4,ct,Rt=[],At=[];++Be<4;)ct=ue[Be%qe],Rt.push(ct[0]),At.push(ct[1]);for(Ae=[Po(Rs,Rt),",",Po(Rs,At)],--Be;++Be<nt;)ct=ue[Be%qe],Rt.shift(),Rt.push(ct[0]),At.shift(),At.push(ct[1]),Zs(Ae,Rt,At);return Ae.join("")}function sh(ue,Ae){var Be=ue.length-1;if(Be)for(var qe=ue[0][0],nt=ue[0][1],ct=ue[Be][0]-qe,Rt=ue[Be][1]-nt,At=-1,Ut,Ht;++At<=Be;)Ut=ue[At],Ht=At/Be,Ut[0]=Ae*Ut[0]+(1-Ae)*(qe+Ht*ct),Ut[1]=Ae*Ut[1]+(1-Ae)*(nt+Ht*Rt);return Gl(ue)}function Po(ue,Ae){return ue[0]*Ae[0]+ue[1]*Ae[1]+ue[2]*Ae[2]+ue[3]*Ae[3]}var yu=[0,2/3,1/3,0],Ku=[0,1/3,2/3,0],Rs=[0,1/6,2/3,1/6];function Zs(ue,Ae,Be){ue.push("C",Po(yu,Ae),",",Po(yu,Be),",",Po(Ku,Ae),",",Po(Ku,Be),",",Po(Rs,Ae),",",Po(Rs,Be))}function wf(ue,Ae){return(Ae[1]-ue[1])/(Ae[0]-ue[0])}function mu(ue){for(var Ae=0,Be=ue.length-1,qe=[],nt=ue[0],ct=ue[1],Rt=qe[0]=wf(nt,ct);++Ae<Be;)qe[Ae]=(Rt+(Rt=wf(nt=ct,ct=ue[Ae+1])))/2;return qe[Ae]=Rt,qe}function xu(ue){for(var Ae=[],Be,qe,nt,ct,Rt=mu(ue),At=-1,Ut=ue.length-1;++At<Ut;)Be=wf(ue[At],ue[At+1]),d(Be)<Ue?Rt[At]=Rt[At+1]=0:(qe=Rt[At]/Be,nt=Rt[At+1]/Be,ct=qe*qe+nt*nt,ct>9&&(ct=Be*3/Math.sqrt(ct),Rt[At]=ct*qe,Rt[At+1]=ct*nt));for(At=-1;++At<=Ut;)ct=(ue[Math.min(Ut,At+1)][0]-ue[Math.max(0,At-1)][0])/(6*(1+Rt[At]*Rt[At])),Ae.push([ct||0,Rt[At]*ct||0]);return Ae}function Ju(ue){return ue.length<3?Vi(ue):ue[0]+vo(ue,xu(ue))}s.svg.line.radial=function(){var ue=du(lc);return ue.radius=ue.x,delete ue.x,ue.angle=ue.y,delete ue.y,ue};function lc(ue){for(var Ae,Be=-1,qe=ue.length,nt,ct;++Be<qe;)Ae=ue[Be],nt=Ae[0],ct=Ae[1]-We,Ae[0]=nt*Math.cos(ct),Ae[1]=nt*Math.sin(ct);return ue}function bu(ue){var Ae=ia,Be=ia,qe=0,nt=ra,ct=Ys,Rt=Vi,At=Rt.key,Ut=Rt,Ht="L",ar=.7;function Rr(Dr){var Qr=[],sn=[],_r=[],Hr=-1,Kr=Dr.length,hn,yn=Or(Ae),qr=Or(qe),Vn=Ae===Be?function(){return fa}:Or(Be),ta=qe===nt?function(){return qn}:Or(nt),fa,qn;function sa(){Qr.push("M",Rt(ue(_r),ar),Ht,Ut(ue(sn.reverse()),ar),"Z")}for(;++Hr<Kr;)ct.call(this,hn=Dr[Hr],Hr)?(sn.push([fa=+yn.call(this,hn,Hr),qn=+qr.call(this,hn,Hr)]),_r.push([+Vn.call(this,hn,Hr),+ta.call(this,hn,Hr)])):sn.length&&(sa(),sn=[],_r=[]);return sn.length&&sa(),Qr.length?Qr.join(""):null}return Rr.x=function(Dr){return arguments.length?(Ae=Be=Dr,Rr):Be},Rr.x0=function(Dr){return arguments.length?(Ae=Dr,Rr):Ae},Rr.x1=function(Dr){return arguments.length?(Be=Dr,Rr):Be},Rr.y=function(Dr){return arguments.length?(qe=nt=Dr,Rr):nt},Rr.y0=function(Dr){return arguments.length?(qe=Dr,Rr):qe},Rr.y1=function(Dr){return arguments.length?(nt=Dr,Rr):nt},Rr.defined=function(Dr){return arguments.length?(ct=Dr,Rr):ct},Rr.interpolate=function(Dr){return arguments.length?(typeof Dr=="function"?At=Rt=Dr:At=(Rt=Xs.get(Dr)||Vi).key,Ut=Rt.reverse||Rt,Ht=Rt.closed?"M":"L",Rr):At},Rr.tension=function(Dr){return arguments.length?(ar=Dr,Rr):ar},Rr}cl.reverse=Zu,Zu.reverse=cl,s.svg.area=function(){return bu(B)},s.svg.area.radial=function(){var ue=bu(lc);return ue.radius=ue.x,delete ue.x,ue.innerRadius=ue.x0,delete ue.x0,ue.outerRadius=ue.x1,delete ue.x1,ue.angle=ue.y,delete ue.y,ue.startAngle=ue.y0,delete ue.y0,ue.endAngle=ue.y1,delete ue.y1,ue};function Tf(ue){return ue.source}function hl(ue){return ue.target}s.svg.chord=function(){var ue=Tf,Ae=hl,Be=Af,qe=cu,nt=ju;function ct(ar,Rr){var Dr=Rt(this,ue,ar,Rr),Qr=Rt(this,Ae,ar,Rr);return"M"+Dr.p0+Ut(Dr.r,Dr.p1,Dr.a1-Dr.a0)+(At(Dr,Qr)?Ht(Dr.r,Dr.p1,Dr.r,Dr.p0):Ht(Dr.r,Dr.p1,Qr.r,Qr.p0)+Ut(Qr.r,Qr.p1,Qr.a1-Qr.a0)+Ht(Qr.r,Qr.p1,Dr.r,Dr.p0))+"Z"}function Rt(ar,Rr,Dr,Qr){var sn=Rr.call(ar,Dr,Qr),_r=Be.call(ar,sn,Qr),Hr=qe.call(ar,sn,Qr)-We,Kr=nt.call(ar,sn,Qr)-We;return{r:_r,a0:Hr,a1:Kr,p0:[_r*Math.cos(Hr),_r*Math.sin(Hr)],p1:[_r*Math.cos(Kr),_r*Math.sin(Kr)]}}function At(ar,Rr){return ar.a0==Rr.a0&&ar.a1==Rr.a1}function Ut(ar,Rr,Dr){return"A"+ar+","+ar+" 0 "+ +(Dr>he)+",1 "+Rr}function Ht(ar,Rr,Dr,Qr){return"Q 0,0 "+Qr}return ct.radius=function(ar){return arguments.length?(Be=Or(ar),ct):Be},ct.source=function(ar){return arguments.length?(ue=Or(ar),ct):ue},ct.target=function(ar){return arguments.length?(Ae=Or(ar),ct):Ae},ct.startAngle=function(ar){return arguments.length?(qe=Or(ar),ct):qe},ct.endAngle=function(ar){return arguments.length?(nt=Or(ar),ct):nt},ct};function Af(ue){return ue.radius}s.svg.diagonal=function(){var ue=Tf,Ae=hl,Be=wu;function qe(nt,ct){var Rt=ue.call(this,nt,ct),At=Ae.call(this,nt,ct),Ut=(Rt.y+At.y)/2,Ht=[Rt,{x:Rt.x,y:Ut},{x:At.x,y:Ut},At];return Ht=Ht.map(Be),"M"+Ht[0]+"C"+Ht[1]+" "+Ht[2]+" "+Ht[3]}return qe.source=function(nt){return arguments.length?(ue=Or(nt),qe):ue},qe.target=function(nt){return arguments.length?(Ae=Or(nt),qe):Ae},qe.projection=function(nt){return arguments.length?(Be=nt,qe):Be},qe};function wu(ue){return[ue.x,ue.y]}s.svg.diagonal.radial=function(){var ue=s.svg.diagonal(),Ae=wu,Be=ue.projection;return ue.projection=function(qe){return arguments.length?Be(uc(Ae=qe)):Ae},ue};function uc(ue){return function(){var Ae=ue.apply(this,arguments),Be=Ae[0],qe=Ae[1]-We;return[Be*Math.cos(qe),Be*Math.sin(qe)]}}s.svg.symbol=function(){var ue=it,Ae=Je;function Be(qe,nt){return(wt.get(ue.call(this,qe,nt))||yt)(Ae.call(this,qe,nt))}return Be.type=function(qe){return arguments.length?(ue=Or(qe),Be):ue},Be.size=function(qe){return arguments.length?(Ae=Or(qe),Be):Ae},Be};function Je(){return 64}function it(){return"circle"}function yt(ue){var Ae=Math.sqrt(ue/he);return"M0,"+Ae+"A"+Ae+","+Ae+" 0 1,1 0,"+-Ae+"A"+Ae+","+Ae+" 0 1,1 0,"+Ae+"Z"}var wt=s.map({circle:yt,cross:function(ue){var Ae=Math.sqrt(ue/5)/2;return"M"+-3*Ae+","+-Ae+"H"+-Ae+"V"+-3*Ae+"H"+Ae+"V"+-Ae+"H"+3*Ae+"V"+Ae+"H"+Ae+"V"+3*Ae+"H"+-Ae+"V"+Ae+"H"+-3*Ae+"Z"},diamond:function(ue){var Ae=Math.sqrt(ue/(2*It)),Be=Ae*It;return"M0,"+-Ae+"L"+Be+",0 0,"+Ae+" "+-Be+",0Z"},square:function(ue){var Ae=Math.sqrt(ue)/2;return"M"+-Ae+","+-Ae+"L"+Ae+","+-Ae+" "+Ae+","+Ae+" "+-Ae+","+Ae+"Z"},"triangle-down":function(ue){var Ae=Math.sqrt(ue/_t),Be=Ae*_t/2;return"M0,"+Be+"L"+Ae+","+-Be+" "+-Ae+","+-Be+"Z"},"triangle-up":function(ue){var Ae=Math.sqrt(ue/_t),Be=Ae*_t/2;return"M0,"+-Be+"L"+Ae+","+Be+" "+-Ae+","+Be+"Z"}});s.svg.symbolTypes=wt.keys();var _t=Math.sqrt(3),It=Math.tan(30*rt);G.transition=function(ue){for(var Ae=zr||++Sr,Be=Pn(ue),qe=[],nt,ct,Rt=Vr||{time:Date.now(),ease:uf,delay:0,duration:250},At=-1,Ut=this.length;++At<Ut;){qe.push(nt=[]);for(var Ht=this[At],ar=-1,Rr=Ht.length;++ar<Rr;)(ct=Ht[ar])&&In(ct,ar,Be,Ae,Rt),nt.push(ct)}return wr(qe,Be,Ae)},G.interrupt=function(ue){return this.each(ue==null?zt:pr(Pn(ue)))};var zt=pr(Pn());function pr(ue){return function(){var Ae,Be,qe;(Ae=this[ue])&&(qe=Ae[Be=Ae.active])&&(qe.timer.c=null,qe.timer.t=NaN,--Ae.count?delete Ae[Be]:delete this[ue],Ae.active+=.5,qe.event&&qe.event.interrupt.call(this,this.__data__,qe.index))}}function wr(ue,Ae,Be){return $(ue,sr),ue.namespace=Ae,ue.id=Be,ue}var sr=[],Sr=0,zr,Vr;sr.call=G.call,sr.empty=G.empty,sr.node=G.node,sr.size=G.size,s.transition=function(ue,Ae){return ue&&ue.transition?zr?ue.transition(Ae):ue:s.selection().transition(ue)},s.transition.prototype=sr,sr.select=function(ue){var Ae=this.id,Be=this.namespace,qe=[],nt,ct,Rt;ue=oe(ue);for(var At=-1,Ut=this.length;++At<Ut;){qe.push(nt=[]);for(var Ht=this[At],ar=-1,Rr=Ht.length;++ar<Rr;)(Rt=Ht[ar])&&(ct=ue.call(Rt,Rt.__data__,ar,At))?("__data__"in Rt&&(ct.__data__=Rt.__data__),In(ct,ar,Be,Ae,Rt[Be][Ae]),nt.push(ct)):nt.push(null)}return wr(qe,Be,Ae)},sr.selectAll=function(ue){var Ae=this.id,Be=this.namespace,qe=[],nt,ct,Rt,At,Ut;ue=te(ue);for(var Ht=-1,ar=this.length;++Ht<ar;)for(var Rr=this[Ht],Dr=-1,Qr=Rr.length;++Dr<Qr;)if(Rt=Rr[Dr]){Ut=Rt[Be][Ae],ct=ue.call(Rt,Rt.__data__,Dr,Ht),qe.push(nt=[]);for(var sn=-1,_r=ct.length;++sn<_r;)(At=ct[sn])&&In(At,sn,Be,Ae,Ut),nt.push(At)}return wr(qe,Be,Ae)},sr.filter=function(ue){var Ae=[],Be,qe,nt;typeof ue!="function"&&(ue=je(ue));for(var ct=0,Rt=this.length;ct<Rt;ct++){Ae.push(Be=[]);for(var qe=this[ct],At=0,Ut=qe.length;At<Ut;At++)(nt=qe[At])&&ue.call(nt,nt.__data__,At,ct)&&Be.push(nt)}return wr(Ae,this.namespace,this.id)},sr.tween=function(ue,Ae){var Be=this.id,qe=this.namespace;return arguments.length<2?this.node()[qe][Be].tween.get(ue):Ze(this,Ae==null?function(nt){nt[qe][Be].tween.remove(ue)}:function(nt){nt[qe][Be].tween.set(ue,Ae)})};function rn(ue,Ae,Be,qe){var nt=ue.id,ct=ue.namespace;return Ze(ue,typeof Be=="function"?function(Rt,At,Ut){Rt[ct][nt].tween.set(Ae,qe(Be.call(Rt,Rt.__data__,At,Ut)))}:(Be=qe(Be),function(Rt){Rt[ct][nt].tween.set(Ae,Be)}))}sr.attr=function(ue,Ae){if(arguments.length<2){for(Ae in ue)this.attr(Ae,ue[Ae]);return this}var Be=ue=="transform"?Bu:to,qe=s.ns.qualify(ue);function nt(){this.removeAttribute(qe)}function ct(){this.removeAttributeNS(qe.space,qe.local)}function Rt(Ut){return Ut==null?nt:(Ut+="",function(){var Ht=this.getAttribute(qe),ar;return Ht!==Ut&&(ar=Be(Ht,Ut),function(Rr){this.setAttribute(qe,ar(Rr))})})}function At(Ut){return Ut==null?ct:(Ut+="",function(){var Ht=this.getAttributeNS(qe.space,qe.local),ar;return Ht!==Ut&&(ar=Be(Ht,Ut),function(Rr){this.setAttributeNS(qe.space,qe.local,ar(Rr))})})}return rn(this,"attr."+ue,Ae,qe.local?At:Rt)},sr.attrTween=function(ue,Ae){var Be=s.ns.qualify(ue);function qe(ct,Rt){var At=Ae.call(this,ct,Rt,this.getAttribute(Be));return At&&function(Ut){this.setAttribute(Be,At(Ut))}}function nt(ct,Rt){var At=Ae.call(this,ct,Rt,this.getAttributeNS(Be.space,Be.local));return At&&function(Ut){this.setAttributeNS(Be.space,Be.local,At(Ut))}}return this.tween("attr."+ue,Be.local?nt:qe)},sr.style=function(ue,Ae,Be){var qe=arguments.length;if(qe<3){if(typeof ue!="string"){qe<2&&(Ae="");for(Be in ue)this.style(Be,ue[Be],Ae);return this}Be=""}function nt(){this.style.removeProperty(ue)}function ct(Rt){return Rt==null?nt:(Rt+="",function(){var At=r(this).getComputedStyle(this,null).getPropertyValue(ue),Ut;return At!==Rt&&(Ut=to(At,Rt),function(Ht){this.style.setProperty(ue,Ut(Ht),Be)})})}return rn(this,"style."+ue,Ae,ct)},sr.styleTween=function(ue,Ae,Be){arguments.length<3&&(Be="");function qe(nt,ct){var Rt=Ae.call(this,nt,ct,r(this).getComputedStyle(this,null).getPropertyValue(ue));return Rt&&function(At){this.style.setProperty(ue,Rt(At),Be)}}return this.tween("style."+ue,qe)},sr.text=function(ue){return rn(this,"text",ue,bn)};function bn(ue){return ue==null&&(ue=""),function(){this.textContent=ue}}sr.remove=function(){var ue=this.namespace;return this.each("end.transition",function(){var Ae;this[ue].count<2&&(Ae=this.parentNode)&&Ae.removeChild(this)})},sr.ease=function(ue){var Ae=this.id,Be=this.namespace;return arguments.length<1?this.node()[Be][Ae].ease:(typeof ue!="function"&&(ue=s.ease.apply(s,arguments)),Ze(this,function(qe){qe[Be][Ae].ease=ue}))},sr.delay=function(ue){var Ae=this.id,Be=this.namespace;return arguments.length<1?this.node()[Be][Ae].delay:Ze(this,typeof ue=="function"?function(qe,nt,ct){qe[Be][Ae].delay=+ue.call(qe,qe.__data__,nt,ct)}:(ue=+ue,function(qe){qe[Be][Ae].delay=ue}))},sr.duration=function(ue){var Ae=this.id,Be=this.namespace;return arguments.length<1?this.node()[Be][Ae].duration:Ze(this,typeof ue=="function"?function(qe,nt,ct){qe[Be][Ae].duration=Math.max(1,ue.call(qe,qe.__data__,nt,ct))}:(ue=Math.max(1,ue),function(qe){qe[Be][Ae].duration=ue}))},sr.each=function(ue,Ae){var Be=this.id,qe=this.namespace;if(arguments.length<2){var nt=Vr,ct=zr;try{zr=Be,Ze(this,function(Rt,At,Ut){Vr=Rt[qe][Be],ue.call(Rt,Rt.__data__,At,Ut)})}finally{Vr=nt,zr=ct}}else Ze(this,function(Rt){var At=Rt[qe][Be];(At.event||(At.event=s.dispatch("start","end","interrupt"))).on(ue,Ae)});return this},sr.transition=function(){for(var ue=this.id,Ae=++Sr,Be=this.namespace,qe=[],nt,ct,Rt,At,Ut=0,Ht=this.length;Ut<Ht;Ut++){qe.push(nt=[]);for(var ct=this[Ut],ar=0,Rr=ct.length;ar<Rr;ar++)(Rt=ct[ar])&&(At=Rt[Be][ue],In(Rt,ar,Be,Ae,{time:At.time,ease:At.ease,delay:At.delay+At.duration,duration:At.duration})),nt.push(Rt)}return wr(qe,Be,Ae)};function Pn(ue){return ue==null?"__transition__":"__transition_"+ue+"__"}function In(ue,Ae,Be,qe,nt){var ct=ue[Be]||(ue[Be]={active:0,count:0}),Rt=ct[qe],At,Ut,Ht,ar,Rr;function Dr(_r){var Hr=Rt.delay;if(Ut.t=Hr+At,Hr<=_r)return Qr(_r-Hr);Ut.c=Qr}function Qr(_r){var Hr=ct.active,Kr=ct[Hr];Kr&&(Kr.timer.c=null,Kr.timer.t=NaN,--ct.count,delete ct[Hr],Kr.event&&Kr.event.interrupt.call(ue,ue.__data__,Kr.index));for(var hn in ct)if(+hn<qe){var yn=ct[hn];yn.timer.c=null,yn.timer.t=NaN,--ct.count,delete ct[hn]}Ut.c=sn,Ln(function(){return Ut.c&&sn(_r||1)&&(Ut.c=null,Ut.t=NaN),1},0,At),ct.active=qe,Rt.event&&Rt.event.start.call(ue,ue.__data__,Ae),Rr=[],Rt.tween.forEach(function(qr,Vn){(Vn=Vn.call(ue,ue.__data__,Ae))&&Rr.push(Vn)}),ar=Rt.ease,Ht=Rt.duration}function sn(_r){for(var Hr=_r/Ht,Kr=ar(Hr),hn=Rr.length;hn>0;)Rr[--hn].call(ue,Kr);if(Hr>=1)return Rt.event&&Rt.event.end.call(ue,ue.__data__,Ae),--ct.count?delete ct[qe]:delete ue[Be],1}Rt||(At=nt.time,Ut=Ln(Dr,0,At),Rt=ct[qe]={tween:new C,time:At,timer:Ut,delay:nt.delay,duration:nt.duration,ease:nt.ease,index:Ae},nt=null,++ct.count)}s.svg.axis=function(){var ue=s.scale.linear(),Ae=Kn,Be=6,qe=6,nt=3,ct=[10],Rt=null,At;function Ut(Ht){Ht.each(function(){var ar=s.select(this),Rr=this.__chart__||ue,Dr=this.__chart__=ue.copy(),Qr=Rt??(Dr.ticks?Dr.ticks.apply(Dr,ct):Dr.domain()),sn=At??(Dr.tickFormat?Dr.tickFormat.apply(Dr,ct):B),_r=ar.selectAll(".tick").data(Qr,Dr),Hr=_r.enter().insert("g",".domain").attr("class","tick").style("opacity",Ue),Kr=s.transition(_r.exit()).style("opacity",Ue).remove(),hn=s.transition(_r.order()).style("opacity",1),yn=Math.max(Be,0)+nt,qr,Vn=Ol(Dr),ta=ar.selectAll(".domain").data([0]),fa=(ta.enter().append("path").attr("class","domain"),s.transition(ta));Hr.append("line"),Hr.append("text");var qn=Hr.select("line"),sa=hn.select("line"),ca=_r.select("text").text(sn),Oa=Hr.select("text"),Ma=hn.select("text"),ka=Ae==="top"||Ae==="left"?-1:1,ni,zi,ui,$n;if(Ae==="bottom"||Ae==="top"?(qr=Pa,ni="x",ui="y",zi="x2",$n="y2",ca.attr("dy",ka<0?"0em":".71em").style("text-anchor","middle"),fa.attr("d","M"+Vn[0]+","+ka*qe+"V0H"+Vn[1]+"V"+ka*qe)):(qr=Da,ni="y",ui="x",zi="y2",$n="x2",ca.attr("dy",".32em").style("text-anchor",ka<0?"end":"start"),fa.attr("d","M"+ka*qe+","+Vn[0]+"H0V"+Vn[1]+"H"+ka*qe)),qn.attr($n,ka*Be),Oa.attr(ui,ka*yn),sa.attr(zi,0).attr($n,ka*Be),Ma.attr(ni,0).attr(ui,ka*yn),Dr.rangeBand){var Na=Dr,Ta=Na.rangeBand()/2;Rr=Dr=function(Za){return Na(Za)+Ta}}else Rr.rangeBand?Rr=Dr:Kr.call(qr,Dr,Rr);Hr.call(qr,Rr,Dr),hn.call(qr,Dr,Dr)})}return Ut.scale=function(Ht){return arguments.length?(ue=Ht,Ut):ue},Ut.orient=function(Ht){return arguments.length?(Ae=Ht in La?Ht+"":Kn,Ut):Ae},Ut.ticks=function(){return arguments.length?(ct=M(arguments),Ut):ct},Ut.tickValues=function(Ht){return arguments.length?(Rt=Ht,Ut):Rt},Ut.tickFormat=function(Ht){return arguments.length?(At=Ht,Ut):At},Ut.tickSize=function(Ht){var ar=arguments.length;return ar?(Be=+Ht,qe=+arguments[ar-1],Ut):Be},Ut.innerTickSize=function(Ht){return arguments.length?(Be=+Ht,Ut):Be},Ut.outerTickSize=function(Ht){return arguments.length?(qe=+Ht,Ut):qe},Ut.tickPadding=function(Ht){return arguments.length?(nt=+Ht,Ut):nt},Ut.tickSubdivide=function(){return arguments.length&&Ut},Ut};var Kn="bottom",La={top:1,right:1,bottom:1,left:1};function Pa(ue,Ae,Be){ue.attr("transform",function(qe){var nt=Ae(qe);return"translate("+(isFinite(nt)?nt:Be(qe))+",0)"})}function Da(ue,Ae,Be){ue.attr("transform",function(qe){var nt=Ae(qe);return"translate(0,"+(isFinite(nt)?nt:Be(qe))+")"})}s.svg.brush=function(){var ue=ie(ar,"brushstart","brush","brushend"),Ae=null,Be=null,qe=[0,0],nt=[0,0],ct,Rt,At=!0,Ut=!0,Ht=ja[0];function ar(_r){_r.each(function(){var Hr=s.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",sn).on("touchstart.brush",sn),Kr=Hr.selectAll(".background").data([0]);Kr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Hr.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var hn=Hr.selectAll(".resize").data(Ht,B);hn.exit().remove(),hn.enter().append("g").attr("class",function(ta){return"resize "+ta}).style("cursor",function(ta){return za[ta]}).append("rect").attr("x",function(ta){return/[ew]$/.test(ta)?-3:null}).attr("y",function(ta){return/^[ns]/.test(ta)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),hn.style("display",ar.empty()?"none":null);var yn=s.transition(Hr),qr=s.transition(Kr),Vn;Ae&&(Vn=Ol(Ae),qr.attr("x",Vn[0]).attr("width",Vn[1]-Vn[0]),Dr(yn)),Be&&(Vn=Ol(Be),qr.attr("y",Vn[0]).attr("height",Vn[1]-Vn[0]),Qr(yn)),Rr(yn)})}ar.event=function(_r){_r.each(function(){var Hr=ue.of(this,arguments),Kr={x:qe,y:nt,i:ct,j:Rt},hn=this.__chart__||Kr;this.__chart__=Kr,zr?s.select(this).transition().each("start.brush",function(){ct=hn.i,Rt=hn.j,qe=hn.x,nt=hn.y,Hr({type:"brushstart"})}).tween("brush:brush",function(){var yn=ko(qe,Kr.x),qr=ko(nt,Kr.y);return ct=Rt=null,function(Vn){qe=Kr.x=yn(Vn),nt=Kr.y=qr(Vn),Hr({type:"brush",mode:"resize"})}}).each("end.brush",function(){ct=Kr.i,Rt=Kr.j,Hr({type:"brush",mode:"resize"}),Hr({type:"brushend"})}):(Hr({type:"brushstart"}),Hr({type:"brush",mode:"resize"}),Hr({type:"brushend"}))})};function Rr(_r){_r.selectAll(".resize").attr("transform",function(Hr){return"translate("+qe[+/e$/.test(Hr)]+","+nt[+/^s/.test(Hr)]+")"})}function Dr(_r){_r.select(".extent").attr("x",qe[0]),_r.selectAll(".extent,.n>rect,.s>rect").attr("width",qe[1]-qe[0])}function Qr(_r){_r.select(".extent").attr("y",nt[0]),_r.selectAll(".extent,.e>rect,.w>rect").attr("height",nt[1]-nt[0])}function sn(){var _r=this,Hr=s.select(s.event.target),Kr=ue.of(_r,arguments),hn=s.select(_r),yn=Hr.datum(),qr=!/^(n|s)$/.test(yn)&&Ae,Vn=!/^(e|w)$/.test(yn)&&Be,ta=Hr.classed("extent"),fa=Ge(_r),qn,sa=s.mouse(_r),ca,Oa=s.select(r(_r)).on("keydown.brush",ni).on("keyup.brush",zi);if(s.event.changedTouches?Oa.on("touchmove.brush",ui).on("touchend.brush",Na):Oa.on("mousemove.brush",ui).on("mouseup.brush",Na),hn.interrupt().selectAll("*").interrupt(),ta)sa[0]=qe[0]-sa[0],sa[1]=nt[0]-sa[1];else if(yn){var Ma=+/w$/.test(yn),ka=+/^n/.test(yn);ca=[qe[1-Ma]-sa[0],nt[1-ka]-sa[1]],sa[0]=qe[Ma],sa[1]=nt[ka]}else s.event.altKey&&(qn=sa.slice());hn.style("pointer-events","none").selectAll(".resize").style("display",null),s.select("body").style("cursor",Hr.style("cursor")),Kr({type:"brushstart"}),ui();function ni(){s.event.keyCode==32&&(ta||(qn=null,sa[0]-=qe[1],sa[1]-=nt[1],ta=2),re())}function zi(){s.event.keyCode==32&&ta==2&&(sa[0]+=qe[1],sa[1]+=nt[1],ta=0,re())}function ui(){var Ta=s.mouse(_r),Za=!1;ca&&(Ta[0]+=ca[0],Ta[1]+=ca[1]),ta||(s.event.altKey?(qn||(qn=[(qe[0]+qe[1])/2,(nt[0]+nt[1])/2]),sa[0]=qe[+(Ta[0]<qn[0])],sa[1]=nt[+(Ta[1]<qn[1])]):qn=null),qr&&$n(Ta,Ae,0)&&(Dr(hn),Za=!0),Vn&&$n(Ta,Be,1)&&(Qr(hn),Za=!0),Za&&(Rr(hn),Kr({type:"brush",mode:ta?"move":"resize"}))}function $n(Ta,Za,xi){var ai=Ol(Za),Ji=ai[0],Qi=ai[1],ro=sa[xi],bi=xi?nt:qe,po=bi[1]-bi[0],la,Ea;if(ta&&(Ji-=ro,Qi-=po+ro),la=(xi?Ut:At)?Math.max(Ji,Math.min(Qi,Ta[xi])):Ta[xi],ta?Ea=(la+=ro)+po:(qn&&(ro=Math.max(Ji,Math.min(Qi,2*qn[xi]-la))),ro<la?(Ea=la,la=ro):Ea=ro),bi[0]!=la||bi[1]!=Ea)return xi?Rt=null:ct=null,bi[0]=la,bi[1]=Ea,!0}function Na(){ui(),hn.style("pointer-events","all").selectAll(".resize").style("display",ar.empty()?"none":null),s.select("body").style("cursor",null),Oa.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),fa(),Kr({type:"brushend"})}}return ar.x=function(_r){return arguments.length?(Ae=_r,Ht=ja[!Ae<<1|!Be],ar):Ae},ar.y=function(_r){return arguments.length?(Be=_r,Ht=ja[!Ae<<1|!Be],ar):Be},ar.clamp=function(_r){return arguments.length?(Ae&&Be?(At=!!_r[0],Ut=!!_r[1]):Ae?At=!!_r:Be&&(Ut=!!_r),ar):Ae&&Be?[At,Ut]:Ae?At:Be?Ut:null},ar.extent=function(_r){var Hr,Kr,hn,yn,qr;return arguments.length?(Ae&&(Hr=_r[0],Kr=_r[1],Be&&(Hr=Hr[0],Kr=Kr[0]),ct=[Hr,Kr],Ae.invert&&(Hr=Ae(Hr),Kr=Ae(Kr)),Kr<Hr&&(qr=Hr,Hr=Kr,Kr=qr),(Hr!=qe[0]||Kr!=qe[1])&&(qe=[Hr,Kr])),Be&&(hn=_r[0],yn=_r[1],Ae&&(hn=hn[1],yn=yn[1]),Rt=[hn,yn],Be.invert&&(hn=Be(hn),yn=Be(yn)),yn<hn&&(qr=hn,hn=yn,yn=qr),(hn!=nt[0]||yn!=nt[1])&&(nt=[hn,yn])),ar):(Ae&&(ct?(Hr=ct[0],Kr=ct[1]):(Hr=qe[0],Kr=qe[1],Ae.invert&&(Hr=Ae.invert(Hr),Kr=Ae.invert(Kr)),Kr<Hr&&(qr=Hr,Hr=Kr,Kr=qr))),Be&&(Rt?(hn=Rt[0],yn=Rt[1]):(hn=nt[0],yn=nt[1],Be.invert&&(hn=Be.invert(hn),yn=Be.invert(yn)),yn<hn&&(qr=hn,hn=yn,yn=qr))),Ae&&Be?[[Hr,hn],[Kr,yn]]:Ae?[Hr,Kr]:Be&&[hn,yn])},ar.clear=function(){return ar.empty()||(qe=[0,0],nt=[0,0],ct=Rt=null),ar},ar.empty=function(){return!!Ae&&qe[0]==qe[1]||!!Be&&nt[0]==nt[1]},s.rebind(ar,ue,"on")};var za={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ja=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];s.text=En(function(ue){return ue.responseText}),s.json=function(ue,Ae){return nn(ue,"application/json",hi,Ae)};function hi(ue){return JSON.parse(ue.responseText)}s.html=function(ue,Ae){return nn(ue,"text/html",ki,Ae)};function ki(ue){var Ae=v.createRange();return Ae.selectNode(v.body),Ae.createContextualFragment(ue.responseText)}s.xml=En(function(ue){return ue.responseXML}),b=s,P=typeof b=="function"?b.call(V,e,V,Y):b,P!==void 0&&(Y.exports=P)}).apply(self)},3480:function(Y){(function(V,e){Y.exports=e()})(this,function(){var V,e,b;function P(s,L){if(!V)V=L;else if(!e)e=L;else{var M="var sharedChunk = {}; ("+V+")(sharedChunk); ("+e+")(sharedChunk);",v={};V(v),b=L(v),typeof window<"u"&&(b.workerUrl=window.URL.createObjectURL(new Blob([M],{type:"text/javascript"})))}}return P(["exports"],function(s){function L(R,D){return D={exports:{}},R(D,D.exports),D.exports}var M="1.13.4",v=p;function p(R,D,U,ne){this.cx=3*R,this.bx=3*(U-R)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*D,this.by=3*(ne-D)-this.cy,this.ay=1-this.cy-this.by,this.p1x=R,this.p1y=ne,this.p2x=U,this.p2y=ne}p.prototype.sampleCurveX=function(R){return((this.ax*R+this.bx)*R+this.cx)*R},p.prototype.sampleCurveY=function(R){return((this.ay*R+this.by)*R+this.cy)*R},p.prototype.sampleCurveDerivativeX=function(R){return(3*this.ax*R+2*this.bx)*R+this.cx},p.prototype.solveCurveX=function(R,D){typeof D>"u"&&(D=1e-6);var U,ne,ve,be,Pe;for(ve=R,Pe=0;Pe<8;Pe++){if(be=this.sampleCurveX(ve)-R,Math.abs(be)<D)return ve;var Qe=this.sampleCurveDerivativeX(ve);if(Math.abs(Qe)<1e-6)break;ve=ve-be/Qe}if(U=0,ne=1,ve=R,ve<U)return U;if(ve>ne)return ne;for(;U<ne;){if(be=this.sampleCurveX(ve),Math.abs(be-R)<D)return ve;R>be?U=ve:ne=ve,ve=(ne-U)*.5+U}return ve},p.prototype.solve=function(R,D){return this.sampleCurveY(this.solveCurveX(R,D))};var r=t;function t(R,D){this.x=R,this.y=D}t.prototype={clone:function(){return new t(this.x,this.y)},add:function(R){return this.clone()._add(R)},sub:function(R){return this.clone()._sub(R)},multByPoint:function(R){return this.clone()._multByPoint(R)},divByPoint:function(R){return this.clone()._divByPoint(R)},mult:function(R){return this.clone()._mult(R)},div:function(R){return this.clone()._div(R)},rotate:function(R){return this.clone()._rotate(R)},rotateAround:function(R,D){return this.clone()._rotateAround(R,D)},matMult:function(R){return this.clone()._matMult(R)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(R){return this.x===R.x&&this.y===R.y},dist:function(R){return Math.sqrt(this.distSqr(R))},distSqr:function(R){var D=R.x-this.x,U=R.y-this.y;return D*D+U*U},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(R){return Math.atan2(this.y-R.y,this.x-R.x)},angleWith:function(R){return this.angleWithSep(R.x,R.y)},angleWithSep:function(R,D){return Math.atan2(this.x*D-this.y*R,this.x*R+this.y*D)},_matMult:function(R){var D=R[0]*this.x+R[1]*this.y,U=R[2]*this.x+R[3]*this.y;return this.x=D,this.y=U,this},_add:function(R){return this.x+=R.x,this.y+=R.y,this},_sub:function(R){return this.x-=R.x,this.y-=R.y,this},_mult:function(R){return this.x*=R,this.y*=R,this},_div:function(R){return this.x/=R,this.y/=R,this},_multByPoint:function(R){return this.x*=R.x,this.y*=R.y,this},_divByPoint:function(R){return this.x/=R.x,this.y/=R.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var R=this.y;return this.y=this.x,this.x=-R,this},_rotate:function(R){var D=Math.cos(R),U=Math.sin(R),ne=D*this.x-U*this.y,ve=U*this.x+D*this.y;return this.x=ne,this.y=ve,this},_rotateAround:function(R,D){var U=Math.cos(R),ne=Math.sin(R),ve=D.x+U*(this.x-D.x)-ne*(this.y-D.y),be=D.y+ne*(this.x-D.x)+U*(this.y-D.y);return this.x=ve,this.y=be,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(R){return R instanceof t?R:Array.isArray(R)?new t(R[0],R[1]):R};var o=typeof self<"u"?self:{};function n(R,D){if(Array.isArray(R)){if(!Array.isArray(D)||R.length!==D.length)return!1;for(var U=0;U<R.length;U++)if(!n(R[U],D[U]))return!1;return!0}if(typeof R=="object"&&R!==null&&D!==null){if(typeof D!="object")return!1;var ne=Object.keys(R);if(ne.length!==Object.keys(D).length)return!1;for(var ve in R)if(!n(R[ve],D[ve]))return!1;return!0}return R===D}var l=Math.pow(2,53)-1;function u(R){if(R<=0)return 0;if(R>=1)return 1;var D=R*R,U=D*R;return 4*(R<.5?U:3*(R-D)+U-.75)}function f(R,D,U,ne){var ve=new v(R,D,U,ne);return function(be){return ve.solve(be)}}var g=f(.25,.1,.25,1);function h(R,D,U){return Math.min(U,Math.max(D,R))}function w(R,D,U){var ne=U-D,ve=((R-D)%ne+ne)%ne+D;return ve===D?U:ve}function c(R,D,U){if(!R.length)return U(null,[]);var ne=R.length,ve=new Array(R.length),be=null;R.forEach(function(Pe,Qe){D(Pe,function(dt,Mt){dt&&(be=dt),ve[Qe]=Mt,--ne===0&&U(be,ve)})})}function a(R){var D=[];for(var U in R)D.push(R[U]);return D}function d(R,D){var U=[];for(var ne in R)ne in D||U.push(ne);return U}function x(R){for(var D=[],U=arguments.length-1;U-- >0;)D[U]=arguments[U+1];for(var ne=0,ve=D;ne<ve.length;ne+=1){var be=ve[ne];for(var Pe in be)R[Pe]=be[Pe]}return R}function T(R,D){for(var U={},ne=0;ne<D.length;ne++){var ve=D[ne];ve in R&&(U[ve]=R[ve])}return U}var C=1;function y(){return C++}function S(){function R(D){return D?(D^Math.random()*16>>D/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,R)}return R()}function A(R){return R<=1?1:Math.pow(2,Math.ceil(Math.log(R)/Math.LN2))}function i(R){return R?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(R):!1}function E(R,D){R.forEach(function(U){D[U]&&(D[U]=D[U].bind(D))})}function m(R,D){return R.indexOf(D,R.length-D.length)!==-1}function k(R,D,U){var ne={};for(var ve in R)ne[ve]=D.call(U||this,R[ve],ve,R);return ne}function I(R,D,U){var ne={};for(var ve in R)D.call(U||this,R[ve],ve,R)&&(ne[ve]=R[ve]);return ne}function O(R){return Array.isArray(R)?R.map(O):typeof R=="object"&&R?k(R,O):R}function _(R,D){for(var U=0;U<R.length;U++)if(D.indexOf(R[U])>=0)return!0;return!1}var B={};function F(R){B[R]||(typeof console<"u"&&console.warn(R),B[R]=!0)}function z(R,D,U){return(U.y-R.y)*(D.x-R.x)>(D.y-R.y)*(U.x-R.x)}function N(R){for(var D=0,U=0,ne=R.length,ve=ne-1,be=void 0,Pe=void 0;U<ne;ve=U++)be=R[U],Pe=R[ve],D+=(Pe.x-be.x)*(be.y+Pe.y);return D}function W(R){var D=R[0],U=R[1],ne=R[2];return U+=90,U*=Math.PI/180,ne*=Math.PI/180,{x:D*Math.cos(U)*Math.sin(ne),y:D*Math.sin(U)*Math.sin(ne),z:D*Math.cos(ne)}}function Z(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function q(R){var D=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,U={};if(R.replace(D,function(ve,be,Pe,Qe){var dt=Pe||Qe;return U[be]=dt?dt.toLowerCase():!0,""}),U["max-age"]){var ne=parseInt(U["max-age"],10);isNaN(ne)?delete U["max-age"]:U["max-age"]=ne}return U}var re=null;function le(R){if(re==null){var D=R.navigator?R.navigator.userAgent:null;re=!!R.safari||!!(D&&(/\b(iPad|iPhone|iPod)\b/.test(D)||D.match("Safari")&&!D.match("Chrome")))}return re}function ie(R){try{var D=o[R];return D.setItem("_mapbox_test_",1),D.removeItem("_mapbox_test_"),!0}catch{return!1}}function K(R){return o.btoa(encodeURIComponent(R).replace(/%([0-9A-F]{2})/g,function(D,U){return String.fromCharCode(+("0x"+U))}))}function $(R){return decodeURIComponent(o.atob(R).split("").map(function(D){return"%"+("00"+D.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var X=o.performance&&o.performance.now?o.performance.now.bind(o.performance):Date.now.bind(Date),Q=o.requestAnimationFrame||o.mozRequestAnimationFrame||o.webkitRequestAnimationFrame||o.msRequestAnimationFrame,se=o.cancelAnimationFrame||o.mozCancelAnimationFrame||o.webkitCancelAnimationFrame||o.msCancelAnimationFrame,J,G,oe={now:X,frame:function(D){var U=Q(D);return{cancel:function(){return se(U)}}},getImageData:function(D,U){U===void 0&&(U=0);var ne=o.document.createElement("canvas"),ve=ne.getContext("2d");if(!ve)throw new Error("failed to create canvas 2d context");return ne.width=D.width,ne.height=D.height,ve.drawImage(D,0,0,D.width,D.height),ve.getImageData(-U,-U,D.width+2*U,D.height+2*U)},resolveURL:function(D){return J||(J=o.document.createElement("a")),J.href=D,J.href},hardwareConcurrency:o.navigator&&o.navigator.hardwareConcurrency||4,get devicePixelRatio(){return o.devicePixelRatio},get prefersReducedMotion(){return o.matchMedia?(G==null&&(G=o.matchMedia("(prefers-reduced-motion: reduce)")),G.matches):!1}},te={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},fe={supported:!1,testSupport:De},ge,we=!1,xe,Ce=!1;o.document&&(xe=o.document.createElement("img"),xe.onload=function(){ge&&Oe(ge),ge=null,Ce=!0},xe.onerror=function(){we=!0,ge=null},xe.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function De(R){we||!xe||(Ce?Oe(R):ge=R)}function Oe(R){var D=R.createTexture();R.bindTexture(R.TEXTURE_2D,D);try{if(R.texImage2D(R.TEXTURE_2D,0,R.RGBA,R.RGBA,R.UNSIGNED_BYTE,xe),R.isContextLost())return;fe.supported=!0}catch{}R.deleteTexture(D),we=!0}var Te="01";function Re(){for(var R="1",D="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",U="",ne=0;ne<10;ne++)U+=D[Math.floor(Math.random()*62)];var ve=12*60*60*1e3,be=[R,Te,U].join(""),Pe=Date.now()+ve;return{token:be,tokenExpiresAt:Pe}}var Me=function(D,U){this._transformRequestFn=D,this._customAccessToken=U,this._createSkuToken()};Me.prototype._createSkuToken=function(){var D=Re();this._skuToken=D.token,this._skuTokenExpiresAt=D.tokenExpiresAt},Me.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Me.prototype.transformRequest=function(D,U){return this._transformRequestFn?this._transformRequestFn(D,U)||{url:D}:{url:D}},Me.prototype.normalizeStyleURL=function(D,U){if(!ke(D))return D;var ne=$e(D);return ne.path="/styles/v1"+ne.path,this._makeAPIURL(ne,this._customAccessToken||U)},Me.prototype.normalizeGlyphsURL=function(D,U){if(!ke(D))return D;var ne=$e(D);return ne.path="/fonts/v1"+ne.path,this._makeAPIURL(ne,this._customAccessToken||U)},Me.prototype.normalizeSourceURL=function(D,U){if(!ke(D))return D;var ne=$e(D);return ne.path="/v4/"+ne.authority+".json",ne.params.push("secure"),this._makeAPIURL(ne,this._customAccessToken||U)},Me.prototype.normalizeSpriteURL=function(D,U,ne,ve){var be=$e(D);return ke(D)?(be.path="/styles/v1"+be.path+"/sprite"+U+ne,this._makeAPIURL(be,this._customAccessToken||ve)):(be.path+=""+U+ne,ut(be))},Me.prototype.normalizeTileURL=function(D,U){if(this._isSkuTokenExpired()&&this._createSkuToken(),D&&!ke(D))return D;var ne=$e(D),ve=/(\.(png|jpg)\d*)(?=$)/,be=/^.+\/v4\//,Pe=oe.devicePixelRatio>=2||U===512?"@2x":"",Qe=fe.supported?".webp":"$1";ne.path=ne.path.replace(ve,""+Pe+Qe),ne.path=ne.path.replace(be,"/"),ne.path="/v4"+ne.path;var dt=this._customAccessToken||at(ne.params)||te.ACCESS_TOKEN;return te.REQUIRE_ACCESS_TOKEN&&dt&&this._skuToken&&ne.params.push("sku="+this._skuToken),this._makeAPIURL(ne,dt)},Me.prototype.canonicalizeTileURL=function(D,U){var ne="/v4/",ve=/\.[\w]+$/,be=$e(D);if(!be.path.match(/(^\/v4\/)/)||!be.path.match(ve))return D;var Pe="mapbox://tiles/";Pe+=be.path.replace(ne,"");var Qe=be.params;return U&&(Qe=Qe.filter(function(dt){return!dt.match(/^access_token=/)})),Qe.length&&(Pe+="?"+Qe.join("&")),Pe},Me.prototype.canonicalizeTileset=function(D,U){for(var ne=U?ke(U):!1,ve=[],be=0,Pe=D.tiles||[];be<Pe.length;be+=1){var Qe=Pe[be];He(Qe)?ve.push(this.canonicalizeTileURL(Qe,ne)):ve.push(Qe)}return ve},Me.prototype._makeAPIURL=function(D,U){var ne="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ve=$e(te.API_URL);if(D.protocol=ve.protocol,D.authority=ve.authority,D.protocol==="http"){var be=D.params.indexOf("secure");be>=0&&D.params.splice(be,1)}if(ve.path!=="/"&&(D.path=""+ve.path+D.path),!te.REQUIRE_ACCESS_TOKEN)return ut(D);if(U=U||te.ACCESS_TOKEN,!U)throw new Error("An API access token is required to use Mapbox GL. "+ne);if(U[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+ne);return D.params=D.params.filter(function(Pe){return Pe.indexOf("access_token")===-1}),D.params.push("access_token="+U),ut(D)};function ke(R){return R.indexOf("mapbox:")===0}var Se=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function He(R){return Se.test(R)}function je(R){return R.indexOf("sku=")>0&&He(R)}function at(R){for(var D=0,U=R;D<U.length;D+=1){var ne=U[D],ve=ne.match(/^access_token=(.*)$/);if(ve)return ve[1]}return null}var Ze=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function $e(R){var D=R.match(Ze);if(!D)throw new Error("Unable to parse URL object");return{protocol:D[1],authority:D[2],path:D[3]||"/",params:D[4]?D[4].split("&"):[]}}function ut(R){var D=R.params.length?"?"+R.params.join("&"):"";return R.protocol+"://"+R.authority+R.path+D}var ht="mapbox.eventData";function vt(R){if(!R)return null;var D=R.split(".");if(!D||D.length!==3)return null;try{var U=JSON.parse($(D[1]));return U}catch{return null}}var xt=function(D){this.type=D,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};xt.prototype.getStorageKey=function(D){var U=vt(te.ACCESS_TOKEN),ne="";return U&&U.u?ne=K(U.u):ne=te.ACCESS_TOKEN||"",D?ht+"."+D+":"+ne:ht+":"+ne},xt.prototype.fetchEventData=function(){var D=ie("localStorage"),U=this.getStorageKey(),ne=this.getStorageKey("uuid");if(D)try{var ve=o.localStorage.getItem(U);ve&&(this.eventData=JSON.parse(ve));var be=o.localStorage.getItem(ne);be&&(this.anonId=be)}catch{F("Unable to read from LocalStorage")}},xt.prototype.saveEventData=function(){var D=ie("localStorage"),U=this.getStorageKey(),ne=this.getStorageKey("uuid");if(D)try{o.localStorage.setItem(ne,this.anonId),Object.keys(this.eventData).length>=1&&o.localStorage.setItem(U,JSON.stringify(this.eventData))}catch{F("Unable to write to LocalStorage")}},xt.prototype.processRequests=function(D){},xt.prototype.postEvent=function(D,U,ne,ve){var be=this;if(te.EVENTS_URL){var Pe=$e(te.EVENTS_URL);Pe.params.push("access_token="+(ve||te.ACCESS_TOKEN||""));var Qe={event:this.type,created:new Date(D).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:M,skuId:Te,userId:this.anonId},dt=U?x(Qe,U):Qe,Mt={url:ut(Pe),headers:{"Content-Type":"text/plain"},body:JSON.stringify([dt])};this.pendingRequest=Bt(Mt,function(Dt){be.pendingRequest=null,ne(Dt),be.saveEventData(),be.processRequests(ve)})}},xt.prototype.queueRequest=function(D,U){this.queue.push(D),this.processRequests(U)};var St=function(R){function D(){R.call(this,"map.load"),this.success={},this.skuToken=""}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.postMapLoadEvent=function(ne,ve,be,Pe){this.skuToken=be,(te.EVENTS_URL&&Pe||te.ACCESS_TOKEN&&Array.isArray(ne)&&ne.some(function(Qe){return ke(Qe)||He(Qe)}))&&this.queueRequest({id:ve,timestamp:Date.now()},Pe)},D.prototype.processRequests=function(ne){var ve=this;if(!(this.pendingRequest||this.queue.length===0)){var be=this.queue.shift(),Pe=be.id,Qe=be.timestamp;Pe&&this.success[Pe]||(this.anonId||this.fetchEventData(),i(this.anonId)||(this.anonId=S()),this.postEvent(Qe,{skuToken:this.skuToken},function(dt){dt||Pe&&(ve.success[Pe]=!0)},ne))}},D}(xt),tt=function(R){function D(U){R.call(this,"appUserTurnstile"),this._customAccessToken=U}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.postTurnstileEvent=function(ne,ve){te.EVENTS_URL&&te.ACCESS_TOKEN&&Array.isArray(ne)&&ne.some(function(be){return ke(be)||He(be)})&&this.queueRequest(Date.now(),ve)},D.prototype.processRequests=function(ne){var ve=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var be=vt(te.ACCESS_TOKEN),Pe=be?be.u:te.ACCESS_TOKEN,Qe=Pe!==this.eventData.tokenU;i(this.anonId)||(this.anonId=S(),Qe=!0);var dt=this.queue.shift();if(this.eventData.lastSuccess){var Mt=new Date(this.eventData.lastSuccess),Dt=new Date(dt),Gt=(dt-this.eventData.lastSuccess)/(24*60*60*1e3);Qe=Qe||Gt>=1||Gt<-1||Mt.getDate()!==Dt.getDate()}else Qe=!0;if(!Qe)return this.processRequests();this.postEvent(dt,{"enabled.telemetry":!1},function(ir){ir||(ve.eventData.lastSuccess=dt,ve.eventData.tokenU=Pe)},ne)}},D}(xt),Ie=new tt,Ve=Ie.postTurnstileEvent.bind(Ie),Ge=new St,Xe=Ge.postMapLoadEvent.bind(Ge),Le="mapbox-tiles",Fe=500,Ue=50,Ee=1e3*60*7,he;function ye(){o.caches&&!he&&(he=o.caches.open(Le))}var _e;function We(R,D){if(_e===void 0)try{new Response(new ReadableStream),_e=!0}catch{_e=!1}_e?D(R.body):R.blob().then(D)}function rt(R,D,U){if(ye(),!!he){var ne={status:D.status,statusText:D.statusText,headers:new o.Headers};D.headers.forEach(function(Pe,Qe){return ne.headers.set(Qe,Pe)});var ve=q(D.headers.get("Cache-Control")||"");if(!ve["no-store"]){ve["max-age"]&&ne.headers.set("Expires",new Date(U+ve["max-age"]*1e3).toUTCString());var be=new Date(ne.headers.get("Expires")).getTime()-U;be<Ee||We(D,function(Pe){var Qe=new o.Response(Pe,ne);ye(),he&&he.then(function(dt){return dt.put(st(R.url),Qe)}).catch(function(dt){return F(dt.message)})})}}}function st(R){var D=R.indexOf("?");return D<0?R:R.slice(0,D)}function Vt(R,D){if(ye(),!he)return D(null);var U=st(R.url);he.then(function(ne){ne.match(U).then(function(ve){var be=Xt(ve);ne.delete(U),be&&ne.put(U,ve.clone()),D(null,ve,be)}).catch(D)}).catch(D)}function Xt(R){if(!R)return!1;var D=new Date(R.headers.get("Expires")||0),U=q(R.headers.get("Cache-Control")||"");return D>Date.now()&&!U["no-cache"]}var Tt=1/0;function Lt(R){Tt++,Tt>Ue&&(R.getActor().send("enforceCacheSizeLimit",Fe),Tt=0)}function Kt(R){ye(),he&&he.then(function(D){D.keys().then(function(U){for(var ne=0;ne<U.length-R;ne++)D.delete(U[ne])})})}function vr(R){var D=o.caches.delete(Le);R&&D.catch(R).then(function(){return R()})}function pt(R,D){Fe=R,Ue=D}var jt;function $t(){return jt==null&&(jt=o.OffscreenCanvas&&new o.OffscreenCanvas(1,1).getContext("2d")&&typeof o.createImageBitmap=="function"),jt}var mr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(mr);var or=function(R){function D(U,ne,ve){ne===401&&He(ve)&&(U+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),R.call(this,U),this.status=ne,this.url=ve,this.name=this.constructor.name,this.message=U}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},D}(Error),gt=Z()?function(){return self.worker&&self.worker.referrer}:function(){return(o.location.protocol==="blob:"?o.parent:o).location.href},lt=function(R){return/^file:/.test(R)||/^file:/.test(gt())&&!/^\w+:/.test(R)};function bt(R,D){var U=new o.AbortController,ne=new o.Request(R.url,{method:R.method||"GET",body:R.body,credentials:R.credentials,headers:R.headers,referrer:gt(),signal:U.signal}),ve=!1,be=!1,Pe=je(ne.url);R.type==="json"&&ne.headers.set("Accept","application/json");var Qe=function(Mt,Dt,Gt){if(!be){if(Mt&&Mt.message!=="SecurityError"&&F(Mt),Dt&&Gt)return dt(Dt);var ir=Date.now();o.fetch(ne).then(function(rr){if(rr.ok){var br=Pe?rr.clone():null;return dt(rr,br,ir)}else return D(new or(rr.statusText,rr.status,R.url))}).catch(function(rr){rr.code!==20&&D(new Error(rr.message))})}},dt=function(Mt,Dt,Gt){(R.type==="arrayBuffer"?Mt.arrayBuffer():R.type==="json"?Mt.json():Mt.text()).then(function(ir){be||(Dt&&Gt&&rt(ne,Dt,Gt),ve=!0,D(null,ir,Mt.headers.get("Cache-Control"),Mt.headers.get("Expires")))}).catch(function(ir){be||D(new Error(ir.message))})};return Pe?Vt(ne,Qe):Qe(null,null),{cancel:function(){be=!0,ve||U.abort()}}}function Et(R,D){var U=new o.XMLHttpRequest;U.open(R.method||"GET",R.url,!0),R.type==="arrayBuffer"&&(U.responseType="arraybuffer");for(var ne in R.headers)U.setRequestHeader(ne,R.headers[ne]);return R.type==="json"&&(U.responseType="text",U.setRequestHeader("Accept","application/json")),U.withCredentials=R.credentials==="include",U.onerror=function(){D(new Error(U.statusText))},U.onload=function(){if((U.status>=200&&U.status<300||U.status===0)&&U.response!==null){var ve=U.response;if(R.type==="json")try{ve=JSON.parse(U.response)}catch(be){return D(be)}D(null,ve,U.getResponseHeader("Cache-Control"),U.getResponseHeader("Expires"))}else D(new or(U.statusText,U.status,R.url))},U.send(R.body),{cancel:function(){return U.abort()}}}var kt=function(R,D){if(!lt(R.url)){if(o.fetch&&o.Request&&o.AbortController&&o.Request.prototype.hasOwnProperty("signal"))return bt(R,D);if(Z()&&self.worker&&self.worker.actor){var U=!0;return self.worker.actor.send("getResource",R,D,void 0,U)}}return Et(R,D)},Ot=function(R,D){return kt(x(R,{type:"json"}),D)},Ft=function(R,D){return kt(x(R,{type:"arrayBuffer"}),D)},Bt=function(R,D){return kt(x(R,{method:"POST"}),D)};function Jt(R){var D=o.document.createElement("a");return D.href=R,D.protocol===o.document.location.protocol&&D.host===o.document.location.host}var hr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function cr(R,D,U,ne){var ve=new o.Image,be=o.URL;ve.onload=function(){D(null,ve),be.revokeObjectURL(ve.src),ve.onload=null,o.requestAnimationFrame(function(){ve.src=hr})},ve.onerror=function(){return D(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Pe=new o.Blob([new Uint8Array(R)],{type:"image/png"});ve.cacheControl=U,ve.expires=ne,ve.src=R.byteLength?be.createObjectURL(Pe):hr}function dr(R,D){var U=new o.Blob([new Uint8Array(R)],{type:"image/png"});o.createImageBitmap(U).then(function(ne){D(null,ne)}).catch(function(ne){D(new Error("Could not load image because of "+ne.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var fr,Lr,xr=function(){fr=[],Lr=0};xr();var Ke=function(R,D){if(fe.supported&&(R.headers||(R.headers={}),R.headers.accept="image/webp,*/*"),Lr>=te.MAX_PARALLEL_IMAGE_REQUESTS){var U={requestParameters:R,callback:D,cancelled:!1,cancel:function(){this.cancelled=!0}};return fr.push(U),U}Lr++;var ne=!1,ve=function(){if(!ne)for(ne=!0,Lr--;fr.length&&Lr<te.MAX_PARALLEL_IMAGE_REQUESTS;){var Pe=fr.shift(),Qe=Pe.requestParameters,dt=Pe.callback,Mt=Pe.cancelled;Mt||(Pe.cancel=Ke(Qe,dt).cancel)}},be=Ft(R,function(Pe,Qe,dt,Mt){ve(),Pe?D(Pe):Qe&&($t()?dr(Qe,D):cr(Qe,D,dt,Mt))});return{cancel:function(){be.cancel(),ve()}}},et=function(R,D){var U=o.document.createElement("video");U.muted=!0,U.onloadstart=function(){D(null,U)};for(var ne=0;ne<R.length;ne++){var ve=o.document.createElement("source");Jt(R[ne])||(U.crossOrigin="Anonymous"),ve.src=R[ne],U.appendChild(ve)}return{cancel:function(){}}};function er(R,D,U){var ne=U[R]&&U[R].indexOf(D)!==-1;ne||(U[R]=U[R]||[],U[R].push(D))}function tr(R,D,U){if(U&&U[R]){var ne=U[R].indexOf(D);ne!==-1&&U[R].splice(ne,1)}}var Yt=function(D,U){U===void 0&&(U={}),x(this,U),this.type=D},Pt=function(R){function D(U,ne){ne===void 0&&(ne={}),R.call(this,"error",x({error:U},ne))}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Yt),Zt=function(){};Zt.prototype.on=function(D,U){return this._listeners=this._listeners||{},er(D,U,this._listeners),this},Zt.prototype.off=function(D,U){return tr(D,U,this._listeners),tr(D,U,this._oneTimeListeners),this},Zt.prototype.once=function(D,U){return this._oneTimeListeners=this._oneTimeListeners||{},er(D,U,this._oneTimeListeners),this},Zt.prototype.fire=function(D,U){typeof D=="string"&&(D=new Yt(D,U||{}));var ne=D.type;if(this.listens(ne)){D.target=this;for(var ve=this._listeners&&this._listeners[ne]?this._listeners[ne].slice():[],be=0,Pe=ve;be<Pe.length;be+=1){var Qe=Pe[be];Qe.call(this,D)}for(var dt=this._oneTimeListeners&&this._oneTimeListeners[ne]?this._oneTimeListeners[ne].slice():[],Mt=0,Dt=dt;Mt<Dt.length;Mt+=1){var Gt=Dt[Mt];tr(ne,Gt,this._oneTimeListeners),Gt.call(this,D)}var ir=this._eventedParent;ir&&(x(D,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),ir.fire(D))}else D instanceof Pt&&console.error(D.error);return this},Zt.prototype.listens=function(D){return this._listeners&&this._listeners[D]&&this._listeners[D].length>0||this._oneTimeListeners&&this._oneTimeListeners[D]&&this._oneTimeListeners[D].length>0||this._eventedParent&&this._eventedParent.listens(D)},Zt.prototype.setEventedParent=function(D,U){return this._eventedParent=D,this._eventedParentData=U,this};var nr=8,Qt={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},Wt={"*":{type:"source"}},yr=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],Ir={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Tr={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},vn={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Or={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},En={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},nn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},gr={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},Pr=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],Xr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},kr={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},pn={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},tn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Tn={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Ln={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Hn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},pa={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},xa={type:"array",value:"*"},ia={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},ra={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},Rn={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},Cr={type:"array",value:"*",minimum:1},an={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},on=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],ln={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},On={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},gn={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Cn={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Bn={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},Qn={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ha={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ra={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ar={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},Br={"*":{type:"string"}},Mr={$version:nr,$root:Qt,sources:Wt,source:yr,source_vector:Ir,source_raster:Tr,source_raster_dem:vn,source_geojson:Or,source_video:En,source_image:nn,layer:gr,layout:Pr,layout_background:Xr,layout_fill:kr,layout_circle:pn,layout_heatmap:tn,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:Tn,layout_symbol:Ln,layout_raster:Hn,layout_hillshade:pa,filter:xa,filter_operator:ia,geometry_type:ra,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:Rn,expression:Cr,light:an,paint:on,paint_fill:ln,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:On,paint_circle:gn,paint_heatmap:Cn,paint_symbol:Bn,paint_raster:Qn,paint_hillshade:ha,paint_background:Ra,transition:Ar,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:Br},Nr=function(D,U,ne,ve){this.message=(D?D+": ":"")+ne,ve&&(this.identifier=ve),U!=null&&U.__line__&&(this.line=U.__line__)};function un(R){var D=R.key,U=R.value;return U?[new Nr(D,U,"constants have been deprecated as of v8")]:[]}function Dn(R){for(var D=[],U=arguments.length-1;U-- >0;)D[U]=arguments[U+1];for(var ne=0,ve=D;ne<ve.length;ne+=1){var be=ve[ne];for(var Pe in be)R[Pe]=be[Pe]}return R}function mn(R){return R instanceof Number||R instanceof String||R instanceof Boolean?R.valueOf():R}function cn(R){if(Array.isArray(R))return R.map(cn);if(R instanceof Object&&!(R instanceof Number||R instanceof String||R instanceof Boolean)){var D={};for(var U in R)D[U]=cn(R[U]);return D}return mn(R)}var Er=function(R){function D(U,ne){R.call(this,ne),this.message=ne,this.key=U}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Error),Yr=function(D,U){U===void 0&&(U=[]),this.parent=D,this.bindings={};for(var ne=0,ve=U;ne<ve.length;ne+=1){var be=ve[ne],Pe=be[0],Qe=be[1];this.bindings[Pe]=Qe}};Yr.prototype.concat=function(D){return new Yr(this,D)},Yr.prototype.get=function(D){if(this.bindings[D])return this.bindings[D];if(this.parent)return this.parent.get(D);throw new Error(D+" not found in scope.")},Yr.prototype.has=function(D){return this.bindings[D]?!0:this.parent?this.parent.has(D):!1};var Gr={kind:"null"},$r={kind:"number"},wn={kind:"string"},An={kind:"boolean"},Fn={kind:"color"},Nn={kind:"object"},_n={kind:"value"},Wn={kind:"error"},jn={kind:"collator"},oa={kind:"formatted"},Ca={kind:"resolvedImage"};function di(R,D){return{kind:"array",itemType:R,N:D}}function qa(R){if(R.kind==="array"){var D=qa(R.itemType);return typeof R.N=="number"?"array<"+D+", "+R.N+">":R.itemType.kind==="value"?"array":"array<"+D+">"}else return R.kind}var ho=[Gr,$r,wn,An,Fn,oa,Nn,di(_n),Ca];function Eo(R,D){if(D.kind==="error")return null;if(R.kind==="array"){if(D.kind==="array"&&(D.N===0&&D.itemType.kind==="value"||!Eo(R.itemType,D.itemType))&&(typeof R.N!="number"||R.N===D.N))return null}else{if(R.kind===D.kind)return null;if(R.kind==="value")for(var U=0,ne=ho;U<ne.length;U+=1){var ve=ne[U];if(!Eo(ve,D))return null}}return"Expected "+qa(R)+" but found "+qa(D)+" instead."}function qi(R,D){return D.some(function(U){return U.kind===R.kind})}function As(R,D){return D.some(function(U){return U==="null"?R===null:U==="array"?Array.isArray(R):U==="object"?R&&!Array.isArray(R)&&typeof R=="object":U===typeof R})}var Sl=L(function(R,D){var U={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ne(Mt){return Mt=Math.round(Mt),Mt<0?0:Mt>255?255:Mt}function ve(Mt){return Mt<0?0:Mt>1?1:Mt}function be(Mt){return Mt[Mt.length-1]==="%"?ne(parseFloat(Mt)/100*255):ne(parseInt(Mt))}function Pe(Mt){return Mt[Mt.length-1]==="%"?ve(parseFloat(Mt)/100):ve(parseFloat(Mt))}function Qe(Mt,Dt,Gt){return Gt<0?Gt+=1:Gt>1&&(Gt-=1),Gt*6<1?Mt+(Dt-Mt)*Gt*6:Gt*2<1?Dt:Gt*3<2?Mt+(Dt-Mt)*(2/3-Gt)*6:Mt}function dt(Mt){var Dt=Mt.replace(/ /g,"").toLowerCase();if(Dt in U)return U[Dt].slice();if(Dt[0]==="#"){if(Dt.length===4){var Gt=parseInt(Dt.substr(1),16);return Gt>=0&&Gt<=4095?[(Gt&3840)>>4|(Gt&3840)>>8,Gt&240|(Gt&240)>>4,Gt&15|(Gt&15)<<4,1]:null}else if(Dt.length===7){var Gt=parseInt(Dt.substr(1),16);return Gt>=0&&Gt<=16777215?[(Gt&16711680)>>16,(Gt&65280)>>8,Gt&255,1]:null}return null}var ir=Dt.indexOf("("),rr=Dt.indexOf(")");if(ir!==-1&&rr+1===Dt.length){var br=Dt.substr(0,ir),Ur=Dt.substr(ir+1,rr-(ir+1)).split(","),fn=1;switch(br){case"rgba":if(Ur.length!==4)return null;fn=Pe(Ur.pop());case"rgb":return Ur.length!==3?null:[be(Ur[0]),be(Ur[1]),be(Ur[2]),fn];case"hsla":if(Ur.length!==4)return null;fn=Pe(Ur.pop());case"hsl":if(Ur.length!==3)return null;var en=(parseFloat(Ur[0])%360+360)%360/360,Sn=Pe(Ur[1]),xn=Pe(Ur[2]),Mn=xn<=.5?xn*(Sn+1):xn+Sn-xn*Sn,zn=xn*2-Mn;return[ne(Qe(zn,Mn,en+1/3)*255),ne(Qe(zn,Mn,en)*255),ne(Qe(zn,Mn,en-1/3)*255),fn];default:return null}}return null}try{D.parseCSSColor=dt}catch{}}),tu=Sl.parseCSSColor,ei=function(D,U,ne,ve){ve===void 0&&(ve=1),this.r=D,this.g=U,this.b=ne,this.a=ve};ei.parse=function(D){if(D){if(D instanceof ei)return D;if(typeof D=="string"){var U=tu(D);if(U)return new ei(U[0]/255*U[3],U[1]/255*U[3],U[2]/255*U[3],U[3])}}},ei.prototype.toString=function(){var D=this.toArray(),U=D[0],ne=D[1],ve=D[2],be=D[3];return"rgba("+Math.round(U)+","+Math.round(ne)+","+Math.round(ve)+","+be+")"},ei.prototype.toArray=function(){var D=this,U=D.r,ne=D.g,ve=D.b,be=D.a;return be===0?[0,0,0,0]:[U*255/be,ne*255/be,ve*255/be,be]},ei.black=new ei(0,0,0,1),ei.white=new ei(1,1,1,1),ei.transparent=new ei(0,0,0,0),ei.red=new ei(1,0,0,1);var ru=function(D,U,ne){D?this.sensitivity=U?"variant":"case":this.sensitivity=U?"accent":"base",this.locale=ne,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};ru.prototype.compare=function(D,U){return this.collator.compare(D,U)},ru.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var sf=function(D,U,ne,ve,be){this.text=D,this.image=U,this.scale=ne,this.fontStack=ve,this.textColor=be},ji=function(D){this.sections=D};ji.fromString=function(D){return new ji([new sf(D,null,null,null,null)])},ji.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(D){return D.text.length!==0||D.image&&D.image.name.length!==0})},ji.factory=function(D){return D instanceof ji?D:ji.fromString(D)},ji.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(D){return D.text}).join("")},ji.prototype.serialize=function(){for(var D=["format"],U=0,ne=this.sections;U<ne.length;U+=1){var ve=ne[U];if(ve.image){D.push(["image",ve.image.name]);continue}D.push(ve.text);var be={};ve.fontStack&&(be["text-font"]=["literal",ve.fontStack.split(",")]),ve.scale&&(be["font-scale"]=ve.scale),ve.textColor&&(be["text-color"]=["rgba"].concat(ve.textColor.toArray())),D.push(be)}return D};var xo=function(D){this.name=D.name,this.available=D.available};xo.prototype.toString=function(){return this.name},xo.fromString=function(D){return D?new xo({name:D,available:!1}):null},xo.prototype.serialize=function(){return["image",this.name]};function El(R,D,U,ne){if(!(typeof R=="number"&&R>=0&&R<=255&&typeof D=="number"&&D>=0&&D<=255&&typeof U=="number"&&U>=0&&U<=255)){var ve=typeof ne=="number"?[R,D,U,ne]:[R,D,U];return"Invalid rgba value ["+ve.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof ne>"u"||typeof ne=="number"&&ne>=0&&ne<=1?null:"Invalid rgba value ["+[R,D,U,ne].join(", ")+"]: 'a' must be between 0 and 1."}function zu(R){if(R===null)return!0;if(typeof R=="string")return!0;if(typeof R=="boolean")return!0;if(typeof R=="number")return!0;if(R instanceof ei)return!0;if(R instanceof ru)return!0;if(R instanceof ji)return!0;if(R instanceof xo)return!0;if(Array.isArray(R)){for(var D=0,U=R;D<U.length;D+=1){var ne=U[D];if(!zu(ne))return!1}return!0}else if(typeof R=="object"){for(var ve in R)if(!zu(R[ve]))return!1;return!0}else return!1}function Di(R){if(R===null)return Gr;if(typeof R=="string")return wn;if(typeof R=="boolean")return An;if(typeof R=="number")return $r;if(R instanceof ei)return Fn;if(R instanceof ru)return jn;if(R instanceof ji)return oa;if(R instanceof xo)return Ca;if(Array.isArray(R)){for(var D=R.length,U,ne=0,ve=R;ne<ve.length;ne+=1){var be=ve[ne],Pe=Di(be);if(!U)U=Pe;else{if(U===Pe)continue;U=_n;break}}return di(U||_n,D)}else return Nn}function Cl(R){var D=typeof R;return R===null?"":D==="string"||D==="number"||D==="boolean"?String(R):R instanceof ei||R instanceof ji||R instanceof xo?R.toString():JSON.stringify(R)}var _i=function(D,U){this.type=D,this.value=U};_i.parse=function(D,U){if(D.length!==2)return U.error("'literal' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(!zu(D[1]))return U.error("invalid value");var ne=D[1],ve=Di(ne),be=U.expectedType;return ve.kind==="array"&&ve.N===0&&be&&be.kind==="array"&&(typeof be.N!="number"||be.N===0)&&(ve=be),new _i(ve,ne)},_i.prototype.evaluate=function(){return this.value},_i.prototype.eachChild=function(){},_i.prototype.outputDefined=function(){return!0},_i.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof ei?["rgba"].concat(this.value.toArray()):this.value instanceof ji?this.value.serialize():this.value};var Ui=function(D){this.name="ExpressionEvaluationError",this.message=D};Ui.prototype.toJSON=function(){return this.message};var Ll={string:wn,number:$r,boolean:An,object:Nn},eo=function(D,U){this.type=D,this.args=U};eo.parse=function(D,U){if(D.length<2)return U.error("Expected at least one argument.");var ne=1,ve,be=D[0];if(be==="array"){var Pe;if(D.length>2){var Qe=D[1];if(typeof Qe!="string"||!(Qe in Ll)||Qe==="object")return U.error('The item type argument of "array" must be one of string, number, boolean',1);Pe=Ll[Qe],ne++}else Pe=_n;var dt;if(D.length>3){if(D[2]!==null&&(typeof D[2]!="number"||D[2]<0||D[2]!==Math.floor(D[2])))return U.error('The length argument to "array" must be a positive integer literal',2);dt=D[2],ne++}ve=di(Pe,dt)}else ve=Ll[be];for(var Mt=[];ne<D.length;ne++){var Dt=U.parse(D[ne],ne,_n);if(!Dt)return null;Mt.push(Dt)}return new eo(ve,Mt)},eo.prototype.evaluate=function(D){for(var U=0;U<this.args.length;U++){var ne=this.args[U].evaluate(D),ve=Eo(this.type,Di(ne));if(ve){if(U===this.args.length-1)throw new Ui("Expected value to be of type "+qa(this.type)+", but found "+qa(Di(ne))+" instead.")}else return ne}return null},eo.prototype.eachChild=function(D){this.args.forEach(D)},eo.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},eo.prototype.serialize=function(){var D=this.type,U=[D.kind];if(D.kind==="array"){var ne=D.itemType;if(ne.kind==="string"||ne.kind==="number"||ne.kind==="boolean"){U.push(ne.kind);var ve=D.N;(typeof ve=="number"||this.args.length>1)&&U.push(ve)}}return U.concat(this.args.map(function(be){return be.serialize()}))};var to=function(D){this.type=oa,this.sections=D};to.parse=function(D,U){if(D.length<2)return U.error("Expected at least one argument.");var ne=D[1];if(!Array.isArray(ne)&&typeof ne=="object")return U.error("First argument must be an image or text section.");for(var ve=[],be=!1,Pe=1;Pe<=D.length-1;++Pe){var Qe=D[Pe];if(be&&typeof Qe=="object"&&!Array.isArray(Qe)){be=!1;var dt=null;if(Qe["font-scale"]&&(dt=U.parse(Qe["font-scale"],1,$r),!dt))return null;var Mt=null;if(Qe["text-font"]&&(Mt=U.parse(Qe["text-font"],1,di(wn)),!Mt))return null;var Dt=null;if(Qe["text-color"]&&(Dt=U.parse(Qe["text-color"],1,Fn),!Dt))return null;var Gt=ve[ve.length-1];Gt.scale=dt,Gt.font=Mt,Gt.textColor=Dt}else{var ir=U.parse(D[Pe],1,_n);if(!ir)return null;var rr=ir.type.kind;if(rr!=="string"&&rr!=="value"&&rr!=="null"&&rr!=="resolvedImage")return U.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");be=!0,ve.push({content:ir,scale:null,font:null,textColor:null})}}return new to(ve)},to.prototype.evaluate=function(D){var U=function(ne){var ve=ne.content.evaluate(D);return Di(ve)===Ca?new sf("",ve,null,null,null):new sf(Cl(ve),null,ne.scale?ne.scale.evaluate(D):null,ne.font?ne.font.evaluate(D).join(","):null,ne.textColor?ne.textColor.evaluate(D):null)};return new ji(this.sections.map(U))},to.prototype.eachChild=function(D){for(var U=0,ne=this.sections;U<ne.length;U+=1){var ve=ne[U];D(ve.content),ve.scale&&D(ve.scale),ve.font&&D(ve.font),ve.textColor&&D(ve.textColor)}},to.prototype.outputDefined=function(){return!1},to.prototype.serialize=function(){for(var D=["format"],U=0,ne=this.sections;U<ne.length;U+=1){var ve=ne[U];D.push(ve.content.serialize());var be={};ve.scale&&(be["font-scale"]=ve.scale.serialize()),ve.font&&(be["text-font"]=ve.font.serialize()),ve.textColor&&(be["text-color"]=ve.textColor.serialize()),D.push(be)}return D};var ko=function(D){this.type=Ca,this.input=D};ko.parse=function(D,U){if(D.length!==2)return U.error("Expected two arguments.");var ne=U.parse(D[1],1,wn);return ne?new ko(ne):U.error("No image name provided.")},ko.prototype.evaluate=function(D){var U=this.input.evaluate(D),ne=xo.fromString(U);return ne&&D.availableImages&&(ne.available=D.availableImages.indexOf(U)>-1),ne},ko.prototype.eachChild=function(D){D(this.input)},ko.prototype.outputDefined=function(){return!1},ko.prototype.serialize=function(){return["image",this.input.serialize()]};var Gf={"to-boolean":An,"to-color":Fn,"to-number":$r,"to-string":wn},Co=function(D,U){this.type=D,this.args=U};Co.parse=function(D,U){if(D.length<2)return U.error("Expected at least one argument.");var ne=D[0];if((ne==="to-boolean"||ne==="to-string")&&D.length!==2)return U.error("Expected one argument.");for(var ve=Gf[ne],be=[],Pe=1;Pe<D.length;Pe++){var Qe=U.parse(D[Pe],Pe,_n);if(!Qe)return null;be.push(Qe)}return new Co(ve,be)},Co.prototype.evaluate=function(D){if(this.type.kind==="boolean")return!!this.args[0].evaluate(D);if(this.type.kind==="color"){for(var U,ne,ve=0,be=this.args;ve<be.length;ve+=1){var Pe=be[ve];if(U=Pe.evaluate(D),ne=null,U instanceof ei)return U;if(typeof U=="string"){var Qe=D.parseColor(U);if(Qe)return Qe}else if(Array.isArray(U)&&(U.length<3||U.length>4?ne="Invalid rbga value "+JSON.stringify(U)+": expected an array containing either three or four numeric values.":ne=El(U[0],U[1],U[2],U[3]),!ne))return new ei(U[0]/255,U[1]/255,U[2]/255,U[3])}throw new Ui(ne||"Could not parse color from value '"+(typeof U=="string"?U:String(JSON.stringify(U)))+"'")}else if(this.type.kind==="number"){for(var dt=null,Mt=0,Dt=this.args;Mt<Dt.length;Mt+=1){var Gt=Dt[Mt];if(dt=Gt.evaluate(D),dt===null)return 0;var ir=Number(dt);if(!isNaN(ir))return ir}throw new Ui("Could not convert "+JSON.stringify(dt)+" to number.")}else return this.type.kind==="formatted"?ji.fromString(Cl(this.args[0].evaluate(D))):this.type.kind==="resolvedImage"?xo.fromString(Cl(this.args[0].evaluate(D))):Cl(this.args[0].evaluate(D))},Co.prototype.eachChild=function(D){this.args.forEach(D)},Co.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},Co.prototype.serialize=function(){if(this.type.kind==="formatted")return new to([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new ko(this.args[0]).serialize();var D=["to-"+this.type.kind];return this.eachChild(function(U){D.push(U.serialize())}),D};var Yc=["Unknown","Point","LineString","Polygon"],us=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};us.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},us.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?Yc[this.feature.type]:this.feature.type:null},us.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},us.prototype.canonicalID=function(){return this.canonical},us.prototype.properties=function(){return this.feature&&this.feature.properties||{}},us.prototype.parseColor=function(D){var U=this._parseColorCache[D];return U||(U=this._parseColorCache[D]=ei.parse(D)),U};var Zi=function(D,U,ne,ve){this.name=D,this.type=U,this._evaluate=ne,this.args=ve};Zi.prototype.evaluate=function(D){return this._evaluate(D,this.args)},Zi.prototype.eachChild=function(D){this.args.forEach(D)},Zi.prototype.outputDefined=function(){return!1},Zi.prototype.serialize=function(){return[this.name].concat(this.args.map(function(D){return D.serialize()}))},Zi.parse=function(D,U){var ne,ve=D[0],be=Zi.definitions[ve];if(!be)return U.error('Unknown expression "'+ve+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Pe=Array.isArray(be)?be[0]:be.type,Qe=Array.isArray(be)?[[be[1],be[2]]]:be.overloads,dt=Qe.filter(function(wa){var Sa=wa[0];return!Array.isArray(Sa)||Sa.length===D.length-1}),Mt=null,Dt=0,Gt=dt;Dt<Gt.length;Dt+=1){var ir=Gt[Dt],rr=ir[0],br=ir[1];Mt=new cs(U.registry,U.path,null,U.scope);for(var Ur=[],fn=!1,en=1;en<D.length;en++){var Sn=D[en],xn=Array.isArray(rr)?rr[en-1]:rr.type,Mn=Mt.parse(Sn,1+Ur.length,xn);if(!Mn){fn=!0;break}Ur.push(Mn)}if(!fn){if(Array.isArray(rr)&&rr.length!==Ur.length){Mt.error("Expected "+rr.length+" arguments, but found "+Ur.length+" instead.");continue}for(var zn=0;zn<Ur.length;zn++){var Yn=Array.isArray(rr)?rr[zn]:rr.type,aa=Ur[zn];Mt.concat(zn+1).checkSubtype(Yn,aa.type)}if(Mt.errors.length===0)return new Zi(ve,Pe,br,Ur)}}if(dt.length===1)(ne=U.errors).push.apply(ne,Mt.errors);else{for(var ea=dt.length?dt:Qe,ba=ea.map(function(wa){var Sa=wa[0];return lf(Sa)}).join(" | "),da=[],ma=1;ma<D.length;ma++){var Ba=U.parse(D[ma],1+da.length);if(!Ba)return null;da.push(qa(Ba.type))}U.error("Expected arguments of type "+ba+", but found ("+da.join(", ")+") instead.")}return null},Zi.register=function(D,U){Zi.definitions=U;for(var ne in U)D[ne]=Zi};function lf(R){return Array.isArray(R)?"("+R.map(qa).join(", ")+")":"("+qa(R.type)+"...)"}var Ns=function(D,U,ne){this.type=jn,this.locale=ne,this.caseSensitive=D,this.diacriticSensitive=U};Ns.parse=function(D,U){if(D.length!==2)return U.error("Expected one argument.");var ne=D[1];if(typeof ne!="object"||Array.isArray(ne))return U.error("Collator options argument must be an object.");var ve=U.parse(ne["case-sensitive"]===void 0?!1:ne["case-sensitive"],1,An);if(!ve)return null;var be=U.parse(ne["diacritic-sensitive"]===void 0?!1:ne["diacritic-sensitive"],1,An);if(!be)return null;var Pe=null;return ne.locale&&(Pe=U.parse(ne.locale,1,wn),!Pe)?null:new Ns(ve,be,Pe)},Ns.prototype.evaluate=function(D){return new ru(this.caseSensitive.evaluate(D),this.diacriticSensitive.evaluate(D),this.locale?this.locale.evaluate(D):null)},Ns.prototype.eachChild=function(D){D(this.caseSensitive),D(this.diacriticSensitive),this.locale&&D(this.locale)},Ns.prototype.outputDefined=function(){return!1},Ns.prototype.serialize=function(){var D={};return D["case-sensitive"]=this.caseSensitive.serialize(),D["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(D.locale=this.locale.serialize()),["collator",D]};var fs=8192;function uf(R,D){R[0]=Math.min(R[0],D[0]),R[1]=Math.min(R[1],D[1]),R[2]=Math.max(R[2],D[0]),R[3]=Math.max(R[3],D[1])}function Wf(R){return(180+R)/360}function Xc(R){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+R*Math.PI/360)))/360}function Fu(R,D){return!(R[0]<=D[0]||R[2]>=D[2]||R[1]<=D[1]||R[3]>=D[3])}function jc(R,D){var U=Wf(R[0]),ne=Xc(R[1]),ve=Math.pow(2,D.z);return[Math.round(U*ve*fs),Math.round(ne*ve*fs)]}function Zc(R,D,U){var ne=R[0]-D[0],ve=R[1]-D[1],be=R[0]-U[0],Pe=R[1]-U[1];return ne*Pe-be*ve===0&&ne*be<=0&&ve*Pe<=0}function Kc(R,D,U){return D[1]>R[1]!=U[1]>R[1]&&R[0]<(U[0]-D[0])*(R[1]-D[1])/(U[1]-D[1])+D[0]}function ff(R,D){for(var U=!1,ne=0,ve=D.length;ne<ve;ne++)for(var be=D[ne],Pe=0,Qe=be.length;Pe<Qe-1;Pe++){if(Zc(R,be[Pe],be[Pe+1]))return!1;Kc(R,be[Pe],be[Pe+1])&&(U=!U)}return U}function Jc(R,D){for(var U=0;U<D.length;U++)if(ff(R,D[U]))return!0;return!1}function Qc(R,D){return R[0]*D[1]-R[1]*D[0]}function Yf(R,D,U,ne){var ve=R[0]-U[0],be=R[1]-U[1],Pe=D[0]-U[0],Qe=D[1]-U[1],dt=ne[0]-U[0],Mt=ne[1]-U[1],Dt=ve*Mt-dt*be,Gt=Pe*Mt-dt*Qe;return Dt>0&&Gt<0||Dt<0&&Gt>0}function Xf(R,D,U,ne){var ve=[D[0]-R[0],D[1]-R[1]],be=[ne[0]-U[0],ne[1]-U[1]];return Qc(be,ve)===0?!1:!!(Yf(R,D,U,ne)&&Yf(U,ne,R,D))}function il(R,D,U){for(var ne=0,ve=U;ne<ve.length;ne+=1)for(var be=ve[ne],Pe=0;Pe<be.length-1;++Pe)if(Xf(R,D,be[Pe],be[Pe+1]))return!0;return!1}function Pl(R,D){for(var U=0;U<R.length;++U)if(!ff(R[U],D))return!1;for(var ne=0;ne<R.length-1;++ne)if(il(R[ne],R[ne+1],D))return!1;return!0}function nu(R,D){for(var U=0;U<D.length;U++)if(Pl(R,D[U]))return!0;return!1}function au(R,D,U){for(var ne=[],ve=0;ve<R.length;ve++){for(var be=[],Pe=0;Pe<R[ve].length;Pe++){var Qe=jc(R[ve][Pe],U);uf(D,Qe),be.push(Qe)}ne.push(be)}return ne}function jf(R,D,U){for(var ne=[],ve=0;ve<R.length;ve++){var be=au(R[ve],D,U);ne.push(be)}return ne}function Ms(R,D,U,ne){if(R[0]<U[0]||R[0]>U[2]){var ve=ne*.5,be=R[0]-U[0]>ve?-ne:U[0]-R[0]>ve?ne:0;be===0&&(be=R[0]-U[2]>ve?-ne:U[2]-R[0]>ve?ne:0),R[0]+=be}uf(D,R)}function $c(R){R[0]=R[1]=1/0,R[2]=R[3]=-1/0}function Ou(R,D,U,ne){for(var ve=Math.pow(2,ne.z)*fs,be=[ne.x*fs,ne.y*fs],Pe=[],Qe=0,dt=R;Qe<dt.length;Qe+=1)for(var Mt=dt[Qe],Dt=0,Gt=Mt;Dt<Gt.length;Dt+=1){var ir=Gt[Dt],rr=[ir.x+be[0],ir.y+be[1]];Ms(rr,D,U,ve),Pe.push(rr)}return Pe}function Zf(R,D,U,ne){for(var ve=Math.pow(2,ne.z)*fs,be=[ne.x*fs,ne.y*fs],Pe=[],Qe=0,dt=R;Qe<dt.length;Qe+=1){for(var Mt=dt[Qe],Dt=[],Gt=0,ir=Mt;Gt<ir.length;Gt+=1){var rr=ir[Gt],br=[rr.x+be[0],rr.y+be[1]];uf(D,br),Dt.push(br)}Pe.push(Dt)}if(D[2]-D[0]<=ve/2){$c(D);for(var Ur=0,fn=Pe;Ur<fn.length;Ur+=1)for(var en=fn[Ur],Sn=0,xn=en;Sn<xn.length;Sn+=1){var Mn=xn[Sn];Ms(Mn,D,U,ve)}}return Pe}function Kf(R,D){var U=[1/0,1/0,-1/0,-1/0],ne=[1/0,1/0,-1/0,-1/0],ve=R.canonicalID();if(D.type==="Polygon"){var be=au(D.coordinates,ne,ve),Pe=Ou(R.geometry(),U,ne,ve);if(!Fu(U,ne))return!1;for(var Qe=0,dt=Pe;Qe<dt.length;Qe+=1){var Mt=dt[Qe];if(!ff(Mt,be))return!1}}if(D.type==="MultiPolygon"){var Dt=jf(D.coordinates,ne,ve),Gt=Ou(R.geometry(),U,ne,ve);if(!Fu(U,ne))return!1;for(var ir=0,rr=Gt;ir<rr.length;ir+=1){var br=rr[ir];if(!Jc(br,Dt))return!1}}return!0}function Bu(R,D){var U=[1/0,1/0,-1/0,-1/0],ne=[1/0,1/0,-1/0,-1/0],ve=R.canonicalID();if(D.type==="Polygon"){var be=au(D.coordinates,ne,ve),Pe=Zf(R.geometry(),U,ne,ve);if(!Fu(U,ne))return!1;for(var Qe=0,dt=Pe;Qe<dt.length;Qe+=1){var Mt=dt[Qe];if(!Pl(Mt,be))return!1}}if(D.type==="MultiPolygon"){var Dt=jf(D.coordinates,ne,ve),Gt=Zf(R.geometry(),U,ne,ve);if(!Fu(U,ne))return!1;for(var ir=0,rr=Gt;ir<rr.length;ir+=1){var br=rr[ir];if(!nu(br,Dt))return!1}}return!0}var Yo=function(D,U){this.type=An,this.geojson=D,this.geometries=U};Yo.parse=function(D,U){if(D.length!==2)return U.error("'within' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(zu(D[1])){var ne=D[1];if(ne.type==="FeatureCollection")for(var ve=0;ve<ne.features.length;++ve){var be=ne.features[ve].geometry.type;if(be==="Polygon"||be==="MultiPolygon")return new Yo(ne,ne.features[ve].geometry)}else if(ne.type==="Feature"){var Pe=ne.geometry.type;if(Pe==="Polygon"||Pe==="MultiPolygon")return new Yo(ne,ne.geometry)}else if(ne.type==="Polygon"||ne.type==="MultiPolygon")return new Yo(ne,ne)}return U.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Yo.prototype.evaluate=function(D){if(D.geometry()!=null&&D.canonicalID()!=null){if(D.geometryType()==="Point")return Kf(D,this.geometries);if(D.geometryType()==="LineString")return Bu(D,this.geometries)}return!1},Yo.prototype.eachChild=function(){},Yo.prototype.outputDefined=function(){return!0},Yo.prototype.serialize=function(){return["within",this.geojson]};function Rl(R){if(R instanceof Zi){if(R.name==="get"&&R.args.length===1)return!1;if(R.name==="feature-state")return!1;if(R.name==="has"&&R.args.length===1)return!1;if(R.name==="properties"||R.name==="geometry-type"||R.name==="id")return!1;if(/^filter-/.test(R.name))return!1}if(R instanceof Yo)return!1;var D=!0;return R.eachChild(function(U){D&&!Rl(U)&&(D=!1)}),D}function ol(R){if(R instanceof Zi&&R.name==="feature-state")return!1;var D=!0;return R.eachChild(function(U){D&&!ol(U)&&(D=!1)}),D}function iu(R,D){if(R instanceof Zi&&D.indexOf(R.name)>=0)return!1;var U=!0;return R.eachChild(function(ne){U&&!iu(ne,D)&&(U=!1)}),U}var Us=function(D,U){this.type=U.type,this.name=D,this.boundExpression=U};Us.parse=function(D,U){if(D.length!==2||typeof D[1]!="string")return U.error("'var' expression requires exactly one string literal argument.");var ne=D[1];return U.scope.has(ne)?new Us(ne,U.scope.get(ne)):U.error('Unknown variable "'+ne+'". Make sure "'+ne+'" has been bound in an enclosing "let" expression before using it.',1)},Us.prototype.evaluate=function(D){return this.boundExpression.evaluate(D)},Us.prototype.eachChild=function(){},Us.prototype.outputDefined=function(){return!1},Us.prototype.serialize=function(){return["var",this.name]};var cs=function(D,U,ne,ve,be){U===void 0&&(U=[]),ve===void 0&&(ve=new Yr),be===void 0&&(be=[]),this.registry=D,this.path=U,this.key=U.map(function(Pe){return"["+Pe+"]"}).join(""),this.scope=ve,this.errors=be,this.expectedType=ne};cs.prototype.parse=function(D,U,ne,ve,be){return be===void 0&&(be={}),U?this.concat(U,ne,ve)._parse(D,be):this._parse(D,be)},cs.prototype._parse=function(D,U){(D===null||typeof D=="string"||typeof D=="boolean"||typeof D=="number")&&(D=["literal",D]);function ne(Dt,Gt,ir){return ir==="assert"?new eo(Gt,[Dt]):ir==="coerce"?new Co(Gt,[Dt]):Dt}if(Array.isArray(D)){if(D.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var ve=D[0];if(typeof ve!="string")return this.error("Expression name must be a string, but found "+typeof ve+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var be=this.registry[ve];if(be){var Pe=be.parse(D,this);if(!Pe)return null;if(this.expectedType){var Qe=this.expectedType,dt=Pe.type;if((Qe.kind==="string"||Qe.kind==="number"||Qe.kind==="boolean"||Qe.kind==="object"||Qe.kind==="array")&&dt.kind==="value")Pe=ne(Pe,Qe,U.typeAnnotation||"assert");else if((Qe.kind==="color"||Qe.kind==="formatted"||Qe.kind==="resolvedImage")&&(dt.kind==="value"||dt.kind==="string"))Pe=ne(Pe,Qe,U.typeAnnotation||"coerce");else if(this.checkSubtype(Qe,dt))return null}if(!(Pe instanceof _i)&&Pe.type.kind!=="resolvedImage"&&cf(Pe)){var Mt=new us;try{Pe=new _i(Pe.type,Pe.evaluate(Mt))}catch(Dt){return this.error(Dt.message),null}}return Pe}return this.error('Unknown expression "'+ve+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof D>"u"?this.error("'undefined' value invalid. Use null instead."):typeof D=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof D+" instead.")},cs.prototype.concat=function(D,U,ne){var ve=typeof D=="number"?this.path.concat(D):this.path,be=ne?this.scope.concat(ne):this.scope;return new cs(this.registry,ve,U||null,be,this.errors)},cs.prototype.error=function(D){for(var U=[],ne=arguments.length-1;ne-- >0;)U[ne]=arguments[ne+1];var ve=""+this.key+U.map(function(be){return"["+be+"]"}).join("");this.errors.push(new Er(ve,D))},cs.prototype.checkSubtype=function(D,U){var ne=Eo(D,U);return ne&&this.error(ne),ne};function cf(R){if(R instanceof Us)return cf(R.boundExpression);if(R instanceof Zi&&R.name==="error")return!1;if(R instanceof Ns)return!1;if(R instanceof Yo)return!1;var D=R instanceof Co||R instanceof eo,U=!0;return R.eachChild(function(ne){D?U=U&&cf(ne):U=U&&ne instanceof _i}),U?Rl(R)&&iu(R,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function Dl(R,D){for(var U=R.length-1,ne=0,ve=U,be=0,Pe,Qe;ne<=ve;)if(be=Math.floor((ne+ve)/2),Pe=R[be],Qe=R[be+1],Pe<=D){if(be===U||D<Qe)return be;ne=be+1}else if(Pe>D)ve=be-1;else throw new Ui("Input is not a number.");return 0}var Xo=function(D,U,ne){this.type=D,this.input=U,this.labels=[],this.outputs=[];for(var ve=0,be=ne;ve<be.length;ve+=1){var Pe=be[ve],Qe=Pe[0],dt=Pe[1];this.labels.push(Qe),this.outputs.push(dt)}};Xo.parse=function(D,U){if(D.length-1<4)return U.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!==0)return U.error("Expected an even number of arguments.");var ne=U.parse(D[1],1,$r);if(!ne)return null;var ve=[],be=null;U.expectedType&&U.expectedType.kind!=="value"&&(be=U.expectedType);for(var Pe=1;Pe<D.length;Pe+=2){var Qe=Pe===1?-1/0:D[Pe],dt=D[Pe+1],Mt=Pe,Dt=Pe+1;if(typeof Qe!="number")return U.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Mt);if(ve.length&&ve[ve.length-1][0]>=Qe)return U.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Mt);var Gt=U.parse(dt,Dt,be);if(!Gt)return null;be=be||Gt.type,ve.push([Qe,Gt])}return new Xo(be,ne,ve)},Xo.prototype.evaluate=function(D){var U=this.labels,ne=this.outputs;if(U.length===1)return ne[0].evaluate(D);var ve=this.input.evaluate(D);if(ve<=U[0])return ne[0].evaluate(D);var be=U.length;if(ve>=U[be-1])return ne[be-1].evaluate(D);var Pe=Dl(U,ve);return ne[Pe].evaluate(D)},Xo.prototype.eachChild=function(D){D(this.input);for(var U=0,ne=this.outputs;U<ne.length;U+=1){var ve=ne[U];D(ve)}},Xo.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},Xo.prototype.serialize=function(){for(var D=["step",this.input.serialize()],U=0;U<this.labels.length;U++)U>0&&D.push(this.labels[U]),D.push(this.outputs[U].serialize());return D};function Li(R,D,U){return R*(1-U)+D*U}function hf(R,D,U){return new ei(Li(R.r,D.r,U),Li(R.g,D.g,U),Li(R.b,D.b,U),Li(R.a,D.a,U))}function qc(R,D,U){return R.map(function(ne,ve){return Li(ne,D[ve],U)})}var Nu=Object.freeze({__proto__:null,number:Li,color:hf,array:qc}),Il=.95047,kl=1,Lo=1.08883,Uu=4/29,_l=6/29,Vu=3*_l*_l,eh=_l*_l*_l,Jf=Math.PI/180,vf=180/Math.PI;function df(R){return R>eh?Math.pow(R,.3333333333333333):R/Vu+Uu}function pf(R){return R>_l?R*R*R:Vu*(R-Uu)}function zl(R){return 255*(R<=.0031308?12.92*R:1.055*Math.pow(R,.4166666666666667)-.055)}function Hu(R){return R/=255,R<=.04045?R/12.92:Math.pow((R+.055)/1.055,2.4)}function ou(R){var D=Hu(R.r),U=Hu(R.g),ne=Hu(R.b),ve=df((.4124564*D+.3575761*U+.1804375*ne)/Il),be=df((.2126729*D+.7151522*U+.072175*ne)/kl),Pe=df((.0193339*D+.119192*U+.9503041*ne)/Lo);return{l:116*be-16,a:500*(ve-be),b:200*(be-Pe),alpha:R.a}}function Gu(R){var D=(R.l+16)/116,U=isNaN(R.a)?D:D+R.a/500,ne=isNaN(R.b)?D:D-R.b/200;return D=kl*pf(D),U=Il*pf(U),ne=Lo*pf(ne),new ei(zl(3.2404542*U-1.5371385*D-.4985314*ne),zl(-.969266*U+1.8760108*D+.041556*ne),zl(.0556434*U-.2040259*D+1.0572252*ne),R.alpha)}function pi(R,D,U){return{l:Li(R.l,D.l,U),a:Li(R.a,D.a,U),b:Li(R.b,D.b,U),alpha:Li(R.alpha,D.alpha,U)}}function Qf(R){var D=ou(R),U=D.l,ne=D.a,ve=D.b,be=Math.atan2(ve,ne)*vf;return{h:be<0?be+360:be,c:Math.sqrt(ne*ne+ve*ve),l:U,alpha:R.a}}function jo(R){var D=R.h*Jf,U=R.c,ne=R.l;return Gu({l:ne,a:Math.cos(D)*U,b:Math.sin(D)*U,alpha:R.alpha})}function $f(R,D,U){var ne=D-R;return R+U*(ne>180||ne<-180?ne-360*Math.round(ne/360):ne)}function gf(R,D,U){return{h:$f(R.h,D.h,U),c:Li(R.c,D.c,U),l:Li(R.l,D.l,U),alpha:Li(R.alpha,D.alpha,U)}}var sl={forward:ou,reverse:Gu,interpolate:pi},Vs={forward:Qf,reverse:jo,interpolate:gf},Wu=Object.freeze({__proto__:null,lab:sl,hcl:Vs}),Ii=function(D,U,ne,ve,be){this.type=D,this.operator=U,this.interpolation=ne,this.input=ve,this.labels=[],this.outputs=[];for(var Pe=0,Qe=be;Pe<Qe.length;Pe+=1){var dt=Qe[Pe],Mt=dt[0],Dt=dt[1];this.labels.push(Mt),this.outputs.push(Dt)}};Ii.interpolationFactor=function(D,U,ne,ve){var be=0;if(D.name==="exponential")be=su(U,D.base,ne,ve);else if(D.name==="linear")be=su(U,1,ne,ve);else if(D.name==="cubic-bezier"){var Pe=D.controlPoints,Qe=new v(Pe[0],Pe[1],Pe[2],Pe[3]);be=Qe.solve(su(U,1,ne,ve))}return be},Ii.parse=function(D,U){var ne=D[0],ve=D[1],be=D[2],Pe=D.slice(3);if(!Array.isArray(ve)||ve.length===0)return U.error("Expected an interpolation type expression.",1);if(ve[0]==="linear")ve={name:"linear"};else if(ve[0]==="exponential"){var Qe=ve[1];if(typeof Qe!="number")return U.error("Exponential interpolation requires a numeric base.",1,1);ve={name:"exponential",base:Qe}}else if(ve[0]==="cubic-bezier"){var dt=ve.slice(1);if(dt.length!==4||dt.some(function(en){return typeof en!="number"||en<0||en>1}))return U.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ve={name:"cubic-bezier",controlPoints:dt}}else return U.error("Unknown interpolation type "+String(ve[0]),1,0);if(D.length-1<4)return U.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!==0)return U.error("Expected an even number of arguments.");if(be=U.parse(be,2,$r),!be)return null;var Mt=[],Dt=null;ne==="interpolate-hcl"||ne==="interpolate-lab"?Dt=Fn:U.expectedType&&U.expectedType.kind!=="value"&&(Dt=U.expectedType);for(var Gt=0;Gt<Pe.length;Gt+=2){var ir=Pe[Gt],rr=Pe[Gt+1],br=Gt+3,Ur=Gt+4;if(typeof ir!="number")return U.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',br);if(Mt.length&&Mt[Mt.length-1][0]>=ir)return U.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',br);var fn=U.parse(rr,Ur,Dt);if(!fn)return null;Dt=Dt||fn.type,Mt.push([ir,fn])}return Dt.kind!=="number"&&Dt.kind!=="color"&&!(Dt.kind==="array"&&Dt.itemType.kind==="number"&&typeof Dt.N=="number")?U.error("Type "+qa(Dt)+" is not interpolatable."):new Ii(Dt,ne,ve,be,Mt)},Ii.prototype.evaluate=function(D){var U=this.labels,ne=this.outputs;if(U.length===1)return ne[0].evaluate(D);var ve=this.input.evaluate(D);if(ve<=U[0])return ne[0].evaluate(D);var be=U.length;if(ve>=U[be-1])return ne[be-1].evaluate(D);var Pe=Dl(U,ve),Qe=U[Pe],dt=U[Pe+1],Mt=Ii.interpolationFactor(this.interpolation,ve,Qe,dt),Dt=ne[Pe].evaluate(D),Gt=ne[Pe+1].evaluate(D);return this.operator==="interpolate"?Nu[this.type.kind.toLowerCase()](Dt,Gt,Mt):this.operator==="interpolate-hcl"?Vs.reverse(Vs.interpolate(Vs.forward(Dt),Vs.forward(Gt),Mt)):sl.reverse(sl.interpolate(sl.forward(Dt),sl.forward(Gt),Mt))},Ii.prototype.eachChild=function(D){D(this.input);for(var U=0,ne=this.outputs;U<ne.length;U+=1){var ve=ne[U];D(ve)}},Ii.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},Ii.prototype.serialize=function(){var D;this.interpolation.name==="linear"?D=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?D=["linear"]:D=["exponential",this.interpolation.base]:D=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var U=[this.operator,D,this.input.serialize()],ne=0;ne<this.labels.length;ne++)U.push(this.labels[ne],this.outputs[ne].serialize());return U};function su(R,D,U,ne){var ve=ne-U,be=R-U;return ve===0?0:D===1?be/ve:(Math.pow(D,be)-1)/(Math.pow(D,ve)-1)}var Zo=function(D,U){this.type=D,this.args=U};Zo.parse=function(D,U){if(D.length<2)return U.error("Expectected at least one argument.");var ne=null,ve=U.expectedType;ve&&ve.kind!=="value"&&(ne=ve);for(var be=[],Pe=0,Qe=D.slice(1);Pe<Qe.length;Pe+=1){var dt=Qe[Pe],Mt=U.parse(dt,1+be.length,ne,void 0,{typeAnnotation:"omit"});if(!Mt)return null;ne=ne||Mt.type,be.push(Mt)}var Dt=ve&&be.some(function(Gt){return Eo(ve,Gt.type)});return Dt?new Zo(_n,be):new Zo(ne,be)},Zo.prototype.evaluate=function(D){for(var U=null,ne=0,ve,be=0,Pe=this.args;be<Pe.length;be+=1){var Qe=Pe[be];if(ne++,U=Qe.evaluate(D),U&&U instanceof xo&&!U.available&&(ve||(ve=U.name),U=null,ne===this.args.length&&(U=ve)),U!==null)break}return U},Zo.prototype.eachChild=function(D){this.args.forEach(D)},Zo.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},Zo.prototype.serialize=function(){var D=["coalesce"];return this.eachChild(function(U){D.push(U.serialize())}),D};var Ss=function(D,U){this.type=U.type,this.bindings=[].concat(D),this.result=U};Ss.prototype.evaluate=function(D){return this.result.evaluate(D)},Ss.prototype.eachChild=function(D){for(var U=0,ne=this.bindings;U<ne.length;U+=1){var ve=ne[U];D(ve[1])}D(this.result)},Ss.parse=function(D,U){if(D.length<4)return U.error("Expected at least 3 arguments, but found "+(D.length-1)+" instead.");for(var ne=[],ve=1;ve<D.length-1;ve+=2){var be=D[ve];if(typeof be!="string")return U.error("Expected string, but found "+typeof be+" instead.",ve);if(/[^a-zA-Z0-9_]/.test(be))return U.error("Variable names must contain only alphanumeric characters or '_'.",ve);var Pe=U.parse(D[ve+1],ve+1);if(!Pe)return null;ne.push([be,Pe])}var Qe=U.parse(D[D.length-1],D.length-1,U.expectedType,ne);return Qe?new Ss(ne,Qe):null},Ss.prototype.outputDefined=function(){return this.result.outputDefined()},Ss.prototype.serialize=function(){for(var D=["let"],U=0,ne=this.bindings;U<ne.length;U+=1){var ve=ne[U],be=ve[0],Pe=ve[1];D.push(be,Pe.serialize())}return D.push(this.result.serialize()),D};var ll=function(D,U,ne){this.type=D,this.index=U,this.input=ne};ll.parse=function(D,U){if(D.length!==3)return U.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var ne=U.parse(D[1],1,$r),ve=U.parse(D[2],2,di(U.expectedType||_n));if(!ne||!ve)return null;var be=ve.type;return new ll(be.itemType,ne,ve)},ll.prototype.evaluate=function(D){var U=this.index.evaluate(D),ne=this.input.evaluate(D);if(U<0)throw new Ui("Array index out of bounds: "+U+" < 0.");if(U>=ne.length)throw new Ui("Array index out of bounds: "+U+" > "+(ne.length-1)+".");if(U!==Math.floor(U))throw new Ui("Array index must be an integer, but found "+U+" instead.");return ne[U]},ll.prototype.eachChild=function(D){D(this.index),D(this.input)},ll.prototype.outputDefined=function(){return!1},ll.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Hs=function(D,U){this.type=An,this.needle=D,this.haystack=U};Hs.parse=function(D,U){if(D.length!==3)return U.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var ne=U.parse(D[1],1,_n),ve=U.parse(D[2],2,_n);return!ne||!ve?null:qi(ne.type,[An,wn,$r,Gr,_n])?new Hs(ne,ve):U.error("Expected first argument to be of type boolean, string, number or null, but found "+qa(ne.type)+" instead")},Hs.prototype.evaluate=function(D){var U=this.needle.evaluate(D),ne=this.haystack.evaluate(D);if(!ne)return!1;if(!As(U,["boolean","string","number","null"]))throw new Ui("Expected first argument to be of type boolean, string, number or null, but found "+qa(Di(U))+" instead.");if(!As(ne,["string","array"]))throw new Ui("Expected second argument to be of type array or string, but found "+qa(Di(ne))+" instead.");return ne.indexOf(U)>=0},Hs.prototype.eachChild=function(D){D(this.needle),D(this.haystack)},Hs.prototype.outputDefined=function(){return!0},Hs.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Ko=function(D,U,ne){this.type=$r,this.needle=D,this.haystack=U,this.fromIndex=ne};Ko.parse=function(D,U){if(D.length<=2||D.length>=5)return U.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var ne=U.parse(D[1],1,_n),ve=U.parse(D[2],2,_n);if(!ne||!ve)return null;if(!qi(ne.type,[An,wn,$r,Gr,_n]))return U.error("Expected first argument to be of type boolean, string, number or null, but found "+qa(ne.type)+" instead");if(D.length===4){var be=U.parse(D[3],3,$r);return be?new Ko(ne,ve,be):null}else return new Ko(ne,ve)},Ko.prototype.evaluate=function(D){var U=this.needle.evaluate(D),ne=this.haystack.evaluate(D);if(!As(U,["boolean","string","number","null"]))throw new Ui("Expected first argument to be of type boolean, string, number or null, but found "+qa(Di(U))+" instead.");if(!As(ne,["string","array"]))throw new Ui("Expected second argument to be of type array or string, but found "+qa(Di(ne))+" instead.");if(this.fromIndex){var ve=this.fromIndex.evaluate(D);return ne.indexOf(U,ve)}return ne.indexOf(U)},Ko.prototype.eachChild=function(D){D(this.needle),D(this.haystack),this.fromIndex&&D(this.fromIndex)},Ko.prototype.outputDefined=function(){return!1},Ko.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var D=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),D]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Es=function(D,U,ne,ve,be,Pe){this.inputType=D,this.type=U,this.input=ne,this.cases=ve,this.outputs=be,this.otherwise=Pe};Es.parse=function(D,U){if(D.length<5)return U.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if(D.length%2!==1)return U.error("Expected an even number of arguments.");var ne,ve;U.expectedType&&U.expectedType.kind!=="value"&&(ve=U.expectedType);for(var be={},Pe=[],Qe=2;Qe<D.length-1;Qe+=2){var dt=D[Qe],Mt=D[Qe+1];Array.isArray(dt)||(dt=[dt]);var Dt=U.concat(Qe);if(dt.length===0)return Dt.error("Expected at least one branch label.");for(var Gt=0,ir=dt;Gt<ir.length;Gt+=1){var rr=ir[Gt];if(typeof rr!="number"&&typeof rr!="string")return Dt.error("Branch labels must be numbers or strings.");if(typeof rr=="number"&&Math.abs(rr)>Number.MAX_SAFE_INTEGER)return Dt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof rr=="number"&&Math.floor(rr)!==rr)return Dt.error("Numeric branch labels must be integer values.");if(!ne)ne=Di(rr);else if(Dt.checkSubtype(ne,Di(rr)))return null;if(typeof be[String(rr)]<"u")return Dt.error("Branch labels must be unique.");be[String(rr)]=Pe.length}var br=U.parse(Mt,Qe,ve);if(!br)return null;ve=ve||br.type,Pe.push(br)}var Ur=U.parse(D[1],1,_n);if(!Ur)return null;var fn=U.parse(D[D.length-1],D.length-1,ve);return!fn||Ur.type.kind!=="value"&&U.concat(1).checkSubtype(ne,Ur.type)?null:new Es(ne,ve,Ur,be,Pe,fn)},Es.prototype.evaluate=function(D){var U=this.input.evaluate(D),ne=Di(U)===this.inputType&&this.outputs[this.cases[U]]||this.otherwise;return ne.evaluate(D)},Es.prototype.eachChild=function(D){D(this.input),this.outputs.forEach(D),D(this.otherwise)},Es.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})&&this.otherwise.outputDefined()},Es.prototype.serialize=function(){for(var D=this,U=["match",this.input.serialize()],ne=Object.keys(this.cases).sort(),ve=[],be={},Pe=0,Qe=ne;Pe<Qe.length;Pe+=1){var dt=Qe[Pe],Mt=be[this.cases[dt]];Mt===void 0?(be[this.cases[dt]]=ve.length,ve.push([this.cases[dt],[dt]])):ve[Mt][1].push(dt)}for(var Dt=function(Ur){return D.inputType.kind==="number"?Number(Ur):Ur},Gt=0,ir=ve;Gt<ir.length;Gt+=1){var rr=ir[Gt],Mt=rr[0],br=rr[1];br.length===1?U.push(Dt(br[0])):U.push(br.map(Dt)),U.push(this.outputs[outputIndex$1].serialize())}return U.push(this.otherwise.serialize()),U};var Jo=function(D,U,ne){this.type=D,this.branches=U,this.otherwise=ne};Jo.parse=function(D,U){if(D.length<4)return U.error("Expected at least 3 arguments, but found only "+(D.length-1)+".");if(D.length%2!==0)return U.error("Expected an odd number of arguments.");var ne;U.expectedType&&U.expectedType.kind!=="value"&&(ne=U.expectedType);for(var ve=[],be=1;be<D.length-1;be+=2){var Pe=U.parse(D[be],be,An);if(!Pe)return null;var Qe=U.parse(D[be+1],be+1,ne);if(!Qe)return null;ve.push([Pe,Qe]),ne=ne||Qe.type}var dt=U.parse(D[D.length-1],D.length-1,ne);return dt?new Jo(ne,ve,dt):null},Jo.prototype.evaluate=function(D){for(var U=0,ne=this.branches;U<ne.length;U+=1){var ve=ne[U],be=ve[0],Pe=ve[1];if(be.evaluate(D))return Pe.evaluate(D)}return this.otherwise.evaluate(D)},Jo.prototype.eachChild=function(D){for(var U=0,ne=this.branches;U<ne.length;U+=1){var ve=ne[U],be=ve[0],Pe=ve[1];D(be),D(Pe)}D(this.otherwise)},Jo.prototype.outputDefined=function(){return this.branches.every(function(D){D[0];var U=D[1];return U.outputDefined()})&&this.otherwise.outputDefined()},Jo.prototype.serialize=function(){var D=["case"];return this.eachChild(function(U){D.push(U.serialize())}),D};var Bo=function(D,U,ne,ve){this.type=D,this.input=U,this.beginIndex=ne,this.endIndex=ve};Bo.parse=function(D,U){if(D.length<=2||D.length>=5)return U.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var ne=U.parse(D[1],1,_n),ve=U.parse(D[2],2,$r);if(!ne||!ve)return null;if(!qi(ne.type,[di(_n),wn,_n]))return U.error("Expected first argument to be of type array or string, but found "+qa(ne.type)+" instead");if(D.length===4){var be=U.parse(D[3],3,$r);return be?new Bo(ne.type,ne,ve,be):null}else return new Bo(ne.type,ne,ve)},Bo.prototype.evaluate=function(D){var U=this.input.evaluate(D),ne=this.beginIndex.evaluate(D);if(!As(U,["string","array"]))throw new Ui("Expected first argument to be of type array or string, but found "+qa(Di(U))+" instead.");if(this.endIndex){var ve=this.endIndex.evaluate(D);return U.slice(ne,ve)}return U.slice(ne)},Bo.prototype.eachChild=function(D){D(this.input),D(this.beginIndex),this.endIndex&&D(this.endIndex)},Bo.prototype.outputDefined=function(){return!1},Bo.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var D=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),D]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function lu(R,D){return R==="=="||R==="!="?D.kind==="boolean"||D.kind==="string"||D.kind==="number"||D.kind==="null"||D.kind==="value":D.kind==="string"||D.kind==="number"||D.kind==="value"}function th(R,D,U){return D===U}function rh(R,D,U){return D!==U}function nh(R,D,U){return D<U}function ah(R,D,U){return D>U}function yf(R,D,U){return D<=U}function qf(R,D,U){return D>=U}function Fl(R,D,U,ne){return ne.compare(D,U)===0}function Ki(R,D,U,ne){return!Fl(R,D,U,ne)}function _o(R,D,U,ne){return ne.compare(D,U)<0}function Ol(R,D,U,ne){return ne.compare(D,U)>0}function ec(R,D,U,ne){return ne.compare(D,U)<=0}function uu(R,D,U,ne){return ne.compare(D,U)>=0}function Cs(R,D,U){var ne=R!=="=="&&R!=="!=";return function(){function ve(be,Pe,Qe){this.type=An,this.lhs=be,this.rhs=Pe,this.collator=Qe,this.hasUntypedArgument=be.type.kind==="value"||Pe.type.kind==="value"}return ve.parse=function(Pe,Qe){if(Pe.length!==3&&Pe.length!==4)return Qe.error("Expected two or three arguments.");var dt=Pe[0],Mt=Qe.parse(Pe[1],1,_n);if(!Mt)return null;if(!lu(dt,Mt.type))return Qe.concat(1).error('"'+dt+`" comparisons are not supported for type '`+qa(Mt.type)+"'.");var Dt=Qe.parse(Pe[2],2,_n);if(!Dt)return null;if(!lu(dt,Dt.type))return Qe.concat(2).error('"'+dt+`" comparisons are not supported for type '`+qa(Dt.type)+"'.");if(Mt.type.kind!==Dt.type.kind&&Mt.type.kind!=="value"&&Dt.type.kind!=="value")return Qe.error("Cannot compare types '"+qa(Mt.type)+"' and '"+qa(Dt.type)+"'.");ne&&(Mt.type.kind==="value"&&Dt.type.kind!=="value"?Mt=new eo(Dt.type,[Mt]):Mt.type.kind!=="value"&&Dt.type.kind==="value"&&(Dt=new eo(Mt.type,[Dt])));var Gt=null;if(Pe.length===4){if(Mt.type.kind!=="string"&&Dt.type.kind!=="string"&&Mt.type.kind!=="value"&&Dt.type.kind!=="value")return Qe.error("Cannot use collator to compare non-string types.");if(Gt=Qe.parse(Pe[3],3,jn),!Gt)return null}return new ve(Mt,Dt,Gt)},ve.prototype.evaluate=function(Pe){var Qe=this.lhs.evaluate(Pe),dt=this.rhs.evaluate(Pe);if(ne&&this.hasUntypedArgument){var Mt=Di(Qe),Dt=Di(dt);if(Mt.kind!==Dt.kind||!(Mt.kind==="string"||Mt.kind==="number"))throw new Ui('Expected arguments for "'+R+'" to be (string, string) or (number, number), but found ('+Mt.kind+", "+Dt.kind+") instead.")}if(this.collator&&!ne&&this.hasUntypedArgument){var Gt=Di(Qe),ir=Di(dt);if(Gt.kind!=="string"||ir.kind!=="string")return D(Pe,Qe,dt)}return this.collator?U(Pe,Qe,dt,this.collator.evaluate(Pe)):D(Pe,Qe,dt)},ve.prototype.eachChild=function(Pe){Pe(this.lhs),Pe(this.rhs),this.collator&&Pe(this.collator)},ve.prototype.outputDefined=function(){return!0},ve.prototype.serialize=function(){var Pe=[R];return this.eachChild(function(Qe){Pe.push(Qe.serialize())}),Pe},ve}()}var ih=Cs("==",th,Fl),tc=Cs("!=",rh,Ki),rc=Cs("<",nh,_o),mf=Cs(">",ah,Ol),nc=Cs("<=",yf,ec),bo=Cs(">=",qf,uu),Qo=function(D,U,ne,ve,be){this.type=wn,this.number=D,this.locale=U,this.currency=ne,this.minFractionDigits=ve,this.maxFractionDigits=be};Qo.parse=function(D,U){if(D.length!==3)return U.error("Expected two arguments.");var ne=U.parse(D[1],1,$r);if(!ne)return null;var ve=D[2];if(typeof ve!="object"||Array.isArray(ve))return U.error("NumberFormat options argument must be an object.");var be=null;if(ve.locale&&(be=U.parse(ve.locale,1,wn),!be))return null;var Pe=null;if(ve.currency&&(Pe=U.parse(ve.currency,1,wn),!Pe))return null;var Qe=null;if(ve["min-fraction-digits"]&&(Qe=U.parse(ve["min-fraction-digits"],1,$r),!Qe))return null;var dt=null;return ve["max-fraction-digits"]&&(dt=U.parse(ve["max-fraction-digits"],1,$r),!dt)?null:new Qo(ne,be,Pe,Qe,dt)},Qo.prototype.evaluate=function(D){return new Intl.NumberFormat(this.locale?this.locale.evaluate(D):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(D):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(D):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(D):void 0}).format(this.number.evaluate(D))},Qo.prototype.eachChild=function(D){D(this.number),this.locale&&D(this.locale),this.currency&&D(this.currency),this.minFractionDigits&&D(this.minFractionDigits),this.maxFractionDigits&&D(this.maxFractionDigits)},Qo.prototype.outputDefined=function(){return!1},Qo.prototype.serialize=function(){var D={};return this.locale&&(D.locale=this.locale.serialize()),this.currency&&(D.currency=this.currency.serialize()),this.minFractionDigits&&(D["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(D["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),D]};var Gs=function(D){this.type=$r,this.input=D};Gs.parse=function(D,U){if(D.length!==2)return U.error("Expected 1 argument, but found "+(D.length-1)+" instead.");var ne=U.parse(D[1],1);return ne?ne.type.kind!=="array"&&ne.type.kind!=="string"&&ne.type.kind!=="value"?U.error("Expected argument of type string or array, but found "+qa(ne.type)+" instead."):new Gs(ne):null},Gs.prototype.evaluate=function(D){var U=this.input.evaluate(D);if(typeof U=="string")return U.length;if(Array.isArray(U))return U.length;throw new Ui("Expected value to be of type string or array, but found "+qa(Di(U))+" instead.")},Gs.prototype.eachChild=function(D){D(this.input)},Gs.prototype.outputDefined=function(){return!1},Gs.prototype.serialize=function(){var D=["length"];return this.eachChild(function(U){D.push(U.serialize())}),D};var Bl={"==":ih,"!=":tc,">":mf,"<":rc,">=":bo,"<=":nc,array:eo,at:ll,boolean:eo,case:Jo,coalesce:Zo,collator:Ns,format:to,image:ko,in:Hs,"index-of":Ko,interpolate:Ii,"interpolate-hcl":Ii,"interpolate-lab":Ii,length:Gs,let:Ss,literal:_i,match:Es,number:eo,"number-format":Qo,object:eo,slice:Bo,step:Xo,string:eo,"to-boolean":Co,"to-color":Co,"to-number":Co,"to-string":Co,var:Us,within:Yo};function Yu(R,D){var U=D[0],ne=D[1],ve=D[2],be=D[3];U=U.evaluate(R),ne=ne.evaluate(R),ve=ve.evaluate(R);var Pe=be?be.evaluate(R):1,Qe=El(U,ne,ve,Pe);if(Qe)throw new Ui(Qe);return new ei(U/255*Pe,ne/255*Pe,ve/255*Pe,Pe)}function ul(R,D){return R in D}function fl(R,D){var U=D[R];return typeof U>"u"?null:U}function ac(R,D,U,ne){for(;U<=ne;){var ve=U+ne>>1;if(D[ve]===R)return!0;D[ve]>R?ne=ve-1:U=ve+1}return!1}function Ls(R){return{type:R}}Zi.register(Bl,{error:[Wn,[wn],function(R,D){var U=D[0];throw new Ui(U.evaluate(R))}],typeof:[wn,[_n],function(R,D){var U=D[0];return qa(Di(U.evaluate(R)))}],"to-rgba":[di($r,4),[Fn],function(R,D){var U=D[0];return U.evaluate(R).toArray()}],rgb:[Fn,[$r,$r,$r],Yu],rgba:[Fn,[$r,$r,$r,$r],Yu],has:{type:An,overloads:[[[wn],function(R,D){var U=D[0];return ul(U.evaluate(R),R.properties())}],[[wn,Nn],function(R,D){var U=D[0],ne=D[1];return ul(U.evaluate(R),ne.evaluate(R))}]]},get:{type:_n,overloads:[[[wn],function(R,D){var U=D[0];return fl(U.evaluate(R),R.properties())}],[[wn,Nn],function(R,D){var U=D[0],ne=D[1];return fl(U.evaluate(R),ne.evaluate(R))}]]},"feature-state":[_n,[wn],function(R,D){var U=D[0];return fl(U.evaluate(R),R.featureState||{})}],properties:[Nn,[],function(R){return R.properties()}],"geometry-type":[wn,[],function(R){return R.geometryType()}],id:[_n,[],function(R){return R.id()}],zoom:[$r,[],function(R){return R.globals.zoom}],"heatmap-density":[$r,[],function(R){return R.globals.heatmapDensity||0}],"line-progress":[$r,[],function(R){return R.globals.lineProgress||0}],accumulated:[_n,[],function(R){return R.globals.accumulated===void 0?null:R.globals.accumulated}],"+":[$r,Ls($r),function(R,D){for(var U=0,ne=0,ve=D;ne<ve.length;ne+=1){var be=ve[ne];U+=be.evaluate(R)}return U}],"*":[$r,Ls($r),function(R,D){for(var U=1,ne=0,ve=D;ne<ve.length;ne+=1){var be=ve[ne];U*=be.evaluate(R)}return U}],"-":{type:$r,overloads:[[[$r,$r],function(R,D){var U=D[0],ne=D[1];return U.evaluate(R)-ne.evaluate(R)}],[[$r],function(R,D){var U=D[0];return-U.evaluate(R)}]]},"/":[$r,[$r,$r],function(R,D){var U=D[0],ne=D[1];return U.evaluate(R)/ne.evaluate(R)}],"%":[$r,[$r,$r],function(R,D){var U=D[0],ne=D[1];return U.evaluate(R)%ne.evaluate(R)}],ln2:[$r,[],function(){return Math.LN2}],pi:[$r,[],function(){return Math.PI}],e:[$r,[],function(){return Math.E}],"^":[$r,[$r,$r],function(R,D){var U=D[0],ne=D[1];return Math.pow(U.evaluate(R),ne.evaluate(R))}],sqrt:[$r,[$r],function(R,D){var U=D[0];return Math.sqrt(U.evaluate(R))}],log10:[$r,[$r],function(R,D){var U=D[0];return Math.log(U.evaluate(R))/Math.LN10}],ln:[$r,[$r],function(R,D){var U=D[0];return Math.log(U.evaluate(R))}],log2:[$r,[$r],function(R,D){var U=D[0];return Math.log(U.evaluate(R))/Math.LN2}],sin:[$r,[$r],function(R,D){var U=D[0];return Math.sin(U.evaluate(R))}],cos:[$r,[$r],function(R,D){var U=D[0];return Math.cos(U.evaluate(R))}],tan:[$r,[$r],function(R,D){var U=D[0];return Math.tan(U.evaluate(R))}],asin:[$r,[$r],function(R,D){var U=D[0];return Math.asin(U.evaluate(R))}],acos:[$r,[$r],function(R,D){var U=D[0];return Math.acos(U.evaluate(R))}],atan:[$r,[$r],function(R,D){var U=D[0];return Math.atan(U.evaluate(R))}],min:[$r,Ls($r),function(R,D){return Math.min.apply(Math,D.map(function(U){return U.evaluate(R)}))}],max:[$r,Ls($r),function(R,D){return Math.max.apply(Math,D.map(function(U){return U.evaluate(R)}))}],abs:[$r,[$r],function(R,D){var U=D[0];return Math.abs(U.evaluate(R))}],round:[$r,[$r],function(R,D){var U=D[0],ne=U.evaluate(R);return ne<0?-Math.round(-ne):Math.round(ne)}],floor:[$r,[$r],function(R,D){var U=D[0];return Math.floor(U.evaluate(R))}],ceil:[$r,[$r],function(R,D){var U=D[0];return Math.ceil(U.evaluate(R))}],"filter-==":[An,[wn,_n],function(R,D){var U=D[0],ne=D[1];return R.properties()[U.value]===ne.value}],"filter-id-==":[An,[_n],function(R,D){var U=D[0];return R.id()===U.value}],"filter-type-==":[An,[wn],function(R,D){var U=D[0];return R.geometryType()===U.value}],"filter-<":[An,[wn,_n],function(R,D){var U=D[0],ne=D[1],ve=R.properties()[U.value],be=ne.value;return typeof ve==typeof be&&ve<be}],"filter-id-<":[An,[_n],function(R,D){var U=D[0],ne=R.id(),ve=U.value;return typeof ne==typeof ve&&ne<ve}],"filter->":[An,[wn,_n],function(R,D){var U=D[0],ne=D[1],ve=R.properties()[U.value],be=ne.value;return typeof ve==typeof be&&ve>be}],"filter-id->":[An,[_n],function(R,D){var U=D[0],ne=R.id(),ve=U.value;return typeof ne==typeof ve&&ne>ve}],"filter-<=":[An,[wn,_n],function(R,D){var U=D[0],ne=D[1],ve=R.properties()[U.value],be=ne.value;return typeof ve==typeof be&&ve<=be}],"filter-id-<=":[An,[_n],function(R,D){var U=D[0],ne=R.id(),ve=U.value;return typeof ne==typeof ve&&ne<=ve}],"filter->=":[An,[wn,_n],function(R,D){var U=D[0],ne=D[1],ve=R.properties()[U.value],be=ne.value;return typeof ve==typeof be&&ve>=be}],"filter-id->=":[An,[_n],function(R,D){var U=D[0],ne=R.id(),ve=U.value;return typeof ne==typeof ve&&ne>=ve}],"filter-has":[An,[_n],function(R,D){var U=D[0];return U.value in R.properties()}],"filter-has-id":[An,[],function(R){return R.id()!==null&&R.id()!==void 0}],"filter-type-in":[An,[di(wn)],function(R,D){var U=D[0];return U.value.indexOf(R.geometryType())>=0}],"filter-id-in":[An,[di(_n)],function(R,D){var U=D[0];return U.value.indexOf(R.id())>=0}],"filter-in-small":[An,[wn,di(_n)],function(R,D){var U=D[0],ne=D[1];return ne.value.indexOf(R.properties()[U.value])>=0}],"filter-in-large":[An,[wn,di(_n)],function(R,D){var U=D[0],ne=D[1];return ac(R.properties()[U.value],ne.value,0,ne.value.length-1)}],all:{type:An,overloads:[[[An,An],function(R,D){var U=D[0],ne=D[1];return U.evaluate(R)&&ne.evaluate(R)}],[Ls(An),function(R,D){for(var U=0,ne=D;U<ne.length;U+=1){var ve=ne[U];if(!ve.evaluate(R))return!1}return!0}]]},any:{type:An,overloads:[[[An,An],function(R,D){var U=D[0],ne=D[1];return U.evaluate(R)||ne.evaluate(R)}],[Ls(An),function(R,D){for(var U=0,ne=D;U<ne.length;U+=1){var ve=ne[U];if(ve.evaluate(R))return!0}return!1}]]},"!":[An,[An],function(R,D){var U=D[0];return!U.evaluate(R)}],"is-supported-script":[An,[wn],function(R,D){var U=D[0],ne=R.globals&&R.globals.isSupportedScript;return ne?ne(U.evaluate(R)):!0}],upcase:[wn,[wn],function(R,D){var U=D[0];return U.evaluate(R).toUpperCase()}],downcase:[wn,[wn],function(R,D){var U=D[0];return U.evaluate(R).toLowerCase()}],concat:[wn,Ls(_n),function(R,D){return D.map(function(U){return Cl(U.evaluate(R))}).join("")}],"resolved-locale":[wn,[jn],function(R,D){var U=D[0];return U.evaluate(R).resolvedLocale()}]});function Nl(R){return{result:"success",value:R}}function Ws(R){return{result:"error",value:R}}function Ps(R){return R["property-type"]==="data-driven"||R["property-type"]==="cross-faded-data-driven"}function fu(R){return!!R.expression&&R.expression.parameters.indexOf("zoom")>-1}function Ul(R){return!!R.expression&&R.expression.interpolated}function ci(R){return R instanceof Number?"number":R instanceof String?"string":R instanceof Boolean?"boolean":Array.isArray(R)?"array":R===null?"null":typeof R}function Vl(R){return typeof R=="object"&&R!==null&&!Array.isArray(R)}function Xu(R){return R}function ic(R,D){var U=D.type==="color",ne=R.stops&&typeof R.stops[0][0]=="object",ve=ne||R.property!==void 0,be=ne||!ve,Pe=R.type||(Ul(D)?"exponential":"interval");if(U&&(R=Dn({},R),R.stops&&(R.stops=R.stops.map(function(ea){return[ea[0],ei.parse(ea[1])]})),R.default?R.default=ei.parse(R.default):R.default=ei.parse(D.default)),R.colorSpace&&R.colorSpace!=="rgb"&&!Wu[R.colorSpace])throw new Error("Unknown color space: "+R.colorSpace);var Qe,dt,Mt;if(Pe==="exponential")Qe=xf;else if(Pe==="interval")Qe=ju;else if(Pe==="categorical"){Qe=cu,dt=Object.create(null);for(var Dt=0,Gt=R.stops;Dt<Gt.length;Dt+=1){var ir=Gt[Dt];dt[ir[0]]=ir[1]}Mt=typeof R.stops[0][0]}else if(Pe==="identity")Qe=hu;else throw new Error('Unknown function type "'+Pe+'"');if(ne){for(var rr={},br=[],Ur=0;Ur<R.stops.length;Ur++){var fn=R.stops[Ur],en=fn[0].zoom;rr[en]===void 0&&(rr[en]={zoom:en,type:R.type,property:R.property,default:R.default,stops:[]},br.push(en)),rr[en].stops.push([fn[0].value,fn[1]])}for(var Sn=[],xn=0,Mn=br;xn<Mn.length;xn+=1){var zn=Mn[xn];Sn.push([rr[zn].zoom,ic(rr[zn],D)])}var Yn={name:"linear"};return{kind:"composite",interpolationType:Yn,interpolationFactor:Ii.interpolationFactor.bind(void 0,Yn),zoomStops:Sn.map(function(ea){return ea[0]}),evaluate:function(ba,da){var ma=ba.zoom;return xf({stops:Sn,base:R.base},D,ma).evaluate(ma,da)}}}else if(be){var aa=Pe==="exponential"?{name:"exponential",base:R.base!==void 0?R.base:1}:null;return{kind:"camera",interpolationType:aa,interpolationFactor:Ii.interpolationFactor.bind(void 0,aa),zoomStops:R.stops.map(function(ea){return ea[0]}),evaluate:function(ea){var ba=ea.zoom;return Qe(R,D,ba,dt,Mt)}}}else return{kind:"source",evaluate:function(ba,da){var ma=da&&da.properties?da.properties[R.property]:void 0;return ma===void 0?Hl(R.default,D.default):Qe(R,D,ma,dt,Mt)}}}function Hl(R,D,U){if(R!==void 0)return R;if(D!==void 0)return D;if(U!==void 0)return U}function cu(R,D,U,ne,ve){var be=typeof U===ve?ne[U]:void 0;return Hl(be,R.default,D.default)}function ju(R,D,U){if(ci(U)!=="number")return Hl(R.default,D.default);var ne=R.stops.length;if(ne===1||U<=R.stops[0][0])return R.stops[0][1];if(U>=R.stops[ne-1][0])return R.stops[ne-1][1];var ve=Dl(R.stops.map(function(be){return be[0]}),U);return R.stops[ve][1]}function xf(R,D,U){var ne=R.base!==void 0?R.base:1;if(ci(U)!=="number")return Hl(R.default,D.default);var ve=R.stops.length;if(ve===1||U<=R.stops[0][0])return R.stops[0][1];if(U>=R.stops[ve-1][0])return R.stops[ve-1][1];var be=Dl(R.stops.map(function(Gt){return Gt[0]}),U),Pe=vu(U,ne,R.stops[be][0],R.stops[be+1][0]),Qe=R.stops[be][1],dt=R.stops[be+1][1],Mt=Nu[D.type]||Xu;if(R.colorSpace&&R.colorSpace!=="rgb"){var Dt=Wu[R.colorSpace];Mt=function(Gt,ir){return Dt.reverse(Dt.interpolate(Dt.forward(Gt),Dt.forward(ir),Pe))}}return typeof Qe.evaluate=="function"?{evaluate:function(){for(var ir=[],rr=arguments.length;rr--;)ir[rr]=arguments[rr];var br=Qe.evaluate.apply(void 0,ir),Ur=dt.evaluate.apply(void 0,ir);if(!(br===void 0||Ur===void 0))return Mt(br,Ur,Pe)}}:Mt(Qe,dt,Pe)}function hu(R,D,U){return D.type==="color"?U=ei.parse(U):D.type==="formatted"?U=ji.fromString(U.toString()):D.type==="resolvedImage"?U=xo.fromString(U.toString()):ci(U)!==D.type&&(D.type!=="enum"||!D.values[U])&&(U=void 0),Hl(U,R.default,D.default)}function vu(R,D,U,ne){var ve=ne-U,be=R-U;return ve===0?0:D===1?be/ve:(Math.pow(D,be)-1)/(Math.pow(D,ve)-1)}var Ys=function(D,U){this.expression=D,this._warningHistory={},this._evaluator=new us,this._defaultValue=U?oc(U):null,this._enumValues=U&&U.type==="enum"?U.values:null};Ys.prototype.evaluateWithoutErrorHandling=function(D,U,ne,ve,be,Pe){return this._evaluator.globals=D,this._evaluator.feature=U,this._evaluator.featureState=ne,this._evaluator.canonical=ve,this._evaluator.availableImages=be||null,this._evaluator.formattedSection=Pe,this.expression.evaluate(this._evaluator)},Ys.prototype.evaluate=function(D,U,ne,ve,be,Pe){this._evaluator.globals=D,this._evaluator.feature=U||null,this._evaluator.featureState=ne||null,this._evaluator.canonical=ve,this._evaluator.availableImages=be||null,this._evaluator.formattedSection=Pe||null;try{var Qe=this.expression.evaluate(this._evaluator);if(Qe==null||typeof Qe=="number"&&Qe!==Qe)return this._defaultValue;if(this._enumValues&&!(Qe in this._enumValues))throw new Ui("Expected value to be one of "+Object.keys(this._enumValues).map(function(dt){return JSON.stringify(dt)}).join(", ")+", but found "+JSON.stringify(Qe)+" instead.");return Qe}catch(dt){return this._warningHistory[dt.message]||(this._warningHistory[dt.message]=!0,typeof console<"u"&&console.warn(dt.message)),this._defaultValue}};function du(R){return Array.isArray(R)&&R.length>0&&typeof R[0]=="string"&&R[0]in Bl}function Xs(R,D){var U=new cs(Bl,[],D?oh(D):void 0),ne=U.parse(R,void 0,void 0,void 0,D&&D.type==="string"?{typeAnnotation:"coerce"}:void 0);return ne?Nl(new Ys(ne,D)):Ws(U.errors)}var Vi=function(D,U){this.kind=D,this._styleExpression=U,this.isStateDependent=D!=="constant"&&!ol(U.expression)};Vi.prototype.evaluateWithoutErrorHandling=function(D,U,ne,ve,be,Pe){return this._styleExpression.evaluateWithoutErrorHandling(D,U,ne,ve,be,Pe)},Vi.prototype.evaluate=function(D,U,ne,ve,be,Pe){return this._styleExpression.evaluate(D,U,ne,ve,be,Pe)};var hs=function(D,U,ne,ve){this.kind=D,this.zoomStops=ne,this._styleExpression=U,this.isStateDependent=D!=="camera"&&!ol(U.expression),this.interpolationType=ve};hs.prototype.evaluateWithoutErrorHandling=function(D,U,ne,ve,be,Pe){return this._styleExpression.evaluateWithoutErrorHandling(D,U,ne,ve,be,Pe)},hs.prototype.evaluate=function(D,U,ne,ve,be,Pe){return this._styleExpression.evaluate(D,U,ne,ve,be,Pe)},hs.prototype.interpolationFactor=function(D,U,ne){return this.interpolationType?Ii.interpolationFactor(this.interpolationType,D,U,ne):0};function bf(R,D){if(R=Xs(R,D),R.result==="error")return R;var U=R.value.expression,ne=Rl(U);if(!ne&&!Ps(D))return Ws([new Er("","data expressions not supported")]);var ve=iu(U,["zoom"]);if(!ve&&!fu(D))return Ws([new Er("","zoom expressions not supported")]);var be=pu(U);if(!be&&!ve)return Ws([new Er("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(be instanceof Er)return Ws([be]);if(be instanceof Ii&&!Ul(D))return Ws([new Er("",'"interpolate" expressions cannot be used with this property')]);if(!be)return Nl(ne?new Vi("constant",R.value):new Vi("source",R.value));var Pe=be instanceof Ii?be.interpolation:void 0;return Nl(ne?new hs("camera",R.value,be.labels,Pe):new hs("composite",R.value,be.labels,Pe))}var cl=function(D,U){this._parameters=D,this._specification=U,Dn(this,ic(this._parameters,this._specification))};cl.deserialize=function(D){return new cl(D._parameters,D._specification)},cl.serialize=function(D){return{_parameters:D._parameters,_specification:D._specification}};function Zu(R,D){if(Vl(R))return new cl(R,D);if(du(R)){var U=bf(R,D);if(U.result==="error")throw new Error(U.value.map(function(ve){return ve.key+": "+ve.message}).join(", "));return U.value}else{var ne=R;return typeof R=="string"&&D.type==="color"&&(ne=ei.parse(R)),{kind:"constant",evaluate:function(){return ne}}}}function pu(R){var D=null;if(R instanceof Ss)D=pu(R.result);else if(R instanceof Zo)for(var U=0,ne=R.args;U<ne.length;U+=1){var ve=ne[U];if(D=pu(ve),D)break}else(R instanceof Xo||R instanceof Ii)&&R.input instanceof Zi&&R.input.name==="zoom"&&(D=R);return D instanceof Er||R.eachChild(function(be){var Pe=pu(be);Pe instanceof Er?D=Pe:!D&&Pe?D=new Er("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):D&&Pe&&D!==Pe&&(D=new Er("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),D}function oh(R){var D={color:Fn,string:wn,number:$r,enum:wn,boolean:An,formatted:oa,resolvedImage:Ca};return R.type==="array"?di(D[R.value]||_n,R.length):D[R.type]}function oc(R){return R.type==="color"&&Vl(R.default)?new ei(0,0,0,0):R.type==="color"?ei.parse(R.default)||null:R.default===void 0?null:R.default}function vo(R){var D=R.key,U=R.value,ne=R.valueSpec||{},ve=R.objectElementValidators||{},be=R.style,Pe=R.styleSpec,Qe=[],dt=ci(U);if(dt!=="object")return[new Nr(D,U,"object expected, "+dt+" found")];for(var Mt in U){var Dt=Mt.split(".")[0],Gt=ne[Dt]||ne["*"],ir=void 0;if(ve[Dt])ir=ve[Dt];else if(ne[Dt])ir=zr;else if(ve["*"])ir=ve["*"];else if(ne["*"])ir=zr;else{Qe.push(new Nr(D,U[Mt],'unknown property "'+Mt+'"'));continue}Qe=Qe.concat(ir({key:(D&&D+".")+Mt,value:U[Mt],valueSpec:Gt,style:be,styleSpec:Pe,object:U,objectKey:Mt},U))}for(var rr in ne)ve[rr]||ne[rr].required&&ne[rr].default===void 0&&U[rr]===void 0&&Qe.push(new Nr(D,U,'missing required property "'+rr+'"'));return Qe}function gu(R){var D=R.value,U=R.valueSpec,ne=R.style,ve=R.styleSpec,be=R.key,Pe=R.arrayElementValidator||zr;if(ci(D)!=="array")return[new Nr(be,D,"array expected, "+ci(D)+" found")];if(U.length&&D.length!==U.length)return[new Nr(be,D,"array length "+U.length+" expected, length "+D.length+" found")];if(U["min-length"]&&D.length<U["min-length"])return[new Nr(be,D,"array length at least "+U["min-length"]+" expected, length "+D.length+" found")];var Qe={type:U.value,values:U.values};ve.$version<7&&(Qe.function=U.function),ci(U.value)==="object"&&(Qe=U.value);for(var dt=[],Mt=0;Mt<D.length;Mt++)dt=dt.concat(Pe({array:D,arrayIndex:Mt,value:D[Mt],valueSpec:Qe,style:ne,styleSpec:ve,key:be+"["+Mt+"]"}));return dt}function Gl(R){var D=R.key,U=R.value,ne=R.valueSpec,ve=ci(U);return ve==="number"&&U!==U&&(ve="NaN"),ve!=="number"?[new Nr(D,U,"number expected, "+ve+" found")]:"minimum"in ne&&U<ne.minimum?[new Nr(D,U,U+" is less than the minimum value "+ne.minimum)]:"maximum"in ne&&U>ne.maximum?[new Nr(D,U,U+" is greater than the maximum value "+ne.maximum)]:[]}function sc(R){var D=R.valueSpec,U=mn(R.value.type),ne,ve={},be,Pe,Qe=U!=="categorical"&&R.value.property===void 0,dt=!Qe,Mt=ci(R.value.stops)==="array"&&ci(R.value.stops[0])==="array"&&ci(R.value.stops[0][0])==="object",Dt=vo({key:R.key,value:R.value,valueSpec:R.styleSpec.function,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{stops:Gt,default:br}});return U==="identity"&&Qe&&Dt.push(new Nr(R.key,R.value,'missing required property "property"')),U!=="identity"&&!R.value.stops&&Dt.push(new Nr(R.key,R.value,'missing required property "stops"')),U==="exponential"&&R.valueSpec.expression&&!Ul(R.valueSpec)&&Dt.push(new Nr(R.key,R.value,"exponential functions not supported")),R.styleSpec.$version>=8&&(dt&&!Ps(R.valueSpec)?Dt.push(new Nr(R.key,R.value,"property functions not supported")):Qe&&!fu(R.valueSpec)&&Dt.push(new Nr(R.key,R.value,"zoom functions not supported"))),(U==="categorical"||Mt)&&R.value.property===void 0&&Dt.push(new Nr(R.key,R.value,'"property" property is required')),Dt;function Gt(Ur){if(U==="identity")return[new Nr(Ur.key,Ur.value,'identity function may not have a "stops" property')];var fn=[],en=Ur.value;return fn=fn.concat(gu({key:Ur.key,value:en,valueSpec:Ur.valueSpec,style:Ur.style,styleSpec:Ur.styleSpec,arrayElementValidator:ir})),ci(en)==="array"&&en.length===0&&fn.push(new Nr(Ur.key,en,"array must have at least one stop")),fn}function ir(Ur){var fn=[],en=Ur.value,Sn=Ur.key;if(ci(en)!=="array")return[new Nr(Sn,en,"array expected, "+ci(en)+" found")];if(en.length!==2)return[new Nr(Sn,en,"array length 2 expected, length "+en.length+" found")];if(Mt){if(ci(en[0])!=="object")return[new Nr(Sn,en,"object expected, "+ci(en[0])+" found")];if(en[0].zoom===void 0)return[new Nr(Sn,en,"object stop key must have zoom")];if(en[0].value===void 0)return[new Nr(Sn,en,"object stop key must have value")];if(Pe&&Pe>mn(en[0].zoom))return[new Nr(Sn,en[0].zoom,"stop zoom values must appear in ascending order")];mn(en[0].zoom)!==Pe&&(Pe=mn(en[0].zoom),be=void 0,ve={}),fn=fn.concat(vo({key:Sn+"[0]",value:en[0],valueSpec:{zoom:{}},style:Ur.style,styleSpec:Ur.styleSpec,objectElementValidators:{zoom:Gl,value:rr}}))}else fn=fn.concat(rr({key:Sn+"[0]",value:en[0],valueSpec:{},style:Ur.style,styleSpec:Ur.styleSpec},en));return du(cn(en[1]))?fn.concat([new Nr(Sn+"[1]",en[1],"expressions are not allowed in function stops.")]):fn.concat(zr({key:Sn+"[1]",value:en[1],valueSpec:D,style:Ur.style,styleSpec:Ur.styleSpec}))}function rr(Ur,fn){var en=ci(Ur.value),Sn=mn(Ur.value),xn=Ur.value!==null?Ur.value:fn;if(!ne)ne=en;else if(en!==ne)return[new Nr(Ur.key,xn,en+" stop domain type must match previous stop domain type "+ne)];if(en!=="number"&&en!=="string"&&en!=="boolean")return[new Nr(Ur.key,xn,"stop domain value must be a number, string, or boolean")];if(en!=="number"&&U!=="categorical"){var Mn="number expected, "+en+" found";return Ps(D)&&U===void 0&&(Mn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Nr(Ur.key,xn,Mn)]}return U==="categorical"&&en==="number"&&(!isFinite(Sn)||Math.floor(Sn)!==Sn)?[new Nr(Ur.key,xn,"integer expected, found "+Sn)]:U!=="categorical"&&en==="number"&&be!==void 0&&Sn<be?[new Nr(Ur.key,xn,"stop domain values must appear in ascending order")]:(be=Sn,U==="categorical"&&Sn in ve?[new Nr(Ur.key,xn,"stop domain values must be unique")]:(ve[Sn]=!0,[]))}function br(Ur){return zr({key:Ur.key,value:Ur.value,valueSpec:D,style:Ur.style,styleSpec:Ur.styleSpec})}}function js(R){var D=(R.expressionContext==="property"?bf:Xs)(cn(R.value),R.valueSpec);if(D.result==="error")return D.value.map(function(ne){return new Nr(""+R.key+ne.key,R.value,ne.message)});var U=D.value.expression||D.value._styleExpression.expression;if(R.expressionContext==="property"&&R.propertyKey==="text-font"&&!U.outputDefined())return[new Nr(R.key,R.value,'Invalid data expression for "'+R.propertyKey+'". Output values must be contained as literals within the expression.')];if(R.expressionContext==="property"&&R.propertyType==="layout"&&!ol(U))return[new Nr(R.key,R.value,'"feature-state" data expressions are not supported with layout properties.')];if(R.expressionContext==="filter"&&!ol(U))return[new Nr(R.key,R.value,'"feature-state" data expressions are not supported with filters.')];if(R.expressionContext&&R.expressionContext.indexOf("cluster")===0){if(!iu(U,["zoom","feature-state"]))return[new Nr(R.key,R.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(R.expressionContext==="cluster-initial"&&!Rl(U))return[new Nr(R.key,R.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function sh(R){var D=R.value,U=R.key,ne=ci(D);return ne!=="boolean"?[new Nr(U,D,"boolean expected, "+ne+" found")]:[]}function Po(R){var D=R.key,U=R.value,ne=ci(U);return ne!=="string"?[new Nr(D,U,"color expected, "+ne+" found")]:tu(U)===null?[new Nr(D,U,'color expected, "'+U+'" found')]:[]}function yu(R){var D=R.key,U=R.value,ne=R.valueSpec,ve=[];return Array.isArray(ne.values)?ne.values.indexOf(mn(U))===-1&&ve.push(new Nr(D,U,"expected one of ["+ne.values.join(", ")+"], "+JSON.stringify(U)+" found")):Object.keys(ne.values).indexOf(mn(U))===-1&&ve.push(new Nr(D,U,"expected one of ["+Object.keys(ne.values).join(", ")+"], "+JSON.stringify(U)+" found")),ve}function Ku(R){if(R===!0||R===!1)return!0;if(!Array.isArray(R)||R.length===0)return!1;switch(R[0]){case"has":return R.length>=2&&R[1]!=="$id"&&R[1]!=="$type";case"in":return R.length>=3&&(typeof R[1]!="string"||Array.isArray(R[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return R.length!==3||Array.isArray(R[1])||Array.isArray(R[2]);case"any":case"all":for(var D=0,U=R.slice(1);D<U.length;D+=1){var ne=U[D];if(!Ku(ne)&&typeof ne!="boolean")return!1}return!0;default:return!0}}var Rs={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Zs(R){if(R==null)return{filter:function(){return!0},needGeometry:!1};Ku(R)||(R=xu(R));var D=Xs(R,Rs);if(D.result==="error")throw new Error(D.value.map(function(ne){return ne.key+": "+ne.message}).join(", "));var U=mu(R);return{filter:function(ne,ve,be){return D.value.evaluate(ne,ve,{},be)},needGeometry:U}}function wf(R,D){return R<D?-1:R>D?1:0}function mu(R){if(!Array.isArray(R))return!1;if(R[0]==="within")return!0;for(var D=1;D<R.length;D++)if(mu(R[D]))return!0;return!1}function xu(R){if(!R)return!0;var D=R[0];if(R.length<=1)return D!=="any";var U=D==="=="?Ju(R[1],R[2],"=="):D==="!="?hl(Ju(R[1],R[2],"==")):D==="<"||D===">"||D==="<="||D===">="?Ju(R[1],R[2],D):D==="any"?lc(R.slice(1)):D==="all"?["all"].concat(R.slice(1).map(xu)):D==="none"?["all"].concat(R.slice(1).map(xu).map(hl)):D==="in"?bu(R[1],R.slice(2)):D==="!in"?hl(bu(R[1],R.slice(2))):D==="has"?Tf(R[1]):D==="!has"?hl(Tf(R[1])):D==="within"?R:!0;return U}function Ju(R,D,U){switch(R){case"$type":return["filter-type-"+U,D];case"$id":return["filter-id-"+U,D];default:return["filter-"+U,R,D]}}function lc(R){return["any"].concat(R.map(xu))}function bu(R,D){if(D.length===0)return!1;switch(R){case"$type":return["filter-type-in",["literal",D]];case"$id":return["filter-id-in",["literal",D]];default:return D.length>200&&!D.some(function(U){return typeof U!=typeof D[0]})?["filter-in-large",R,["literal",D.sort(wf)]]:["filter-in-small",R,["literal",D]]}}function Tf(R){switch(R){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",R]}}function hl(R){return["!",R]}function Af(R){return Ku(cn(R.value))?js(Dn({},R,{expressionContext:"filter",valueSpec:{value:"boolean"}})):wu(R)}function wu(R){var D=R.value,U=R.key;if(ci(D)!=="array")return[new Nr(U,D,"array expected, "+ci(D)+" found")];var ne=R.styleSpec,ve,be=[];if(D.length<1)return[new Nr(U,D,"filter array must have at least 1 element")];switch(be=be.concat(yu({key:U+"[0]",value:D[0],valueSpec:ne.filter_operator,style:R.style,styleSpec:R.styleSpec})),mn(D[0])){case"<":case"<=":case">":case">=":D.length>=2&&mn(D[1])==="$type"&&be.push(new Nr(U,D,'"$type" cannot be use with operator "'+D[0]+'"'));case"==":case"!=":D.length!==3&&be.push(new Nr(U,D,'filter array for operator "'+D[0]+'" must have 3 elements'));case"in":case"!in":D.length>=2&&(ve=ci(D[1]),ve!=="string"&&be.push(new Nr(U+"[1]",D[1],"string expected, "+ve+" found")));for(var Pe=2;Pe<D.length;Pe++)ve=ci(D[Pe]),mn(D[1])==="$type"?be=be.concat(yu({key:U+"["+Pe+"]",value:D[Pe],valueSpec:ne.geometry_type,style:R.style,styleSpec:R.styleSpec})):ve!=="string"&&ve!=="number"&&ve!=="boolean"&&be.push(new Nr(U+"["+Pe+"]",D[Pe],"string, number, or boolean expected, "+ve+" found"));break;case"any":case"all":case"none":for(var Qe=1;Qe<D.length;Qe++)be=be.concat(wu({key:U+"["+Qe+"]",value:D[Qe],style:R.style,styleSpec:R.styleSpec}));break;case"has":case"!has":ve=ci(D[1]),D.length!==2?be.push(new Nr(U,D,'filter array for "'+D[0]+'" operator must have 2 elements')):ve!=="string"&&be.push(new Nr(U+"[1]",D[1],"string expected, "+ve+" found"));break;case"within":ve=ci(D[1]),D.length!==2?be.push(new Nr(U,D,'filter array for "'+D[0]+'" operator must have 2 elements')):ve!=="object"&&be.push(new Nr(U+"[1]",D[1],"object expected, "+ve+" found"));break}return be}function uc(R,D){var U=R.key,ne=R.style,ve=R.styleSpec,be=R.value,Pe=R.objectKey,Qe=ve[D+"_"+R.layerType];if(!Qe)return[];var dt=Pe.match(/^(.*)-transition$/);if(D==="paint"&&dt&&Qe[dt[1]]&&Qe[dt[1]].transition)return zr({key:U,value:be,valueSpec:ve.transition,style:ne,styleSpec:ve});var Mt=R.valueSpec||Qe[Pe];if(!Mt)return[new Nr(U,be,'unknown property "'+Pe+'"')];var Dt;if(ci(be)==="string"&&Ps(Mt)&&!Mt.tokens&&(Dt=/^{([^}]+)}$/.exec(be)))return[new Nr(U,be,'"'+Pe+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Dt[1])+" }`.")];var Gt=[];return R.layerType==="symbol"&&(Pe==="text-field"&&ne&&!ne.glyphs&&Gt.push(new Nr(U,be,'use of "text-field" requires a style "glyphs" property')),Pe==="text-font"&&Vl(cn(be))&&mn(be.type)==="identity"&&Gt.push(new Nr(U,be,'"text-font" does not support identity functions'))),Gt.concat(zr({key:R.key,value:be,valueSpec:Mt,style:ne,styleSpec:ve,expressionContext:"property",propertyType:D,propertyKey:Pe}))}function Je(R){return uc(R,"paint")}function it(R){return uc(R,"layout")}function yt(R){var D=[],U=R.value,ne=R.key,ve=R.style,be=R.styleSpec;!U.type&&!U.ref&&D.push(new Nr(ne,U,'either "type" or "ref" is required'));var Pe=mn(U.type),Qe=mn(U.ref);if(U.id)for(var dt=mn(U.id),Mt=0;Mt<R.arrayIndex;Mt++){var Dt=ve.layers[Mt];mn(Dt.id)===dt&&D.push(new Nr(ne,U.id,'duplicate layer id "'+U.id+'", previously used at line '+Dt.id.__line__))}if("ref"in U){["type","source","source-layer","filter","layout"].forEach(function(br){br in U&&D.push(new Nr(ne,U[br],'"'+br+'" is prohibited for ref layers'))});var Gt;ve.layers.forEach(function(br){mn(br.id)===Qe&&(Gt=br)}),Gt?Gt.ref?D.push(new Nr(ne,U.ref,"ref cannot reference another ref layer")):Pe=mn(Gt.type):D.push(new Nr(ne,U.ref,'ref layer "'+Qe+'" not found'))}else if(Pe!=="background")if(!U.source)D.push(new Nr(ne,U,'missing required property "source"'));else{var ir=ve.sources&&ve.sources[U.source],rr=ir&&mn(ir.type);ir?rr==="vector"&&Pe==="raster"?D.push(new Nr(ne,U.source,'layer "'+U.id+'" requires a raster source')):rr==="raster"&&Pe!=="raster"?D.push(new Nr(ne,U.source,'layer "'+U.id+'" requires a vector source')):rr==="vector"&&!U["source-layer"]?D.push(new Nr(ne,U,'layer "'+U.id+'" must specify a "source-layer"')):rr==="raster-dem"&&Pe!=="hillshade"?D.push(new Nr(ne,U.source,"raster-dem source can only be used with layer type 'hillshade'.")):Pe==="line"&&U.paint&&U.paint["line-gradient"]&&(rr!=="geojson"||!ir.lineMetrics)&&D.push(new Nr(ne,U,'layer "'+U.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):D.push(new Nr(ne,U.source,'source "'+U.source+'" not found'))}return D=D.concat(vo({key:ne,value:U,valueSpec:be.layer,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return zr({key:ne+".type",value:U.type,valueSpec:be.layer.type,style:R.style,styleSpec:R.styleSpec,object:U,objectKey:"type"})},filter:Af,layout:function(Ur){return vo({layer:U,key:Ur.key,value:Ur.value,style:Ur.style,styleSpec:Ur.styleSpec,objectElementValidators:{"*":function(en){return it(Dn({layerType:Pe},en))}}})},paint:function(Ur){return vo({layer:U,key:Ur.key,value:Ur.value,style:Ur.style,styleSpec:Ur.styleSpec,objectElementValidators:{"*":function(en){return Je(Dn({layerType:Pe},en))}}})}}})),D}function wt(R){var D=R.value,U=R.key,ne=ci(D);return ne!=="string"?[new Nr(U,D,"string expected, "+ne+" found")]:[]}var _t={promoteId:zt};function It(R){var D=R.value,U=R.key,ne=R.styleSpec,ve=R.style;if(!D.type)return[new Nr(U,D,'"type" is required')];var be=mn(D.type),Pe;switch(be){case"vector":case"raster":case"raster-dem":return Pe=vo({key:U,value:D,valueSpec:ne["source_"+be.replace("-","_")],style:R.style,styleSpec:ne,objectElementValidators:_t}),Pe;case"geojson":if(Pe=vo({key:U,value:D,valueSpec:ne.source_geojson,style:ve,styleSpec:ne,objectElementValidators:_t}),D.cluster)for(var Qe in D.clusterProperties){var dt=D.clusterProperties[Qe],Mt=dt[0],Dt=dt[1],Gt=typeof Mt=="string"?[Mt,["accumulated"],["get",Qe]]:Mt;Pe.push.apply(Pe,js({key:U+"."+Qe+".map",value:Dt,expressionContext:"cluster-map"})),Pe.push.apply(Pe,js({key:U+"."+Qe+".reduce",value:Gt,expressionContext:"cluster-reduce"}))}return Pe;case"video":return vo({key:U,value:D,valueSpec:ne.source_video,style:ve,styleSpec:ne});case"image":return vo({key:U,value:D,valueSpec:ne.source_image,style:ve,styleSpec:ne});case"canvas":return[new Nr(U,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return yu({key:U+".type",value:D.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:ve,styleSpec:ne})}}function zt(R){var D=R.key,U=R.value;if(ci(U)==="string")return wt({key:D,value:U});var ne=[];for(var ve in U)ne.push.apply(ne,wt({key:D+"."+ve,value:U[ve]}));return ne}function pr(R){var D=R.value,U=R.styleSpec,ne=U.light,ve=R.style,be=[],Pe=ci(D);if(D===void 0)return be;if(Pe!=="object")return be=be.concat([new Nr("light",D,"object expected, "+Pe+" found")]),be;for(var Qe in D){var dt=Qe.match(/^(.*)-transition$/);dt&&ne[dt[1]]&&ne[dt[1]].transition?be=be.concat(zr({key:Qe,value:D[Qe],valueSpec:U.transition,style:ve,styleSpec:U})):ne[Qe]?be=be.concat(zr({key:Qe,value:D[Qe],valueSpec:ne[Qe],style:ve,styleSpec:U})):be=be.concat([new Nr(Qe,D[Qe],'unknown property "'+Qe+'"')])}return be}function wr(R){return wt(R).length===0?[]:js(R)}function sr(R){return wt(R).length===0?[]:js(R)}var Sr={"*":function(){return[]},array:gu,boolean:sh,number:Gl,color:Po,constants:un,enum:yu,filter:Af,function:sc,layer:yt,object:vo,source:It,light:pr,string:wt,formatted:wr,resolvedImage:sr};function zr(R){var D=R.value,U=R.valueSpec,ne=R.styleSpec;if(U.expression&&Vl(mn(D)))return sc(R);if(U.expression&&du(cn(D)))return js(R);if(U.type&&Sr[U.type])return Sr[U.type](R);var ve=vo(Dn({},R,{valueSpec:U.type?ne[U.type]:U}));return ve}function Vr(R){var D=R.value,U=R.key,ne=wt(R);return ne.length||(D.indexOf("{fontstack}")===-1&&ne.push(new Nr(U,D,'"glyphs" url must include a "{fontstack}" token')),D.indexOf("{range}")===-1&&ne.push(new Nr(U,D,'"glyphs" url must include a "{range}" token'))),ne}function rn(R,D){D===void 0&&(D=Mr);var U=[];return U=U.concat(zr({key:"",value:R,valueSpec:D.$root,styleSpec:D,style:R,objectElementValidators:{glyphs:Vr,"*":function(){return[]}}})),R.constants&&(U=U.concat(un({key:"constants",value:R.constants,style:R,styleSpec:D}))),bn(U)}rn.source=Pn(It),rn.light=Pn(pr),rn.layer=Pn(yt),rn.filter=Pn(Af),rn.paintProperty=Pn(Je),rn.layoutProperty=Pn(it);function bn(R){return[].concat(R).sort(function(D,U){return D.line-U.line})}function Pn(R){return function(){for(var D=[],U=arguments.length;U--;)D[U]=arguments[U];return bn(R.apply(this,D))}}var In=rn,Kn=In.light,La=In.paintProperty,Pa=In.layoutProperty;function Da(R,D){var U=!1;if(D&&D.length)for(var ne=0,ve=D;ne<ve.length;ne+=1){var be=ve[ne];R.fire(new Pt(new Error(be.message))),U=!0}return U}var za=hi,ja=3;function hi(R,D,U){var ne=this.cells=[];if(R instanceof ArrayBuffer){this.arrayBuffer=R;var ve=new Int32Array(this.arrayBuffer);R=ve[0],D=ve[1],U=ve[2],this.d=D+2*U;for(var be=0;be<this.d*this.d;be++){var Pe=ve[ja+be],Qe=ve[ja+be+1];ne.push(Pe===Qe?null:ve.subarray(Pe,Qe))}var dt=ve[ja+ne.length],Mt=ve[ja+ne.length+1];this.keys=ve.subarray(dt,Mt),this.bboxes=ve.subarray(Mt),this.insert=this._insertReadonly}else{this.d=D+2*U;for(var Dt=0;Dt<this.d*this.d;Dt++)ne.push([]);this.keys=[],this.bboxes=[]}this.n=D,this.extent=R,this.padding=U,this.scale=D/R,this.uid=0;var Gt=U/D*R;this.min=-Gt,this.max=R+Gt}hi.prototype.insert=function(R,D,U,ne,ve){this._forEachCell(D,U,ne,ve,this._insertCell,this.uid++),this.keys.push(R),this.bboxes.push(D),this.bboxes.push(U),this.bboxes.push(ne),this.bboxes.push(ve)},hi.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},hi.prototype._insertCell=function(R,D,U,ne,ve,be){this.cells[ve].push(be)},hi.prototype.query=function(R,D,U,ne,ve){var be=this.min,Pe=this.max;if(R<=be&&D<=be&&Pe<=U&&Pe<=ne&&!ve)return Array.prototype.slice.call(this.keys);var Qe=[],dt={};return this._forEachCell(R,D,U,ne,this._queryCell,Qe,dt,ve),Qe},hi.prototype._queryCell=function(R,D,U,ne,ve,be,Pe,Qe){var dt=this.cells[ve];if(dt!==null)for(var Mt=this.keys,Dt=this.bboxes,Gt=0;Gt<dt.length;Gt++){var ir=dt[Gt];if(Pe[ir]===void 0){var rr=ir*4;(Qe?Qe(Dt[rr+0],Dt[rr+1],Dt[rr+2],Dt[rr+3]):R<=Dt[rr+2]&&D<=Dt[rr+3]&&U>=Dt[rr+0]&&ne>=Dt[rr+1])?(Pe[ir]=!0,be.push(Mt[ir])):Pe[ir]=!1}}},hi.prototype._forEachCell=function(R,D,U,ne,ve,be,Pe,Qe){for(var dt=this._convertToCellCoord(R),Mt=this._convertToCellCoord(D),Dt=this._convertToCellCoord(U),Gt=this._convertToCellCoord(ne),ir=dt;ir<=Dt;ir++)for(var rr=Mt;rr<=Gt;rr++){var br=this.d*rr+ir;if(!(Qe&&!Qe(this._convertFromCellCoord(ir),this._convertFromCellCoord(rr),this._convertFromCellCoord(ir+1),this._convertFromCellCoord(rr+1)))&&ve.call(this,R,D,U,ne,br,be,Pe,Qe))return}},hi.prototype._convertFromCellCoord=function(R){return(R-this.padding)/this.scale},hi.prototype._convertToCellCoord=function(R){return Math.max(0,Math.min(this.d-1,Math.floor(R*this.scale)+this.padding))},hi.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var R=this.cells,D=ja+this.cells.length+1+1,U=0,ne=0;ne<this.cells.length;ne++)U+=this.cells[ne].length;var ve=new Int32Array(D+U+this.keys.length+this.bboxes.length);ve[0]=this.extent,ve[1]=this.n,ve[2]=this.padding;for(var be=D,Pe=0;Pe<R.length;Pe++){var Qe=R[Pe];ve[ja+Pe]=be,ve.set(Qe,be),be+=Qe.length}return ve[ja+R.length]=be,ve.set(this.keys,be),be+=this.keys.length,ve[ja+R.length+1]=be,ve.set(this.bboxes,be),be+=this.bboxes.length,ve.buffer};var ki=o.ImageData,ue=o.ImageBitmap,Ae={};function Be(R,D,U){U===void 0&&(U={}),Object.defineProperty(D,"_classRegistryKey",{value:R,writeable:!1}),Ae[R]={klass:D,omit:U.omit||[],shallow:U.shallow||[]}}Be("Object",Object),za.serialize=function(D,U){var ne=D.toArrayBuffer();return U&&U.push(ne),{buffer:ne}},za.deserialize=function(D){return new za(D.buffer)},Be("Grid",za),Be("Color",ei),Be("Error",Error),Be("ResolvedImage",xo),Be("StylePropertyFunction",cl),Be("StyleExpression",Ys,{omit:["_evaluator"]}),Be("ZoomDependentExpression",hs),Be("ZoomConstantExpression",Vi),Be("CompoundExpression",Zi,{omit:["_evaluate"]});for(var qe in Bl)Bl[qe]._classRegistryKey||Be("Expression_"+qe,Bl[qe]);function nt(R){return R&&typeof ArrayBuffer<"u"&&(R instanceof ArrayBuffer||R.constructor&&R.constructor.name==="ArrayBuffer")}function ct(R){return ue&&R instanceof ue}function Rt(R,D){if(R==null||typeof R=="boolean"||typeof R=="number"||typeof R=="string"||R instanceof Boolean||R instanceof Number||R instanceof String||R instanceof Date||R instanceof RegExp)return R;if(nt(R)||ct(R))return D&&D.push(R),R;if(ArrayBuffer.isView(R)){var U=R;return D&&D.push(U.buffer),U}if(R instanceof ki)return D&&D.push(R.data.buffer),R;if(Array.isArray(R)){for(var ne=[],ve=0,be=R;ve<be.length;ve+=1){var Pe=be[ve];ne.push(Rt(Pe,D))}return ne}if(typeof R=="object"){var Qe=R.constructor,dt=Qe._classRegistryKey;if(!dt)throw new Error("can't serialize object of unregistered class");var Mt=Qe.serialize?Qe.serialize(R,D):{};if(!Qe.serialize){for(var Dt in R)if(R.hasOwnProperty(Dt)&&!(Ae[dt].omit.indexOf(Dt)>=0)){var Gt=R[Dt];Mt[Dt]=Ae[dt].shallow.indexOf(Dt)>=0?Gt:Rt(Gt,D)}R instanceof Error&&(Mt.message=R.message)}if(Mt.$name)throw new Error("$name property is reserved for worker serialization logic.");return dt!=="Object"&&(Mt.$name=dt),Mt}throw new Error("can't serialize object of type "+typeof R)}function At(R){if(R==null||typeof R=="boolean"||typeof R=="number"||typeof R=="string"||R instanceof Boolean||R instanceof Number||R instanceof String||R instanceof Date||R instanceof RegExp||nt(R)||ct(R)||ArrayBuffer.isView(R)||R instanceof ki)return R;if(Array.isArray(R))return R.map(At);if(typeof R=="object"){var D=R.$name||"Object",U=Ae[D],ne=U.klass;if(!ne)throw new Error("can't deserialize unregistered class "+D);if(ne.deserialize)return ne.deserialize(R);for(var ve=Object.create(ne.prototype),be=0,Pe=Object.keys(R);be<Pe.length;be+=1){var Qe=Pe[be];if(Qe!=="$name"){var dt=R[Qe];ve[Qe]=Ae[D].shallow.indexOf(Qe)>=0?dt:At(dt)}}return ve}throw new Error("can't deserialize object of type "+typeof R)}var Ut=function(){this.first=!0};Ut.prototype.update=function(D,U){var ne=Math.floor(D);return this.first?(this.first=!1,this.lastIntegerZoom=ne,this.lastIntegerZoomTime=0,this.lastZoom=D,this.lastFloorZoom=ne,!0):(this.lastFloorZoom>ne?(this.lastIntegerZoom=ne+1,this.lastIntegerZoomTime=U):this.lastFloorZoom<ne&&(this.lastIntegerZoom=ne,this.lastIntegerZoomTime=U),D!==this.lastZoom?(this.lastZoom=D,this.lastFloorZoom=ne,!0):!1)};var Ht={"Latin-1 Supplement":function(R){return R>=128&&R<=255},Arabic:function(R){return R>=1536&&R<=1791},"Arabic Supplement":function(R){return R>=1872&&R<=1919},"Arabic Extended-A":function(R){return R>=2208&&R<=2303},"Hangul Jamo":function(R){return R>=4352&&R<=4607},"Unified Canadian Aboriginal Syllabics":function(R){return R>=5120&&R<=5759},Khmer:function(R){return R>=6016&&R<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(R){return R>=6320&&R<=6399},"General Punctuation":function(R){return R>=8192&&R<=8303},"Letterlike Symbols":function(R){return R>=8448&&R<=8527},"Number Forms":function(R){return R>=8528&&R<=8591},"Miscellaneous Technical":function(R){return R>=8960&&R<=9215},"Control Pictures":function(R){return R>=9216&&R<=9279},"Optical Character Recognition":function(R){return R>=9280&&R<=9311},"Enclosed Alphanumerics":function(R){return R>=9312&&R<=9471},"Geometric Shapes":function(R){return R>=9632&&R<=9727},"Miscellaneous Symbols":function(R){return R>=9728&&R<=9983},"Miscellaneous Symbols and Arrows":function(R){return R>=11008&&R<=11263},"CJK Radicals Supplement":function(R){return R>=11904&&R<=12031},"Kangxi Radicals":function(R){return R>=12032&&R<=12255},"Ideographic Description Characters":function(R){return R>=12272&&R<=12287},"CJK Symbols and Punctuation":function(R){return R>=12288&&R<=12351},Hiragana:function(R){return R>=12352&&R<=12447},Katakana:function(R){return R>=12448&&R<=12543},Bopomofo:function(R){return R>=12544&&R<=12591},"Hangul Compatibility Jamo":function(R){return R>=12592&&R<=12687},Kanbun:function(R){return R>=12688&&R<=12703},"Bopomofo Extended":function(R){return R>=12704&&R<=12735},"CJK Strokes":function(R){return R>=12736&&R<=12783},"Katakana Phonetic Extensions":function(R){return R>=12784&&R<=12799},"Enclosed CJK Letters and Months":function(R){return R>=12800&&R<=13055},"CJK Compatibility":function(R){return R>=13056&&R<=13311},"CJK Unified Ideographs Extension A":function(R){return R>=13312&&R<=19903},"Yijing Hexagram Symbols":function(R){return R>=19904&&R<=19967},"CJK Unified Ideographs":function(R){return R>=19968&&R<=40959},"Yi Syllables":function(R){return R>=40960&&R<=42127},"Yi Radicals":function(R){return R>=42128&&R<=42191},"Hangul Jamo Extended-A":function(R){return R>=43360&&R<=43391},"Hangul Syllables":function(R){return R>=44032&&R<=55215},"Hangul Jamo Extended-B":function(R){return R>=55216&&R<=55295},"Private Use Area":function(R){return R>=57344&&R<=63743},"CJK Compatibility Ideographs":function(R){return R>=63744&&R<=64255},"Arabic Presentation Forms-A":function(R){return R>=64336&&R<=65023},"Vertical Forms":function(R){return R>=65040&&R<=65055},"CJK Compatibility Forms":function(R){return R>=65072&&R<=65103},"Small Form Variants":function(R){return R>=65104&&R<=65135},"Arabic Presentation Forms-B":function(R){return R>=65136&&R<=65279},"Halfwidth and Fullwidth Forms":function(R){return R>=65280&&R<=65519}};function ar(R){for(var D=0,U=R;D<U.length;D+=1){var ne=U[D];if(sn(ne.charCodeAt(0)))return!0}return!1}function Rr(R){for(var D=0,U=R;D<U.length;D+=1){var ne=U[D];if(!Dr(ne.charCodeAt(0)))return!1}return!0}function Dr(R){return!(Ht.Arabic(R)||Ht["Arabic Supplement"](R)||Ht["Arabic Extended-A"](R)||Ht["Arabic Presentation Forms-A"](R)||Ht["Arabic Presentation Forms-B"](R))}function Qr(R){return R<11904?!1:!!(Ht["Bopomofo Extended"](R)||Ht.Bopomofo(R)||Ht["CJK Compatibility Forms"](R)||Ht["CJK Compatibility Ideographs"](R)||Ht["CJK Compatibility"](R)||Ht["CJK Radicals Supplement"](R)||Ht["CJK Strokes"](R)||Ht["CJK Symbols and Punctuation"](R)||Ht["CJK Unified Ideographs Extension A"](R)||Ht["CJK Unified Ideographs"](R)||Ht["Enclosed CJK Letters and Months"](R)||Ht["Halfwidth and Fullwidth Forms"](R)||Ht.Hiragana(R)||Ht["Ideographic Description Characters"](R)||Ht["Kangxi Radicals"](R)||Ht["Katakana Phonetic Extensions"](R)||Ht.Katakana(R)||Ht["Vertical Forms"](R)||Ht["Yi Radicals"](R)||Ht["Yi Syllables"](R))}function sn(R){return R===746||R===747?!0:R<4352?!1:!!(Ht["Bopomofo Extended"](R)||Ht.Bopomofo(R)||Ht["CJK Compatibility Forms"](R)&&!(R>=65097&&R<=65103)||Ht["CJK Compatibility Ideographs"](R)||Ht["CJK Compatibility"](R)||Ht["CJK Radicals Supplement"](R)||Ht["CJK Strokes"](R)||Ht["CJK Symbols and Punctuation"](R)&&!(R>=12296&&R<=12305)&&!(R>=12308&&R<=12319)&&R!==12336||Ht["CJK Unified Ideographs Extension A"](R)||Ht["CJK Unified Ideographs"](R)||Ht["Enclosed CJK Letters and Months"](R)||Ht["Hangul Compatibility Jamo"](R)||Ht["Hangul Jamo Extended-A"](R)||Ht["Hangul Jamo Extended-B"](R)||Ht["Hangul Jamo"](R)||Ht["Hangul Syllables"](R)||Ht.Hiragana(R)||Ht["Ideographic Description Characters"](R)||Ht.Kanbun(R)||Ht["Kangxi Radicals"](R)||Ht["Katakana Phonetic Extensions"](R)||Ht.Katakana(R)&&R!==12540||Ht["Halfwidth and Fullwidth Forms"](R)&&R!==65288&&R!==65289&&R!==65293&&!(R>=65306&&R<=65310)&&R!==65339&&R!==65341&&R!==65343&&!(R>=65371&&R<=65503)&&R!==65507&&!(R>=65512&&R<=65519)||Ht["Small Form Variants"](R)&&!(R>=65112&&R<=65118)&&!(R>=65123&&R<=65126)||Ht["Unified Canadian Aboriginal Syllabics"](R)||Ht["Unified Canadian Aboriginal Syllabics Extended"](R)||Ht["Vertical Forms"](R)||Ht["Yijing Hexagram Symbols"](R)||Ht["Yi Syllables"](R)||Ht["Yi Radicals"](R))}function _r(R){return!!(Ht["Latin-1 Supplement"](R)&&(R===167||R===169||R===174||R===177||R===188||R===189||R===190||R===215||R===247)||Ht["General Punctuation"](R)&&(R===8214||R===8224||R===8225||R===8240||R===8241||R===8251||R===8252||R===8258||R===8263||R===8264||R===8265||R===8273)||Ht["Letterlike Symbols"](R)||Ht["Number Forms"](R)||Ht["Miscellaneous Technical"](R)&&(R>=8960&&R<=8967||R>=8972&&R<=8991||R>=8996&&R<=9e3||R===9003||R>=9085&&R<=9114||R>=9150&&R<=9165||R===9167||R>=9169&&R<=9179||R>=9186&&R<=9215)||Ht["Control Pictures"](R)&&R!==9251||Ht["Optical Character Recognition"](R)||Ht["Enclosed Alphanumerics"](R)||Ht["Geometric Shapes"](R)||Ht["Miscellaneous Symbols"](R)&&!(R>=9754&&R<=9759)||Ht["Miscellaneous Symbols and Arrows"](R)&&(R>=11026&&R<=11055||R>=11088&&R<=11097||R>=11192&&R<=11243)||Ht["CJK Symbols and Punctuation"](R)||Ht.Katakana(R)||Ht["Private Use Area"](R)||Ht["CJK Compatibility Forms"](R)||Ht["Small Form Variants"](R)||Ht["Halfwidth and Fullwidth Forms"](R)||R===8734||R===8756||R===8757||R>=9984&&R<=10087||R>=10102&&R<=10131||R===65532||R===65533)}function Hr(R){return!(sn(R)||_r(R))}function Kr(R){return Ht.Arabic(R)||Ht["Arabic Supplement"](R)||Ht["Arabic Extended-A"](R)||Ht["Arabic Presentation Forms-A"](R)||Ht["Arabic Presentation Forms-B"](R)}function hn(R){return R>=1424&&R<=2303||Ht["Arabic Presentation Forms-A"](R)||Ht["Arabic Presentation Forms-B"](R)}function yn(R,D){return!(!D&&hn(R)||R>=2304&&R<=3583||R>=3840&&R<=4255||Ht.Khmer(R))}function qr(R){for(var D=0,U=R;D<U.length;D+=1){var ne=U[D];if(hn(ne.charCodeAt(0)))return!0}return!1}function Vn(R,D){for(var U=0,ne=R;U<ne.length;U+=1){var ve=ne[U];if(!yn(ve.charCodeAt(0),D))return!1}return!0}var ta={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},fa=null,qn=ta.unavailable,sa=null,ca=function(R){R&&typeof R=="string"&&R.indexOf("NetworkError")>-1&&(qn=ta.error),fa&&fa(R)};function Oa(){Ma.fire(new Yt("pluginStateChange",{pluginStatus:qn,pluginURL:sa}))}var Ma=new Zt,ka=function(){return qn},ni=function(R){return R({pluginStatus:qn,pluginURL:sa}),Ma.on("pluginStateChange",R),R},zi=function(R,D,U){if(U===void 0&&(U=!1),qn===ta.deferred||qn===ta.loading||qn===ta.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");sa=oe.resolveURL(R),qn=ta.deferred,fa=D,Oa(),U||ui()},ui=function(){if(qn!==ta.deferred||!sa)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");qn=ta.loading,Oa(),sa&&Ft({url:sa},function(R){R?ca(R):(qn=ta.loaded,Oa())})},$n={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return qn===ta.loaded||$n.applyArabicShaping!=null},isLoading:function(){return qn===ta.loading},setState:function(D){qn=D.pluginStatus,sa=D.pluginURL},isParsed:function(){return $n.applyArabicShaping!=null&&$n.processBidirectionalText!=null&&$n.processStyledBidirectionalText!=null},getPluginURL:function(){return sa}},Na=function(){!$n.isLoading()&&!$n.isLoaded()&&ka()==="deferred"&&ui()},Ta=function(D,U){this.zoom=D,U?(this.now=U.now,this.fadeDuration=U.fadeDuration,this.zoomHistory=U.zoomHistory,this.transition=U.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ut,this.transition={})};Ta.prototype.isSupportedScript=function(D){return Vn(D,$n.isLoaded())},Ta.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Ta.prototype.getCrossfadeParameters=function(){var D=this.zoom,U=D-Math.floor(D),ne=this.crossFadingFactor();return D>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:U+(1-U)*ne}:{fromScale:.5,toScale:1,t:1-(1-ne)*U}};var Za=function(D,U){this.property=D,this.value=U,this.expression=Zu(U===void 0?D.specification.default:U,D.specification)};Za.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Za.prototype.possiblyEvaluate=function(D,U,ne){return this.property.possiblyEvaluate(this,D,U,ne)};var xi=function(D){this.property=D,this.value=new Za(D,void 0)};xi.prototype.transitioned=function(D,U){return new Ji(this.property,this.value,U,x({},D.transition,this.transition),D.now)},xi.prototype.untransitioned=function(){return new Ji(this.property,this.value,null,{},0)};var ai=function(D){this._properties=D,this._values=Object.create(D.defaultTransitionablePropertyValues)};ai.prototype.getValue=function(D){return O(this._values[D].value.value)},ai.prototype.setValue=function(D,U){this._values.hasOwnProperty(D)||(this._values[D]=new xi(this._values[D].property)),this._values[D].value=new Za(this._values[D].property,U===null?void 0:O(U))},ai.prototype.getTransition=function(D){return O(this._values[D].transition)},ai.prototype.setTransition=function(D,U){this._values.hasOwnProperty(D)||(this._values[D]=new xi(this._values[D].property)),this._values[D].transition=O(U)||void 0},ai.prototype.serialize=function(){for(var D={},U=0,ne=Object.keys(this._values);U<ne.length;U+=1){var ve=ne[U],be=this.getValue(ve);be!==void 0&&(D[ve]=be);var Pe=this.getTransition(ve);Pe!==void 0&&(D[ve+"-transition"]=Pe)}return D},ai.prototype.transitioned=function(D,U){for(var ne=new Qi(this._properties),ve=0,be=Object.keys(this._values);ve<be.length;ve+=1){var Pe=be[ve];ne._values[Pe]=this._values[Pe].transitioned(D,U._values[Pe])}return ne},ai.prototype.untransitioned=function(){for(var D=new Qi(this._properties),U=0,ne=Object.keys(this._values);U<ne.length;U+=1){var ve=ne[U];D._values[ve]=this._values[ve].untransitioned()}return D};var Ji=function(D,U,ne,ve,be){this.property=D,this.value=U,this.begin=be+ve.delay||0,this.end=this.begin+ve.duration||0,D.specification.transition&&(ve.delay||ve.duration)&&(this.prior=ne)};Ji.prototype.possiblyEvaluate=function(D,U,ne){var ve=D.now||0,be=this.value.possiblyEvaluate(D,U,ne),Pe=this.prior;if(Pe){if(ve>this.end)return this.prior=null,be;if(this.value.isDataDriven())return this.prior=null,be;if(ve<this.begin)return Pe.possiblyEvaluate(D,U,ne);var Qe=(ve-this.begin)/(this.end-this.begin);return this.property.interpolate(Pe.possiblyEvaluate(D,U,ne),be,u(Qe))}else return be};var Qi=function(D){this._properties=D,this._values=Object.create(D.defaultTransitioningPropertyValues)};Qi.prototype.possiblyEvaluate=function(D,U,ne){for(var ve=new po(this._properties),be=0,Pe=Object.keys(this._values);be<Pe.length;be+=1){var Qe=Pe[be];ve._values[Qe]=this._values[Qe].possiblyEvaluate(D,U,ne)}return ve},Qi.prototype.hasTransition=function(){for(var D=0,U=Object.keys(this._values);D<U.length;D+=1){var ne=U[D];if(this._values[ne].prior)return!0}return!1};var ro=function(D){this._properties=D,this._values=Object.create(D.defaultPropertyValues)};ro.prototype.getValue=function(D){return O(this._values[D].value)},ro.prototype.setValue=function(D,U){this._values[D]=new Za(this._values[D].property,U===null?void 0:O(U))},ro.prototype.serialize=function(){for(var D={},U=0,ne=Object.keys(this._values);U<ne.length;U+=1){var ve=ne[U],be=this.getValue(ve);be!==void 0&&(D[ve]=be)}return D},ro.prototype.possiblyEvaluate=function(D,U,ne){for(var ve=new po(this._properties),be=0,Pe=Object.keys(this._values);be<Pe.length;be+=1){var Qe=Pe[be];ve._values[Qe]=this._values[Qe].possiblyEvaluate(D,U,ne)}return ve};var bi=function(D,U,ne){this.property=D,this.value=U,this.parameters=ne};bi.prototype.isConstant=function(){return this.value.kind==="constant"},bi.prototype.constantOr=function(D){return this.value.kind==="constant"?this.value.value:D},bi.prototype.evaluate=function(D,U,ne,ve){return this.property.evaluate(this.value,this.parameters,D,U,ne,ve)};var po=function(D){this._properties=D,this._values=Object.create(D.defaultPossiblyEvaluatedValues)};po.prototype.get=function(D){return this._values[D]};var la=function(D){this.specification=D};la.prototype.possiblyEvaluate=function(D,U){return D.expression.evaluate(U)},la.prototype.interpolate=function(D,U,ne){var ve=Nu[this.specification.type];return ve?ve(D,U,ne):D};var Ea=function(D,U){this.specification=D,this.overrides=U};Ea.prototype.possiblyEvaluate=function(D,U,ne,ve){return D.expression.kind==="constant"||D.expression.kind==="camera"?new bi(this,{kind:"constant",value:D.expression.evaluate(U,null,{},ne,ve)},U):new bi(this,D.expression,U)},Ea.prototype.interpolate=function(D,U,ne){if(D.value.kind!=="constant"||U.value.kind!=="constant")return D;if(D.value.value===void 0||U.value.value===void 0)return new bi(this,{kind:"constant",value:void 0},D.parameters);var ve=Nu[this.specification.type];return ve?new bi(this,{kind:"constant",value:ve(D.value.value,U.value.value,ne)},D.parameters):D},Ea.prototype.evaluate=function(D,U,ne,ve,be,Pe){return D.kind==="constant"?D.value:D.evaluate(U,ne,ve,be,Pe)};var Ro=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(ne,ve,be,Pe){if(ne.value===void 0)return new bi(this,{kind:"constant",value:void 0},ve);if(ne.expression.kind==="constant"){var Qe=ne.expression.evaluate(ve,null,{},be,Pe),dt=ne.property.specification.type==="resolvedImage",Mt=dt&&typeof Qe!="string"?Qe.name:Qe,Dt=this._calculate(Mt,Mt,Mt,ve);return new bi(this,{kind:"constant",value:Dt},ve)}else if(ne.expression.kind==="camera"){var Gt=this._calculate(ne.expression.evaluate({zoom:ve.zoom-1}),ne.expression.evaluate({zoom:ve.zoom}),ne.expression.evaluate({zoom:ve.zoom+1}),ve);return new bi(this,{kind:"constant",value:Gt},ve)}else return new bi(this,ne.expression,ve)},D.prototype.evaluate=function(ne,ve,be,Pe,Qe,dt){if(ne.kind==="source"){var Mt=ne.evaluate(ve,be,Pe,Qe,dt);return this._calculate(Mt,Mt,Mt,ve)}else return ne.kind==="composite"?this._calculate(ne.evaluate({zoom:Math.floor(ve.zoom)-1},be,Pe),ne.evaluate({zoom:Math.floor(ve.zoom)},be,Pe),ne.evaluate({zoom:Math.floor(ve.zoom)+1},be,Pe),ve):ne.value},D.prototype._calculate=function(ne,ve,be,Pe){var Qe=Pe.zoom;return Qe>Pe.zoomHistory.lastIntegerZoom?{from:ne,to:ve}:{from:be,to:ve}},D.prototype.interpolate=function(ne){return ne},D}(Ea),zo=function(D){this.specification=D};zo.prototype.possiblyEvaluate=function(D,U,ne,ve){if(D.value!==void 0)if(D.expression.kind==="constant"){var be=D.expression.evaluate(U,null,{},ne,ve);return this._calculate(be,be,be,U)}else return this._calculate(D.expression.evaluate(new Ta(Math.floor(U.zoom-1),U)),D.expression.evaluate(new Ta(Math.floor(U.zoom),U)),D.expression.evaluate(new Ta(Math.floor(U.zoom+1),U)),U)},zo.prototype._calculate=function(D,U,ne,ve){var be=ve.zoom;return be>ve.zoomHistory.lastIntegerZoom?{from:D,to:U}:{from:ne,to:U}},zo.prototype.interpolate=function(D){return D};var no=function(D){this.specification=D};no.prototype.possiblyEvaluate=function(D,U,ne,ve){return!!D.expression.evaluate(U,null,{},ne,ve)},no.prototype.interpolate=function(){return!1};var fi=function(D){this.properties=D,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var U in D){var ne=D[U];ne.specification.overridable&&this.overridableProperties.push(U);var ve=this.defaultPropertyValues[U]=new Za(ne,void 0),be=this.defaultTransitionablePropertyValues[U]=new xi(ne);this.defaultTransitioningPropertyValues[U]=be.untransitioned(),this.defaultPossiblyEvaluatedValues[U]=ve.possiblyEvaluate({})}};Be("DataDrivenProperty",Ea),Be("DataConstantProperty",la),Be("CrossFadedDataDrivenProperty",Ro),Be("CrossFadedProperty",zo),Be("ColorRampProperty",no);var Hi="-transition",Fi=function(R){function D(U,ne){if(R.call(this),this.id=U.id,this.type=U.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},U.type!=="custom"&&(U=U,this.metadata=U.metadata,this.minzoom=U.minzoom,this.maxzoom=U.maxzoom,U.type!=="background"&&(this.source=U.source,this.sourceLayer=U["source-layer"],this.filter=U.filter),ne.layout&&(this._unevaluatedLayout=new ro(ne.layout)),ne.paint)){this._transitionablePaint=new ai(ne.paint);for(var ve in U.paint)this.setPaintProperty(ve,U.paint[ve],{validate:!1});for(var be in U.layout)this.setLayoutProperty(be,U.layout[be],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new po(ne.paint)}}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},D.prototype.getLayoutProperty=function(ne){return ne==="visibility"?this.visibility:this._unevaluatedLayout.getValue(ne)},D.prototype.setLayoutProperty=function(ne,ve,be){if(be===void 0&&(be={}),ve!=null){var Pe="layers."+this.id+".layout."+ne;if(this._validate(Pa,Pe,ne,ve,be))return}if(ne==="visibility"){this.visibility=ve;return}this._unevaluatedLayout.setValue(ne,ve)},D.prototype.getPaintProperty=function(ne){return m(ne,Hi)?this._transitionablePaint.getTransition(ne.slice(0,-Hi.length)):this._transitionablePaint.getValue(ne)},D.prototype.setPaintProperty=function(ne,ve,be){if(be===void 0&&(be={}),ve!=null){var Pe="layers."+this.id+".paint."+ne;if(this._validate(La,Pe,ne,ve,be))return!1}if(m(ne,Hi))return this._transitionablePaint.setTransition(ne.slice(0,-Hi.length),ve||void 0),!1;var Qe=this._transitionablePaint._values[ne],dt=Qe.property.specification["property-type"]==="cross-faded-data-driven",Mt=Qe.value.isDataDriven(),Dt=Qe.value;this._transitionablePaint.setValue(ne,ve),this._handleSpecialPaintPropertyUpdate(ne);var Gt=this._transitionablePaint._values[ne].value,ir=Gt.isDataDriven();return ir||Mt||dt||this._handleOverridablePaintPropertyUpdate(ne,Dt,Gt)},D.prototype._handleSpecialPaintPropertyUpdate=function(ne){},D.prototype._handleOverridablePaintPropertyUpdate=function(ne,ve,be){return!1},D.prototype.isHidden=function(ne){return this.minzoom&&ne<this.minzoom||this.maxzoom&&ne>=this.maxzoom?!0:this.visibility==="none"},D.prototype.updateTransitions=function(ne){this._transitioningPaint=this._transitionablePaint.transitioned(ne,this._transitioningPaint)},D.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},D.prototype.recalculate=function(ne,ve){ne.getCrossfadeParameters&&(this._crossfadeParameters=ne.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(ne,void 0,ve)),this.paint=this._transitioningPaint.possiblyEvaluate(ne,void 0,ve)},D.prototype.serialize=function(){var ne={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(ne.layout=ne.layout||{},ne.layout.visibility=this.visibility),I(ne,function(ve,be){return ve!==void 0&&!(be==="layout"&&!Object.keys(ve).length)&&!(be==="paint"&&!Object.keys(ve).length)})},D.prototype._validate=function(ne,ve,be,Pe,Qe){return Qe===void 0&&(Qe={}),Qe&&Qe.validate===!1?!1:Da(this,ne.call(In,{key:ve,layerType:this.type,objectKey:be,value:Pe,styleSpec:Mr,style:{glyphs:!0,sprite:!0}}))},D.prototype.is3D=function(){return!1},D.prototype.isTileClipped=function(){return!1},D.prototype.hasOffscreenPass=function(){return!1},D.prototype.resize=function(){},D.prototype.isStateDependent=function(){for(var ne in this.paint._values){var ve=this.paint.get(ne);if(!(!(ve instanceof bi)||!Ps(ve.property.specification))&&(ve.value.kind==="source"||ve.value.kind==="composite")&&ve.value.isStateDependent)return!0}return!1},D}(Zt),vs={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Ds=function(D,U){this._structArray=D,this._pos1=U*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Ei=128,Wl=5,Ka=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};Ka.serialize=function(D,U){return D._trim(),U&&(D.isTransferred=!0,U.push(D.arrayBuffer)),{length:D.length,arrayBuffer:D.arrayBuffer}},Ka.deserialize=function(D){var U=Object.create(this.prototype);return U.arrayBuffer=D.arrayBuffer,U.length=D.length,U.capacity=D.arrayBuffer.byteLength/U.bytesPerElement,U._refreshViews(),U},Ka.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Ka.prototype.clear=function(){this.length=0},Ka.prototype.resize=function(D){this.reserve(D),this.length=D},Ka.prototype.reserve=function(D){if(D>this.capacity){this.capacity=Math.max(D,Math.floor(this.capacity*Wl),Ei),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var U=this.uint8;this._refreshViews(),U&&this.uint8.set(U)}},Ka.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function Ci(R,D){D===void 0&&(D=1);var U=0,ne=0,ve=R.map(function(Pe){var Qe=lh(Pe.type),dt=U=Yd(U,Math.max(D,Qe)),Mt=Pe.components||1;return ne=Math.max(ne,Qe),U+=Qe*Mt,{name:Pe.name,type:Pe.type,components:Mt,offset:dt}}),be=Yd(U,Math.max(ne,D));return{members:ve,size:be,alignment:D}}function lh(R){return vs[R].BYTES_PER_ELEMENT}function Yd(R,D){return Math.ceil(R/D)*D}var Mf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve){var be=this.length;return this.resize(be+1),this.emplace(be,ne,ve)},D.prototype.emplace=function(ne,ve,be){var Pe=ne*2;return this.int16[Pe+0]=ve,this.int16[Pe+1]=be,ne},D}(Ka);Mf.prototype.bytesPerElement=4,Be("StructArrayLayout2i4",Mf);var _v=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be,Pe){var Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,ne,ve,be,Pe)},D.prototype.emplace=function(ne,ve,be,Pe,Qe){var dt=ne*4;return this.int16[dt+0]=ve,this.int16[dt+1]=be,this.int16[dt+2]=Pe,this.int16[dt+3]=Qe,ne},D}(Ka);_v.prototype.bytesPerElement=8,Be("StructArrayLayout4i8",_v);var Qu=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be,Pe,Qe,dt){var Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,ne,ve,be,Pe,Qe,dt)},D.prototype.emplace=function(ne,ve,be,Pe,Qe,dt,Mt){var Dt=ne*6;return this.int16[Dt+0]=ve,this.int16[Dt+1]=be,this.int16[Dt+2]=Pe,this.int16[Dt+3]=Qe,this.int16[Dt+4]=dt,this.int16[Dt+5]=Mt,ne},D}(Ka);Qu.prototype.bytesPerElement=12,Be("StructArrayLayout2i4i12",Qu);var fc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be,Pe,Qe,dt){var Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,ne,ve,be,Pe,Qe,dt)},D.prototype.emplace=function(ne,ve,be,Pe,Qe,dt,Mt){var Dt=ne*4,Gt=ne*8;return this.int16[Dt+0]=ve,this.int16[Dt+1]=be,this.uint8[Gt+4]=Pe,this.uint8[Gt+5]=Qe,this.uint8[Gt+6]=dt,this.uint8[Gt+7]=Mt,ne},D}(Ka);fc.prototype.bytesPerElement=8,Be("StructArrayLayout2i4ub8",fc);var cc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve){var be=this.length;return this.resize(be+1),this.emplace(be,ne,ve)},D.prototype.emplace=function(ne,ve,be){var Pe=ne*2;return this.float32[Pe+0]=ve,this.float32[Pe+1]=be,ne},D}(Ka);cc.prototype.bytesPerElement=8,Be("StructArrayLayout2f8",cc);var $o=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be,Pe,Qe,dt,Mt,Dt,Gt,ir){var rr=this.length;return this.resize(rr+1),this.emplace(rr,ne,ve,be,Pe,Qe,dt,Mt,Dt,Gt,ir)},D.prototype.emplace=function(ne,ve,be,Pe,Qe,dt,Mt,Dt,Gt,ir,rr){var br=ne*10;return this.uint16[br+0]=ve,this.uint16[br+1]=be,this.uint16[br+2]=Pe,this.uint16[br+3]=Qe,this.uint16[br+4]=dt,this.uint16[br+5]=Mt,this.uint16[br+6]=Dt,this.uint16[br+7]=Gt,this.uint16[br+8]=ir,this.uint16[br+9]=rr,ne},D}(Ka);$o.prototype.bytesPerElement=20,Be("StructArrayLayout10ui20",$o);var $u=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be,Pe,Qe,dt,Mt,Dt,Gt,ir,rr,br){var Ur=this.length;return this.resize(Ur+1),this.emplace(Ur,ne,ve,be,Pe,Qe,dt,Mt,Dt,Gt,ir,rr,br)},D.prototype.emplace=function(ne,ve,be,Pe,Qe,dt,Mt,Dt,Gt,ir,rr,br,Ur){var fn=ne*12;return this.int16[fn+0]=ve,this.int16[fn+1]=be,this.int16[fn+2]=Pe,this.int16[fn+3]=Qe,this.uint16[fn+4]=dt,this.uint16[fn+5]=Mt,this.uint16[fn+6]=Dt,this.uint16[fn+7]=Gt,this.int16[fn+8]=ir,this.int16[fn+9]=rr,this.int16[fn+10]=br,this.int16[fn+11]=Ur,ne},D}(Ka);$u.prototype.bytesPerElement=24,Be("StructArrayLayout4i4ui4i24",$u);var zv=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,ne,ve,be)},D.prototype.emplace=function(ne,ve,be,Pe){var Qe=ne*3;return this.float32[Qe+0]=ve,this.float32[Qe+1]=be,this.float32[Qe+2]=Pe,ne},D}(Ka);zv.prototype.bytesPerElement=12,Be("StructArrayLayout3f12",zv);var Fv=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne){var ve=this.length;return this.resize(ve+1),this.emplace(ve,ne)},D.prototype.emplace=function(ne,ve){var be=ne*1;return this.uint32[be+0]=ve,ne},D}(Ka);Fv.prototype.bytesPerElement=4,Be("StructArrayLayout1ul4",Fv);var uh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be,Pe,Qe,dt,Mt,Dt,Gt){var ir=this.length;return this.resize(ir+1),this.emplace(ir,ne,ve,be,Pe,Qe,dt,Mt,Dt,Gt)},D.prototype.emplace=function(ne,ve,be,Pe,Qe,dt,Mt,Dt,Gt,ir){var rr=ne*10,br=ne*5;return this.int16[rr+0]=ve,this.int16[rr+1]=be,this.int16[rr+2]=Pe,this.int16[rr+3]=Qe,this.int16[rr+4]=dt,this.int16[rr+5]=Mt,this.uint32[br+3]=Dt,this.uint16[rr+8]=Gt,this.uint16[rr+9]=ir,ne},D}(Ka);uh.prototype.bytesPerElement=20,Be("StructArrayLayout6i1ul2ui20",uh);var Ih=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be,Pe,Qe,dt){var Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,ne,ve,be,Pe,Qe,dt)},D.prototype.emplace=function(ne,ve,be,Pe,Qe,dt,Mt){var Dt=ne*6;return this.int16[Dt+0]=ve,this.int16[Dt+1]=be,this.int16[Dt+2]=Pe,this.int16[Dt+3]=Qe,this.int16[Dt+4]=dt,this.int16[Dt+5]=Mt,ne},D}(Ka);Ih.prototype.bytesPerElement=12,Be("StructArrayLayout2i2i2i12",Ih);var Tu=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be,Pe,Qe){var dt=this.length;return this.resize(dt+1),this.emplace(dt,ne,ve,be,Pe,Qe)},D.prototype.emplace=function(ne,ve,be,Pe,Qe,dt){var Mt=ne*4,Dt=ne*8;return this.float32[Mt+0]=ve,this.float32[Mt+1]=be,this.float32[Mt+2]=Pe,this.int16[Dt+6]=Qe,this.int16[Dt+7]=dt,ne},D}(Ka);Tu.prototype.bytesPerElement=16,Be("StructArrayLayout2f1f2i16",Tu);var ds=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be,Pe){var Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,ne,ve,be,Pe)},D.prototype.emplace=function(ne,ve,be,Pe,Qe){var dt=ne*12,Mt=ne*3;return this.uint8[dt+0]=ve,this.uint8[dt+1]=be,this.float32[Mt+1]=Pe,this.float32[Mt+2]=Qe,ne},D}(Ka);ds.prototype.bytesPerElement=12,Be("StructArrayLayout2ub2f12",ds);var Au=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,ne,ve,be)},D.prototype.emplace=function(ne,ve,be,Pe){var Qe=ne*3;return this.uint16[Qe+0]=ve,this.uint16[Qe+1]=be,this.uint16[Qe+2]=Pe,ne},D}(Ka);Au.prototype.bytesPerElement=6,Be("StructArrayLayout3ui6",Au);var fh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be,Pe,Qe,dt,Mt,Dt,Gt,ir,rr,br,Ur,fn,en,Sn,xn){var Mn=this.length;return this.resize(Mn+1),this.emplace(Mn,ne,ve,be,Pe,Qe,dt,Mt,Dt,Gt,ir,rr,br,Ur,fn,en,Sn,xn)},D.prototype.emplace=function(ne,ve,be,Pe,Qe,dt,Mt,Dt,Gt,ir,rr,br,Ur,fn,en,Sn,xn,Mn){var zn=ne*24,Yn=ne*12,aa=ne*48;return this.int16[zn+0]=ve,this.int16[zn+1]=be,this.uint16[zn+2]=Pe,this.uint16[zn+3]=Qe,this.uint32[Yn+2]=dt,this.uint32[Yn+3]=Mt,this.uint32[Yn+4]=Dt,this.uint16[zn+10]=Gt,this.uint16[zn+11]=ir,this.uint16[zn+12]=rr,this.float32[Yn+7]=br,this.float32[Yn+8]=Ur,this.uint8[aa+36]=fn,this.uint8[aa+37]=en,this.uint8[aa+38]=Sn,this.uint32[Yn+10]=xn,this.int16[zn+22]=Mn,ne},D}(Ka);fh.prototype.bytesPerElement=48,Be("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",fh);var kh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be,Pe,Qe,dt,Mt,Dt,Gt,ir,rr,br,Ur,fn,en,Sn,xn,Mn,zn,Yn,aa,ea,ba,da,ma,Ba,wa,Sa){var Ga=this.length;return this.resize(Ga+1),this.emplace(Ga,ne,ve,be,Pe,Qe,dt,Mt,Dt,Gt,ir,rr,br,Ur,fn,en,Sn,xn,Mn,zn,Yn,aa,ea,ba,da,ma,Ba,wa,Sa)},D.prototype.emplace=function(ne,ve,be,Pe,Qe,dt,Mt,Dt,Gt,ir,rr,br,Ur,fn,en,Sn,xn,Mn,zn,Yn,aa,ea,ba,da,ma,Ba,wa,Sa,Ga){var Fa=ne*34,oi=ne*17;return this.int16[Fa+0]=ve,this.int16[Fa+1]=be,this.int16[Fa+2]=Pe,this.int16[Fa+3]=Qe,this.int16[Fa+4]=dt,this.int16[Fa+5]=Mt,this.int16[Fa+6]=Dt,this.int16[Fa+7]=Gt,this.uint16[Fa+8]=ir,this.uint16[Fa+9]=rr,this.uint16[Fa+10]=br,this.uint16[Fa+11]=Ur,this.uint16[Fa+12]=fn,this.uint16[Fa+13]=en,this.uint16[Fa+14]=Sn,this.uint16[Fa+15]=xn,this.uint16[Fa+16]=Mn,this.uint16[Fa+17]=zn,this.uint16[Fa+18]=Yn,this.uint16[Fa+19]=aa,this.uint16[Fa+20]=ea,this.uint16[Fa+21]=ba,this.uint16[Fa+22]=da,this.uint32[oi+12]=ma,this.float32[oi+13]=Ba,this.float32[oi+14]=wa,this.float32[oi+15]=Sa,this.float32[oi+16]=Ga,ne},D}(Ka);kh.prototype.bytesPerElement=68,Be("StructArrayLayout8i15ui1ul4f68",kh);var hc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne){var ve=this.length;return this.resize(ve+1),this.emplace(ve,ne)},D.prototype.emplace=function(ne,ve){var be=ne*1;return this.float32[be+0]=ve,ne},D}(Ka);hc.prototype.bytesPerElement=4,Be("StructArrayLayout1f4",hc);var Ov=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,ne,ve,be)},D.prototype.emplace=function(ne,ve,be,Pe){var Qe=ne*3;return this.int16[Qe+0]=ve,this.int16[Qe+1]=be,this.int16[Qe+2]=Pe,ne},D}(Ka);Ov.prototype.bytesPerElement=6,Be("StructArrayLayout3i6",Ov);var qu=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,ne,ve,be)},D.prototype.emplace=function(ne,ve,be,Pe){var Qe=ne*2,dt=ne*4;return this.uint32[Qe+0]=ve,this.uint16[dt+2]=be,this.uint16[dt+3]=Pe,ne},D}(Ka);qu.prototype.bytesPerElement=8,Be("StructArrayLayout1ul2ui8",qu);var ch=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve){var be=this.length;return this.resize(be+1),this.emplace(be,ne,ve)},D.prototype.emplace=function(ne,ve,be){var Pe=ne*2;return this.uint16[Pe+0]=ve,this.uint16[Pe+1]=be,ne},D}(Ka);ch.prototype.bytesPerElement=4,Be("StructArrayLayout2ui4",ch);var vc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne){var ve=this.length;return this.resize(ve+1),this.emplace(ve,ne)},D.prototype.emplace=function(ne,ve){var be=ne*1;return this.uint16[be+0]=ve,ne},D}(Ka);vc.prototype.bytesPerElement=2,Be("StructArrayLayout1ui2",vc);var Sf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ne,ve,be,Pe){var Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,ne,ve,be,Pe)},D.prototype.emplace=function(ne,ve,be,Pe,Qe){var dt=ne*4;return this.float32[dt+0]=ve,this.float32[dt+1]=be,this.float32[dt+2]=Pe,this.float32[dt+3]=Qe,ne},D}(Ka);Sf.prototype.bytesPerElement=16,Be("StructArrayLayout4f16",Sf);var Xd=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var U={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return U.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},U.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},U.x1.get=function(){return this._structArray.int16[this._pos2+2]},U.y1.get=function(){return this._structArray.int16[this._pos2+3]},U.x2.get=function(){return this._structArray.int16[this._pos2+4]},U.y2.get=function(){return this._structArray.int16[this._pos2+5]},U.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},U.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},U.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},U.anchorPoint.get=function(){return new r(this.anchorPointX,this.anchorPointY)},Object.defineProperties(D.prototype,U),D}(Ds);Xd.prototype.size=20;var Bv=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(ne){return new Xd(this,ne)},D}(uh);Be("CollisionBoxArray",Bv);var Ef=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var U={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return U.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},U.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},U.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},U.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},U.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},U.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},U.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},U.segment.get=function(){return this._structArray.uint16[this._pos2+10]},U.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},U.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},U.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},U.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},U.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},U.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},U.placedOrientation.set=function(ne){this._structArray.uint8[this._pos1+37]=ne},U.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},U.hidden.set=function(ne){this._structArray.uint8[this._pos1+38]=ne},U.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},U.crossTileID.set=function(ne){this._structArray.uint32[this._pos4+10]=ne},U.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(D.prototype,U),D}(Ds);Ef.prototype.size=48;var Nv=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(ne){return new Ef(this,ne)},D}(fh);Be("PlacedSymbolArray",Nv);var dc=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var U={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return U.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},U.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},U.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},U.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},U.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},U.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},U.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},U.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},U.key.get=function(){return this._structArray.uint16[this._pos2+8]},U.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},U.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},U.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},U.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},U.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},U.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},U.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},U.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},U.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},U.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},U.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},U.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},U.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},U.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},U.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},U.crossTileID.set=function(ne){this._structArray.uint32[this._pos4+12]=ne},U.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},U.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},U.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},U.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(D.prototype,U),D}(Ds);dc.prototype.size=68;var jd=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(ne){return new dc(this,ne)},D}(kh);Be("SymbolInstanceArray",jd);var Zd=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getoffsetX=function(ne){return this.float32[ne*1+0]},D}(hc);Be("GlyphOffsetArray",Zd);var vl=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getx=function(ne){return this.int16[ne*3+0]},D.prototype.gety=function(ne){return this.int16[ne*3+1]},D.prototype.gettileUnitDistanceFromAnchor=function(ne){return this.int16[ne*3+2]},D}(Ov);Be("SymbolLineVertexArray",vl);var Kd=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var U={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return U.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},U.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},U.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(D.prototype,U),D}(Ds);Kd.prototype.size=8;var Jd=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(ne){return new Kd(this,ne)},D}(qu);Be("FeatureIndexArray",Jd);var N0=Ci([{name:"a_pos",components:2,type:"Int16"}],4),Qd=N0.members,ao=function(D){D===void 0&&(D=[]),this.segments=D};ao.prototype.prepareSegment=function(D,U,ne,ve){var be=this.segments[this.segments.length-1];return D>ao.MAX_VERTEX_ARRAY_LENGTH&&F("Max vertices per segment is "+ao.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+D),(!be||be.vertexLength+D>ao.MAX_VERTEX_ARRAY_LENGTH||be.sortKey!==ve)&&(be={vertexOffset:U.length,primitiveOffset:ne.length,vertexLength:0,primitiveLength:0},ve!==void 0&&(be.sortKey=ve),this.segments.push(be)),be},ao.prototype.get=function(){return this.segments},ao.prototype.destroy=function(){for(var D=0,U=this.segments;D<U.length;D+=1){var ne=U[D];for(var ve in ne.vaos)ne.vaos[ve].destroy()}},ao.simpleSegment=function(D,U,ne,ve){return new ao([{vertexOffset:D,primitiveOffset:U,vertexLength:ne,primitiveLength:ve,vaos:{},sortKey:0}])},ao.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Be("SegmentVector",ao);function ce(R,D){return R=h(Math.floor(R),0,255),D=h(Math.floor(D),0,255),256*R+D}var j=Ci([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),de=L(function(R){function D(U,ne){var ve,be,Pe,Qe,dt,Mt,Dt,Gt;for(ve=U.length&3,be=U.length-ve,Pe=ne,dt=3432918353,Mt=461845907,Gt=0;Gt<be;)Dt=U.charCodeAt(Gt)&255|(U.charCodeAt(++Gt)&255)<<8|(U.charCodeAt(++Gt)&255)<<16|(U.charCodeAt(++Gt)&255)<<24,++Gt,Dt=(Dt&65535)*dt+(((Dt>>>16)*dt&65535)<<16)&4294967295,Dt=Dt<<15|Dt>>>17,Dt=(Dt&65535)*Mt+(((Dt>>>16)*Mt&65535)<<16)&4294967295,Pe^=Dt,Pe=Pe<<13|Pe>>>19,Qe=(Pe&65535)*5+(((Pe>>>16)*5&65535)<<16)&4294967295,Pe=(Qe&65535)+27492+(((Qe>>>16)+58964&65535)<<16);switch(Dt=0,ve){case 3:Dt^=(U.charCodeAt(Gt+2)&255)<<16;case 2:Dt^=(U.charCodeAt(Gt+1)&255)<<8;case 1:Dt^=U.charCodeAt(Gt)&255,Dt=(Dt&65535)*dt+(((Dt>>>16)*dt&65535)<<16)&4294967295,Dt=Dt<<15|Dt>>>17,Dt=(Dt&65535)*Mt+(((Dt>>>16)*Mt&65535)<<16)&4294967295,Pe^=Dt}return Pe^=U.length,Pe^=Pe>>>16,Pe=(Pe&65535)*2246822507+(((Pe>>>16)*2246822507&65535)<<16)&4294967295,Pe^=Pe>>>13,Pe=(Pe&65535)*3266489909+(((Pe>>>16)*3266489909&65535)<<16)&4294967295,Pe^=Pe>>>16,Pe>>>0}R.exports=D}),ee=L(function(R){function D(U,ne){for(var ve=U.length,be=ne^ve,Pe=0,Qe;ve>=4;)Qe=U.charCodeAt(Pe)&255|(U.charCodeAt(++Pe)&255)<<8|(U.charCodeAt(++Pe)&255)<<16|(U.charCodeAt(++Pe)&255)<<24,Qe=(Qe&65535)*1540483477+(((Qe>>>16)*1540483477&65535)<<16),Qe^=Qe>>>24,Qe=(Qe&65535)*1540483477+(((Qe>>>16)*1540483477&65535)<<16),be=(be&65535)*1540483477+(((be>>>16)*1540483477&65535)<<16)^Qe,ve-=4,++Pe;switch(ve){case 3:be^=(U.charCodeAt(Pe+2)&255)<<16;case 2:be^=(U.charCodeAt(Pe+1)&255)<<8;case 1:be^=U.charCodeAt(Pe)&255,be=(be&65535)*1540483477+(((be>>>16)*1540483477&65535)<<16)}return be^=be>>>13,be=(be&65535)*1540483477+(((be>>>16)*1540483477&65535)<<16),be^=be>>>15,be>>>0}R.exports=D}),pe=de,ze=de,Ye=ee;pe.murmur3=ze,pe.murmur2=Ye;var ft=function(){this.ids=[],this.positions=[],this.indexed=!1};ft.prototype.add=function(D,U,ne,ve){this.ids.push(Nt(D)),this.positions.push(U,ne,ve)},ft.prototype.getPositions=function(D){for(var U=Nt(D),ne=0,ve=this.ids.length-1;ne<ve;){var be=ne+ve>>1;this.ids[be]>=U?ve=be:ne=be+1}for(var Pe=[];this.ids[ne]===U;){var Qe=this.positions[3*ne],dt=this.positions[3*ne+1],Mt=this.positions[3*ne+2];Pe.push({index:Qe,start:dt,end:Mt}),ne++}return Pe},ft.serialize=function(D,U){var ne=new Float64Array(D.ids),ve=new Uint32Array(D.positions);return qt(ne,ve,0,ne.length-1),U&&U.push(ne.buffer,ve.buffer),{ids:ne,positions:ve}},ft.deserialize=function(D){var U=new ft;return U.ids=D.ids,U.positions=D.positions,U.indexed=!0,U};var Ct=Math.pow(2,53)-1;function Nt(R){var D=+R;return!isNaN(D)&&D<=Ct?D:pe(String(R))}function qt(R,D,U,ne){for(;U<ne;){for(var ve=R[U+ne>>1],be=U-1,Pe=ne+1;;){do be++;while(R[be]<ve);do Pe--;while(R[Pe]>ve);if(be>=Pe)break;ur(R,be,Pe),ur(D,3*be,3*Pe),ur(D,3*be+1,3*Pe+1),ur(D,3*be+2,3*Pe+2)}Pe-U<ne-Pe?(qt(R,D,U,Pe),U=Pe+1):(qt(R,D,Pe+1,ne),ne=Pe)}}function ur(R,D,U){var ne=R[D];R[D]=R[U],R[U]=ne}Be("FeaturePositionMap",ft);var lr=function(D,U){this.gl=D.gl,this.location=U},Fr=function(R){function D(U,ne){R.call(this,U,ne),this.current=0}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ne){this.current!==ne&&(this.current=ne,this.gl.uniform1i(this.location,ne))},D}(lr),Zr=function(R){function D(U,ne){R.call(this,U,ne),this.current=0}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ne){this.current!==ne&&(this.current=ne,this.gl.uniform1f(this.location,ne))},D}(lr),jr=function(R){function D(U,ne){R.call(this,U,ne),this.current=[0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ne){(ne[0]!==this.current[0]||ne[1]!==this.current[1])&&(this.current=ne,this.gl.uniform2f(this.location,ne[0],ne[1]))},D}(lr),Wr=function(R){function D(U,ne){R.call(this,U,ne),this.current=[0,0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ne){(ne[0]!==this.current[0]||ne[1]!==this.current[1]||ne[2]!==this.current[2])&&(this.current=ne,this.gl.uniform3f(this.location,ne[0],ne[1],ne[2]))},D}(lr),Jr=function(R){function D(U,ne){R.call(this,U,ne),this.current=[0,0,0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ne){(ne[0]!==this.current[0]||ne[1]!==this.current[1]||ne[2]!==this.current[2]||ne[3]!==this.current[3])&&(this.current=ne,this.gl.uniform4f(this.location,ne[0],ne[1],ne[2],ne[3]))},D}(lr),dn=function(R){function D(U,ne){R.call(this,U,ne),this.current=ei.transparent}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ne){(ne.r!==this.current.r||ne.g!==this.current.g||ne.b!==this.current.b||ne.a!==this.current.a)&&(this.current=ne,this.gl.uniform4f(this.location,ne.r,ne.g,ne.b,ne.a))},D}(lr),kn=new Float32Array(16),Un=function(R){function D(U,ne){R.call(this,U,ne),this.current=kn}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(ne){if(ne[12]!==this.current[12]||ne[0]!==this.current[0]){this.current=ne,this.gl.uniformMatrix4fv(this.location,!1,ne);return}for(var ve=1;ve<16;ve++)if(ne[ve]!==this.current[ve]){this.current=ne,this.gl.uniformMatrix4fv(this.location,!1,ne);break}},D}(lr);function Xn(R){return[ce(255*R.r,255*R.g),ce(255*R.b,255*R.a)]}var Zn=function(D,U,ne){this.value=D,this.uniformNames=U.map(function(ve){return"u_"+ve}),this.type=ne};Zn.prototype.setUniform=function(D,U,ne){D.set(ne.constantOr(this.value))},Zn.prototype.getBinding=function(D,U,ne){return this.type==="color"?new dn(D,U):new Zr(D,U)};var Gn=function(D,U){this.uniformNames=U.map(function(ne){return"u_"+ne}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Gn.prototype.setConstantPatternPositions=function(D,U){this.pixelRatioFrom=U.pixelRatio,this.pixelRatioTo=D.pixelRatio,this.patternFrom=U.tlbr,this.patternTo=D.tlbr},Gn.prototype.setUniform=function(D,U,ne,ve){var be=ve==="u_pattern_to"?this.patternTo:ve==="u_pattern_from"?this.patternFrom:ve==="u_pixel_ratio_to"?this.pixelRatioTo:ve==="u_pixel_ratio_from"?this.pixelRatioFrom:null;be&&D.set(be)},Gn.prototype.getBinding=function(D,U,ne){return ne.substr(0,9)==="u_pattern"?new Jr(D,U):new Zr(D,U)};var Jn=function(D,U,ne,ve){this.expression=D,this.type=ne,this.maxValue=0,this.paintVertexAttributes=U.map(function(be){return{name:"a_"+be,type:"Float32",components:ne==="color"?2:1,offset:0}}),this.paintVertexArray=new ve};Jn.prototype.populatePaintArray=function(D,U,ne,ve,be){var Pe=this.paintVertexArray.length,Qe=this.expression.evaluate(new Ta(0),U,{},ve,[],be);this.paintVertexArray.resize(D),this._setPaintValue(Pe,D,Qe)},Jn.prototype.updatePaintArray=function(D,U,ne,ve){var be=this.expression.evaluate({zoom:0},ne,ve);this._setPaintValue(D,U,be)},Jn.prototype._setPaintValue=function(D,U,ne){if(this.type==="color")for(var ve=Xn(ne),be=D;be<U;be++)this.paintVertexArray.emplace(be,ve[0],ve[1]);else{for(var Pe=D;Pe<U;Pe++)this.paintVertexArray.emplace(Pe,ne);this.maxValue=Math.max(this.maxValue,Math.abs(ne))}},Jn.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Jn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var na=function(D,U,ne,ve,be,Pe){this.expression=D,this.uniformNames=U.map(function(Qe){return"u_"+Qe+"_t"}),this.type=ne,this.useIntegerZoom=ve,this.zoom=be,this.maxValue=0,this.paintVertexAttributes=U.map(function(Qe){return{name:"a_"+Qe,type:"Float32",components:ne==="color"?4:2,offset:0}}),this.paintVertexArray=new Pe};na.prototype.populatePaintArray=function(D,U,ne,ve,be){var Pe=this.expression.evaluate(new Ta(this.zoom),U,{},ve,[],be),Qe=this.expression.evaluate(new Ta(this.zoom+1),U,{},ve,[],be),dt=this.paintVertexArray.length;this.paintVertexArray.resize(D),this._setPaintValue(dt,D,Pe,Qe)},na.prototype.updatePaintArray=function(D,U,ne,ve){var be=this.expression.evaluate({zoom:this.zoom},ne,ve),Pe=this.expression.evaluate({zoom:this.zoom+1},ne,ve);this._setPaintValue(D,U,be,Pe)},na.prototype._setPaintValue=function(D,U,ne,ve){if(this.type==="color")for(var be=Xn(ne),Pe=Xn(ve),Qe=D;Qe<U;Qe++)this.paintVertexArray.emplace(Qe,be[0],be[1],Pe[0],Pe[1]);else{for(var dt=D;dt<U;dt++)this.paintVertexArray.emplace(dt,ne,ve);this.maxValue=Math.max(this.maxValue,Math.abs(ne),Math.abs(ve))}},na.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},na.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},na.prototype.setUniform=function(D,U){var ne=this.useIntegerZoom?Math.floor(U.zoom):U.zoom,ve=h(this.expression.interpolationFactor(ne,this.zoom,this.zoom+1),0,1);D.set(ve)},na.prototype.getBinding=function(D,U,ne){return new Zr(D,U)};var ua=function(D,U,ne,ve,be,Pe){this.expression=D,this.type=U,this.useIntegerZoom=ne,this.zoom=ve,this.layerId=Pe,this.zoomInPaintVertexArray=new be,this.zoomOutPaintVertexArray=new be};ua.prototype.populatePaintArray=function(D,U,ne){var ve=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(D),this.zoomOutPaintVertexArray.resize(D),this._setPaintValues(ve,D,U.patterns&&U.patterns[this.layerId],ne)},ua.prototype.updatePaintArray=function(D,U,ne,ve,be){this._setPaintValues(D,U,ne.patterns&&ne.patterns[this.layerId],be)},ua.prototype._setPaintValues=function(D,U,ne,ve){if(!(!ve||!ne)){var be=ne.min,Pe=ne.mid,Qe=ne.max,dt=ve[be],Mt=ve[Pe],Dt=ve[Qe];if(!(!dt||!Mt||!Dt))for(var Gt=D;Gt<U;Gt++)this.zoomInPaintVertexArray.emplace(Gt,Mt.tl[0],Mt.tl[1],Mt.br[0],Mt.br[1],dt.tl[0],dt.tl[1],dt.br[0],dt.br[1],Mt.pixelRatio,dt.pixelRatio),this.zoomOutPaintVertexArray.emplace(Gt,Mt.tl[0],Mt.tl[1],Mt.br[0],Mt.br[1],Dt.tl[0],Dt.tl[1],Dt.br[0],Dt.br[1],Mt.pixelRatio,Dt.pixelRatio)}},ua.prototype.upload=function(D){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=D.createVertexBuffer(this.zoomInPaintVertexArray,j.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=D.createVertexBuffer(this.zoomOutPaintVertexArray,j.members,this.expression.isStateDependent))},ua.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var ya=function(D,U,ne){this.binders={},this._buffers=[];var ve=[];for(var be in D.paint._values)if(ne(be)){var Pe=D.paint.get(be);if(!(!(Pe instanceof bi)||!Ps(Pe.property.specification))){var Qe=_a(be,D.type),dt=Pe.value,Mt=Pe.property.specification.type,Dt=Pe.property.useIntegerZoom,Gt=Pe.property.specification["property-type"],ir=Gt==="cross-faded"||Gt==="cross-faded-data-driven";if(dt.kind==="constant")this.binders[be]=ir?new Gn(dt.value,Qe):new Zn(dt.value,Qe,Mt),ve.push("/u_"+be);else if(dt.kind==="source"||ir){var rr=Ya(be,Mt,"source");this.binders[be]=ir?new ua(dt,Mt,Dt,U,rr,D.id):new Jn(dt,Qe,Mt,rr),ve.push("/a_"+be)}else{var br=Ya(be,Mt,"composite");this.binders[be]=new na(dt,Qe,Mt,Dt,U,br),ve.push("/z_"+be)}}}this.cacheKey=ve.sort().join("")};ya.prototype.getMaxValue=function(D){var U=this.binders[D];return U instanceof Jn||U instanceof na?U.maxValue:0},ya.prototype.populatePaintArrays=function(D,U,ne,ve,be){for(var Pe in this.binders){var Qe=this.binders[Pe];(Qe instanceof Jn||Qe instanceof na||Qe instanceof ua)&&Qe.populatePaintArray(D,U,ne,ve,be)}},ya.prototype.setConstantPatternPositions=function(D,U){for(var ne in this.binders){var ve=this.binders[ne];ve instanceof Gn&&ve.setConstantPatternPositions(D,U)}},ya.prototype.updatePaintArrays=function(D,U,ne,ve,be){var Pe=!1;for(var Qe in D)for(var dt=U.getPositions(Qe),Mt=0,Dt=dt;Mt<Dt.length;Mt+=1){var Gt=Dt[Mt],ir=ne.feature(Gt.index);for(var rr in this.binders){var br=this.binders[rr];if((br instanceof Jn||br instanceof na||br instanceof ua)&&br.expression.isStateDependent===!0){var Ur=ve.paint.get(rr);br.expression=Ur.value,br.updatePaintArray(Gt.start,Gt.end,ir,D[Qe],be),Pe=!0}}}return Pe},ya.prototype.defines=function(){var D=[];for(var U in this.binders){var ne=this.binders[U];(ne instanceof Zn||ne instanceof Gn)&&D.push.apply(D,ne.uniformNames.map(function(ve){return"#define HAS_UNIFORM_"+ve}))}return D},ya.prototype.getBinderAttributes=function(){var D=[];for(var U in this.binders){var ne=this.binders[U];if(ne instanceof Jn||ne instanceof na)for(var ve=0;ve<ne.paintVertexAttributes.length;ve++)D.push(ne.paintVertexAttributes[ve].name);else if(ne instanceof ua)for(var be=0;be<j.members.length;be++)D.push(j.members[be].name)}return D},ya.prototype.getBinderUniforms=function(){var D=[];for(var U in this.binders){var ne=this.binders[U];if(ne instanceof Zn||ne instanceof Gn||ne instanceof na)for(var ve=0,be=ne.uniformNames;ve<be.length;ve+=1){var Pe=be[ve];D.push(Pe)}}return D},ya.prototype.getPaintVertexBuffers=function(){return this._buffers},ya.prototype.getUniforms=function(D,U){var ne=[];for(var ve in this.binders){var be=this.binders[ve];if(be instanceof Zn||be instanceof Gn||be instanceof na)for(var Pe=0,Qe=be.uniformNames;Pe<Qe.length;Pe+=1){var dt=Qe[Pe];if(U[dt]){var Mt=be.getBinding(D,U[dt],dt);ne.push({name:dt,property:ve,binding:Mt})}}}return ne},ya.prototype.setUniforms=function(D,U,ne,ve){for(var be=0,Pe=U;be<Pe.length;be+=1){var Qe=Pe[be],dt=Qe.name,Mt=Qe.property,Dt=Qe.binding;this.binders[Mt].setUniform(Dt,ve,ne.get(Mt),dt)}},ya.prototype.updatePaintBuffers=function(D){this._buffers=[];for(var U in this.binders){var ne=this.binders[U];if(D&&ne instanceof ua){var ve=D.fromScale===2?ne.zoomInPaintVertexBuffer:ne.zoomOutPaintVertexBuffer;ve&&this._buffers.push(ve)}else(ne instanceof Jn||ne instanceof na)&&ne.paintVertexBuffer&&this._buffers.push(ne.paintVertexBuffer)}},ya.prototype.upload=function(D){for(var U in this.binders){var ne=this.binders[U];(ne instanceof Jn||ne instanceof na||ne instanceof ua)&&ne.upload(D)}this.updatePaintBuffers()},ya.prototype.destroy=function(){for(var D in this.binders){var U=this.binders[D];(U instanceof Jn||U instanceof na||U instanceof ua)&&U.destroy()}};var va=function(D,U,ne){ne===void 0&&(ne=function(){return!0}),this.programConfigurations={};for(var ve=0,be=D;ve<be.length;ve+=1){var Pe=be[ve];this.programConfigurations[Pe.id]=new ya(Pe,U,ne)}this.needsUpload=!1,this._featureMap=new ft,this._bufferOffset=0};va.prototype.populatePaintArrays=function(D,U,ne,ve,be,Pe){for(var Qe in this.programConfigurations)this.programConfigurations[Qe].populatePaintArrays(D,U,ve,be,Pe);U.id!==void 0&&this._featureMap.add(U.id,ne,this._bufferOffset,D),this._bufferOffset=D,this.needsUpload=!0},va.prototype.updatePaintArrays=function(D,U,ne,ve){for(var be=0,Pe=ne;be<Pe.length;be+=1){var Qe=Pe[be];this.needsUpload=this.programConfigurations[Qe.id].updatePaintArrays(D,this._featureMap,U,Qe,ve)||this.needsUpload}},va.prototype.get=function(D){return this.programConfigurations[D]},va.prototype.upload=function(D){if(this.needsUpload){for(var U in this.programConfigurations)this.programConfigurations[U].upload(D);this.needsUpload=!1}},va.prototype.destroy=function(){for(var D in this.programConfigurations)this.programConfigurations[D].destroy()};function _a(R,D){var U={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return U[R]||[R.replace(D+"-","").replace(/-/g,"_")]}function Qa(R){var D={"line-pattern":{source:$o,composite:$o},"fill-pattern":{source:$o,composite:$o},"fill-extrusion-pattern":{source:$o,composite:$o}};return D[R]}function Ya(R,D,U){var ne={color:{source:cc,composite:Sf},number:{source:hc,composite:cc}},ve=Qa(R);return ve&&ve[U]||ne[D][U]}Be("ConstantBinder",Zn),Be("CrossFadedConstantBinder",Gn),Be("SourceExpressionBinder",Jn),Be("CrossFadedCompositeBinder",ua),Be("CompositeExpressionBinder",na),Be("ProgramConfiguration",ya,{omit:["_buffers"]}),Be("ProgramConfigurationSet",va);var Aa=8192,Xa=15,Ua=Math.pow(2,Xa-1)-1,ii=-Ua-1;function ti(R){for(var D=Aa/R.extent,U=R.loadGeometry(),ne=0;ne<U.length;ne++)for(var ve=U[ne],be=0;be<ve.length;be++){var Pe=ve[be],Qe=Math.round(Pe.x*D),dt=Math.round(Pe.y*D);Pe.x=h(Qe,ii,Ua),Pe.y=h(dt,ii,Ua),(Qe<Pe.x||Qe>Pe.x+1||dt<Pe.y||dt>Pe.y+1)&&F("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return U}function Ti(R,D){return{type:R.type,id:R.id,properties:R.properties,geometry:D?ti(R):[]}}function Ja(R,D,U,ne,ve){R.emplaceBack(D*2+(ne+1)/2,U*2+(ve+1)/2)}var gi=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(U){return U.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new Mf,this.indexArray=new Au,this.segments=new ao,this.programConfigurations=new va(D.layers,D.zoom),this.stateDependentLayerIds=this.layers.filter(function(U){return U.isStateDependent()}).map(function(U){return U.id})};gi.prototype.populate=function(D,U,ne){var ve=this.layers[0],be=[],Pe=null;ve.type==="circle"&&(Pe=ve.layout.get("circle-sort-key"));for(var Qe=0,dt=D;Qe<dt.length;Qe+=1){var Mt=dt[Qe],Dt=Mt.feature,Gt=Mt.id,ir=Mt.index,rr=Mt.sourceLayerIndex,br=this.layers[0]._featureFilter.needGeometry,Ur=Ti(Dt,br);if(this.layers[0]._featureFilter.filter(new Ta(this.zoom),Ur,ne)){var fn=Pe?Pe.evaluate(Ur,{},ne):void 0,en={id:Gt,properties:Dt.properties,type:Dt.type,sourceLayerIndex:rr,index:ir,geometry:br?Ur.geometry:ti(Dt),patterns:{},sortKey:fn};be.push(en)}}Pe&&be.sort(function(da,ma){return da.sortKey-ma.sortKey});for(var Sn=0,xn=be;Sn<xn.length;Sn+=1){var Mn=xn[Sn],zn=Mn,Yn=zn.geometry,aa=zn.index,ea=zn.sourceLayerIndex,ba=D[aa].feature;this.addFeature(Mn,Yn,aa,ne),U.featureIndex.insert(ba,Yn,aa,ea,this.index)}},gi.prototype.update=function(D,U,ne){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,U,this.stateDependentLayers,ne)},gi.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},gi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},gi.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,Qd),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},gi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},gi.prototype.addFeature=function(D,U,ne,ve){for(var be=0,Pe=U;be<Pe.length;be+=1)for(var Qe=Pe[be],dt=0,Mt=Qe;dt<Mt.length;dt+=1){var Dt=Mt[dt],Gt=Dt.x,ir=Dt.y;if(!(Gt<0||Gt>=Aa||ir<0||ir>=Aa)){var rr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,D.sortKey),br=rr.vertexLength;Ja(this.layoutVertexArray,Gt,ir,-1,-1),Ja(this.layoutVertexArray,Gt,ir,1,-1),Ja(this.layoutVertexArray,Gt,ir,1,1),Ja(this.layoutVertexArray,Gt,ir,-1,1),this.indexArray.emplaceBack(br,br+1,br+2),this.indexArray.emplaceBack(br,br+3,br+2),rr.vertexLength+=4,rr.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ne,{},ve)},Be("CircleBucket",gi,{omit:["layers"]});function Va(R,D){for(var U=0;U<R.length;U++)if(qo(D,R[U]))return!0;for(var ne=0;ne<D.length;ne++)if(qo(R,D[ne]))return!0;return!!Js(R,D)}function $a(R,D,U){return!!(qo(R,D)||Yl(D,R,U))}function Oi(R,D){if(R.length===1)return Xl(D,R[0]);for(var U=0;U<D.length;U++)for(var ne=D[U],ve=0;ve<ne.length;ve++)if(qo(R,ne[ve]))return!0;for(var be=0;be<R.length;be++)if(Xl(D,R[be]))return!0;for(var Pe=0;Pe<D.length;Pe++)if(Js(R,D[Pe]))return!0;return!1}function go(R,D,U){for(var ne=0;ne<D.length;ne++){var ve=D[ne];if(R.length>=3){for(var be=0;be<ve.length;be++)if(qo(R,ve[be]))return!0}if(Ks(R,ve,U))return!0}return!1}function Ks(R,D,U){if(R.length>1){if(Js(R,D))return!0;for(var ne=0;ne<D.length;ne++)if(Yl(D[ne],R,U))return!0}for(var ve=0;ve<R.length;ve++)if(Yl(R[ve],D,U))return!0;return!1}function Js(R,D){if(R.length===0||D.length===0)return!1;for(var U=0;U<R.length-1;U++)for(var ne=R[U],ve=R[U+1],be=0;be<D.length-1;be++){var Pe=D[be],Qe=D[be+1];if(dl(ne,ve,Pe,Qe))return!0}return!1}function dl(R,D,U,ne){return z(R,U,ne)!==z(D,U,ne)&&z(R,D,U)!==z(R,D,ne)}function Yl(R,D,U){var ne=U*U;if(D.length===1)return R.distSqr(D[0])<ne;for(var ve=1;ve<D.length;ve++){var be=D[ve-1],Pe=D[ve];if(Cf(R,be,Pe)<ne)return!0}return!1}function Cf(R,D,U){var ne=D.distSqr(U);if(ne===0)return R.distSqr(D);var ve=((R.x-D.x)*(U.x-D.x)+(R.y-D.y)*(U.y-D.y))/ne;return ve<0?R.distSqr(D):ve>1?R.distSqr(U):R.distSqr(U.sub(D)._mult(ve)._add(D))}function Xl(R,D){for(var U=!1,ne,ve,be,Pe=0;Pe<R.length;Pe++){ne=R[Pe];for(var Qe=0,dt=ne.length-1;Qe<ne.length;dt=Qe++)ve=ne[Qe],be=ne[dt],ve.y>D.y!=be.y>D.y&&D.x<(be.x-ve.x)*(D.y-ve.y)/(be.y-ve.y)+ve.x&&(U=!U)}return U}function qo(R,D){for(var U=!1,ne=0,ve=R.length-1;ne<R.length;ve=ne++){var be=R[ne],Pe=R[ve];be.y>D.y!=Pe.y>D.y&&D.x<(Pe.x-be.x)*(D.y-be.y)/(Pe.y-be.y)+be.x&&(U=!U)}return U}function jl(R,D,U,ne,ve){for(var be=0,Pe=R;be<Pe.length;be+=1){var Qe=Pe[be];if(D<=Qe.x&&U<=Qe.y&&ne>=Qe.x&&ve>=Qe.y)return!0}var dt=[new r(D,U),new r(D,ve),new r(ne,ve),new r(ne,U)];if(R.length>2)for(var Mt=0,Dt=dt;Mt<Dt.length;Mt+=1){var Gt=Dt[Mt];if(qo(R,Gt))return!0}for(var ir=0;ir<R.length-1;ir++){var rr=R[ir],br=R[ir+1];if(ps(rr,br,dt))return!0}return!1}function ps(R,D,U){var ne=U[0],ve=U[2];if(R.x<ne.x&&D.x<ne.x||R.x>ve.x&&D.x>ve.x||R.y<ne.y&&D.y<ne.y||R.y>ve.y&&D.y>ve.y)return!1;var be=z(R,D,U[0]);return be!==z(R,D,U[1])||be!==z(R,D,U[2])||be!==z(R,D,U[3])}function es(R,D,U){var ne=D.paint.get(R).value;return ne.kind==="constant"?ne.value:U.programConfigurations.get(D.id).getMaxValue(R)}function pl(R){return Math.sqrt(R[0]*R[0]+R[1]*R[1])}function Mu(R,D,U,ne,ve){if(!D[0]&&!D[1])return R;var be=r.convert(D)._mult(ve);U==="viewport"&&be._rotate(-ne);for(var Pe=[],Qe=0;Qe<R.length;Qe++){var dt=R[Qe];Pe.push(dt.sub(be))}return Pe}var yl=new fi({"circle-sort-key":new Ea(Mr.layout_circle["circle-sort-key"])}),_h=new fi({"circle-radius":new Ea(Mr.paint_circle["circle-radius"]),"circle-color":new Ea(Mr.paint_circle["circle-color"]),"circle-blur":new Ea(Mr.paint_circle["circle-blur"]),"circle-opacity":new Ea(Mr.paint_circle["circle-opacity"]),"circle-translate":new la(Mr.paint_circle["circle-translate"]),"circle-translate-anchor":new la(Mr.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new la(Mr.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new la(Mr.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ea(Mr.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ea(Mr.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ea(Mr.paint_circle["circle-stroke-opacity"])}),pc={paint:_h,layout:yl},wo=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var R=arguments,D=0,U=arguments.length;U--;)D+=R[U]*R[U];return Math.sqrt(D)});function zh(){var R=new wo(4);return wo!=Float32Array&&(R[1]=0,R[2]=0),R[0]=1,R[3]=1,R}function hh(R,D,U){var ne=D[0],ve=D[1],be=D[2],Pe=D[3],Qe=Math.sin(U),dt=Math.cos(U);return R[0]=ne*dt+be*Qe,R[1]=ve*dt+Pe*Qe,R[2]=ne*-Qe+be*dt,R[3]=ve*-Qe+Pe*dt,R}function No(){var R=new wo(9);return wo!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[5]=0,R[6]=0,R[7]=0),R[0]=1,R[4]=1,R[8]=1,R}function gc(R,D){var U=Math.sin(D),ne=Math.cos(D);return R[0]=ne,R[1]=U,R[2]=0,R[3]=-U,R[4]=ne,R[5]=0,R[6]=0,R[7]=0,R[8]=1,R}function Fh(){var R=new wo(16);return wo!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[11]=0,R[12]=0,R[13]=0,R[14]=0),R[0]=1,R[5]=1,R[10]=1,R[15]=1,R}function Oh(R){var D=new wo(16);return D[0]=R[0],D[1]=R[1],D[2]=R[2],D[3]=R[3],D[4]=R[4],D[5]=R[5],D[6]=R[6],D[7]=R[7],D[8]=R[8],D[9]=R[9],D[10]=R[10],D[11]=R[11],D[12]=R[12],D[13]=R[13],D[14]=R[14],D[15]=R[15],D}function Bh(R){return R[0]=1,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=1,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[10]=1,R[11]=0,R[12]=0,R[13]=0,R[14]=0,R[15]=1,R}function yc(R,D){var U=D[0],ne=D[1],ve=D[2],be=D[3],Pe=D[4],Qe=D[5],dt=D[6],Mt=D[7],Dt=D[8],Gt=D[9],ir=D[10],rr=D[11],br=D[12],Ur=D[13],fn=D[14],en=D[15],Sn=U*Qe-ne*Pe,xn=U*dt-ve*Pe,Mn=U*Mt-be*Pe,zn=ne*dt-ve*Qe,Yn=ne*Mt-be*Qe,aa=ve*Mt-be*dt,ea=Dt*Ur-Gt*br,ba=Dt*fn-ir*br,da=Dt*en-rr*br,ma=Gt*fn-ir*Ur,Ba=Gt*en-rr*Ur,wa=ir*en-rr*fn,Sa=Sn*wa-xn*Ba+Mn*ma+zn*da-Yn*ba+aa*ea;return Sa?(Sa=1/Sa,R[0]=(Qe*wa-dt*Ba+Mt*ma)*Sa,R[1]=(ve*Ba-ne*wa-be*ma)*Sa,R[2]=(Ur*aa-fn*Yn+en*zn)*Sa,R[3]=(ir*Yn-Gt*aa-rr*zn)*Sa,R[4]=(dt*da-Pe*wa-Mt*ba)*Sa,R[5]=(U*wa-ve*da+be*ba)*Sa,R[6]=(fn*Mn-br*aa-en*xn)*Sa,R[7]=(Dt*aa-ir*Mn+rr*xn)*Sa,R[8]=(Pe*Ba-Qe*da+Mt*ea)*Sa,R[9]=(ne*da-U*Ba-be*ea)*Sa,R[10]=(br*Yn-Ur*Mn+en*Sn)*Sa,R[11]=(Gt*Mn-Dt*Yn-rr*Sn)*Sa,R[12]=(Qe*ba-Pe*ma-dt*ea)*Sa,R[13]=(U*ma-ne*ba+ve*ea)*Sa,R[14]=(Ur*xn-br*zn-fn*Sn)*Sa,R[15]=(Dt*zn-Gt*xn+ir*Sn)*Sa,R):null}function mc(R,D,U){var ne=D[0],ve=D[1],be=D[2],Pe=D[3],Qe=D[4],dt=D[5],Mt=D[6],Dt=D[7],Gt=D[8],ir=D[9],rr=D[10],br=D[11],Ur=D[12],fn=D[13],en=D[14],Sn=D[15],xn=U[0],Mn=U[1],zn=U[2],Yn=U[3];return R[0]=xn*ne+Mn*Qe+zn*Gt+Yn*Ur,R[1]=xn*ve+Mn*dt+zn*ir+Yn*fn,R[2]=xn*be+Mn*Mt+zn*rr+Yn*en,R[3]=xn*Pe+Mn*Dt+zn*br+Yn*Sn,xn=U[4],Mn=U[5],zn=U[6],Yn=U[7],R[4]=xn*ne+Mn*Qe+zn*Gt+Yn*Ur,R[5]=xn*ve+Mn*dt+zn*ir+Yn*fn,R[6]=xn*be+Mn*Mt+zn*rr+Yn*en,R[7]=xn*Pe+Mn*Dt+zn*br+Yn*Sn,xn=U[8],Mn=U[9],zn=U[10],Yn=U[11],R[8]=xn*ne+Mn*Qe+zn*Gt+Yn*Ur,R[9]=xn*ve+Mn*dt+zn*ir+Yn*fn,R[10]=xn*be+Mn*Mt+zn*rr+Yn*en,R[11]=xn*Pe+Mn*Dt+zn*br+Yn*Sn,xn=U[12],Mn=U[13],zn=U[14],Yn=U[15],R[12]=xn*ne+Mn*Qe+zn*Gt+Yn*Ur,R[13]=xn*ve+Mn*dt+zn*ir+Yn*fn,R[14]=xn*be+Mn*Mt+zn*rr+Yn*en,R[15]=xn*Pe+Mn*Dt+zn*br+Yn*Sn,R}function Gi(R,D,U){var ne=U[0],ve=U[1],be=U[2],Pe,Qe,dt,Mt,Dt,Gt,ir,rr,br,Ur,fn,en;return D===R?(R[12]=D[0]*ne+D[4]*ve+D[8]*be+D[12],R[13]=D[1]*ne+D[5]*ve+D[9]*be+D[13],R[14]=D[2]*ne+D[6]*ve+D[10]*be+D[14],R[15]=D[3]*ne+D[7]*ve+D[11]*be+D[15]):(Pe=D[0],Qe=D[1],dt=D[2],Mt=D[3],Dt=D[4],Gt=D[5],ir=D[6],rr=D[7],br=D[8],Ur=D[9],fn=D[10],en=D[11],R[0]=Pe,R[1]=Qe,R[2]=dt,R[3]=Mt,R[4]=Dt,R[5]=Gt,R[6]=ir,R[7]=rr,R[8]=br,R[9]=Ur,R[10]=fn,R[11]=en,R[12]=Pe*ne+Dt*ve+br*be+D[12],R[13]=Qe*ne+Gt*ve+Ur*be+D[13],R[14]=dt*ne+ir*ve+fn*be+D[14],R[15]=Mt*ne+rr*ve+en*be+D[15]),R}function gs(R,D,U){var ne=U[0],ve=U[1],be=U[2];return R[0]=D[0]*ne,R[1]=D[1]*ne,R[2]=D[2]*ne,R[3]=D[3]*ne,R[4]=D[4]*ve,R[5]=D[5]*ve,R[6]=D[6]*ve,R[7]=D[7]*ve,R[8]=D[8]*be,R[9]=D[9]*be,R[10]=D[10]*be,R[11]=D[11]*be,R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15],R}function ys(R,D,U){var ne=Math.sin(U),ve=Math.cos(U),be=D[4],Pe=D[5],Qe=D[6],dt=D[7],Mt=D[8],Dt=D[9],Gt=D[10],ir=D[11];return D!==R&&(R[0]=D[0],R[1]=D[1],R[2]=D[2],R[3]=D[3],R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15]),R[4]=be*ve+Mt*ne,R[5]=Pe*ve+Dt*ne,R[6]=Qe*ve+Gt*ne,R[7]=dt*ve+ir*ne,R[8]=Mt*ve-be*ne,R[9]=Dt*ve-Pe*ne,R[10]=Gt*ve-Qe*ne,R[11]=ir*ve-dt*ne,R}function Nh(R,D,U){var ne=Math.sin(U),ve=Math.cos(U),be=D[0],Pe=D[1],Qe=D[2],dt=D[3],Mt=D[4],Dt=D[5],Gt=D[6],ir=D[7];return D!==R&&(R[8]=D[8],R[9]=D[9],R[10]=D[10],R[11]=D[11],R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15]),R[0]=be*ve+Mt*ne,R[1]=Pe*ve+Dt*ne,R[2]=Qe*ve+Gt*ne,R[3]=dt*ve+ir*ne,R[4]=Mt*ve-be*ne,R[5]=Dt*ve-Pe*ne,R[6]=Gt*ve-Qe*ne,R[7]=ir*ve-dt*ne,R}function Uv(R,D,U,ne,ve){var be=1/Math.tan(D/2),Pe;return R[0]=be/U,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=be,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[11]=-1,R[12]=0,R[13]=0,R[15]=0,ve!=null&&ve!==1/0?(Pe=1/(ne-ve),R[10]=(ve+ne)*Pe,R[14]=2*ve*ne*Pe):(R[10]=-1,R[14]=-2*ne),R}function U0(R,D,U,ne,ve,be,Pe){var Qe=1/(D-U),dt=1/(ne-ve),Mt=1/(be-Pe);return R[0]=-2*Qe,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=-2*dt,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[10]=2*Mt,R[11]=0,R[12]=(D+U)*Qe,R[13]=(ve+ne)*dt,R[14]=(Pe+be)*Mt,R[15]=1,R}var V0=mc;function vh(){var R=new wo(3);return wo!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0),R}function H0(R){var D=new wo(3);return D[0]=R[0],D[1]=R[1],D[2]=R[2],D}function Uh(R,D,U){return R[0]=D[0]+U[0],R[1]=D[1]+U[1],R[2]=D[2]+U[2],R}function G0(R,D,U){return R[0]=D[0]-U[0],R[1]=D[1]-U[1],R[2]=D[2]-U[2],R}function W0(R,D,U){return R[0]=D[0]*U,R[1]=D[1]*U,R[2]=D[2]*U,R}function Vv(R,D){var U=D[0],ne=D[1],ve=D[2],be=U*U+ne*ne+ve*ve;return be>0&&(be=1/Math.sqrt(be)),R[0]=D[0]*be,R[1]=D[1]*be,R[2]=D[2]*be,R}function Rw(R,D){return R[0]*D[0]+R[1]*D[1]+R[2]*D[2]}function Dw(R,D,U){var ne=D[0],ve=D[1],be=D[2],Pe=U[0],Qe=U[1],dt=U[2];return R[0]=ve*dt-be*Qe,R[1]=be*Pe-ne*dt,R[2]=ne*Qe-ve*Pe,R}function Iw(R,D,U){var ne=D[0],ve=D[1],be=D[2];return R[0]=ne*U[0]+ve*U[3]+be*U[6],R[1]=ne*U[1]+ve*U[4]+be*U[7],R[2]=ne*U[2]+ve*U[5]+be*U[8],R}var kw=G0;(function(){var R=vh();return function(D,U,ne,ve,be,Pe){var Qe,dt;for(U||(U=3),ne||(ne=0),ve?dt=Math.min(ve*U+ne,D.length):dt=D.length,Qe=ne;Qe<dt;Qe+=U)R[0]=D[Qe],R[1]=D[Qe+1],R[2]=D[Qe+2],be(R,R,Pe),D[Qe]=R[0],D[Qe+1]=R[1],D[Qe+2]=R[2];return D}})();function _w(){var R=new wo(4);return wo!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0,R[3]=0),R}function zw(R,D,U){return R[0]=D[0]*U,R[1]=D[1]*U,R[2]=D[2]*U,R[3]=D[3]*U,R}function Fw(R,D){return R[0]*D[0]+R[1]*D[1]+R[2]*D[2]+R[3]*D[3]}function $d(R,D,U){var ne=D[0],ve=D[1],be=D[2],Pe=D[3];return R[0]=U[0]*ne+U[4]*ve+U[8]*be+U[12]*Pe,R[1]=U[1]*ne+U[5]*ve+U[9]*be+U[13]*Pe,R[2]=U[2]*ne+U[6]*ve+U[10]*be+U[14]*Pe,R[3]=U[3]*ne+U[7]*ve+U[11]*be+U[15]*Pe,R}(function(){var R=_w();return function(D,U,ne,ve,be,Pe){var Qe,dt;for(U||(U=4),ne||(ne=0),ve?dt=Math.min(ve*U+ne,D.length):dt=D.length,Qe=ne;Qe<dt;Qe+=U)R[0]=D[Qe],R[1]=D[Qe+1],R[2]=D[Qe+2],R[3]=D[Qe+3],be(R,R,Pe),D[Qe]=R[0],D[Qe+1]=R[1],D[Qe+2]=R[2],D[Qe+3]=R[3];return D}})();function Ow(){var R=new wo(2);return wo!=Float32Array&&(R[0]=0,R[1]=0),R}function Bw(R){var D=R[0],U=R[1];return D*D+U*U}var Nw=Bw;(function(){var R=Ow();return function(D,U,ne,ve,be,Pe){var Qe,dt;for(U||(U=2),ne||(ne=0),ve?dt=Math.min(ve*U+ne,D.length):dt=D.length,Qe=ne;Qe<dt;Qe+=U)R[0]=D[Qe],R[1]=D[Qe+1],be(R,R,Pe),D[Qe]=R[0],D[Qe+1]=R[1];return D}})();var Uw=function(R){function D(U){R.call(this,U,pc)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ne){return new gi(ne)},D.prototype.queryRadius=function(ne){var ve=ne;return es("circle-radius",this,ve)+es("circle-stroke-width",this,ve)+pl(this.paint.get("circle-translate"))},D.prototype.queryIntersectsFeature=function(ne,ve,be,Pe,Qe,dt,Mt,Dt){for(var Gt=Mu(ne,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),dt.angle,Mt),ir=this.paint.get("circle-radius").evaluate(ve,be),rr=this.paint.get("circle-stroke-width").evaluate(ve,be),br=ir+rr,Ur=this.paint.get("circle-pitch-alignment")==="map",fn=Ur?Gt:Vw(Gt,Dt),en=Ur?br*Mt:br,Sn=0,xn=Pe;Sn<xn.length;Sn+=1)for(var Mn=xn[Sn],zn=0,Yn=Mn;zn<Yn.length;zn+=1){var aa=Yn[zn],ea=Ur?aa:_1(aa,Dt),ba=en,da=$d([],[aa.x,aa.y,0,1],Dt);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?ba*=da[3]/dt.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(ba*=dt.cameraToCenterDistance/da[3]),$a(fn,ea,ba))return!0}return!1},D}(Fi);function _1(R,D){var U=$d([],[R.x,R.y,0,1],D);return new r(U[0]/U[3],U[1]/U[3])}function Vw(R,D){return R.map(function(U){return _1(U,D)})}var z1=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(gi);Be("HeatmapBucket",z1,{omit:["layers"]});function Y0(R,D,U,ne){var ve=D.width,be=D.height;if(!ne)ne=new Uint8Array(ve*be*U);else if(ne instanceof Uint8ClampedArray)ne=new Uint8Array(ne.buffer);else if(ne.length!==ve*be*U)throw new RangeError("mismatched image size");return R.width=ve,R.height=be,R.data=ne,R}function F1(R,D,U){var ne=D.width,ve=D.height;if(!(ne===R.width&&ve===R.height)){var be=Y0({},{width:ne,height:ve},U);X0(R,be,{x:0,y:0},{x:0,y:0},{width:Math.min(R.width,ne),height:Math.min(R.height,ve)},U),R.width=ne,R.height=ve,R.data=be.data}}function X0(R,D,U,ne,ve,be){if(ve.width===0||ve.height===0)return D;if(ve.width>R.width||ve.height>R.height||U.x>R.width-ve.width||U.y>R.height-ve.height)throw new RangeError("out of range source coordinates for image copy");if(ve.width>D.width||ve.height>D.height||ne.x>D.width-ve.width||ne.y>D.height-ve.height)throw new RangeError("out of range destination coordinates for image copy");for(var Pe=R.data,Qe=D.data,dt=0;dt<ve.height;dt++)for(var Mt=((U.y+dt)*R.width+U.x)*be,Dt=((ne.y+dt)*D.width+ne.x)*be,Gt=0;Gt<ve.width*be;Gt++)Qe[Dt+Gt]=Pe[Mt+Gt];return D}var dh=function(D,U){Y0(this,D,1,U)};dh.prototype.resize=function(D){F1(this,D,1)},dh.prototype.clone=function(){return new dh({width:this.width,height:this.height},new Uint8Array(this.data))},dh.copy=function(D,U,ne,ve,be){X0(D,U,ne,ve,be,1)};var ms=function(D,U){Y0(this,D,4,U)};ms.prototype.resize=function(D){F1(this,D,4)},ms.prototype.replace=function(D,U){U?this.data.set(D):D instanceof Uint8ClampedArray?this.data=new Uint8Array(D.buffer):this.data=D},ms.prototype.clone=function(){return new ms({width:this.width,height:this.height},new Uint8Array(this.data))},ms.copy=function(D,U,ne,ve,be){X0(D,U,ne,ve,be,4)},Be("AlphaImage",dh),Be("RGBAImage",ms);var Hw=new fi({"heatmap-radius":new Ea(Mr.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ea(Mr.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new la(Mr.paint_heatmap["heatmap-intensity"]),"heatmap-color":new no(Mr.paint_heatmap["heatmap-color"]),"heatmap-opacity":new la(Mr.paint_heatmap["heatmap-opacity"])}),Gw={paint:Hw};function O1(R){var D={},U=R.resolution||256,ne=R.clips?R.clips.length:1,ve=R.image||new ms({width:U,height:ne}),be=function(Sn,xn,Mn){D[R.evaluationKey]=Mn;var zn=R.expression.evaluate(D);ve.data[Sn+xn+0]=Math.floor(zn.r*255/zn.a),ve.data[Sn+xn+1]=Math.floor(zn.g*255/zn.a),ve.data[Sn+xn+2]=Math.floor(zn.b*255/zn.a),ve.data[Sn+xn+3]=Math.floor(zn.a*255)};if(R.clips)for(var Mt=0,Dt=0;Mt<ne;++Mt,Dt+=U*4)for(var Gt=0,ir=0;Gt<U;Gt++,ir+=4){var rr=Gt/(U-1),br=R.clips[Mt],Ur=br.start,fn=br.end,en=Ur*(1-rr)+fn*rr;be(Dt,ir,en)}else for(var Pe=0,Qe=0;Pe<U;Pe++,Qe+=4){var dt=Pe/(U-1);be(0,Qe,dt)}return ve}var Ww=function(R){function D(U){R.call(this,U,Gw),this._updateColorRamp()}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ne){return new z1(ne)},D.prototype._handleSpecialPaintPropertyUpdate=function(ne){ne==="heatmap-color"&&this._updateColorRamp()},D.prototype._updateColorRamp=function(){var ne=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=O1({expression:ne,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},D.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},D}(Fi),Yw=new fi({"hillshade-illumination-direction":new la(Mr.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new la(Mr.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new la(Mr.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new la(Mr.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new la(Mr.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new la(Mr.paint_hillshade["hillshade-accent-color"])}),Xw={paint:Yw},jw=function(R){function D(U){R.call(this,U,Xw)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},D}(Fi),Zw=Ci([{name:"a_pos",components:2,type:"Int16"}],4),Kw=Zw.members,j0=qd,Jw=qd;function qd(R,D,U){U=U||2;var ne=D&&D.length,ve=ne?D[0]*U:R.length,be=B1(R,0,ve,U,!0),Pe=[];if(!be||be.next===be.prev)return Pe;var Qe,dt,Mt,Dt,Gt,ir,rr;if(ne&&(be=t2(R,D,be,U)),R.length>80*U){Qe=Mt=R[0],dt=Dt=R[1];for(var br=U;br<ve;br+=U)Gt=R[br],ir=R[br+1],Gt<Qe&&(Qe=Gt),ir<dt&&(dt=ir),Gt>Mt&&(Mt=Gt),ir>Dt&&(Dt=ir);rr=Math.max(Mt-Qe,Dt-dt),rr=rr!==0?1/rr:0}return Hv(be,Pe,U,Qe,dt,rr),Pe}function B1(R,D,U,ne,ve){var be,Pe;if(ve===J0(R,D,U,ne)>0)for(be=D;be<U;be+=ne)Pe=V1(be,R[be],R[be+1],Pe);else for(be=U-ne;be>=D;be-=ne)Pe=V1(be,R[be],R[be+1],Pe);return Pe&&ep(Pe,Pe.next)&&(Wv(Pe),Pe=Pe.next),Pe}function xc(R,D){if(!R)return R;D||(D=R);var U=R,ne;do if(ne=!1,!U.steiner&&(ep(U,U.next)||io(U.prev,U,U.next)===0)){if(Wv(U),U=D=U.prev,U===U.next)break;ne=!0}else U=U.next;while(ne||U!==D);return D}function Hv(R,D,U,ne,ve,be,Pe){if(R){!Pe&&be&&o2(R,ne,ve,be);for(var Qe=R,dt,Mt;R.prev!==R.next;){if(dt=R.prev,Mt=R.next,be?$w(R,ne,ve,be):Qw(R)){D.push(dt.i/U),D.push(R.i/U),D.push(Mt.i/U),Wv(R),R=Mt.next,Qe=Mt.next;continue}if(R=Mt,R===Qe){Pe?Pe===1?(R=qw(xc(R),D,U),Hv(R,D,U,ne,ve,be,2)):Pe===2&&e2(R,D,U,ne,ve,be):Hv(xc(R),D,U,ne,ve,be,1);break}}}}function Qw(R){var D=R.prev,U=R,ne=R.next;if(io(D,U,ne)>=0)return!1;for(var ve=R.next.next;ve!==R.prev;){if(Vh(D.x,D.y,U.x,U.y,ne.x,ne.y,ve.x,ve.y)&&io(ve.prev,ve,ve.next)>=0)return!1;ve=ve.next}return!0}function $w(R,D,U,ne){var ve=R.prev,be=R,Pe=R.next;if(io(ve,be,Pe)>=0)return!1;for(var Qe=ve.x<be.x?ve.x<Pe.x?ve.x:Pe.x:be.x<Pe.x?be.x:Pe.x,dt=ve.y<be.y?ve.y<Pe.y?ve.y:Pe.y:be.y<Pe.y?be.y:Pe.y,Mt=ve.x>be.x?ve.x>Pe.x?ve.x:Pe.x:be.x>Pe.x?be.x:Pe.x,Dt=ve.y>be.y?ve.y>Pe.y?ve.y:Pe.y:be.y>Pe.y?be.y:Pe.y,Gt=Z0(Qe,dt,D,U,ne),ir=Z0(Mt,Dt,D,U,ne),rr=R.prevZ,br=R.nextZ;rr&&rr.z>=Gt&&br&&br.z<=ir;){if(rr!==R.prev&&rr!==R.next&&Vh(ve.x,ve.y,be.x,be.y,Pe.x,Pe.y,rr.x,rr.y)&&io(rr.prev,rr,rr.next)>=0||(rr=rr.prevZ,br!==R.prev&&br!==R.next&&Vh(ve.x,ve.y,be.x,be.y,Pe.x,Pe.y,br.x,br.y)&&io(br.prev,br,br.next)>=0))return!1;br=br.nextZ}for(;rr&&rr.z>=Gt;){if(rr!==R.prev&&rr!==R.next&&Vh(ve.x,ve.y,be.x,be.y,Pe.x,Pe.y,rr.x,rr.y)&&io(rr.prev,rr,rr.next)>=0)return!1;rr=rr.prevZ}for(;br&&br.z<=ir;){if(br!==R.prev&&br!==R.next&&Vh(ve.x,ve.y,be.x,be.y,Pe.x,Pe.y,br.x,br.y)&&io(br.prev,br,br.next)>=0)return!1;br=br.nextZ}return!0}function qw(R,D,U){var ne=R;do{var ve=ne.prev,be=ne.next.next;!ep(ve,be)&&N1(ve,ne,ne.next,be)&&Gv(ve,be)&&Gv(be,ve)&&(D.push(ve.i/U),D.push(ne.i/U),D.push(be.i/U),Wv(ne),Wv(ne.next),ne=R=be),ne=ne.next}while(ne!==R);return xc(ne)}function e2(R,D,U,ne,ve,be){var Pe=R;do{for(var Qe=Pe.next.next;Qe!==Pe.prev;){if(Pe.i!==Qe.i&&u2(Pe,Qe)){var dt=U1(Pe,Qe);Pe=xc(Pe,Pe.next),dt=xc(dt,dt.next),Hv(Pe,D,U,ne,ve,be),Hv(dt,D,U,ne,ve,be);return}Qe=Qe.next}Pe=Pe.next}while(Pe!==R)}function t2(R,D,U,ne){var ve=[],be,Pe,Qe,dt,Mt;for(be=0,Pe=D.length;be<Pe;be++)Qe=D[be]*ne,dt=be<Pe-1?D[be+1]*ne:R.length,Mt=B1(R,Qe,dt,ne,!1),Mt===Mt.next&&(Mt.steiner=!0),ve.push(l2(Mt));for(ve.sort(r2),be=0;be<ve.length;be++)n2(ve[be],U),U=xc(U,U.next);return U}function r2(R,D){return R.x-D.x}function n2(R,D){if(D=a2(R,D),D){var U=U1(D,R);xc(D,D.next),xc(U,U.next)}}function a2(R,D){var U=D,ne=R.x,ve=R.y,be=-1/0,Pe;do{if(ve<=U.y&&ve>=U.next.y&&U.next.y!==U.y){var Qe=U.x+(ve-U.y)*(U.next.x-U.x)/(U.next.y-U.y);if(Qe<=ne&&Qe>be){if(be=Qe,Qe===ne){if(ve===U.y)return U;if(ve===U.next.y)return U.next}Pe=U.x<U.next.x?U:U.next}}U=U.next}while(U!==D);if(!Pe)return null;if(ne===be)return Pe;var dt=Pe,Mt=Pe.x,Dt=Pe.y,Gt=1/0,ir;U=Pe;do ne>=U.x&&U.x>=Mt&&ne!==U.x&&Vh(ve<Dt?ne:be,ve,Mt,Dt,ve<Dt?be:ne,ve,U.x,U.y)&&(ir=Math.abs(ve-U.y)/(ne-U.x),Gv(U,R)&&(ir<Gt||ir===Gt&&(U.x>Pe.x||U.x===Pe.x&&i2(Pe,U)))&&(Pe=U,Gt=ir)),U=U.next;while(U!==dt);return Pe}function i2(R,D){return io(R.prev,R,D.prev)<0&&io(D.next,R,R.next)<0}function o2(R,D,U,ne){var ve=R;do ve.z===null&&(ve.z=Z0(ve.x,ve.y,D,U,ne)),ve.prevZ=ve.prev,ve.nextZ=ve.next,ve=ve.next;while(ve!==R);ve.prevZ.nextZ=null,ve.prevZ=null,s2(ve)}function s2(R){var D,U,ne,ve,be,Pe,Qe,dt,Mt=1;do{for(U=R,R=null,be=null,Pe=0;U;){for(Pe++,ne=U,Qe=0,D=0;D<Mt&&(Qe++,ne=ne.nextZ,!!ne);D++);for(dt=Mt;Qe>0||dt>0&&ne;)Qe!==0&&(dt===0||!ne||U.z<=ne.z)?(ve=U,U=U.nextZ,Qe--):(ve=ne,ne=ne.nextZ,dt--),be?be.nextZ=ve:R=ve,ve.prevZ=be,be=ve;U=ne}be.nextZ=null,Mt*=2}while(Pe>1);return R}function Z0(R,D,U,ne,ve){return R=32767*(R-U)*ve,D=32767*(D-ne)*ve,R=(R|R<<8)&16711935,R=(R|R<<4)&252645135,R=(R|R<<2)&858993459,R=(R|R<<1)&1431655765,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,R|D<<1}function l2(R){var D=R,U=R;do(D.x<U.x||D.x===U.x&&D.y<U.y)&&(U=D),D=D.next;while(D!==R);return U}function Vh(R,D,U,ne,ve,be,Pe,Qe){return(ve-Pe)*(D-Qe)-(R-Pe)*(be-Qe)>=0&&(R-Pe)*(ne-Qe)-(U-Pe)*(D-Qe)>=0&&(U-Pe)*(be-Qe)-(ve-Pe)*(ne-Qe)>=0}function u2(R,D){return R.next.i!==D.i&&R.prev.i!==D.i&&!f2(R,D)&&(Gv(R,D)&&Gv(D,R)&&c2(R,D)&&(io(R.prev,R,D.prev)||io(R,D.prev,D))||ep(R,D)&&io(R.prev,R,R.next)>0&&io(D.prev,D,D.next)>0)}function io(R,D,U){return(D.y-R.y)*(U.x-D.x)-(D.x-R.x)*(U.y-D.y)}function ep(R,D){return R.x===D.x&&R.y===D.y}function N1(R,D,U,ne){var ve=rp(io(R,D,U)),be=rp(io(R,D,ne)),Pe=rp(io(U,ne,R)),Qe=rp(io(U,ne,D));return!!(ve!==be&&Pe!==Qe||ve===0&&tp(R,U,D)||be===0&&tp(R,ne,D)||Pe===0&&tp(U,R,ne)||Qe===0&&tp(U,D,ne))}function tp(R,D,U){return D.x<=Math.max(R.x,U.x)&&D.x>=Math.min(R.x,U.x)&&D.y<=Math.max(R.y,U.y)&&D.y>=Math.min(R.y,U.y)}function rp(R){return R>0?1:R<0?-1:0}function f2(R,D){var U=R;do{if(U.i!==R.i&&U.next.i!==R.i&&U.i!==D.i&&U.next.i!==D.i&&N1(U,U.next,R,D))return!0;U=U.next}while(U!==R);return!1}function Gv(R,D){return io(R.prev,R,R.next)<0?io(R,D,R.next)>=0&&io(R,R.prev,D)>=0:io(R,D,R.prev)<0||io(R,R.next,D)<0}function c2(R,D){var U=R,ne=!1,ve=(R.x+D.x)/2,be=(R.y+D.y)/2;do U.y>be!=U.next.y>be&&U.next.y!==U.y&&ve<(U.next.x-U.x)*(be-U.y)/(U.next.y-U.y)+U.x&&(ne=!ne),U=U.next;while(U!==R);return ne}function U1(R,D){var U=new K0(R.i,R.x,R.y),ne=new K0(D.i,D.x,D.y),ve=R.next,be=D.prev;return R.next=D,D.prev=R,U.next=ve,ve.prev=U,ne.next=U,U.prev=ne,be.next=ne,ne.prev=be,ne}function V1(R,D,U,ne){var ve=new K0(R,D,U);return ne?(ve.next=ne.next,ve.prev=ne,ne.next.prev=ve,ne.next=ve):(ve.prev=ve,ve.next=ve),ve}function Wv(R){R.next.prev=R.prev,R.prev.next=R.next,R.prevZ&&(R.prevZ.nextZ=R.nextZ),R.nextZ&&(R.nextZ.prevZ=R.prevZ)}function K0(R,D,U){this.i=R,this.x=D,this.y=U,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}qd.deviation=function(R,D,U,ne){var ve=D&&D.length,be=ve?D[0]*U:R.length,Pe=Math.abs(J0(R,0,be,U));if(ve)for(var Qe=0,dt=D.length;Qe<dt;Qe++){var Mt=D[Qe]*U,Dt=Qe<dt-1?D[Qe+1]*U:R.length;Pe-=Math.abs(J0(R,Mt,Dt,U))}var Gt=0;for(Qe=0;Qe<ne.length;Qe+=3){var ir=ne[Qe]*U,rr=ne[Qe+1]*U,br=ne[Qe+2]*U;Gt+=Math.abs((R[ir]-R[br])*(R[rr+1]-R[ir+1])-(R[ir]-R[rr])*(R[br+1]-R[ir+1]))}return Pe===0&&Gt===0?0:Math.abs((Gt-Pe)/Pe)};function J0(R,D,U,ne){for(var ve=0,be=D,Pe=U-ne;be<U;be+=ne)ve+=(R[Pe]-R[be])*(R[be+1]+R[Pe+1]),Pe=be;return ve}qd.flatten=function(R){for(var D=R[0][0].length,U={vertices:[],holes:[],dimensions:D},ne=0,ve=0;ve<R.length;ve++){for(var be=0;be<R[ve].length;be++)for(var Pe=0;Pe<D;Pe++)U.vertices.push(R[ve][be][Pe]);ve>0&&(ne+=R[ve-1].length,U.holes.push(ne))}return U},j0.default=Jw;function h2(R,D,U,ne,ve){H1(R,D,U,ne||R.length-1,ve||v2)}function H1(R,D,U,ne,ve){for(;ne>U;){if(ne-U>600){var be=ne-U+1,Pe=D-U+1,Qe=Math.log(be),dt=.5*Math.exp(2*Qe/3),Mt=.5*Math.sqrt(Qe*dt*(be-dt)/be)*(Pe-be/2<0?-1:1),Dt=Math.max(U,Math.floor(D-Pe*dt/be+Mt)),Gt=Math.min(ne,Math.floor(D+(be-Pe)*dt/be+Mt));H1(R,D,Dt,Gt,ve)}var ir=R[D],rr=U,br=ne;for(Yv(R,U,D),ve(R[ne],ir)>0&&Yv(R,U,ne);rr<br;){for(Yv(R,rr,br),rr++,br--;ve(R[rr],ir)<0;)rr++;for(;ve(R[br],ir)>0;)br--}ve(R[U],ir)===0?Yv(R,U,br):(br++,Yv(R,br,ne)),br<=D&&(U=br+1),D<=br&&(ne=br-1)}}function Yv(R,D,U){var ne=R[D];R[D]=R[U],R[U]=ne}function v2(R,D){return R<D?-1:R>D?1:0}function Q0(R,D){var U=R.length;if(U<=1)return[R];for(var ne=[],ve,be,Pe=0;Pe<U;Pe++){var Qe=N(R[Pe]);Qe!==0&&(R[Pe].area=Math.abs(Qe),be===void 0&&(be=Qe<0),be===Qe<0?(ve&&ne.push(ve),ve=[R[Pe]]):ve.push(R[Pe]))}if(ve&&ne.push(ve),D>1)for(var dt=0;dt<ne.length;dt++)ne[dt].length<=D||(h2(ne[dt],D,1,ne[dt].length-1,d2),ne[dt]=ne[dt].slice(0,D));return ne}function d2(R,D){return D.area-R.area}function $0(R,D,U){for(var ne=U.patternDependencies,ve=!1,be=0,Pe=D;be<Pe.length;be+=1){var Qe=Pe[be],dt=Qe.paint.get(R+"-pattern");dt.isConstant()||(ve=!0);var Mt=dt.constantOr(null);Mt&&(ve=!0,ne[Mt.to]=!0,ne[Mt.from]=!0)}return ve}function q0(R,D,U,ne,ve){for(var be=ve.patternDependencies,Pe=0,Qe=D;Pe<Qe.length;Pe+=1){var dt=Qe[Pe],Mt=dt.paint.get(R+"-pattern"),Dt=Mt.value;if(Dt.kind!=="constant"){var Gt=Dt.evaluate({zoom:ne-1},U,{},ve.availableImages),ir=Dt.evaluate({zoom:ne},U,{},ve.availableImages),rr=Dt.evaluate({zoom:ne+1},U,{},ve.availableImages);Gt=Gt&&Gt.name?Gt.name:Gt,ir=ir&&ir.name?ir.name:ir,rr=rr&&rr.name?rr.name:rr,be[Gt]=!0,be[ir]=!0,be[rr]=!0,U.patterns[dt.id]={min:Gt,mid:ir,max:rr}}}return U}var p2=500,Su=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(U){return U.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Mf,this.indexArray=new Au,this.indexArray2=new ch,this.programConfigurations=new va(D.layers,D.zoom),this.segments=new ao,this.segments2=new ao,this.stateDependentLayerIds=this.layers.filter(function(U){return U.isStateDependent()}).map(function(U){return U.id})};Su.prototype.populate=function(D,U,ne){this.hasPattern=$0("fill",this.layers,U);for(var ve=this.layers[0].layout.get("fill-sort-key"),be=[],Pe=0,Qe=D;Pe<Qe.length;Pe+=1){var dt=Qe[Pe],Mt=dt.feature,Dt=dt.id,Gt=dt.index,ir=dt.sourceLayerIndex,rr=this.layers[0]._featureFilter.needGeometry,br=Ti(Mt,rr);if(this.layers[0]._featureFilter.filter(new Ta(this.zoom),br,ne)){var Ur=ve?ve.evaluate(br,{},ne,U.availableImages):void 0,fn={id:Dt,properties:Mt.properties,type:Mt.type,sourceLayerIndex:ir,index:Gt,geometry:rr?br.geometry:ti(Mt),patterns:{},sortKey:Ur};be.push(fn)}}ve&&be.sort(function(da,ma){return da.sortKey-ma.sortKey});for(var en=0,Sn=be;en<Sn.length;en+=1){var xn=Sn[en],Mn=xn,zn=Mn.geometry,Yn=Mn.index,aa=Mn.sourceLayerIndex;if(this.hasPattern){var ea=q0("fill",this.layers,xn,this.zoom,U);this.patternFeatures.push(ea)}else this.addFeature(xn,zn,Yn,ne,{});var ba=D[Yn].feature;U.featureIndex.insert(ba,zn,Yn,aa,this.index)}},Su.prototype.update=function(D,U,ne){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,U,this.stateDependentLayers,ne)},Su.prototype.addFeatures=function(D,U,ne){for(var ve=0,be=this.patternFeatures;ve<be.length;ve+=1){var Pe=be[ve];this.addFeature(Pe,Pe.geometry,Pe.index,U,ne)}},Su.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Su.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Su.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,Kw),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.indexBuffer2=D.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(D),this.uploaded=!0},Su.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Su.prototype.addFeature=function(D,U,ne,ve,be){for(var Pe=0,Qe=Q0(U,p2);Pe<Qe.length;Pe+=1){for(var dt=Qe[Pe],Mt=0,Dt=0,Gt=dt;Dt<Gt.length;Dt+=1){var ir=Gt[Dt];Mt+=ir.length}for(var rr=this.segments.prepareSegment(Mt,this.layoutVertexArray,this.indexArray),br=rr.vertexLength,Ur=[],fn=[],en=0,Sn=dt;en<Sn.length;en+=1){var xn=Sn[en];if(xn.length!==0){xn!==dt[0]&&fn.push(Ur.length/2);var Mn=this.segments2.prepareSegment(xn.length,this.layoutVertexArray,this.indexArray2),zn=Mn.vertexLength;this.layoutVertexArray.emplaceBack(xn[0].x,xn[0].y),this.indexArray2.emplaceBack(zn+xn.length-1,zn),Ur.push(xn[0].x),Ur.push(xn[0].y);for(var Yn=1;Yn<xn.length;Yn++)this.layoutVertexArray.emplaceBack(xn[Yn].x,xn[Yn].y),this.indexArray2.emplaceBack(zn+Yn-1,zn+Yn),Ur.push(xn[Yn].x),Ur.push(xn[Yn].y);Mn.vertexLength+=xn.length,Mn.primitiveLength+=xn.length}}for(var aa=j0(Ur,fn),ea=0;ea<aa.length;ea+=3)this.indexArray.emplaceBack(br+aa[ea],br+aa[ea+1],br+aa[ea+2]);rr.vertexLength+=Mt,rr.primitiveLength+=aa.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ne,be,ve)},Be("FillBucket",Su,{omit:["layers","patternFeatures"]});var g2=new fi({"fill-sort-key":new Ea(Mr.layout_fill["fill-sort-key"])}),y2=new fi({"fill-antialias":new la(Mr.paint_fill["fill-antialias"]),"fill-opacity":new Ea(Mr.paint_fill["fill-opacity"]),"fill-color":new Ea(Mr.paint_fill["fill-color"]),"fill-outline-color":new Ea(Mr.paint_fill["fill-outline-color"]),"fill-translate":new la(Mr.paint_fill["fill-translate"]),"fill-translate-anchor":new la(Mr.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ro(Mr.paint_fill["fill-pattern"])}),m2={paint:y2,layout:g2},x2=function(R){function D(U){R.call(this,U,m2)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(ne,ve){R.prototype.recalculate.call(this,ne,ve);var be=this.paint._values["fill-outline-color"];be.value.kind==="constant"&&be.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},D.prototype.createBucket=function(ne){return new Su(ne)},D.prototype.queryRadius=function(){return pl(this.paint.get("fill-translate"))},D.prototype.queryIntersectsFeature=function(ne,ve,be,Pe,Qe,dt,Mt){var Dt=Mu(ne,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),dt.angle,Mt);return Oi(Dt,Pe)},D.prototype.isTileClipped=function(){return!0},D}(Fi),b2=Ci([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),w2=b2.members,G1=Hh;function Hh(R,D,U,ne,ve){this.properties={},this.extent=U,this.type=0,this._pbf=R,this._geometry=-1,this._keys=ne,this._values=ve,R.readFields(T2,this,D)}function T2(R,D,U){R==1?D.id=U.readVarint():R==2?A2(U,D):R==3?D.type=U.readVarint():R==4&&(D._geometry=U.pos)}function A2(R,D){for(var U=R.readVarint()+R.pos;R.pos<U;){var ne=D._keys[R.readVarint()],ve=D._values[R.readVarint()];D.properties[ne]=ve}}Hh.types=["Unknown","Point","LineString","Polygon"],Hh.prototype.loadGeometry=function(){var R=this._pbf;R.pos=this._geometry;for(var D=R.readVarint()+R.pos,U=1,ne=0,ve=0,be=0,Pe=[],Qe;R.pos<D;){if(ne<=0){var dt=R.readVarint();U=dt&7,ne=dt>>3}if(ne--,U===1||U===2)ve+=R.readSVarint(),be+=R.readSVarint(),U===1&&(Qe&&Pe.push(Qe),Qe=[]),Qe.push(new r(ve,be));else if(U===7)Qe&&Qe.push(Qe[0].clone());else throw new Error("unknown command "+U)}return Qe&&Pe.push(Qe),Pe},Hh.prototype.bbox=function(){var R=this._pbf;R.pos=this._geometry;for(var D=R.readVarint()+R.pos,U=1,ne=0,ve=0,be=0,Pe=1/0,Qe=-1/0,dt=1/0,Mt=-1/0;R.pos<D;){if(ne<=0){var Dt=R.readVarint();U=Dt&7,ne=Dt>>3}if(ne--,U===1||U===2)ve+=R.readSVarint(),be+=R.readSVarint(),ve<Pe&&(Pe=ve),ve>Qe&&(Qe=ve),be<dt&&(dt=be),be>Mt&&(Mt=be);else if(U!==7)throw new Error("unknown command "+U)}return[Pe,dt,Qe,Mt]},Hh.prototype.toGeoJSON=function(R,D,U){var ne=this.extent*Math.pow(2,U),ve=this.extent*R,be=this.extent*D,Pe=this.loadGeometry(),Qe=Hh.types[this.type],dt,Mt;function Dt(rr){for(var br=0;br<rr.length;br++){var Ur=rr[br],fn=180-(Ur.y+be)*360/ne;rr[br]=[(Ur.x+ve)*360/ne-180,360/Math.PI*Math.atan(Math.exp(fn*Math.PI/180))-90]}}switch(this.type){case 1:var Gt=[];for(dt=0;dt<Pe.length;dt++)Gt[dt]=Pe[dt][0];Pe=Gt,Dt(Pe);break;case 2:for(dt=0;dt<Pe.length;dt++)Dt(Pe[dt]);break;case 3:for(Pe=M2(Pe),dt=0;dt<Pe.length;dt++)for(Mt=0;Mt<Pe[dt].length;Mt++)Dt(Pe[dt][Mt]);break}Pe.length===1?Pe=Pe[0]:Qe="Multi"+Qe;var ir={type:"Feature",geometry:{type:Qe,coordinates:Pe},properties:this.properties};return"id"in this&&(ir.id=this.id),ir};function M2(R){var D=R.length;if(D<=1)return[R];for(var U=[],ne,ve,be=0;be<D;be++){var Pe=S2(R[be]);Pe!==0&&(ve===void 0&&(ve=Pe<0),ve===Pe<0?(ne&&U.push(ne),ne=[R[be]]):ne.push(R[be]))}return ne&&U.push(ne),U}function S2(R){for(var D=0,U=0,ne=R.length,ve=ne-1,be,Pe;U<ne;ve=U++)be=R[U],Pe=R[ve],D+=(Pe.x-be.x)*(be.y+Pe.y);return D}var W1=Y1;function Y1(R,D){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=R,this._keys=[],this._values=[],this._features=[],R.readFields(E2,this,D),this.length=this._features.length}function E2(R,D,U){R===15?D.version=U.readVarint():R===1?D.name=U.readString():R===5?D.extent=U.readVarint():R===2?D._features.push(U.pos):R===3?D._keys.push(U.readString()):R===4&&D._values.push(C2(U))}function C2(R){for(var D=null,U=R.readVarint()+R.pos;R.pos<U;){var ne=R.readVarint()>>3;D=ne===1?R.readString():ne===2?R.readFloat():ne===3?R.readDouble():ne===4?R.readVarint64():ne===5?R.readVarint():ne===6?R.readSVarint():ne===7?R.readBoolean():null}return D}Y1.prototype.feature=function(R){if(R<0||R>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[R];var D=this._pbf.readVarint()+this._pbf.pos;return new G1(this._pbf,D,this.extent,this._keys,this._values)};var L2=P2;function P2(R,D){this.layers=R.readFields(R2,{},D)}function R2(R,D,U){if(R===3){var ne=new W1(U,U.readVarint()+U.pos);ne.length&&(D[ne.name]=ne)}}var D2=L2,I2=G1,k2=W1,Gh={VectorTile:D2,VectorTileFeature:I2,VectorTileLayer:k2},_2=Gh.VectorTileFeature.types,z2=500,eg=Math.pow(2,13);function Xv(R,D,U,ne,ve,be,Pe,Qe){R.emplaceBack(D,U,Math.floor(ne*eg)*2+Pe,ve*eg*2,be*eg*2,Math.round(Qe))}var Eu=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(U){return U.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new Qu,this.indexArray=new Au,this.programConfigurations=new va(D.layers,D.zoom),this.segments=new ao,this.stateDependentLayerIds=this.layers.filter(function(U){return U.isStateDependent()}).map(function(U){return U.id})};Eu.prototype.populate=function(D,U,ne){this.features=[],this.hasPattern=$0("fill-extrusion",this.layers,U);for(var ve=0,be=D;ve<be.length;ve+=1){var Pe=be[ve],Qe=Pe.feature,dt=Pe.id,Mt=Pe.index,Dt=Pe.sourceLayerIndex,Gt=this.layers[0]._featureFilter.needGeometry,ir=Ti(Qe,Gt);if(this.layers[0]._featureFilter.filter(new Ta(this.zoom),ir,ne)){var rr={id:dt,sourceLayerIndex:Dt,index:Mt,geometry:Gt?ir.geometry:ti(Qe),properties:Qe.properties,type:Qe.type,patterns:{}};this.hasPattern?this.features.push(q0("fill-extrusion",this.layers,rr,this.zoom,U)):this.addFeature(rr,rr.geometry,Mt,ne,{}),U.featureIndex.insert(Qe,rr.geometry,Mt,Dt,this.index,!0)}}},Eu.prototype.addFeatures=function(D,U,ne){for(var ve=0,be=this.features;ve<be.length;ve+=1){var Pe=be[ve],Qe=Pe.geometry;this.addFeature(Pe,Qe,Pe.index,U,ne)}},Eu.prototype.update=function(D,U,ne){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,U,this.stateDependentLayers,ne)},Eu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Eu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Eu.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,w2),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},Eu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Eu.prototype.addFeature=function(D,U,ne,ve,be){for(var Pe=0,Qe=Q0(U,z2);Pe<Qe.length;Pe+=1){for(var dt=Qe[Pe],Mt=0,Dt=0,Gt=dt;Dt<Gt.length;Dt+=1){var ir=Gt[Dt];Mt+=ir.length}for(var rr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),br=0,Ur=dt;br<Ur.length;br+=1){var fn=Ur[br];if(fn.length!==0&&!O2(fn))for(var en=0,Sn=0;Sn<fn.length;Sn++){var xn=fn[Sn];if(Sn>=1){var Mn=fn[Sn-1];if(!F2(xn,Mn)){rr.vertexLength+4>ao.MAX_VERTEX_ARRAY_LENGTH&&(rr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var zn=xn.sub(Mn)._perp()._unit(),Yn=Mn.dist(xn);en+Yn>32768&&(en=0),Xv(this.layoutVertexArray,xn.x,xn.y,zn.x,zn.y,0,0,en),Xv(this.layoutVertexArray,xn.x,xn.y,zn.x,zn.y,0,1,en),en+=Yn,Xv(this.layoutVertexArray,Mn.x,Mn.y,zn.x,zn.y,0,0,en),Xv(this.layoutVertexArray,Mn.x,Mn.y,zn.x,zn.y,0,1,en);var aa=rr.vertexLength;this.indexArray.emplaceBack(aa,aa+2,aa+1),this.indexArray.emplaceBack(aa+1,aa+2,aa+3),rr.vertexLength+=4,rr.primitiveLength+=2}}}}if(rr.vertexLength+Mt>ao.MAX_VERTEX_ARRAY_LENGTH&&(rr=this.segments.prepareSegment(Mt,this.layoutVertexArray,this.indexArray)),_2[D.type]==="Polygon"){for(var ea=[],ba=[],da=rr.vertexLength,ma=0,Ba=dt;ma<Ba.length;ma+=1){var wa=Ba[ma];if(wa.length!==0){wa!==dt[0]&&ba.push(ea.length/2);for(var Sa=0;Sa<wa.length;Sa++){var Ga=wa[Sa];Xv(this.layoutVertexArray,Ga.x,Ga.y,0,0,1,1,0),ea.push(Ga.x),ea.push(Ga.y)}}}for(var Fa=j0(ea,ba),oi=0;oi<Fa.length;oi+=3)this.indexArray.emplaceBack(da+Fa[oi],da+Fa[oi+2],da+Fa[oi+1]);rr.primitiveLength+=Fa.length/3,rr.vertexLength+=Mt}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ne,be,ve)},Be("FillExtrusionBucket",Eu,{omit:["layers","features"]});function F2(R,D){return R.x===D.x&&(R.x<0||R.x>Aa)||R.y===D.y&&(R.y<0||R.y>Aa)}function O2(R){return R.every(function(D){return D.x<0})||R.every(function(D){return D.x>Aa})||R.every(function(D){return D.y<0})||R.every(function(D){return D.y>Aa})}var B2=new fi({"fill-extrusion-opacity":new la(Mr["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ea(Mr["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new la(Mr["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new la(Mr["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ro(Mr["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ea(Mr["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ea(Mr["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new la(Mr["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),N2={paint:B2},U2=function(R){function D(U){R.call(this,U,N2)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ne){return new Eu(ne)},D.prototype.queryRadius=function(){return pl(this.paint.get("fill-extrusion-translate"))},D.prototype.is3D=function(){return!0},D.prototype.queryIntersectsFeature=function(ne,ve,be,Pe,Qe,dt,Mt,Dt){var Gt=Mu(ne,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),dt.angle,Mt),ir=this.paint.get("fill-extrusion-height").evaluate(ve,be),rr=this.paint.get("fill-extrusion-base").evaluate(ve,be),br=G2(Gt,Dt,dt,0),Ur=H2(Pe,rr,ir,Dt),fn=Ur[0],en=Ur[1];return V2(fn,en,br)},D}(Fi);function jv(R,D){return R.x*D.x+R.y*D.y}function X1(R,D){if(R.length===1){for(var U=0,ne=D[U++],ve;!ve||ne.equals(ve);)if(ve=D[U++],!ve)return 1/0;for(;U<D.length;U++){var be=D[U],Pe=R[0],Qe=ve.sub(ne),dt=be.sub(ne),Mt=Pe.sub(ne),Dt=jv(Qe,Qe),Gt=jv(Qe,dt),ir=jv(dt,dt),rr=jv(Mt,Qe),br=jv(Mt,dt),Ur=Dt*ir-Gt*Gt,fn=(ir*rr-Gt*br)/Ur,en=(Dt*br-Gt*rr)/Ur,Sn=1-fn-en,xn=ne.z*Sn+ve.z*fn+be.z*en;if(isFinite(xn))return xn}return 1/0}else{for(var Mn=1/0,zn=0,Yn=D;zn<Yn.length;zn+=1){var aa=Yn[zn];Mn=Math.min(Mn,aa.z)}return Mn}}function V2(R,D,U){var ne=1/0;Oi(U,D)&&(ne=X1(U,D[0]));for(var ve=0;ve<D.length;ve++)for(var be=D[ve],Pe=R[ve],Qe=0;Qe<be.length-1;Qe++){var dt=be[Qe],Mt=be[Qe+1],Dt=Pe[Qe],Gt=Pe[Qe+1],ir=[dt,Mt,Gt,Dt,dt];Va(U,ir)&&(ne=Math.min(ne,X1(U,ir)))}return ne===1/0?!1:ne}function H2(R,D,U,ne){for(var ve=[],be=[],Pe=ne[8]*D,Qe=ne[9]*D,dt=ne[10]*D,Mt=ne[11]*D,Dt=ne[8]*U,Gt=ne[9]*U,ir=ne[10]*U,rr=ne[11]*U,br=0,Ur=R;br<Ur.length;br+=1){for(var fn=Ur[br],en=[],Sn=[],xn=0,Mn=fn;xn<Mn.length;xn+=1){var zn=Mn[xn],Yn=zn.x,aa=zn.y,ea=ne[0]*Yn+ne[4]*aa+ne[12],ba=ne[1]*Yn+ne[5]*aa+ne[13],da=ne[2]*Yn+ne[6]*aa+ne[14],ma=ne[3]*Yn+ne[7]*aa+ne[15],Ba=ea+Pe,wa=ba+Qe,Sa=da+dt,Ga=ma+Mt,Fa=ea+Dt,oi=ba+Gt,mi=da+ir,si=ma+rr,li=new r(Ba/Ga,wa/Ga);li.z=Sa/Ga,en.push(li);var ri=new r(Fa/si,oi/si);ri.z=mi/si,Sn.push(ri)}ve.push(en),be.push(Sn)}return[ve,be]}function G2(R,D,U,ne){for(var ve=[],be=0,Pe=R;be<Pe.length;be+=1){var Qe=Pe[be],dt=[Qe.x,Qe.y,ne,1];$d(dt,dt,D),ve.push(new r(dt[0]/dt[3],dt[1]/dt[3]))}return ve}var W2=Ci([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),Y2=W2.members,X2=Ci([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),j2=X2.members,Z2=Gh.VectorTileFeature.types,j1=63,K2=Math.cos(75/2*(Math.PI/180)),J2=15,Q2=20,$2=15,Z1=1/2,K1=Math.pow(2,$2-1)/Z1,ts=function(D){var U=this;this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(ne){return ne.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(ne){U.gradients[ne.id]={}}),this.layoutVertexArray=new fc,this.layoutVertexArray2=new cc,this.indexArray=new Au,this.programConfigurations=new va(D.layers,D.zoom),this.segments=new ao,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(ne){return ne.isStateDependent()}).map(function(ne){return ne.id})};ts.prototype.populate=function(D,U,ne){this.hasPattern=$0("line",this.layers,U);for(var ve=this.layers[0].layout.get("line-sort-key"),be=[],Pe=0,Qe=D;Pe<Qe.length;Pe+=1){var dt=Qe[Pe],Mt=dt.feature,Dt=dt.id,Gt=dt.index,ir=dt.sourceLayerIndex,rr=this.layers[0]._featureFilter.needGeometry,br=Ti(Mt,rr);if(this.layers[0]._featureFilter.filter(new Ta(this.zoom),br,ne)){var Ur=ve?ve.evaluate(br,{},ne):void 0,fn={id:Dt,properties:Mt.properties,type:Mt.type,sourceLayerIndex:ir,index:Gt,geometry:rr?br.geometry:ti(Mt),patterns:{},sortKey:Ur};be.push(fn)}}ve&&be.sort(function(da,ma){return da.sortKey-ma.sortKey});for(var en=0,Sn=be;en<Sn.length;en+=1){var xn=Sn[en],Mn=xn,zn=Mn.geometry,Yn=Mn.index,aa=Mn.sourceLayerIndex;if(this.hasPattern){var ea=q0("line",this.layers,xn,this.zoom,U);this.patternFeatures.push(ea)}else this.addFeature(xn,zn,Yn,ne,{});var ba=D[Yn].feature;U.featureIndex.insert(ba,zn,Yn,aa,this.index)}},ts.prototype.update=function(D,U,ne){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,U,this.stateDependentLayers,ne)},ts.prototype.addFeatures=function(D,U,ne){for(var ve=0,be=this.patternFeatures;ve<be.length;ve+=1){var Pe=be[ve];this.addFeature(Pe,Pe.geometry,Pe.index,U,ne)}},ts.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ts.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ts.prototype.upload=function(D){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=D.createVertexBuffer(this.layoutVertexArray2,j2)),this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,Y2),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},ts.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ts.prototype.lineFeatureClips=function(D){if(D.properties&&D.properties.hasOwnProperty("mapbox_clip_start")&&D.properties.hasOwnProperty("mapbox_clip_end")){var U=+D.properties.mapbox_clip_start,ne=+D.properties.mapbox_clip_end;return{start:U,end:ne}}},ts.prototype.addFeature=function(D,U,ne,ve,be){var Pe=this.layers[0].layout,Qe=Pe.get("line-join").evaluate(D,{}),dt=Pe.get("line-cap"),Mt=Pe.get("line-miter-limit"),Dt=Pe.get("line-round-limit");this.lineClips=this.lineFeatureClips(D);for(var Gt=0,ir=U;Gt<ir.length;Gt+=1){var rr=ir[Gt];this.addLine(rr,D,Qe,dt,Mt,Dt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ne,be,ve)},ts.prototype.addLine=function(D,U,ne,ve,be,Pe){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var Qe=0;Qe<D.length-1;Qe++)this.totalDistance+=D[Qe].dist(D[Qe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var dt=Z2[U.type]==="Polygon",Mt=D.length;Mt>=2&&D[Mt-1].equals(D[Mt-2]);)Mt--;for(var Dt=0;Dt<Mt-1&&D[Dt].equals(D[Dt+1]);)Dt++;if(!(Mt<(dt?3:2))){ne==="bevel"&&(be=1.05);var Gt=this.overscaling<=16?J2*Aa/(512*this.overscaling):0,ir=this.segments.prepareSegment(Mt*10,this.layoutVertexArray,this.indexArray),rr,br=void 0,Ur=void 0,fn=void 0,en=void 0;this.e1=this.e2=-1,dt&&(rr=D[Mt-2],en=D[Dt].sub(rr)._unit()._perp());for(var Sn=Dt;Sn<Mt;Sn++)if(Ur=Sn===Mt-1?dt?D[Dt+1]:void 0:D[Sn+1],!(Ur&&D[Sn].equals(Ur))){en&&(fn=en),rr&&(br=rr),rr=D[Sn],en=Ur?Ur.sub(rr)._unit()._perp():fn,fn=fn||en;var xn=fn.add(en);(xn.x!==0||xn.y!==0)&&xn._unit();var Mn=fn.x*en.x+fn.y*en.y,zn=xn.x*en.x+xn.y*en.y,Yn=zn!==0?1/zn:1/0,aa=2*Math.sqrt(2-2*zn),ea=zn<K2&&br&&Ur,ba=fn.x*en.y-fn.y*en.x>0;if(ea&&Sn>Dt){var da=rr.dist(br);if(da>2*Gt){var ma=rr.sub(rr.sub(br)._mult(Gt/da)._round());this.updateDistance(br,ma),this.addCurrentVertex(ma,fn,0,0,ir),br=ma}}var Ba=br&&Ur,wa=Ba?ne:dt?"butt":ve;if(Ba&&wa==="round"&&(Yn<Pe?wa="miter":Yn<=2&&(wa="fakeround")),wa==="miter"&&Yn>be&&(wa="bevel"),wa==="bevel"&&(Yn>2&&(wa="flipbevel"),Yn<be&&(wa="miter")),br&&this.updateDistance(br,rr),wa==="miter")xn._mult(Yn),this.addCurrentVertex(rr,xn,0,0,ir);else if(wa==="flipbevel"){if(Yn>100)xn=en.mult(-1);else{var Sa=Yn*fn.add(en).mag()/fn.sub(en).mag();xn._perp()._mult(Sa*(ba?-1:1))}this.addCurrentVertex(rr,xn,0,0,ir),this.addCurrentVertex(rr,xn.mult(-1),0,0,ir)}else if(wa==="bevel"||wa==="fakeround"){var Ga=-Math.sqrt(Yn*Yn-1),Fa=ba?Ga:0,oi=ba?0:Ga;if(br&&this.addCurrentVertex(rr,fn,Fa,oi,ir),wa==="fakeround")for(var mi=Math.round(aa*180/Math.PI/Q2),si=1;si<mi;si++){var li=si/mi;if(li!==.5){var ri=li-.5,Ai=1.0904+Mn*(-3.2452+Mn*(3.55645-Mn*1.43519)),Si=.848013+Mn*(-1.06021+Mn*.215638);li=li+li*ri*(li-1)*(Ai*ri*ri+Si)}var Bi=en.sub(fn)._mult(li)._add(fn)._unit()._mult(ba?-1:1);this.addHalfVertex(rr,Bi.x,Bi.y,!1,ba,0,ir)}Ur&&this.addCurrentVertex(rr,en,-Fa,-oi,ir)}else if(wa==="butt")this.addCurrentVertex(rr,xn,0,0,ir);else if(wa==="square"){var Wi=br?1:-1;this.addCurrentVertex(rr,xn,Wi,Wi,ir)}else wa==="round"&&(br&&(this.addCurrentVertex(rr,fn,0,0,ir),this.addCurrentVertex(rr,fn,1,1,ir,!0)),Ur&&(this.addCurrentVertex(rr,en,-1,-1,ir,!0),this.addCurrentVertex(rr,en,0,0,ir)));if(ea&&Sn<Mt-1){var Ao=rr.dist(Ur);if(Ao>2*Gt){var lo=rr.add(Ur.sub(rr)._mult(Gt/Ao)._round());this.updateDistance(rr,lo),this.addCurrentVertex(lo,en,0,0,ir),rr=lo}}}}},ts.prototype.addCurrentVertex=function(D,U,ne,ve,be,Pe){Pe===void 0&&(Pe=!1);var Qe=U.x+U.y*ne,dt=U.y-U.x*ne,Mt=-U.x+U.y*ve,Dt=-U.y-U.x*ve;this.addHalfVertex(D,Qe,dt,Pe,!1,ne,be),this.addHalfVertex(D,Mt,Dt,Pe,!0,-ve,be),this.distance>K1/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(D,U,ne,ve,be,Pe))},ts.prototype.addHalfVertex=function(D,U,ne,ve,be,Pe,Qe){var dt=D.x,Mt=D.y,Dt=this.lineClips?this.scaledDistance*(K1-1):this.scaledDistance,Gt=Dt*Z1;if(this.layoutVertexArray.emplaceBack((dt<<1)+(ve?1:0),(Mt<<1)+(be?1:0),Math.round(j1*U)+128,Math.round(j1*ne)+128,(Pe===0?0:Pe<0?-1:1)+1|(Gt&63)<<2,Gt>>6),this.lineClips){var ir=this.scaledDistance-this.lineClips.start,rr=this.lineClips.end-this.lineClips.start,br=ir/rr;this.layoutVertexArray2.emplaceBack(br,this.lineClipsArray.length)}var Ur=Qe.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Ur),Qe.primitiveLength++),be?this.e2=Ur:this.e1=Ur},ts.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},ts.prototype.updateDistance=function(D,U){this.distance+=D.dist(U),this.updateScaledDistance()},Be("LineBucket",ts,{omit:["layers","patternFeatures"]});var q2=new fi({"line-cap":new la(Mr.layout_line["line-cap"]),"line-join":new Ea(Mr.layout_line["line-join"]),"line-miter-limit":new la(Mr.layout_line["line-miter-limit"]),"line-round-limit":new la(Mr.layout_line["line-round-limit"]),"line-sort-key":new Ea(Mr.layout_line["line-sort-key"])}),e4=new fi({"line-opacity":new Ea(Mr.paint_line["line-opacity"]),"line-color":new Ea(Mr.paint_line["line-color"]),"line-translate":new la(Mr.paint_line["line-translate"]),"line-translate-anchor":new la(Mr.paint_line["line-translate-anchor"]),"line-width":new Ea(Mr.paint_line["line-width"]),"line-gap-width":new Ea(Mr.paint_line["line-gap-width"]),"line-offset":new Ea(Mr.paint_line["line-offset"]),"line-blur":new Ea(Mr.paint_line["line-blur"]),"line-dasharray":new zo(Mr.paint_line["line-dasharray"]),"line-pattern":new Ro(Mr.paint_line["line-pattern"]),"line-gradient":new no(Mr.paint_line["line-gradient"])}),J1={paint:e4,layout:q2},t4=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(ne,ve){return ve=new Ta(Math.floor(ve.zoom),{now:ve.now,fadeDuration:ve.fadeDuration,zoomHistory:ve.zoomHistory,transition:ve.transition}),R.prototype.possiblyEvaluate.call(this,ne,ve)},D.prototype.evaluate=function(ne,ve,be,Pe){return ve=x({},ve,{zoom:Math.floor(ve.zoom)}),R.prototype.evaluate.call(this,ne,ve,be,Pe)},D}(Ea),Q1=new t4(J1.paint.properties["line-width"].specification);Q1.useIntegerZoom=!0;var r4=function(R){function D(U){R.call(this,U,J1),this.gradientVersion=0}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._handleSpecialPaintPropertyUpdate=function(ne){if(ne==="line-gradient"){var ve=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=ve._styleExpression.expression instanceof Xo,this.gradientVersion=(this.gradientVersion+1)%l}},D.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},D.prototype.recalculate=function(ne,ve){R.prototype.recalculate.call(this,ne,ve),this.paint._values["line-floorwidth"]=Q1.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,ne)},D.prototype.createBucket=function(ne){return new ts(ne)},D.prototype.queryRadius=function(ne){var ve=ne,be=$1(es("line-width",this,ve),es("line-gap-width",this,ve)),Pe=es("line-offset",this,ve);return be/2+Math.abs(Pe)+pl(this.paint.get("line-translate"))},D.prototype.queryIntersectsFeature=function(ne,ve,be,Pe,Qe,dt,Mt){var Dt=Mu(ne,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),dt.angle,Mt),Gt=Mt/2*$1(this.paint.get("line-width").evaluate(ve,be),this.paint.get("line-gap-width").evaluate(ve,be)),ir=this.paint.get("line-offset").evaluate(ve,be);return ir&&(Pe=n4(Pe,ir*Mt)),go(Dt,Pe,Gt)},D.prototype.isTileClipped=function(){return!0},D}(Fi);function $1(R,D){return D>0?D+2*R:R}function n4(R,D){for(var U=[],ne=new r(0,0),ve=0;ve<R.length;ve++){for(var be=R[ve],Pe=[],Qe=0;Qe<be.length;Qe++){var dt=be[Qe-1],Mt=be[Qe],Dt=be[Qe+1],Gt=Qe===0?ne:Mt.sub(dt)._unit()._perp(),ir=Qe===be.length-1?ne:Dt.sub(Mt)._unit()._perp(),rr=Gt._add(ir)._unit(),br=rr.x*ir.x+rr.y*ir.y;rr._mult(1/br),Pe.push(rr._mult(D)._add(Mt))}U.push(Pe)}return U}var a4=Ci([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),i4=Ci([{name:"a_projected_pos",components:3,type:"Float32"}],4);Ci([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var o4=Ci([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Ci([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var q1=Ci([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),s4=Ci([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Ci([{name:"triangle",components:3,type:"Uint16"}]),Ci([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Ci([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Ci([{type:"Float32",name:"offsetX"}]),Ci([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function l4(R,D,U){var ne=D.layout.get("text-transform").evaluate(U,{});return ne==="uppercase"?R=R.toLocaleUpperCase():ne==="lowercase"&&(R=R.toLocaleLowerCase()),$n.applyArabicShaping&&(R=$n.applyArabicShaping(R)),R}function u4(R,D,U){return R.sections.forEach(function(ne){ne.text=l4(ne.text,D,U)}),R}function f4(R){var D={},U={},ne=[],ve=0;function be(en){ne.push(R[en]),ve++}function Pe(en,Sn,xn){var Mn=U[en];return delete U[en],U[Sn]=Mn,ne[Mn].geometry[0].pop(),ne[Mn].geometry[0]=ne[Mn].geometry[0].concat(xn[0]),Mn}function Qe(en,Sn,xn){var Mn=D[Sn];return delete D[Sn],D[en]=Mn,ne[Mn].geometry[0].shift(),ne[Mn].geometry[0]=xn[0].concat(ne[Mn].geometry[0]),Mn}function dt(en,Sn,xn){var Mn=xn?Sn[0][Sn[0].length-1]:Sn[0][0];return en+":"+Mn.x+":"+Mn.y}for(var Mt=0;Mt<R.length;Mt++){var Dt=R[Mt],Gt=Dt.geometry,ir=Dt.text?Dt.text.toString():null;if(!ir){be(Mt);continue}var rr=dt(ir,Gt),br=dt(ir,Gt,!0);if(rr in U&&br in D&&U[rr]!==D[br]){var Ur=Qe(rr,br,Gt),fn=Pe(rr,br,ne[Ur].geometry);delete D[rr],delete U[br],U[dt(ir,ne[fn].geometry,!0)]=fn,ne[Ur].geometry=null}else rr in U?Pe(rr,br,Gt):br in D?Qe(rr,br,Gt):(be(Mt),D[rr]=ve-1,U[br]=ve-1)}return ne.filter(function(en){return en.geometry})}var Zv={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function c4(R){for(var D="",U=0;U<R.length;U++){var ne=R.charCodeAt(U+1)||null,ve=R.charCodeAt(U-1)||null,be=(!ne||!Hr(ne)||Zv[R[U+1]])&&(!ve||!Hr(ve)||Zv[R[U-1]]);be&&Zv[R[U]]?D+=Zv[R[U]]:D+=R[U]}return D}var Do=24,h4=function(R,D,U,ne,ve){var be,Pe,Qe=ve*8-ne-1,dt=(1<<Qe)-1,Mt=dt>>1,Dt=-7,Gt=U?ve-1:0,ir=U?-1:1,rr=R[D+Gt];for(Gt+=ir,be=rr&(1<<-Dt)-1,rr>>=-Dt,Dt+=Qe;Dt>0;be=be*256+R[D+Gt],Gt+=ir,Dt-=8);for(Pe=be&(1<<-Dt)-1,be>>=-Dt,Dt+=ne;Dt>0;Pe=Pe*256+R[D+Gt],Gt+=ir,Dt-=8);if(be===0)be=1-Mt;else{if(be===dt)return Pe?NaN:(rr?-1:1)*(1/0);Pe=Pe+Math.pow(2,ne),be=be-Mt}return(rr?-1:1)*Pe*Math.pow(2,be-ne)},v4=function(R,D,U,ne,ve,be){var Pe,Qe,dt,Mt=be*8-ve-1,Dt=(1<<Mt)-1,Gt=Dt>>1,ir=ve===23?Math.pow(2,-24)-Math.pow(2,-77):0,rr=ne?0:be-1,br=ne?1:-1,Ur=D<0||D===0&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(Qe=isNaN(D)?1:0,Pe=Dt):(Pe=Math.floor(Math.log(D)/Math.LN2),D*(dt=Math.pow(2,-Pe))<1&&(Pe--,dt*=2),Pe+Gt>=1?D+=ir/dt:D+=ir*Math.pow(2,1-Gt),D*dt>=2&&(Pe++,dt/=2),Pe+Gt>=Dt?(Qe=0,Pe=Dt):Pe+Gt>=1?(Qe=(D*dt-1)*Math.pow(2,ve),Pe=Pe+Gt):(Qe=D*Math.pow(2,Gt-1)*Math.pow(2,ve),Pe=0));ve>=8;R[U+rr]=Qe&255,rr+=br,Qe/=256,ve-=8);for(Pe=Pe<<ve|Qe,Mt+=ve;Mt>0;R[U+rr]=Pe&255,rr+=br,Pe/=256,Mt-=8);R[U+rr-br]|=Ur*128},np={read:h4,write:v4},ap=Mi;function Mi(R){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(R)?R:new Uint8Array(R||0),this.pos=0,this.type=0,this.length=this.buf.length}Mi.Varint=0,Mi.Fixed64=1,Mi.Bytes=2,Mi.Fixed32=5;var tg=65536*65536,em=1/tg,d4=12,tm=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Mi.prototype={destroy:function(){this.buf=null},readFields:function(R,D,U){for(U=U||this.length;this.pos<U;){var ne=this.readVarint(),ve=ne>>3,be=this.pos;this.type=ne&7,R(ve,D,this),this.pos===be&&this.skip(ne)}return D},readMessage:function(R,D){return this.readFields(R,D,this.readVarint()+this.pos)},readFixed32:function(){var R=ip(this.buf,this.pos);return this.pos+=4,R},readSFixed32:function(){var R=nm(this.buf,this.pos);return this.pos+=4,R},readFixed64:function(){var R=ip(this.buf,this.pos)+ip(this.buf,this.pos+4)*tg;return this.pos+=8,R},readSFixed64:function(){var R=ip(this.buf,this.pos)+nm(this.buf,this.pos+4)*tg;return this.pos+=8,R},readFloat:function(){var R=np.read(this.buf,this.pos,!0,23,4);return this.pos+=4,R},readDouble:function(){var R=np.read(this.buf,this.pos,!0,52,8);return this.pos+=8,R},readVarint:function(R){var D=this.buf,U,ne;return ne=D[this.pos++],U=ne&127,ne<128||(ne=D[this.pos++],U|=(ne&127)<<7,ne<128)||(ne=D[this.pos++],U|=(ne&127)<<14,ne<128)||(ne=D[this.pos++],U|=(ne&127)<<21,ne<128)?U:(ne=D[this.pos],U|=(ne&15)<<28,p4(U,R,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var R=this.readVarint();return R%2===1?(R+1)/-2:R/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var R=this.readVarint()+this.pos,D=this.pos;return this.pos=R,R-D>=d4&&tm?P4(this.buf,D,R):L4(this.buf,D,R)},readBytes:function(){var R=this.readVarint()+this.pos,D=this.buf.subarray(this.pos,R);return this.pos=R,D},readPackedVarint:function(R,D){if(this.type!==Mi.Bytes)return R.push(this.readVarint(D));var U=Lf(this);for(R=R||[];this.pos<U;)R.push(this.readVarint(D));return R},readPackedSVarint:function(R){if(this.type!==Mi.Bytes)return R.push(this.readSVarint());var D=Lf(this);for(R=R||[];this.pos<D;)R.push(this.readSVarint());return R},readPackedBoolean:function(R){if(this.type!==Mi.Bytes)return R.push(this.readBoolean());var D=Lf(this);for(R=R||[];this.pos<D;)R.push(this.readBoolean());return R},readPackedFloat:function(R){if(this.type!==Mi.Bytes)return R.push(this.readFloat());var D=Lf(this);for(R=R||[];this.pos<D;)R.push(this.readFloat());return R},readPackedDouble:function(R){if(this.type!==Mi.Bytes)return R.push(this.readDouble());var D=Lf(this);for(R=R||[];this.pos<D;)R.push(this.readDouble());return R},readPackedFixed32:function(R){if(this.type!==Mi.Bytes)return R.push(this.readFixed32());var D=Lf(this);for(R=R||[];this.pos<D;)R.push(this.readFixed32());return R},readPackedSFixed32:function(R){if(this.type!==Mi.Bytes)return R.push(this.readSFixed32());var D=Lf(this);for(R=R||[];this.pos<D;)R.push(this.readSFixed32());return R},readPackedFixed64:function(R){if(this.type!==Mi.Bytes)return R.push(this.readFixed64());var D=Lf(this);for(R=R||[];this.pos<D;)R.push(this.readFixed64());return R},readPackedSFixed64:function(R){if(this.type!==Mi.Bytes)return R.push(this.readSFixed64());var D=Lf(this);for(R=R||[];this.pos<D;)R.push(this.readSFixed64());return R},skip:function(R){var D=R&7;if(D===Mi.Varint)for(;this.buf[this.pos++]>127;);else if(D===Mi.Bytes)this.pos=this.readVarint()+this.pos;else if(D===Mi.Fixed32)this.pos+=4;else if(D===Mi.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+D)},writeTag:function(R,D){this.writeVarint(R<<3|D)},realloc:function(R){for(var D=this.length||16;D<this.pos+R;)D*=2;if(D!==this.length){var U=new Uint8Array(D);U.set(this.buf),this.buf=U,this.length=D}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(R){this.realloc(4),Yh(this.buf,R,this.pos),this.pos+=4},writeSFixed32:function(R){this.realloc(4),Yh(this.buf,R,this.pos),this.pos+=4},writeFixed64:function(R){this.realloc(8),Yh(this.buf,R&-1,this.pos),Yh(this.buf,Math.floor(R*em),this.pos+4),this.pos+=8},writeSFixed64:function(R){this.realloc(8),Yh(this.buf,R&-1,this.pos),Yh(this.buf,Math.floor(R*em),this.pos+4),this.pos+=8},writeVarint:function(R){if(R=+R||0,R>268435455||R<0){g4(R,this);return}this.realloc(4),this.buf[this.pos++]=R&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=(R>>>=7)&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=(R>>>=7)&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=R>>>7&127)))},writeSVarint:function(R){this.writeVarint(R<0?-R*2-1:R*2)},writeBoolean:function(R){this.writeVarint(!!R)},writeString:function(R){R=String(R),this.realloc(R.length*4),this.pos++;var D=this.pos;this.pos=R4(this.buf,R,this.pos);var U=this.pos-D;U>=128&&rm(D,U,this),this.pos=D-1,this.writeVarint(U),this.pos+=U},writeFloat:function(R){this.realloc(4),np.write(this.buf,R,this.pos,!0,23,4),this.pos+=4},writeDouble:function(R){this.realloc(8),np.write(this.buf,R,this.pos,!0,52,8),this.pos+=8},writeBytes:function(R){var D=R.length;this.writeVarint(D),this.realloc(D);for(var U=0;U<D;U++)this.buf[this.pos++]=R[U]},writeRawMessage:function(R,D){this.pos++;var U=this.pos;R(D,this);var ne=this.pos-U;ne>=128&&rm(U,ne,this),this.pos=U-1,this.writeVarint(ne),this.pos+=ne},writeMessage:function(R,D,U){this.writeTag(R,Mi.Bytes),this.writeRawMessage(D,U)},writePackedVarint:function(R,D){D.length&&this.writeMessage(R,x4,D)},writePackedSVarint:function(R,D){D.length&&this.writeMessage(R,b4,D)},writePackedBoolean:function(R,D){D.length&&this.writeMessage(R,A4,D)},writePackedFloat:function(R,D){D.length&&this.writeMessage(R,w4,D)},writePackedDouble:function(R,D){D.length&&this.writeMessage(R,T4,D)},writePackedFixed32:function(R,D){D.length&&this.writeMessage(R,M4,D)},writePackedSFixed32:function(R,D){D.length&&this.writeMessage(R,S4,D)},writePackedFixed64:function(R,D){D.length&&this.writeMessage(R,E4,D)},writePackedSFixed64:function(R,D){D.length&&this.writeMessage(R,C4,D)},writeBytesField:function(R,D){this.writeTag(R,Mi.Bytes),this.writeBytes(D)},writeFixed32Field:function(R,D){this.writeTag(R,Mi.Fixed32),this.writeFixed32(D)},writeSFixed32Field:function(R,D){this.writeTag(R,Mi.Fixed32),this.writeSFixed32(D)},writeFixed64Field:function(R,D){this.writeTag(R,Mi.Fixed64),this.writeFixed64(D)},writeSFixed64Field:function(R,D){this.writeTag(R,Mi.Fixed64),this.writeSFixed64(D)},writeVarintField:function(R,D){this.writeTag(R,Mi.Varint),this.writeVarint(D)},writeSVarintField:function(R,D){this.writeTag(R,Mi.Varint),this.writeSVarint(D)},writeStringField:function(R,D){this.writeTag(R,Mi.Bytes),this.writeString(D)},writeFloatField:function(R,D){this.writeTag(R,Mi.Fixed32),this.writeFloat(D)},writeDoubleField:function(R,D){this.writeTag(R,Mi.Fixed64),this.writeDouble(D)},writeBooleanField:function(R,D){this.writeVarintField(R,!!D)}};function p4(R,D,U){var ne=U.buf,ve,be;if(be=ne[U.pos++],ve=(be&112)>>4,be<128||(be=ne[U.pos++],ve|=(be&127)<<3,be<128)||(be=ne[U.pos++],ve|=(be&127)<<10,be<128)||(be=ne[U.pos++],ve|=(be&127)<<17,be<128)||(be=ne[U.pos++],ve|=(be&127)<<24,be<128)||(be=ne[U.pos++],ve|=(be&1)<<31,be<128))return Wh(R,ve,D);throw new Error("Expected varint not more than 10 bytes")}function Lf(R){return R.type===Mi.Bytes?R.readVarint()+R.pos:R.pos+1}function Wh(R,D,U){return U?D*4294967296+(R>>>0):(D>>>0)*4294967296+(R>>>0)}function g4(R,D){var U,ne;if(R>=0?(U=R%4294967296|0,ne=R/4294967296|0):(U=~(-R%4294967296),ne=~(-R/4294967296),U^4294967295?U=U+1|0:(U=0,ne=ne+1|0)),R>=18446744073709552e3||R<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");D.realloc(10),y4(U,ne,D),m4(ne,D)}function y4(R,D,U){U.buf[U.pos++]=R&127|128,R>>>=7,U.buf[U.pos++]=R&127|128,R>>>=7,U.buf[U.pos++]=R&127|128,R>>>=7,U.buf[U.pos++]=R&127|128,R>>>=7,U.buf[U.pos]=R&127}function m4(R,D){var U=(R&7)<<4;D.buf[D.pos++]|=U|((R>>>=3)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127)))))}function rm(R,D,U){var ne=D<=16383?1:D<=2097151?2:D<=268435455?3:Math.floor(Math.log(D)/(Math.LN2*7));U.realloc(ne);for(var ve=U.pos-1;ve>=R;ve--)U.buf[ve+ne]=U.buf[ve]}function x4(R,D){for(var U=0;U<R.length;U++)D.writeVarint(R[U])}function b4(R,D){for(var U=0;U<R.length;U++)D.writeSVarint(R[U])}function w4(R,D){for(var U=0;U<R.length;U++)D.writeFloat(R[U])}function T4(R,D){for(var U=0;U<R.length;U++)D.writeDouble(R[U])}function A4(R,D){for(var U=0;U<R.length;U++)D.writeBoolean(R[U])}function M4(R,D){for(var U=0;U<R.length;U++)D.writeFixed32(R[U])}function S4(R,D){for(var U=0;U<R.length;U++)D.writeSFixed32(R[U])}function E4(R,D){for(var U=0;U<R.length;U++)D.writeFixed64(R[U])}function C4(R,D){for(var U=0;U<R.length;U++)D.writeSFixed64(R[U])}function ip(R,D){return(R[D]|R[D+1]<<8|R[D+2]<<16)+R[D+3]*16777216}function Yh(R,D,U){R[U]=D,R[U+1]=D>>>8,R[U+2]=D>>>16,R[U+3]=D>>>24}function nm(R,D){return(R[D]|R[D+1]<<8|R[D+2]<<16)+(R[D+3]<<24)}function L4(R,D,U){for(var ne="",ve=D;ve<U;){var be=R[ve],Pe=null,Qe=be>239?4:be>223?3:be>191?2:1;if(ve+Qe>U)break;var dt,Mt,Dt;Qe===1?be<128&&(Pe=be):Qe===2?(dt=R[ve+1],(dt&192)===128&&(Pe=(be&31)<<6|dt&63,Pe<=127&&(Pe=null))):Qe===3?(dt=R[ve+1],Mt=R[ve+2],(dt&192)===128&&(Mt&192)===128&&(Pe=(be&15)<<12|(dt&63)<<6|Mt&63,(Pe<=2047||Pe>=55296&&Pe<=57343)&&(Pe=null))):Qe===4&&(dt=R[ve+1],Mt=R[ve+2],Dt=R[ve+3],(dt&192)===128&&(Mt&192)===128&&(Dt&192)===128&&(Pe=(be&15)<<18|(dt&63)<<12|(Mt&63)<<6|Dt&63,(Pe<=65535||Pe>=1114112)&&(Pe=null))),Pe===null?(Pe=65533,Qe=1):Pe>65535&&(Pe-=65536,ne+=String.fromCharCode(Pe>>>10&1023|55296),Pe=56320|Pe&1023),ne+=String.fromCharCode(Pe),ve+=Qe}return ne}function P4(R,D,U){return tm.decode(R.subarray(D,U))}function R4(R,D,U){for(var ne=0,ve,be;ne<D.length;ne++){if(ve=D.charCodeAt(ne),ve>55295&&ve<57344)if(be)if(ve<56320){R[U++]=239,R[U++]=191,R[U++]=189,be=ve;continue}else ve=be-55296<<10|ve-56320|65536,be=null;else{ve>56319||ne+1===D.length?(R[U++]=239,R[U++]=191,R[U++]=189):be=ve;continue}else be&&(R[U++]=239,R[U++]=191,R[U++]=189,be=null);ve<128?R[U++]=ve:(ve<2048?R[U++]=ve>>6|192:(ve<65536?R[U++]=ve>>12|224:(R[U++]=ve>>18|240,R[U++]=ve>>12&63|128),R[U++]=ve>>6&63|128),R[U++]=ve&63|128)}return U}var rg=3;function D4(R,D,U){R===1&&U.readMessage(I4,D)}function I4(R,D,U){if(R===3){var ne=U.readMessage(k4,{}),ve=ne.id,be=ne.bitmap,Pe=ne.width,Qe=ne.height,dt=ne.left,Mt=ne.top,Dt=ne.advance;D.push({id:ve,bitmap:new dh({width:Pe+2*rg,height:Qe+2*rg},be),metrics:{width:Pe,height:Qe,left:dt,top:Mt,advance:Dt}})}}function k4(R,D,U){R===1?D.id=U.readVarint():R===2?D.bitmap=U.readBytes():R===3?D.width=U.readVarint():R===4?D.height=U.readVarint():R===5?D.left=U.readSVarint():R===6?D.top=U.readSVarint():R===7&&(D.advance=U.readVarint())}function _4(R){return new ap(R).readFields(D4,[])}var am=rg;function im(R){for(var D=0,U=0,ne=0,ve=R;ne<ve.length;ne+=1){var be=ve[ne];D+=be.w*be.h,U=Math.max(U,be.w)}R.sort(function(fn,en){return en.h-fn.h});for(var Pe=Math.max(Math.ceil(Math.sqrt(D/.95)),U),Qe=[{x:0,y:0,w:Pe,h:1/0}],dt=0,Mt=0,Dt=0,Gt=R;Dt<Gt.length;Dt+=1)for(var ir=Gt[Dt],rr=Qe.length-1;rr>=0;rr--){var br=Qe[rr];if(!(ir.w>br.w||ir.h>br.h)){if(ir.x=br.x,ir.y=br.y,Mt=Math.max(Mt,ir.y+ir.h),dt=Math.max(dt,ir.x+ir.w),ir.w===br.w&&ir.h===br.h){var Ur=Qe.pop();rr<Qe.length&&(Qe[rr]=Ur)}else ir.h===br.h?(br.x+=ir.w,br.w-=ir.w):ir.w===br.w?(br.y+=ir.h,br.h-=ir.h):(Qe.push({x:br.x+ir.w,y:br.y,w:br.w-ir.w,h:ir.h}),br.y+=ir.h,br.h-=ir.h);break}}return{w:dt,h:Mt,fill:D/(dt*Mt)||0}}var Is=1,op=function(D,U){var ne=U.pixelRatio,ve=U.version,be=U.stretchX,Pe=U.stretchY,Qe=U.content;this.paddedRect=D,this.pixelRatio=ne,this.stretchX=be,this.stretchY=Pe,this.content=Qe,this.version=ve},Kv={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Kv.tl.get=function(){return[this.paddedRect.x+Is,this.paddedRect.y+Is]},Kv.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-Is,this.paddedRect.y+this.paddedRect.h-Is]},Kv.tlbr.get=function(){return this.tl.concat(this.br)},Kv.displaySize.get=function(){return[(this.paddedRect.w-Is*2)/this.pixelRatio,(this.paddedRect.h-Is*2)/this.pixelRatio]},Object.defineProperties(op.prototype,Kv);var Jv=function(D,U){var ne={},ve={};this.haveRenderCallbacks=[];var be=[];this.addImages(D,ne,be),this.addImages(U,ve,be);var Pe=im(be),Qe=Pe.w,dt=Pe.h,Mt=new ms({width:Qe||1,height:dt||1});for(var Dt in D){var Gt=D[Dt],ir=ne[Dt].paddedRect;ms.copy(Gt.data,Mt,{x:0,y:0},{x:ir.x+Is,y:ir.y+Is},Gt.data)}for(var rr in U){var br=U[rr],Ur=ve[rr].paddedRect,fn=Ur.x+Is,en=Ur.y+Is,Sn=br.data.width,xn=br.data.height;ms.copy(br.data,Mt,{x:0,y:0},{x:fn,y:en},br.data),ms.copy(br.data,Mt,{x:0,y:xn-1},{x:fn,y:en-1},{width:Sn,height:1}),ms.copy(br.data,Mt,{x:0,y:0},{x:fn,y:en+xn},{width:Sn,height:1}),ms.copy(br.data,Mt,{x:Sn-1,y:0},{x:fn-1,y:en},{width:1,height:xn}),ms.copy(br.data,Mt,{x:0,y:0},{x:fn+Sn,y:en},{width:1,height:xn})}this.image=Mt,this.iconPositions=ne,this.patternPositions=ve};Jv.prototype.addImages=function(D,U,ne){for(var ve in D){var be=D[ve],Pe={x:0,y:0,w:be.data.width+2*Is,h:be.data.height+2*Is};ne.push(Pe),U[ve]=new op(Pe,be),be.hasRenderCallback&&this.haveRenderCallbacks.push(ve)}},Jv.prototype.patchUpdatedImages=function(D,U){D.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var ne in D.updatedImages)this.patchUpdatedImage(this.iconPositions[ne],D.getImage(ne),U),this.patchUpdatedImage(this.patternPositions[ne],D.getImage(ne),U)},Jv.prototype.patchUpdatedImage=function(D,U,ne){if(!(!D||!U)&&D.version!==U.version){D.version=U.version;var ve=D.tl,be=ve[0],Pe=ve[1];ne.update(U.data,void 0,{x:be,y:Pe})}},Be("ImagePosition",op),Be("ImageAtlas",Jv);var Qs={horizontal:1,vertical:2,horizontalOnly:3},Qv=-17;function z4(R){for(var D=0,U=R;D<U.length;D+=1){var ne=U[D];if(ne.positionedGlyphs.length!==0)return!1}return!0}var om=57344,sm=63743,Xh=function(){this.scale=1,this.fontStack="",this.imageName=null};Xh.forText=function(D,U){var ne=new Xh;return ne.scale=D||1,ne.fontStack=U,ne},Xh.forImage=function(D){var U=new Xh;return U.imageName=D,U};var Uo=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};Uo.fromFeature=function(D,U){for(var ne=new Uo,ve=0;ve<D.sections.length;ve++){var be=D.sections[ve];be.image?ne.addImageSection(be):ne.addTextSection(be,U)}return ne},Uo.prototype.length=function(){return this.text.length},Uo.prototype.getSection=function(D){return this.sections[this.sectionIndex[D]]},Uo.prototype.getSectionIndex=function(D){return this.sectionIndex[D]},Uo.prototype.getCharCode=function(D){return this.text.charCodeAt(D)},Uo.prototype.verticalizePunctuation=function(){this.text=c4(this.text)},Uo.prototype.trim=function(){for(var D=0,U=0;U<this.text.length&&ef[this.text.charCodeAt(U)];U++)D++;for(var ne=this.text.length,ve=this.text.length-1;ve>=0&&ve>=D&&ef[this.text.charCodeAt(ve)];ve--)ne--;this.text=this.text.substring(D,ne),this.sectionIndex=this.sectionIndex.slice(D,ne)},Uo.prototype.substring=function(D,U){var ne=new Uo;return ne.text=this.text.substring(D,U),ne.sectionIndex=this.sectionIndex.slice(D,U),ne.sections=this.sections,ne},Uo.prototype.toString=function(){return this.text},Uo.prototype.getMaxScale=function(){var D=this;return this.sectionIndex.reduce(function(U,ne){return Math.max(U,D.sections[ne].scale)},0)},Uo.prototype.addTextSection=function(D,U){this.text+=D.text,this.sections.push(Xh.forText(D.scale,D.fontStack||U));for(var ne=this.sections.length-1,ve=0;ve<D.text.length;++ve)this.sectionIndex.push(ne)},Uo.prototype.addImageSection=function(D){var U=D.image?D.image.name:"";if(U.length===0){F("Can't add FormattedSection with an empty image.");return}var ne=this.getNextImageSectionCharCode();if(!ne){F("Reached maximum number of images "+(sm-om+2));return}this.text+=String.fromCharCode(ne),this.sections.push(Xh.forImage(U)),this.sectionIndex.push(this.sections.length-1)},Uo.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=sm?null:++this.imageSectionID:(this.imageSectionID=om,this.imageSectionID)};function F4(R,D){for(var U=[],ne=R.text,ve=0,be=0,Pe=D;be<Pe.length;be+=1){var Qe=Pe[be];U.push(R.substring(ve,Qe)),ve=Qe}return ve<ne.length&&U.push(R.substring(ve,ne.length)),U}function sp(R,D,U,ne,ve,be,Pe,Qe,dt,Mt,Dt,Gt,ir,rr,br,Ur){var fn=Uo.fromFeature(R,ve);Gt===Qs.vertical&&fn.verticalizePunctuation();var en,Sn=$n.processBidirectionalText,xn=$n.processStyledBidirectionalText;if(Sn&&fn.sections.length===1){en=[];for(var Mn=Sn(fn.toString(),ng(fn,Mt,be,D,ne,rr,br)),zn=0,Yn=Mn;zn<Yn.length;zn+=1){var aa=Yn[zn],ea=new Uo;ea.text=aa,ea.sections=fn.sections;for(var ba=0;ba<aa.length;ba++)ea.sectionIndex.push(0);en.push(ea)}}else if(xn){en=[];for(var da=xn(fn.text,fn.sectionIndex,ng(fn,Mt,be,D,ne,rr,br)),ma=0,Ba=da;ma<Ba.length;ma+=1){var wa=Ba[ma],Sa=new Uo;Sa.text=wa[0],Sa.sectionIndex=wa[1],Sa.sections=fn.sections,en.push(Sa)}}else en=F4(fn,ng(fn,Mt,be,D,ne,rr,br));var Ga=[],Fa={positionedLines:Ga,text:fn.toString(),top:Dt[1],bottom:Dt[1],left:Dt[0],right:Dt[0],writingMode:Gt,iconsInText:!1,verticalizable:!1};return N4(Fa,D,U,ne,en,Pe,Qe,dt,Gt,Mt,ir,Ur),z4(Ga)?!1:Fa}var ef={};ef[9]=!0,ef[10]=!0,ef[11]=!0,ef[12]=!0,ef[13]=!0,ef[32]=!0;var ks={};ks[10]=!0,ks[32]=!0,ks[38]=!0,ks[40]=!0,ks[41]=!0,ks[43]=!0,ks[45]=!0,ks[47]=!0,ks[173]=!0,ks[183]=!0,ks[8203]=!0,ks[8208]=!0,ks[8211]=!0,ks[8231]=!0;function lm(R,D,U,ne,ve,be){if(D.imageName){var dt=ne[D.imageName];return dt?dt.displaySize[0]*D.scale*Do/be+ve:0}else{var Pe=U[D.fontStack],Qe=Pe&&Pe[R];return Qe?Qe.metrics.advance*D.scale+ve:0}}function O4(R,D,U,ne,ve,be){for(var Pe=0,Qe=0;Qe<R.length();Qe++){var dt=R.getSection(Qe);Pe+=lm(R.getCharCode(Qe),dt,ne,ve,D,be)}var Mt=Math.max(1,Math.ceil(Pe/U));return Pe/Mt}function um(R,D,U,ne){var ve=Math.pow(R-D,2);return ne?R<D?ve/2:ve*2:ve+Math.abs(U)*U}function B4(R,D,U){var ne=0;return R===10&&(ne-=1e4),U&&(ne+=150),(R===40||R===65288)&&(ne+=50),(D===41||D===65289)&&(ne+=50),ne}function fm(R,D,U,ne,ve,be){for(var Pe=null,Qe=um(D,U,ve,be),dt=0,Mt=ne;dt<Mt.length;dt+=1){var Dt=Mt[dt],Gt=D-Dt.x,ir=um(Gt,U,ve,be)+Dt.badness;ir<=Qe&&(Pe=Dt,Qe=ir)}return{index:R,x:D,priorBreak:Pe,badness:Qe}}function cm(R){return R?cm(R.priorBreak).concat(R.index):[]}function ng(R,D,U,ne,ve,be,Pe){if(be!=="point")return[];if(!R)return[];for(var Qe=[],dt=O4(R,D,U,ne,ve,Pe),Mt=R.text.indexOf("​")>=0,Dt=0,Gt=0;Gt<R.length();Gt++){var ir=R.getSection(Gt),rr=R.getCharCode(Gt);if(ef[rr]||(Dt+=lm(rr,ir,ne,ve,D,Pe)),Gt<R.length()-1){var br=Qr(rr);(ks[rr]||br||ir.imageName)&&Qe.push(fm(Gt+1,Dt,dt,Qe,B4(rr,R.getCharCode(Gt+1),br&&Mt),!1))}}return cm(fm(R.length(),Dt,dt,Qe,0,!0))}function ag(R){var D=.5,U=.5;switch(R){case"right":case"top-right":case"bottom-right":D=1;break;case"left":case"top-left":case"bottom-left":D=0;break}switch(R){case"bottom":case"bottom-right":case"bottom-left":U=1;break;case"top":case"top-right":case"top-left":U=0;break}return{horizontalAlign:D,verticalAlign:U}}function N4(R,D,U,ne,ve,be,Pe,Qe,dt,Mt,Dt,Gt){for(var ir=0,rr=Qv,br=0,Ur=0,fn=Qe==="right"?1:Qe==="left"?0:.5,en=0,Sn=0,xn=ve;Sn<xn.length;Sn+=1){var Mn=xn[Sn];Mn.trim();var zn=Mn.getMaxScale(),Yn=(zn-1)*Do,aa={positionedGlyphs:[],lineOffset:0};R.positionedLines[en]=aa;var ea=aa.positionedGlyphs,ba=0;if(!Mn.length()){rr+=be,++en;continue}for(var da=0;da<Mn.length();da++){var ma=Mn.getSection(da),Ba=Mn.getSectionIndex(da),wa=Mn.getCharCode(da),Sa=0,Ga=null,Fa=null,oi=null,mi=Do,si=!(dt===Qs.horizontal||!Dt&&!sn(wa)||Dt&&(ef[wa]||Kr(wa)));if(ma.imageName){var Bi=ne[ma.imageName];if(!Bi)continue;oi=ma.imageName,R.iconsInText=R.iconsInText||!0,Fa=Bi.paddedRect;var Wi=Bi.displaySize;ma.scale=ma.scale*Do/Gt,Ga={width:Wi[0],height:Wi[1],left:Is,top:-am,advance:si?Wi[1]:Wi[0]};var Ao=Do-Wi[1]*ma.scale;Sa=Yn+Ao,mi=Ga.advance;var lo=si?Wi[0]*ma.scale-Do*zn:Wi[1]*ma.scale-Do*zn;lo>0&&lo>ba&&(ba=lo)}else{var li=U[ma.fontStack],ri=li&&li[wa];if(ri&&ri.rect)Fa=ri.rect,Ga=ri.metrics;else{var Ai=D[ma.fontStack],Si=Ai&&Ai[wa];if(!Si)continue;Ga=Si.metrics}Sa=(zn-ma.scale)*Do}si?(R.verticalizable=!0,ea.push({glyph:wa,imageName:oi,x:ir,y:rr+Sa,vertical:si,scale:ma.scale,fontStack:ma.fontStack,sectionIndex:Ba,metrics:Ga,rect:Fa}),ir+=mi*ma.scale+Mt):(ea.push({glyph:wa,imageName:oi,x:ir,y:rr+Sa,vertical:si,scale:ma.scale,fontStack:ma.fontStack,sectionIndex:Ba,metrics:Ga,rect:Fa}),ir+=Ga.advance*ma.scale+Mt)}if(ea.length!==0){var Vo=ir-Mt;br=Math.max(Vo,br),U4(ea,0,ea.length-1,fn,ba)}ir=0;var Ho=be*zn+ba;aa.lineOffset=Math.max(ba,Yn),rr+=Ho,Ur=Math.max(Ho,Ur),++en}var Mo=rr-Qv,rs=ag(Pe),ns=rs.horizontalAlign,yo=rs.verticalAlign;V4(R.positionedLines,fn,ns,yo,br,Ur,be,Mo,ve.length),R.top+=-yo*Mo,R.bottom=R.top+Mo,R.left+=-ns*br,R.right=R.left+br}function U4(R,D,U,ne,ve){if(!(!ne&&!ve))for(var be=R[U],Pe=be.metrics.advance*be.scale,Qe=(R[U].x+Pe)*ne,dt=D;dt<=U;dt++)R[dt].x-=Qe,R[dt].y+=ve}function V4(R,D,U,ne,ve,be,Pe,Qe,dt){var Mt=(D-U)*ve,Dt=0;be!==Pe?Dt=-Qe*ne-Qv:Dt=(-ne*dt+.5)*Pe;for(var Gt=0,ir=R;Gt<ir.length;Gt+=1)for(var rr=ir[Gt],br=0,Ur=rr.positionedGlyphs;br<Ur.length;br+=1){var fn=Ur[br];fn.x+=Mt,fn.y+=Dt}}function H4(R,D,U){var ne=ag(U),ve=ne.horizontalAlign,be=ne.verticalAlign,Pe=D[0],Qe=D[1],dt=Pe-R.displaySize[0]*ve,Mt=dt+R.displaySize[0],Dt=Qe-R.displaySize[1]*be,Gt=Dt+R.displaySize[1];return{image:R,top:Dt,bottom:Gt,left:dt,right:Mt}}function hm(R,D,U,ne,ve,be){var Pe=R.image,Qe;if(Pe.content){var dt=Pe.content,Mt=Pe.pixelRatio||1;Qe=[dt[0]/Mt,dt[1]/Mt,Pe.displaySize[0]-dt[2]/Mt,Pe.displaySize[1]-dt[3]/Mt]}var Dt=D.left*be,Gt=D.right*be,ir,rr,br,Ur;U==="width"||U==="both"?(Ur=ve[0]+Dt-ne[3],rr=ve[0]+Gt+ne[1]):(Ur=ve[0]+(Dt+Gt-Pe.displaySize[0])/2,rr=Ur+Pe.displaySize[0]);var fn=D.top*be,en=D.bottom*be;return U==="height"||U==="both"?(ir=ve[1]+fn-ne[0],br=ve[1]+en+ne[2]):(ir=ve[1]+(fn+en-Pe.displaySize[1])/2,br=ir+Pe.displaySize[1]),{image:Pe,top:ir,right:rr,bottom:br,left:Ur,collisionPadding:Qe}}var jh=function(R){function D(U,ne,ve,be){R.call(this,U,ne),this.angle=ve,be!==void 0&&(this.segment=be)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.clone=function(){return new D(this.x,this.y,this.angle,this.segment)},D}(r);Be("Anchor",jh);var Cu=128;function ig(R,D){var U=D.expression;if(U.kind==="constant"){var ne=U.evaluate(new Ta(R+1));return{kind:"constant",layoutSize:ne}}else{if(U.kind==="source")return{kind:"source"};for(var ve=U.zoomStops,be=U.interpolationType,Pe=0;Pe<ve.length&&ve[Pe]<=R;)Pe++;Pe=Math.max(0,Pe-1);for(var Qe=Pe;Qe<ve.length&&ve[Qe]<R+1;)Qe++;Qe=Math.min(ve.length-1,Qe);var dt=ve[Pe],Mt=ve[Qe];if(U.kind==="composite")return{kind:"composite",minZoom:dt,maxZoom:Mt,interpolationType:be};var Dt=U.evaluate(new Ta(dt)),Gt=U.evaluate(new Ta(Mt));return{kind:"camera",minZoom:dt,maxZoom:Mt,minSize:Dt,maxSize:Gt,interpolationType:be}}}function vm(R,D,U){var ne=D.uSize,ve=D.uSizeT,be=U.lowerSize,Pe=U.upperSize;return R.kind==="source"?be/Cu:R.kind==="composite"?Li(be/Cu,Pe/Cu,ve):ne}function dm(R,D){var U=0,ne=0;if(R.kind==="constant")ne=R.layoutSize;else if(R.kind!=="source"){var ve=R.interpolationType,be=R.minZoom,Pe=R.maxZoom,Qe=ve?h(Ii.interpolationFactor(ve,D,be,Pe),0,1):0;R.kind==="camera"?ne=Li(R.minSize,R.maxSize,Qe):U=Qe}return{uSizeT:U,uSize:ne}}var G4=Object.freeze({__proto__:null,getSizeData:ig,evaluateSizeForFeature:vm,evaluateSizeForZoom:dm,SIZE_PACK_FACTOR:Cu});function pm(R,D,U,ne,ve){if(D.segment===void 0)return!0;for(var be=D,Pe=D.segment+1,Qe=0;Qe>-U/2;){if(Pe--,Pe<0)return!1;Qe-=R[Pe].dist(be),be=R[Pe]}Qe+=R[Pe].dist(R[Pe+1]),Pe++;for(var dt=[],Mt=0;Qe<U/2;){var Dt=R[Pe-1],Gt=R[Pe],ir=R[Pe+1];if(!ir)return!1;var rr=Dt.angleTo(Gt)-Gt.angleTo(ir);for(rr=Math.abs((rr+3*Math.PI)%(Math.PI*2)-Math.PI),dt.push({distance:Qe,angleDelta:rr}),Mt+=rr;Qe-dt[0].distance>ne;)Mt-=dt.shift().angleDelta;if(Mt>ve)return!1;Pe++,Qe+=Gt.dist(ir)}return!0}function gm(R){for(var D=0,U=0;U<R.length-1;U++)D+=R[U].dist(R[U+1]);return D}function ym(R,D,U){return R?.6*D*U:0}function mm(R,D){return Math.max(R?R.right-R.left:0,D?D.right-D.left:0)}function W4(R,D,U,ne,ve,be){for(var Pe=ym(U,ve,be),Qe=mm(U,ne)*be,dt=0,Mt=gm(R)/2,Dt=0;Dt<R.length-1;Dt++){var Gt=R[Dt],ir=R[Dt+1],rr=Gt.dist(ir);if(dt+rr>Mt){var br=(Mt-dt)/rr,Ur=Li(Gt.x,ir.x,br),fn=Li(Gt.y,ir.y,br),en=new jh(Ur,fn,ir.angleTo(Gt),Dt);return en._round(),!Pe||pm(R,en,Qe,Pe,D)?en:void 0}dt+=rr}}function Y4(R,D,U,ne,ve,be,Pe,Qe,dt){var Mt=ym(ne,be,Pe),Dt=mm(ne,ve),Gt=Dt*Pe,ir=R[0].x===0||R[0].x===dt||R[0].y===0||R[0].y===dt;D-Gt<D/4&&(D=Gt+D/4);var rr=be*2,br=ir?D/2*Qe%D:(Dt/2+rr)*Pe*Qe%D;return xm(R,br,D,Mt,U,Gt,ir,!1,dt)}function xm(R,D,U,ne,ve,be,Pe,Qe,dt){for(var Mt=be/2,Dt=gm(R),Gt=0,ir=D-U,rr=[],br=0;br<R.length-1;br++){for(var Ur=R[br],fn=R[br+1],en=Ur.dist(fn),Sn=fn.angleTo(Ur);ir+U<Gt+en;){ir+=U;var xn=(ir-Gt)/en,Mn=Li(Ur.x,fn.x,xn),zn=Li(Ur.y,fn.y,xn);if(Mn>=0&&Mn<dt&&zn>=0&&zn<dt&&ir-Mt>=0&&ir+Mt<=Dt){var Yn=new jh(Mn,zn,Sn,br);Yn._round(),(!ne||pm(R,Yn,be,ne,ve))&&rr.push(Yn)}}Gt+=en}return!Qe&&!rr.length&&!Pe&&(rr=xm(R,Gt/2,U,ne,ve,be,Pe,!0,dt)),rr}function bm(R,D,U,ne,ve){for(var be=[],Pe=0;Pe<R.length;Pe++)for(var Qe=R[Pe],dt=void 0,Mt=0;Mt<Qe.length-1;Mt++){var Dt=Qe[Mt],Gt=Qe[Mt+1];Dt.x<D&&Gt.x<D||(Dt.x<D?Dt=new r(D,Dt.y+(Gt.y-Dt.y)*((D-Dt.x)/(Gt.x-Dt.x)))._round():Gt.x<D&&(Gt=new r(D,Dt.y+(Gt.y-Dt.y)*((D-Dt.x)/(Gt.x-Dt.x)))._round()),!(Dt.y<U&&Gt.y<U)&&(Dt.y<U?Dt=new r(Dt.x+(Gt.x-Dt.x)*((U-Dt.y)/(Gt.y-Dt.y)),U)._round():Gt.y<U&&(Gt=new r(Dt.x+(Gt.x-Dt.x)*((U-Dt.y)/(Gt.y-Dt.y)),U)._round()),!(Dt.x>=ne&&Gt.x>=ne)&&(Dt.x>=ne?Dt=new r(ne,Dt.y+(Gt.y-Dt.y)*((ne-Dt.x)/(Gt.x-Dt.x)))._round():Gt.x>=ne&&(Gt=new r(ne,Dt.y+(Gt.y-Dt.y)*((ne-Dt.x)/(Gt.x-Dt.x)))._round()),!(Dt.y>=ve&&Gt.y>=ve)&&(Dt.y>=ve?Dt=new r(Dt.x+(Gt.x-Dt.x)*((ve-Dt.y)/(Gt.y-Dt.y)),ve)._round():Gt.y>=ve&&(Gt=new r(Dt.x+(Gt.x-Dt.x)*((ve-Dt.y)/(Gt.y-Dt.y)),ve)._round()),(!dt||!Dt.equals(dt[dt.length-1]))&&(dt=[Dt],be.push(dt)),dt.push(Gt)))))}return be}var Zh=Is;function wm(R,D,U,ne){var ve=[],be=R.image,Pe=be.pixelRatio,Qe=be.paddedRect.w-2*Zh,dt=be.paddedRect.h-2*Zh,Mt=R.right-R.left,Dt=R.bottom-R.top,Gt=be.stretchX||[[0,Qe]],ir=be.stretchY||[[0,dt]],rr=function(li,ri){return li+ri[1]-ri[0]},br=Gt.reduce(rr,0),Ur=ir.reduce(rr,0),fn=Qe-br,en=dt-Ur,Sn=0,xn=br,Mn=0,zn=Ur,Yn=0,aa=fn,ea=0,ba=en;if(be.content&&ne){var da=be.content;Sn=lp(Gt,0,da[0]),Mn=lp(ir,0,da[1]),xn=lp(Gt,da[0],da[2]),zn=lp(ir,da[1],da[3]),Yn=da[0]-Sn,ea=da[1]-Mn,aa=da[2]-da[0]-xn,ba=da[3]-da[1]-zn}var ma=function(li,ri,Ai,Si){var Bi=up(li.stretch-Sn,xn,Mt,R.left),Wi=fp(li.fixed-Yn,aa,li.stretch,br),Ao=up(ri.stretch-Mn,zn,Dt,R.top),lo=fp(ri.fixed-ea,ba,ri.stretch,Ur),Vo=up(Ai.stretch-Sn,xn,Mt,R.left),Ho=fp(Ai.fixed-Yn,aa,Ai.stretch,br),Mo=up(Si.stretch-Mn,zn,Dt,R.top),rs=fp(Si.fixed-ea,ba,Si.stretch,Ur),ns=new r(Bi,Ao),yo=new r(Vo,Ao),as=new r(Vo,Mo),$s=new r(Bi,Mo),Df=new r(Wi/Pe,lo/Pe),Tc=new r(Ho/Pe,rs/Pe),Ac=D*Math.PI/180;if(Ac){var Mc=Math.sin(Ac),rv=Math.cos(Ac),Zl=[rv,-Mc,Mc,rv];ns._matMult(Zl),yo._matMult(Zl),$s._matMult(Zl),as._matMult(Zl)}var gp=li.stretch+li.fixed,vg=Ai.stretch+Ai.fixed,yp=ri.stretch+ri.fixed,dg=Si.stretch+Si.fixed,ml={x:be.paddedRect.x+Zh+gp,y:be.paddedRect.y+Zh+yp,w:vg-gp,h:dg-yp},nv=aa/Pe/Mt,mp=ba/Pe/Dt;return{tl:ns,tr:yo,bl:$s,br:as,tex:ml,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Df,pixelOffsetBR:Tc,minFontScaleX:nv,minFontScaleY:mp,isSDF:U}};if(!ne||!be.stretchX&&!be.stretchY)ve.push(ma({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Qe+1},{fixed:0,stretch:dt+1}));else for(var Ba=Tm(Gt,fn,br),wa=Tm(ir,en,Ur),Sa=0;Sa<Ba.length-1;Sa++)for(var Ga=Ba[Sa],Fa=Ba[Sa+1],oi=0;oi<wa.length-1;oi++){var mi=wa[oi],si=wa[oi+1];ve.push(ma(Ga,mi,Fa,si))}return ve}function lp(R,D,U){for(var ne=0,ve=0,be=R;ve<be.length;ve+=1){var Pe=be[ve];ne+=Math.max(D,Math.min(U,Pe[1]))-Math.max(D,Math.min(U,Pe[0]))}return ne}function Tm(R,D,U){for(var ne=[{fixed:-Zh,stretch:0}],ve=0,be=R;ve<be.length;ve+=1){var Pe=be[ve],Qe=Pe[0],dt=Pe[1],Mt=ne[ne.length-1];ne.push({fixed:Qe-Mt.stretch,stretch:Mt.stretch}),ne.push({fixed:Qe-Mt.stretch,stretch:Mt.stretch+(dt-Qe)})}return ne.push({fixed:D+Zh,stretch:U}),ne}function up(R,D,U,ne){return R/D*U+ne}function fp(R,D,U,ne){return R-D*U/ne}function X4(R,D,U,ne,ve,be,Pe,Qe){for(var dt=ne.layout.get("text-rotate").evaluate(be,{})*Math.PI/180,Mt=[],Dt=0,Gt=D.positionedLines;Dt<Gt.length;Dt+=1)for(var ir=Gt[Dt],rr=0,br=ir.positionedGlyphs;rr<br.length;rr+=1){var Ur=br[rr];if(Ur.rect){var fn=Ur.rect||{},en=1,Sn=am+en,xn=!0,Mn=1,zn=0,Yn=(ve||Qe)&&Ur.vertical,aa=Ur.metrics.advance*Ur.scale/2;if(Qe&&D.verticalizable){var ea=(Ur.scale-1)*Do,ba=(Do-Ur.metrics.width*Ur.scale)/2;zn=ir.lineOffset/2-(Ur.imageName?-ba:ea)}if(Ur.imageName){var da=Pe[Ur.imageName];xn=da.sdf,Mn=da.pixelRatio,Sn=Is/Mn}var ma=ve?[Ur.x+aa,Ur.y]:[0,0],Ba=ve?[0,0]:[Ur.x+aa+U[0],Ur.y+U[1]-zn],wa=[0,0];Yn&&(wa=Ba,Ba=[0,0]);var Sa=(Ur.metrics.left-Sn)*Ur.scale-aa+Ba[0],Ga=(-Ur.metrics.top-Sn)*Ur.scale+Ba[1],Fa=Sa+fn.w*Ur.scale/Mn,oi=Ga+fn.h*Ur.scale/Mn,mi=new r(Sa,Ga),si=new r(Fa,Ga),li=new r(Sa,oi),ri=new r(Fa,oi);if(Yn){var Ai=new r(-aa,aa-Qv),Si=-Math.PI/2,Bi=Do/2-aa,Wi=Ur.imageName?Bi:0,Ao=new r(5-Qv-Bi,-Wi),lo=new(Function.prototype.bind.apply(r,[null].concat(wa)));mi._rotateAround(Si,Ai)._add(Ao)._add(lo),si._rotateAround(Si,Ai)._add(Ao)._add(lo),li._rotateAround(Si,Ai)._add(Ao)._add(lo),ri._rotateAround(Si,Ai)._add(Ao)._add(lo)}if(dt){var Vo=Math.sin(dt),Ho=Math.cos(dt),Mo=[Ho,-Vo,Vo,Ho];mi._matMult(Mo),si._matMult(Mo),li._matMult(Mo),ri._matMult(Mo)}var rs=new r(0,0),ns=new r(0,0),yo=0,as=0;Mt.push({tl:mi,tr:si,bl:li,br:ri,tex:fn,writingMode:D.writingMode,glyphOffset:ma,sectionIndex:Ur.sectionIndex,isSDF:xn,pixelOffsetTL:rs,pixelOffsetBR:ns,minFontScaleX:yo,minFontScaleY:as})}}return Mt}var cp=function(D,U,ne,ve,be,Pe,Qe,dt,Mt,Dt){if(this.boxStartIndex=D.length,Mt){var Gt=Pe.top,ir=Pe.bottom,rr=Pe.collisionPadding;rr&&(Gt-=rr[1],ir+=rr[3]);var br=ir-Gt;br>0&&(br=Math.max(10,br),this.circleDiameter=br)}else{var Ur=Pe.top*Qe-dt,fn=Pe.bottom*Qe+dt,en=Pe.left*Qe-dt,Sn=Pe.right*Qe+dt,xn=Pe.collisionPadding;if(xn&&(en-=xn[0]*Qe,Ur-=xn[1]*Qe,Sn+=xn[2]*Qe,fn+=xn[3]*Qe),Dt){var Mn=new r(en,Ur),zn=new r(Sn,Ur),Yn=new r(en,fn),aa=new r(Sn,fn),ea=Dt*Math.PI/180;Mn._rotate(ea),zn._rotate(ea),Yn._rotate(ea),aa._rotate(ea),en=Math.min(Mn.x,zn.x,Yn.x,aa.x),Sn=Math.max(Mn.x,zn.x,Yn.x,aa.x),Ur=Math.min(Mn.y,zn.y,Yn.y,aa.y),fn=Math.max(Mn.y,zn.y,Yn.y,aa.y)}D.emplaceBack(U.x,U.y,en,Ur,Sn,fn,ne,ve,be)}this.boxEndIndex=D.length},Kh=function(D,U){if(D===void 0&&(D=[]),U===void 0&&(U=j4),this.data=D,this.length=this.data.length,this.compare=U,this.length>0)for(var ne=(this.length>>1)-1;ne>=0;ne--)this._down(ne)};Kh.prototype.push=function(D){this.data.push(D),this.length++,this._up(this.length-1)},Kh.prototype.pop=function(){if(this.length!==0){var D=this.data[0],U=this.data.pop();return this.length--,this.length>0&&(this.data[0]=U,this._down(0)),D}},Kh.prototype.peek=function(){return this.data[0]},Kh.prototype._up=function(D){for(var U=this,ne=U.data,ve=U.compare,be=ne[D];D>0;){var Pe=D-1>>1,Qe=ne[Pe];if(ve(be,Qe)>=0)break;ne[D]=Qe,D=Pe}ne[D]=be},Kh.prototype._down=function(D){for(var U=this,ne=U.data,ve=U.compare,be=this.length>>1,Pe=ne[D];D<be;){var Qe=(D<<1)+1,dt=ne[Qe],Mt=Qe+1;if(Mt<this.length&&ve(ne[Mt],dt)<0&&(Qe=Mt,dt=ne[Mt]),ve(dt,Pe)>=0)break;ne[D]=dt,D=Qe}ne[D]=Pe};function j4(R,D){return R<D?-1:R>D?1:0}function Z4(R,D,U){U===void 0&&(U=!1);for(var ne=1/0,ve=1/0,be=-1/0,Pe=-1/0,Qe=R[0],dt=0;dt<Qe.length;dt++){var Mt=Qe[dt];(!dt||Mt.x<ne)&&(ne=Mt.x),(!dt||Mt.y<ve)&&(ve=Mt.y),(!dt||Mt.x>be)&&(be=Mt.x),(!dt||Mt.y>Pe)&&(Pe=Mt.y)}var Dt=be-ne,Gt=Pe-ve,ir=Math.min(Dt,Gt),rr=ir/2,br=new Kh([],K4);if(ir===0)return new r(ne,ve);for(var Ur=ne;Ur<be;Ur+=ir)for(var fn=ve;fn<Pe;fn+=ir)br.push(new Jh(Ur+rr,fn+rr,rr,R));for(var en=Q4(R),Sn=br.length;br.length;){var xn=br.pop();(xn.d>en.d||!en.d)&&(en=xn,U&&console.log("found best %d after %d probes",Math.round(1e4*xn.d)/1e4,Sn)),!(xn.max-en.d<=D)&&(rr=xn.h/2,br.push(new Jh(xn.p.x-rr,xn.p.y-rr,rr,R)),br.push(new Jh(xn.p.x+rr,xn.p.y-rr,rr,R)),br.push(new Jh(xn.p.x-rr,xn.p.y+rr,rr,R)),br.push(new Jh(xn.p.x+rr,xn.p.y+rr,rr,R)),Sn+=4)}return U&&(console.log("num probes: "+Sn),console.log("best distance: "+en.d)),en.p}function K4(R,D){return D.max-R.max}function Jh(R,D,U,ne){this.p=new r(R,D),this.h=U,this.d=J4(this.p,ne),this.max=this.d+this.h*Math.SQRT2}function J4(R,D){for(var U=!1,ne=1/0,ve=0;ve<D.length;ve++)for(var be=D[ve],Pe=0,Qe=be.length,dt=Qe-1;Pe<Qe;dt=Pe++){var Mt=be[Pe],Dt=be[dt];Mt.y>R.y!=Dt.y>R.y&&R.x<(Dt.x-Mt.x)*(R.y-Mt.y)/(Dt.y-Mt.y)+Mt.x&&(U=!U),ne=Math.min(ne,Cf(R,Mt,Dt))}return(U?1:-1)*Math.sqrt(ne)}function Q4(R){for(var D=0,U=0,ne=0,ve=R[0],be=0,Pe=ve.length,Qe=Pe-1;be<Pe;Qe=be++){var dt=ve[be],Mt=ve[Qe],Dt=dt.x*Mt.y-Mt.x*dt.y;U+=(dt.x+Mt.x)*Dt,ne+=(dt.y+Mt.y)*Dt,D+=Dt*3}return new Jh(U/D,ne/D,0,R)}var Qh=7,og=Number.POSITIVE_INFINITY;function Am(R,D){function U(ve,be){var Pe=0,Qe=0;be<0&&(be=0);var dt=be/Math.sqrt(2);switch(ve){case"top-right":case"top-left":Qe=dt-Qh;break;case"bottom-right":case"bottom-left":Qe=-dt+Qh;break;case"bottom":Qe=-be+Qh;break;case"top":Qe=be-Qh;break}switch(ve){case"top-right":case"bottom-right":Pe=-dt;break;case"top-left":case"bottom-left":Pe=dt;break;case"left":Pe=be;break;case"right":Pe=-be;break}return[Pe,Qe]}function ne(ve,be,Pe){var Qe=0,dt=0;switch(be=Math.abs(be),Pe=Math.abs(Pe),ve){case"top-right":case"top-left":case"top":dt=Pe-Qh;break;case"bottom-right":case"bottom-left":case"bottom":dt=-Pe+Qh;break}switch(ve){case"top-right":case"bottom-right":case"right":Qe=-be;break;case"top-left":case"bottom-left":case"left":Qe=be;break}return[Qe,dt]}return D[1]!==og?ne(R,D[0],D[1]):U(R,D[0])}function $4(R,D,U,ne,ve,be,Pe){R.createArrays();var Qe=512*R.overscaling;R.tilePixelRatio=Aa/Qe,R.compareText={},R.iconsNeedLinear=!1;var dt=R.layers[0].layout,Mt=R.layers[0]._unevaluatedLayout._values,Dt={};if(R.textSizeData.kind==="composite"){var Gt=R.textSizeData,ir=Gt.minZoom,rr=Gt.maxZoom;Dt.compositeTextSizes=[Mt["text-size"].possiblyEvaluate(new Ta(ir),Pe),Mt["text-size"].possiblyEvaluate(new Ta(rr),Pe)]}if(R.iconSizeData.kind==="composite"){var br=R.iconSizeData,Ur=br.minZoom,fn=br.maxZoom;Dt.compositeIconSizes=[Mt["icon-size"].possiblyEvaluate(new Ta(Ur),Pe),Mt["icon-size"].possiblyEvaluate(new Ta(fn),Pe)]}Dt.layoutTextSize=Mt["text-size"].possiblyEvaluate(new Ta(R.zoom+1),Pe),Dt.layoutIconSize=Mt["icon-size"].possiblyEvaluate(new Ta(R.zoom+1),Pe),Dt.textMaxSize=Mt["text-size"].possiblyEvaluate(new Ta(18));for(var en=dt.get("text-line-height")*Do,Sn=dt.get("text-rotation-alignment")==="map"&&dt.get("symbol-placement")!=="point",xn=dt.get("text-keep-upright"),Mn=dt.get("text-size"),zn=function(){var ea=aa[Yn],ba=dt.get("text-font").evaluate(ea,{},Pe).join(","),da=Mn.evaluate(ea,{},Pe),ma=Dt.layoutTextSize.evaluate(ea,{},Pe),Ba=Dt.layoutIconSize.evaluate(ea,{},Pe),wa={horizontal:{},vertical:void 0},Sa=ea.text,Ga=[0,0];if(Sa){var Fa=Sa.toString(),oi=dt.get("text-letter-spacing").evaluate(ea,{},Pe)*Do,mi=Rr(Fa)?oi:0,si=dt.get("text-anchor").evaluate(ea,{},Pe),li=dt.get("text-variable-anchor");if(!li){var ri=dt.get("text-radial-offset").evaluate(ea,{},Pe);ri?Ga=Am(si,[ri*Do,og]):Ga=dt.get("text-offset").evaluate(ea,{},Pe).map(function(Df){return Df*Do})}var Ai=Sn?"center":dt.get("text-justify").evaluate(ea,{},Pe),Si=dt.get("symbol-placement"),Bi=Si==="point"?dt.get("text-max-width").evaluate(ea,{},Pe)*Do:0,Wi=function(){R.allowVerticalPlacement&&ar(Fa)&&(wa.vertical=sp(Sa,D,U,ve,ba,Bi,en,si,"left",mi,Ga,Qs.vertical,!0,Si,ma,da))};if(!Sn&&li){for(var Ao=Ai==="auto"?li.map(function(Df){return sg(Df)}):[Ai],lo=!1,Vo=0;Vo<Ao.length;Vo++){var Ho=Ao[Vo];if(!wa.horizontal[Ho])if(lo)wa.horizontal[Ho]=wa.horizontal[0];else{var Mo=sp(Sa,D,U,ve,ba,Bi,en,"center",Ho,mi,Ga,Qs.horizontal,!1,Si,ma,da);Mo&&(wa.horizontal[Ho]=Mo,lo=Mo.positionedLines.length===1)}}Wi()}else{Ai==="auto"&&(Ai=sg(si));var rs=sp(Sa,D,U,ve,ba,Bi,en,si,Ai,mi,Ga,Qs.horizontal,!1,Si,ma,da);rs&&(wa.horizontal[Ai]=rs),Wi(),ar(Fa)&&Sn&&xn&&(wa.vertical=sp(Sa,D,U,ve,ba,Bi,en,si,Ai,mi,Ga,Qs.vertical,!1,Si,ma,da))}}var ns=void 0,yo=!1;if(ea.icon&&ea.icon.name){var as=ne[ea.icon.name];as&&(ns=H4(ve[ea.icon.name],dt.get("icon-offset").evaluate(ea,{},Pe),dt.get("icon-anchor").evaluate(ea,{},Pe)),yo=as.sdf,R.sdfIcons===void 0?R.sdfIcons=as.sdf:R.sdfIcons!==as.sdf&&F("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(as.pixelRatio!==R.pixelRatio||dt.get("icon-rotate").constantOr(1)!==0)&&(R.iconsNeedLinear=!0))}var $s=Sm(wa.horizontal)||wa.vertical;R.iconsInText=$s?$s.iconsInText:!1,($s||ns)&&q4(R,ea,wa,ns,ne,Dt,ma,Ba,Ga,yo,Pe)},Yn=0,aa=R.features;Yn<aa.length;Yn+=1)zn();be&&R.generateCollisionDebugBuffers()}function sg(R){switch(R){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function q4(R,D,U,ne,ve,be,Pe,Qe,dt,Mt,Dt){var Gt=be.textMaxSize.evaluate(D,{});Gt===void 0&&(Gt=Pe);var ir=R.layers[0].layout,rr=ir.get("icon-offset").evaluate(D,{},Dt),br=Sm(U.horizontal),Ur=24,fn=Pe/Ur,en=R.tilePixelRatio*fn,Sn=R.tilePixelRatio*Gt/Ur,xn=R.tilePixelRatio*Qe,Mn=R.tilePixelRatio*ir.get("symbol-spacing"),zn=ir.get("text-padding")*R.tilePixelRatio,Yn=ir.get("icon-padding")*R.tilePixelRatio,aa=ir.get("text-max-angle")/180*Math.PI,ea=ir.get("text-rotation-alignment")==="map"&&ir.get("symbol-placement")!=="point",ba=ir.get("icon-rotation-alignment")==="map"&&ir.get("symbol-placement")!=="point",da=ir.get("symbol-placement"),ma=Mn/2,Ba=ir.get("icon-text-fit"),wa;ne&&Ba!=="none"&&(R.allowVerticalPlacement&&U.vertical&&(wa=hm(ne,U.vertical,Ba,ir.get("icon-text-fit-padding"),rr,fn)),br&&(ne=hm(ne,br,Ba,ir.get("icon-text-fit-padding"),rr,fn)));var Sa=function(rv,Zl){Zl.x<0||Zl.x>=Aa||Zl.y<0||Zl.y>=Aa||eT(R,Zl,rv,U,ne,ve,wa,R.layers[0],R.collisionBoxArray,D.index,D.sourceLayerIndex,R.index,en,zn,ea,dt,xn,Yn,ba,rr,D,be,Mt,Dt,Pe)};if(da==="line")for(var Ga=0,Fa=bm(D.geometry,0,0,Aa,Aa);Ga<Fa.length;Ga+=1)for(var oi=Fa[Ga],mi=Y4(oi,Mn,aa,U.vertical||br,ne,Ur,Sn,R.overscaling,Aa),si=0,li=mi;si<li.length;si+=1){var ri=li[si],Ai=br;(!Ai||!tT(R,Ai.text,ma,ri))&&Sa(oi,ri)}else if(da==="line-center")for(var Si=0,Bi=D.geometry;Si<Bi.length;Si+=1){var Wi=Bi[Si];if(Wi.length>1){var Ao=W4(Wi,aa,U.vertical||br,ne,Ur,Sn);Ao&&Sa(Wi,Ao)}}else if(D.type==="Polygon")for(var lo=0,Vo=Q0(D.geometry,0);lo<Vo.length;lo+=1){var Ho=Vo[lo],Mo=Z4(Ho,16);Sa(Ho[0],new jh(Mo.x,Mo.y,0))}else if(D.type==="LineString")for(var rs=0,ns=D.geometry;rs<ns.length;rs+=1){var yo=ns[rs];Sa(yo,new jh(yo[0].x,yo[0].y,0))}else if(D.type==="Point")for(var as=0,$s=D.geometry;as<$s.length;as+=1)for(var Df=$s[as],Tc=0,Ac=Df;Tc<Ac.length;Tc+=1){var Mc=Ac[Tc];Sa([Mc],new jh(Mc.x,Mc.y,0))}}var $v=255,bc=$v*Cu;function Mm(R,D,U,ne,ve,be,Pe,Qe,dt,Mt,Dt,Gt,ir,rr,br){var Ur=X4(D,U,Qe,ve,be,Pe,ne,R.allowVerticalPlacement),fn=R.textSizeData,en=null;fn.kind==="source"?(en=[Cu*ve.layout.get("text-size").evaluate(Pe,{})],en[0]>bc&&F(R.layerIds[0]+': Value for "text-size" is >= '+$v+'. Reduce your "text-size".')):fn.kind==="composite"&&(en=[Cu*rr.compositeTextSizes[0].evaluate(Pe,{},br),Cu*rr.compositeTextSizes[1].evaluate(Pe,{},br)],(en[0]>bc||en[1]>bc)&&F(R.layerIds[0]+': Value for "text-size" is >= '+$v+'. Reduce your "text-size".')),R.addSymbols(R.text,Ur,en,Qe,be,Pe,Mt,D,dt.lineStartIndex,dt.lineLength,ir,br);for(var Sn=0,xn=Dt;Sn<xn.length;Sn+=1){var Mn=xn[Sn];Gt[Mn]=R.text.placedSymbolArray.length-1}return Ur.length*4}function Sm(R){for(var D in R)return R[D];return null}function eT(R,D,U,ne,ve,be,Pe,Qe,dt,Mt,Dt,Gt,ir,rr,br,Ur,fn,en,Sn,xn,Mn,zn,Yn,aa,ea){var ba,da=R.addToLineVertexArray(D,U),ma,Ba,wa,Sa,Ga=0,Fa=0,oi=0,mi=0,si=-1,li=-1,ri={},Ai=pe(""),Si=0,Bi=0;if(Qe._unevaluatedLayout.getValue("text-radial-offset")===void 0?(ba=Qe.layout.get("text-offset").evaluate(Mn,{},aa).map(function(td){return td*Do}),Si=ba[0],Bi=ba[1]):(Si=Qe.layout.get("text-radial-offset").evaluate(Mn,{},aa)*Do,Bi=og),R.allowVerticalPlacement&&ne.vertical){var Wi=Qe.layout.get("text-rotate").evaluate(Mn,{},aa),Ao=Wi+90,lo=ne.vertical;wa=new cp(dt,D,Mt,Dt,Gt,lo,ir,rr,br,Ao),Pe&&(Sa=new cp(dt,D,Mt,Dt,Gt,Pe,fn,en,br,Ao))}if(ve){var Vo=Qe.layout.get("icon-rotate").evaluate(Mn,{}),Ho=Qe.layout.get("icon-text-fit")!=="none",Mo=wm(ve,Vo,Yn,Ho),rs=Pe?wm(Pe,Vo,Yn,Ho):void 0;Ba=new cp(dt,D,Mt,Dt,Gt,ve,fn,en,!1,Vo),Ga=Mo.length*4;var ns=R.iconSizeData,yo=null;ns.kind==="source"?(yo=[Cu*Qe.layout.get("icon-size").evaluate(Mn,{})],yo[0]>bc&&F(R.layerIds[0]+': Value for "icon-size" is >= '+$v+'. Reduce your "icon-size".')):ns.kind==="composite"&&(yo=[Cu*zn.compositeIconSizes[0].evaluate(Mn,{},aa),Cu*zn.compositeIconSizes[1].evaluate(Mn,{},aa)],(yo[0]>bc||yo[1]>bc)&&F(R.layerIds[0]+': Value for "icon-size" is >= '+$v+'. Reduce your "icon-size".')),R.addSymbols(R.icon,Mo,yo,xn,Sn,Mn,!1,D,da.lineStartIndex,da.lineLength,-1,aa),si=R.icon.placedSymbolArray.length-1,rs&&(Fa=rs.length*4,R.addSymbols(R.icon,rs,yo,xn,Sn,Mn,Qs.vertical,D,da.lineStartIndex,da.lineLength,-1,aa),li=R.icon.placedSymbolArray.length-1)}for(var as in ne.horizontal){var $s=ne.horizontal[as];if(!ma){Ai=pe($s.text);var Df=Qe.layout.get("text-rotate").evaluate(Mn,{},aa);ma=new cp(dt,D,Mt,Dt,Gt,$s,ir,rr,br,Df)}var Tc=$s.positionedLines.length===1;if(oi+=Mm(R,D,$s,be,Qe,br,Mn,Ur,da,ne.vertical?Qs.horizontal:Qs.horizontalOnly,Tc?Object.keys(ne.horizontal):[as],ri,si,zn,aa),Tc)break}ne.vertical&&(mi+=Mm(R,D,ne.vertical,be,Qe,br,Mn,Ur,da,Qs.vertical,["vertical"],ri,li,zn,aa));var Ac=ma?ma.boxStartIndex:R.collisionBoxArray.length,Mc=ma?ma.boxEndIndex:R.collisionBoxArray.length,rv=wa?wa.boxStartIndex:R.collisionBoxArray.length,Zl=wa?wa.boxEndIndex:R.collisionBoxArray.length,gp=Ba?Ba.boxStartIndex:R.collisionBoxArray.length,vg=Ba?Ba.boxEndIndex:R.collisionBoxArray.length,yp=Sa?Sa.boxStartIndex:R.collisionBoxArray.length,dg=Sa?Sa.boxEndIndex:R.collisionBoxArray.length,ml=-1,nv=function(td,Vm){return td&&td.circleDiameter?Math.max(td.circleDiameter,Vm):Vm};ml=nv(ma,ml),ml=nv(wa,ml),ml=nv(Ba,ml),ml=nv(Sa,ml);var mp=ml>-1?1:0;mp&&(ml*=ea/Do),R.glyphOffsetArray.length>=yi.MAX_GLYPHS&&F("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Mn.sortKey!==void 0&&R.addToSortKeyRanges(R.symbolInstances.length,Mn.sortKey),R.symbolInstances.emplaceBack(D.x,D.y,ri.right>=0?ri.right:-1,ri.center>=0?ri.center:-1,ri.left>=0?ri.left:-1,ri.vertical||-1,si,li,Ai,Ac,Mc,rv,Zl,gp,vg,yp,dg,Mt,oi,mi,Ga,Fa,mp,0,ir,Si,Bi,ml)}function tT(R,D,U,ne){var ve=R.compareText;if(!(D in ve))ve[D]=[];else for(var be=ve[D],Pe=be.length-1;Pe>=0;Pe--)if(ne.dist(be[Pe])<U)return!0;return ve[D].push(ne),!1}var rT=Gh.VectorTileFeature.types,nT=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function hp(R,D,U,ne,ve,be,Pe,Qe,dt,Mt,Dt,Gt,ir){var rr=Qe?Math.min(bc,Math.round(Qe[0])):0,br=Qe?Math.min(bc,Math.round(Qe[1])):0;R.emplaceBack(D,U,Math.round(ne*32),Math.round(ve*32),be,Pe,(rr<<1)+(dt?1:0),br,Mt*16,Dt*16,Gt*256,ir*256)}function lg(R,D,U){R.emplaceBack(D.x,D.y,U),R.emplaceBack(D.x,D.y,U),R.emplaceBack(D.x,D.y,U),R.emplaceBack(D.x,D.y,U)}function aT(R){for(var D=0,U=R.sections;D<U.length;D+=1){var ne=U[D];if(qr(ne.text))return!0}return!1}var $h=function(D){this.layoutVertexArray=new $u,this.indexArray=new Au,this.programConfigurations=D,this.segments=new ao,this.dynamicLayoutVertexArray=new zv,this.opacityVertexArray=new Fv,this.placedSymbolArray=new Nv};$h.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},$h.prototype.upload=function(D,U,ne,ve){this.isEmpty()||(ne&&(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,a4.members),this.indexBuffer=D.createIndexBuffer(this.indexArray,U),this.dynamicLayoutVertexBuffer=D.createVertexBuffer(this.dynamicLayoutVertexArray,i4.members,!0),this.opacityVertexBuffer=D.createVertexBuffer(this.opacityVertexArray,nT,!0),this.opacityVertexBuffer.itemSize=1),(ne||ve)&&this.programConfigurations.upload(D))},$h.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Be("SymbolBuffers",$h);var qv=function(D,U,ne){this.layoutVertexArray=new D,this.layoutAttributes=U,this.indexArray=new ne,this.segments=new ao,this.collisionVertexArray=new ds};qv.prototype.upload=function(D){this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=D.createVertexBuffer(this.collisionVertexArray,o4.members,!0)},qv.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Be("CollisionBuffers",qv);var yi=function(D){this.collisionBoxArray=D.collisionBoxArray,this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(dt){return dt.id}),this.index=D.index,this.pixelRatio=D.pixelRatio,this.sourceLayerIndex=D.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Bh([]),this.placementViewportMatrix=Bh([]);var U=this.layers[0],ne=U._unevaluatedLayout._values;this.textSizeData=ig(this.zoom,ne["text-size"]),this.iconSizeData=ig(this.zoom,ne["icon-size"]);var ve=this.layers[0].layout,be=ve.get("symbol-sort-key"),Pe=ve.get("symbol-z-order");this.canOverlap=ve.get("text-allow-overlap")||ve.get("icon-allow-overlap")||ve.get("text-ignore-placement")||ve.get("icon-ignore-placement"),this.sortFeaturesByKey=Pe!=="viewport-y"&&be.constantOr(1)!==void 0;var Qe=Pe==="viewport-y"||Pe==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Qe&&this.canOverlap,ve.get("symbol-placement")==="point"&&(this.writingModes=ve.get("text-writing-mode").map(function(dt){return Qs[dt]})),this.stateDependentLayerIds=this.layers.filter(function(dt){return dt.isStateDependent()}).map(function(dt){return dt.id}),this.sourceID=D.sourceID};yi.prototype.createArrays=function(){this.text=new $h(new va(this.layers,this.zoom,function(D){return/^text/.test(D)})),this.icon=new $h(new va(this.layers,this.zoom,function(D){return/^icon/.test(D)})),this.glyphOffsetArray=new Zd,this.lineVertexArray=new vl,this.symbolInstances=new jd},yi.prototype.calculateGlyphDependencies=function(D,U,ne,ve,be){for(var Pe=0;Pe<D.length;Pe++)if(U[D.charCodeAt(Pe)]=!0,(ne||ve)&&be){var Qe=Zv[D.charAt(Pe)];Qe&&(U[Qe.charCodeAt(0)]=!0)}},yi.prototype.populate=function(D,U,ne){var ve=this.layers[0],be=ve.layout,Pe=be.get("text-font"),Qe=be.get("text-field"),dt=be.get("icon-image"),Mt=(Qe.value.kind!=="constant"||Qe.value.value instanceof ji&&!Qe.value.value.isEmpty()||Qe.value.value.toString().length>0)&&(Pe.value.kind!=="constant"||Pe.value.value.length>0),Dt=dt.value.kind!=="constant"||!!dt.value.value||Object.keys(dt.parameters).length>0,Gt=be.get("symbol-sort-key");if(this.features=[],!(!Mt&&!Dt)){for(var ir=U.iconDependencies,rr=U.glyphDependencies,br=U.availableImages,Ur=new Ta(this.zoom),fn=0,en=D;fn<en.length;fn+=1){var Sn=en[fn],xn=Sn.feature,Mn=Sn.id,zn=Sn.index,Yn=Sn.sourceLayerIndex,aa=ve._featureFilter.needGeometry,ea=Ti(xn,aa);if(ve._featureFilter.filter(Ur,ea,ne)){aa||(ea.geometry=ti(xn));var ba=void 0;if(Mt){var da=ve.getValueAndResolveTokens("text-field",ea,ne,br),ma=ji.factory(da);aT(ma)&&(this.hasRTLText=!0),(!this.hasRTLText||ka()==="unavailable"||this.hasRTLText&&$n.isParsed())&&(ba=u4(ma,ve,ea))}var Ba=void 0;if(Dt){var wa=ve.getValueAndResolveTokens("icon-image",ea,ne,br);wa instanceof xo?Ba=wa:Ba=xo.fromString(wa)}if(!(!ba&&!Ba)){var Sa=this.sortFeaturesByKey?Gt.evaluate(ea,{},ne):void 0,Ga={id:Mn,text:ba,icon:Ba,index:zn,sourceLayerIndex:Yn,geometry:ea.geometry,properties:xn.properties,type:rT[xn.type],sortKey:Sa};if(this.features.push(Ga),Ba&&(ir[Ba.name]=!0),ba){var Fa=Pe.evaluate(ea,{},ne).join(","),oi=be.get("text-rotation-alignment")==="map"&&be.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Qs.vertical)>=0;for(var mi=0,si=ba.sections;mi<si.length;mi+=1){var li=si[mi];if(li.image)ir[li.image.name]=!0;else{var ri=ar(ba.toString()),Ai=li.fontStack||Fa,Si=rr[Ai]=rr[Ai]||{};this.calculateGlyphDependencies(li.text,Si,oi,this.allowVerticalPlacement,ri)}}}}}}be.get("symbol-placement")==="line"&&(this.features=f4(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Bi,Wi){return Bi.sortKey-Wi.sortKey})}},yi.prototype.update=function(D,U,ne){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(D,U,this.layers,ne),this.icon.programConfigurations.updatePaintArrays(D,U,this.layers,ne))},yi.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},yi.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},yi.prototype.upload=function(D){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(D),this.iconCollisionBox.upload(D)),this.text.upload(D,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(D,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},yi.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},yi.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},yi.prototype.addToLineVertexArray=function(D,U){var ne=this.lineVertexArray.length;if(D.segment!==void 0){for(var ve=D.dist(U[D.segment+1]),be=D.dist(U[D.segment]),Pe={},Qe=D.segment+1;Qe<U.length;Qe++)Pe[Qe]={x:U[Qe].x,y:U[Qe].y,tileUnitDistanceFromAnchor:ve},Qe<U.length-1&&(ve+=U[Qe+1].dist(U[Qe]));for(var dt=D.segment||0;dt>=0;dt--)Pe[dt]={x:U[dt].x,y:U[dt].y,tileUnitDistanceFromAnchor:be},dt>0&&(be+=U[dt-1].dist(U[dt]));for(var Mt=0;Mt<U.length;Mt++){var Dt=Pe[Mt];this.lineVertexArray.emplaceBack(Dt.x,Dt.y,Dt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:ne,lineLength:this.lineVertexArray.length-ne}},yi.prototype.addSymbols=function(D,U,ne,ve,be,Pe,Qe,dt,Mt,Dt,Gt,ir){for(var rr=D.indexArray,br=D.layoutVertexArray,Ur=D.segments.prepareSegment(4*U.length,br,rr,this.canOverlap?Pe.sortKey:void 0),fn=this.glyphOffsetArray.length,en=Ur.vertexLength,Sn=this.allowVerticalPlacement&&Qe===Qs.vertical?Math.PI/2:0,xn=Pe.text&&Pe.text.sections,Mn=0;Mn<U.length;Mn++){var zn=U[Mn],Yn=zn.tl,aa=zn.tr,ea=zn.bl,ba=zn.br,da=zn.tex,ma=zn.pixelOffsetTL,Ba=zn.pixelOffsetBR,wa=zn.minFontScaleX,Sa=zn.minFontScaleY,Ga=zn.glyphOffset,Fa=zn.isSDF,oi=zn.sectionIndex,mi=Ur.vertexLength,si=Ga[1];hp(br,dt.x,dt.y,Yn.x,si+Yn.y,da.x,da.y,ne,Fa,ma.x,ma.y,wa,Sa),hp(br,dt.x,dt.y,aa.x,si+aa.y,da.x+da.w,da.y,ne,Fa,Ba.x,ma.y,wa,Sa),hp(br,dt.x,dt.y,ea.x,si+ea.y,da.x,da.y+da.h,ne,Fa,ma.x,Ba.y,wa,Sa),hp(br,dt.x,dt.y,ba.x,si+ba.y,da.x+da.w,da.y+da.h,ne,Fa,Ba.x,Ba.y,wa,Sa),lg(D.dynamicLayoutVertexArray,dt,Sn),rr.emplaceBack(mi,mi+1,mi+2),rr.emplaceBack(mi+1,mi+2,mi+3),Ur.vertexLength+=4,Ur.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ga[0]),(Mn===U.length-1||oi!==U[Mn+1].sectionIndex)&&D.programConfigurations.populatePaintArrays(br.length,Pe,Pe.index,{},ir,xn&&xn[oi])}D.placedSymbolArray.emplaceBack(dt.x,dt.y,fn,this.glyphOffsetArray.length-fn,en,Mt,Dt,dt.segment,ne?ne[0]:0,ne?ne[1]:0,ve[0],ve[1],Qe,0,!1,0,Gt)},yi.prototype._addCollisionDebugVertex=function(D,U,ne,ve,be,Pe){return U.emplaceBack(0,0),D.emplaceBack(ne.x,ne.y,ve,be,Math.round(Pe.x),Math.round(Pe.y))},yi.prototype.addCollisionDebugVertices=function(D,U,ne,ve,be,Pe,Qe){var dt=be.segments.prepareSegment(4,be.layoutVertexArray,be.indexArray),Mt=dt.vertexLength,Dt=be.layoutVertexArray,Gt=be.collisionVertexArray,ir=Qe.anchorX,rr=Qe.anchorY;this._addCollisionDebugVertex(Dt,Gt,Pe,ir,rr,new r(D,U)),this._addCollisionDebugVertex(Dt,Gt,Pe,ir,rr,new r(ne,U)),this._addCollisionDebugVertex(Dt,Gt,Pe,ir,rr,new r(ne,ve)),this._addCollisionDebugVertex(Dt,Gt,Pe,ir,rr,new r(D,ve)),dt.vertexLength+=4;var br=be.indexArray;br.emplaceBack(Mt,Mt+1),br.emplaceBack(Mt+1,Mt+2),br.emplaceBack(Mt+2,Mt+3),br.emplaceBack(Mt+3,Mt),dt.primitiveLength+=4},yi.prototype.addDebugCollisionBoxes=function(D,U,ne,ve){for(var be=D;be<U;be++){var Pe=this.collisionBoxArray.get(be),Qe=Pe.x1,dt=Pe.y1,Mt=Pe.x2,Dt=Pe.y2;this.addCollisionDebugVertices(Qe,dt,Mt,Dt,ve?this.textCollisionBox:this.iconCollisionBox,Pe.anchorPoint,ne)}},yi.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new qv(Ih,q1.members,ch),this.iconCollisionBox=new qv(Ih,q1.members,ch);for(var D=0;D<this.symbolInstances.length;D++){var U=this.symbolInstances.get(D);this.addDebugCollisionBoxes(U.textBoxStartIndex,U.textBoxEndIndex,U,!0),this.addDebugCollisionBoxes(U.verticalTextBoxStartIndex,U.verticalTextBoxEndIndex,U,!0),this.addDebugCollisionBoxes(U.iconBoxStartIndex,U.iconBoxEndIndex,U,!1),this.addDebugCollisionBoxes(U.verticalIconBoxStartIndex,U.verticalIconBoxEndIndex,U,!1)}},yi.prototype._deserializeCollisionBoxesForSymbol=function(D,U,ne,ve,be,Pe,Qe,dt,Mt){for(var Dt={},Gt=U;Gt<ne;Gt++){var ir=D.get(Gt);Dt.textBox={x1:ir.x1,y1:ir.y1,x2:ir.x2,y2:ir.y2,anchorPointX:ir.anchorPointX,anchorPointY:ir.anchorPointY},Dt.textFeatureIndex=ir.featureIndex;break}for(var rr=ve;rr<be;rr++){var br=D.get(rr);Dt.verticalTextBox={x1:br.x1,y1:br.y1,x2:br.x2,y2:br.y2,anchorPointX:br.anchorPointX,anchorPointY:br.anchorPointY},Dt.verticalTextFeatureIndex=br.featureIndex;break}for(var Ur=Pe;Ur<Qe;Ur++){var fn=D.get(Ur);Dt.iconBox={x1:fn.x1,y1:fn.y1,x2:fn.x2,y2:fn.y2,anchorPointX:fn.anchorPointX,anchorPointY:fn.anchorPointY},Dt.iconFeatureIndex=fn.featureIndex;break}for(var en=dt;en<Mt;en++){var Sn=D.get(en);Dt.verticalIconBox={x1:Sn.x1,y1:Sn.y1,x2:Sn.x2,y2:Sn.y2,anchorPointX:Sn.anchorPointX,anchorPointY:Sn.anchorPointY},Dt.verticalIconFeatureIndex=Sn.featureIndex;break}return Dt},yi.prototype.deserializeCollisionBoxes=function(D){this.collisionArrays=[];for(var U=0;U<this.symbolInstances.length;U++){var ne=this.symbolInstances.get(U);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(D,ne.textBoxStartIndex,ne.textBoxEndIndex,ne.verticalTextBoxStartIndex,ne.verticalTextBoxEndIndex,ne.iconBoxStartIndex,ne.iconBoxEndIndex,ne.verticalIconBoxStartIndex,ne.verticalIconBoxEndIndex))}},yi.prototype.hasTextData=function(){return this.text.segments.get().length>0},yi.prototype.hasIconData=function(){return this.icon.segments.get().length>0},yi.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},yi.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},yi.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},yi.prototype.addIndicesForPlacedSymbol=function(D,U){for(var ne=D.placedSymbolArray.get(U),ve=ne.vertexStartIndex+ne.numGlyphs*4,be=ne.vertexStartIndex;be<ve;be+=4)D.indexArray.emplaceBack(be,be+1,be+2),D.indexArray.emplaceBack(be+1,be+2,be+3)},yi.prototype.getSortedSymbolIndexes=function(D){if(this.sortedAngle===D&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var U=Math.sin(D),ne=Math.cos(D),ve=[],be=[],Pe=[],Qe=0;Qe<this.symbolInstances.length;++Qe){Pe.push(Qe);var dt=this.symbolInstances.get(Qe);ve.push(Math.round(U*dt.anchorX+ne*dt.anchorY)|0),be.push(dt.featureIndex)}return Pe.sort(function(Mt,Dt){return ve[Mt]-ve[Dt]||be[Dt]-be[Mt]}),Pe},yi.prototype.addToSortKeyRanges=function(D,U){var ne=this.sortKeyRanges[this.sortKeyRanges.length-1];ne&&ne.sortKey===U?ne.symbolInstanceEnd=D+1:this.sortKeyRanges.push({sortKey:U,symbolInstanceStart:D,symbolInstanceEnd:D+1})},yi.prototype.sortFeatures=function(D){var U=this;if(this.sortFeaturesByY&&this.sortedAngle!==D&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(D),this.sortedAngle=D,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var ne=0,ve=this.symbolInstanceIndexes;ne<ve.length;ne+=1){var be=ve[ne],Pe=this.symbolInstances.get(be);this.featureSortOrder.push(Pe.featureIndex),[Pe.rightJustifiedTextSymbolIndex,Pe.centerJustifiedTextSymbolIndex,Pe.leftJustifiedTextSymbolIndex].forEach(function(Qe,dt,Mt){Qe>=0&&Mt.indexOf(Qe)===dt&&U.addIndicesForPlacedSymbol(U.text,Qe)}),Pe.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Pe.verticalPlacedTextSymbolIndex),Pe.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Pe.placedIconSymbolIndex),Pe.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Pe.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Be("SymbolBucket",yi,{omit:["layers","collisionBoxArray","features","compareText"]}),yi.MAX_GLYPHS=65535,yi.addDynamicAttributes=lg;function iT(R,D){return D.replace(/{([^{}]+)}/g,function(U,ne){return ne in R?String(R[ne]):""})}var oT=new fi({"symbol-placement":new la(Mr.layout_symbol["symbol-placement"]),"symbol-spacing":new la(Mr.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new la(Mr.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ea(Mr.layout_symbol["symbol-sort-key"]),"symbol-z-order":new la(Mr.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new la(Mr.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new la(Mr.layout_symbol["icon-ignore-placement"]),"icon-optional":new la(Mr.layout_symbol["icon-optional"]),"icon-rotation-alignment":new la(Mr.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ea(Mr.layout_symbol["icon-size"]),"icon-text-fit":new la(Mr.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new la(Mr.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ea(Mr.layout_symbol["icon-image"]),"icon-rotate":new Ea(Mr.layout_symbol["icon-rotate"]),"icon-padding":new la(Mr.layout_symbol["icon-padding"]),"icon-keep-upright":new la(Mr.layout_symbol["icon-keep-upright"]),"icon-offset":new Ea(Mr.layout_symbol["icon-offset"]),"icon-anchor":new Ea(Mr.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new la(Mr.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new la(Mr.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new la(Mr.layout_symbol["text-rotation-alignment"]),"text-field":new Ea(Mr.layout_symbol["text-field"]),"text-font":new Ea(Mr.layout_symbol["text-font"]),"text-size":new Ea(Mr.layout_symbol["text-size"]),"text-max-width":new Ea(Mr.layout_symbol["text-max-width"]),"text-line-height":new la(Mr.layout_symbol["text-line-height"]),"text-letter-spacing":new Ea(Mr.layout_symbol["text-letter-spacing"]),"text-justify":new Ea(Mr.layout_symbol["text-justify"]),"text-radial-offset":new Ea(Mr.layout_symbol["text-radial-offset"]),"text-variable-anchor":new la(Mr.layout_symbol["text-variable-anchor"]),"text-anchor":new Ea(Mr.layout_symbol["text-anchor"]),"text-max-angle":new la(Mr.layout_symbol["text-max-angle"]),"text-writing-mode":new la(Mr.layout_symbol["text-writing-mode"]),"text-rotate":new Ea(Mr.layout_symbol["text-rotate"]),"text-padding":new la(Mr.layout_symbol["text-padding"]),"text-keep-upright":new la(Mr.layout_symbol["text-keep-upright"]),"text-transform":new Ea(Mr.layout_symbol["text-transform"]),"text-offset":new Ea(Mr.layout_symbol["text-offset"]),"text-allow-overlap":new la(Mr.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new la(Mr.layout_symbol["text-ignore-placement"]),"text-optional":new la(Mr.layout_symbol["text-optional"])}),sT=new fi({"icon-opacity":new Ea(Mr.paint_symbol["icon-opacity"]),"icon-color":new Ea(Mr.paint_symbol["icon-color"]),"icon-halo-color":new Ea(Mr.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ea(Mr.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ea(Mr.paint_symbol["icon-halo-blur"]),"icon-translate":new la(Mr.paint_symbol["icon-translate"]),"icon-translate-anchor":new la(Mr.paint_symbol["icon-translate-anchor"]),"text-opacity":new Ea(Mr.paint_symbol["text-opacity"]),"text-color":new Ea(Mr.paint_symbol["text-color"],{runtimeType:Fn,getOverride:function(R){return R.textColor},hasOverride:function(R){return!!R.textColor}}),"text-halo-color":new Ea(Mr.paint_symbol["text-halo-color"]),"text-halo-width":new Ea(Mr.paint_symbol["text-halo-width"]),"text-halo-blur":new Ea(Mr.paint_symbol["text-halo-blur"]),"text-translate":new la(Mr.paint_symbol["text-translate"]),"text-translate-anchor":new la(Mr.paint_symbol["text-translate-anchor"])}),ug={paint:sT,layout:oT},qh=function(D){this.type=D.property.overrides?D.property.overrides.runtimeType:Gr,this.defaultValue=D};qh.prototype.evaluate=function(D){if(D.formattedSection){var U=this.defaultValue.property.overrides;if(U&&U.hasOverride(D.formattedSection))return U.getOverride(D.formattedSection)}return D.feature&&D.featureState?this.defaultValue.evaluate(D.feature,D.featureState):this.defaultValue.property.specification.default},qh.prototype.eachChild=function(D){if(!this.defaultValue.isConstant()){var U=this.defaultValue.value;D(U._styleExpression.expression)}},qh.prototype.outputDefined=function(){return!1},qh.prototype.serialize=function(){return null},Be("FormatSectionOverride",qh,{omit:["defaultValue"]});var lT=function(R){function D(U){R.call(this,U,ug)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(ne,ve){if(R.prototype.recalculate.call(this,ne,ve),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var be=this.layout.get("text-writing-mode");if(be){for(var Pe=[],Qe=0,dt=be;Qe<dt.length;Qe+=1){var Mt=dt[Qe];Pe.indexOf(Mt)<0&&Pe.push(Mt)}this.layout._values["text-writing-mode"]=Pe}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},D.prototype.getValueAndResolveTokens=function(ne,ve,be,Pe){var Qe=this.layout.get(ne).evaluate(ve,{},be,Pe),dt=this._unevaluatedLayout._values[ne];return!dt.isDataDriven()&&!du(dt.value)&&Qe?iT(ve.properties,Qe):Qe},D.prototype.createBucket=function(ne){return new yi(ne)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype._setPaintOverrides=function(){for(var ne=0,ve=ug.paint.overridableProperties;ne<ve.length;ne+=1){var be=ve[ne];if(D.hasPaintOverride(this.layout,be)){var Pe=this.paint.get(be),Qe=new qh(Pe),dt=new Ys(Qe,Pe.property.specification),Mt=null;Pe.value.kind==="constant"||Pe.value.kind==="source"?Mt=new Vi("source",dt):Mt=new hs("composite",dt,Pe.value.zoomStops,Pe.value._interpolationType),this.paint._values[be]=new bi(Pe.property,Mt,Pe.parameters)}}},D.prototype._handleOverridablePaintPropertyUpdate=function(ne,ve,be){return!this.layout||ve.isDataDriven()||be.isDataDriven()?!1:D.hasPaintOverride(this.layout,ne)},D.hasPaintOverride=function(ne,ve){var be=ne.get("text-field"),Pe=ug.paint.properties[ve],Qe=!1,dt=function(Gt){for(var ir=0,rr=Gt;ir<rr.length;ir+=1){var br=rr[ir];if(Pe.overrides&&Pe.overrides.hasOverride(br)){Qe=!0;return}}};if(be.value.kind==="constant"&&be.value.value instanceof ji)dt(be.value.value.sections);else if(be.value.kind==="source"){var Mt=function(Gt){if(!Qe)if(Gt instanceof _i&&Di(Gt.value)===oa){var ir=Gt.value;dt(ir.sections)}else Gt instanceof to?dt(Gt.sections):Gt.eachChild(Mt)},Dt=be.value;Dt._styleExpression&&Mt(Dt._styleExpression.expression)}return Qe},D}(Fi),uT=new fi({"background-color":new la(Mr.paint_background["background-color"]),"background-pattern":new zo(Mr.paint_background["background-pattern"]),"background-opacity":new la(Mr.paint_background["background-opacity"])}),fT={paint:uT},cT=function(R){function D(U){R.call(this,U,fT)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Fi),hT=new fi({"raster-opacity":new la(Mr.paint_raster["raster-opacity"]),"raster-hue-rotate":new la(Mr.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new la(Mr.paint_raster["raster-brightness-min"]),"raster-brightness-max":new la(Mr.paint_raster["raster-brightness-max"]),"raster-saturation":new la(Mr.paint_raster["raster-saturation"]),"raster-contrast":new la(Mr.paint_raster["raster-contrast"]),"raster-resampling":new la(Mr.paint_raster["raster-resampling"]),"raster-fade-duration":new la(Mr.paint_raster["raster-fade-duration"])}),vT={paint:hT},dT=function(R){function D(U){R.call(this,U,vT)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Fi);function pT(R){var D=[],U=R.id;return U===void 0&&D.push({message:"layers."+U+': missing required property "id"'}),R.render===void 0&&D.push({message:"layers."+U+': missing required method "render"'}),R.renderingMode&&R.renderingMode!=="2d"&&R.renderingMode!=="3d"&&D.push({message:"layers."+U+': property "renderingMode" must be either "2d" or "3d"'}),D}var gT=function(R){function D(U){R.call(this,U,{}),this.implementation=U}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},D.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},D.prototype.recalculate=function(){},D.prototype.updateTransitions=function(){},D.prototype.hasTransition=function(){},D.prototype.serialize=function(){},D.prototype.onAdd=function(ne){this.implementation.onAdd&&this.implementation.onAdd(ne,ne.painter.context.gl)},D.prototype.onRemove=function(ne){this.implementation.onRemove&&this.implementation.onRemove(ne,ne.painter.context.gl)},D}(Fi),yT={circle:Uw,heatmap:Ww,hillshade:jw,fill:x2,"fill-extrusion":U2,line:r4,symbol:lT,background:cT,raster:dT};function mT(R){return R.type==="custom"?new gT(R):new yT[R.type](R)}var Em=o.HTMLImageElement,Cm=o.HTMLCanvasElement,Lm=o.HTMLVideoElement,Pm=o.ImageData,vp=o.ImageBitmap,ph=function(D,U,ne,ve){this.context=D,this.format=ne,this.texture=D.gl.createTexture(),this.update(U,ve)};ph.prototype.update=function(D,U,ne){var ve=D.width,be=D.height,Pe=(!this.size||this.size[0]!==ve||this.size[1]!==be)&&!ne,Qe=this,dt=Qe.context,Mt=dt.gl;if(this.useMipmap=!!(U&&U.useMipmap),Mt.bindTexture(Mt.TEXTURE_2D,this.texture),dt.pixelStoreUnpackFlipY.set(!1),dt.pixelStoreUnpack.set(1),dt.pixelStoreUnpackPremultiplyAlpha.set(this.format===Mt.RGBA&&(!U||U.premultiply!==!1)),Pe)this.size=[ve,be],D instanceof Em||D instanceof Cm||D instanceof Lm||D instanceof Pm||vp&&D instanceof vp?Mt.texImage2D(Mt.TEXTURE_2D,0,this.format,this.format,Mt.UNSIGNED_BYTE,D):Mt.texImage2D(Mt.TEXTURE_2D,0,this.format,ve,be,0,this.format,Mt.UNSIGNED_BYTE,D.data);else{var Dt=ne||{x:0,y:0},Gt=Dt.x,ir=Dt.y;D instanceof Em||D instanceof Cm||D instanceof Lm||D instanceof Pm||vp&&D instanceof vp?Mt.texSubImage2D(Mt.TEXTURE_2D,0,Gt,ir,Mt.RGBA,Mt.UNSIGNED_BYTE,D):Mt.texSubImage2D(Mt.TEXTURE_2D,0,Gt,ir,ve,be,Mt.RGBA,Mt.UNSIGNED_BYTE,D.data)}this.useMipmap&&this.isSizePowerOfTwo()&&Mt.generateMipmap(Mt.TEXTURE_2D)},ph.prototype.bind=function(D,U,ne){var ve=this,be=ve.context,Pe=be.gl;Pe.bindTexture(Pe.TEXTURE_2D,this.texture),ne===Pe.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(ne=Pe.LINEAR),D!==this.filter&&(Pe.texParameteri(Pe.TEXTURE_2D,Pe.TEXTURE_MAG_FILTER,D),Pe.texParameteri(Pe.TEXTURE_2D,Pe.TEXTURE_MIN_FILTER,ne||D),this.filter=D),U!==this.wrap&&(Pe.texParameteri(Pe.TEXTURE_2D,Pe.TEXTURE_WRAP_S,U),Pe.texParameteri(Pe.TEXTURE_2D,Pe.TEXTURE_WRAP_T,U),this.wrap=U)},ph.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},ph.prototype.destroy=function(){var D=this.context,U=D.gl;U.deleteTexture(this.texture),this.texture=null};var fg=function(D){var U=this;this._callback=D,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){U._triggered=!1,U._callback()})};fg.prototype.trigger=function(){var D=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){D._triggered=!1,D._callback()},0))},fg.prototype.remove=function(){delete this._channel,this._callback=function(){}};var ev=function(D,U,ne){this.target=D,this.parent=U,this.mapId=ne,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},E(["receive","process"],this),this.invoker=new fg(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Z()?D:o};ev.prototype.send=function(D,U,ne,ve,be){var Pe=this;be===void 0&&(be=!1);var Qe=Math.round(Math.random()*1e18).toString(36).substring(0,10);ne&&(this.callbacks[Qe]=ne);var dt=le(this.globalScope)?void 0:[];return this.target.postMessage({id:Qe,type:D,hasCallback:!!ne,targetMapId:ve,mustQueue:be,sourceMapId:this.mapId,data:Rt(U,dt)},dt),{cancel:function(){ne&&delete Pe.callbacks[Qe],Pe.target.postMessage({id:Qe,type:"<cancel>",targetMapId:ve,sourceMapId:Pe.mapId})}}},ev.prototype.receive=function(D){var U=D.data,ne=U.id;if(ne&&!(U.targetMapId&&this.mapId!==U.targetMapId))if(U.type==="<cancel>"){delete this.tasks[ne];var ve=this.cancelCallbacks[ne];delete this.cancelCallbacks[ne],ve&&ve()}else Z()||U.mustQueue?(this.tasks[ne]=U,this.taskQueue.push(ne),this.invoker.trigger()):this.processTask(ne,U)},ev.prototype.process=function(){if(this.taskQueue.length){var D=this.taskQueue.shift(),U=this.tasks[D];delete this.tasks[D],this.taskQueue.length&&this.invoker.trigger(),U&&this.processTask(D,U)}},ev.prototype.processTask=function(D,U){var ne=this;if(U.type==="<response>"){var ve=this.callbacks[D];delete this.callbacks[D],ve&&(U.error?ve(At(U.error)):ve(null,At(U.data)))}else{var be=!1,Pe=le(this.globalScope)?void 0:[],Qe=U.hasCallback?function(ir,rr){be=!0,delete ne.cancelCallbacks[D],ne.target.postMessage({id:D,type:"<response>",sourceMapId:ne.mapId,error:ir?Rt(ir):null,data:Rt(rr,Pe)},Pe)}:function(ir){be=!0},dt=null,Mt=At(U.data);if(this.parent[U.type])dt=this.parent[U.type](U.sourceMapId,Mt,Qe);else if(this.parent.getWorkerSource){var Dt=U.type.split("."),Gt=this.parent.getWorkerSource(U.sourceMapId,Dt[0],Mt.source);dt=Gt[Dt[1]](Mt,Qe)}else Qe(new Error("Could not find function "+U.type));!be&&dt&&dt.cancel&&(this.cancelCallbacks[D]=dt.cancel)}},ev.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function xT(R,D,U){D=Math.pow(2,U)-D-1;var ne=Rm(R*256,D*256,U),ve=Rm((R+1)*256,(D+1)*256,U);return ne[0]+","+ne[1]+","+ve[0]+","+ve[1]}function Rm(R,D,U){var ne=2*Math.PI*6378137/256/Math.pow(2,U),ve=R*ne-2*Math.PI*6378137/2,be=D*ne-2*Math.PI*6378137/2;return[ve,be]}var oo=function(D,U){D&&(U?this.setSouthWest(D).setNorthEast(U):D.length===4?this.setSouthWest([D[0],D[1]]).setNorthEast([D[2],D[3]]):this.setSouthWest(D[0]).setNorthEast(D[1]))};oo.prototype.setNorthEast=function(D){return this._ne=D instanceof Pi?new Pi(D.lng,D.lat):Pi.convert(D),this},oo.prototype.setSouthWest=function(D){return this._sw=D instanceof Pi?new Pi(D.lng,D.lat):Pi.convert(D),this},oo.prototype.extend=function(D){var U=this._sw,ne=this._ne,ve,be;if(D instanceof Pi)ve=D,be=D;else if(D instanceof oo){if(ve=D._sw,be=D._ne,!ve||!be)return this}else{if(Array.isArray(D))if(D.length===4||D.every(Array.isArray)){var Pe=D;return this.extend(oo.convert(Pe))}else{var Qe=D;return this.extend(Pi.convert(Qe))}return this}return!U&&!ne?(this._sw=new Pi(ve.lng,ve.lat),this._ne=new Pi(be.lng,be.lat)):(U.lng=Math.min(ve.lng,U.lng),U.lat=Math.min(ve.lat,U.lat),ne.lng=Math.max(be.lng,ne.lng),ne.lat=Math.max(be.lat,ne.lat)),this},oo.prototype.getCenter=function(){return new Pi((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},oo.prototype.getSouthWest=function(){return this._sw},oo.prototype.getNorthEast=function(){return this._ne},oo.prototype.getNorthWest=function(){return new Pi(this.getWest(),this.getNorth())},oo.prototype.getSouthEast=function(){return new Pi(this.getEast(),this.getSouth())},oo.prototype.getWest=function(){return this._sw.lng},oo.prototype.getSouth=function(){return this._sw.lat},oo.prototype.getEast=function(){return this._ne.lng},oo.prototype.getNorth=function(){return this._ne.lat},oo.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},oo.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},oo.prototype.isEmpty=function(){return!(this._sw&&this._ne)},oo.prototype.contains=function(D){var U=Pi.convert(D),ne=U.lng,ve=U.lat,be=this._sw.lat<=ve&&ve<=this._ne.lat,Pe=this._sw.lng<=ne&&ne<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Pe=this._sw.lng>=ne&&ne>=this._ne.lng),be&&Pe},oo.convert=function(D){return!D||D instanceof oo?D:new oo(D)};var Dm=63710088e-1,Pi=function(D,U){if(isNaN(D)||isNaN(U))throw new Error("Invalid LngLat object: ("+D+", "+U+")");if(this.lng=+D,this.lat=+U,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Pi.prototype.wrap=function(){return new Pi(w(this.lng,-180,180),this.lat)},Pi.prototype.toArray=function(){return[this.lng,this.lat]},Pi.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Pi.prototype.distanceTo=function(D){var U=Math.PI/180,ne=this.lat*U,ve=D.lat*U,be=Math.sin(ne)*Math.sin(ve)+Math.cos(ne)*Math.cos(ve)*Math.cos((D.lng-this.lng)*U),Pe=Dm*Math.acos(Math.min(be,1));return Pe},Pi.prototype.toBounds=function(D){D===void 0&&(D=0);var U=40075017,ne=360*D/U,ve=ne/Math.cos(Math.PI/180*this.lat);return new oo(new Pi(this.lng-ve,this.lat-ne),new Pi(this.lng+ve,this.lat+ne))},Pi.convert=function(D){if(D instanceof Pi)return D;if(Array.isArray(D)&&(D.length===2||D.length===3))return new Pi(Number(D[0]),Number(D[1]));if(!Array.isArray(D)&&typeof D=="object"&&D!==null)return new Pi(Number("lng"in D?D.lng:D.lon),Number(D.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Im=2*Math.PI*Dm;function km(R){return Im*Math.cos(R*Math.PI/180)}function _m(R){return(180+R)/360}function zm(R){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+R*Math.PI/360)))/360}function Fm(R,D){return R/km(D)}function bT(R){return R*360-180}function cg(R){var D=180-R*360;return 360/Math.PI*Math.atan(Math.exp(D*Math.PI/180))-90}function wT(R,D){return R*km(cg(D))}function TT(R){return 1/Math.cos(R*Math.PI/180)}var gh=function(D,U,ne){ne===void 0&&(ne=0),this.x=+D,this.y=+U,this.z=+ne};gh.fromLngLat=function(D,U){U===void 0&&(U=0);var ne=Pi.convert(D);return new gh(_m(ne.lng),zm(ne.lat),Fm(U,ne.lat))},gh.prototype.toLngLat=function(){return new Pi(bT(this.x),cg(this.y))},gh.prototype.toAltitude=function(){return wT(this.z,this.y)},gh.prototype.meterInMercatorCoordinateUnits=function(){return 1/Im*TT(cg(this.y))};var yh=function(D,U,ne){this.z=D,this.x=U,this.y=ne,this.key=ed(0,D,D,U,ne)};yh.prototype.equals=function(D){return this.z===D.z&&this.x===D.x&&this.y===D.y},yh.prototype.url=function(D,U){var ne=xT(this.x,this.y,this.z),ve=AT(this.z,this.x,this.y);return D[(this.x+this.y)%D.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(U==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ve).replace("{bbox-epsg-3857}",ne)},yh.prototype.getTilePoint=function(D){var U=Math.pow(2,this.z);return new r((D.x*U-this.x)*Aa,(D.y*U-this.y)*Aa)},yh.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Om=function(D,U){this.wrap=D,this.canonical=U,this.key=ed(D,U.z,U.z,U.x,U.y)},so=function(D,U,ne,ve,be){this.overscaledZ=D,this.wrap=U,this.canonical=new yh(ne,+ve,+be),this.key=ed(U,D,ne,ve,be)};so.prototype.equals=function(D){return this.overscaledZ===D.overscaledZ&&this.wrap===D.wrap&&this.canonical.equals(D.canonical)},so.prototype.scaledTo=function(D){var U=this.canonical.z-D;return D>this.canonical.z?new so(D,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new so(D,this.wrap,D,this.canonical.x>>U,this.canonical.y>>U)},so.prototype.calculateScaledKey=function(D,U){var ne=this.canonical.z-D;return D>this.canonical.z?ed(this.wrap*+U,D,this.canonical.z,this.canonical.x,this.canonical.y):ed(this.wrap*+U,D,D,this.canonical.x>>ne,this.canonical.y>>ne)},so.prototype.isChildOf=function(D){if(D.wrap!==this.wrap)return!1;var U=this.canonical.z-D.canonical.z;return D.overscaledZ===0||D.overscaledZ<this.overscaledZ&&D.canonical.x===this.canonical.x>>U&&D.canonical.y===this.canonical.y>>U},so.prototype.children=function(D){if(this.overscaledZ>=D)return[new so(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var U=this.canonical.z+1,ne=this.canonical.x*2,ve=this.canonical.y*2;return[new so(U,this.wrap,U,ne,ve),new so(U,this.wrap,U,ne+1,ve),new so(U,this.wrap,U,ne,ve+1),new so(U,this.wrap,U,ne+1,ve+1)]},so.prototype.isLessThan=function(D){return this.wrap<D.wrap?!0:this.wrap>D.wrap?!1:this.overscaledZ<D.overscaledZ?!0:this.overscaledZ>D.overscaledZ?!1:this.canonical.x<D.canonical.x?!0:this.canonical.x>D.canonical.x?!1:this.canonical.y<D.canonical.y},so.prototype.wrapped=function(){return new so(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},so.prototype.unwrapTo=function(D){return new so(this.overscaledZ,D,this.canonical.z,this.canonical.x,this.canonical.y)},so.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},so.prototype.toUnwrapped=function(){return new Om(this.wrap,this.canonical)},so.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},so.prototype.getTilePoint=function(D){return this.canonical.getTilePoint(new gh(D.x-this.wrap,D.y))};function ed(R,D,U,ne,ve){R*=2,R<0&&(R=R*-1-1);var be=1<<U;return(be*be*R+be*ve+ne).toString(36)+U.toString(36)+D.toString(36)}function AT(R,D,U){for(var ne="",ve,be=R;be>0;be--)ve=1<<be-1,ne+=(D&ve?1:0)+(U&ve?2:0);return ne}Be("CanonicalTileID",yh),Be("OverscaledTileID",so,{omit:["posMatrix"]});var Pf=function(D,U,ne){if(this.uid=D,U.height!==U.width)throw new RangeError("DEM tiles must be square");if(ne&&ne!=="mapbox"&&ne!=="terrarium")return F('"'+ne+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=U.height;var ve=this.dim=U.height-2;this.data=new Uint32Array(U.data.buffer),this.encoding=ne||"mapbox";for(var be=0;be<ve;be++)this.data[this._idx(-1,be)]=this.data[this._idx(0,be)],this.data[this._idx(ve,be)]=this.data[this._idx(ve-1,be)],this.data[this._idx(be,-1)]=this.data[this._idx(be,0)],this.data[this._idx(be,ve)]=this.data[this._idx(be,ve-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ve,-1)]=this.data[this._idx(ve-1,0)],this.data[this._idx(-1,ve)]=this.data[this._idx(0,ve-1)],this.data[this._idx(ve,ve)]=this.data[this._idx(ve-1,ve-1)]};Pf.prototype.get=function(D,U){var ne=new Uint8Array(this.data.buffer),ve=this._idx(D,U)*4,be=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return be(ne[ve],ne[ve+1],ne[ve+2])},Pf.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Pf.prototype._idx=function(D,U){if(D<-1||D>=this.dim+1||U<-1||U>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(U+1)*this.stride+(D+1)},Pf.prototype._unpackMapbox=function(D,U,ne){return(D*256*256+U*256+ne)/10-1e4},Pf.prototype._unpackTerrarium=function(D,U,ne){return D*256+U+ne/256-32768},Pf.prototype.getPixels=function(){return new ms({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Pf.prototype.backfillBorder=function(D,U,ne){if(this.dim!==D.dim)throw new Error("dem dimension mismatch");var ve=U*this.dim,be=U*this.dim+this.dim,Pe=ne*this.dim,Qe=ne*this.dim+this.dim;switch(U){case-1:ve=be-1;break;case 1:be=ve+1;break}switch(ne){case-1:Pe=Qe-1;break;case 1:Qe=Pe+1;break}for(var dt=-U*this.dim,Mt=-ne*this.dim,Dt=Pe;Dt<Qe;Dt++)for(var Gt=ve;Gt<be;Gt++)this.data[this._idx(Gt,Dt)]=D.data[this._idx(Gt+dt,Dt+Mt)]},Be("DEMData",Pf);function MT(R,D){var U={};if(!D)return U;for(var ne=function(){var Pe=be[ve],Qe=Pe.layerIds.map(function(Gt){return D.getLayer(Gt)}).filter(Boolean);if(Qe.length!==0){Pe.layers=Qe,Pe.stateDependentLayerIds&&(Pe.stateDependentLayers=Pe.stateDependentLayerIds.map(function(Gt){return Qe.filter(function(ir){return ir.id===Gt})[0]}));for(var dt=0,Mt=Qe;dt<Mt.length;dt+=1){var Dt=Mt[dt];U[Dt.id]=Pe}}},ve=0,be=R;ve<be.length;ve+=1)ne();return U}var dp=function(D){this._stringToNumber={},this._numberToString=[];for(var U=0;U<D.length;U++){var ne=D[U];this._stringToNumber[ne]=U,this._numberToString[U]=ne}};dp.prototype.encode=function(D){return this._stringToNumber[D]},dp.prototype.decode=function(D){return this._numberToString[D]};var pp=function(D,U,ne,ve,be){this.type="Feature",this._vectorTileFeature=D,D._z=U,D._x=ne,D._y=ve,this.properties=D.properties,this.id=be},hg={geometry:{configurable:!0}};hg.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},hg.geometry.set=function(R){this._geometry=R},pp.prototype.toJSON=function(){var D={geometry:this.geometry};for(var U in this)U==="_geometry"||U==="_vectorTileFeature"||(D[U]=this[U]);return D},Object.defineProperties(pp.prototype,hg);var tv=function(){this.state={},this.stateChanges={},this.deletedStates={}};tv.prototype.updateState=function(D,U,ne){var ve=String(U);if(this.stateChanges[D]=this.stateChanges[D]||{},this.stateChanges[D][ve]=this.stateChanges[D][ve]||{},x(this.stateChanges[D][ve],ne),this.deletedStates[D]===null){this.deletedStates[D]={};for(var be in this.state[D])be!==ve&&(this.deletedStates[D][be]=null)}else{var Pe=this.deletedStates[D]&&this.deletedStates[D][ve]===null;if(Pe){this.deletedStates[D][ve]={};for(var Qe in this.state[D][ve])ne[Qe]||(this.deletedStates[D][ve][Qe]=null)}else for(var dt in ne){var Mt=this.deletedStates[D]&&this.deletedStates[D][ve]&&this.deletedStates[D][ve][dt]===null;Mt&&delete this.deletedStates[D][ve][dt]}}},tv.prototype.removeFeatureState=function(D,U,ne){var ve=this.deletedStates[D]===null;if(!ve){var be=String(U);if(this.deletedStates[D]=this.deletedStates[D]||{},ne&&U!==void 0)this.deletedStates[D][be]!==null&&(this.deletedStates[D][be]=this.deletedStates[D][be]||{},this.deletedStates[D][be][ne]=null);else if(U!==void 0){var Pe=this.stateChanges[D]&&this.stateChanges[D][be];if(Pe){this.deletedStates[D][be]={};for(ne in this.stateChanges[D][be])this.deletedStates[D][be][ne]=null}else this.deletedStates[D][be]=null}else this.deletedStates[D]=null}},tv.prototype.getState=function(D,U){var ne=String(U),ve=this.state[D]||{},be=this.stateChanges[D]||{},Pe=x({},ve[ne],be[ne]);if(this.deletedStates[D]===null)return{};if(this.deletedStates[D]){var Qe=this.deletedStates[D][U];if(Qe===null)return{};for(var dt in Qe)delete Pe[dt]}return Pe},tv.prototype.initializeTileState=function(D,U){D.setFeatureState(this.state,U)},tv.prototype.coalesceChanges=function(D,U){var ne={};for(var ve in this.stateChanges){this.state[ve]=this.state[ve]||{};var be={};for(var Pe in this.stateChanges[ve])this.state[ve][Pe]||(this.state[ve][Pe]={}),x(this.state[ve][Pe],this.stateChanges[ve][Pe]),be[Pe]=this.state[ve][Pe];ne[ve]=be}for(var Qe in this.deletedStates){this.state[Qe]=this.state[Qe]||{};var dt={};if(this.deletedStates[Qe]===null)for(var Mt in this.state[Qe])dt[Mt]={},this.state[Qe][Mt]={};else for(var Dt in this.deletedStates[Qe]){var Gt=this.deletedStates[Qe][Dt]===null;if(Gt)this.state[Qe][Dt]={};else for(var ir=0,rr=Object.keys(this.deletedStates[Qe][Dt]);ir<rr.length;ir+=1){var br=rr[ir];delete this.state[Qe][Dt][br]}dt[Dt]=this.state[Qe][Dt]}ne[Qe]=ne[Qe]||{},x(ne[Qe],dt)}if(this.stateChanges={},this.deletedStates={},Object.keys(ne).length!==0)for(var Ur in D){var fn=D[Ur];fn.setFeatureState(ne,U)}};var Rf=function(D,U){this.tileID=D,this.x=D.canonical.x,this.y=D.canonical.y,this.z=D.canonical.z,this.grid=new za(Aa,16,0),this.grid3D=new za(Aa,16,0),this.featureIndexArray=new Jd,this.promoteId=U};Rf.prototype.insert=function(D,U,ne,ve,be,Pe){var Qe=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(ne,ve,be);for(var dt=Pe?this.grid3D:this.grid,Mt=0;Mt<U.length;Mt++){for(var Dt=U[Mt],Gt=[1/0,1/0,-1/0,-1/0],ir=0;ir<Dt.length;ir++){var rr=Dt[ir];Gt[0]=Math.min(Gt[0],rr.x),Gt[1]=Math.min(Gt[1],rr.y),Gt[2]=Math.max(Gt[2],rr.x),Gt[3]=Math.max(Gt[3],rr.y)}Gt[0]<Aa&&Gt[1]<Aa&&Gt[2]>=0&&Gt[3]>=0&&dt.insert(Qe,Gt[0],Gt[1],Gt[2],Gt[3])}},Rf.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Gh.VectorTile(new ap(this.rawTileData)).layers,this.sourceLayerCoder=new dp(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Rf.prototype.query=function(D,U,ne,ve){var be=this;this.loadVTLayers();for(var Pe=D.params||{},Qe=Aa/D.tileSize/D.scale,dt=Zs(Pe.filter),Mt=D.queryGeometry,Dt=D.queryPadding*Qe,Gt=Nm(Mt),ir=this.grid.query(Gt.minX-Dt,Gt.minY-Dt,Gt.maxX+Dt,Gt.maxY+Dt),rr=Nm(D.cameraQueryGeometry),br=this.grid3D.query(rr.minX-Dt,rr.minY-Dt,rr.maxX+Dt,rr.maxY+Dt,function(Yn,aa,ea,ba){return jl(D.cameraQueryGeometry,Yn-Dt,aa-Dt,ea+Dt,ba+Dt)}),Ur=0,fn=br;Ur<fn.length;Ur+=1){var en=fn[Ur];ir.push(en)}ir.sort(ST);for(var Sn={},xn,Mn=function(Yn){var aa=ir[Yn];if(aa!==xn){xn=aa;var ea=be.featureIndexArray.get(aa),ba=null;be.loadMatchingFeature(Sn,ea.bucketIndex,ea.sourceLayerIndex,ea.featureIndex,dt,Pe.layers,Pe.availableImages,U,ne,ve,function(da,ma,Ba){return ba||(ba=ti(da)),ma.queryIntersectsFeature(Mt,da,Ba,ba,be.z,D.transform,Qe,D.pixelPosMatrix)})}},zn=0;zn<ir.length;zn++)Mn(zn);return Sn},Rf.prototype.loadMatchingFeature=function(D,U,ne,ve,be,Pe,Qe,dt,Mt,Dt,Gt){var ir=this.bucketLayerIDs[U];if(!(Pe&&!_(Pe,ir))){var rr=this.sourceLayerCoder.decode(ne),br=this.vtLayers[rr],Ur=br.feature(ve);if(be.needGeometry){var fn=Ti(Ur,!0);if(!be.filter(new Ta(this.tileID.overscaledZ),fn,this.tileID.canonical))return}else if(!be.filter(new Ta(this.tileID.overscaledZ),Ur))return;for(var en=this.getId(Ur,rr),Sn=0;Sn<ir.length;Sn++){var xn=ir[Sn];if(!(Pe&&Pe.indexOf(xn)<0)){var Mn=dt[xn];if(Mn){var zn={};en!==void 0&&Dt&&(zn=Dt.getState(Mn.sourceLayer||"_geojsonTileLayer",en));var Yn=x({},Mt[xn]);Yn.paint=Bm(Yn.paint,Mn.paint,Ur,zn,Qe),Yn.layout=Bm(Yn.layout,Mn.layout,Ur,zn,Qe);var aa=!Gt||Gt(Ur,Mn,zn);if(aa){var ea=new pp(Ur,this.z,this.x,this.y,en);ea.layer=Yn;var ba=D[xn];ba===void 0&&(ba=D[xn]=[]),ba.push({featureIndex:ve,feature:ea,intersectionZ:aa})}}}}}},Rf.prototype.lookupSymbolFeatures=function(D,U,ne,ve,be,Pe,Qe,dt){var Mt={};this.loadVTLayers();for(var Dt=Zs(be),Gt=0,ir=D;Gt<ir.length;Gt+=1){var rr=ir[Gt];this.loadMatchingFeature(Mt,ne,ve,rr,Dt,Pe,Qe,dt,U)}return Mt},Rf.prototype.hasLayer=function(D){for(var U=0,ne=this.bucketLayerIDs;U<ne.length;U+=1)for(var ve=ne[U],be=0,Pe=ve;be<Pe.length;be+=1){var Qe=Pe[be];if(D===Qe)return!0}return!1},Rf.prototype.getId=function(D,U){var ne=D.id;if(this.promoteId){var ve=typeof this.promoteId=="string"?this.promoteId:this.promoteId[U];ne=D.properties[ve],typeof ne=="boolean"&&(ne=Number(ne))}return ne},Be("FeatureIndex",Rf,{omit:["rawTileData","sourceLayerCoder"]});function Bm(R,D,U,ne,ve){return k(R,function(be,Pe){var Qe=D instanceof po?D.get(Pe):null;return Qe&&Qe.evaluate?Qe.evaluate(U,ne,ve):Qe})}function Nm(R){for(var D=1/0,U=1/0,ne=-1/0,ve=-1/0,be=0,Pe=R;be<Pe.length;be+=1){var Qe=Pe[be];D=Math.min(D,Qe.x),U=Math.min(U,Qe.y),ne=Math.max(ne,Qe.x),ve=Math.max(ve,Qe.y)}return{minX:D,minY:U,maxX:ne,maxY:ve}}function ST(R,D){return D-R}var ET=3e4,To=function(D,U){this.tileID=D,this.uid=y(),this.uses=0,this.tileSize=U,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};To.prototype.registerFadeDuration=function(D){var U=D+this.timeAdded;U<oe.now()||this.fadeEndTime&&U<this.fadeEndTime||(this.fadeEndTime=U)},To.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},To.prototype.loadVectorData=function(D,U,ne){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!D){this.collisionBoxArray=new Bv;return}D.featureIndex&&(this.latestFeatureIndex=D.featureIndex,D.rawTileData?(this.latestRawTileData=D.rawTileData,this.latestFeatureIndex.rawTileData=D.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=D.collisionBoxArray,this.buckets=MT(D.buckets,U.style),this.hasSymbolBuckets=!1;for(var ve in this.buckets){var be=this.buckets[ve];if(be instanceof yi)if(this.hasSymbolBuckets=!0,ne)be.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Pe in this.buckets){var Qe=this.buckets[Pe];if(Qe instanceof yi&&Qe.hasRTLText){this.hasRTLText=!0,Na();break}}this.queryPadding=0;for(var dt in this.buckets){var Mt=this.buckets[dt];this.queryPadding=Math.max(this.queryPadding,U.style.getLayer(dt).queryRadius(Mt))}D.imageAtlas&&(this.imageAtlas=D.imageAtlas),D.glyphAtlasImage&&(this.glyphAtlasImage=D.glyphAtlasImage)},To.prototype.unloadVectorData=function(){for(var D in this.buckets)this.buckets[D].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},To.prototype.getBucket=function(D){return this.buckets[D.id]},To.prototype.upload=function(D){for(var U in this.buckets){var ne=this.buckets[U];ne.uploadPending()&&ne.upload(D)}var ve=D.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ph(D,this.imageAtlas.image,ve.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ph(D,this.glyphAtlasImage,ve.ALPHA),this.glyphAtlasImage=null)},To.prototype.prepare=function(D){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(D,this.imageAtlasTexture)},To.prototype.queryRenderedFeatures=function(D,U,ne,ve,be,Pe,Qe,dt,Mt,Dt){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:ve,cameraQueryGeometry:be,scale:Pe,tileSize:this.tileSize,pixelPosMatrix:Dt,transform:dt,params:Qe,queryPadding:this.queryPadding*Mt},D,U,ne)},To.prototype.querySourceFeatures=function(D,U){var ne=this.latestFeatureIndex;if(!(!ne||!ne.rawTileData)){var ve=ne.loadVTLayers(),be=U?U.sourceLayer:"",Pe=ve._geojsonTileLayer||ve[be];if(Pe)for(var Qe=Zs(U&&U.filter),dt=this.tileID.canonical,Mt=dt.z,Dt=dt.x,Gt=dt.y,ir={z:Mt,x:Dt,y:Gt},rr=0;rr<Pe.length;rr++){var br=Pe.feature(rr);if(Qe.needGeometry){var Ur=Ti(br,!0);if(!Qe.filter(new Ta(this.tileID.overscaledZ),Ur,this.tileID.canonical))continue}else if(!Qe.filter(new Ta(this.tileID.overscaledZ),br))continue;var fn=ne.getId(br,be),en=new pp(br,Mt,Dt,Gt,fn);en.tile=ir,D.push(en)}}},To.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},To.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},To.prototype.setExpiryData=function(D){var U=this.expirationTime;if(D.cacheControl){var ne=q(D.cacheControl);ne["max-age"]&&(this.expirationTime=Date.now()+ne["max-age"]*1e3)}else D.expires&&(this.expirationTime=new Date(D.expires).getTime());if(this.expirationTime){var ve=Date.now(),be=!1;if(this.expirationTime>ve)be=!1;else if(!U)be=!0;else if(this.expirationTime<U)be=!0;else{var Pe=this.expirationTime-U;Pe?this.expirationTime=ve+Math.max(Pe,ET):be=!0}be?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},To.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},To.prototype.setFeatureState=function(D,U){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(D).length===0)){var ne=this.latestFeatureIndex.loadVTLayers();for(var ve in this.buckets)if(U.style.hasLayer(ve)){var be=this.buckets[ve],Pe=be.layers[0].sourceLayer||"_geojsonTileLayer",Qe=ne[Pe],dt=D[Pe];if(!(!Qe||!dt||Object.keys(dt).length===0)){be.update(dt,Qe,this.imageAtlas&&this.imageAtlas.patternPositions||{});var Mt=U&&U.style&&U.style.getLayer(ve);Mt&&(this.queryPadding=Math.max(this.queryPadding,Mt.queryRadius(be)))}}}},To.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},To.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<oe.now()},To.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},To.prototype.setHoldDuration=function(D){this.symbolFadeHoldUntil=oe.now()+D},To.prototype.setDependencies=function(D,U){for(var ne={},ve=0,be=U;ve<be.length;ve+=1){var Pe=be[ve];ne[Pe]=!0}this.dependencies[D]=ne},To.prototype.hasDependency=function(D,U){for(var ne=0,ve=D;ne<ve.length;ne+=1){var be=ve[ne],Pe=this.dependencies[be];if(Pe)for(var Qe=0,dt=U;Qe<dt.length;Qe+=1){var Mt=dt[Qe];if(Pe[Mt])return!0}}return!1};var CT=["type","source","source-layer","minzoom","maxzoom","filter","layout"],wc=o.performance,Um=function(D){this._marks={start:[D.url,"start"].join("#"),end:[D.url,"end"].join("#"),measure:D.url.toString()},wc.mark(this._marks.start)};Um.prototype.finish=function(){wc.mark(this._marks.end);var D=wc.getEntriesByName(this._marks.measure);return D.length===0&&(wc.measure(this._marks.measure,this._marks.start,this._marks.end),D=wc.getEntriesByName(this._marks.measure),wc.clearMarks(this._marks.start),wc.clearMarks(this._marks.end),wc.clearMeasures(this._marks.measure)),D},s.Actor=ev,s.AlphaImage=dh,s.CanonicalTileID=yh,s.CollisionBoxArray=Bv,s.Color=ei,s.DEMData=Pf,s.DataConstantProperty=la,s.DictionaryCoder=dp,s.EXTENT=Aa,s.ErrorEvent=Pt,s.EvaluationParameters=Ta,s.Event=Yt,s.Evented=Zt,s.FeatureIndex=Rf,s.FillBucket=Su,s.FillExtrusionBucket=Eu,s.ImageAtlas=Jv,s.ImagePosition=op,s.LineBucket=ts,s.LngLat=Pi,s.LngLatBounds=oo,s.MercatorCoordinate=gh,s.ONE_EM=Do,s.OverscaledTileID=so,s.Point=r,s.Point$1=r,s.Properties=fi,s.Protobuf=ap,s.RGBAImage=ms,s.RequestManager=Me,s.RequestPerformance=Um,s.ResourceType=mr,s.SegmentVector=ao,s.SourceFeatureState=tv,s.StructArrayLayout1ui2=vc,s.StructArrayLayout2f1f2i16=Tu,s.StructArrayLayout2i4=Mf,s.StructArrayLayout3ui6=Au,s.StructArrayLayout4i8=_v,s.SymbolBucket=yi,s.Texture=ph,s.Tile=To,s.Transitionable=ai,s.Uniform1f=Zr,s.Uniform1i=Fr,s.Uniform2f=jr,s.Uniform3f=Wr,s.Uniform4f=Jr,s.UniformColor=dn,s.UniformMatrix4f=Un,s.UnwrappedTileID=Om,s.ValidationError=Nr,s.WritingMode=Qs,s.ZoomHistory=Ut,s.add=Uh,s.addDynamicAttributes=lg,s.asyncAll=c,s.bezier=f,s.bindAll=E,s.browser=oe,s.cacheEntryPossiblyAdded=Lt,s.clamp=h,s.clearTileCache=vr,s.clipLine=bm,s.clone=Oh,s.clone$1=O,s.clone$2=H0,s.collisionCircleLayout=s4,s.config=te,s.create=Fh,s.create$1=No,s.create$2=zh,s.createCommonjsModule=L,s.createExpression=Xs,s.createLayout=Ci,s.createStyleLayer=mT,s.cross=Dw,s.deepEqual=n,s.dot=Rw,s.dot$1=Fw,s.ease=g,s.emitValidationErrors=Da,s.endsWith=m,s.enforceCacheSizeLimit=Kt,s.evaluateSizeForFeature=vm,s.evaluateSizeForZoom=dm,s.evaluateVariableOffset=Am,s.evented=Ma,s.extend=x,s.featureFilter=Zs,s.filterObject=I,s.fromRotation=gc,s.getAnchorAlignment=ag,s.getAnchorJustification=sg,s.getArrayBuffer=Ft,s.getImage=Ke,s.getJSON=Ot,s.getRTLTextPluginStatus=ka,s.getReferrer=gt,s.getVideo=et,s.identity=Bh,s.invert=yc,s.isChar=Ht,s.isMapboxURL=ke,s.keysDifference=d,s.makeRequest=kt,s.mapObject=k,s.mercatorXfromLng=_m,s.mercatorYfromLat=zm,s.mercatorZfromAltitude=Fm,s.mul=V0,s.multiply=mc,s.mvt=Gh,s.nextPowerOfTwo=A,s.normalize=Vv,s.number=Li,s.offscreenCanvasSupported=$t,s.ortho=U0,s.parseGlyphPBF=_4,s.pbf=ap,s.performSymbolLayout=$4,s.perspective=Uv,s.pick=T,s.plugin=$n,s.polygonIntersectsPolygon=Va,s.postMapLoadEvent=Xe,s.postTurnstileEvent=Ve,s.potpack=im,s.refProperties=CT,s.register=Be,s.registerForPluginStateChange=ni,s.renderColorRamp=O1,s.rotate=hh,s.rotateX=ys,s.rotateZ=Nh,s.scale=gs,s.scale$1=zw,s.scale$2=W0,s.setCacheLimits=pt,s.setRTLTextPlugin=zi,s.sphericalToCartesian=W,s.sqrLen=Nw,s.styleSpec=Mr,s.sub=kw,s.symbolSize=G4,s.transformMat3=Iw,s.transformMat4=$d,s.translate=Gi,s.triggerPluginCompletionEvent=ca,s.uniqueId=y,s.validateCustomStyleLayer=pT,s.validateLight=Kn,s.validateStyle=In,s.values=a,s.vectorTile=Gh,s.version=M,s.warnOnce=F,s.webpSupported=fe,s.window=o,s.wrap=w}),P(["./shared"],function(s){function L(gt){var lt=typeof gt;if(lt==="number"||lt==="boolean"||lt==="string"||gt===void 0||gt===null)return JSON.stringify(gt);if(Array.isArray(gt)){for(var bt="[",Et=0,kt=gt;Et<kt.length;Et+=1){var Ot=kt[Et];bt+=L(Ot)+","}return bt+"]"}for(var Ft=Object.keys(gt).sort(),Bt="{",Jt=0;Jt<Ft.length;Jt++)Bt+=JSON.stringify(Ft[Jt])+":"+L(gt[Ft[Jt]])+",";return Bt+"}"}function M(gt){for(var lt="",bt=0,Et=s.refProperties;bt<Et.length;bt+=1){var kt=Et[bt];lt+="/"+L(gt[kt])}return lt}function v(gt,lt){for(var bt={},Et=0;Et<gt.length;Et++){var kt=lt&&lt[gt[Et].id]||M(gt[Et]);lt&&(lt[gt[Et].id]=kt);var Ot=bt[kt];Ot||(Ot=bt[kt]=[]),Ot.push(gt[Et])}var Ft=[];for(var Bt in bt)Ft.push(bt[Bt]);return Ft}var p=function(lt){this.keyCache={},lt&&this.replace(lt)};p.prototype.replace=function(lt){this._layerConfigs={},this._layers={},this.update(lt,[])},p.prototype.update=function(lt,bt){for(var Et=this,kt=0,Ot=lt;kt<Ot.length;kt+=1){var Ft=Ot[kt];this._layerConfigs[Ft.id]=Ft;var Bt=this._layers[Ft.id]=s.createStyleLayer(Ft);Bt._featureFilter=s.featureFilter(Bt.filter),this.keyCache[Ft.id]&&delete this.keyCache[Ft.id]}for(var Jt=0,hr=bt;Jt<hr.length;Jt+=1){var cr=hr[Jt];delete this.keyCache[cr],delete this._layerConfigs[cr],delete this._layers[cr]}this.familiesBySource={};for(var dr=v(s.values(this._layerConfigs),this.keyCache),fr=0,Lr=dr;fr<Lr.length;fr+=1){var xr=Lr[fr],Ke=xr.map(function(Zt){return Et._layers[Zt.id]}),et=Ke[0];if(et.visibility!=="none"){var er=et.source||"",tr=this.familiesBySource[er];tr||(tr=this.familiesBySource[er]={});var Yt=et.sourceLayer||"_geojsonTileLayer",Pt=tr[Yt];Pt||(Pt=tr[Yt]=[]),Pt.push(Ke)}}};var r=1,t=function(lt){var bt={},Et=[];for(var kt in lt){var Ot=lt[kt],Ft=bt[kt]={};for(var Bt in Ot){var Jt=Ot[+Bt];if(!(!Jt||Jt.bitmap.width===0||Jt.bitmap.height===0)){var hr={x:0,y:0,w:Jt.bitmap.width+2*r,h:Jt.bitmap.height+2*r};Et.push(hr),Ft[Bt]={rect:hr,metrics:Jt.metrics}}}}var cr=s.potpack(Et),dr=cr.w,fr=cr.h,Lr=new s.AlphaImage({width:dr||1,height:fr||1});for(var xr in lt){var Ke=lt[xr];for(var et in Ke){var er=Ke[+et];if(!(!er||er.bitmap.width===0||er.bitmap.height===0)){var tr=bt[xr][et].rect;s.AlphaImage.copy(er.bitmap,Lr,{x:0,y:0},{x:tr.x+r,y:tr.y+r},er.bitmap)}}}this.image=Lr,this.positions=bt};s.register("GlyphAtlas",t);var o=function(lt){this.tileID=new s.OverscaledTileID(lt.tileID.overscaledZ,lt.tileID.wrap,lt.tileID.canonical.z,lt.tileID.canonical.x,lt.tileID.canonical.y),this.uid=lt.uid,this.zoom=lt.zoom,this.pixelRatio=lt.pixelRatio,this.tileSize=lt.tileSize,this.source=lt.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=lt.showCollisionBoxes,this.collectResourceTiming=!!lt.collectResourceTiming,this.returnDependencies=!!lt.returnDependencies,this.promoteId=lt.promoteId};o.prototype.parse=function(lt,bt,Et,kt,Ot){var Ft=this;this.status="parsing",this.data=lt,this.collisionBoxArray=new s.CollisionBoxArray;var Bt=new s.DictionaryCoder(Object.keys(lt.layers).sort()),Jt=new s.FeatureIndex(this.tileID,this.promoteId);Jt.bucketLayerIDs=[];var hr={},cr={featureIndex:Jt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Et},dr=bt.familiesBySource[this.source];for(var fr in dr){var Lr=lt.layers[fr];if(Lr){Lr.version===1&&s.warnOnce('Vector tile source "'+this.source+'" layer "'+fr+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var xr=Bt.encode(fr),Ke=[],et=0;et<Lr.length;et++){var er=Lr.feature(et),tr=Jt.getId(er,fr);Ke.push({feature:er,id:tr,index:et,sourceLayerIndex:xr})}for(var Yt=0,Pt=dr[fr];Yt<Pt.length;Yt+=1){var Zt=Pt[Yt],nr=Zt[0];if(!(nr.minzoom&&this.zoom<Math.floor(nr.minzoom))&&!(nr.maxzoom&&this.zoom>=nr.maxzoom)&&nr.visibility!=="none"){n(Zt,this.zoom,Et);var Qt=hr[nr.id]=nr.createBucket({index:Jt.bucketLayerIDs.length,layers:Zt,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:xr,sourceID:this.source});Qt.populate(Ke,cr,this.tileID.canonical),Jt.bucketLayerIDs.push(Zt.map(function(gr){return gr.id}))}}}}var Wt,yr,Ir,Tr,vn=s.mapObject(cr.glyphDependencies,function(gr){return Object.keys(gr).map(Number)});Object.keys(vn).length?kt.send("getGlyphs",{uid:this.uid,stacks:vn},function(gr,Pr){Wt||(Wt=gr,yr=Pr,nn.call(Ft))}):yr={};var Or=Object.keys(cr.iconDependencies);Or.length?kt.send("getImages",{icons:Or,source:this.source,tileID:this.tileID,type:"icons"},function(gr,Pr){Wt||(Wt=gr,Ir=Pr,nn.call(Ft))}):Ir={};var En=Object.keys(cr.patternDependencies);En.length?kt.send("getImages",{icons:En,source:this.source,tileID:this.tileID,type:"patterns"},function(gr,Pr){Wt||(Wt=gr,Tr=Pr,nn.call(Ft))}):Tr={},nn.call(this);function nn(){if(Wt)return Ot(Wt);if(yr&&Ir&&Tr){var gr=new t(yr),Pr=new s.ImageAtlas(Ir,Tr);for(var Xr in hr){var kr=hr[Xr];kr instanceof s.SymbolBucket?(n(kr.layers,this.zoom,Et),s.performSymbolLayout(kr,yr,gr.positions,Ir,Pr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):kr.hasPattern&&(kr instanceof s.LineBucket||kr instanceof s.FillBucket||kr instanceof s.FillExtrusionBucket)&&(n(kr.layers,this.zoom,Et),kr.addFeatures(cr,this.tileID.canonical,Pr.patternPositions))}this.status="done",Ot(null,{buckets:s.values(hr).filter(function(pn){return!pn.isEmpty()}),featureIndex:Jt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:gr.image,imageAtlas:Pr,glyphMap:this.returnDependencies?yr:null,iconMap:this.returnDependencies?Ir:null,glyphPositions:this.returnDependencies?gr.positions:null})}}};function n(gt,lt,bt){for(var Et=new s.EvaluationParameters(lt),kt=0,Ot=gt;kt<Ot.length;kt+=1){var Ft=Ot[kt];Ft.recalculate(Et,bt)}}function l(gt,lt){var bt=s.getArrayBuffer(gt.request,function(Et,kt,Ot,Ft){Et?lt(Et):kt&&lt(null,{vectorTile:new s.vectorTile.VectorTile(new s.pbf(kt)),rawData:kt,cacheControl:Ot,expires:Ft})});return function(){bt.cancel(),lt()}}var u=function(lt,bt,Et,kt){this.actor=lt,this.layerIndex=bt,this.availableImages=Et,this.loadVectorData=kt||l,this.loading={},this.loaded={}};u.prototype.loadTile=function(lt,bt){var Et=this,kt=lt.uid;this.loading||(this.loading={});var Ot=lt&&lt.request&&lt.request.collectResourceTiming?new s.RequestPerformance(lt.request):!1,Ft=this.loading[kt]=new o(lt);Ft.abort=this.loadVectorData(lt,function(Bt,Jt){if(delete Et.loading[kt],Bt||!Jt)return Ft.status="done",Et.loaded[kt]=Ft,bt(Bt);var hr=Jt.rawData,cr={};Jt.expires&&(cr.expires=Jt.expires),Jt.cacheControl&&(cr.cacheControl=Jt.cacheControl);var dr={};if(Ot){var fr=Ot.finish();fr&&(dr.resourceTiming=JSON.parse(JSON.stringify(fr)))}Ft.vectorTile=Jt.vectorTile,Ft.parse(Jt.vectorTile,Et.layerIndex,Et.availableImages,Et.actor,function(Lr,xr){if(Lr||!xr)return bt(Lr);bt(null,s.extend({rawTileData:hr.slice(0)},xr,cr,dr))}),Et.loaded=Et.loaded||{},Et.loaded[kt]=Ft})},u.prototype.reloadTile=function(lt,bt){var Et=this,kt=this.loaded,Ot=lt.uid,Ft=this;if(kt&&kt[Ot]){var Bt=kt[Ot];Bt.showCollisionBoxes=lt.showCollisionBoxes;var Jt=function(hr,cr){var dr=Bt.reloadCallback;dr&&(delete Bt.reloadCallback,Bt.parse(Bt.vectorTile,Ft.layerIndex,Et.availableImages,Ft.actor,dr)),bt(hr,cr)};Bt.status==="parsing"?Bt.reloadCallback=Jt:Bt.status==="done"&&(Bt.vectorTile?Bt.parse(Bt.vectorTile,this.layerIndex,this.availableImages,this.actor,Jt):Jt())}},u.prototype.abortTile=function(lt,bt){var Et=this.loading,kt=lt.uid;Et&&Et[kt]&&Et[kt].abort&&(Et[kt].abort(),delete Et[kt]),bt()},u.prototype.removeTile=function(lt,bt){var Et=this.loaded,kt=lt.uid;Et&&Et[kt]&&delete Et[kt],bt()};var f=s.window.ImageBitmap,g=function(){this.loaded={}};g.prototype.loadTile=function(lt,bt){var Et=lt.uid,kt=lt.encoding,Ot=lt.rawImageData,Ft=f&&Ot instanceof f?this.getImageData(Ot):Ot,Bt=new s.DEMData(Et,Ft,kt);this.loaded=this.loaded||{},this.loaded[Et]=Bt,bt(null,Bt)},g.prototype.getImageData=function(lt){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(lt.width,lt.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=lt.width,this.offscreenCanvas.height=lt.height,this.offscreenCanvasContext.drawImage(lt,0,0,lt.width,lt.height);var bt=this.offscreenCanvasContext.getImageData(-1,-1,lt.width+2,lt.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new s.RGBAImage({width:bt.width,height:bt.height},bt.data)},g.prototype.removeTile=function(lt){var bt=this.loaded,Et=lt.uid;bt&&bt[Et]&&delete bt[Et]};var h=w;function w(gt,lt){var bt=gt&&gt.type,Et;if(bt==="FeatureCollection")for(Et=0;Et<gt.features.length;Et++)w(gt.features[Et],lt);else if(bt==="GeometryCollection")for(Et=0;Et<gt.geometries.length;Et++)w(gt.geometries[Et],lt);else if(bt==="Feature")w(gt.geometry,lt);else if(bt==="Polygon")c(gt.coordinates,lt);else if(bt==="MultiPolygon")for(Et=0;Et<gt.coordinates.length;Et++)c(gt.coordinates[Et],lt);return gt}function c(gt,lt){if(gt.length!==0){a(gt[0],lt);for(var bt=1;bt<gt.length;bt++)a(gt[bt],!lt)}}function a(gt,lt){for(var bt=0,Et=0,kt=gt.length,Ot=kt-1;Et<kt;Ot=Et++)bt+=(gt[Et][0]-gt[Ot][0])*(gt[Ot][1]+gt[Et][1]);bt>=0!=!!lt&&gt.reverse()}var d=s.vectorTile.VectorTileFeature.prototype.toGeoJSON,x=function(lt){this._feature=lt,this.extent=s.EXTENT,this.type=lt.type,this.properties=lt.tags,"id"in lt&&!isNaN(lt.id)&&(this.id=parseInt(lt.id,10))};x.prototype.loadGeometry=function(){if(this._feature.type===1){for(var lt=[],bt=0,Et=this._feature.geometry;bt<Et.length;bt+=1){var kt=Et[bt];lt.push([new s.Point$1(kt[0],kt[1])])}return lt}else{for(var Ot=[],Ft=0,Bt=this._feature.geometry;Ft<Bt.length;Ft+=1){for(var Jt=Bt[Ft],hr=[],cr=0,dr=Jt;cr<dr.length;cr+=1){var fr=dr[cr];hr.push(new s.Point$1(fr[0],fr[1]))}Ot.push(hr)}return Ot}},x.prototype.toGeoJSON=function(lt,bt,Et){return d.call(this,lt,bt,Et)};var T=function(lt){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=s.EXTENT,this.length=lt.length,this._features=lt};T.prototype.feature=function(lt){return new x(this._features[lt])};var C=s.vectorTile.VectorTileFeature,y=S;function S(gt,lt){this.options=lt||{},this.features=gt,this.length=gt.length}S.prototype.feature=function(gt){return new A(this.features[gt],this.options.extent)};function A(gt,lt){this.id=typeof gt.id=="number"?gt.id:void 0,this.type=gt.type,this.rawGeometry=gt.type===1?[gt.geometry]:gt.geometry,this.properties=gt.tags,this.extent=lt||4096}A.prototype.loadGeometry=function(){var gt=this.rawGeometry;this.geometry=[];for(var lt=0;lt<gt.length;lt++){for(var bt=gt[lt],Et=[],kt=0;kt<bt.length;kt++)Et.push(new s.Point$1(bt[kt][0],bt[kt][1]));this.geometry.push(Et)}return this.geometry},A.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var gt=this.geometry,lt=1/0,bt=-1/0,Et=1/0,kt=-1/0,Ot=0;Ot<gt.length;Ot++)for(var Ft=gt[Ot],Bt=0;Bt<Ft.length;Bt++){var Jt=Ft[Bt];lt=Math.min(lt,Jt.x),bt=Math.max(bt,Jt.x),Et=Math.min(Et,Jt.y),kt=Math.max(kt,Jt.y)}return[lt,Et,bt,kt]},A.prototype.toGeoJSON=C.prototype.toGeoJSON;var i=I,E=I,m=O,k=y;function I(gt){var lt=new s.pbf;return _(gt,lt),lt.finish()}function O(gt,lt){lt=lt||{};var bt={};for(var Et in gt)bt[Et]=new y(gt[Et].features,lt),bt[Et].name=Et,bt[Et].version=lt.version,bt[Et].extent=lt.extent;return I({layers:bt})}function _(gt,lt){for(var bt in gt.layers)lt.writeMessage(3,B,gt.layers[bt])}function B(gt,lt){lt.writeVarintField(15,gt.version||1),lt.writeStringField(1,gt.name||""),lt.writeVarintField(5,gt.extent||4096);var bt,Et={keys:[],values:[],keycache:{},valuecache:{}};for(bt=0;bt<gt.length;bt++)Et.feature=gt.feature(bt),lt.writeMessage(2,F,Et);var kt=Et.keys;for(bt=0;bt<kt.length;bt++)lt.writeStringField(3,kt[bt]);var Ot=Et.values;for(bt=0;bt<Ot.length;bt++)lt.writeMessage(4,q,Ot[bt])}function F(gt,lt){var bt=gt.feature;bt.id!==void 0&&lt.writeVarintField(1,bt.id),lt.writeMessage(2,z,gt),lt.writeVarintField(3,bt.type),lt.writeMessage(4,Z,bt)}function z(gt,lt){var bt=gt.feature,Et=gt.keys,kt=gt.values,Ot=gt.keycache,Ft=gt.valuecache;for(var Bt in bt.properties){var Jt=Ot[Bt];typeof Jt>"u"&&(Et.push(Bt),Jt=Et.length-1,Ot[Bt]=Jt),lt.writeVarint(Jt);var hr=bt.properties[Bt],cr=typeof hr;cr!=="string"&&cr!=="boolean"&&cr!=="number"&&(hr=JSON.stringify(hr));var dr=cr+":"+hr,fr=Ft[dr];typeof fr>"u"&&(kt.push(hr),fr=kt.length-1,Ft[dr]=fr),lt.writeVarint(fr)}}function N(gt,lt){return(lt<<3)+(gt&7)}function W(gt){return gt<<1^gt>>31}function Z(gt,lt){for(var bt=gt.loadGeometry(),Et=gt.type,kt=0,Ot=0,Ft=bt.length,Bt=0;Bt<Ft;Bt++){var Jt=bt[Bt],hr=1;Et===1&&(hr=Jt.length),lt.writeVarint(N(1,hr));for(var cr=Et===3?Jt.length-1:Jt.length,dr=0;dr<cr;dr++){dr===1&&Et!==1&&lt.writeVarint(N(2,cr-1));var fr=Jt[dr].x-kt,Lr=Jt[dr].y-Ot;lt.writeVarint(W(fr)),lt.writeVarint(W(Lr)),kt+=fr,Ot+=Lr}Et===3&&lt.writeVarint(N(7,1))}}function q(gt,lt){var bt=typeof gt;bt==="string"?lt.writeStringField(1,gt):bt==="boolean"?lt.writeBooleanField(7,gt):bt==="number"&&(gt%1!==0?lt.writeDoubleField(3,gt):gt<0?lt.writeSVarintField(6,gt):lt.writeVarintField(5,gt))}i.fromVectorTileJs=E,i.fromGeojsonVt=m,i.GeoJSONWrapper=k;function re(gt,lt,bt,Et,kt,Ot){if(!(kt-Et<=bt)){var Ft=Et+kt>>1;le(gt,lt,Ft,Et,kt,Ot%2),re(gt,lt,bt,Et,Ft-1,Ot+1),re(gt,lt,bt,Ft+1,kt,Ot+1)}}function le(gt,lt,bt,Et,kt,Ot){for(;kt>Et;){if(kt-Et>600){var Ft=kt-Et+1,Bt=bt-Et+1,Jt=Math.log(Ft),hr=.5*Math.exp(2*Jt/3),cr=.5*Math.sqrt(Jt*hr*(Ft-hr)/Ft)*(Bt-Ft/2<0?-1:1),dr=Math.max(Et,Math.floor(bt-Bt*hr/Ft+cr)),fr=Math.min(kt,Math.floor(bt+(Ft-Bt)*hr/Ft+cr));le(gt,lt,bt,dr,fr,Ot)}var Lr=lt[2*bt+Ot],xr=Et,Ke=kt;for(ie(gt,lt,Et,bt),lt[2*kt+Ot]>Lr&&ie(gt,lt,Et,kt);xr<Ke;){for(ie(gt,lt,xr,Ke),xr++,Ke--;lt[2*xr+Ot]<Lr;)xr++;for(;lt[2*Ke+Ot]>Lr;)Ke--}lt[2*Et+Ot]===Lr?ie(gt,lt,Et,Ke):(Ke++,ie(gt,lt,Ke,kt)),Ke<=bt&&(Et=Ke+1),bt<=Ke&&(kt=Ke-1)}}function ie(gt,lt,bt,Et){K(gt,bt,Et),K(lt,2*bt,2*Et),K(lt,2*bt+1,2*Et+1)}function K(gt,lt,bt){var Et=gt[lt];gt[lt]=gt[bt],gt[bt]=Et}function $(gt,lt,bt,Et,kt,Ot,Ft){for(var Bt=[0,gt.length-1,0],Jt=[],hr,cr;Bt.length;){var dr=Bt.pop(),fr=Bt.pop(),Lr=Bt.pop();if(fr-Lr<=Ft){for(var xr=Lr;xr<=fr;xr++)hr=lt[2*xr],cr=lt[2*xr+1],hr>=bt&&hr<=kt&&cr>=Et&&cr<=Ot&&Jt.push(gt[xr]);continue}var Ke=Math.floor((Lr+fr)/2);hr=lt[2*Ke],cr=lt[2*Ke+1],hr>=bt&&hr<=kt&&cr>=Et&&cr<=Ot&&Jt.push(gt[Ke]);var et=(dr+1)%2;(dr===0?bt<=hr:Et<=cr)&&(Bt.push(Lr),Bt.push(Ke-1),Bt.push(et)),(dr===0?kt>=hr:Ot>=cr)&&(Bt.push(Ke+1),Bt.push(fr),Bt.push(et))}return Jt}function X(gt,lt,bt,Et,kt,Ot){for(var Ft=[0,gt.length-1,0],Bt=[],Jt=kt*kt;Ft.length;){var hr=Ft.pop(),cr=Ft.pop(),dr=Ft.pop();if(cr-dr<=Ot){for(var fr=dr;fr<=cr;fr++)Q(lt[2*fr],lt[2*fr+1],bt,Et)<=Jt&&Bt.push(gt[fr]);continue}var Lr=Math.floor((dr+cr)/2),xr=lt[2*Lr],Ke=lt[2*Lr+1];Q(xr,Ke,bt,Et)<=Jt&&Bt.push(gt[Lr]);var et=(hr+1)%2;(hr===0?bt-kt<=xr:Et-kt<=Ke)&&(Ft.push(dr),Ft.push(Lr-1),Ft.push(et)),(hr===0?bt+kt>=xr:Et+kt>=Ke)&&(Ft.push(Lr+1),Ft.push(cr),Ft.push(et))}return Bt}function Q(gt,lt,bt,Et){var kt=gt-bt,Ot=lt-Et;return kt*kt+Ot*Ot}var se=function(gt){return gt[0]},J=function(gt){return gt[1]},G=function(lt,bt,Et,kt,Ot){bt===void 0&&(bt=se),Et===void 0&&(Et=J),kt===void 0&&(kt=64),Ot===void 0&&(Ot=Float64Array),this.nodeSize=kt,this.points=lt;for(var Ft=lt.length<65536?Uint16Array:Uint32Array,Bt=this.ids=new Ft(lt.length),Jt=this.coords=new Ot(lt.length*2),hr=0;hr<lt.length;hr++)Bt[hr]=hr,Jt[2*hr]=bt(lt[hr]),Jt[2*hr+1]=Et(lt[hr]);re(Bt,Jt,kt,0,Bt.length-1,0)};G.prototype.range=function(lt,bt,Et,kt){return $(this.ids,this.coords,lt,bt,Et,kt,this.nodeSize)},G.prototype.within=function(lt,bt,Et){return X(this.ids,this.coords,lt,bt,Et,this.nodeSize)};var oe={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(gt){return gt}},te=function(lt){this.options=Re(Object.create(oe),lt),this.trees=new Array(this.options.maxZoom+1)};te.prototype.load=function(lt){var bt=this.options,Et=bt.log,kt=bt.minZoom,Ot=bt.maxZoom,Ft=bt.nodeSize;Et&&console.time("total time");var Bt="prepare "+lt.length+" points";Et&&console.time(Bt),this.points=lt;for(var Jt=[],hr=0;hr<lt.length;hr++)lt[hr].geometry&&Jt.push(ge(lt[hr],hr));this.trees[Ot+1]=new G(Jt,Me,ke,Ft,Float32Array),Et&&console.timeEnd(Bt);for(var cr=Ot;cr>=kt;cr--){var dr=+Date.now();Jt=this._cluster(Jt,cr),this.trees[cr]=new G(Jt,Me,ke,Ft,Float32Array),Et&&console.log("z%d: %d clusters in %dms",cr,Jt.length,+Date.now()-dr)}return Et&&console.timeEnd("total time"),this},te.prototype.getClusters=function(lt,bt){var Et=((lt[0]+180)%360+360)%360-180,kt=Math.max(-90,Math.min(90,lt[1])),Ot=lt[2]===180?180:((lt[2]+180)%360+360)%360-180,Ft=Math.max(-90,Math.min(90,lt[3]));if(lt[2]-lt[0]>=360)Et=-180,Ot=180;else if(Et>Ot){var Bt=this.getClusters([Et,kt,180,Ft],bt),Jt=this.getClusters([-180,kt,Ot,Ft],bt);return Bt.concat(Jt)}for(var hr=this.trees[this._limitZoom(bt)],cr=hr.range(Ce(Et),De(Ft),Ce(Ot),De(kt)),dr=[],fr=0,Lr=cr;fr<Lr.length;fr+=1){var xr=Lr[fr],Ke=hr.points[xr];dr.push(Ke.numPoints?we(Ke):this.points[Ke.index])}return dr},te.prototype.getChildren=function(lt){var bt=this._getOriginId(lt),Et=this._getOriginZoom(lt),kt="No cluster with the specified id.",Ot=this.trees[Et];if(!Ot)throw new Error(kt);var Ft=Ot.points[bt];if(!Ft)throw new Error(kt);for(var Bt=this.options.radius/(this.options.extent*Math.pow(2,Et-1)),Jt=Ot.within(Ft.x,Ft.y,Bt),hr=[],cr=0,dr=Jt;cr<dr.length;cr+=1){var fr=dr[cr],Lr=Ot.points[fr];Lr.parentId===lt&&hr.push(Lr.numPoints?we(Lr):this.points[Lr.index])}if(hr.length===0)throw new Error(kt);return hr},te.prototype.getLeaves=function(lt,bt,Et){bt=bt||10,Et=Et||0;var kt=[];return this._appendLeaves(kt,lt,bt,Et,0),kt},te.prototype.getTile=function(lt,bt,Et){var kt=this.trees[this._limitZoom(lt)],Ot=Math.pow(2,lt),Ft=this.options,Bt=Ft.extent,Jt=Ft.radius,hr=Jt/Bt,cr=(Et-hr)/Ot,dr=(Et+1+hr)/Ot,fr={features:[]};return this._addTileFeatures(kt.range((bt-hr)/Ot,cr,(bt+1+hr)/Ot,dr),kt.points,bt,Et,Ot,fr),bt===0&&this._addTileFeatures(kt.range(1-hr/Ot,cr,1,dr),kt.points,Ot,Et,Ot,fr),bt===Ot-1&&this._addTileFeatures(kt.range(0,cr,hr/Ot,dr),kt.points,-1,Et,Ot,fr),fr.features.length?fr:null},te.prototype.getClusterExpansionZoom=function(lt){for(var bt=this._getOriginZoom(lt)-1;bt<=this.options.maxZoom;){var Et=this.getChildren(lt);if(bt++,Et.length!==1)break;lt=Et[0].properties.cluster_id}return bt},te.prototype._appendLeaves=function(lt,bt,Et,kt,Ot){for(var Ft=this.getChildren(bt),Bt=0,Jt=Ft;Bt<Jt.length;Bt+=1){var hr=Jt[Bt],cr=hr.properties;if(cr&&cr.cluster?Ot+cr.point_count<=kt?Ot+=cr.point_count:Ot=this._appendLeaves(lt,cr.cluster_id,Et,kt,Ot):Ot<kt?Ot++:lt.push(hr),lt.length===Et)break}return Ot},te.prototype._addTileFeatures=function(lt,bt,Et,kt,Ot,Ft){for(var Bt=0,Jt=lt;Bt<Jt.length;Bt+=1){var hr=Jt[Bt],cr=bt[hr],dr=cr.numPoints,fr={type:1,geometry:[[Math.round(this.options.extent*(cr.x*Ot-Et)),Math.round(this.options.extent*(cr.y*Ot-kt))]],tags:dr?xe(cr):this.points[cr.index].properties},Lr=void 0;dr?Lr=cr.id:this.options.generateId?Lr=cr.index:this.points[cr.index].id&&(Lr=this.points[cr.index].id),Lr!==void 0&&(fr.id=Lr),Ft.features.push(fr)}},te.prototype._limitZoom=function(lt){return Math.max(this.options.minZoom,Math.min(+lt,this.options.maxZoom+1))},te.prototype._cluster=function(lt,bt){for(var Et=[],kt=this.options,Ot=kt.radius,Ft=kt.extent,Bt=kt.reduce,Jt=kt.minPoints,hr=Ot/(Ft*Math.pow(2,bt)),cr=0;cr<lt.length;cr++){var dr=lt[cr];if(!(dr.zoom<=bt)){dr.zoom=bt;for(var fr=this.trees[bt+1],Lr=fr.within(dr.x,dr.y,hr),xr=dr.numPoints||1,Ke=xr,et=0,er=Lr;et<er.length;et+=1){var tr=er[et],Yt=fr.points[tr];Yt.zoom>bt&&(Ke+=Yt.numPoints||1)}if(Ke>=Jt){for(var Pt=dr.x*xr,Zt=dr.y*xr,nr=Bt&&xr>1?this._map(dr,!0):null,Qt=(cr<<5)+(bt+1)+this.points.length,Wt=0,yr=Lr;Wt<yr.length;Wt+=1){var Ir=yr[Wt],Tr=fr.points[Ir];if(!(Tr.zoom<=bt)){Tr.zoom=bt;var vn=Tr.numPoints||1;Pt+=Tr.x*vn,Zt+=Tr.y*vn,Tr.parentId=Qt,Bt&&(nr||(nr=this._map(dr,!0)),Bt(nr,this._map(Tr)))}}dr.parentId=Qt,Et.push(fe(Pt/Ke,Zt/Ke,Qt,Ke,nr))}else if(Et.push(dr),Ke>1)for(var Or=0,En=Lr;Or<En.length;Or+=1){var nn=En[Or],gr=fr.points[nn];gr.zoom<=bt||(gr.zoom=bt,Et.push(gr))}}}return Et},te.prototype._getOriginId=function(lt){return lt-this.points.length>>5},te.prototype._getOriginZoom=function(lt){return(lt-this.points.length)%32},te.prototype._map=function(lt,bt){if(lt.numPoints)return bt?Re({},lt.properties):lt.properties;var Et=this.points[lt.index].properties,kt=this.options.map(Et);return bt&&kt===Et?Re({},kt):kt};function fe(gt,lt,bt,Et,kt){return{x:gt,y:lt,zoom:1/0,id:bt,parentId:-1,numPoints:Et,properties:kt}}function ge(gt,lt){var bt=gt.geometry.coordinates,Et=bt[0],kt=bt[1];return{x:Ce(Et),y:De(kt),zoom:1/0,index:lt,parentId:-1}}function we(gt){return{type:"Feature",id:gt.id,properties:xe(gt),geometry:{type:"Point",coordinates:[Oe(gt.x),Te(gt.y)]}}}function xe(gt){var lt=gt.numPoints,bt=lt>=1e4?Math.round(lt/1e3)+"k":lt>=1e3?Math.round(lt/100)/10+"k":lt;return Re(Re({},gt.properties),{cluster:!0,cluster_id:gt.id,point_count:lt,point_count_abbreviated:bt})}function Ce(gt){return gt/360+.5}function De(gt){var lt=Math.sin(gt*Math.PI/180),bt=.5-.25*Math.log((1+lt)/(1-lt))/Math.PI;return bt<0?0:bt>1?1:bt}function Oe(gt){return(gt-.5)*360}function Te(gt){var lt=(180-gt*360)*Math.PI/180;return 360*Math.atan(Math.exp(lt))/Math.PI-90}function Re(gt,lt){for(var bt in lt)gt[bt]=lt[bt];return gt}function Me(gt){return gt.x}function ke(gt){return gt.y}function Se(gt,lt,bt,Et){for(var kt=Et,Ot=bt-lt>>1,Ft=bt-lt,Bt,Jt=gt[lt],hr=gt[lt+1],cr=gt[bt],dr=gt[bt+1],fr=lt+3;fr<bt;fr+=3){var Lr=He(gt[fr],gt[fr+1],Jt,hr,cr,dr);if(Lr>kt)Bt=fr,kt=Lr;else if(Lr===kt){var xr=Math.abs(fr-Ot);xr<Ft&&(Bt=fr,Ft=xr)}}kt>Et&&(Bt-lt>3&&Se(gt,lt,Bt,Et),gt[Bt+2]=kt,bt-Bt>3&&Se(gt,Bt,bt,Et))}function He(gt,lt,bt,Et,kt,Ot){var Ft=kt-bt,Bt=Ot-Et;if(Ft!==0||Bt!==0){var Jt=((gt-bt)*Ft+(lt-Et)*Bt)/(Ft*Ft+Bt*Bt);Jt>1?(bt=kt,Et=Ot):Jt>0&&(bt+=Ft*Jt,Et+=Bt*Jt)}return Ft=gt-bt,Bt=lt-Et,Ft*Ft+Bt*Bt}function je(gt,lt,bt,Et){var kt={id:typeof gt>"u"?null:gt,type:lt,geometry:bt,tags:Et,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return at(kt),kt}function at(gt){var lt=gt.geometry,bt=gt.type;if(bt==="Point"||bt==="MultiPoint"||bt==="LineString")Ze(gt,lt);else if(bt==="Polygon"||bt==="MultiLineString")for(var Et=0;Et<lt.length;Et++)Ze(gt,lt[Et]);else if(bt==="MultiPolygon")for(Et=0;Et<lt.length;Et++)for(var kt=0;kt<lt[Et].length;kt++)Ze(gt,lt[Et][kt])}function Ze(gt,lt){for(var bt=0;bt<lt.length;bt+=3)gt.minX=Math.min(gt.minX,lt[bt]),gt.minY=Math.min(gt.minY,lt[bt+1]),gt.maxX=Math.max(gt.maxX,lt[bt]),gt.maxY=Math.max(gt.maxY,lt[bt+1])}function $e(gt,lt){var bt=[];if(gt.type==="FeatureCollection")for(var Et=0;Et<gt.features.length;Et++)ut(bt,gt.features[Et],lt,Et);else gt.type==="Feature"?ut(bt,gt,lt):ut(bt,{geometry:gt},lt);return bt}function ut(gt,lt,bt,Et){if(lt.geometry){var kt=lt.geometry.coordinates,Ot=lt.geometry.type,Ft=Math.pow(bt.tolerance/((1<<bt.maxZoom)*bt.extent),2),Bt=[],Jt=lt.id;if(bt.promoteId?Jt=lt.properties[bt.promoteId]:bt.generateId&&(Jt=Et||0),Ot==="Point")ht(kt,Bt);else if(Ot==="MultiPoint")for(var hr=0;hr<kt.length;hr++)ht(kt[hr],Bt);else if(Ot==="LineString")vt(kt,Bt,Ft,!1);else if(Ot==="MultiLineString")if(bt.lineMetrics){for(hr=0;hr<kt.length;hr++)Bt=[],vt(kt[hr],Bt,Ft,!1),gt.push(je(Jt,"LineString",Bt,lt.properties));return}else xt(kt,Bt,Ft,!1);else if(Ot==="Polygon")xt(kt,Bt,Ft,!0);else if(Ot==="MultiPolygon")for(hr=0;hr<kt.length;hr++){var cr=[];xt(kt[hr],cr,Ft,!0),Bt.push(cr)}else if(Ot==="GeometryCollection"){for(hr=0;hr<lt.geometry.geometries.length;hr++)ut(gt,{id:Jt,geometry:lt.geometry.geometries[hr],properties:lt.properties},bt,Et);return}else throw new Error("Input data is not a valid GeoJSON object.");gt.push(je(Jt,Ot,Bt,lt.properties))}}function ht(gt,lt){lt.push(St(gt[0])),lt.push(tt(gt[1])),lt.push(0)}function vt(gt,lt,bt,Et){for(var kt,Ot,Ft=0,Bt=0;Bt<gt.length;Bt++){var Jt=St(gt[Bt][0]),hr=tt(gt[Bt][1]);lt.push(Jt),lt.push(hr),lt.push(0),Bt>0&&(Et?Ft+=(kt*hr-Jt*Ot)/2:Ft+=Math.sqrt(Math.pow(Jt-kt,2)+Math.pow(hr-Ot,2))),kt=Jt,Ot=hr}var cr=lt.length-3;lt[2]=1,Se(lt,0,cr,bt),lt[cr+2]=1,lt.size=Math.abs(Ft),lt.start=0,lt.end=lt.size}function xt(gt,lt,bt,Et){for(var kt=0;kt<gt.length;kt++){var Ot=[];vt(gt[kt],Ot,bt,Et),lt.push(Ot)}}function St(gt){return gt/360+.5}function tt(gt){var lt=Math.sin(gt*Math.PI/180),bt=.5-.25*Math.log((1+lt)/(1-lt))/Math.PI;return bt<0?0:bt>1?1:bt}function Ie(gt,lt,bt,Et,kt,Ot,Ft,Bt){if(bt/=lt,Et/=lt,Ot>=bt&&Ft<Et)return gt;if(Ft<bt||Ot>=Et)return null;for(var Jt=[],hr=0;hr<gt.length;hr++){var cr=gt[hr],dr=cr.geometry,fr=cr.type,Lr=kt===0?cr.minX:cr.minY,xr=kt===0?cr.maxX:cr.maxY;if(Lr>=bt&&xr<Et){Jt.push(cr);continue}else if(xr<bt||Lr>=Et)continue;var Ke=[];if(fr==="Point"||fr==="MultiPoint")Ve(dr,Ke,bt,Et,kt);else if(fr==="LineString")Ge(dr,Ke,bt,Et,kt,!1,Bt.lineMetrics);else if(fr==="MultiLineString")Le(dr,Ke,bt,Et,kt,!1);else if(fr==="Polygon")Le(dr,Ke,bt,Et,kt,!0);else if(fr==="MultiPolygon")for(var et=0;et<dr.length;et++){var er=[];Le(dr[et],er,bt,Et,kt,!0),er.length&&Ke.push(er)}if(Ke.length){if(Bt.lineMetrics&&fr==="LineString"){for(et=0;et<Ke.length;et++)Jt.push(je(cr.id,fr,Ke[et],cr.tags));continue}(fr==="LineString"||fr==="MultiLineString")&&(Ke.length===1?(fr="LineString",Ke=Ke[0]):fr="MultiLineString"),(fr==="Point"||fr==="MultiPoint")&&(fr=Ke.length===3?"Point":"MultiPoint"),Jt.push(je(cr.id,fr,Ke,cr.tags))}}return Jt.length?Jt:null}function Ve(gt,lt,bt,Et,kt){for(var Ot=0;Ot<gt.length;Ot+=3){var Ft=gt[Ot+kt];Ft>=bt&&Ft<=Et&&(lt.push(gt[Ot]),lt.push(gt[Ot+1]),lt.push(gt[Ot+2]))}}function Ge(gt,lt,bt,Et,kt,Ot,Ft){for(var Bt=Xe(gt),Jt=kt===0?Ue:Ee,hr=gt.start,cr,dr,fr=0;fr<gt.length-3;fr+=3){var Lr=gt[fr],xr=gt[fr+1],Ke=gt[fr+2],et=gt[fr+3],er=gt[fr+4],tr=kt===0?Lr:xr,Yt=kt===0?et:er,Pt=!1;Ft&&(cr=Math.sqrt(Math.pow(Lr-et,2)+Math.pow(xr-er,2))),tr<bt?Yt>bt&&(dr=Jt(Bt,Lr,xr,et,er,bt),Ft&&(Bt.start=hr+cr*dr)):tr>Et?Yt<Et&&(dr=Jt(Bt,Lr,xr,et,er,Et),Ft&&(Bt.start=hr+cr*dr)):Fe(Bt,Lr,xr,Ke),Yt<bt&&tr>=bt&&(dr=Jt(Bt,Lr,xr,et,er,bt),Pt=!0),Yt>Et&&tr<=Et&&(dr=Jt(Bt,Lr,xr,et,er,Et),Pt=!0),!Ot&&Pt&&(Ft&&(Bt.end=hr+cr*dr),lt.push(Bt),Bt=Xe(gt)),Ft&&(hr+=cr)}var Zt=gt.length-3;Lr=gt[Zt],xr=gt[Zt+1],Ke=gt[Zt+2],tr=kt===0?Lr:xr,tr>=bt&&tr<=Et&&Fe(Bt,Lr,xr,Ke),Zt=Bt.length-3,Ot&&Zt>=3&&(Bt[Zt]!==Bt[0]||Bt[Zt+1]!==Bt[1])&&Fe(Bt,Bt[0],Bt[1],Bt[2]),Bt.length&&lt.push(Bt)}function Xe(gt){var lt=[];return lt.size=gt.size,lt.start=gt.start,lt.end=gt.end,lt}function Le(gt,lt,bt,Et,kt,Ot){for(var Ft=0;Ft<gt.length;Ft++)Ge(gt[Ft],lt,bt,Et,kt,Ot,!1)}function Fe(gt,lt,bt,Et){gt.push(lt),gt.push(bt),gt.push(Et)}function Ue(gt,lt,bt,Et,kt,Ot){var Ft=(Ot-lt)/(Et-lt);return gt.push(Ot),gt.push(bt+(kt-bt)*Ft),gt.push(1),Ft}function Ee(gt,lt,bt,Et,kt,Ot){var Ft=(Ot-bt)/(kt-bt);return gt.push(lt+(Et-lt)*Ft),gt.push(Ot),gt.push(1),Ft}function he(gt,lt){var bt=lt.buffer/lt.extent,Et=gt,kt=Ie(gt,1,-1-bt,bt,0,-1,2,lt),Ot=Ie(gt,1,1-bt,2+bt,0,-1,2,lt);return(kt||Ot)&&(Et=Ie(gt,1,-bt,1+bt,0,-1,2,lt)||[],kt&&(Et=ye(kt,1).concat(Et)),Ot&&(Et=Et.concat(ye(Ot,-1)))),Et}function ye(gt,lt){for(var bt=[],Et=0;Et<gt.length;Et++){var kt=gt[Et],Ot=kt.type,Ft;if(Ot==="Point"||Ot==="MultiPoint"||Ot==="LineString")Ft=_e(kt.geometry,lt);else if(Ot==="MultiLineString"||Ot==="Polygon"){Ft=[];for(var Bt=0;Bt<kt.geometry.length;Bt++)Ft.push(_e(kt.geometry[Bt],lt))}else if(Ot==="MultiPolygon")for(Ft=[],Bt=0;Bt<kt.geometry.length;Bt++){for(var Jt=[],hr=0;hr<kt.geometry[Bt].length;hr++)Jt.push(_e(kt.geometry[Bt][hr],lt));Ft.push(Jt)}bt.push(je(kt.id,Ot,Ft,kt.tags))}return bt}function _e(gt,lt){var bt=[];bt.size=gt.size,gt.start!==void 0&&(bt.start=gt.start,bt.end=gt.end);for(var Et=0;Et<gt.length;Et+=3)bt.push(gt[Et]+lt,gt[Et+1],gt[Et+2]);return bt}function We(gt,lt){if(gt.transformed)return gt;var bt=1<<gt.z,Et=gt.x,kt=gt.y,Ot,Ft,Bt;for(Ot=0;Ot<gt.features.length;Ot++){var Jt=gt.features[Ot],hr=Jt.geometry,cr=Jt.type;if(Jt.geometry=[],cr===1)for(Ft=0;Ft<hr.length;Ft+=2)Jt.geometry.push(rt(hr[Ft],hr[Ft+1],lt,bt,Et,kt));else for(Ft=0;Ft<hr.length;Ft++){var dr=[];for(Bt=0;Bt<hr[Ft].length;Bt+=2)dr.push(rt(hr[Ft][Bt],hr[Ft][Bt+1],lt,bt,Et,kt));Jt.geometry.push(dr)}}return gt.transformed=!0,gt}function rt(gt,lt,bt,Et,kt,Ot){return[Math.round(bt*(gt*Et-kt)),Math.round(bt*(lt*Et-Ot))]}function st(gt,lt,bt,Et,kt){for(var Ot=lt===kt.maxZoom?0:kt.tolerance/((1<<lt)*kt.extent),Ft={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:bt,y:Et,z:lt,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Bt=0;Bt<gt.length;Bt++){Ft.numFeatures++,Vt(Ft,gt[Bt],Ot,kt);var Jt=gt[Bt].minX,hr=gt[Bt].minY,cr=gt[Bt].maxX,dr=gt[Bt].maxY;Jt<Ft.minX&&(Ft.minX=Jt),hr<Ft.minY&&(Ft.minY=hr),cr>Ft.maxX&&(Ft.maxX=cr),dr>Ft.maxY&&(Ft.maxY=dr)}return Ft}function Vt(gt,lt,bt,Et){var kt=lt.geometry,Ot=lt.type,Ft=[];if(Ot==="Point"||Ot==="MultiPoint")for(var Bt=0;Bt<kt.length;Bt+=3)Ft.push(kt[Bt]),Ft.push(kt[Bt+1]),gt.numPoints++,gt.numSimplified++;else if(Ot==="LineString")Xt(Ft,kt,gt,bt,!1,!1);else if(Ot==="MultiLineString"||Ot==="Polygon")for(Bt=0;Bt<kt.length;Bt++)Xt(Ft,kt[Bt],gt,bt,Ot==="Polygon",Bt===0);else if(Ot==="MultiPolygon")for(var Jt=0;Jt<kt.length;Jt++){var hr=kt[Jt];for(Bt=0;Bt<hr.length;Bt++)Xt(Ft,hr[Bt],gt,bt,!0,Bt===0)}if(Ft.length){var cr=lt.tags||null;if(Ot==="LineString"&&Et.lineMetrics){cr={};for(var dr in lt.tags)cr[dr]=lt.tags[dr];cr.mapbox_clip_start=kt.start/kt.size,cr.mapbox_clip_end=kt.end/kt.size}var fr={geometry:Ft,type:Ot==="Polygon"||Ot==="MultiPolygon"?3:Ot==="LineString"||Ot==="MultiLineString"?2:1,tags:cr};lt.id!==null&&(fr.id=lt.id),gt.features.push(fr)}}function Xt(gt,lt,bt,Et,kt,Ot){var Ft=Et*Et;if(Et>0&&lt.size<(kt?Ft:Et)){bt.numPoints+=lt.length/3;return}for(var Bt=[],Jt=0;Jt<lt.length;Jt+=3)(Et===0||lt[Jt+2]>Ft)&&(bt.numSimplified++,Bt.push(lt[Jt]),Bt.push(lt[Jt+1])),bt.numPoints++;kt&&Tt(Bt,Ot),gt.push(Bt)}function Tt(gt,lt){for(var bt=0,Et=0,kt=gt.length,Ot=kt-2;Et<kt;Ot=Et,Et+=2)bt+=(gt[Et]-gt[Ot])*(gt[Et+1]+gt[Ot+1]);if(bt>0===lt)for(Et=0,kt=gt.length;Et<kt/2;Et+=2){var Ft=gt[Et],Bt=gt[Et+1];gt[Et]=gt[kt-2-Et],gt[Et+1]=gt[kt-1-Et],gt[kt-2-Et]=Ft,gt[kt-1-Et]=Bt}}function Lt(gt,lt){return new Kt(gt,lt)}function Kt(gt,lt){lt=this.options=pt(Object.create(this.options),lt);var bt=lt.debug;if(bt&&console.time("preprocess data"),lt.maxZoom<0||lt.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(lt.promoteId&&lt.generateId)throw new Error("promoteId and generateId cannot be used together.");var Et=$e(gt,lt);this.tiles={},this.tileCoords=[],bt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",lt.indexMaxZoom,lt.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Et=he(Et,lt),Et.length&&this.splitTile(Et,0,0,0),bt&&(Et.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}Kt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Kt.prototype.splitTile=function(gt,lt,bt,Et,kt,Ot,Ft){for(var Bt=[gt,lt,bt,Et],Jt=this.options,hr=Jt.debug;Bt.length;){Et=Bt.pop(),bt=Bt.pop(),lt=Bt.pop(),gt=Bt.pop();var cr=1<<lt,dr=vr(lt,bt,Et),fr=this.tiles[dr];if(!fr&&(hr>1&&console.time("creation"),fr=this.tiles[dr]=st(gt,lt,bt,Et,Jt),this.tileCoords.push({z:lt,x:bt,y:Et}),hr)){hr>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",lt,bt,Et,fr.numFeatures,fr.numPoints,fr.numSimplified),console.timeEnd("creation"));var Lr="z"+lt;this.stats[Lr]=(this.stats[Lr]||0)+1,this.total++}if(fr.source=gt,kt){if(lt===Jt.maxZoom||lt===kt)continue;var xr=1<<kt-lt;if(bt!==Math.floor(Ot/xr)||Et!==Math.floor(Ft/xr))continue}else if(lt===Jt.indexMaxZoom||fr.numPoints<=Jt.indexMaxPoints)continue;if(fr.source=null,gt.length!==0){hr>1&&console.time("clipping");var Ke=.5*Jt.buffer/Jt.extent,et=.5-Ke,er=.5+Ke,tr=1+Ke,Yt,Pt,Zt,nr,Qt,Wt;Yt=Pt=Zt=nr=null,Qt=Ie(gt,cr,bt-Ke,bt+er,0,fr.minX,fr.maxX,Jt),Wt=Ie(gt,cr,bt+et,bt+tr,0,fr.minX,fr.maxX,Jt),gt=null,Qt&&(Yt=Ie(Qt,cr,Et-Ke,Et+er,1,fr.minY,fr.maxY,Jt),Pt=Ie(Qt,cr,Et+et,Et+tr,1,fr.minY,fr.maxY,Jt),Qt=null),Wt&&(Zt=Ie(Wt,cr,Et-Ke,Et+er,1,fr.minY,fr.maxY,Jt),nr=Ie(Wt,cr,Et+et,Et+tr,1,fr.minY,fr.maxY,Jt),Wt=null),hr>1&&console.timeEnd("clipping"),Bt.push(Yt||[],lt+1,bt*2,Et*2),Bt.push(Pt||[],lt+1,bt*2,Et*2+1),Bt.push(Zt||[],lt+1,bt*2+1,Et*2),Bt.push(nr||[],lt+1,bt*2+1,Et*2+1)}}},Kt.prototype.getTile=function(gt,lt,bt){var Et=this.options,kt=Et.extent,Ot=Et.debug;if(gt<0||gt>24)return null;var Ft=1<<gt;lt=(lt%Ft+Ft)%Ft;var Bt=vr(gt,lt,bt);if(this.tiles[Bt])return We(this.tiles[Bt],kt);Ot>1&&console.log("drilling down to z%d-%d-%d",gt,lt,bt);for(var Jt=gt,hr=lt,cr=bt,dr;!dr&&Jt>0;)Jt--,hr=Math.floor(hr/2),cr=Math.floor(cr/2),dr=this.tiles[vr(Jt,hr,cr)];return!dr||!dr.source?null:(Ot>1&&console.log("found parent tile z%d-%d-%d",Jt,hr,cr),Ot>1&&console.time("drilling down"),this.splitTile(dr.source,Jt,hr,cr,gt,lt,bt),Ot>1&&console.timeEnd("drilling down"),this.tiles[Bt]?We(this.tiles[Bt],kt):null)};function vr(gt,lt,bt){return((1<<gt)*bt+lt)*32+gt}function pt(gt,lt){for(var bt in lt)gt[bt]=lt[bt];return gt}function jt(gt,lt){var bt=gt.tileID.canonical;if(!this._geoJSONIndex)return lt(null,null);var Et=this._geoJSONIndex.getTile(bt.z,bt.x,bt.y);if(!Et)return lt(null,null);var kt=new T(Et.features),Ot=i(kt);(Ot.byteOffset!==0||Ot.byteLength!==Ot.buffer.byteLength)&&(Ot=new Uint8Array(Ot)),lt(null,{vectorTile:kt,rawData:Ot.buffer})}var $t=function(gt){function lt(bt,Et,kt,Ot){gt.call(this,bt,Et,kt,jt),Ot&&(this.loadGeoJSON=Ot)}return gt&&(lt.__proto__=gt),lt.prototype=Object.create(gt&&gt.prototype),lt.prototype.constructor=lt,lt.prototype.loadData=function(Et,kt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=kt,this._pendingLoadDataParams=Et,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},lt.prototype._loadData=function(){var Et=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var kt=this._pendingCallback,Ot=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Ft=Ot&&Ot.request&&Ot.request.collectResourceTiming?new s.RequestPerformance(Ot.request):!1;this.loadGeoJSON(Ot,function(Bt,Jt){if(Bt||!Jt)return kt(Bt);if(typeof Jt!="object")return kt(new Error("Input data given to '"+Ot.source+"' is not a valid GeoJSON object."));h(Jt,!0);try{if(Ot.filter){var hr=s.createExpression(Ot.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(hr.result==="error")throw new Error(hr.value.map(function(Lr){return Lr.key+": "+Lr.message}).join(", "));var cr=Jt.features.filter(function(Lr){return hr.value.evaluate({zoom:0},Lr)});Jt={type:"FeatureCollection",features:cr}}Et._geoJSONIndex=Ot.cluster?new te(mr(Ot)).load(Jt.features):Lt(Jt,Ot.geojsonVtOptions)}catch(Lr){return kt(Lr)}Et.loaded={};var dr={};if(Ft){var fr=Ft.finish();fr&&(dr.resourceTiming={},dr.resourceTiming[Ot.source]=JSON.parse(JSON.stringify(fr)))}kt(null,dr)})}},lt.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},lt.prototype.reloadTile=function(Et,kt){var Ot=this.loaded,Ft=Et.uid;return Ot&&Ot[Ft]?gt.prototype.reloadTile.call(this,Et,kt):this.loadTile(Et,kt)},lt.prototype.loadGeoJSON=function(Et,kt){if(Et.request)s.getJSON(Et.request,kt);else if(typeof Et.data=="string")try{return kt(null,JSON.parse(Et.data))}catch{return kt(new Error("Input data given to '"+Et.source+"' is not a valid GeoJSON object."))}else return kt(new Error("Input data given to '"+Et.source+"' is not a valid GeoJSON object."))},lt.prototype.removeSource=function(Et,kt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),kt()},lt.prototype.getClusterExpansionZoom=function(Et,kt){try{kt(null,this._geoJSONIndex.getClusterExpansionZoom(Et.clusterId))}catch(Ot){kt(Ot)}},lt.prototype.getClusterChildren=function(Et,kt){try{kt(null,this._geoJSONIndex.getChildren(Et.clusterId))}catch(Ot){kt(Ot)}},lt.prototype.getClusterLeaves=function(Et,kt){try{kt(null,this._geoJSONIndex.getLeaves(Et.clusterId,Et.limit,Et.offset))}catch(Ot){kt(Ot)}},lt}(u);function mr(gt){var lt=gt.superclusterOptions,bt=gt.clusterProperties;if(!bt||!lt)return lt;for(var Et={},kt={},Ot={accumulated:null,zoom:0},Ft={properties:null},Bt=Object.keys(bt),Jt=0,hr=Bt;Jt<hr.length;Jt+=1){var cr=hr[Jt],dr=bt[cr],fr=dr[0],Lr=dr[1],xr=s.createExpression(Lr),Ke=s.createExpression(typeof fr=="string"?[fr,["accumulated"],["get",cr]]:fr);Et[cr]=xr.value,kt[cr]=Ke.value}return lt.map=function(et){Ft.properties=et;for(var er={},tr=0,Yt=Bt;tr<Yt.length;tr+=1){var Pt=Yt[tr];er[Pt]=Et[Pt].evaluate(Ot,Ft)}return er},lt.reduce=function(et,er){Ft.properties=er;for(var tr=0,Yt=Bt;tr<Yt.length;tr+=1){var Pt=Yt[tr];Ot.accumulated=et[Pt],et[Pt]=kt[Pt].evaluate(Ot,Ft)}},lt}var or=function(lt){var bt=this;this.self=lt,this.actor=new s.Actor(lt,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:u,geojson:$t},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Et,kt){if(bt.workerSourceTypes[Et])throw new Error('Worker source with name "'+Et+'" already registered.');bt.workerSourceTypes[Et]=kt},this.self.registerRTLTextPlugin=function(Et){if(s.plugin.isParsed())throw new Error("RTL text plugin already registered.");s.plugin.applyArabicShaping=Et.applyArabicShaping,s.plugin.processBidirectionalText=Et.processBidirectionalText,s.plugin.processStyledBidirectionalText=Et.processStyledBidirectionalText}};return or.prototype.setReferrer=function(lt,bt){this.referrer=bt},or.prototype.setImages=function(lt,bt,Et){this.availableImages[lt]=bt;for(var kt in this.workerSources[lt]){var Ot=this.workerSources[lt][kt];for(var Ft in Ot)Ot[Ft].availableImages=bt}Et()},or.prototype.setLayers=function(lt,bt,Et){this.getLayerIndex(lt).replace(bt),Et()},or.prototype.updateLayers=function(lt,bt,Et){this.getLayerIndex(lt).update(bt.layers,bt.removedIds),Et()},or.prototype.loadTile=function(lt,bt,Et){this.getWorkerSource(lt,bt.type,bt.source).loadTile(bt,Et)},or.prototype.loadDEMTile=function(lt,bt,Et){this.getDEMWorkerSource(lt,bt.source).loadTile(bt,Et)},or.prototype.reloadTile=function(lt,bt,Et){this.getWorkerSource(lt,bt.type,bt.source).reloadTile(bt,Et)},or.prototype.abortTile=function(lt,bt,Et){this.getWorkerSource(lt,bt.type,bt.source).abortTile(bt,Et)},or.prototype.removeTile=function(lt,bt,Et){this.getWorkerSource(lt,bt.type,bt.source).removeTile(bt,Et)},or.prototype.removeDEMTile=function(lt,bt){this.getDEMWorkerSource(lt,bt.source).removeTile(bt)},or.prototype.removeSource=function(lt,bt,Et){if(!(!this.workerSources[lt]||!this.workerSources[lt][bt.type]||!this.workerSources[lt][bt.type][bt.source])){var kt=this.workerSources[lt][bt.type][bt.source];delete this.workerSources[lt][bt.type][bt.source],kt.removeSource!==void 0?kt.removeSource(bt,Et):Et()}},or.prototype.loadWorkerSource=function(lt,bt,Et){try{this.self.importScripts(bt.url),Et()}catch(kt){Et(kt.toString())}},or.prototype.syncRTLPluginState=function(lt,bt,Et){try{s.plugin.setState(bt);var kt=s.plugin.getPluginURL();if(s.plugin.isLoaded()&&!s.plugin.isParsed()&&kt!=null){this.self.importScripts(kt);var Ot=s.plugin.isParsed(),Ft=Ot?void 0:new Error("RTL Text Plugin failed to import scripts from "+kt);Et(Ft,Ot)}}catch(Bt){Et(Bt.toString())}},or.prototype.getAvailableImages=function(lt){var bt=this.availableImages[lt];return bt||(bt=[]),bt},or.prototype.getLayerIndex=function(lt){var bt=this.layerIndexes[lt];return bt||(bt=this.layerIndexes[lt]=new p),bt},or.prototype.getWorkerSource=function(lt,bt,Et){var kt=this;if(this.workerSources[lt]||(this.workerSources[lt]={}),this.workerSources[lt][bt]||(this.workerSources[lt][bt]={}),!this.workerSources[lt][bt][Et]){var Ot={send:function(Ft,Bt,Jt){kt.actor.send(Ft,Bt,Jt,lt)}};this.workerSources[lt][bt][Et]=new this.workerSourceTypes[bt](Ot,this.getLayerIndex(lt),this.getAvailableImages(lt))}return this.workerSources[lt][bt][Et]},or.prototype.getDEMWorkerSource=function(lt,bt){return this.demWorkerSources[lt]||(this.demWorkerSources[lt]={}),this.demWorkerSources[lt][bt]||(this.demWorkerSources[lt][bt]=new g),this.demWorkerSources[lt][bt]},or.prototype.enforceCacheSizeLimit=function(lt,bt){s.enforceCacheSizeLimit(bt)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new or(self)),or}),P(["./shared"],function(s){var L=s.createCommonjsModule(function(ce){ce.exports?ce.exports=j:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=j,window.mapboxgl.notSupportedReason=de);function j(Wr){return!de(Wr)}function de(Wr){if(!ee())return"not a browser";if(!pe())return"insufficent Array support";if(!ze())return"insufficient Function support";if(!Ye())return"insufficient Object support";if(!ft())return"insufficient JSON support";if(!Ct())return"insufficient worker support";if(!Nt())return"insufficient Uint8ClampedArray support";if(!qt())return"insufficient ArrayBuffer support";if(!ur())return"insufficient Canvas/getImageData support";if(!Fr(Wr&&Wr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function ee(){return typeof window<"u"&&typeof document<"u"}function pe(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function ze(){return Function.prototype&&Function.prototype.bind}function Ye(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function ft(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function Ct(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Wr=new Blob([""],{type:"text/javascript"}),Jr=URL.createObjectURL(Wr),dn,kn;try{kn=new Worker(Jr),dn=!0}catch{dn=!1}return kn&&kn.terminate(),URL.revokeObjectURL(Jr),dn}function Nt(){return"Uint8ClampedArray"in window}function qt(){return ArrayBuffer.isView}function ur(){var Wr=document.createElement("canvas");Wr.width=Wr.height=1;var Jr=Wr.getContext("2d");if(!Jr)return!1;var dn=Jr.getImageData(0,0,1,1);return dn&&dn.width===Wr.width}var lr={};function Fr(Wr){return lr[Wr]===void 0&&(lr[Wr]=jr(Wr)),lr[Wr]}j.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function Zr(Wr){var Jr=document.createElement("canvas"),dn=Object.create(j.webGLContextAttributes);return dn.failIfMajorPerformanceCaveat=Wr,Jr.probablySupportsContext?Jr.probablySupportsContext("webgl",dn)||Jr.probablySupportsContext("experimental-webgl",dn):Jr.supportsContext?Jr.supportsContext("webgl",dn)||Jr.supportsContext("experimental-webgl",dn):Jr.getContext("webgl",dn)||Jr.getContext("experimental-webgl",dn)}function jr(Wr){var Jr=Zr(Wr);if(!Jr)return!1;var dn=Jr.createShader(Jr.VERTEX_SHADER);return!dn||Jr.isContextLost()?!1:(Jr.shaderSource(dn,"void main() {}"),Jr.compileShader(dn),Jr.getShaderParameter(dn,Jr.COMPILE_STATUS)===!0)}}),M={};M.create=function(ce,j,de){var ee=s.window.document.createElement(ce);return j!==void 0&&(ee.className=j),de&&de.appendChild(ee),ee},M.createNS=function(ce,j){var de=s.window.document.createElementNS(ce,j);return de};var v=s.window.document&&s.window.document.documentElement.style;function p(ce){if(!v)return ce[0];for(var j=0;j<ce.length;j++)if(ce[j]in v)return ce[j];return ce[0]}var r=p(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),t;M.disableDrag=function(){v&&r&&(t=v[r],v[r]="none")},M.enableDrag=function(){v&&r&&(v[r]=t)};var o=p(["transform","WebkitTransform"]);M.setTransform=function(ce,j){ce.style[o]=j};var n=!1;try{var l=Object.defineProperty({},"passive",{get:function(){n=!0}});s.window.addEventListener("test",l,l),s.window.removeEventListener("test",l,l)}catch{n=!1}M.addEventListener=function(ce,j,de,ee){ee===void 0&&(ee={}),"passive"in ee&&n?ce.addEventListener(j,de,ee):ce.addEventListener(j,de,ee.capture)},M.removeEventListener=function(ce,j,de,ee){ee===void 0&&(ee={}),"passive"in ee&&n?ce.removeEventListener(j,de,ee):ce.removeEventListener(j,de,ee.capture)};var u=function(ce){ce.preventDefault(),ce.stopPropagation(),s.window.removeEventListener("click",u,!0)};M.suppressClick=function(){s.window.addEventListener("click",u,!0),s.window.setTimeout(function(){s.window.removeEventListener("click",u,!0)},0)},M.mousePos=function(ce,j){var de=ce.getBoundingClientRect();return new s.Point(j.clientX-de.left-ce.clientLeft,j.clientY-de.top-ce.clientTop)},M.touchPos=function(ce,j){for(var de=ce.getBoundingClientRect(),ee=[],pe=0;pe<j.length;pe++)ee.push(new s.Point(j[pe].clientX-de.left-ce.clientLeft,j[pe].clientY-de.top-ce.clientTop));return ee},M.mouseButton=function(ce){return typeof s.window.InstallTrigger<"u"&&ce.button===2&&ce.ctrlKey&&s.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:ce.button},M.remove=function(ce){ce.parentNode&&ce.parentNode.removeChild(ce)};function f(ce,j,de){var ee,pe,ze,Ye=s.browser.devicePixelRatio>1?"@2x":"",ft=s.getJSON(j.transformRequest(j.normalizeSpriteURL(ce,Ye,".json"),s.ResourceType.SpriteJSON),function(qt,ur){ft=null,ze||(ze=qt,ee=ur,Nt())}),Ct=s.getImage(j.transformRequest(j.normalizeSpriteURL(ce,Ye,".png"),s.ResourceType.SpriteImage),function(qt,ur){Ct=null,ze||(ze=qt,pe=ur,Nt())});function Nt(){if(ze)de(ze);else if(ee&&pe){var qt=s.browser.getImageData(pe),ur={};for(var lr in ee){var Fr=ee[lr],Zr=Fr.width,jr=Fr.height,Wr=Fr.x,Jr=Fr.y,dn=Fr.sdf,kn=Fr.pixelRatio,Un=Fr.stretchX,Xn=Fr.stretchY,Zn=Fr.content,Gn=new s.RGBAImage({width:Zr,height:jr});s.RGBAImage.copy(qt,Gn,{x:Wr,y:Jr},{x:0,y:0},{width:Zr,height:jr}),ur[lr]={data:Gn,pixelRatio:kn,sdf:dn,stretchX:Un,stretchY:Xn,content:Zn}}de(null,ur)}}return{cancel:function(){ft&&(ft.cancel(),ft=null),Ct&&(Ct.cancel(),Ct=null)}}}function g(ce){var j=ce.userImage;if(j&&j.render){var de=j.render();if(de)return ce.data.replace(new Uint8Array(j.data.buffer)),!0}return!1}var h=1,w=function(ce){function j(){ce.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new s.RGBAImage({width:1,height:1}),this.dirty=!0}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.isLoaded=function(){return this.loaded},j.prototype.setLoaded=function(ee){if(this.loaded!==ee&&(this.loaded=ee,ee)){for(var pe=0,ze=this.requestors;pe<ze.length;pe+=1){var Ye=ze[pe],ft=Ye.ids,Ct=Ye.callback;this._notify(ft,Ct)}this.requestors=[]}},j.prototype.getImage=function(ee){return this.images[ee]},j.prototype.addImage=function(ee,pe){this._validate(ee,pe)&&(this.images[ee]=pe)},j.prototype._validate=function(ee,pe){var ze=!0;return this._validateStretch(pe.stretchX,pe.data&&pe.data.width)||(this.fire(new s.ErrorEvent(new Error('Image "'+ee+'" has invalid "stretchX" value'))),ze=!1),this._validateStretch(pe.stretchY,pe.data&&pe.data.height)||(this.fire(new s.ErrorEvent(new Error('Image "'+ee+'" has invalid "stretchY" value'))),ze=!1),this._validateContent(pe.content,pe)||(this.fire(new s.ErrorEvent(new Error('Image "'+ee+'" has invalid "content" value'))),ze=!1),ze},j.prototype._validateStretch=function(ee,pe){if(!ee)return!0;for(var ze=0,Ye=0,ft=ee;Ye<ft.length;Ye+=1){var Ct=ft[Ye];if(Ct[0]<ze||Ct[1]<Ct[0]||pe<Ct[1])return!1;ze=Ct[1]}return!0},j.prototype._validateContent=function(ee,pe){return ee?!(ee.length!==4||ee[0]<0||pe.data.width<ee[0]||ee[1]<0||pe.data.height<ee[1]||ee[2]<0||pe.data.width<ee[2]||ee[3]<0||pe.data.height<ee[3]||ee[2]<ee[0]||ee[3]<ee[1]):!0},j.prototype.updateImage=function(ee,pe){var ze=this.images[ee];pe.version=ze.version+1,this.images[ee]=pe,this.updatedImages[ee]=!0},j.prototype.removeImage=function(ee){var pe=this.images[ee];delete this.images[ee],delete this.patterns[ee],pe.userImage&&pe.userImage.onRemove&&pe.userImage.onRemove()},j.prototype.listImages=function(){return Object.keys(this.images)},j.prototype.getImages=function(ee,pe){var ze=!0;if(!this.isLoaded())for(var Ye=0,ft=ee;Ye<ft.length;Ye+=1){var Ct=ft[Ye];this.images[Ct]||(ze=!1)}this.isLoaded()||ze?this._notify(ee,pe):this.requestors.push({ids:ee,callback:pe})},j.prototype._notify=function(ee,pe){for(var ze={},Ye=0,ft=ee;Ye<ft.length;Ye+=1){var Ct=ft[Ye];this.images[Ct]||this.fire(new s.Event("styleimagemissing",{id:Ct}));var Nt=this.images[Ct];Nt?ze[Ct]={data:Nt.data.clone(),pixelRatio:Nt.pixelRatio,sdf:Nt.sdf,version:Nt.version,stretchX:Nt.stretchX,stretchY:Nt.stretchY,content:Nt.content,hasRenderCallback:!!(Nt.userImage&&Nt.userImage.render)}:s.warnOnce('Image "'+Ct+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}pe(null,ze)},j.prototype.getPixelSize=function(){var ee=this.atlasImage,pe=ee.width,ze=ee.height;return{width:pe,height:ze}},j.prototype.getPattern=function(ee){var pe=this.patterns[ee],ze=this.getImage(ee);if(!ze)return null;if(pe&&pe.position.version===ze.version)return pe.position;if(pe)pe.position.version=ze.version;else{var Ye=ze.data.width+h*2,ft=ze.data.height+h*2,Ct={w:Ye,h:ft,x:0,y:0},Nt=new s.ImagePosition(Ct,ze);this.patterns[ee]={bin:Ct,position:Nt}}return this._updatePatternAtlas(),this.patterns[ee].position},j.prototype.bind=function(ee){var pe=ee.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new s.Texture(ee,this.atlasImage,pe.RGBA),this.atlasTexture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE)},j.prototype._updatePatternAtlas=function(){var ee=[];for(var pe in this.patterns)ee.push(this.patterns[pe].bin);var ze=s.potpack(ee),Ye=ze.w,ft=ze.h,Ct=this.atlasImage;Ct.resize({width:Ye||1,height:ft||1});for(var Nt in this.patterns){var qt=this.patterns[Nt],ur=qt.bin,lr=ur.x+h,Fr=ur.y+h,Zr=this.images[Nt].data,jr=Zr.width,Wr=Zr.height;s.RGBAImage.copy(Zr,Ct,{x:0,y:0},{x:lr,y:Fr},{width:jr,height:Wr}),s.RGBAImage.copy(Zr,Ct,{x:0,y:Wr-1},{x:lr,y:Fr-1},{width:jr,height:1}),s.RGBAImage.copy(Zr,Ct,{x:0,y:0},{x:lr,y:Fr+Wr},{width:jr,height:1}),s.RGBAImage.copy(Zr,Ct,{x:jr-1,y:0},{x:lr-1,y:Fr},{width:1,height:Wr}),s.RGBAImage.copy(Zr,Ct,{x:0,y:0},{x:lr+jr,y:Fr},{width:1,height:Wr})}this.dirty=!0},j.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},j.prototype.dispatchRenderCallbacks=function(ee){for(var pe=0,ze=ee;pe<ze.length;pe+=1){var Ye=ze[pe];if(!this.callbackDispatchedThisFrame[Ye]){this.callbackDispatchedThisFrame[Ye]=!0;var ft=this.images[Ye],Ct=g(ft);Ct&&this.updateImage(Ye,ft)}}},j}(s.Evented);function c(ce,j,de,ee,pe){var ze=j*256,Ye=ze+255,ft=ee.transformRequest(ee.normalizeGlyphsURL(de).replace("{fontstack}",ce).replace("{range}",ze+"-"+Ye),s.ResourceType.Glyphs);s.getArrayBuffer(ft,function(Ct,Nt){if(Ct)pe(Ct);else if(Nt){for(var qt={},ur=0,lr=s.parseGlyphPBF(Nt);ur<lr.length;ur+=1){var Fr=lr[ur];qt[Fr.id]=Fr}pe(null,qt)}})}var a=T,d=T,x=1e20;function T(ce,j,de,ee,pe,ze){this.fontSize=ce||24,this.buffer=j===void 0?3:j,this.cutoff=ee||.25,this.fontFamily=pe||"sans-serif",this.fontWeight=ze||"normal",this.radius=de||8;var Ye=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Ye,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Ye*Ye),this.gridInner=new Float64Array(Ye*Ye),this.f=new Float64Array(Ye),this.d=new Float64Array(Ye),this.z=new Float64Array(Ye+1),this.v=new Int16Array(Ye),this.middle=Math.round(Ye/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}T.prototype.draw=function(ce){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(ce,this.buffer,this.middle);for(var j=this.ctx.getImageData(0,0,this.size,this.size),de=new Uint8ClampedArray(this.size*this.size),ee=0;ee<this.size*this.size;ee++){var pe=j.data[ee*4+3]/255;this.gridOuter[ee]=pe===1?0:pe===0?x:Math.pow(Math.max(0,.5-pe),2),this.gridInner[ee]=pe===1?x:pe===0?0:Math.pow(Math.max(0,pe-.5),2)}for(C(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),C(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),ee=0;ee<this.size*this.size;ee++){var ze=this.gridOuter[ee]-this.gridInner[ee];de[ee]=Math.max(0,Math.min(255,Math.round(255-255*(ze/this.radius+this.cutoff))))}return de};function C(ce,j,de,ee,pe,ze,Ye){for(var ft=0;ft<j;ft++){for(var Ct=0;Ct<de;Ct++)ee[Ct]=ce[Ct*j+ft];for(y(ee,pe,ze,Ye,de),Ct=0;Ct<de;Ct++)ce[Ct*j+ft]=pe[Ct]}for(Ct=0;Ct<de;Ct++){for(ft=0;ft<j;ft++)ee[ft]=ce[Ct*j+ft];for(y(ee,pe,ze,Ye,j),ft=0;ft<j;ft++)ce[Ct*j+ft]=Math.sqrt(pe[ft])}}function y(ce,j,de,ee,pe){de[0]=0,ee[0]=-x,ee[1]=+x;for(var ze=1,Ye=0;ze<pe;ze++){for(var ft=(ce[ze]+ze*ze-(ce[de[Ye]]+de[Ye]*de[Ye]))/(2*ze-2*de[Ye]);ft<=ee[Ye];)Ye--,ft=(ce[ze]+ze*ze-(ce[de[Ye]]+de[Ye]*de[Ye]))/(2*ze-2*de[Ye]);Ye++,de[Ye]=ze,ee[Ye]=ft,ee[Ye+1]=+x}for(ze=0,Ye=0;ze<pe;ze++){for(;ee[Ye+1]<ze;)Ye++;j[ze]=(ze-de[Ye])*(ze-de[Ye])+ce[de[Ye]]}}a.default=d;var S=function(j,de){this.requestManager=j,this.localIdeographFontFamily=de,this.entries={}};S.prototype.setURL=function(j){this.url=j},S.prototype.getGlyphs=function(j,de){var ee=this,pe=[];for(var ze in j)for(var Ye=0,ft=j[ze];Ye<ft.length;Ye+=1){var Ct=ft[Ye];pe.push({stack:ze,id:Ct})}s.asyncAll(pe,function(Nt,qt){var ur=Nt.stack,lr=Nt.id,Fr=ee.entries[ur];Fr||(Fr=ee.entries[ur]={glyphs:{},requests:{},ranges:{}});var Zr=Fr.glyphs[lr];if(Zr!==void 0){qt(null,{stack:ur,id:lr,glyph:Zr});return}if(Zr=ee._tinySDF(Fr,ur,lr),Zr){Fr.glyphs[lr]=Zr,qt(null,{stack:ur,id:lr,glyph:Zr});return}var jr=Math.floor(lr/256);if(jr*256>65535){qt(new Error("glyphs > 65535 not supported"));return}if(Fr.ranges[jr]){qt(null,{stack:ur,id:lr,glyph:Zr});return}var Wr=Fr.requests[jr];Wr||(Wr=Fr.requests[jr]=[],S.loadGlyphRange(ur,jr,ee.url,ee.requestManager,function(Jr,dn){if(dn){for(var kn in dn)ee._doesCharSupportLocalGlyph(+kn)||(Fr.glyphs[+kn]=dn[+kn]);Fr.ranges[jr]=!0}for(var Un=0,Xn=Wr;Un<Xn.length;Un+=1){var Zn=Xn[Un];Zn(Jr,dn)}delete Fr.requests[jr]})),Wr.push(function(Jr,dn){Jr?qt(Jr):dn&&qt(null,{stack:ur,id:lr,glyph:dn[lr]||null})})},function(Nt,qt){if(Nt)de(Nt);else if(qt){for(var ur={},lr=0,Fr=qt;lr<Fr.length;lr+=1){var Zr=Fr[lr],jr=Zr.stack,Wr=Zr.id,Jr=Zr.glyph;(ur[jr]||(ur[jr]={}))[Wr]=Jr&&{id:Jr.id,bitmap:Jr.bitmap.clone(),metrics:Jr.metrics}}de(null,ur)}})},S.prototype._doesCharSupportLocalGlyph=function(j){return!!this.localIdeographFontFamily&&(s.isChar["CJK Unified Ideographs"](j)||s.isChar["Hangul Syllables"](j)||s.isChar.Hiragana(j)||s.isChar.Katakana(j))},S.prototype._tinySDF=function(j,de,ee){var pe=this.localIdeographFontFamily;if(pe&&this._doesCharSupportLocalGlyph(ee)){var ze=j.tinySDF;if(!ze){var Ye="400";/bold/i.test(de)?Ye="900":/medium/i.test(de)?Ye="500":/light/i.test(de)&&(Ye="200"),ze=j.tinySDF=new S.TinySDF(24,3,8,.25,pe,Ye)}return{id:ee,bitmap:new s.AlphaImage({width:30,height:30},ze.draw(String.fromCharCode(ee))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},S.loadGlyphRange=c,S.TinySDF=a;var A=function(){this.specification=s.styleSpec.light.position};A.prototype.possiblyEvaluate=function(j,de){return s.sphericalToCartesian(j.expression.evaluate(de))},A.prototype.interpolate=function(j,de,ee){return{x:s.number(j.x,de.x,ee),y:s.number(j.y,de.y,ee),z:s.number(j.z,de.z,ee)}};var i=new s.Properties({anchor:new s.DataConstantProperty(s.styleSpec.light.anchor),position:new A,color:new s.DataConstantProperty(s.styleSpec.light.color),intensity:new s.DataConstantProperty(s.styleSpec.light.intensity)}),E="-transition",m=function(ce){function j(de){ce.call(this),this._transitionable=new s.Transitionable(i),this.setLight(de),this._transitioning=this._transitionable.untransitioned()}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getLight=function(){return this._transitionable.serialize()},j.prototype.setLight=function(ee,pe){if(pe===void 0&&(pe={}),!this._validate(s.validateLight,ee,pe))for(var ze in ee){var Ye=ee[ze];s.endsWith(ze,E)?this._transitionable.setTransition(ze.slice(0,-E.length),Ye):this._transitionable.setValue(ze,Ye)}},j.prototype.updateTransitions=function(ee){this._transitioning=this._transitionable.transitioned(ee,this._transitioning)},j.prototype.hasTransition=function(){return this._transitioning.hasTransition()},j.prototype.recalculate=function(ee){this.properties=this._transitioning.possiblyEvaluate(ee)},j.prototype._validate=function(ee,pe,ze){return ze&&ze.validate===!1?!1:s.emitValidationErrors(this,ee.call(s.validateStyle,s.extend({value:pe,style:{glyphs:!0,sprite:!0},styleSpec:s.styleSpec})))},j}(s.Evented),k=function(j,de){this.width=j,this.height=de,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};k.prototype.getDash=function(j,de){var ee=j.join(",")+String(de);return this.dashEntry[ee]||(this.dashEntry[ee]=this.addDash(j,de)),this.dashEntry[ee]},k.prototype.getDashRanges=function(j,de,ee){var pe=j.length%2===1,ze=[],Ye=pe?-j[j.length-1]*ee:0,ft=j[0]*ee,Ct=!0;ze.push({left:Ye,right:ft,isDash:Ct,zeroLength:j[0]===0});for(var Nt=j[0],qt=1;qt<j.length;qt++){Ct=!Ct;var ur=j[qt];Ye=Nt*ee,Nt+=ur,ft=Nt*ee,ze.push({left:Ye,right:ft,isDash:Ct,zeroLength:ur===0})}return ze},k.prototype.addRoundDash=function(j,de,ee){for(var pe=de/2,ze=-ee;ze<=ee;ze++)for(var Ye=this.nextRow+ee+ze,ft=this.width*Ye,Ct=0,Nt=j[Ct],qt=0;qt<this.width;qt++){qt/Nt.right>1&&(Nt=j[++Ct]);var ur=Math.abs(qt-Nt.left),lr=Math.abs(qt-Nt.right),Fr=Math.min(ur,lr),Zr=void 0,jr=ze/ee*(pe+1);if(Nt.isDash){var Wr=pe-Math.abs(jr);Zr=Math.sqrt(Fr*Fr+Wr*Wr)}else Zr=pe-Math.sqrt(Fr*Fr+jr*jr);this.data[ft+qt]=Math.max(0,Math.min(255,Zr+128))}},k.prototype.addRegularDash=function(j){for(var de=j.length-1;de>=0;--de){var ee=j[de],pe=j[de+1];ee.zeroLength?j.splice(de,1):pe&&pe.isDash===ee.isDash&&(pe.left=ee.left,j.splice(de,1))}var ze=j[0],Ye=j[j.length-1];ze.isDash===Ye.isDash&&(ze.left=Ye.left-this.width,Ye.right=ze.right+this.width);for(var ft=this.width*this.nextRow,Ct=0,Nt=j[Ct],qt=0;qt<this.width;qt++){qt/Nt.right>1&&(Nt=j[++Ct]);var ur=Math.abs(qt-Nt.left),lr=Math.abs(qt-Nt.right),Fr=Math.min(ur,lr),Zr=Nt.isDash?Fr:-Fr;this.data[ft+qt]=Math.max(0,Math.min(255,Zr+128))}},k.prototype.addDash=function(j,de){var ee=de?7:0,pe=2*ee+1;if(this.nextRow+pe>this.height)return s.warnOnce("LineAtlas out of space"),null;for(var ze=0,Ye=0;Ye<j.length;Ye++)ze+=j[Ye];if(ze!==0){var ft=this.width/ze,Ct=this.getDashRanges(j,this.width,ft);de?this.addRoundDash(Ct,ft,ee):this.addRegularDash(Ct)}var Nt={y:(this.nextRow+ee+.5)/this.height,height:2*ee/this.height,width:ze};return this.nextRow+=pe,this.dirty=!0,Nt},k.prototype.bind=function(j){var de=j.gl;this.texture?(de.bindTexture(de.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,de.texSubImage2D(de.TEXTURE_2D,0,0,0,this.width,this.height,de.ALPHA,de.UNSIGNED_BYTE,this.data))):(this.texture=de.createTexture(),de.bindTexture(de.TEXTURE_2D,this.texture),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_WRAP_S,de.REPEAT),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_WRAP_T,de.REPEAT),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_MIN_FILTER,de.LINEAR),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_MAG_FILTER,de.LINEAR),de.texImage2D(de.TEXTURE_2D,0,de.ALPHA,this.width,this.height,0,de.ALPHA,de.UNSIGNED_BYTE,this.data))};var I=function ce(j,de){this.workerPool=j,this.actors=[],this.currentActor=0,this.id=s.uniqueId();for(var ee=this.workerPool.acquire(this.id),pe=0;pe<ee.length;pe++){var ze=ee[pe],Ye=new ce.Actor(ze,de,this.id);Ye.name="Worker "+pe,this.actors.push(Ye)}};I.prototype.broadcast=function(j,de,ee){ee=ee||function(){},s.asyncAll(this.actors,function(pe,ze){pe.send(j,de,ze)},ee)},I.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},I.prototype.remove=function(){this.actors.forEach(function(j){j.remove()}),this.actors=[],this.workerPool.release(this.id)},I.Actor=s.Actor;function O(ce,j,de){var ee=function(pe,ze){if(pe)return de(pe);if(ze){var Ye=s.pick(s.extend(ze,ce),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);ze.vector_layers&&(Ye.vectorLayers=ze.vector_layers,Ye.vectorLayerIds=Ye.vectorLayers.map(function(ft){return ft.id})),Ye.tiles=j.canonicalizeTileset(Ye,ce.url),de(null,Ye)}};return ce.url?s.getJSON(j.transformRequest(j.normalizeSourceURL(ce.url),s.ResourceType.Source),ee):s.browser.frame(function(){return ee(null,ce)})}var _=function(j,de,ee){this.bounds=s.LngLatBounds.convert(this.validateBounds(j)),this.minzoom=de||0,this.maxzoom=ee||24};_.prototype.validateBounds=function(j){return!Array.isArray(j)||j.length!==4?[-180,-90,180,90]:[Math.max(-180,j[0]),Math.max(-90,j[1]),Math.min(180,j[2]),Math.min(90,j[3])]},_.prototype.contains=function(j){var de=Math.pow(2,j.z),ee={minX:Math.floor(s.mercatorXfromLng(this.bounds.getWest())*de),minY:Math.floor(s.mercatorYfromLat(this.bounds.getNorth())*de),maxX:Math.ceil(s.mercatorXfromLng(this.bounds.getEast())*de),maxY:Math.ceil(s.mercatorYfromLat(this.bounds.getSouth())*de)},pe=j.x>=ee.minX&&j.x<ee.maxX&&j.y>=ee.minY&&j.y<ee.maxY;return pe};var B=function(ce){function j(de,ee,pe,ze){if(ce.call(this),this.id=de,this.dispatcher=pe,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,s.extend(this,s.pick(ee,["url","scheme","tileSize","promoteId"])),this._options=s.extend({type:"vector"},ee),this._collectResourceTiming=ee.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(ze)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.load=function(){var ee=this;this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=O(this._options,this.map._requestManager,function(pe,ze){ee._tileJSONRequest=null,ee._loaded=!0,pe?ee.fire(new s.ErrorEvent(pe)):ze&&(s.extend(ee,ze),ze.bounds&&(ee.tileBounds=new _(ze.bounds,ee.minzoom,ee.maxzoom)),s.postTurnstileEvent(ze.tiles,ee.map._requestManager._customAccessToken),s.postMapLoadEvent(ze.tiles,ee.map._getMapId(),ee.map._requestManager._skuToken,ee.map._requestManager._customAccessToken),ee.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),ee.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})))})},j.prototype.loaded=function(){return this._loaded},j.prototype.hasTile=function(ee){return!this.tileBounds||this.tileBounds.contains(ee.canonical)},j.prototype.onAdd=function(ee){this.map=ee,this.load()},j.prototype.setSourceProperty=function(ee){this._tileJSONRequest&&this._tileJSONRequest.cancel(),ee();var pe=this.map.style.sourceCaches[this.id];pe.clearTiles(),this.load()},j.prototype.setTiles=function(ee){var pe=this;return this.setSourceProperty(function(){pe._options.tiles=ee}),this},j.prototype.setUrl=function(ee){var pe=this;return this.setSourceProperty(function(){pe.url=ee,pe._options.url=ee}),this},j.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},j.prototype.serialize=function(){return s.extend({},this._options)},j.prototype.loadTile=function(ee,pe){var ze=this.map._requestManager.normalizeTileURL(ee.tileID.canonical.url(this.tiles,this.scheme)),Ye={request:this.map._requestManager.transformRequest(ze,s.ResourceType.Tile),uid:ee.uid,tileID:ee.tileID,zoom:ee.tileID.overscaledZ,tileSize:this.tileSize*ee.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:s.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};Ye.request.collectResourceTiming=this._collectResourceTiming,!ee.actor||ee.state==="expired"?(ee.actor=this.dispatcher.getActor(),ee.request=ee.actor.send("loadTile",Ye,ft.bind(this))):ee.state==="loading"?ee.reloadCallback=pe:ee.request=ee.actor.send("reloadTile",Ye,ft.bind(this));function ft(Ct,Nt){if(delete ee.request,ee.aborted)return pe(null);if(Ct&&Ct.status!==404)return pe(Ct);Nt&&Nt.resourceTiming&&(ee.resourceTiming=Nt.resourceTiming),this.map._refreshExpiredTiles&&Nt&&ee.setExpiryData(Nt),ee.loadVectorData(Nt,this.map.painter),s.cacheEntryPossiblyAdded(this.dispatcher),pe(null),ee.reloadCallback&&(this.loadTile(ee,ee.reloadCallback),ee.reloadCallback=null)}},j.prototype.abortTile=function(ee){ee.request&&(ee.request.cancel(),delete ee.request),ee.actor&&ee.actor.send("abortTile",{uid:ee.uid,type:this.type,source:this.id},void 0)},j.prototype.unloadTile=function(ee){ee.unloadVectorData(),ee.actor&&ee.actor.send("removeTile",{uid:ee.uid,type:this.type,source:this.id},void 0)},j.prototype.hasTransition=function(){return!1},j}(s.Evented),F=function(ce){function j(de,ee,pe,ze){ce.call(this),this.id=de,this.dispatcher=pe,this.setEventedParent(ze),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=s.extend({type:"raster"},ee),s.extend(this,s.pick(ee,["url","scheme","tileSize"]))}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.load=function(){var ee=this;this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=O(this._options,this.map._requestManager,function(pe,ze){ee._tileJSONRequest=null,ee._loaded=!0,pe?ee.fire(new s.ErrorEvent(pe)):ze&&(s.extend(ee,ze),ze.bounds&&(ee.tileBounds=new _(ze.bounds,ee.minzoom,ee.maxzoom)),s.postTurnstileEvent(ze.tiles),s.postMapLoadEvent(ze.tiles,ee.map._getMapId(),ee.map._requestManager._skuToken),ee.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),ee.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})))})},j.prototype.loaded=function(){return this._loaded},j.prototype.onAdd=function(ee){this.map=ee,this.load()},j.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},j.prototype.serialize=function(){return s.extend({},this._options)},j.prototype.hasTile=function(ee){return!this.tileBounds||this.tileBounds.contains(ee.canonical)},j.prototype.loadTile=function(ee,pe){var ze=this,Ye=this.map._requestManager.normalizeTileURL(ee.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);ee.request=s.getImage(this.map._requestManager.transformRequest(Ye,s.ResourceType.Tile),function(ft,Ct){if(delete ee.request,ee.aborted)ee.state="unloaded",pe(null);else if(ft)ee.state="errored",pe(ft);else if(Ct){ze.map._refreshExpiredTiles&&ee.setExpiryData(Ct),delete Ct.cacheControl,delete Ct.expires;var Nt=ze.map.painter.context,qt=Nt.gl;ee.texture=ze.map.painter.getTileTexture(Ct.width),ee.texture?ee.texture.update(Ct,{useMipmap:!0}):(ee.texture=new s.Texture(Nt,Ct,qt.RGBA,{useMipmap:!0}),ee.texture.bind(qt.LINEAR,qt.CLAMP_TO_EDGE,qt.LINEAR_MIPMAP_NEAREST),Nt.extTextureFilterAnisotropic&&qt.texParameterf(qt.TEXTURE_2D,Nt.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Nt.extTextureFilterAnisotropicMax)),ee.state="loaded",s.cacheEntryPossiblyAdded(ze.dispatcher),pe(null)}})},j.prototype.abortTile=function(ee,pe){ee.request&&(ee.request.cancel(),delete ee.request),pe()},j.prototype.unloadTile=function(ee,pe){ee.texture&&this.map.painter.saveTileTexture(ee.texture),pe()},j.prototype.hasTransition=function(){return!1},j}(s.Evented),z=function(ce){function j(de,ee,pe,ze){ce.call(this,de,ee,pe,ze),this.type="raster-dem",this.maxzoom=22,this._options=s.extend({type:"raster-dem"},ee),this.encoding=ee.encoding||"mapbox"}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},j.prototype.loadTile=function(ee,pe){var ze=this.map._requestManager.normalizeTileURL(ee.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);ee.request=s.getImage(this.map._requestManager.transformRequest(ze,s.ResourceType.Tile),Ye.bind(this)),ee.neighboringTiles=this._getNeighboringTiles(ee.tileID);function Ye(Ct,Nt){if(delete ee.request,ee.aborted)ee.state="unloaded",pe(null);else if(Ct)ee.state="errored",pe(Ct);else if(Nt){this.map._refreshExpiredTiles&&ee.setExpiryData(Nt),delete Nt.cacheControl,delete Nt.expires;var qt=s.window.ImageBitmap&&Nt instanceof s.window.ImageBitmap&&s.offscreenCanvasSupported(),ur=qt?Nt:s.browser.getImageData(Nt,1),lr={uid:ee.uid,coord:ee.tileID,source:this.id,rawImageData:ur,encoding:this.encoding};(!ee.actor||ee.state==="expired")&&(ee.actor=this.dispatcher.getActor(),ee.actor.send("loadDEMTile",lr,ft.bind(this)))}}function ft(Ct,Nt){Ct&&(ee.state="errored",pe(Ct)),Nt&&(ee.dem=Nt,ee.needsHillshadePrepare=!0,ee.state="loaded",pe(null))}},j.prototype._getNeighboringTiles=function(ee){var pe=ee.canonical,ze=Math.pow(2,pe.z),Ye=(pe.x-1+ze)%ze,ft=pe.x===0?ee.wrap-1:ee.wrap,Ct=(pe.x+1+ze)%ze,Nt=pe.x+1===ze?ee.wrap+1:ee.wrap,qt={};return qt[new s.OverscaledTileID(ee.overscaledZ,ft,pe.z,Ye,pe.y).key]={backfilled:!1},qt[new s.OverscaledTileID(ee.overscaledZ,Nt,pe.z,Ct,pe.y).key]={backfilled:!1},pe.y>0&&(qt[new s.OverscaledTileID(ee.overscaledZ,ft,pe.z,Ye,pe.y-1).key]={backfilled:!1},qt[new s.OverscaledTileID(ee.overscaledZ,ee.wrap,pe.z,pe.x,pe.y-1).key]={backfilled:!1},qt[new s.OverscaledTileID(ee.overscaledZ,Nt,pe.z,Ct,pe.y-1).key]={backfilled:!1}),pe.y+1<ze&&(qt[new s.OverscaledTileID(ee.overscaledZ,ft,pe.z,Ye,pe.y+1).key]={backfilled:!1},qt[new s.OverscaledTileID(ee.overscaledZ,ee.wrap,pe.z,pe.x,pe.y+1).key]={backfilled:!1},qt[new s.OverscaledTileID(ee.overscaledZ,Nt,pe.z,Ct,pe.y+1).key]={backfilled:!1}),qt},j.prototype.unloadTile=function(ee){ee.demTexture&&this.map.painter.saveTileTexture(ee.demTexture),ee.fbo&&(ee.fbo.destroy(),delete ee.fbo),ee.dem&&delete ee.dem,delete ee.neighboringTiles,ee.state="unloaded",ee.actor&&ee.actor.send("removeDEMTile",{uid:ee.uid,source:this.id})},j}(F),N=function(ce){function j(de,ee,pe,ze){ce.call(this),this.id=de,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=pe.getActor(),this.setEventedParent(ze),this._data=ee.data,this._options=s.extend({},ee),this._collectResourceTiming=ee.collectResourceTiming,this._resourceTiming=[],ee.maxzoom!==void 0&&(this.maxzoom=ee.maxzoom),ee.type&&(this.type=ee.type),ee.attribution&&(this.attribution=ee.attribution),this.promoteId=ee.promoteId;var Ye=s.EXTENT/this.tileSize;this.workerOptions=s.extend({source:this.id,cluster:ee.cluster||!1,geojsonVtOptions:{buffer:(ee.buffer!==void 0?ee.buffer:128)*Ye,tolerance:(ee.tolerance!==void 0?ee.tolerance:.375)*Ye,extent:s.EXTENT,maxZoom:this.maxzoom,lineMetrics:ee.lineMetrics||!1,generateId:ee.generateId||!1},superclusterOptions:{maxZoom:ee.clusterMaxZoom!==void 0?Math.min(ee.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,ee.clusterMinPoints||2),extent:s.EXTENT,radius:(ee.clusterRadius||50)*Ye,log:!1,generateId:ee.generateId||!1},clusterProperties:ee.clusterProperties,filter:ee.filter},ee.workerOptions)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.load=function(){var ee=this;this.fire(new s.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(pe){if(pe){ee.fire(new s.ErrorEvent(pe));return}var ze={dataType:"source",sourceDataType:"metadata"};ee._collectResourceTiming&&ee._resourceTiming&&ee._resourceTiming.length>0&&(ze.resourceTiming=ee._resourceTiming,ee._resourceTiming=[]),ee.fire(new s.Event("data",ze))})},j.prototype.onAdd=function(ee){this.map=ee,this.load()},j.prototype.setData=function(ee){var pe=this;return this._data=ee,this.fire(new s.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ze){if(ze){pe.fire(new s.ErrorEvent(ze));return}var Ye={dataType:"source",sourceDataType:"content"};pe._collectResourceTiming&&pe._resourceTiming&&pe._resourceTiming.length>0&&(Ye.resourceTiming=pe._resourceTiming,pe._resourceTiming=[]),pe.fire(new s.Event("data",Ye))}),this},j.prototype.getClusterExpansionZoom=function(ee,pe){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:ee,source:this.id},pe),this},j.prototype.getClusterChildren=function(ee,pe){return this.actor.send("geojson.getClusterChildren",{clusterId:ee,source:this.id},pe),this},j.prototype.getClusterLeaves=function(ee,pe,ze,Ye){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:ee,limit:pe,offset:ze},Ye),this},j.prototype._updateWorkerData=function(ee){var pe=this;this._loaded=!1;var ze=s.extend({},this.workerOptions),Ye=this._data;typeof Ye=="string"?(ze.request=this.map._requestManager.transformRequest(s.browser.resolveURL(Ye),s.ResourceType.Source),ze.request.collectResourceTiming=this._collectResourceTiming):ze.data=JSON.stringify(Ye),this.actor.send(this.type+".loadData",ze,function(ft,Ct){pe._removed||Ct&&Ct.abandoned||(pe._loaded=!0,Ct&&Ct.resourceTiming&&Ct.resourceTiming[pe.id]&&(pe._resourceTiming=Ct.resourceTiming[pe.id].slice(0)),pe.actor.send(pe.type+".coalesce",{source:ze.source},null),ee(ft))})},j.prototype.loaded=function(){return this._loaded},j.prototype.loadTile=function(ee,pe){var ze=this,Ye=ee.actor?"reloadTile":"loadTile";ee.actor=this.actor;var ft={type:this.type,uid:ee.uid,tileID:ee.tileID,zoom:ee.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:s.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};ee.request=this.actor.send(Ye,ft,function(Ct,Nt){return delete ee.request,ee.unloadVectorData(),ee.aborted?pe(null):Ct?pe(Ct):(ee.loadVectorData(Nt,ze.map.painter,Ye==="reloadTile"),pe(null))})},j.prototype.abortTile=function(ee){ee.request&&(ee.request.cancel(),delete ee.request),ee.aborted=!0},j.prototype.unloadTile=function(ee){ee.unloadVectorData(),this.actor.send("removeTile",{uid:ee.uid,type:this.type,source:this.id})},j.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},j.prototype.serialize=function(){return s.extend({},this._options,{type:this.type,data:this._data})},j.prototype.hasTransition=function(){return!1},j}(s.Evented),W=s.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),Z=function(ce){function j(de,ee,pe,ze){ce.call(this),this.id=de,this.dispatcher=pe,this.coordinates=ee.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(ze),this.options=ee}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.load=function(ee,pe){var ze=this;this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this.url=this.options.url,s.getImage(this.map._requestManager.transformRequest(this.url,s.ResourceType.Image),function(Ye,ft){ze._loaded=!0,Ye?ze.fire(new s.ErrorEvent(Ye)):ft&&(ze.image=ft,ee&&(ze.coordinates=ee),pe&&pe(),ze._finishLoading())})},j.prototype.loaded=function(){return this._loaded},j.prototype.updateImage=function(ee){var pe=this;return!this.image||!ee.url?this:(this.options.url=ee.url,this.load(ee.coordinates,function(){pe.texture=null}),this)},j.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})))},j.prototype.onAdd=function(ee){this.map=ee,this.load()},j.prototype.setCoordinates=function(ee){var pe=this;this.coordinates=ee;var ze=ee.map(s.MercatorCoordinate.fromLngLat);this.tileID=q(ze),this.minzoom=this.maxzoom=this.tileID.z;var Ye=ze.map(function(ft){return pe.tileID.getTilePoint(ft)._round()});return this._boundsArray=new s.StructArrayLayout4i8,this._boundsArray.emplaceBack(Ye[0].x,Ye[0].y,0,0),this._boundsArray.emplaceBack(Ye[1].x,Ye[1].y,s.EXTENT,0),this._boundsArray.emplaceBack(Ye[3].x,Ye[3].y,0,s.EXTENT),this._boundsArray.emplaceBack(Ye[2].x,Ye[2].y,s.EXTENT,s.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})),this},j.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var ee=this.map.painter.context,pe=ee.gl;this.boundsBuffer||(this.boundsBuffer=ee.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new s.Texture(ee,this.image,pe.RGBA),this.texture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE));for(var ze in this.tiles){var Ye=this.tiles[ze];Ye.state!=="loaded"&&(Ye.state="loaded",Ye.texture=this.texture)}}},j.prototype.loadTile=function(ee,pe){this.tileID&&this.tileID.equals(ee.tileID.canonical)?(this.tiles[String(ee.tileID.wrap)]=ee,ee.buckets={},pe(null)):(ee.state="errored",pe(null))},j.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},j.prototype.hasTransition=function(){return!1},j}(s.Evented);function q(ce){for(var j=1/0,de=1/0,ee=-1/0,pe=-1/0,ze=0,Ye=ce;ze<Ye.length;ze+=1){var ft=Ye[ze];j=Math.min(j,ft.x),de=Math.min(de,ft.y),ee=Math.max(ee,ft.x),pe=Math.max(pe,ft.y)}var Ct=ee-j,Nt=pe-de,qt=Math.max(Ct,Nt),ur=Math.max(0,Math.floor(-Math.log(qt)/Math.LN2)),lr=Math.pow(2,ur);return new s.CanonicalTileID(ur,Math.floor((j+ee)/2*lr),Math.floor((de+pe)/2*lr))}var re=function(ce){function j(de,ee,pe,ze){ce.call(this,de,ee,pe,ze),this.roundZoom=!0,this.type="video",this.options=ee}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.load=function(){var ee=this;this._loaded=!1;var pe=this.options;this.urls=[];for(var ze=0,Ye=pe.urls;ze<Ye.length;ze+=1){var ft=Ye[ze];this.urls.push(this.map._requestManager.transformRequest(ft,s.ResourceType.Source).url)}s.getVideo(this.urls,function(Ct,Nt){ee._loaded=!0,Ct?ee.fire(new s.ErrorEvent(Ct)):Nt&&(ee.video=Nt,ee.video.loop=!0,ee.video.addEventListener("playing",function(){ee.map.triggerRepaint()}),ee.map&&ee.video.play(),ee._finishLoading())})},j.prototype.pause=function(){this.video&&this.video.pause()},j.prototype.play=function(){this.video&&this.video.play()},j.prototype.seek=function(ee){if(this.video){var pe=this.video.seekable;ee<pe.start(0)||ee>pe.end(0)?this.fire(new s.ErrorEvent(new s.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+pe.start(0)+" and "+pe.end(0)+"-second mark."))):this.video.currentTime=ee}},j.prototype.getVideo=function(){return this.video},j.prototype.onAdd=function(ee){this.map||(this.map=ee,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},j.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var ee=this.map.painter.context,pe=ee.gl;this.boundsBuffer||(this.boundsBuffer=ee.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE),pe.texSubImage2D(pe.TEXTURE_2D,0,0,0,pe.RGBA,pe.UNSIGNED_BYTE,this.video)):(this.texture=new s.Texture(ee,this.video,pe.RGBA),this.texture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE));for(var ze in this.tiles){var Ye=this.tiles[ze];Ye.state!=="loaded"&&(Ye.state="loaded",Ye.texture=this.texture)}}},j.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},j.prototype.hasTransition=function(){return this.video&&!this.video.paused},j}(Z),le=function(ce){function j(de,ee,pe,ze){ce.call(this,de,ee,pe,ze),ee.coordinates?(!Array.isArray(ee.coordinates)||ee.coordinates.length!==4||ee.coordinates.some(function(Ye){return!Array.isArray(Ye)||Ye.length!==2||Ye.some(function(ft){return typeof ft!="number"})}))&&this.fire(new s.ErrorEvent(new s.ValidationError("sources."+de,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new s.ErrorEvent(new s.ValidationError("sources."+de,null,'missing required property "coordinates"'))),ee.animate&&typeof ee.animate!="boolean"&&this.fire(new s.ErrorEvent(new s.ValidationError("sources."+de,null,'optional "animate" property must be a boolean value'))),ee.canvas?typeof ee.canvas!="string"&&!(ee.canvas instanceof s.window.HTMLCanvasElement)&&this.fire(new s.ErrorEvent(new s.ValidationError("sources."+de,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new s.ErrorEvent(new s.ValidationError("sources."+de,null,'missing required property "canvas"'))),this.options=ee,this.animate=ee.animate!==void 0?ee.animate:!0}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof s.window.HTMLCanvasElement?this.options.canvas:s.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new s.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},j.prototype.getCanvas=function(){return this.canvas},j.prototype.onAdd=function(ee){this.map=ee,this.load(),this.canvas&&this.animate&&this.play()},j.prototype.onRemove=function(){this.pause()},j.prototype.prepare=function(){var ee=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,ee=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,ee=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var pe=this.map.painter.context,ze=pe.gl;this.boundsBuffer||(this.boundsBuffer=pe.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(ee||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new s.Texture(pe,this.canvas,ze.RGBA,{premultiply:!0});for(var Ye in this.tiles){var ft=this.tiles[Ye];ft.state!=="loaded"&&(ft.state="loaded",ft.texture=this.texture)}}},j.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},j.prototype.hasTransition=function(){return this._playing},j.prototype._hasInvalidDimensions=function(){for(var ee=0,pe=[this.canvas.width,this.canvas.height];ee<pe.length;ee+=1){var ze=pe[ee];if(isNaN(ze)||ze<=0)return!0}return!1},j}(Z),ie={vector:B,raster:F,"raster-dem":z,geojson:N,video:re,image:Z,canvas:le},K=function(ce,j,de,ee){var pe=new ie[j.type](ce,j,de,ee);if(pe.id!==ce)throw new Error("Expected Source id to be "+ce+" instead of "+pe.id);return s.bindAll(["load","abort","unload","serialize","prepare"],pe),pe},$=function(ce){return ie[ce]},X=function(ce,j){ie[ce]=j};function Q(ce,j){var de=s.identity([]);return s.translate(de,de,[1,1,0]),s.scale(de,de,[ce.width*.5,ce.height*.5,1]),s.multiply(de,de,ce.calculatePosMatrix(j.toUnwrapped()))}function se(ce,j,de){if(ce)for(var ee=0,pe=ce;ee<pe.length;ee+=1){var ze=pe[ee],Ye=j[ze];if(Ye&&Ye.source===de&&Ye.type==="fill-extrusion")return!0}else for(var ft in j){var Ct=j[ft];if(Ct.source===de&&Ct.type==="fill-extrusion")return!0}return!1}function J(ce,j,de,ee,pe,ze){var Ye=se(pe&&pe.layers,j,ce.id),ft=ze.maxPitchScaleFactor(),Ct=ce.tilesIn(ee,ft,Ye);Ct.sort(te);for(var Nt=[],qt=0,ur=Ct;qt<ur.length;qt+=1){var lr=ur[qt];Nt.push({wrappedTileID:lr.tileID.wrapped().key,queryResults:lr.tile.queryRenderedFeatures(j,de,ce._state,lr.queryGeometry,lr.cameraQueryGeometry,lr.scale,pe,ze,ft,Q(ce.transform,lr.tileID))})}var Fr=fe(Nt);for(var Zr in Fr)Fr[Zr].forEach(function(jr){var Wr=jr.feature,Jr=ce.getFeatureState(Wr.layer["source-layer"],Wr.id);Wr.source=Wr.layer.source,Wr.layer["source-layer"]&&(Wr.sourceLayer=Wr.layer["source-layer"]),Wr.state=Jr});return Fr}function G(ce,j,de,ee,pe,ze,Ye){for(var ft={},Ct=ze.queryRenderedSymbols(ee),Nt=[],qt=0,ur=Object.keys(Ct).map(Number);qt<ur.length;qt+=1){var lr=ur[qt];Nt.push(Ye[lr])}Nt.sort(te);for(var Fr=function(){var dn=jr[Zr],kn=dn.featureIndex.lookupSymbolFeatures(Ct[dn.bucketInstanceId],j,dn.bucketIndex,dn.sourceLayerIndex,pe.filter,pe.layers,pe.availableImages,ce);for(var Un in kn){var Xn=ft[Un]=ft[Un]||[],Zn=kn[Un];Zn.sort(function(ua,ya){var va=dn.featureSortOrder;if(va){var _a=va.indexOf(ua.featureIndex),Qa=va.indexOf(ya.featureIndex);return Qa-_a}else return ya.featureIndex-ua.featureIndex});for(var Gn=0,Jn=Zn;Gn<Jn.length;Gn+=1){var na=Jn[Gn];Xn.push(na)}}},Zr=0,jr=Nt;Zr<jr.length;Zr+=1)Fr();var Wr=function(dn){ft[dn].forEach(function(kn){var Un=kn.feature,Xn=ce[dn],Zn=de[Xn.source],Gn=Zn.getFeatureState(Un.layer["source-layer"],Un.id);Un.source=Un.layer.source,Un.layer["source-layer"]&&(Un.sourceLayer=Un.layer["source-layer"]),Un.state=Gn})};for(var Jr in ft)Wr(Jr);return ft}function oe(ce,j){for(var de=ce.getRenderableIds().map(function(Ct){return ce.getTileByID(Ct)}),ee=[],pe={},ze=0;ze<de.length;ze++){var Ye=de[ze],ft=Ye.tileID.canonical.key;pe[ft]||(pe[ft]=!0,Ye.querySourceFeatures(ee,j))}return ee}function te(ce,j){var de=ce.tileID,ee=j.tileID;return de.overscaledZ-ee.overscaledZ||de.canonical.y-ee.canonical.y||de.wrap-ee.wrap||de.canonical.x-ee.canonical.x}function fe(ce){for(var j={},de={},ee=0,pe=ce;ee<pe.length;ee+=1){var ze=pe[ee],Ye=ze.queryResults,ft=ze.wrappedTileID,Ct=de[ft]=de[ft]||{};for(var Nt in Ye)for(var qt=Ye[Nt],ur=Ct[Nt]=Ct[Nt]||{},lr=j[Nt]=j[Nt]||[],Fr=0,Zr=qt;Fr<Zr.length;Fr+=1){var jr=Zr[Fr];ur[jr.featureIndex]||(ur[jr.featureIndex]=!0,lr.push(jr))}}return j}var ge=function(j,de){this.max=j,this.onRemove=de,this.reset()};ge.prototype.reset=function(){for(var j in this.data)for(var de=0,ee=this.data[j];de<ee.length;de+=1){var pe=ee[de];pe.timeout&&clearTimeout(pe.timeout),this.onRemove(pe.value)}return this.data={},this.order=[],this},ge.prototype.add=function(j,de,ee){var pe=this,ze=j.wrapped().key;this.data[ze]===void 0&&(this.data[ze]=[]);var Ye={value:de,timeout:void 0};if(ee!==void 0&&(Ye.timeout=setTimeout(function(){pe.remove(j,Ye)},ee)),this.data[ze].push(Ye),this.order.push(ze),this.order.length>this.max){var ft=this._getAndRemoveByKey(this.order[0]);ft&&this.onRemove(ft)}return this},ge.prototype.has=function(j){return j.wrapped().key in this.data},ge.prototype.getAndRemove=function(j){return this.has(j)?this._getAndRemoveByKey(j.wrapped().key):null},ge.prototype._getAndRemoveByKey=function(j){var de=this.data[j].shift();return de.timeout&&clearTimeout(de.timeout),this.data[j].length===0&&delete this.data[j],this.order.splice(this.order.indexOf(j),1),de.value},ge.prototype.getByKey=function(j){var de=this.data[j];return de?de[0].value:null},ge.prototype.get=function(j){if(!this.has(j))return null;var de=this.data[j.wrapped().key][0];return de.value},ge.prototype.remove=function(j,de){if(!this.has(j))return this;var ee=j.wrapped().key,pe=de===void 0?0:this.data[ee].indexOf(de),ze=this.data[ee][pe];return this.data[ee].splice(pe,1),ze.timeout&&clearTimeout(ze.timeout),this.data[ee].length===0&&delete this.data[ee],this.onRemove(ze.value),this.order.splice(this.order.indexOf(ee),1),this},ge.prototype.setMaxSize=function(j){for(this.max=j;this.order.length>this.max;){var de=this._getAndRemoveByKey(this.order[0]);de&&this.onRemove(de)}return this},ge.prototype.filter=function(j){var de=[];for(var ee in this.data)for(var pe=0,ze=this.data[ee];pe<ze.length;pe+=1){var Ye=ze[pe];j(Ye.value)||de.push(Ye)}for(var ft=0,Ct=de;ft<Ct.length;ft+=1){var Nt=Ct[ft];this.remove(Nt.value.tileID,Nt)}};var we=function(j,de,ee){this.context=j;var pe=j.gl;this.buffer=pe.createBuffer(),this.dynamicDraw=!!ee,this.context.unbindVAO(),j.bindElementBuffer.set(this.buffer),pe.bufferData(pe.ELEMENT_ARRAY_BUFFER,de.arrayBuffer,this.dynamicDraw?pe.DYNAMIC_DRAW:pe.STATIC_DRAW),this.dynamicDraw||delete de.arrayBuffer};we.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},we.prototype.updateData=function(j){var de=this.context.gl;this.context.unbindVAO(),this.bind(),de.bufferSubData(de.ELEMENT_ARRAY_BUFFER,0,j.arrayBuffer)},we.prototype.destroy=function(){var j=this.context.gl;this.buffer&&(j.deleteBuffer(this.buffer),delete this.buffer)};var xe={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Ce=function(j,de,ee,pe){this.length=de.length,this.attributes=ee,this.itemSize=de.bytesPerElement,this.dynamicDraw=pe,this.context=j;var ze=j.gl;this.buffer=ze.createBuffer(),j.bindVertexBuffer.set(this.buffer),ze.bufferData(ze.ARRAY_BUFFER,de.arrayBuffer,this.dynamicDraw?ze.DYNAMIC_DRAW:ze.STATIC_DRAW),this.dynamicDraw||delete de.arrayBuffer};Ce.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Ce.prototype.updateData=function(j){var de=this.context.gl;this.bind(),de.bufferSubData(de.ARRAY_BUFFER,0,j.arrayBuffer)},Ce.prototype.enableAttributes=function(j,de){for(var ee=0;ee<this.attributes.length;ee++){var pe=this.attributes[ee],ze=de.attributes[pe.name];ze!==void 0&&j.enableVertexAttribArray(ze)}},Ce.prototype.setVertexAttribPointers=function(j,de,ee){for(var pe=0;pe<this.attributes.length;pe++){var ze=this.attributes[pe],Ye=de.attributes[ze.name];Ye!==void 0&&j.vertexAttribPointer(Ye,ze.components,j[xe[ze.type]],!1,this.itemSize,ze.offset+this.itemSize*(ee||0))}},Ce.prototype.destroy=function(){var j=this.context.gl;this.buffer&&(j.deleteBuffer(this.buffer),delete this.buffer)};var De=function(j){this.gl=j.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};De.prototype.get=function(){return this.current},De.prototype.set=function(j){},De.prototype.getDefault=function(){return this.default},De.prototype.setDefault=function(){this.set(this.default)};var Oe=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return s.Color.transparent},j.prototype.set=function(ee){var pe=this.current;ee.r===pe.r&&ee.g===pe.g&&ee.b===pe.b&&ee.a===pe.a&&!this.dirty||(this.gl.clearColor(ee.r,ee.g,ee.b,ee.a),this.current=ee,this.dirty=!1)},j}(De),Te=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return 1},j.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.clearDepth(ee),this.current=ee,this.dirty=!1)},j}(De),Re=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return 0},j.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.clearStencil(ee),this.current=ee,this.dirty=!1)},j}(De),Me=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return[!0,!0,!0,!0]},j.prototype.set=function(ee){var pe=this.current;ee[0]===pe[0]&&ee[1]===pe[1]&&ee[2]===pe[2]&&ee[3]===pe[3]&&!this.dirty||(this.gl.colorMask(ee[0],ee[1],ee[2],ee[3]),this.current=ee,this.dirty=!1)},j}(De),ke=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return!0},j.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.depthMask(ee),this.current=ee,this.dirty=!1)},j}(De),Se=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return 255},j.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.stencilMask(ee),this.current=ee,this.dirty=!1)},j}(De),He=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},j.prototype.set=function(ee){var pe=this.current;ee.func===pe.func&&ee.ref===pe.ref&&ee.mask===pe.mask&&!this.dirty||(this.gl.stencilFunc(ee.func,ee.ref,ee.mask),this.current=ee,this.dirty=!1)},j}(De),je=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){var ee=this.gl;return[ee.KEEP,ee.KEEP,ee.KEEP]},j.prototype.set=function(ee){var pe=this.current;ee[0]===pe[0]&&ee[1]===pe[1]&&ee[2]===pe[2]&&!this.dirty||(this.gl.stencilOp(ee[0],ee[1],ee[2]),this.current=ee,this.dirty=!1)},j}(De),at=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return!1},j.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;ee?pe.enable(pe.STENCIL_TEST):pe.disable(pe.STENCIL_TEST),this.current=ee,this.dirty=!1}},j}(De),Ze=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return[0,1]},j.prototype.set=function(ee){var pe=this.current;ee[0]===pe[0]&&ee[1]===pe[1]&&!this.dirty||(this.gl.depthRange(ee[0],ee[1]),this.current=ee,this.dirty=!1)},j}(De),$e=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return!1},j.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;ee?pe.enable(pe.DEPTH_TEST):pe.disable(pe.DEPTH_TEST),this.current=ee,this.dirty=!1}},j}(De),ut=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return this.gl.LESS},j.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.depthFunc(ee),this.current=ee,this.dirty=!1)},j}(De),ht=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return!1},j.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;ee?pe.enable(pe.BLEND):pe.disable(pe.BLEND),this.current=ee,this.dirty=!1}},j}(De),vt=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){var ee=this.gl;return[ee.ONE,ee.ZERO]},j.prototype.set=function(ee){var pe=this.current;ee[0]===pe[0]&&ee[1]===pe[1]&&!this.dirty||(this.gl.blendFunc(ee[0],ee[1]),this.current=ee,this.dirty=!1)},j}(De),xt=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return s.Color.transparent},j.prototype.set=function(ee){var pe=this.current;ee.r===pe.r&&ee.g===pe.g&&ee.b===pe.b&&ee.a===pe.a&&!this.dirty||(this.gl.blendColor(ee.r,ee.g,ee.b,ee.a),this.current=ee,this.dirty=!1)},j}(De),St=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return this.gl.FUNC_ADD},j.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.blendEquation(ee),this.current=ee,this.dirty=!1)},j}(De),tt=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return!1},j.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;ee?pe.enable(pe.CULL_FACE):pe.disable(pe.CULL_FACE),this.current=ee,this.dirty=!1}},j}(De),Ie=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return this.gl.BACK},j.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.cullFace(ee),this.current=ee,this.dirty=!1)},j}(De),Ve=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return this.gl.CCW},j.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.frontFace(ee),this.current=ee,this.dirty=!1)},j}(De),Ge=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return null},j.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.useProgram(ee),this.current=ee,this.dirty=!1)},j}(De),Xe=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return this.gl.TEXTURE0},j.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.activeTexture(ee),this.current=ee,this.dirty=!1)},j}(De),Le=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){var ee=this.gl;return[0,0,ee.drawingBufferWidth,ee.drawingBufferHeight]},j.prototype.set=function(ee){var pe=this.current;ee[0]===pe[0]&&ee[1]===pe[1]&&ee[2]===pe[2]&&ee[3]===pe[3]&&!this.dirty||(this.gl.viewport(ee[0],ee[1],ee[2],ee[3]),this.current=ee,this.dirty=!1)},j}(De),Fe=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return null},j.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;pe.bindFramebuffer(pe.FRAMEBUFFER,ee),this.current=ee,this.dirty=!1}},j}(De),Ue=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return null},j.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;pe.bindRenderbuffer(pe.RENDERBUFFER,ee),this.current=ee,this.dirty=!1}},j}(De),Ee=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return null},j.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;pe.bindTexture(pe.TEXTURE_2D,ee),this.current=ee,this.dirty=!1}},j}(De),he=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return null},j.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;pe.bindBuffer(pe.ARRAY_BUFFER,ee),this.current=ee,this.dirty=!1}},j}(De),ye=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return null},j.prototype.set=function(ee){var pe=this.gl;pe.bindBuffer(pe.ELEMENT_ARRAY_BUFFER,ee),this.current=ee,this.dirty=!1},j}(De),_e=function(ce){function j(de){ce.call(this,de),this.vao=de.extVertexArrayObject}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return null},j.prototype.set=function(ee){!this.vao||ee===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(ee),this.current=ee,this.dirty=!1)},j}(De),We=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return 4},j.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;pe.pixelStorei(pe.UNPACK_ALIGNMENT,ee),this.current=ee,this.dirty=!1}},j}(De),rt=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return!1},j.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;pe.pixelStorei(pe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ee),this.current=ee,this.dirty=!1}},j}(De),st=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return!1},j.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var pe=this.gl;pe.pixelStorei(pe.UNPACK_FLIP_Y_WEBGL,ee),this.current=ee,this.dirty=!1}},j}(De),Vt=function(ce){function j(de,ee){ce.call(this,de),this.context=de,this.parent=ee}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return null},j}(De),Xt=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.setDirty=function(){this.dirty=!0},j.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var pe=this.gl;pe.framebufferTexture2D(pe.FRAMEBUFFER,pe.COLOR_ATTACHMENT0,pe.TEXTURE_2D,ee,0),this.current=ee,this.dirty=!1}},j}(Vt),Tt=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var pe=this.gl;pe.framebufferRenderbuffer(pe.FRAMEBUFFER,pe.DEPTH_ATTACHMENT,pe.RENDERBUFFER,ee),this.current=ee,this.dirty=!1}},j}(Vt),Lt=function(j,de,ee,pe){this.context=j,this.width=de,this.height=ee;var ze=j.gl,Ye=this.framebuffer=ze.createFramebuffer();this.colorAttachment=new Xt(j,Ye),pe&&(this.depthAttachment=new Tt(j,Ye))};Lt.prototype.destroy=function(){var j=this.context.gl,de=this.colorAttachment.get();if(de&&j.deleteTexture(de),this.depthAttachment){var ee=this.depthAttachment.get();ee&&j.deleteRenderbuffer(ee)}j.deleteFramebuffer(this.framebuffer)};var Kt=519,vr=function(j,de,ee){this.func=j,this.mask=de,this.range=ee};vr.ReadOnly=!1,vr.ReadWrite=!0,vr.disabled=new vr(Kt,vr.ReadOnly,[0,1]);var pt=519,jt=7680,$t=function(j,de,ee,pe,ze,Ye){this.test=j,this.ref=de,this.mask=ee,this.fail=pe,this.depthFail=ze,this.pass=Ye};$t.disabled=new $t({func:pt,mask:0},0,0,jt,jt,jt);var mr=0,or=1,gt=771,lt=function(j,de,ee){this.blendFunction=j,this.blendColor=de,this.mask=ee};lt.Replace=[or,mr],lt.disabled=new lt(lt.Replace,s.Color.transparent,[!1,!1,!1,!1]),lt.unblended=new lt(lt.Replace,s.Color.transparent,[!0,!0,!0,!0]),lt.alphaBlended=new lt([or,gt],s.Color.transparent,[!0,!0,!0,!0]);var bt=1029,Et=2305,kt=function(j,de,ee){this.enable=j,this.mode=de,this.frontFace=ee};kt.disabled=new kt(!1,bt,Et),kt.backCCW=new kt(!0,bt,Et);var Ot=function(j){this.gl=j,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Oe(this),this.clearDepth=new Te(this),this.clearStencil=new Re(this),this.colorMask=new Me(this),this.depthMask=new ke(this),this.stencilMask=new Se(this),this.stencilFunc=new He(this),this.stencilOp=new je(this),this.stencilTest=new at(this),this.depthRange=new Ze(this),this.depthTest=new $e(this),this.depthFunc=new ut(this),this.blend=new ht(this),this.blendFunc=new vt(this),this.blendColor=new xt(this),this.blendEquation=new St(this),this.cullFace=new tt(this),this.cullFaceSide=new Ie(this),this.frontFace=new Ve(this),this.program=new Ge(this),this.activeTexture=new Xe(this),this.viewport=new Le(this),this.bindFramebuffer=new Fe(this),this.bindRenderbuffer=new Ue(this),this.bindTexture=new Ee(this),this.bindVertexBuffer=new he(this),this.bindElementBuffer=new ye(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new _e(this),this.pixelStoreUnpack=new We(this),this.pixelStoreUnpackPremultiplyAlpha=new rt(this),this.pixelStoreUnpackFlipY=new st(this),this.extTextureFilterAnisotropic=j.getExtension("EXT_texture_filter_anisotropic")||j.getExtension("MOZ_EXT_texture_filter_anisotropic")||j.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=j.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=j.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(j.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=j.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=j.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=j.getParameter(j.MAX_TEXTURE_SIZE)};Ot.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Ot.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ot.prototype.createIndexBuffer=function(j,de){return new we(this,j,de)},Ot.prototype.createVertexBuffer=function(j,de,ee){return new Ce(this,j,de,ee)},Ot.prototype.createRenderbuffer=function(j,de,ee){var pe=this.gl,ze=pe.createRenderbuffer();return this.bindRenderbuffer.set(ze),pe.renderbufferStorage(pe.RENDERBUFFER,j,de,ee),this.bindRenderbuffer.set(null),ze},Ot.prototype.createFramebuffer=function(j,de,ee){return new Lt(this,j,de,ee)},Ot.prototype.clear=function(j){var de=j.color,ee=j.depth,pe=this.gl,ze=0;de&&(ze|=pe.COLOR_BUFFER_BIT,this.clearColor.set(de),this.colorMask.set([!0,!0,!0,!0])),typeof ee<"u"&&(ze|=pe.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(ee),this.depthMask.set(!0)),pe.clear(ze)},Ot.prototype.setCullFace=function(j){j.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(j.mode),this.frontFace.set(j.frontFace))},Ot.prototype.setDepthMode=function(j){j.func===this.gl.ALWAYS&&!j.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(j.func),this.depthMask.set(j.mask),this.depthRange.set(j.range))},Ot.prototype.setStencilMode=function(j){j.test.func===this.gl.ALWAYS&&!j.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(j.mask),this.stencilOp.set([j.fail,j.depthFail,j.pass]),this.stencilFunc.set({func:j.test.func,ref:j.ref,mask:j.test.mask}))},Ot.prototype.setColorMode=function(j){s.deepEqual(j.blendFunction,lt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(j.blendFunction),this.blendColor.set(j.blendColor)),this.colorMask.set(j.mask)},Ot.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Ft=function(ce){function j(de,ee,pe){var ze=this;ce.call(this),this.id=de,this.dispatcher=pe,this.on("data",function(Ye){Ye.dataType==="source"&&Ye.sourceDataType==="metadata"&&(ze._sourceLoaded=!0),ze._sourceLoaded&&!ze._paused&&Ye.dataType==="source"&&Ye.sourceDataType==="content"&&(ze.reload(),ze.transform&&ze.update(ze.transform))}),this.on("error",function(){ze._sourceErrored=!0}),this._source=K(de,ee,pe,this),this._tiles={},this._cache=new ge(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new s.SourceFeatureState}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.onAdd=function(ee){this.map=ee,this._maxTileCacheSize=ee?ee._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(ee)},j.prototype.onRemove=function(ee){this._source&&this._source.onRemove&&this._source.onRemove(ee)},j.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var ee in this._tiles){var pe=this._tiles[ee];if(pe.state!=="loaded"&&pe.state!=="errored")return!1}return!0},j.prototype.getSource=function(){return this._source},j.prototype.pause=function(){this._paused=!0},j.prototype.resume=function(){if(this._paused){var ee=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,ee&&this.reload(),this.transform&&this.update(this.transform)}},j.prototype._loadTile=function(ee,pe){return this._source.loadTile(ee,pe)},j.prototype._unloadTile=function(ee){if(this._source.unloadTile)return this._source.unloadTile(ee,function(){})},j.prototype._abortTile=function(ee){if(this._source.abortTile)return this._source.abortTile(ee,function(){})},j.prototype.serialize=function(){return this._source.serialize()},j.prototype.prepare=function(ee){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var pe in this._tiles){var ze=this._tiles[pe];ze.upload(ee),ze.prepare(this.map.style.imageManager)}},j.prototype.getIds=function(){return s.values(this._tiles).map(function(ee){return ee.tileID}).sort(Bt).map(function(ee){return ee.key})},j.prototype.getRenderableIds=function(ee){var pe=this,ze=[];for(var Ye in this._tiles)this._isIdRenderable(Ye,ee)&&ze.push(this._tiles[Ye]);return ee?ze.sort(function(ft,Ct){var Nt=ft.tileID,qt=Ct.tileID,ur=new s.Point(Nt.canonical.x,Nt.canonical.y)._rotate(pe.transform.angle),lr=new s.Point(qt.canonical.x,qt.canonical.y)._rotate(pe.transform.angle);return Nt.overscaledZ-qt.overscaledZ||lr.y-ur.y||lr.x-ur.x}).map(function(ft){return ft.tileID.key}):ze.map(function(ft){return ft.tileID}).sort(Bt).map(function(ft){return ft.key})},j.prototype.hasRenderableParent=function(ee){var pe=this.findLoadedParent(ee,0);return pe?this._isIdRenderable(pe.tileID.key):!1},j.prototype._isIdRenderable=function(ee,pe){return this._tiles[ee]&&this._tiles[ee].hasData()&&!this._coveredTiles[ee]&&(pe||!this._tiles[ee].holdingForFade())},j.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var ee in this._tiles)this._tiles[ee].state!=="errored"&&this._reloadTile(ee,"reloading")},j.prototype._reloadTile=function(ee,pe){var ze=this._tiles[ee];ze&&(ze.state!=="loading"&&(ze.state=pe),this._loadTile(ze,this._tileLoaded.bind(this,ze,ee,pe)))},j.prototype._tileLoaded=function(ee,pe,ze,Ye){if(Ye){ee.state="errored",Ye.status!==404?this._source.fire(new s.ErrorEvent(Ye,{tile:ee})):this.update(this.transform);return}ee.timeAdded=s.browser.now(),ze==="expired"&&(ee.refreshedUponExpiration=!0),this._setTileReloadTimer(pe,ee),this.getSource().type==="raster-dem"&&ee.dem&&this._backfillDEM(ee),this._state.initializeTileState(ee,this.map?this.map.painter:null),this._source.fire(new s.Event("data",{dataType:"source",tile:ee,coord:ee.tileID}))},j.prototype._backfillDEM=function(ee){for(var pe=this.getRenderableIds(),ze=0;ze<pe.length;ze++){var Ye=pe[ze];if(ee.neighboringTiles&&ee.neighboringTiles[Ye]){var ft=this.getTileByID(Ye);Ct(ee,ft),Ct(ft,ee)}}function Ct(Nt,qt){Nt.needsHillshadePrepare=!0;var ur=qt.tileID.canonical.x-Nt.tileID.canonical.x,lr=qt.tileID.canonical.y-Nt.tileID.canonical.y,Fr=Math.pow(2,Nt.tileID.canonical.z),Zr=qt.tileID.key;ur===0&&lr===0||Math.abs(lr)>1||(Math.abs(ur)>1&&(Math.abs(ur+Fr)===1?ur+=Fr:Math.abs(ur-Fr)===1&&(ur-=Fr)),!(!qt.dem||!Nt.dem)&&(Nt.dem.backfillBorder(qt.dem,ur,lr),Nt.neighboringTiles&&Nt.neighboringTiles[Zr]&&(Nt.neighboringTiles[Zr].backfilled=!0)))}},j.prototype.getTile=function(ee){return this.getTileByID(ee.key)},j.prototype.getTileByID=function(ee){return this._tiles[ee]},j.prototype._retainLoadedChildren=function(ee,pe,ze,Ye){for(var ft in this._tiles){var Ct=this._tiles[ft];if(!(Ye[ft]||!Ct.hasData()||Ct.tileID.overscaledZ<=pe||Ct.tileID.overscaledZ>ze)){for(var Nt=Ct.tileID;Ct&&Ct.tileID.overscaledZ>pe+1;){var qt=Ct.tileID.scaledTo(Ct.tileID.overscaledZ-1);Ct=this._tiles[qt.key],Ct&&Ct.hasData()&&(Nt=qt)}for(var ur=Nt;ur.overscaledZ>pe;)if(ur=ur.scaledTo(ur.overscaledZ-1),ee[ur.key]){Ye[Nt.key]=Nt;break}}}},j.prototype.findLoadedParent=function(ee,pe){if(ee.key in this._loadedParentTiles){var ze=this._loadedParentTiles[ee.key];return ze&&ze.tileID.overscaledZ>=pe?ze:null}for(var Ye=ee.overscaledZ-1;Ye>=pe;Ye--){var ft=ee.scaledTo(Ye),Ct=this._getLoadedTile(ft);if(Ct)return Ct}},j.prototype._getLoadedTile=function(ee){var pe=this._tiles[ee.key];if(pe&&pe.hasData())return pe;var ze=this._cache.getByKey(ee.wrapped().key);return ze},j.prototype.updateCacheSize=function(ee){var pe=Math.ceil(ee.width/this._source.tileSize)+1,ze=Math.ceil(ee.height/this._source.tileSize)+1,Ye=pe*ze,ft=5,Ct=Math.floor(Ye*ft),Nt=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,Ct):Ct;this._cache.setMaxSize(Nt)},j.prototype.handleWrapJump=function(ee){var pe=this._prevLng===void 0?ee:this._prevLng,ze=ee-pe,Ye=ze/360,ft=Math.round(Ye);if(this._prevLng=ee,ft){var Ct={};for(var Nt in this._tiles){var qt=this._tiles[Nt];qt.tileID=qt.tileID.unwrapTo(qt.tileID.wrap+ft),Ct[qt.tileID.key]=qt}this._tiles=Ct;for(var ur in this._timers)clearTimeout(this._timers[ur]),delete this._timers[ur];for(var lr in this._tiles){var Fr=this._tiles[lr];this._setTileReloadTimer(lr,Fr)}}},j.prototype.update=function(ee){var pe=this;if(this.transform=ee,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(ee),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var ze;this.used?this._source.tileID?ze=ee.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(ua){return new s.OverscaledTileID(ua.canonical.z,ua.wrap,ua.canonical.z,ua.canonical.x,ua.canonical.y)}):(ze=ee.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(ze=ze.filter(function(ua){return pe._source.hasTile(ua)}))):ze=[];var Ye=ee.coveringZoomLevel(this._source),ft=Math.max(Ye-j.maxOverzooming,this._source.minzoom),Ct=Math.max(Ye+j.maxUnderzooming,this._source.minzoom),Nt=this._updateRetainedTiles(ze,Ye);if(Jt(this._source.type)){for(var qt={},ur={},lr=Object.keys(Nt),Fr=0,Zr=lr;Fr<Zr.length;Fr+=1){var jr=Zr[Fr],Wr=Nt[jr],Jr=this._tiles[jr];if(!(!Jr||Jr.fadeEndTime&&Jr.fadeEndTime<=s.browser.now())){var dn=this.findLoadedParent(Wr,ft);dn&&(this._addTile(dn.tileID),qt[dn.tileID.key]=dn.tileID),ur[jr]=Wr}}this._retainLoadedChildren(ur,Ye,Ct,Nt);for(var kn in qt)Nt[kn]||(this._coveredTiles[kn]=!0,Nt[kn]=qt[kn])}for(var Un in Nt)this._tiles[Un].clearFadeHold();for(var Xn=s.keysDifference(this._tiles,Nt),Zn=0,Gn=Xn;Zn<Gn.length;Zn+=1){var Jn=Gn[Zn],na=this._tiles[Jn];na.hasSymbolBuckets&&!na.holdingForFade()?na.setHoldDuration(this.map._fadeDuration):(!na.hasSymbolBuckets||na.symbolFadeFinished())&&this._removeTile(Jn)}this._updateLoadedParentTileCache()}},j.prototype.releaseSymbolFadeTiles=function(){for(var ee in this._tiles)this._tiles[ee].holdingForFade()&&this._removeTile(ee)},j.prototype._updateRetainedTiles=function(ee,pe){for(var ze={},Ye={},ft=Math.max(pe-j.maxOverzooming,this._source.minzoom),Ct=Math.max(pe+j.maxUnderzooming,this._source.minzoom),Nt={},qt=0,ur=ee;qt<ur.length;qt+=1){var lr=ur[qt],Fr=this._addTile(lr);ze[lr.key]=lr,!Fr.hasData()&&pe<this._source.maxzoom&&(Nt[lr.key]=lr)}this._retainLoadedChildren(Nt,pe,Ct,ze);for(var Zr=0,jr=ee;Zr<jr.length;Zr+=1){var Wr=jr[Zr],Jr=this._tiles[Wr.key];if(!Jr.hasData()){if(pe+1>this._source.maxzoom){var dn=Wr.children(this._source.maxzoom)[0],kn=this.getTile(dn);if(kn&&kn.hasData()){ze[dn.key]=dn;continue}}else{var Un=Wr.children(this._source.maxzoom);if(ze[Un[0].key]&&ze[Un[1].key]&&ze[Un[2].key]&&ze[Un[3].key])continue}for(var Xn=Jr.wasRequested(),Zn=Wr.overscaledZ-1;Zn>=ft;--Zn){var Gn=Wr.scaledTo(Zn);if(Ye[Gn.key]||(Ye[Gn.key]=!0,Jr=this.getTile(Gn),!Jr&&Xn&&(Jr=this._addTile(Gn)),Jr&&(ze[Gn.key]=Gn,Xn=Jr.wasRequested(),Jr.hasData())))break}}}return ze},j.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var ee in this._tiles){for(var pe=[],ze=void 0,Ye=this._tiles[ee].tileID;Ye.overscaledZ>0;){if(Ye.key in this._loadedParentTiles){ze=this._loadedParentTiles[Ye.key];break}pe.push(Ye.key);var ft=Ye.scaledTo(Ye.overscaledZ-1);if(ze=this._getLoadedTile(ft),ze)break;Ye=ft}for(var Ct=0,Nt=pe;Ct<Nt.length;Ct+=1){var qt=Nt[Ct];this._loadedParentTiles[qt]=ze}}},j.prototype._addTile=function(ee){var pe=this._tiles[ee.key];if(pe)return pe;pe=this._cache.getAndRemove(ee),pe&&(this._setTileReloadTimer(ee.key,pe),pe.tileID=ee,this._state.initializeTileState(pe,this.map?this.map.painter:null),this._cacheTimers[ee.key]&&(clearTimeout(this._cacheTimers[ee.key]),delete this._cacheTimers[ee.key],this._setTileReloadTimer(ee.key,pe)));var ze=!!pe;return ze||(pe=new s.Tile(ee,this._source.tileSize*ee.overscaleFactor()),this._loadTile(pe,this._tileLoaded.bind(this,pe,ee.key,pe.state))),pe?(pe.uses++,this._tiles[ee.key]=pe,ze||this._source.fire(new s.Event("dataloading",{tile:pe,coord:pe.tileID,dataType:"source"})),pe):null},j.prototype._setTileReloadTimer=function(ee,pe){var ze=this;ee in this._timers&&(clearTimeout(this._timers[ee]),delete this._timers[ee]);var Ye=pe.getExpiryTimeout();Ye&&(this._timers[ee]=setTimeout(function(){ze._reloadTile(ee,"expired"),delete ze._timers[ee]},Ye))},j.prototype._removeTile=function(ee){var pe=this._tiles[ee];pe&&(pe.uses--,delete this._tiles[ee],this._timers[ee]&&(clearTimeout(this._timers[ee]),delete this._timers[ee]),!(pe.uses>0)&&(pe.hasData()&&pe.state!=="reloading"?this._cache.add(pe.tileID,pe,pe.getExpiryTimeout()):(pe.aborted=!0,this._abortTile(pe),this._unloadTile(pe))))},j.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var ee in this._tiles)this._removeTile(ee);this._cache.reset()},j.prototype.tilesIn=function(ee,pe,ze){var Ye=this,ft=[],Ct=this.transform;if(!Ct)return ft;for(var Nt=ze?Ct.getCameraQueryGeometry(ee):ee,qt=ee.map(function(Zn){return Ct.pointCoordinate(Zn)}),ur=Nt.map(function(Zn){return Ct.pointCoordinate(Zn)}),lr=this.getIds(),Fr=1/0,Zr=1/0,jr=-1/0,Wr=-1/0,Jr=0,dn=ur;Jr<dn.length;Jr+=1){var kn=dn[Jr];Fr=Math.min(Fr,kn.x),Zr=Math.min(Zr,kn.y),jr=Math.max(jr,kn.x),Wr=Math.max(Wr,kn.y)}for(var Un=function(Zn){var Gn=Ye._tiles[lr[Zn]];if(!Gn.holdingForFade()){var Jn=Gn.tileID,na=Math.pow(2,Ct.zoom-Gn.tileID.overscaledZ),ua=pe*Gn.queryPadding*s.EXTENT/Gn.tileSize/na,ya=[Jn.getTilePoint(new s.MercatorCoordinate(Fr,Zr)),Jn.getTilePoint(new s.MercatorCoordinate(jr,Wr))];if(ya[0].x-ua<s.EXTENT&&ya[0].y-ua<s.EXTENT&&ya[1].x+ua>=0&&ya[1].y+ua>=0){var va=qt.map(function(Qa){return Jn.getTilePoint(Qa)}),_a=ur.map(function(Qa){return Jn.getTilePoint(Qa)});ft.push({tile:Gn,tileID:Jn,queryGeometry:va,cameraQueryGeometry:_a,scale:na})}}},Xn=0;Xn<lr.length;Xn++)Un(Xn);return ft},j.prototype.getVisibleCoordinates=function(ee){for(var pe=this,ze=this.getRenderableIds(ee).map(function(Nt){return pe._tiles[Nt].tileID}),Ye=0,ft=ze;Ye<ft.length;Ye+=1){var Ct=ft[Ye];Ct.posMatrix=this.transform.calculatePosMatrix(Ct.toUnwrapped())}return ze},j.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Jt(this._source.type))for(var ee in this._tiles){var pe=this._tiles[ee];if(pe.fadeEndTime!==void 0&&pe.fadeEndTime>=s.browser.now())return!0}return!1},j.prototype.setFeatureState=function(ee,pe,ze){ee=ee||"_geojsonTileLayer",this._state.updateState(ee,pe,ze)},j.prototype.removeFeatureState=function(ee,pe,ze){ee=ee||"_geojsonTileLayer",this._state.removeFeatureState(ee,pe,ze)},j.prototype.getFeatureState=function(ee,pe){return ee=ee||"_geojsonTileLayer",this._state.getState(ee,pe)},j.prototype.setDependencies=function(ee,pe,ze){var Ye=this._tiles[ee];Ye&&Ye.setDependencies(pe,ze)},j.prototype.reloadTilesForDependencies=function(ee,pe){for(var ze in this._tiles){var Ye=this._tiles[ze];Ye.hasDependency(ee,pe)&&this._reloadTile(ze,"reloading")}this._cache.filter(function(ft){return!ft.hasDependency(ee,pe)})},j}(s.Evented);Ft.maxOverzooming=10,Ft.maxUnderzooming=3;function Bt(ce,j){var de=Math.abs(ce.wrap*2)-+(ce.wrap<0),ee=Math.abs(j.wrap*2)-+(j.wrap<0);return ce.overscaledZ-j.overscaledZ||ee-de||j.canonical.y-ce.canonical.y||j.canonical.x-ce.canonical.x}function Jt(ce){return ce==="raster"||ce==="image"||ce==="video"}function hr(){return new s.window.Worker(ao.workerUrl)}var cr="mapboxgl_preloaded_worker_pool",dr=function(){this.active={}};dr.prototype.acquire=function(j){if(!this.workers)for(this.workers=[];this.workers.length<dr.workerCount;)this.workers.push(new hr);return this.active[j]=!0,this.workers.slice()},dr.prototype.release=function(j){delete this.active[j],this.numActive()===0&&(this.workers.forEach(function(de){de.terminate()}),this.workers=null)},dr.prototype.isPreloaded=function(){return!!this.active[cr]},dr.prototype.numActive=function(){return Object.keys(this.active).length};var fr=Math.floor(s.browser.hardwareConcurrency/2);dr.workerCount=Math.max(Math.min(fr,6),1);var Lr;function xr(){return Lr||(Lr=new dr),Lr}function Ke(){var ce=xr();ce.acquire(cr)}function et(){var ce=Lr;ce&&(ce.isPreloaded()&&ce.numActive()===1?(ce.release(cr),Lr=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function er(ce,j){var de={};for(var ee in ce)ee!=="ref"&&(de[ee]=ce[ee]);return s.refProperties.forEach(function(pe){pe in j&&(de[pe]=j[pe])}),de}function tr(ce){ce=ce.slice();for(var j=Object.create(null),de=0;de<ce.length;de++)j[ce[de].id]=ce[de];for(var ee=0;ee<ce.length;ee++)"ref"in ce[ee]&&(ce[ee]=er(ce[ee],j[ce[ee].ref]));return ce}function Yt(){var ce={},j=s.styleSpec.$version;for(var de in s.styleSpec.$root){var ee=s.styleSpec.$root[de];if(ee.required){var pe=null;de==="version"?pe=j:ee.type==="array"?pe=[]:pe={},pe!=null&&(ce[de]=pe)}}return ce}var Pt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Zt(ce,j,de){de.push({command:Pt.addSource,args:[ce,j[ce]]})}function nr(ce,j,de){j.push({command:Pt.removeSource,args:[ce]}),de[ce]=!0}function Qt(ce,j,de,ee){nr(ce,de,ee),Zt(ce,j,de)}function Wt(ce,j,de){var ee;for(ee in ce[de])if(ce[de].hasOwnProperty(ee)&&ee!=="data"&&!s.deepEqual(ce[de][ee],j[de][ee]))return!1;for(ee in j[de])if(j[de].hasOwnProperty(ee)&&ee!=="data"&&!s.deepEqual(ce[de][ee],j[de][ee]))return!1;return!0}function yr(ce,j,de,ee){ce=ce||{},j=j||{};var pe;for(pe in ce)ce.hasOwnProperty(pe)&&(j.hasOwnProperty(pe)||nr(pe,de,ee));for(pe in j)j.hasOwnProperty(pe)&&(ce.hasOwnProperty(pe)?s.deepEqual(ce[pe],j[pe])||(ce[pe].type==="geojson"&&j[pe].type==="geojson"&&Wt(ce,j,pe)?de.push({command:Pt.setGeoJSONSourceData,args:[pe,j[pe].data]}):Qt(pe,j,de,ee)):Zt(pe,j,de))}function Ir(ce,j,de,ee,pe,ze){ce=ce||{},j=j||{};var Ye;for(Ye in ce)ce.hasOwnProperty(Ye)&&(s.deepEqual(ce[Ye],j[Ye])||de.push({command:ze,args:[ee,Ye,j[Ye],pe]}));for(Ye in j)!j.hasOwnProperty(Ye)||ce.hasOwnProperty(Ye)||s.deepEqual(ce[Ye],j[Ye])||de.push({command:ze,args:[ee,Ye,j[Ye],pe]})}function Tr(ce){return ce.id}function vn(ce,j){return ce[j.id]=j,ce}function Or(ce,j,de){ce=ce||[],j=j||[];var ee=ce.map(Tr),pe=j.map(Tr),ze=ce.reduce(vn,{}),Ye=j.reduce(vn,{}),ft=ee.slice(),Ct=Object.create(null),Nt,qt,ur,lr,Fr,Zr,jr;for(Nt=0,qt=0;Nt<ee.length;Nt++)ur=ee[Nt],Ye.hasOwnProperty(ur)?qt++:(de.push({command:Pt.removeLayer,args:[ur]}),ft.splice(ft.indexOf(ur,qt),1));for(Nt=0,qt=0;Nt<pe.length;Nt++)ur=pe[pe.length-1-Nt],ft[ft.length-1-Nt]!==ur&&(ze.hasOwnProperty(ur)?(de.push({command:Pt.removeLayer,args:[ur]}),ft.splice(ft.lastIndexOf(ur,ft.length-qt),1)):qt++,Zr=ft[ft.length-Nt],de.push({command:Pt.addLayer,args:[Ye[ur],Zr]}),ft.splice(ft.length-Nt,0,ur),Ct[ur]=!0);for(Nt=0;Nt<pe.length;Nt++)if(ur=pe[Nt],lr=ze[ur],Fr=Ye[ur],!(Ct[ur]||s.deepEqual(lr,Fr))){if(!s.deepEqual(lr.source,Fr.source)||!s.deepEqual(lr["source-layer"],Fr["source-layer"])||!s.deepEqual(lr.type,Fr.type)){de.push({command:Pt.removeLayer,args:[ur]}),Zr=ft[ft.lastIndexOf(ur)+1],de.push({command:Pt.addLayer,args:[Fr,Zr]});continue}Ir(lr.layout,Fr.layout,de,ur,null,Pt.setLayoutProperty),Ir(lr.paint,Fr.paint,de,ur,null,Pt.setPaintProperty),s.deepEqual(lr.filter,Fr.filter)||de.push({command:Pt.setFilter,args:[ur,Fr.filter]}),(!s.deepEqual(lr.minzoom,Fr.minzoom)||!s.deepEqual(lr.maxzoom,Fr.maxzoom))&&de.push({command:Pt.setLayerZoomRange,args:[ur,Fr.minzoom,Fr.maxzoom]});for(jr in lr)lr.hasOwnProperty(jr)&&(jr==="layout"||jr==="paint"||jr==="filter"||jr==="metadata"||jr==="minzoom"||jr==="maxzoom"||(jr.indexOf("paint.")===0?Ir(lr[jr],Fr[jr],de,ur,jr.slice(6),Pt.setPaintProperty):s.deepEqual(lr[jr],Fr[jr])||de.push({command:Pt.setLayerProperty,args:[ur,jr,Fr[jr]]})));for(jr in Fr)!Fr.hasOwnProperty(jr)||lr.hasOwnProperty(jr)||jr==="layout"||jr==="paint"||jr==="filter"||jr==="metadata"||jr==="minzoom"||jr==="maxzoom"||(jr.indexOf("paint.")===0?Ir(lr[jr],Fr[jr],de,ur,jr.slice(6),Pt.setPaintProperty):s.deepEqual(lr[jr],Fr[jr])||de.push({command:Pt.setLayerProperty,args:[ur,jr,Fr[jr]]}))}}function En(ce,j){if(!ce)return[{command:Pt.setStyle,args:[j]}];var de=[];try{if(!s.deepEqual(ce.version,j.version))return[{command:Pt.setStyle,args:[j]}];s.deepEqual(ce.center,j.center)||de.push({command:Pt.setCenter,args:[j.center]}),s.deepEqual(ce.zoom,j.zoom)||de.push({command:Pt.setZoom,args:[j.zoom]}),s.deepEqual(ce.bearing,j.bearing)||de.push({command:Pt.setBearing,args:[j.bearing]}),s.deepEqual(ce.pitch,j.pitch)||de.push({command:Pt.setPitch,args:[j.pitch]}),s.deepEqual(ce.sprite,j.sprite)||de.push({command:Pt.setSprite,args:[j.sprite]}),s.deepEqual(ce.glyphs,j.glyphs)||de.push({command:Pt.setGlyphs,args:[j.glyphs]}),s.deepEqual(ce.transition,j.transition)||de.push({command:Pt.setTransition,args:[j.transition]}),s.deepEqual(ce.light,j.light)||de.push({command:Pt.setLight,args:[j.light]});var ee={},pe=[];yr(ce.sources,j.sources,pe,ee);var ze=[];ce.layers&&ce.layers.forEach(function(Ye){ee[Ye.source]?de.push({command:Pt.removeLayer,args:[Ye.id]}):ze.push(Ye)}),de=de.concat(pe),Or(ze,j.layers,de)}catch(Ye){console.warn("Unable to compute style diff:",Ye),de=[{command:Pt.setStyle,args:[j]}]}return de}var nn=function(j,de){this.reset(j,de)};nn.prototype.reset=function(j,de){this.points=j||[],this._distances=[0];for(var ee=1;ee<this.points.length;ee++)this._distances[ee]=this._distances[ee-1]+this.points[ee].dist(this.points[ee-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(de||0,this.length*.5),this.paddedLength=this.length-this.padding*2},nn.prototype.lerp=function(j){if(this.points.length===1)return this.points[0];j=s.clamp(j,0,1);for(var de=1,ee=this._distances[de],pe=j*this.paddedLength+this.padding;ee<pe&&de<this._distances.length;)ee=this._distances[++de];var ze=de-1,Ye=this._distances[ze],ft=ee-Ye,Ct=ft>0?(pe-Ye)/ft:0;return this.points[ze].mult(1-Ct).add(this.points[de].mult(Ct))};var gr=function(j,de,ee){var pe=this.boxCells=[],ze=this.circleCells=[];this.xCellCount=Math.ceil(j/ee),this.yCellCount=Math.ceil(de/ee);for(var Ye=0;Ye<this.xCellCount*this.yCellCount;Ye++)pe.push([]),ze.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=j,this.height=de,this.xScale=this.xCellCount/j,this.yScale=this.yCellCount/de,this.boxUid=0,this.circleUid=0};gr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},gr.prototype.insert=function(j,de,ee,pe,ze){this._forEachCell(de,ee,pe,ze,this._insertBoxCell,this.boxUid++),this.boxKeys.push(j),this.bboxes.push(de),this.bboxes.push(ee),this.bboxes.push(pe),this.bboxes.push(ze)},gr.prototype.insertCircle=function(j,de,ee,pe){this._forEachCell(de-pe,ee-pe,de+pe,ee+pe,this._insertCircleCell,this.circleUid++),this.circleKeys.push(j),this.circles.push(de),this.circles.push(ee),this.circles.push(pe)},gr.prototype._insertBoxCell=function(j,de,ee,pe,ze,Ye){this.boxCells[ze].push(Ye)},gr.prototype._insertCircleCell=function(j,de,ee,pe,ze,Ye){this.circleCells[ze].push(Ye)},gr.prototype._query=function(j,de,ee,pe,ze,Ye){if(ee<0||j>this.width||pe<0||de>this.height)return ze?!1:[];var ft=[];if(j<=0&&de<=0&&this.width<=ee&&this.height<=pe){if(ze)return!0;for(var Ct=0;Ct<this.boxKeys.length;Ct++)ft.push({key:this.boxKeys[Ct],x1:this.bboxes[Ct*4],y1:this.bboxes[Ct*4+1],x2:this.bboxes[Ct*4+2],y2:this.bboxes[Ct*4+3]});for(var Nt=0;Nt<this.circleKeys.length;Nt++){var qt=this.circles[Nt*3],ur=this.circles[Nt*3+1],lr=this.circles[Nt*3+2];ft.push({key:this.circleKeys[Nt],x1:qt-lr,y1:ur-lr,x2:qt+lr,y2:ur+lr})}return Ye?ft.filter(Ye):ft}else{var Fr={hitTest:ze,seenUids:{box:{},circle:{}}};return this._forEachCell(j,de,ee,pe,this._queryCell,ft,Fr,Ye),ze?ft.length>0:ft}},gr.prototype._queryCircle=function(j,de,ee,pe,ze){var Ye=j-ee,ft=j+ee,Ct=de-ee,Nt=de+ee;if(ft<0||Ye>this.width||Nt<0||Ct>this.height)return pe?!1:[];var qt=[],ur={hitTest:pe,circle:{x:j,y:de,radius:ee},seenUids:{box:{},circle:{}}};return this._forEachCell(Ye,Ct,ft,Nt,this._queryCellCircle,qt,ur,ze),pe?qt.length>0:qt},gr.prototype.query=function(j,de,ee,pe,ze){return this._query(j,de,ee,pe,!1,ze)},gr.prototype.hitTest=function(j,de,ee,pe,ze){return this._query(j,de,ee,pe,!0,ze)},gr.prototype.hitTestCircle=function(j,de,ee,pe){return this._queryCircle(j,de,ee,!0,pe)},gr.prototype._queryCell=function(j,de,ee,pe,ze,Ye,ft,Ct){var Nt=ft.seenUids,qt=this.boxCells[ze];if(qt!==null)for(var ur=this.bboxes,lr=0,Fr=qt;lr<Fr.length;lr+=1){var Zr=Fr[lr];if(!Nt.box[Zr]){Nt.box[Zr]=!0;var jr=Zr*4;if(j<=ur[jr+2]&&de<=ur[jr+3]&&ee>=ur[jr+0]&&pe>=ur[jr+1]&&(!Ct||Ct(this.boxKeys[Zr]))){if(ft.hitTest)return Ye.push(!0),!0;Ye.push({key:this.boxKeys[Zr],x1:ur[jr],y1:ur[jr+1],x2:ur[jr+2],y2:ur[jr+3]})}}}var Wr=this.circleCells[ze];if(Wr!==null)for(var Jr=this.circles,dn=0,kn=Wr;dn<kn.length;dn+=1){var Un=kn[dn];if(!Nt.circle[Un]){Nt.circle[Un]=!0;var Xn=Un*3;if(this._circleAndRectCollide(Jr[Xn],Jr[Xn+1],Jr[Xn+2],j,de,ee,pe)&&(!Ct||Ct(this.circleKeys[Un]))){if(ft.hitTest)return Ye.push(!0),!0;var Zn=Jr[Xn],Gn=Jr[Xn+1],Jn=Jr[Xn+2];Ye.push({key:this.circleKeys[Un],x1:Zn-Jn,y1:Gn-Jn,x2:Zn+Jn,y2:Gn+Jn})}}}},gr.prototype._queryCellCircle=function(j,de,ee,pe,ze,Ye,ft,Ct){var Nt=ft.circle,qt=ft.seenUids,ur=this.boxCells[ze];if(ur!==null)for(var lr=this.bboxes,Fr=0,Zr=ur;Fr<Zr.length;Fr+=1){var jr=Zr[Fr];if(!qt.box[jr]){qt.box[jr]=!0;var Wr=jr*4;if(this._circleAndRectCollide(Nt.x,Nt.y,Nt.radius,lr[Wr+0],lr[Wr+1],lr[Wr+2],lr[Wr+3])&&(!Ct||Ct(this.boxKeys[jr])))return Ye.push(!0),!0}}var Jr=this.circleCells[ze];if(Jr!==null)for(var dn=this.circles,kn=0,Un=Jr;kn<Un.length;kn+=1){var Xn=Un[kn];if(!qt.circle[Xn]){qt.circle[Xn]=!0;var Zn=Xn*3;if(this._circlesCollide(dn[Zn],dn[Zn+1],dn[Zn+2],Nt.x,Nt.y,Nt.radius)&&(!Ct||Ct(this.circleKeys[Xn])))return Ye.push(!0),!0}}},gr.prototype._forEachCell=function(j,de,ee,pe,ze,Ye,ft,Ct){for(var Nt=this._convertToXCellCoord(j),qt=this._convertToYCellCoord(de),ur=this._convertToXCellCoord(ee),lr=this._convertToYCellCoord(pe),Fr=Nt;Fr<=ur;Fr++)for(var Zr=qt;Zr<=lr;Zr++){var jr=this.xCellCount*Zr+Fr;if(ze.call(this,j,de,ee,pe,jr,Ye,ft,Ct))return}},gr.prototype._convertToXCellCoord=function(j){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(j*this.xScale)))},gr.prototype._convertToYCellCoord=function(j){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(j*this.yScale)))},gr.prototype._circlesCollide=function(j,de,ee,pe,ze,Ye){var ft=pe-j,Ct=ze-de,Nt=ee+Ye;return Nt*Nt>ft*ft+Ct*Ct},gr.prototype._circleAndRectCollide=function(j,de,ee,pe,ze,Ye,ft){var Ct=(Ye-pe)/2,Nt=Math.abs(j-(pe+Ct));if(Nt>Ct+ee)return!1;var qt=(ft-ze)/2,ur=Math.abs(de-(ze+qt));if(ur>qt+ee)return!1;if(Nt<=Ct||ur<=qt)return!0;var lr=Nt-Ct,Fr=ur-qt;return lr*lr+Fr*Fr<=ee*ee};function Pr(ce,j,de,ee,pe){var ze=s.create();return j?(s.scale(ze,ze,[1/pe,1/pe,1]),de||s.rotateZ(ze,ze,ee.angle)):s.multiply(ze,ee.labelPlaneMatrix,ce),ze}function Xr(ce,j,de,ee,pe){if(j){var ze=s.clone(ce);return s.scale(ze,ze,[pe,pe,1]),de||s.rotateZ(ze,ze,-ee.angle),ze}else return ee.glCoordMatrix}function kr(ce,j){var de=[ce.x,ce.y,0,1];Cr(de,de,j);var ee=de[3];return{point:new s.Point(de[0]/ee,de[1]/ee),signedDistanceFromCamera:ee}}function pn(ce,j){return .5+.5*(ce/j)}function tn(ce,j){var de=ce[0]/ce[3],ee=ce[1]/ce[3],pe=de>=-j[0]&&de<=j[0]&&ee>=-j[1]&&ee<=j[1];return pe}function Tn(ce,j,de,ee,pe,ze,Ye,ft){var Ct=ee?ce.textSizeData:ce.iconSizeData,Nt=s.evaluateSizeForZoom(Ct,de.transform.zoom),qt=[256/de.width*2+1,256/de.height*2+1],ur=ee?ce.text.dynamicLayoutVertexArray:ce.icon.dynamicLayoutVertexArray;ur.clear();for(var lr=ce.lineVertexArray,Fr=ee?ce.text.placedSymbolArray:ce.icon.placedSymbolArray,Zr=de.transform.width/de.transform.height,jr=!1,Wr=0;Wr<Fr.length;Wr++){var Jr=Fr.get(Wr);if(Jr.hidden||Jr.writingMode===s.WritingMode.vertical&&!jr){Rn(Jr.numGlyphs,ur);continue}jr=!1;var dn=[Jr.anchorX,Jr.anchorY,0,1];if(s.transformMat4(dn,dn,j),!tn(dn,qt)){Rn(Jr.numGlyphs,ur);continue}var kn=dn[3],Un=pn(de.transform.cameraToCenterDistance,kn),Xn=s.evaluateSizeForFeature(Ct,Nt,Jr),Zn=Ye?Xn/Un:Xn*Un,Gn=new s.Point(Jr.anchorX,Jr.anchorY),Jn=kr(Gn,pe).point,na={},ua=pa(Jr,Zn,!1,ft,j,pe,ze,ce.glyphOffsetArray,lr,ur,Jn,Gn,na,Zr);jr=ua.useVertical,(ua.notEnoughRoom||jr||ua.needsFlipping&&pa(Jr,Zn,!0,ft,j,pe,ze,ce.glyphOffsetArray,lr,ur,Jn,Gn,na,Zr).notEnoughRoom)&&Rn(Jr.numGlyphs,ur)}ee?ce.text.dynamicLayoutVertexBuffer.updateData(ur):ce.icon.dynamicLayoutVertexBuffer.updateData(ur)}function Ln(ce,j,de,ee,pe,ze,Ye,ft,Ct,Nt,qt){var ur=ft.glyphStartIndex+ft.numGlyphs,lr=ft.lineStartIndex,Fr=ft.lineStartIndex+ft.lineLength,Zr=j.getoffsetX(ft.glyphStartIndex),jr=j.getoffsetX(ur-1),Wr=ia(ce*Zr,de,ee,pe,ze,Ye,ft.segment,lr,Fr,Ct,Nt,qt);if(!Wr)return null;var Jr=ia(ce*jr,de,ee,pe,ze,Ye,ft.segment,lr,Fr,Ct,Nt,qt);return Jr?{first:Wr,last:Jr}:null}function Hn(ce,j,de,ee){if(ce===s.WritingMode.horizontal){var pe=Math.abs(de.y-j.y),ze=Math.abs(de.x-j.x)*ee;if(pe>ze)return{useVertical:!0}}return(ce===s.WritingMode.vertical?j.y<de.y:j.x>de.x)?{needsFlipping:!0}:null}function pa(ce,j,de,ee,pe,ze,Ye,ft,Ct,Nt,qt,ur,lr,Fr){var Zr=j/24,jr=ce.lineOffsetX*Zr,Wr=ce.lineOffsetY*Zr,Jr;if(ce.numGlyphs>1){var dn=ce.glyphStartIndex+ce.numGlyphs,kn=ce.lineStartIndex,Un=ce.lineStartIndex+ce.lineLength,Xn=Ln(Zr,ft,jr,Wr,de,qt,ur,ce,Ct,ze,lr);if(!Xn)return{notEnoughRoom:!0};var Zn=kr(Xn.first.point,Ye).point,Gn=kr(Xn.last.point,Ye).point;if(ee&&!de){var Jn=Hn(ce.writingMode,Zn,Gn,Fr);if(Jn)return Jn}Jr=[Xn.first];for(var na=ce.glyphStartIndex+1;na<dn-1;na++)Jr.push(ia(Zr*ft.getoffsetX(na),jr,Wr,de,qt,ur,ce.segment,kn,Un,Ct,ze,lr));Jr.push(Xn.last)}else{if(ee&&!de){var ua=kr(ur,pe).point,ya=ce.lineStartIndex+ce.segment+1,va=new s.Point(Ct.getx(ya),Ct.gety(ya)),_a=kr(va,pe),Qa=_a.signedDistanceFromCamera>0?_a.point:xa(ur,va,ua,1,pe),Ya=Hn(ce.writingMode,ua,Qa,Fr);if(Ya)return Ya}var Aa=ia(Zr*ft.getoffsetX(ce.glyphStartIndex),jr,Wr,de,qt,ur,ce.segment,ce.lineStartIndex,ce.lineStartIndex+ce.lineLength,Ct,ze,lr);if(!Aa)return{notEnoughRoom:!0};Jr=[Aa]}for(var Xa=0,Ua=Jr;Xa<Ua.length;Xa+=1){var ii=Ua[Xa];s.addDynamicAttributes(Nt,ii.point,ii.angle)}return{}}function xa(ce,j,de,ee,pe){var ze=kr(ce.add(ce.sub(j)._unit()),pe).point,Ye=de.sub(ze);return de.add(Ye._mult(ee/Ye.mag()))}function ia(ce,j,de,ee,pe,ze,Ye,ft,Ct,Nt,qt,ur){var lr=ee?ce-j:ce+j,Fr=lr>0?1:-1,Zr=0;ee&&(Fr*=-1,Zr=Math.PI),Fr<0&&(Zr+=Math.PI);for(var jr=Fr>0?ft+Ye:ft+Ye+1,Wr=pe,Jr=pe,dn=0,kn=0,Un=Math.abs(lr),Xn=[];dn+kn<=Un;){if(jr+=Fr,jr<ft||jr>=Ct)return null;if(Jr=Wr,Xn.push(Wr),Wr=ur[jr],Wr===void 0){var Zn=new s.Point(Nt.getx(jr),Nt.gety(jr)),Gn=kr(Zn,qt);if(Gn.signedDistanceFromCamera>0)Wr=ur[jr]=Gn.point;else{var Jn=jr-Fr,na=dn===0?ze:new s.Point(Nt.getx(Jn),Nt.gety(Jn));Wr=xa(na,Zn,Jr,Un-dn+1,qt)}}dn+=kn,kn=Jr.dist(Wr)}var ua=(Un-dn)/kn,ya=Wr.sub(Jr),va=ya.mult(ua)._add(Jr);va._add(ya._unit()._perp()._mult(de*Fr));var _a=Zr+Math.atan2(Wr.y-Jr.y,Wr.x-Jr.x);return Xn.push(va),{point:va,angle:_a,path:Xn}}var ra=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Rn(ce,j){for(var de=0;de<ce;de++){var ee=j.length;j.resize(ee+4),j.float32.set(ra,ee*3)}}function Cr(ce,j,de){var ee=j[0],pe=j[1];return ce[0]=de[0]*ee+de[4]*pe+de[12],ce[1]=de[1]*ee+de[5]*pe+de[13],ce[3]=de[3]*ee+de[7]*pe+de[15],ce}var an=100,on=function(j,de,ee){de===void 0&&(de=new gr(j.width+2*an,j.height+2*an,25)),ee===void 0&&(ee=new gr(j.width+2*an,j.height+2*an,25)),this.transform=j,this.grid=de,this.ignoredGrid=ee,this.pitchfactor=Math.cos(j._pitch)*j.cameraToCenterDistance,this.screenRightBoundary=j.width+an,this.screenBottomBoundary=j.height+an,this.gridRightBoundary=j.width+2*an,this.gridBottomBoundary=j.height+2*an};on.prototype.placeCollisionBox=function(j,de,ee,pe,ze){var Ye=this.projectAndGetPerspectiveRatio(pe,j.anchorPointX,j.anchorPointY),ft=ee*Ye.perspectiveRatio,Ct=j.x1*ft+Ye.point.x,Nt=j.y1*ft+Ye.point.y,qt=j.x2*ft+Ye.point.x,ur=j.y2*ft+Ye.point.y;return!this.isInsideGrid(Ct,Nt,qt,ur)||!de&&this.grid.hitTest(Ct,Nt,qt,ur,ze)?{box:[],offscreen:!1}:{box:[Ct,Nt,qt,ur],offscreen:this.isOffscreen(Ct,Nt,qt,ur)}},on.prototype.placeCollisionCircles=function(j,de,ee,pe,ze,Ye,ft,Ct,Nt,qt,ur,lr,Fr){var Zr=[],jr=new s.Point(de.anchorX,de.anchorY),Wr=kr(jr,Ye),Jr=pn(this.transform.cameraToCenterDistance,Wr.signedDistanceFromCamera),dn=qt?ze/Jr:ze*Jr,kn=dn/s.ONE_EM,Un=kr(jr,ft).point,Xn={},Zn=de.lineOffsetX*kn,Gn=de.lineOffsetY*kn,Jn=Ln(kn,pe,Zn,Gn,!1,Un,jr,de,ee,ft,Xn),na=!1,ua=!1,ya=!0;if(Jn){for(var va=lr*.5*Jr+Fr,_a=new s.Point(-an,-an),Qa=new s.Point(this.screenRightBoundary,this.screenBottomBoundary),Ya=new nn,Aa=Jn.first,Xa=Jn.last,Ua=[],ii=Aa.path.length-1;ii>=1;ii--)Ua.push(Aa.path[ii]);for(var ti=1;ti<Xa.path.length;ti++)Ua.push(Xa.path[ti]);var Ti=va*2.5;if(Ct){var Ja=Ua.map(function(yl){return kr(yl,Ct)});Ja.some(function(yl){return yl.signedDistanceFromCamera<=0})?Ua=[]:Ua=Ja.map(function(yl){return yl.point})}var gi=[];if(Ua.length>0){for(var Va=Ua[0].clone(),$a=Ua[0].clone(),Oi=1;Oi<Ua.length;Oi++)Va.x=Math.min(Va.x,Ua[Oi].x),Va.y=Math.min(Va.y,Ua[Oi].y),$a.x=Math.max($a.x,Ua[Oi].x),$a.y=Math.max($a.y,Ua[Oi].y);Va.x>=_a.x&&$a.x<=Qa.x&&Va.y>=_a.y&&$a.y<=Qa.y?gi=[Ua]:$a.x<_a.x||Va.x>Qa.x||$a.y<_a.y||Va.y>Qa.y?gi=[]:gi=s.clipLine([Ua],_a.x,_a.y,Qa.x,Qa.y)}for(var go=0,Ks=gi;go<Ks.length;go+=1){var Js=Ks[go];Ya.reset(Js,va*.25);var dl=0;Ya.length<=.5*va?dl=1:dl=Math.ceil(Ya.paddedLength/Ti)+1;for(var Yl=0;Yl<dl;Yl++){var Cf=Yl/Math.max(dl-1,1),Xl=Ya.lerp(Cf),qo=Xl.x+an,jl=Xl.y+an;Zr.push(qo,jl,va,0);var ps=qo-va,es=jl-va,pl=qo+va,Mu=jl+va;if(ya=ya&&this.isOffscreen(ps,es,pl,Mu),ua=ua||this.isInsideGrid(ps,es,pl,Mu),!j&&this.grid.hitTestCircle(qo,jl,va,ur)&&(na=!0,!Nt))return{circles:[],offscreen:!1,collisionDetected:na}}}}return{circles:!Nt&&na||!ua?[]:Zr,offscreen:ya,collisionDetected:na}},on.prototype.queryRenderedSymbols=function(j){if(j.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var de=[],ee=1/0,pe=1/0,ze=-1/0,Ye=-1/0,ft=0,Ct=j;ft<Ct.length;ft+=1){var Nt=Ct[ft],qt=new s.Point(Nt.x+an,Nt.y+an);ee=Math.min(ee,qt.x),pe=Math.min(pe,qt.y),ze=Math.max(ze,qt.x),Ye=Math.max(Ye,qt.y),de.push(qt)}for(var ur=this.grid.query(ee,pe,ze,Ye).concat(this.ignoredGrid.query(ee,pe,ze,Ye)),lr={},Fr={},Zr=0,jr=ur;Zr<jr.length;Zr+=1){var Wr=jr[Zr],Jr=Wr.key;if(lr[Jr.bucketInstanceId]===void 0&&(lr[Jr.bucketInstanceId]={}),!lr[Jr.bucketInstanceId][Jr.featureIndex]){var dn=[new s.Point(Wr.x1,Wr.y1),new s.Point(Wr.x2,Wr.y1),new s.Point(Wr.x2,Wr.y2),new s.Point(Wr.x1,Wr.y2)];s.polygonIntersectsPolygon(de,dn)&&(lr[Jr.bucketInstanceId][Jr.featureIndex]=!0,Fr[Jr.bucketInstanceId]===void 0&&(Fr[Jr.bucketInstanceId]=[]),Fr[Jr.bucketInstanceId].push(Jr.featureIndex))}}return Fr},on.prototype.insertCollisionBox=function(j,de,ee,pe,ze){var Ye=de?this.ignoredGrid:this.grid,ft={bucketInstanceId:ee,featureIndex:pe,collisionGroupID:ze};Ye.insert(ft,j[0],j[1],j[2],j[3])},on.prototype.insertCollisionCircles=function(j,de,ee,pe,ze){for(var Ye=de?this.ignoredGrid:this.grid,ft={bucketInstanceId:ee,featureIndex:pe,collisionGroupID:ze},Ct=0;Ct<j.length;Ct+=4)Ye.insertCircle(ft,j[Ct],j[Ct+1],j[Ct+2])},on.prototype.projectAndGetPerspectiveRatio=function(j,de,ee){var pe=[de,ee,0,1];Cr(pe,pe,j);var ze=new s.Point((pe[0]/pe[3]+1)/2*this.transform.width+an,(-pe[1]/pe[3]+1)/2*this.transform.height+an);return{point:ze,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/pe[3])}},on.prototype.isOffscreen=function(j,de,ee,pe){return ee<an||j>=this.screenRightBoundary||pe<an||de>this.screenBottomBoundary},on.prototype.isInsideGrid=function(j,de,ee,pe){return ee>=0&&j<this.gridRightBoundary&&pe>=0&&de<this.gridBottomBoundary},on.prototype.getViewportMatrix=function(){var j=s.identity([]);return s.translate(j,j,[-an,-an,0]),j};function ln(ce,j,de){return j*(s.EXTENT/(ce.tileSize*Math.pow(2,de-ce.tileID.overscaledZ)))}var On=function(j,de,ee,pe){j?this.opacity=Math.max(0,Math.min(1,j.opacity+(j.placed?de:-de))):this.opacity=pe&&ee?1:0,this.placed=ee};On.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var gn=function(j,de,ee,pe,ze){this.text=new On(j?j.text:null,de,ee,ze),this.icon=new On(j?j.icon:null,de,pe,ze)};gn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Cn=function(j,de,ee){this.text=j,this.icon=de,this.skipFade=ee},Bn=function(){this.invProjMatrix=s.create(),this.viewportMatrix=s.create(),this.circles=[]},Qn=function(j,de,ee,pe,ze){this.bucketInstanceId=j,this.featureIndex=de,this.sourceLayerIndex=ee,this.bucketIndex=pe,this.tileID=ze},ha=function(j){this.crossSourceCollisions=j,this.maxGroupID=0,this.collisionGroups={}};ha.prototype.get=function(j){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[j]){var de=++this.maxGroupID;this.collisionGroups[j]={ID:de,predicate:function(ee){return ee.collisionGroupID===de}}}return this.collisionGroups[j]};function Ra(ce,j,de,ee,pe){var ze=s.getAnchorAlignment(ce),Ye=ze.horizontalAlign,ft=ze.verticalAlign,Ct=-(Ye-.5)*j,Nt=-(ft-.5)*de,qt=s.evaluateVariableOffset(ce,ee);return new s.Point(Ct+qt[0]*pe,Nt+qt[1]*pe)}function Ar(ce,j,de,ee,pe,ze){var Ye=ce.x1,ft=ce.x2,Ct=ce.y1,Nt=ce.y2,qt=ce.anchorPointX,ur=ce.anchorPointY,lr=new s.Point(j,de);return ee&&lr._rotate(pe?ze:-ze),{x1:Ye+lr.x,y1:Ct+lr.y,x2:ft+lr.x,y2:Nt+lr.y,anchorPointX:qt,anchorPointY:ur}}var Br=function(j,de,ee,pe){this.transform=j.clone(),this.collisionIndex=new on(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=de,this.retainedQueryData={},this.collisionGroups=new ha(ee),this.collisionCircleArrays={},this.prevPlacement=pe,pe&&(pe.prevPlacement=void 0),this.placedOrientations={}};Br.prototype.getBucketParts=function(j,de,ee,pe){var ze=ee.getBucket(de),Ye=ee.latestFeatureIndex;if(!(!ze||!Ye||de.id!==ze.layerIds[0])){var ft=ee.collisionBoxArray,Ct=ze.layers[0].layout,Nt=Math.pow(2,this.transform.zoom-ee.tileID.overscaledZ),qt=ee.tileSize/s.EXTENT,ur=this.transform.calculatePosMatrix(ee.tileID.toUnwrapped()),lr=Ct.get("text-pitch-alignment")==="map",Fr=Ct.get("text-rotation-alignment")==="map",Zr=ln(ee,1,this.transform.zoom),jr=Pr(ur,lr,Fr,this.transform,Zr),Wr=null;if(lr){var Jr=Xr(ur,lr,Fr,this.transform,Zr);Wr=s.multiply([],this.transform.labelPlaneMatrix,Jr)}this.retainedQueryData[ze.bucketInstanceId]=new Qn(ze.bucketInstanceId,Ye,ze.sourceLayerIndex,ze.index,ee.tileID);var dn={bucket:ze,layout:Ct,posMatrix:ur,textLabelPlaneMatrix:jr,labelToScreenMatrix:Wr,scale:Nt,textPixelRatio:qt,holdingForFade:ee.holdingForFade(),collisionBoxArray:ft,partiallyEvaluatedTextSize:s.evaluateSizeForZoom(ze.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(ze.sourceID)};if(pe)for(var kn=0,Un=ze.sortKeyRanges;kn<Un.length;kn+=1){var Xn=Un[kn],Zn=Xn.sortKey,Gn=Xn.symbolInstanceStart,Jn=Xn.symbolInstanceEnd;j.push({sortKey:Zn,symbolInstanceStart:Gn,symbolInstanceEnd:Jn,parameters:dn})}else j.push({symbolInstanceStart:0,symbolInstanceEnd:ze.symbolInstances.length,parameters:dn})}},Br.prototype.attemptAnchorPlacement=function(j,de,ee,pe,ze,Ye,ft,Ct,Nt,qt,ur,lr,Fr,Zr,jr){var Wr=[lr.textOffset0,lr.textOffset1],Jr=Ra(j,ee,pe,Wr,ze),dn=this.collisionIndex.placeCollisionBox(Ar(de,Jr.x,Jr.y,Ye,ft,this.transform.angle),ur,Ct,Nt,qt.predicate);if(jr){var kn=this.collisionIndex.placeCollisionBox(Ar(jr,Jr.x,Jr.y,Ye,ft,this.transform.angle),ur,Ct,Nt,qt.predicate);if(kn.box.length===0)return}if(dn.box.length>0){var Un;return this.prevPlacement&&this.prevPlacement.variableOffsets[lr.crossTileID]&&this.prevPlacement.placements[lr.crossTileID]&&this.prevPlacement.placements[lr.crossTileID].text&&(Un=this.prevPlacement.variableOffsets[lr.crossTileID].anchor),this.variableOffsets[lr.crossTileID]={textOffset:Wr,width:ee,height:pe,anchor:j,textBoxScale:ze,prevAnchor:Un},this.markUsedJustification(Fr,j,lr,Zr),Fr.allowVerticalPlacement&&(this.markUsedOrientation(Fr,Zr,lr),this.placedOrientations[lr.crossTileID]=Zr),{shift:Jr,placedGlyphBoxes:dn}}},Br.prototype.placeLayerBucketPart=function(j,de,ee){var pe=this,ze=j.parameters,Ye=ze.bucket,ft=ze.layout,Ct=ze.posMatrix,Nt=ze.textLabelPlaneMatrix,qt=ze.labelToScreenMatrix,ur=ze.textPixelRatio,lr=ze.holdingForFade,Fr=ze.collisionBoxArray,Zr=ze.partiallyEvaluatedTextSize,jr=ze.collisionGroup,Wr=ft.get("text-optional"),Jr=ft.get("icon-optional"),dn=ft.get("text-allow-overlap"),kn=ft.get("icon-allow-overlap"),Un=ft.get("text-rotation-alignment")==="map",Xn=ft.get("text-pitch-alignment")==="map",Zn=ft.get("icon-text-fit")!=="none",Gn=ft.get("symbol-z-order")==="viewport-y",Jn=dn&&(kn||!Ye.hasIconData()||Jr),na=kn&&(dn||!Ye.hasTextData()||Wr);!Ye.collisionArrays&&Fr&&Ye.deserializeCollisionBoxes(Fr);var ua=function(Aa,Xa){if(!de[Aa.crossTileID]){if(lr){pe.placements[Aa.crossTileID]=new Cn(!1,!1,!1);return}var Ua=!1,ii=!1,ti=!0,Ti=null,Ja={box:null,offscreen:null},gi={box:null,offscreen:null},Va=null,$a=null,Oi=null,go=0,Ks=0,Js=0;Xa.textFeatureIndex?go=Xa.textFeatureIndex:Aa.useRuntimeCollisionCircles&&(go=Aa.featureIndex),Xa.verticalTextFeatureIndex&&(Ks=Xa.verticalTextFeatureIndex);var dl=Xa.textBox;if(dl){var Yl=function(Gi){var gs=s.WritingMode.horizontal;if(Ye.allowVerticalPlacement&&!Gi&&pe.prevPlacement){var ys=pe.prevPlacement.placedOrientations[Aa.crossTileID];ys&&(pe.placedOrientations[Aa.crossTileID]=ys,gs=ys,pe.markUsedOrientation(Ye,gs,Aa))}return gs},Cf=function(Gi,gs){if(Ye.allowVerticalPlacement&&Aa.numVerticalGlyphVertices>0&&Xa.verticalTextBox)for(var ys=0,Nh=Ye.writingModes;ys<Nh.length;ys+=1){var Uv=Nh[ys];if(Uv===s.WritingMode.vertical?(Ja=gs(),gi=Ja):Ja=Gi(),Ja&&Ja.box&&Ja.box.length)break}else Ja=Gi()};if(ft.get("text-variable-anchor")){var ps=ft.get("text-variable-anchor");if(pe.prevPlacement&&pe.prevPlacement.variableOffsets[Aa.crossTileID]){var es=pe.prevPlacement.variableOffsets[Aa.crossTileID];ps.indexOf(es.anchor)>0&&(ps=ps.filter(function(Gi){return Gi!==es.anchor}),ps.unshift(es.anchor))}var pl=function(Gi,gs,ys){for(var Nh=Gi.x2-Gi.x1,Uv=Gi.y2-Gi.y1,U0=Aa.textBoxScale,V0=Zn&&!kn?gs:null,vh={box:[],offscreen:!1},H0=dn?ps.length*2:ps.length,Uh=0;Uh<H0;++Uh){var G0=ps[Uh%ps.length],W0=Uh>=ps.length,Vv=pe.attemptAnchorPlacement(G0,Gi,Nh,Uv,U0,Un,Xn,ur,Ct,jr,W0,Aa,Ye,ys,V0);if(Vv&&(vh=Vv.placedGlyphBoxes,vh&&vh.box&&vh.box.length)){Ua=!0,Ti=Vv.shift;break}}return vh},Mu=function(){return pl(dl,Xa.iconBox,s.WritingMode.horizontal)},yl=function(){var Gi=Xa.verticalTextBox,gs=Ja&&Ja.box&&Ja.box.length;return Ye.allowVerticalPlacement&&!gs&&Aa.numVerticalGlyphVertices>0&&Gi?pl(Gi,Xa.verticalIconBox,s.WritingMode.vertical):{box:null,offscreen:null}};Cf(Mu,yl),Ja&&(Ua=Ja.box,ti=Ja.offscreen);var _h=Yl(Ja&&Ja.box);if(!Ua&&pe.prevPlacement){var pc=pe.prevPlacement.variableOffsets[Aa.crossTileID];pc&&(pe.variableOffsets[Aa.crossTileID]=pc,pe.markUsedJustification(Ye,pc.anchor,Aa,_h))}}else{var Xl=function(Gi,gs){var ys=pe.collisionIndex.placeCollisionBox(Gi,dn,ur,Ct,jr.predicate);return ys&&ys.box&&ys.box.length&&(pe.markUsedOrientation(Ye,gs,Aa),pe.placedOrientations[Aa.crossTileID]=gs),ys},qo=function(){return Xl(dl,s.WritingMode.horizontal)},jl=function(){var Gi=Xa.verticalTextBox;return Ye.allowVerticalPlacement&&Aa.numVerticalGlyphVertices>0&&Gi?Xl(Gi,s.WritingMode.vertical):{box:null,offscreen:null}};Cf(qo,jl),Yl(Ja&&Ja.box&&Ja.box.length)}}if(Va=Ja,Ua=Va&&Va.box&&Va.box.length>0,ti=Va&&Va.offscreen,Aa.useRuntimeCollisionCircles){var wo=Ye.text.placedSymbolArray.get(Aa.centerJustifiedTextSymbolIndex),zh=s.evaluateSizeForFeature(Ye.textSizeData,Zr,wo),hh=ft.get("text-padding"),No=Aa.collisionCircleDiameter;$a=pe.collisionIndex.placeCollisionCircles(dn,wo,Ye.lineVertexArray,Ye.glyphOffsetArray,zh,Ct,Nt,qt,ee,Xn,jr.predicate,No,hh),Ua=dn||$a.circles.length>0&&!$a.collisionDetected,ti=ti&&$a.offscreen}if(Xa.iconFeatureIndex&&(Js=Xa.iconFeatureIndex),Xa.iconBox){var gc=function(Gi){var gs=Zn&&Ti?Ar(Gi,Ti.x,Ti.y,Un,Xn,pe.transform.angle):Gi;return pe.collisionIndex.placeCollisionBox(gs,kn,ur,Ct,jr.predicate)};gi&&gi.box&&gi.box.length&&Xa.verticalIconBox?(Oi=gc(Xa.verticalIconBox),ii=Oi.box.length>0):(Oi=gc(Xa.iconBox),ii=Oi.box.length>0),ti=ti&&Oi.offscreen}var Fh=Wr||Aa.numHorizontalGlyphVertices===0&&Aa.numVerticalGlyphVertices===0,Oh=Jr||Aa.numIconVertices===0;if(!Fh&&!Oh?ii=Ua=ii&&Ua:Oh?Fh||(ii=ii&&Ua):Ua=ii&&Ua,Ua&&Va&&Va.box&&(gi&&gi.box&&Ks?pe.collisionIndex.insertCollisionBox(Va.box,ft.get("text-ignore-placement"),Ye.bucketInstanceId,Ks,jr.ID):pe.collisionIndex.insertCollisionBox(Va.box,ft.get("text-ignore-placement"),Ye.bucketInstanceId,go,jr.ID)),ii&&Oi&&pe.collisionIndex.insertCollisionBox(Oi.box,ft.get("icon-ignore-placement"),Ye.bucketInstanceId,Js,jr.ID),$a&&(Ua&&pe.collisionIndex.insertCollisionCircles($a.circles,ft.get("text-ignore-placement"),Ye.bucketInstanceId,go,jr.ID),ee)){var Bh=Ye.bucketInstanceId,yc=pe.collisionCircleArrays[Bh];yc===void 0&&(yc=pe.collisionCircleArrays[Bh]=new Bn);for(var mc=0;mc<$a.circles.length;mc+=4)yc.circles.push($a.circles[mc+0]),yc.circles.push($a.circles[mc+1]),yc.circles.push($a.circles[mc+2]),yc.circles.push($a.collisionDetected?1:0)}pe.placements[Aa.crossTileID]=new Cn(Ua||Jn,ii||na,ti||Ye.justReloaded),de[Aa.crossTileID]=!0}};if(Gn)for(var ya=Ye.getSortedSymbolIndexes(this.transform.angle),va=ya.length-1;va>=0;--va){var _a=ya[va];ua(Ye.symbolInstances.get(_a),Ye.collisionArrays[_a])}else for(var Qa=j.symbolInstanceStart;Qa<j.symbolInstanceEnd;Qa++)ua(Ye.symbolInstances.get(Qa),Ye.collisionArrays[Qa]);if(ee&&Ye.bucketInstanceId in this.collisionCircleArrays){var Ya=this.collisionCircleArrays[Ye.bucketInstanceId];s.invert(Ya.invProjMatrix,Ct),Ya.viewportMatrix=this.collisionIndex.getViewportMatrix()}Ye.justReloaded=!1},Br.prototype.markUsedJustification=function(j,de,ee,pe){var ze={left:ee.leftJustifiedTextSymbolIndex,center:ee.centerJustifiedTextSymbolIndex,right:ee.rightJustifiedTextSymbolIndex},Ye;pe===s.WritingMode.vertical?Ye=ee.verticalPlacedTextSymbolIndex:Ye=ze[s.getAnchorJustification(de)];for(var ft=[ee.leftJustifiedTextSymbolIndex,ee.centerJustifiedTextSymbolIndex,ee.rightJustifiedTextSymbolIndex,ee.verticalPlacedTextSymbolIndex],Ct=0,Nt=ft;Ct<Nt.length;Ct+=1){var qt=Nt[Ct];qt>=0&&(Ye>=0&&qt!==Ye?j.text.placedSymbolArray.get(qt).crossTileID=0:j.text.placedSymbolArray.get(qt).crossTileID=ee.crossTileID)}},Br.prototype.markUsedOrientation=function(j,de,ee){for(var pe=de===s.WritingMode.horizontal||de===s.WritingMode.horizontalOnly?de:0,ze=de===s.WritingMode.vertical?de:0,Ye=[ee.leftJustifiedTextSymbolIndex,ee.centerJustifiedTextSymbolIndex,ee.rightJustifiedTextSymbolIndex],ft=0,Ct=Ye;ft<Ct.length;ft+=1){var Nt=Ct[ft];j.text.placedSymbolArray.get(Nt).placedOrientation=pe}ee.verticalPlacedTextSymbolIndex&&(j.text.placedSymbolArray.get(ee.verticalPlacedTextSymbolIndex).placedOrientation=ze)},Br.prototype.commit=function(j){this.commitTime=j,this.zoomAtLastRecencyCheck=this.transform.zoom;var de=this.prevPlacement,ee=!1;this.prevZoomAdjustment=de?de.zoomAdjustment(this.transform.zoom):0;var pe=de?de.symbolFadeChange(j):1,ze=de?de.opacities:{},Ye=de?de.variableOffsets:{},ft=de?de.placedOrientations:{};for(var Ct in this.placements){var Nt=this.placements[Ct],qt=ze[Ct];qt?(this.opacities[Ct]=new gn(qt,pe,Nt.text,Nt.icon),ee=ee||Nt.text!==qt.text.placed||Nt.icon!==qt.icon.placed):(this.opacities[Ct]=new gn(null,pe,Nt.text,Nt.icon,Nt.skipFade),ee=ee||Nt.text||Nt.icon)}for(var ur in ze){var lr=ze[ur];if(!this.opacities[ur]){var Fr=new gn(lr,pe,!1,!1);Fr.isHidden()||(this.opacities[ur]=Fr,ee=ee||lr.text.placed||lr.icon.placed)}}for(var Zr in Ye)!this.variableOffsets[Zr]&&this.opacities[Zr]&&!this.opacities[Zr].isHidden()&&(this.variableOffsets[Zr]=Ye[Zr]);for(var jr in ft)!this.placedOrientations[jr]&&this.opacities[jr]&&!this.opacities[jr].isHidden()&&(this.placedOrientations[jr]=ft[jr]);ee?this.lastPlacementChangeTime=j:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=de?de.lastPlacementChangeTime:j)},Br.prototype.updateLayerOpacities=function(j,de){for(var ee={},pe=0,ze=de;pe<ze.length;pe+=1){var Ye=ze[pe],ft=Ye.getBucket(j);ft&&Ye.latestFeatureIndex&&j.id===ft.layerIds[0]&&this.updateBucketOpacities(ft,ee,Ye.collisionBoxArray)}},Br.prototype.updateBucketOpacities=function(j,de,ee){var pe=this;j.hasTextData()&&j.text.opacityVertexArray.clear(),j.hasIconData()&&j.icon.opacityVertexArray.clear(),j.hasIconCollisionBoxData()&&j.iconCollisionBox.collisionVertexArray.clear(),j.hasTextCollisionBoxData()&&j.textCollisionBox.collisionVertexArray.clear();var ze=j.layers[0].layout,Ye=new gn(null,0,!1,!1,!0),ft=ze.get("text-allow-overlap"),Ct=ze.get("icon-allow-overlap"),Nt=ze.get("text-variable-anchor"),qt=ze.get("text-rotation-alignment")==="map",ur=ze.get("text-pitch-alignment")==="map",lr=ze.get("icon-text-fit")!=="none",Fr=new gn(null,0,ft&&(Ct||!j.hasIconData()||ze.get("icon-optional")),Ct&&(ft||!j.hasTextData()||ze.get("text-optional")),!0);!j.collisionArrays&&ee&&(j.hasIconCollisionBoxData()||j.hasTextCollisionBoxData())&&j.deserializeCollisionBoxes(ee);for(var Zr=function(dn,kn,Un){for(var Xn=0;Xn<kn/4;Xn++)dn.opacityVertexArray.emplaceBack(Un)},jr=function(dn){var kn=j.symbolInstances.get(dn),Un=kn.numHorizontalGlyphVertices,Xn=kn.numVerticalGlyphVertices,Zn=kn.crossTileID,Gn=de[Zn],Jn=pe.opacities[Zn];Gn?Jn=Ye:Jn||(Jn=Fr,pe.opacities[Zn]=Jn),de[Zn]=!0;var na=Un>0||Xn>0,ua=kn.numIconVertices>0,ya=pe.placedOrientations[kn.crossTileID],va=ya===s.WritingMode.vertical,_a=ya===s.WritingMode.horizontal||ya===s.WritingMode.horizontalOnly;if(na){var Qa=Gr(Jn.text),Ya=va?$r:Qa;Zr(j.text,Un,Ya);var Aa=_a?$r:Qa;Zr(j.text,Xn,Aa);var Xa=Jn.text.isHidden();[kn.rightJustifiedTextSymbolIndex,kn.centerJustifiedTextSymbolIndex,kn.leftJustifiedTextSymbolIndex].forEach(function(Js){Js>=0&&(j.text.placedSymbolArray.get(Js).hidden=Xa||va?1:0)}),kn.verticalPlacedTextSymbolIndex>=0&&(j.text.placedSymbolArray.get(kn.verticalPlacedTextSymbolIndex).hidden=Xa||_a?1:0);var Ua=pe.variableOffsets[kn.crossTileID];Ua&&pe.markUsedJustification(j,Ua.anchor,kn,ya);var ii=pe.placedOrientations[kn.crossTileID];ii&&(pe.markUsedJustification(j,"left",kn,ii),pe.markUsedOrientation(j,ii,kn))}if(ua){var ti=Gr(Jn.icon),Ti=!(lr&&kn.verticalPlacedIconSymbolIndex&&va);if(kn.placedIconSymbolIndex>=0){var Ja=Ti?ti:$r;Zr(j.icon,kn.numIconVertices,Ja),j.icon.placedSymbolArray.get(kn.placedIconSymbolIndex).hidden=Jn.icon.isHidden()}if(kn.verticalPlacedIconSymbolIndex>=0){var gi=Ti?$r:ti;Zr(j.icon,kn.numVerticalIconVertices,gi),j.icon.placedSymbolArray.get(kn.verticalPlacedIconSymbolIndex).hidden=Jn.icon.isHidden()}}if(j.hasIconCollisionBoxData()||j.hasTextCollisionBoxData()){var Va=j.collisionArrays[dn];if(Va){var $a=new s.Point(0,0);if(Va.textBox||Va.verticalTextBox){var Oi=!0;if(Nt){var go=pe.variableOffsets[Zn];go?($a=Ra(go.anchor,go.width,go.height,go.textOffset,go.textBoxScale),qt&&$a._rotate(ur?pe.transform.angle:-pe.transform.angle)):Oi=!1}Va.textBox&&Mr(j.textCollisionBox.collisionVertexArray,Jn.text.placed,!Oi||va,$a.x,$a.y),Va.verticalTextBox&&Mr(j.textCollisionBox.collisionVertexArray,Jn.text.placed,!Oi||_a,$a.x,$a.y)}var Ks=!!(!_a&&Va.verticalIconBox);Va.iconBox&&Mr(j.iconCollisionBox.collisionVertexArray,Jn.icon.placed,Ks,lr?$a.x:0,lr?$a.y:0),Va.verticalIconBox&&Mr(j.iconCollisionBox.collisionVertexArray,Jn.icon.placed,!Ks,lr?$a.x:0,lr?$a.y:0)}}},Wr=0;Wr<j.symbolInstances.length;Wr++)jr(Wr);if(j.sortFeatures(this.transform.angle),this.retainedQueryData[j.bucketInstanceId]&&(this.retainedQueryData[j.bucketInstanceId].featureSortOrder=j.featureSortOrder),j.hasTextData()&&j.text.opacityVertexBuffer&&j.text.opacityVertexBuffer.updateData(j.text.opacityVertexArray),j.hasIconData()&&j.icon.opacityVertexBuffer&&j.icon.opacityVertexBuffer.updateData(j.icon.opacityVertexArray),j.hasIconCollisionBoxData()&&j.iconCollisionBox.collisionVertexBuffer&&j.iconCollisionBox.collisionVertexBuffer.updateData(j.iconCollisionBox.collisionVertexArray),j.hasTextCollisionBoxData()&&j.textCollisionBox.collisionVertexBuffer&&j.textCollisionBox.collisionVertexBuffer.updateData(j.textCollisionBox.collisionVertexArray),j.bucketInstanceId in this.collisionCircleArrays){var Jr=this.collisionCircleArrays[j.bucketInstanceId];j.placementInvProjMatrix=Jr.invProjMatrix,j.placementViewportMatrix=Jr.viewportMatrix,j.collisionCircleArray=Jr.circles,delete this.collisionCircleArrays[j.bucketInstanceId]}},Br.prototype.symbolFadeChange=function(j){return this.fadeDuration===0?1:(j-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Br.prototype.zoomAdjustment=function(j){return Math.max(0,(this.transform.zoom-j)/1.5)},Br.prototype.hasTransitions=function(j){return this.stale||j-this.lastPlacementChangeTime<this.fadeDuration},Br.prototype.stillRecent=function(j,de){var ee=this.zoomAtLastRecencyCheck===de?1-this.zoomAdjustment(de):1;return this.zoomAtLastRecencyCheck=de,this.commitTime+this.fadeDuration*ee>j},Br.prototype.setStale=function(){this.stale=!0};function Mr(ce,j,de,ee,pe){ce.emplaceBack(j?1:0,de?1:0,ee||0,pe||0),ce.emplaceBack(j?1:0,de?1:0,ee||0,pe||0),ce.emplaceBack(j?1:0,de?1:0,ee||0,pe||0),ce.emplaceBack(j?1:0,de?1:0,ee||0,pe||0)}var Nr=Math.pow(2,25),un=Math.pow(2,24),Dn=Math.pow(2,17),mn=Math.pow(2,16),cn=Math.pow(2,9),Er=Math.pow(2,8),Yr=Math.pow(2,1);function Gr(ce){if(ce.opacity===0&&!ce.placed)return 0;if(ce.opacity===1&&ce.placed)return 4294967295;var j=ce.placed?1:0,de=Math.floor(ce.opacity*127);return de*Nr+j*un+de*Dn+j*mn+de*cn+j*Er+de*Yr+j}var $r=0,wn=function(j){this._sortAcrossTiles=j.layout.get("symbol-z-order")!=="viewport-y"&&j.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};wn.prototype.continuePlacement=function(j,de,ee,pe,ze){for(var Ye=this._bucketParts;this._currentTileIndex<j.length;){var ft=j[this._currentTileIndex];if(de.getBucketParts(Ye,pe,ft,this._sortAcrossTiles),this._currentTileIndex++,ze())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Ye.sort(function(Nt,qt){return Nt.sortKey-qt.sortKey}));this._currentPartIndex<Ye.length;){var Ct=Ye[this._currentPartIndex];if(de.placeLayerBucketPart(Ct,this._seenCrossTileIDs,ee),this._currentPartIndex++,ze())return!0}return!1};var An=function(j,de,ee,pe,ze,Ye,ft){this.placement=new Br(j,ze,Ye,ft),this._currentPlacementIndex=de.length-1,this._forceFullPlacement=ee,this._showCollisionBoxes=pe,this._done=!1};An.prototype.isDone=function(){return this._done},An.prototype.continuePlacement=function(j,de,ee){for(var pe=this,ze=s.browser.now(),Ye=function(){var ur=s.browser.now()-ze;return pe._forceFullPlacement?!1:ur>2};this._currentPlacementIndex>=0;){var ft=j[this._currentPlacementIndex],Ct=de[ft],Nt=this.placement.collisionIndex.transform.zoom;if(Ct.type==="symbol"&&(!Ct.minzoom||Ct.minzoom<=Nt)&&(!Ct.maxzoom||Ct.maxzoom>Nt)){this._inProgressLayer||(this._inProgressLayer=new wn(Ct));var qt=this._inProgressLayer.continuePlacement(ee[Ct.source],this.placement,this._showCollisionBoxes,Ct,Ye);if(qt)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},An.prototype.commit=function(j){return this.placement.commit(j),this.placement};var Fn=512/s.EXTENT/2,Nn=function(j,de,ee){this.tileID=j,this.indexedSymbolInstances={},this.bucketInstanceId=ee;for(var pe=0;pe<de.length;pe++){var ze=de.get(pe),Ye=ze.key;this.indexedSymbolInstances[Ye]||(this.indexedSymbolInstances[Ye]=[]),this.indexedSymbolInstances[Ye].push({crossTileID:ze.crossTileID,coord:this.getScaledCoordinates(ze,j)})}};Nn.prototype.getScaledCoordinates=function(j,de){var ee=de.canonical.z-this.tileID.canonical.z,pe=Fn/Math.pow(2,ee);return{x:Math.floor((de.canonical.x*s.EXTENT+j.anchorX)*pe),y:Math.floor((de.canonical.y*s.EXTENT+j.anchorY)*pe)}},Nn.prototype.findMatches=function(j,de,ee){for(var pe=this.tileID.canonical.z<de.canonical.z?1:Math.pow(2,this.tileID.canonical.z-de.canonical.z),ze=0;ze<j.length;ze++){var Ye=j.get(ze);if(!Ye.crossTileID){var ft=this.indexedSymbolInstances[Ye.key];if(ft)for(var Ct=this.getScaledCoordinates(Ye,de),Nt=0,qt=ft;Nt<qt.length;Nt+=1){var ur=qt[Nt];if(Math.abs(ur.coord.x-Ct.x)<=pe&&Math.abs(ur.coord.y-Ct.y)<=pe&&!ee[ur.crossTileID]){ee[ur.crossTileID]=!0,Ye.crossTileID=ur.crossTileID;break}}}}};var _n=function(){this.maxCrossTileID=0};_n.prototype.generate=function(){return++this.maxCrossTileID};var Wn=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Wn.prototype.handleWrapJump=function(j){var de=Math.round((j-this.lng)/360);if(de!==0)for(var ee in this.indexes){var pe=this.indexes[ee],ze={};for(var Ye in pe){var ft=pe[Ye];ft.tileID=ft.tileID.unwrapTo(ft.tileID.wrap+de),ze[ft.tileID.key]=ft}this.indexes[ee]=ze}this.lng=j},Wn.prototype.addBucket=function(j,de,ee){if(this.indexes[j.overscaledZ]&&this.indexes[j.overscaledZ][j.key]){if(this.indexes[j.overscaledZ][j.key].bucketInstanceId===de.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(j.overscaledZ,this.indexes[j.overscaledZ][j.key])}for(var pe=0;pe<de.symbolInstances.length;pe++){var ze=de.symbolInstances.get(pe);ze.crossTileID=0}this.usedCrossTileIDs[j.overscaledZ]||(this.usedCrossTileIDs[j.overscaledZ]={});var Ye=this.usedCrossTileIDs[j.overscaledZ];for(var ft in this.indexes){var Ct=this.indexes[ft];if(Number(ft)>j.overscaledZ)for(var Nt in Ct){var qt=Ct[Nt];qt.tileID.isChildOf(j)&&qt.findMatches(de.symbolInstances,j,Ye)}else{var ur=j.scaledTo(Number(ft)),lr=Ct[ur.key];lr&&lr.findMatches(de.symbolInstances,j,Ye)}}for(var Fr=0;Fr<de.symbolInstances.length;Fr++){var Zr=de.symbolInstances.get(Fr);Zr.crossTileID||(Zr.crossTileID=ee.generate(),Ye[Zr.crossTileID]=!0)}return this.indexes[j.overscaledZ]===void 0&&(this.indexes[j.overscaledZ]={}),this.indexes[j.overscaledZ][j.key]=new Nn(j,de.symbolInstances,de.bucketInstanceId),!0},Wn.prototype.removeBucketCrossTileIDs=function(j,de){for(var ee in de.indexedSymbolInstances)for(var pe=0,ze=de.indexedSymbolInstances[ee];pe<ze.length;pe+=1){var Ye=ze[pe];delete this.usedCrossTileIDs[j][Ye.crossTileID]}},Wn.prototype.removeStaleBuckets=function(j){var de=!1;for(var ee in this.indexes){var pe=this.indexes[ee];for(var ze in pe)j[pe[ze].bucketInstanceId]||(this.removeBucketCrossTileIDs(ee,pe[ze]),delete pe[ze],de=!0)}return de};var jn=function(){this.layerIndexes={},this.crossTileIDs=new _n,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};jn.prototype.addLayer=function(j,de,ee){var pe=this.layerIndexes[j.id];pe===void 0&&(pe=this.layerIndexes[j.id]=new Wn);var ze=!1,Ye={};pe.handleWrapJump(ee);for(var ft=0,Ct=de;ft<Ct.length;ft+=1){var Nt=Ct[ft],qt=Nt.getBucket(j);!qt||j.id!==qt.layerIds[0]||(qt.bucketInstanceId||(qt.bucketInstanceId=++this.maxBucketInstanceId),pe.addBucket(Nt.tileID,qt,this.crossTileIDs)&&(ze=!0),Ye[qt.bucketInstanceId]=!0)}return pe.removeStaleBuckets(Ye)&&(ze=!0),ze},jn.prototype.pruneUnusedLayers=function(j){var de={};j.forEach(function(pe){de[pe]=!0});for(var ee in this.layerIndexes)de[ee]||delete this.layerIndexes[ee]};var oa=function(ce,j){return s.emitValidationErrors(ce,j&&j.filter(function(de){return de.identifier!=="source.canvas"}))},Ca=s.pick(Pt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),di=s.pick(Pt,["setCenter","setZoom","setBearing","setPitch"]),qa=Yt(),ho=function(ce){function j(de,ee){var pe=this;ee===void 0&&(ee={}),ce.call(this),this.map=de,this.dispatcher=new I(xr(),this),this.imageManager=new w,this.imageManager.setEventedParent(this),this.glyphManager=new S(de._requestManager,ee.localIdeographFontFamily),this.lineAtlas=new k(256,512),this.crossTileSymbolIndex=new jn,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new s.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",s.getReferrer());var ze=this;this._rtlTextPluginCallback=j.registerForPluginStateChange(function(Ye){var ft={pluginStatus:Ye.pluginStatus,pluginURL:Ye.pluginURL};ze.dispatcher.broadcast("syncRTLPluginState",ft,function(Ct,Nt){if(s.triggerPluginCompletionEvent(Ct),Nt){var qt=Nt.every(function(lr){return lr});if(qt)for(var ur in ze.sourceCaches)ze.sourceCaches[ur].reload()}})}),this.on("data",function(Ye){if(!(Ye.dataType!=="source"||Ye.sourceDataType!=="metadata")){var ft=pe.sourceCaches[Ye.sourceId];if(ft){var Ct=ft.getSource();if(!(!Ct||!Ct.vectorLayerIds))for(var Nt in pe._layers){var qt=pe._layers[Nt];qt.source===Ct.id&&pe._validateLayer(qt)}}}})}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.loadURL=function(ee,pe){var ze=this;pe===void 0&&(pe={}),this.fire(new s.Event("dataloading",{dataType:"style"}));var Ye=typeof pe.validate=="boolean"?pe.validate:!s.isMapboxURL(ee);ee=this.map._requestManager.normalizeStyleURL(ee,pe.accessToken);var ft=this.map._requestManager.transformRequest(ee,s.ResourceType.Style);this._request=s.getJSON(ft,function(Ct,Nt){ze._request=null,Ct?ze.fire(new s.ErrorEvent(Ct)):Nt&&ze._load(Nt,Ye)})},j.prototype.loadJSON=function(ee,pe){var ze=this;pe===void 0&&(pe={}),this.fire(new s.Event("dataloading",{dataType:"style"})),this._request=s.browser.frame(function(){ze._request=null,ze._load(ee,pe.validate!==!1)})},j.prototype.loadEmpty=function(){this.fire(new s.Event("dataloading",{dataType:"style"})),this._load(qa,!1)},j.prototype._load=function(ee,pe){if(!(pe&&oa(this,s.validateStyle(ee)))){this._loaded=!0,this.stylesheet=ee;for(var ze in ee.sources)this.addSource(ze,ee.sources[ze],{validate:!1});ee.sprite?this._loadSprite(ee.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(ee.glyphs);var Ye=tr(this.stylesheet.layers);this._order=Ye.map(function(qt){return qt.id}),this._layers={},this._serializedLayers={};for(var ft=0,Ct=Ye;ft<Ct.length;ft+=1){var Nt=Ct[ft];Nt=s.createStyleLayer(Nt),Nt.setEventedParent(this,{layer:{id:Nt.id}}),this._layers[Nt.id]=Nt,this._serializedLayers[Nt.id]=Nt.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new m(this.stylesheet.light),this.fire(new s.Event("data",{dataType:"style"})),this.fire(new s.Event("style.load"))}},j.prototype._loadSprite=function(ee){var pe=this;this._spriteRequest=f(ee,this.map._requestManager,function(ze,Ye){if(pe._spriteRequest=null,ze)pe.fire(new s.ErrorEvent(ze));else if(Ye)for(var ft in Ye)pe.imageManager.addImage(ft,Ye[ft]);pe.imageManager.setLoaded(!0),pe._availableImages=pe.imageManager.listImages(),pe.dispatcher.broadcast("setImages",pe._availableImages),pe.fire(new s.Event("data",{dataType:"style"}))})},j.prototype._validateLayer=function(ee){var pe=this.sourceCaches[ee.source];if(pe){var ze=ee.sourceLayer;if(ze){var Ye=pe.getSource();(Ye.type==="geojson"||Ye.vectorLayerIds&&Ye.vectorLayerIds.indexOf(ze)===-1)&&this.fire(new s.ErrorEvent(new Error('Source layer "'+ze+'" does not exist on source "'+Ye.id+'" as specified by style layer "'+ee.id+'"')))}}},j.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var ee in this.sourceCaches)if(!this.sourceCaches[ee].loaded())return!1;return!!this.imageManager.isLoaded()},j.prototype._serializeLayers=function(ee){for(var pe=[],ze=0,Ye=ee;ze<Ye.length;ze+=1){var ft=Ye[ze],Ct=this._layers[ft];Ct.type!=="custom"&&pe.push(Ct.serialize())}return pe},j.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var ee in this.sourceCaches)if(this.sourceCaches[ee].hasTransition())return!0;for(var pe in this._layers)if(this._layers[pe].hasTransition())return!0;return!1},j.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},j.prototype.update=function(ee){if(this._loaded){var pe=this._changed;if(this._changed){var ze=Object.keys(this._updatedLayers),Ye=Object.keys(this._removedLayers);(ze.length||Ye.length)&&this._updateWorkerLayers(ze,Ye);for(var ft in this._updatedSources){var Ct=this._updatedSources[ft];Ct==="reload"?this._reloadSource(ft):Ct==="clear"&&this._clearSource(ft)}this._updateTilesForChangedImages();for(var Nt in this._updatedPaintProps)this._layers[Nt].updateTransitions(ee);this.light.updateTransitions(ee),this._resetUpdates()}var qt={};for(var ur in this.sourceCaches){var lr=this.sourceCaches[ur];qt[ur]=lr.used,lr.used=!1}for(var Fr=0,Zr=this._order;Fr<Zr.length;Fr+=1){var jr=Zr[Fr],Wr=this._layers[jr];Wr.recalculate(ee,this._availableImages),!Wr.isHidden(ee.zoom)&&Wr.source&&(this.sourceCaches[Wr.source].used=!0)}for(var Jr in qt){var dn=this.sourceCaches[Jr];qt[Jr]!==dn.used&&dn.fire(new s.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Jr}))}this.light.recalculate(ee),this.z=ee.zoom,pe&&this.fire(new s.Event("data",{dataType:"style"}))}},j.prototype._updateTilesForChangedImages=function(){var ee=Object.keys(this._changedImages);if(ee.length){for(var pe in this.sourceCaches)this.sourceCaches[pe].reloadTilesForDependencies(["icons","patterns"],ee);this._changedImages={}}},j.prototype._updateWorkerLayers=function(ee,pe){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(ee),removedIds:pe})},j.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},j.prototype.setState=function(ee){var pe=this;if(this._checkLoaded(),oa(this,s.validateStyle(ee)))return!1;ee=s.clone$1(ee),ee.layers=tr(ee.layers);var ze=En(this.serialize(),ee).filter(function(ft){return!(ft.command in di)});if(ze.length===0)return!1;var Ye=ze.filter(function(ft){return!(ft.command in Ca)});if(Ye.length>0)throw new Error("Unimplemented: "+Ye.map(function(ft){return ft.command}).join(", ")+".");return ze.forEach(function(ft){ft.command!=="setTransition"&&pe[ft.command].apply(pe,ft.args)}),this.stylesheet=ee,!0},j.prototype.addImage=function(ee,pe){if(this.getImage(ee))return this.fire(new s.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(ee,pe),this._afterImageUpdated(ee)},j.prototype.updateImage=function(ee,pe){this.imageManager.updateImage(ee,pe)},j.prototype.getImage=function(ee){return this.imageManager.getImage(ee)},j.prototype.removeImage=function(ee){if(!this.getImage(ee))return this.fire(new s.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(ee),this._afterImageUpdated(ee)},j.prototype._afterImageUpdated=function(ee){this._availableImages=this.imageManager.listImages(),this._changedImages[ee]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.Event("data",{dataType:"style"}))},j.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},j.prototype.addSource=function(ee,pe,ze){var Ye=this;if(ze===void 0&&(ze={}),this._checkLoaded(),this.sourceCaches[ee]!==void 0)throw new Error("There is already a source with this ID");if(!pe.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(pe).join(", ")+".");var ft=["vector","raster","geojson","video","image"],Ct=ft.indexOf(pe.type)>=0;if(!(Ct&&this._validate(s.validateStyle.source,"sources."+ee,pe,null,ze))){this.map&&this.map._collectResourceTiming&&(pe.collectResourceTiming=!0);var Nt=this.sourceCaches[ee]=new Ft(ee,pe,this.dispatcher);Nt.style=this,Nt.setEventedParent(this,function(){return{isSourceLoaded:Ye.loaded(),source:Nt.serialize(),sourceId:ee}}),Nt.onAdd(this.map),this._changed=!0}},j.prototype.removeSource=function(ee){if(this._checkLoaded(),this.sourceCaches[ee]===void 0)throw new Error("There is no source with this ID");for(var pe in this._layers)if(this._layers[pe].source===ee)return this.fire(new s.ErrorEvent(new Error('Source "'+ee+'" cannot be removed while layer "'+pe+'" is using it.')));var ze=this.sourceCaches[ee];delete this.sourceCaches[ee],delete this._updatedSources[ee],ze.fire(new s.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:ee})),ze.setEventedParent(null),ze.clearTiles(),ze.onRemove&&ze.onRemove(this.map),this._changed=!0},j.prototype.setGeoJSONSourceData=function(ee,pe){this._checkLoaded();var ze=this.sourceCaches[ee].getSource();ze.setData(pe),this._changed=!0},j.prototype.getSource=function(ee){return this.sourceCaches[ee]&&this.sourceCaches[ee].getSource()},j.prototype.addLayer=function(ee,pe,ze){ze===void 0&&(ze={}),this._checkLoaded();var Ye=ee.id;if(this.getLayer(Ye)){this.fire(new s.ErrorEvent(new Error('Layer with id "'+Ye+'" already exists on this map')));return}var ft;if(ee.type==="custom"){if(oa(this,s.validateCustomStyleLayer(ee)))return;ft=s.createStyleLayer(ee)}else{if(typeof ee.source=="object"&&(this.addSource(Ye,ee.source),ee=s.clone$1(ee),ee=s.extend(ee,{source:Ye})),this._validate(s.validateStyle.layer,"layers."+Ye,ee,{arrayIndex:-1},ze))return;ft=s.createStyleLayer(ee),this._validateLayer(ft),ft.setEventedParent(this,{layer:{id:Ye}}),this._serializedLayers[ft.id]=ft.serialize()}var Ct=pe?this._order.indexOf(pe):this._order.length;if(pe&&Ct===-1){this.fire(new s.ErrorEvent(new Error('Layer with id "'+pe+'" does not exist on this map.')));return}if(this._order.splice(Ct,0,Ye),this._layerOrderChanged=!0,this._layers[Ye]=ft,this._removedLayers[Ye]&&ft.source&&ft.type!=="custom"){var Nt=this._removedLayers[Ye];delete this._removedLayers[Ye],Nt.type!==ft.type?this._updatedSources[ft.source]="clear":(this._updatedSources[ft.source]="reload",this.sourceCaches[ft.source].pause())}this._updateLayer(ft),ft.onAdd&&ft.onAdd(this.map)},j.prototype.moveLayer=function(ee,pe){this._checkLoaded(),this._changed=!0;var ze=this._layers[ee];if(!ze){this.fire(new s.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be moved.")));return}if(ee!==pe){var Ye=this._order.indexOf(ee);this._order.splice(Ye,1);var ft=pe?this._order.indexOf(pe):this._order.length;if(pe&&ft===-1){this.fire(new s.ErrorEvent(new Error('Layer with id "'+pe+'" does not exist on this map.')));return}this._order.splice(ft,0,ee),this._layerOrderChanged=!0}},j.prototype.removeLayer=function(ee){this._checkLoaded();var pe=this._layers[ee];if(!pe){this.fire(new s.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be removed.")));return}pe.setEventedParent(null);var ze=this._order.indexOf(ee);this._order.splice(ze,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[ee]=pe,delete this._layers[ee],delete this._serializedLayers[ee],delete this._updatedLayers[ee],delete this._updatedPaintProps[ee],pe.onRemove&&pe.onRemove(this.map)},j.prototype.getLayer=function(ee){return this._layers[ee]},j.prototype.hasLayer=function(ee){return ee in this._layers},j.prototype.setLayerZoomRange=function(ee,pe,ze){this._checkLoaded();var Ye=this.getLayer(ee);if(!Ye){this.fire(new s.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot have zoom extent.")));return}Ye.minzoom===pe&&Ye.maxzoom===ze||(pe!=null&&(Ye.minzoom=pe),ze!=null&&(Ye.maxzoom=ze),this._updateLayer(Ye))},j.prototype.setFilter=function(ee,pe,ze){ze===void 0&&(ze={}),this._checkLoaded();var Ye=this.getLayer(ee);if(!Ye){this.fire(new s.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be filtered.")));return}if(!s.deepEqual(Ye.filter,pe)){if(pe==null){Ye.filter=void 0,this._updateLayer(Ye);return}this._validate(s.validateStyle.filter,"layers."+Ye.id+".filter",pe,null,ze)||(Ye.filter=s.clone$1(pe),this._updateLayer(Ye))}},j.prototype.getFilter=function(ee){return s.clone$1(this.getLayer(ee).filter)},j.prototype.setLayoutProperty=function(ee,pe,ze,Ye){Ye===void 0&&(Ye={}),this._checkLoaded();var ft=this.getLayer(ee);if(!ft){this.fire(new s.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be styled.")));return}s.deepEqual(ft.getLayoutProperty(pe),ze)||(ft.setLayoutProperty(pe,ze,Ye),this._updateLayer(ft))},j.prototype.getLayoutProperty=function(ee,pe){var ze=this.getLayer(ee);if(!ze){this.fire(new s.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style.")));return}return ze.getLayoutProperty(pe)},j.prototype.setPaintProperty=function(ee,pe,ze,Ye){Ye===void 0&&(Ye={}),this._checkLoaded();var ft=this.getLayer(ee);if(!ft){this.fire(new s.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be styled.")));return}if(!s.deepEqual(ft.getPaintProperty(pe),ze)){var Ct=ft.setPaintProperty(pe,ze,Ye);Ct&&this._updateLayer(ft),this._changed=!0,this._updatedPaintProps[ee]=!0}},j.prototype.getPaintProperty=function(ee,pe){return this.getLayer(ee).getPaintProperty(pe)},j.prototype.setFeatureState=function(ee,pe){this._checkLoaded();var ze=ee.source,Ye=ee.sourceLayer,ft=this.sourceCaches[ze];if(ft===void 0){this.fire(new s.ErrorEvent(new Error("The source '"+ze+"' does not exist in the map's style.")));return}var Ct=ft.getSource().type;if(Ct==="geojson"&&Ye){this.fire(new s.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(Ct==="vector"&&!Ye){this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}ee.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided."))),ft.setFeatureState(Ye,ee.id,pe)},j.prototype.removeFeatureState=function(ee,pe){this._checkLoaded();var ze=ee.source,Ye=this.sourceCaches[ze];if(Ye===void 0){this.fire(new s.ErrorEvent(new Error("The source '"+ze+"' does not exist in the map's style.")));return}var ft=Ye.getSource().type,Ct=ft==="vector"?ee.sourceLayer:void 0;if(ft==="vector"&&!Ct){this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(pe&&typeof ee.id!="string"&&typeof ee.id!="number"){this.fire(new s.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));return}Ye.removeFeatureState(Ct,ee.id,pe)},j.prototype.getFeatureState=function(ee){this._checkLoaded();var pe=ee.source,ze=ee.sourceLayer,Ye=this.sourceCaches[pe];if(Ye===void 0){this.fire(new s.ErrorEvent(new Error("The source '"+pe+"' does not exist in the map's style.")));return}var ft=Ye.getSource().type;if(ft==="vector"&&!ze){this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return ee.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided."))),Ye.getFeatureState(ze,ee.id)},j.prototype.getTransition=function(){return s.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},j.prototype.serialize=function(){return s.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:s.mapObject(this.sourceCaches,function(ee){return ee.serialize()}),layers:this._serializeLayers(this._order)},function(ee){return ee!==void 0})},j.prototype._updateLayer=function(ee){this._updatedLayers[ee.id]=!0,ee.source&&!this._updatedSources[ee.source]&&this.sourceCaches[ee.source].getSource().type!=="raster"&&(this._updatedSources[ee.source]="reload",this.sourceCaches[ee.source].pause()),this._changed=!0},j.prototype._flattenAndSortRenderedFeatures=function(ee){for(var pe=this,ze=function(_a){return pe._layers[_a].type==="fill-extrusion"},Ye={},ft=[],Ct=this._order.length-1;Ct>=0;Ct--){var Nt=this._order[Ct];if(ze(Nt)){Ye[Nt]=Ct;for(var qt=0,ur=ee;qt<ur.length;qt+=1){var lr=ur[qt],Fr=lr[Nt];if(Fr)for(var Zr=0,jr=Fr;Zr<jr.length;Zr+=1){var Wr=jr[Zr];ft.push(Wr)}}}}ft.sort(function(_a,Qa){return Qa.intersectionZ-_a.intersectionZ});for(var Jr=[],dn=this._order.length-1;dn>=0;dn--){var kn=this._order[dn];if(ze(kn))for(var Un=ft.length-1;Un>=0;Un--){var Xn=ft[Un].feature;if(Ye[Xn.layer.id]<dn)break;Jr.push(Xn),ft.pop()}else for(var Zn=0,Gn=ee;Zn<Gn.length;Zn+=1){var Jn=Gn[Zn],na=Jn[kn];if(na)for(var ua=0,ya=na;ua<ya.length;ua+=1){var va=ya[ua];Jr.push(va.feature)}}}return Jr},j.prototype.queryRenderedFeatures=function(ee,pe,ze){pe&&pe.filter&&this._validate(s.validateStyle.filter,"queryRenderedFeatures.filter",pe.filter,null,pe);var Ye={};if(pe&&pe.layers){if(!Array.isArray(pe.layers))return this.fire(new s.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var ft=0,Ct=pe.layers;ft<Ct.length;ft+=1){var Nt=Ct[ft],qt=this._layers[Nt];if(!qt)return this.fire(new s.ErrorEvent(new Error("The layer '"+Nt+"' does not exist in the map's style and cannot be queried for features."))),[];Ye[qt.source]=!0}}var ur=[];pe.availableImages=this._availableImages;for(var lr in this.sourceCaches)pe.layers&&!Ye[lr]||ur.push(J(this.sourceCaches[lr],this._layers,this._serializedLayers,ee,pe,ze));return this.placement&&ur.push(G(this._layers,this._serializedLayers,this.sourceCaches,ee,pe,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(ur)},j.prototype.querySourceFeatures=function(ee,pe){pe&&pe.filter&&this._validate(s.validateStyle.filter,"querySourceFeatures.filter",pe.filter,null,pe);var ze=this.sourceCaches[ee];return ze?oe(ze,pe):[]},j.prototype.addSourceType=function(ee,pe,ze){if(j.getSourceType(ee))return ze(new Error('A source type called "'+ee+'" already exists.'));if(j.setSourceType(ee,pe),!pe.workerSourceURL)return ze(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:ee,url:pe.workerSourceURL},ze)},j.prototype.getLight=function(){return this.light.getLight()},j.prototype.setLight=function(ee,pe){pe===void 0&&(pe={}),this._checkLoaded();var ze=this.light.getLight(),Ye=!1;for(var ft in ee)if(!s.deepEqual(ee[ft],ze[ft])){Ye=!0;break}if(Ye){var Ct={now:s.browser.now(),transition:s.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(ee,pe),this.light.updateTransitions(Ct)}},j.prototype._validate=function(ee,pe,ze,Ye,ft){return ft===void 0&&(ft={}),ft&&ft.validate===!1?!1:oa(this,ee.call(s.validateStyle,s.extend({key:pe,style:this.serialize(),value:ze,styleSpec:s.styleSpec},Ye)))},j.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),s.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var ee in this._layers){var pe=this._layers[ee];pe.setEventedParent(null)}for(var ze in this.sourceCaches)this.sourceCaches[ze].clearTiles(),this.sourceCaches[ze].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},j.prototype._clearSource=function(ee){this.sourceCaches[ee].clearTiles()},j.prototype._reloadSource=function(ee){this.sourceCaches[ee].resume(),this.sourceCaches[ee].reload()},j.prototype._updateSources=function(ee){for(var pe in this.sourceCaches)this.sourceCaches[pe].update(ee)},j.prototype._generateCollisionBoxes=function(){for(var ee in this.sourceCaches)this._reloadSource(ee)},j.prototype._updatePlacement=function(ee,pe,ze,Ye,ft){ft===void 0&&(ft=!1);for(var Ct=!1,Nt=!1,qt={},ur=0,lr=this._order;ur<lr.length;ur+=1){var Fr=lr[ur],Zr=this._layers[Fr];if(Zr.type==="symbol"){if(!qt[Zr.source]){var jr=this.sourceCaches[Zr.source];qt[Zr.source]=jr.getRenderableIds(!0).map(function(Zn){return jr.getTileByID(Zn)}).sort(function(Zn,Gn){return Gn.tileID.overscaledZ-Zn.tileID.overscaledZ||(Zn.tileID.isLessThan(Gn.tileID)?-1:1)})}var Wr=this.crossTileSymbolIndex.addLayer(Zr,qt[Zr.source],ee.center.lng);Ct=Ct||Wr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),ft=ft||this._layerOrderChanged||ze===0,(ft||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(s.browser.now(),ee.zoom))&&(this.pauseablePlacement=new An(ee,this._order,ft,pe,ze,Ye,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,qt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(s.browser.now()),Nt=!0),Ct&&this.pauseablePlacement.placement.setStale()),Nt||Ct)for(var Jr=0,dn=this._order;Jr<dn.length;Jr+=1){var kn=dn[Jr],Un=this._layers[kn];Un.type==="symbol"&&this.placement.updateLayerOpacities(Un,qt[Un.source])}var Xn=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(s.browser.now());return Xn},j.prototype._releaseSymbolFadeTiles=function(){for(var ee in this.sourceCaches)this.sourceCaches[ee].releaseSymbolFadeTiles()},j.prototype.getImages=function(ee,pe,ze){this.imageManager.getImages(pe.icons,ze),this._updateTilesForChangedImages();var Ye=this.sourceCaches[pe.source];Ye&&Ye.setDependencies(pe.tileID.key,pe.type,pe.icons)},j.prototype.getGlyphs=function(ee,pe,ze){this.glyphManager.getGlyphs(pe.stacks,ze)},j.prototype.getResource=function(ee,pe,ze){return s.makeRequest(pe,ze)},j}(s.Evented);ho.getSourceType=$,ho.setSourceType=X,ho.registerForPluginStateChange=s.registerForPluginStateChange;var Eo=s.createLayout([{name:"a_pos",type:"Int16",components:2}]),qi=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,As=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,Sl=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,tu="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",ei=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ru="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",sf=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ji=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,xo="void main() {gl_FragColor=vec4(1.0);}",El="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",zu=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Di=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,Cl=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,_i="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",Ui="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",Ll="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",eo="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",to="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",ko="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",Gf="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",Co=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Yc=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,us=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Zi=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,lf=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ns=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,fs=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,uf=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,Wf=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Xc=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,Fu=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,jc=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,Zc=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Kc="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",ff=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Jc="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",Qc=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Yf=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Xf=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,il=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Pl=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,nu=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,au=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,jf=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,Ms=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,$c="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",Ou=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Zf=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,Kf=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Bu=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,Yo=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Rl=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,ol=pi(qi,As),iu=pi(Sl,tu),Us=pi(ei,ru),cs=pi(sf,ji),cf=pi(xo,El),Dl=pi(zu,Di),Xo=pi(Cl,_i),Li=pi(Ui,Ll),hf=pi(eo,to),qc=pi(ko,Gf),Nu=pi(Co,Yc),Il=pi(us,Zi),kl=pi(lf,Ns),Lo=pi(fs,uf),Uu=pi(Wf,Xc),_l=pi(Fu,jc),Vu=pi(Zc,Kc),eh=pi(ff,Jc),Jf=pi(Qc,Yf),vf=pi(Xf,il),df=pi(Pl,nu),pf=pi(au,jf),zl=pi(Ms,$c),Hu=pi(Ou,Zf),ou=pi(Kf,Bu),Gu=pi(Yo,Rl);function pi(ce,j){var de=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,ee=j.match(/attribute ([\w]+) ([\w]+)/g),pe=ce.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),ze=j.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Ye=ze?ze.concat(pe):pe,ft={};return ce=ce.replace(de,function(Ct,Nt,qt,ur,lr){return ft[lr]=!0,Nt==="define"?`
#ifndef HAS_UNIFORM_u_`+lr+`
varying `+qt+" "+ur+" "+lr+`;
#else
uniform `+qt+" "+ur+" u_"+lr+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+lr+`
    `+qt+" "+ur+" "+lr+" = u_"+lr+`;
#endif
`}),j=j.replace(de,function(Ct,Nt,qt,ur,lr){var Fr=ur==="float"?"vec2":"vec4",Zr=lr.match(/color/)?"color":Fr;return ft[lr]?Nt==="define"?`
#ifndef HAS_UNIFORM_u_`+lr+`
uniform lowp float u_`+lr+`_t;
attribute `+qt+" "+Fr+" a_"+lr+`;
varying `+qt+" "+ur+" "+lr+`;
#else
uniform `+qt+" "+ur+" u_"+lr+`;
#endif
`:Zr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+lr+`
    `+lr+" = a_"+lr+`;
#else
    `+qt+" "+ur+" "+lr+" = u_"+lr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+lr+`
    `+lr+" = unpack_mix_"+Zr+"(a_"+lr+", u_"+lr+`_t);
#else
    `+qt+" "+ur+" "+lr+" = u_"+lr+`;
#endif
`:Nt==="define"?`
#ifndef HAS_UNIFORM_u_`+lr+`
uniform lowp float u_`+lr+`_t;
attribute `+qt+" "+Fr+" a_"+lr+`;
#else
uniform `+qt+" "+ur+" u_"+lr+`;
#endif
`:Zr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+lr+`
    `+qt+" "+ur+" "+lr+" = a_"+lr+`;
#else
    `+qt+" "+ur+" "+lr+" = u_"+lr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+lr+`
    `+qt+" "+ur+" "+lr+" = unpack_mix_"+Zr+"(a_"+lr+", u_"+lr+`_t);
#else
    `+qt+" "+ur+" "+lr+" = u_"+lr+`;
#endif
`}),{fragmentSource:ce,vertexSource:j,staticAttributes:ee,staticUniforms:Ye}}var Qf=Object.freeze({__proto__:null,prelude:ol,background:iu,backgroundPattern:Us,circle:cs,clippingMask:cf,heatmap:Dl,heatmapTexture:Xo,collisionBox:Li,collisionCircle:hf,debug:qc,fill:Nu,fillOutline:Il,fillOutlinePattern:kl,fillPattern:Lo,fillExtrusion:Uu,fillExtrusionPattern:_l,hillshadePrepare:Vu,hillshade:eh,line:Jf,lineGradient:vf,linePattern:df,lineSDF:pf,raster:zl,symbolIcon:Hu,symbolSDF:ou,symbolTextAndIcon:Gu}),jo=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};jo.prototype.bind=function(j,de,ee,pe,ze,Ye,ft,Ct){this.context=j;for(var Nt=this.boundPaintVertexBuffers.length!==pe.length,qt=0;!Nt&&qt<pe.length;qt++)this.boundPaintVertexBuffers[qt]!==pe[qt]&&(Nt=!0);var ur=!this.vao||this.boundProgram!==de||this.boundLayoutVertexBuffer!==ee||Nt||this.boundIndexBuffer!==ze||this.boundVertexOffset!==Ye||this.boundDynamicVertexBuffer!==ft||this.boundDynamicVertexBuffer2!==Ct;!j.extVertexArrayObject||ur?this.freshBind(de,ee,pe,ze,Ye,ft,Ct):(j.bindVertexArrayOES.set(this.vao),ft&&ft.bind(),ze&&ze.dynamicDraw&&ze.bind(),Ct&&Ct.bind())},jo.prototype.freshBind=function(j,de,ee,pe,ze,Ye,ft){var Ct,Nt=j.numAttributes,qt=this.context,ur=qt.gl;if(qt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=qt.extVertexArrayObject.createVertexArrayOES(),qt.bindVertexArrayOES.set(this.vao),Ct=0,this.boundProgram=j,this.boundLayoutVertexBuffer=de,this.boundPaintVertexBuffers=ee,this.boundIndexBuffer=pe,this.boundVertexOffset=ze,this.boundDynamicVertexBuffer=Ye,this.boundDynamicVertexBuffer2=ft;else{Ct=qt.currentNumAttributes||0;for(var lr=Nt;lr<Ct;lr++)ur.disableVertexAttribArray(lr)}de.enableAttributes(ur,j);for(var Fr=0,Zr=ee;Fr<Zr.length;Fr+=1){var jr=Zr[Fr];jr.enableAttributes(ur,j)}Ye&&Ye.enableAttributes(ur,j),ft&&ft.enableAttributes(ur,j),de.bind(),de.setVertexAttribPointers(ur,j,ze);for(var Wr=0,Jr=ee;Wr<Jr.length;Wr+=1){var dn=Jr[Wr];dn.bind(),dn.setVertexAttribPointers(ur,j,ze)}Ye&&(Ye.bind(),Ye.setVertexAttribPointers(ur,j,ze)),pe&&pe.bind(),ft&&(ft.bind(),ft.setVertexAttribPointers(ur,j,ze)),qt.currentNumAttributes=Nt},jo.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};function $f(ce){for(var j=[],de=0;de<ce.length;de++)if(ce[de]!==null){var ee=ce[de].split(" ");j.push(ee.pop())}return j}var gf=function(j,de,ee,pe,ze,Ye){var ft=j.gl;this.program=ft.createProgram();for(var Ct=$f(ee.staticAttributes),Nt=pe?pe.getBinderAttributes():[],qt=Ct.concat(Nt),ur=ee.staticUniforms?$f(ee.staticUniforms):[],lr=pe?pe.getBinderUniforms():[],Fr=ur.concat(lr),Zr=[],jr=0,Wr=Fr;jr<Wr.length;jr+=1){var Jr=Wr[jr];Zr.indexOf(Jr)<0&&Zr.push(Jr)}var dn=pe?pe.defines():[];Ye&&dn.push("#define OVERDRAW_INSPECTOR;");var kn=dn.concat(ol.fragmentSource,ee.fragmentSource).join(`
`),Un=dn.concat(ol.vertexSource,ee.vertexSource).join(`
`),Xn=ft.createShader(ft.FRAGMENT_SHADER);if(ft.isContextLost()){this.failedToCreate=!0;return}ft.shaderSource(Xn,kn),ft.compileShader(Xn),ft.attachShader(this.program,Xn);var Zn=ft.createShader(ft.VERTEX_SHADER);if(ft.isContextLost()){this.failedToCreate=!0;return}ft.shaderSource(Zn,Un),ft.compileShader(Zn),ft.attachShader(this.program,Zn),this.attributes={};var Gn={};this.numAttributes=qt.length;for(var Jn=0;Jn<this.numAttributes;Jn++)qt[Jn]&&(ft.bindAttribLocation(this.program,Jn,qt[Jn]),this.attributes[qt[Jn]]=Jn);ft.linkProgram(this.program),ft.deleteShader(Zn),ft.deleteShader(Xn);for(var na=0;na<Zr.length;na++){var ua=Zr[na];if(ua&&!Gn[ua]){var ya=ft.getUniformLocation(this.program,ua);ya&&(Gn[ua]=ya)}}this.fixedUniforms=ze(j,Gn),this.binderUniforms=pe?pe.getUniforms(j,Gn):[]};gf.prototype.draw=function(j,de,ee,pe,ze,Ye,ft,Ct,Nt,qt,ur,lr,Fr,Zr,jr,Wr){var Jr,dn=j.gl;if(!this.failedToCreate){j.program.set(this.program),j.setDepthMode(ee),j.setStencilMode(pe),j.setColorMode(ze),j.setCullFace(Ye);for(var kn in this.fixedUniforms)this.fixedUniforms[kn].set(ft[kn]);Zr&&Zr.setUniforms(j,this.binderUniforms,lr,{zoom:Fr});for(var Un=(Jr={},Jr[dn.LINES]=2,Jr[dn.TRIANGLES]=3,Jr[dn.LINE_STRIP]=1,Jr)[de],Xn=0,Zn=ur.get();Xn<Zn.length;Xn+=1){var Gn=Zn[Xn],Jn=Gn.vaos||(Gn.vaos={}),na=Jn[Ct]||(Jn[Ct]=new jo);na.bind(j,this,Nt,Zr?Zr.getPaintVertexBuffers():[],qt,Gn.vertexOffset,jr,Wr),dn.drawElements(de,Gn.primitiveLength*Un,dn.UNSIGNED_SHORT,Gn.primitiveOffset*Un*2)}}};function sl(ce,j,de){var ee=1/ln(de,1,j.transform.tileZoom),pe=Math.pow(2,de.tileID.overscaledZ),ze=de.tileSize*Math.pow(2,j.transform.tileZoom)/pe,Ye=ze*(de.tileID.canonical.x+de.tileID.wrap*pe),ft=ze*de.tileID.canonical.y;return{u_image:0,u_texsize:de.imageAtlasTexture.size,u_scale:[ee,ce.fromScale,ce.toScale],u_fade:ce.t,u_pixel_coord_upper:[Ye>>16,ft>>16],u_pixel_coord_lower:[Ye&65535,ft&65535]}}function Vs(ce,j,de,ee){var pe=de.imageManager.getPattern(ce.from.toString()),ze=de.imageManager.getPattern(ce.to.toString()),Ye=de.imageManager.getPixelSize(),ft=Ye.width,Ct=Ye.height,Nt=Math.pow(2,ee.tileID.overscaledZ),qt=ee.tileSize*Math.pow(2,de.transform.tileZoom)/Nt,ur=qt*(ee.tileID.canonical.x+ee.tileID.wrap*Nt),lr=qt*ee.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:pe.tl,u_pattern_br_a:pe.br,u_pattern_tl_b:ze.tl,u_pattern_br_b:ze.br,u_texsize:[ft,Ct],u_mix:j.t,u_pattern_size_a:pe.displaySize,u_pattern_size_b:ze.displaySize,u_scale_a:j.fromScale,u_scale_b:j.toScale,u_tile_units_to_pixels:1/ln(ee,1,de.transform.tileZoom),u_pixel_coord_upper:[ur>>16,lr>>16],u_pixel_coord_lower:[ur&65535,lr&65535]}}var Wu=function(ce,j){return{u_matrix:new s.UniformMatrix4f(ce,j.u_matrix),u_lightpos:new s.Uniform3f(ce,j.u_lightpos),u_lightintensity:new s.Uniform1f(ce,j.u_lightintensity),u_lightcolor:new s.Uniform3f(ce,j.u_lightcolor),u_vertical_gradient:new s.Uniform1f(ce,j.u_vertical_gradient),u_opacity:new s.Uniform1f(ce,j.u_opacity)}},Ii=function(ce,j){return{u_matrix:new s.UniformMatrix4f(ce,j.u_matrix),u_lightpos:new s.Uniform3f(ce,j.u_lightpos),u_lightintensity:new s.Uniform1f(ce,j.u_lightintensity),u_lightcolor:new s.Uniform3f(ce,j.u_lightcolor),u_vertical_gradient:new s.Uniform1f(ce,j.u_vertical_gradient),u_height_factor:new s.Uniform1f(ce,j.u_height_factor),u_image:new s.Uniform1i(ce,j.u_image),u_texsize:new s.Uniform2f(ce,j.u_texsize),u_pixel_coord_upper:new s.Uniform2f(ce,j.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(ce,j.u_pixel_coord_lower),u_scale:new s.Uniform3f(ce,j.u_scale),u_fade:new s.Uniform1f(ce,j.u_fade),u_opacity:new s.Uniform1f(ce,j.u_opacity)}},su=function(ce,j,de,ee){var pe=j.style.light,ze=pe.properties.get("position"),Ye=[ze.x,ze.y,ze.z],ft=s.create$1();pe.properties.get("anchor")==="viewport"&&s.fromRotation(ft,-j.transform.angle),s.transformMat3(Ye,Ye,ft);var Ct=pe.properties.get("color");return{u_matrix:ce,u_lightpos:Ye,u_lightintensity:pe.properties.get("intensity"),u_lightcolor:[Ct.r,Ct.g,Ct.b],u_vertical_gradient:+de,u_opacity:ee}},Zo=function(ce,j,de,ee,pe,ze,Ye){return s.extend(su(ce,j,de,ee),sl(ze,j,Ye),{u_height_factor:-Math.pow(2,pe.overscaledZ)/Ye.tileSize/8})},Ss=function(ce,j){return{u_matrix:new s.UniformMatrix4f(ce,j.u_matrix)}},ll=function(ce,j){return{u_matrix:new s.UniformMatrix4f(ce,j.u_matrix),u_image:new s.Uniform1i(ce,j.u_image),u_texsize:new s.Uniform2f(ce,j.u_texsize),u_pixel_coord_upper:new s.Uniform2f(ce,j.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(ce,j.u_pixel_coord_lower),u_scale:new s.Uniform3f(ce,j.u_scale),u_fade:new s.Uniform1f(ce,j.u_fade)}},Hs=function(ce,j){return{u_matrix:new s.UniformMatrix4f(ce,j.u_matrix),u_world:new s.Uniform2f(ce,j.u_world)}},Ko=function(ce,j){return{u_matrix:new s.UniformMatrix4f(ce,j.u_matrix),u_world:new s.Uniform2f(ce,j.u_world),u_image:new s.Uniform1i(ce,j.u_image),u_texsize:new s.Uniform2f(ce,j.u_texsize),u_pixel_coord_upper:new s.Uniform2f(ce,j.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(ce,j.u_pixel_coord_lower),u_scale:new s.Uniform3f(ce,j.u_scale),u_fade:new s.Uniform1f(ce,j.u_fade)}},Es=function(ce){return{u_matrix:ce}},Jo=function(ce,j,de,ee){return s.extend(Es(ce),sl(de,j,ee))},Bo=function(ce,j){return{u_matrix:ce,u_world:j}},lu=function(ce,j,de,ee,pe){return s.extend(Jo(ce,j,de,ee),{u_world:pe})},th=function(ce,j){return{u_camera_to_center_distance:new s.Uniform1f(ce,j.u_camera_to_center_distance),u_scale_with_map:new s.Uniform1i(ce,j.u_scale_with_map),u_pitch_with_map:new s.Uniform1i(ce,j.u_pitch_with_map),u_extrude_scale:new s.Uniform2f(ce,j.u_extrude_scale),u_device_pixel_ratio:new s.Uniform1f(ce,j.u_device_pixel_ratio),u_matrix:new s.UniformMatrix4f(ce,j.u_matrix)}},rh=function(ce,j,de,ee){var pe=ce.transform,ze,Ye;if(ee.paint.get("circle-pitch-alignment")==="map"){var ft=ln(de,1,pe.zoom);ze=!0,Ye=[ft,ft]}else ze=!1,Ye=pe.pixelsToGLUnits;return{u_camera_to_center_distance:pe.cameraToCenterDistance,u_scale_with_map:+(ee.paint.get("circle-pitch-scale")==="map"),u_matrix:ce.translatePosMatrix(j.posMatrix,de,ee.paint.get("circle-translate"),ee.paint.get("circle-translate-anchor")),u_pitch_with_map:+ze,u_device_pixel_ratio:s.browser.devicePixelRatio,u_extrude_scale:Ye}},nh=function(ce,j){return{u_matrix:new s.UniformMatrix4f(ce,j.u_matrix),u_camera_to_center_distance:new s.Uniform1f(ce,j.u_camera_to_center_distance),u_pixels_to_tile_units:new s.Uniform1f(ce,j.u_pixels_to_tile_units),u_extrude_scale:new s.Uniform2f(ce,j.u_extrude_scale),u_overscale_factor:new s.Uniform1f(ce,j.u_overscale_factor)}},ah=function(ce,j){return{u_matrix:new s.UniformMatrix4f(ce,j.u_matrix),u_inv_matrix:new s.UniformMatrix4f(ce,j.u_inv_matrix),u_camera_to_center_distance:new s.Uniform1f(ce,j.u_camera_to_center_distance),u_viewport_size:new s.Uniform2f(ce,j.u_viewport_size)}},yf=function(ce,j,de){var ee=ln(de,1,j.zoom),pe=Math.pow(2,j.zoom-de.tileID.overscaledZ),ze=de.tileID.overscaleFactor();return{u_matrix:ce,u_camera_to_center_distance:j.cameraToCenterDistance,u_pixels_to_tile_units:ee,u_extrude_scale:[j.pixelsToGLUnits[0]/(ee*pe),j.pixelsToGLUnits[1]/(ee*pe)],u_overscale_factor:ze}},qf=function(ce,j,de){return{u_matrix:ce,u_inv_matrix:j,u_camera_to_center_distance:de.cameraToCenterDistance,u_viewport_size:[de.width,de.height]}},Fl=function(ce,j){return{u_color:new s.UniformColor(ce,j.u_color),u_matrix:new s.UniformMatrix4f(ce,j.u_matrix),u_overlay:new s.Uniform1i(ce,j.u_overlay),u_overlay_scale:new s.Uniform1f(ce,j.u_overlay_scale)}},Ki=function(ce,j,de){return de===void 0&&(de=1),{u_matrix:ce,u_color:j,u_overlay:0,u_overlay_scale:de}},_o=function(ce,j){return{u_matrix:new s.UniformMatrix4f(ce,j.u_matrix)}},Ol=function(ce){return{u_matrix:ce}},ec=function(ce,j){return{u_extrude_scale:new s.Uniform1f(ce,j.u_extrude_scale),u_intensity:new s.Uniform1f(ce,j.u_intensity),u_matrix:new s.UniformMatrix4f(ce,j.u_matrix)}},uu=function(ce,j){return{u_matrix:new s.UniformMatrix4f(ce,j.u_matrix),u_world:new s.Uniform2f(ce,j.u_world),u_image:new s.Uniform1i(ce,j.u_image),u_color_ramp:new s.Uniform1i(ce,j.u_color_ramp),u_opacity:new s.Uniform1f(ce,j.u_opacity)}},Cs=function(ce,j,de,ee){return{u_matrix:ce,u_extrude_scale:ln(j,1,de),u_intensity:ee}},ih=function(ce,j,de,ee){var pe=s.create();s.ortho(pe,0,ce.width,ce.height,0,0,1);var ze=ce.context.gl;return{u_matrix:pe,u_world:[ze.drawingBufferWidth,ze.drawingBufferHeight],u_image:de,u_color_ramp:ee,u_opacity:j.paint.get("heatmap-opacity")}},tc=function(ce,j){return{u_matrix:new s.UniformMatrix4f(ce,j.u_matrix),u_image:new s.Uniform1i(ce,j.u_image),u_latrange:new s.Uniform2f(ce,j.u_latrange),u_light:new s.Uniform2f(ce,j.u_light),u_shadow:new s.UniformColor(ce,j.u_shadow),u_highlight:new s.UniformColor(ce,j.u_highlight),u_accent:new s.UniformColor(ce,j.u_accent)}},rc=function(ce,j){return{u_matrix:new s.UniformMatrix4f(ce,j.u_matrix),u_image:new s.Uniform1i(ce,j.u_image),u_dimension:new s.Uniform2f(ce,j.u_dimension),u_zoom:new s.Uniform1f(ce,j.u_zoom),u_unpack:new s.Uniform4f(ce,j.u_unpack)}},mf=function(ce,j,de){var ee=de.paint.get("hillshade-shadow-color"),pe=de.paint.get("hillshade-highlight-color"),ze=de.paint.get("hillshade-accent-color"),Ye=de.paint.get("hillshade-illumination-direction")*(Math.PI/180);de.paint.get("hillshade-illumination-anchor")==="viewport"&&(Ye-=ce.transform.angle);var ft=!ce.options.moving;return{u_matrix:ce.transform.calculatePosMatrix(j.tileID.toUnwrapped(),ft),u_image:0,u_latrange:bo(ce,j.tileID),u_light:[de.paint.get("hillshade-exaggeration"),Ye],u_shadow:ee,u_highlight:pe,u_accent:ze}},nc=function(ce,j){var de=j.stride,ee=s.create();return s.ortho(ee,0,s.EXTENT,-s.EXTENT,0,0,1),s.translate(ee,ee,[0,-s.EXTENT,0]),{u_matrix:ee,u_image:1,u_dimension:[de,de],u_zoom:ce.overscaledZ,u_unpack:j.getUnpackVector()}};function bo(ce,j){var de=Math.pow(2,j.canonical.z),ee=j.canonical.y;return[new s.MercatorCoordinate(0,ee/de).toLngLat().lat,new s.MercatorCoordinate(0,(ee+1)/de).toLngLat().lat]}var Qo=function(ce,j){return{u_matrix:new s.UniformMatrix4f(ce,j.u_matrix),u_ratio:new s.Uniform1f(ce,j.u_ratio),u_device_pixel_ratio:new s.Uniform1f(ce,j.u_device_pixel_ratio),u_units_to_pixels:new s.Uniform2f(ce,j.u_units_to_pixels)}},Gs=function(ce,j){return{u_matrix:new s.UniformMatrix4f(ce,j.u_matrix),u_ratio:new s.Uniform1f(ce,j.u_ratio),u_device_pixel_ratio:new s.Uniform1f(ce,j.u_device_pixel_ratio),u_units_to_pixels:new s.Uniform2f(ce,j.u_units_to_pixels),u_image:new s.Uniform1i(ce,j.u_image),u_image_height:new s.Uniform1f(ce,j.u_image_height)}},Bl=function(ce,j){return{u_matrix:new s.UniformMatrix4f(ce,j.u_matrix),u_texsize:new s.Uniform2f(ce,j.u_texsize),u_ratio:new s.Uniform1f(ce,j.u_ratio),u_device_pixel_ratio:new s.Uniform1f(ce,j.u_device_pixel_ratio),u_image:new s.Uniform1i(ce,j.u_image),u_units_to_pixels:new s.Uniform2f(ce,j.u_units_to_pixels),u_scale:new s.Uniform3f(ce,j.u_scale),u_fade:new s.Uniform1f(ce,j.u_fade)}},Yu=function(ce,j){return{u_matrix:new s.UniformMatrix4f(ce,j.u_matrix),u_ratio:new s.Uniform1f(ce,j.u_ratio),u_device_pixel_ratio:new s.Uniform1f(ce,j.u_device_pixel_ratio),u_units_to_pixels:new s.Uniform2f(ce,j.u_units_to_pixels),u_patternscale_a:new s.Uniform2f(ce,j.u_patternscale_a),u_patternscale_b:new s.Uniform2f(ce,j.u_patternscale_b),u_sdfgamma:new s.Uniform1f(ce,j.u_sdfgamma),u_image:new s.Uniform1i(ce,j.u_image),u_tex_y_a:new s.Uniform1f(ce,j.u_tex_y_a),u_tex_y_b:new s.Uniform1f(ce,j.u_tex_y_b),u_mix:new s.Uniform1f(ce,j.u_mix)}},ul=function(ce,j,de){var ee=ce.transform;return{u_matrix:Ws(ce,j,de),u_ratio:1/ln(j,1,ee.zoom),u_device_pixel_ratio:s.browser.devicePixelRatio,u_units_to_pixels:[1/ee.pixelsToGLUnits[0],1/ee.pixelsToGLUnits[1]]}},fl=function(ce,j,de,ee){return s.extend(ul(ce,j,de),{u_image:0,u_image_height:ee})},ac=function(ce,j,de,ee){var pe=ce.transform,ze=Nl(j,pe);return{u_matrix:Ws(ce,j,de),u_texsize:j.imageAtlasTexture.size,u_ratio:1/ln(j,1,pe.zoom),u_device_pixel_ratio:s.browser.devicePixelRatio,u_image:0,u_scale:[ze,ee.fromScale,ee.toScale],u_fade:ee.t,u_units_to_pixels:[1/pe.pixelsToGLUnits[0],1/pe.pixelsToGLUnits[1]]}},Ls=function(ce,j,de,ee,pe){var ze=ce.transform,Ye=ce.lineAtlas,ft=Nl(j,ze),Ct=de.layout.get("line-cap")==="round",Nt=Ye.getDash(ee.from,Ct),qt=Ye.getDash(ee.to,Ct),ur=Nt.width*pe.fromScale,lr=qt.width*pe.toScale;return s.extend(ul(ce,j,de),{u_patternscale_a:[ft/ur,-Nt.height/2],u_patternscale_b:[ft/lr,-qt.height/2],u_sdfgamma:Ye.width/(Math.min(ur,lr)*256*s.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Nt.y,u_tex_y_b:qt.y,u_mix:pe.t})};function Nl(ce,j){return 1/ln(ce,1,j.tileZoom)}function Ws(ce,j,de){return ce.translatePosMatrix(j.tileID.posMatrix,j,de.paint.get("line-translate"),de.paint.get("line-translate-anchor"))}var Ps=function(ce,j){return{u_matrix:new s.UniformMatrix4f(ce,j.u_matrix),u_tl_parent:new s.Uniform2f(ce,j.u_tl_parent),u_scale_parent:new s.Uniform1f(ce,j.u_scale_parent),u_buffer_scale:new s.Uniform1f(ce,j.u_buffer_scale),u_fade_t:new s.Uniform1f(ce,j.u_fade_t),u_opacity:new s.Uniform1f(ce,j.u_opacity),u_image0:new s.Uniform1i(ce,j.u_image0),u_image1:new s.Uniform1i(ce,j.u_image1),u_brightness_low:new s.Uniform1f(ce,j.u_brightness_low),u_brightness_high:new s.Uniform1f(ce,j.u_brightness_high),u_saturation_factor:new s.Uniform1f(ce,j.u_saturation_factor),u_contrast_factor:new s.Uniform1f(ce,j.u_contrast_factor),u_spin_weights:new s.Uniform3f(ce,j.u_spin_weights)}},fu=function(ce,j,de,ee,pe){return{u_matrix:ce,u_tl_parent:j,u_scale_parent:de,u_buffer_scale:1,u_fade_t:ee.mix,u_opacity:ee.opacity*pe.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:pe.paint.get("raster-brightness-min"),u_brightness_high:pe.paint.get("raster-brightness-max"),u_saturation_factor:Vl(pe.paint.get("raster-saturation")),u_contrast_factor:ci(pe.paint.get("raster-contrast")),u_spin_weights:Ul(pe.paint.get("raster-hue-rotate"))}};function Ul(ce){ce*=Math.PI/180;var j=Math.sin(ce),de=Math.cos(ce);return[(2*de+1)/3,(-Math.sqrt(3)*j-de+1)/3,(Math.sqrt(3)*j-de+1)/3]}function ci(ce){return ce>0?1/(1-ce):1+ce}function Vl(ce){return ce>0?1-1/(1.001-ce):-ce}var Xu=function(ce,j){return{u_is_size_zoom_constant:new s.Uniform1i(ce,j.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(ce,j.u_is_size_feature_constant),u_size_t:new s.Uniform1f(ce,j.u_size_t),u_size:new s.Uniform1f(ce,j.u_size),u_camera_to_center_distance:new s.Uniform1f(ce,j.u_camera_to_center_distance),u_pitch:new s.Uniform1f(ce,j.u_pitch),u_rotate_symbol:new s.Uniform1i(ce,j.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(ce,j.u_aspect_ratio),u_fade_change:new s.Uniform1f(ce,j.u_fade_change),u_matrix:new s.UniformMatrix4f(ce,j.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(ce,j.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(ce,j.u_coord_matrix),u_is_text:new s.Uniform1i(ce,j.u_is_text),u_pitch_with_map:new s.Uniform1i(ce,j.u_pitch_with_map),u_texsize:new s.Uniform2f(ce,j.u_texsize),u_texture:new s.Uniform1i(ce,j.u_texture)}},ic=function(ce,j){return{u_is_size_zoom_constant:new s.Uniform1i(ce,j.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(ce,j.u_is_size_feature_constant),u_size_t:new s.Uniform1f(ce,j.u_size_t),u_size:new s.Uniform1f(ce,j.u_size),u_camera_to_center_distance:new s.Uniform1f(ce,j.u_camera_to_center_distance),u_pitch:new s.Uniform1f(ce,j.u_pitch),u_rotate_symbol:new s.Uniform1i(ce,j.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(ce,j.u_aspect_ratio),u_fade_change:new s.Uniform1f(ce,j.u_fade_change),u_matrix:new s.UniformMatrix4f(ce,j.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(ce,j.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(ce,j.u_coord_matrix),u_is_text:new s.Uniform1i(ce,j.u_is_text),u_pitch_with_map:new s.Uniform1i(ce,j.u_pitch_with_map),u_texsize:new s.Uniform2f(ce,j.u_texsize),u_texture:new s.Uniform1i(ce,j.u_texture),u_gamma_scale:new s.Uniform1f(ce,j.u_gamma_scale),u_device_pixel_ratio:new s.Uniform1f(ce,j.u_device_pixel_ratio),u_is_halo:new s.Uniform1i(ce,j.u_is_halo)}},Hl=function(ce,j){return{u_is_size_zoom_constant:new s.Uniform1i(ce,j.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(ce,j.u_is_size_feature_constant),u_size_t:new s.Uniform1f(ce,j.u_size_t),u_size:new s.Uniform1f(ce,j.u_size),u_camera_to_center_distance:new s.Uniform1f(ce,j.u_camera_to_center_distance),u_pitch:new s.Uniform1f(ce,j.u_pitch),u_rotate_symbol:new s.Uniform1i(ce,j.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(ce,j.u_aspect_ratio),u_fade_change:new s.Uniform1f(ce,j.u_fade_change),u_matrix:new s.UniformMatrix4f(ce,j.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(ce,j.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(ce,j.u_coord_matrix),u_is_text:new s.Uniform1i(ce,j.u_is_text),u_pitch_with_map:new s.Uniform1i(ce,j.u_pitch_with_map),u_texsize:new s.Uniform2f(ce,j.u_texsize),u_texsize_icon:new s.Uniform2f(ce,j.u_texsize_icon),u_texture:new s.Uniform1i(ce,j.u_texture),u_texture_icon:new s.Uniform1i(ce,j.u_texture_icon),u_gamma_scale:new s.Uniform1f(ce,j.u_gamma_scale),u_device_pixel_ratio:new s.Uniform1f(ce,j.u_device_pixel_ratio),u_is_halo:new s.Uniform1i(ce,j.u_is_halo)}},cu=function(ce,j,de,ee,pe,ze,Ye,ft,Ct,Nt){var qt=pe.transform;return{u_is_size_zoom_constant:+(ce==="constant"||ce==="source"),u_is_size_feature_constant:+(ce==="constant"||ce==="camera"),u_size_t:j?j.uSizeT:0,u_size:j?j.uSize:0,u_camera_to_center_distance:qt.cameraToCenterDistance,u_pitch:qt.pitch/360*2*Math.PI,u_rotate_symbol:+de,u_aspect_ratio:qt.width/qt.height,u_fade_change:pe.options.fadeDuration?pe.symbolFadeChange:1,u_matrix:ze,u_label_plane_matrix:Ye,u_coord_matrix:ft,u_is_text:+Ct,u_pitch_with_map:+ee,u_texsize:Nt,u_texture:0}},ju=function(ce,j,de,ee,pe,ze,Ye,ft,Ct,Nt,qt){var ur=pe.transform;return s.extend(cu(ce,j,de,ee,pe,ze,Ye,ft,Ct,Nt),{u_gamma_scale:ee?Math.cos(ur._pitch)*ur.cameraToCenterDistance:1,u_device_pixel_ratio:s.browser.devicePixelRatio,u_is_halo:+qt})},xf=function(ce,j,de,ee,pe,ze,Ye,ft,Ct,Nt){return s.extend(ju(ce,j,de,ee,pe,ze,Ye,ft,!0,Ct,!0),{u_texsize_icon:Nt,u_texture_icon:1})},hu=function(ce,j){return{u_matrix:new s.UniformMatrix4f(ce,j.u_matrix),u_opacity:new s.Uniform1f(ce,j.u_opacity),u_color:new s.UniformColor(ce,j.u_color)}},vu=function(ce,j){return{u_matrix:new s.UniformMatrix4f(ce,j.u_matrix),u_opacity:new s.Uniform1f(ce,j.u_opacity),u_image:new s.Uniform1i(ce,j.u_image),u_pattern_tl_a:new s.Uniform2f(ce,j.u_pattern_tl_a),u_pattern_br_a:new s.Uniform2f(ce,j.u_pattern_br_a),u_pattern_tl_b:new s.Uniform2f(ce,j.u_pattern_tl_b),u_pattern_br_b:new s.Uniform2f(ce,j.u_pattern_br_b),u_texsize:new s.Uniform2f(ce,j.u_texsize),u_mix:new s.Uniform1f(ce,j.u_mix),u_pattern_size_a:new s.Uniform2f(ce,j.u_pattern_size_a),u_pattern_size_b:new s.Uniform2f(ce,j.u_pattern_size_b),u_scale_a:new s.Uniform1f(ce,j.u_scale_a),u_scale_b:new s.Uniform1f(ce,j.u_scale_b),u_pixel_coord_upper:new s.Uniform2f(ce,j.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(ce,j.u_pixel_coord_lower),u_tile_units_to_pixels:new s.Uniform1f(ce,j.u_tile_units_to_pixels)}},Ys=function(ce,j,de){return{u_matrix:ce,u_opacity:j,u_color:de}},du=function(ce,j,de,ee,pe,ze){return s.extend(Vs(ee,ze,de,pe),{u_matrix:ce,u_opacity:j})},Xs={fillExtrusion:Wu,fillExtrusionPattern:Ii,fill:Ss,fillPattern:ll,fillOutline:Hs,fillOutlinePattern:Ko,circle:th,collisionBox:nh,collisionCircle:ah,debug:Fl,clippingMask:_o,heatmap:ec,heatmapTexture:uu,hillshade:tc,hillshadePrepare:rc,line:Qo,lineGradient:Gs,linePattern:Bl,lineSDF:Yu,raster:Ps,symbolIcon:Xu,symbolSDF:ic,symbolTextAndIcon:Hl,background:hu,backgroundPattern:vu},Vi;function hs(ce,j,de,ee,pe,ze,Ye){for(var ft=ce.context,Ct=ft.gl,Nt=ce.useProgram("collisionBox"),qt=[],ur=0,lr=0,Fr=0;Fr<ee.length;Fr++){var Zr=ee[Fr],jr=j.getTile(Zr),Wr=jr.getBucket(de);if(Wr){var Jr=Zr.posMatrix;(pe[0]!==0||pe[1]!==0)&&(Jr=ce.translatePosMatrix(Zr.posMatrix,jr,pe,ze));var dn=Ye?Wr.textCollisionBox:Wr.iconCollisionBox,kn=Wr.collisionCircleArray;if(kn.length>0){var Un=s.create(),Xn=Jr;s.mul(Un,Wr.placementInvProjMatrix,ce.transform.glCoordMatrix),s.mul(Un,Un,Wr.placementViewportMatrix),qt.push({circleArray:kn,circleOffset:lr,transform:Xn,invTransform:Un}),ur+=kn.length/4,lr=ur}dn&&Nt.draw(ft,Ct.LINES,vr.disabled,$t.disabled,ce.colorModeForRenderPass(),kt.disabled,yf(Jr,ce.transform,jr),de.id,dn.layoutVertexBuffer,dn.indexBuffer,dn.segments,null,ce.transform.zoom,null,null,dn.collisionVertexBuffer)}}if(!(!Ye||!qt.length)){var Zn=ce.useProgram("collisionCircle"),Gn=new s.StructArrayLayout2f1f2i16;Gn.resize(ur*4),Gn._trim();for(var Jn=0,na=0,ua=qt;na<ua.length;na+=1)for(var ya=ua[na],va=0;va<ya.circleArray.length/4;va++){var _a=va*4,Qa=ya.circleArray[_a+0],Ya=ya.circleArray[_a+1],Aa=ya.circleArray[_a+2],Xa=ya.circleArray[_a+3];Gn.emplace(Jn++,Qa,Ya,Aa,Xa,0),Gn.emplace(Jn++,Qa,Ya,Aa,Xa,1),Gn.emplace(Jn++,Qa,Ya,Aa,Xa,2),Gn.emplace(Jn++,Qa,Ya,Aa,Xa,3)}(!Vi||Vi.length<ur*2)&&(Vi=bf(ur));for(var Ua=ft.createIndexBuffer(Vi,!0),ii=ft.createVertexBuffer(Gn,s.collisionCircleLayout.members,!0),ti=0,Ti=qt;ti<Ti.length;ti+=1){var Ja=Ti[ti],gi=qf(Ja.transform,Ja.invTransform,ce.transform);Zn.draw(ft,Ct.TRIANGLES,vr.disabled,$t.disabled,ce.colorModeForRenderPass(),kt.disabled,gi,de.id,ii,Ua,s.SegmentVector.simpleSegment(0,Ja.circleOffset*2,Ja.circleArray.length,Ja.circleArray.length/2),null,ce.transform.zoom,null,null,null)}ii.destroy(),Ua.destroy()}}function bf(ce){var j=ce*2,de=new s.StructArrayLayout3ui6;de.resize(j),de._trim();for(var ee=0;ee<j;ee++){var pe=ee*6;de.uint16[pe+0]=ee*4+0,de.uint16[pe+1]=ee*4+1,de.uint16[pe+2]=ee*4+2,de.uint16[pe+3]=ee*4+2,de.uint16[pe+4]=ee*4+3,de.uint16[pe+5]=ee*4+0}return de}var cl=s.identity(new Float32Array(16));function Zu(ce,j,de,ee,pe){if(ce.renderPass==="translucent"){var ze=$t.disabled,Ye=ce.colorModeForRenderPass(),ft=de.layout.get("text-variable-anchor");ft&&oh(ee,ce,de,j,de.layout.get("text-rotation-alignment"),de.layout.get("text-pitch-alignment"),pe),de.paint.get("icon-opacity").constantOr(1)!==0&&gu(ce,j,de,ee,!1,de.paint.get("icon-translate"),de.paint.get("icon-translate-anchor"),de.layout.get("icon-rotation-alignment"),de.layout.get("icon-pitch-alignment"),de.layout.get("icon-keep-upright"),ze,Ye),de.paint.get("text-opacity").constantOr(1)!==0&&gu(ce,j,de,ee,!0,de.paint.get("text-translate"),de.paint.get("text-translate-anchor"),de.layout.get("text-rotation-alignment"),de.layout.get("text-pitch-alignment"),de.layout.get("text-keep-upright"),ze,Ye),j.map.showCollisionBoxes&&(hs(ce,j,de,ee,de.paint.get("text-translate"),de.paint.get("text-translate-anchor"),!0),hs(ce,j,de,ee,de.paint.get("icon-translate"),de.paint.get("icon-translate-anchor"),!1))}}function pu(ce,j,de,ee,pe,ze){var Ye=s.getAnchorAlignment(ce),ft=Ye.horizontalAlign,Ct=Ye.verticalAlign,Nt=-(ft-.5)*j,qt=-(Ct-.5)*de,ur=s.evaluateVariableOffset(ce,ee);return new s.Point((Nt/pe+ur[0])*ze,(qt/pe+ur[1])*ze)}function oh(ce,j,de,ee,pe,ze,Ye){for(var ft=j.transform,Ct=pe==="map",Nt=ze==="map",qt=0,ur=ce;qt<ur.length;qt+=1){var lr=ur[qt],Fr=ee.getTile(lr),Zr=Fr.getBucket(de);if(!(!Zr||!Zr.text||!Zr.text.segments.get().length)){var jr=Zr.textSizeData,Wr=s.evaluateSizeForZoom(jr,ft.zoom),Jr=ln(Fr,1,j.transform.zoom),dn=Pr(lr.posMatrix,Nt,Ct,j.transform,Jr),kn=de.layout.get("icon-text-fit")!=="none"&&Zr.hasIconData();if(Wr){var Un=Math.pow(2,ft.zoom-Fr.tileID.overscaledZ);oc(Zr,Ct,Nt,Ye,s.symbolSize,ft,dn,lr.posMatrix,Un,Wr,kn)}}}}function oc(ce,j,de,ee,pe,ze,Ye,ft,Ct,Nt,qt){var ur=ce.text.placedSymbolArray,lr=ce.text.dynamicLayoutVertexArray,Fr=ce.icon.dynamicLayoutVertexArray,Zr={};lr.clear();for(var jr=0;jr<ur.length;jr++){var Wr=ur.get(jr),Jr=ce.allowVerticalPlacement&&!Wr.placedOrientation,dn=!Wr.hidden&&Wr.crossTileID&&!Jr?ee[Wr.crossTileID]:null;if(!dn)Rn(Wr.numGlyphs,lr);else{var kn=new s.Point(Wr.anchorX,Wr.anchorY),Un=kr(kn,de?ft:Ye),Xn=pn(ze.cameraToCenterDistance,Un.signedDistanceFromCamera),Zn=pe.evaluateSizeForFeature(ce.textSizeData,Nt,Wr)*Xn/s.ONE_EM;de&&(Zn*=ce.tilePixelRatio/Ct);for(var Gn=dn.width,Jn=dn.height,na=dn.anchor,ua=dn.textOffset,ya=dn.textBoxScale,va=pu(na,Gn,Jn,ua,ya,Zn),_a=de?kr(kn.add(va),Ye).point:Un.point.add(j?va.rotate(-ze.angle):va),Qa=ce.allowVerticalPlacement&&Wr.placedOrientation===s.WritingMode.vertical?Math.PI/2:0,Ya=0;Ya<Wr.numGlyphs;Ya++)s.addDynamicAttributes(lr,_a,Qa);qt&&Wr.associatedIconIndex>=0&&(Zr[Wr.associatedIconIndex]={shiftedAnchor:_a,angle:Qa})}}if(qt){Fr.clear();for(var Aa=ce.icon.placedSymbolArray,Xa=0;Xa<Aa.length;Xa++){var Ua=Aa.get(Xa);if(Ua.hidden)Rn(Ua.numGlyphs,Fr);else{var ii=Zr[Xa];if(!ii)Rn(Ua.numGlyphs,Fr);else for(var ti=0;ti<Ua.numGlyphs;ti++)s.addDynamicAttributes(Fr,ii.shiftedAnchor,ii.angle)}}ce.icon.dynamicLayoutVertexBuffer.updateData(Fr)}ce.text.dynamicLayoutVertexBuffer.updateData(lr)}function vo(ce,j,de){return de.iconsInText&&j?"symbolTextAndIcon":ce?"symbolSDF":"symbolIcon"}function gu(ce,j,de,ee,pe,ze,Ye,ft,Ct,Nt,qt,ur){for(var lr=ce.context,Fr=lr.gl,Zr=ce.transform,jr=ft==="map",Wr=Ct==="map",Jr=jr&&de.layout.get("symbol-placement")!=="point",dn=jr&&!Wr&&!Jr,kn=de.layout.get("symbol-sort-key").constantOr(1)!==void 0,Un=!1,Xn=ce.depthModeForSublayer(0,vr.ReadOnly),Zn=de.layout.get("text-variable-anchor"),Gn=[],Jn=0,na=ee;Jn<na.length;Jn+=1){var ua=na[Jn],ya=j.getTile(ua),va=ya.getBucket(de);if(va){var _a=pe?va.text:va.icon;if(!(!_a||!_a.segments.get().length)){var Qa=_a.programConfigurations.get(de.id),Ya=pe||va.sdfIcons,Aa=pe?va.textSizeData:va.iconSizeData,Xa=Wr||Zr.pitch!==0,Ua=ce.useProgram(vo(Ya,pe,va),Qa),ii=s.evaluateSizeForZoom(Aa,Zr.zoom),ti=void 0,Ti=[0,0],Ja=void 0,gi=void 0,Va=null,$a=void 0;if(pe){if(Ja=ya.glyphAtlasTexture,gi=Fr.LINEAR,ti=ya.glyphAtlasTexture.size,va.iconsInText){Ti=ya.imageAtlasTexture.size,Va=ya.imageAtlasTexture;var Oi=Aa.kind==="composite"||Aa.kind==="camera";$a=Xa||ce.options.rotating||ce.options.zooming||Oi?Fr.LINEAR:Fr.NEAREST}}else{var go=de.layout.get("icon-size").constantOr(0)!==1||va.iconsNeedLinear;Ja=ya.imageAtlasTexture,gi=Ya||ce.options.rotating||ce.options.zooming||go||Xa?Fr.LINEAR:Fr.NEAREST,ti=ya.imageAtlasTexture.size}var Ks=ln(ya,1,ce.transform.zoom),Js=Pr(ua.posMatrix,Wr,jr,ce.transform,Ks),dl=Xr(ua.posMatrix,Wr,jr,ce.transform,Ks),Yl=Zn&&va.hasTextData(),Cf=de.layout.get("icon-text-fit")!=="none"&&Yl&&va.hasIconData();Jr&&Tn(va,ua.posMatrix,ce,pe,Js,dl,Wr,Nt);var Xl=ce.translatePosMatrix(ua.posMatrix,ya,ze,Ye),qo=Jr||pe&&Zn||Cf?cl:Js,jl=ce.translatePosMatrix(dl,ya,ze,Ye,!0),ps=Ya&&de.paint.get(pe?"text-halo-width":"icon-halo-width").constantOr(1)!==0,es=void 0;Ya?va.iconsInText?es=xf(Aa.kind,ii,dn,Wr,ce,Xl,qo,jl,ti,Ti):es=ju(Aa.kind,ii,dn,Wr,ce,Xl,qo,jl,pe,ti,!0):es=cu(Aa.kind,ii,dn,Wr,ce,Xl,qo,jl,pe,ti);var pl={program:Ua,buffers:_a,uniformValues:es,atlasTexture:Ja,atlasTextureIcon:Va,atlasInterpolation:gi,atlasInterpolationIcon:$a,isSDF:Ya,hasHalo:ps};if(kn&&va.canOverlap){Un=!0;for(var Mu=_a.segments.get(),yl=0,_h=Mu;yl<_h.length;yl+=1){var pc=_h[yl];Gn.push({segments:new s.SegmentVector([pc]),sortKey:pc.sortKey,state:pl})}}else Gn.push({segments:_a.segments,sortKey:0,state:pl})}}}Un&&Gn.sort(function(Fh,Oh){return Fh.sortKey-Oh.sortKey});for(var wo=0,zh=Gn;wo<zh.length;wo+=1){var hh=zh[wo],No=hh.state;if(lr.activeTexture.set(Fr.TEXTURE0),No.atlasTexture.bind(No.atlasInterpolation,Fr.CLAMP_TO_EDGE),No.atlasTextureIcon&&(lr.activeTexture.set(Fr.TEXTURE1),No.atlasTextureIcon&&No.atlasTextureIcon.bind(No.atlasInterpolationIcon,Fr.CLAMP_TO_EDGE)),No.isSDF){var gc=No.uniformValues;No.hasHalo&&(gc.u_is_halo=1,Gl(No.buffers,hh.segments,de,ce,No.program,Xn,qt,ur,gc)),gc.u_is_halo=0}Gl(No.buffers,hh.segments,de,ce,No.program,Xn,qt,ur,No.uniformValues)}}function Gl(ce,j,de,ee,pe,ze,Ye,ft,Ct){var Nt=ee.context,qt=Nt.gl;pe.draw(Nt,qt.TRIANGLES,ze,Ye,ft,kt.disabled,Ct,de.id,ce.layoutVertexBuffer,ce.indexBuffer,j,de.paint,ee.transform.zoom,ce.programConfigurations.get(de.id),ce.dynamicLayoutVertexBuffer,ce.opacityVertexBuffer)}function sc(ce,j,de,ee){if(ce.renderPass==="translucent"){var pe=de.paint.get("circle-opacity"),ze=de.paint.get("circle-stroke-width"),Ye=de.paint.get("circle-stroke-opacity"),ft=de.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(pe.constantOr(1)===0&&(ze.constantOr(1)===0||Ye.constantOr(1)===0))){for(var Ct=ce.context,Nt=Ct.gl,qt=ce.depthModeForSublayer(0,vr.ReadOnly),ur=$t.disabled,lr=ce.colorModeForRenderPass(),Fr=[],Zr=0;Zr<ee.length;Zr++){var jr=ee[Zr],Wr=j.getTile(jr),Jr=Wr.getBucket(de);if(Jr){var dn=Jr.programConfigurations.get(de.id),kn=ce.useProgram("circle",dn),Un=Jr.layoutVertexBuffer,Xn=Jr.indexBuffer,Zn=rh(ce,jr,Wr,de),Gn={programConfiguration:dn,program:kn,layoutVertexBuffer:Un,indexBuffer:Xn,uniformValues:Zn};if(ft)for(var Jn=Jr.segments.get(),na=0,ua=Jn;na<ua.length;na+=1){var ya=ua[na];Fr.push({segments:new s.SegmentVector([ya]),sortKey:ya.sortKey,state:Gn})}else Fr.push({segments:Jr.segments,sortKey:0,state:Gn})}}ft&&Fr.sort(function(Ja,gi){return Ja.sortKey-gi.sortKey});for(var va=0,_a=Fr;va<_a.length;va+=1){var Qa=_a[va],Ya=Qa.state,Aa=Ya.programConfiguration,Xa=Ya.program,Ua=Ya.layoutVertexBuffer,ii=Ya.indexBuffer,ti=Ya.uniformValues,Ti=Qa.segments;Xa.draw(Ct,Nt.TRIANGLES,qt,ur,lr,kt.disabled,ti,de.id,Ua,ii,Ti,de.paint,ce.transform.zoom,Aa)}}}}function js(ce,j,de,ee){if(de.paint.get("heatmap-opacity")!==0)if(ce.renderPass==="offscreen"){var pe=ce.context,ze=pe.gl,Ye=$t.disabled,ft=new lt([ze.ONE,ze.ONE],s.Color.transparent,[!0,!0,!0,!0]);sh(pe,ce,de),pe.clear({color:s.Color.transparent});for(var Ct=0;Ct<ee.length;Ct++){var Nt=ee[Ct];if(!j.hasRenderableParent(Nt)){var qt=j.getTile(Nt),ur=qt.getBucket(de);if(ur){var lr=ur.programConfigurations.get(de.id),Fr=ce.useProgram("heatmap",lr),Zr=ce.transform,jr=Zr.zoom;Fr.draw(pe,ze.TRIANGLES,vr.disabled,Ye,ft,kt.disabled,Cs(Nt.posMatrix,qt,jr,de.paint.get("heatmap-intensity")),de.id,ur.layoutVertexBuffer,ur.indexBuffer,ur.segments,de.paint,ce.transform.zoom,lr)}}}pe.viewport.set([0,0,ce.width,ce.height])}else ce.renderPass==="translucent"&&(ce.context.setColorMode(ce.colorModeForRenderPass()),yu(ce,de))}function sh(ce,j,de){var ee=ce.gl;ce.activeTexture.set(ee.TEXTURE1),ce.viewport.set([0,0,j.width/4,j.height/4]);var pe=de.heatmapFbo;if(pe)ee.bindTexture(ee.TEXTURE_2D,pe.colorAttachment.get()),ce.bindFramebuffer.set(pe.framebuffer);else{var ze=ee.createTexture();ee.bindTexture(ee.TEXTURE_2D,ze),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_WRAP_S,ee.CLAMP_TO_EDGE),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_WRAP_T,ee.CLAMP_TO_EDGE),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_MIN_FILTER,ee.LINEAR),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_MAG_FILTER,ee.LINEAR),pe=de.heatmapFbo=ce.createFramebuffer(j.width/4,j.height/4,!1),Po(ce,j,ze,pe)}}function Po(ce,j,de,ee){var pe=ce.gl,ze=ce.extRenderToTextureHalfFloat?ce.extTextureHalfFloat.HALF_FLOAT_OES:pe.UNSIGNED_BYTE;pe.texImage2D(pe.TEXTURE_2D,0,pe.RGBA,j.width/4,j.height/4,0,pe.RGBA,ze,null),ee.colorAttachment.set(de)}function yu(ce,j){var de=ce.context,ee=de.gl,pe=j.heatmapFbo;if(pe){de.activeTexture.set(ee.TEXTURE0),ee.bindTexture(ee.TEXTURE_2D,pe.colorAttachment.get()),de.activeTexture.set(ee.TEXTURE1);var ze=j.colorRampTexture;ze||(ze=j.colorRampTexture=new s.Texture(de,j.colorRamp,ee.RGBA)),ze.bind(ee.LINEAR,ee.CLAMP_TO_EDGE),ce.useProgram("heatmapTexture").draw(de,ee.TRIANGLES,vr.disabled,$t.disabled,ce.colorModeForRenderPass(),kt.disabled,ih(ce,j,0,1),j.id,ce.viewportBuffer,ce.quadTriangleIndexBuffer,ce.viewportSegments,j.paint,ce.transform.zoom)}}function Ku(ce,j,de,ee){if(ce.renderPass==="translucent"){var pe=de.paint.get("line-opacity"),ze=de.paint.get("line-width");if(!(pe.constantOr(1)===0||ze.constantOr(1)===0))for(var Ye=ce.depthModeForSublayer(0,vr.ReadOnly),ft=ce.colorModeForRenderPass(),Ct=de.paint.get("line-dasharray"),Nt=de.paint.get("line-pattern"),qt=Nt.constantOr(1),ur=de.paint.get("line-gradient"),lr=de.getCrossfadeParameters(),Fr=qt?"linePattern":Ct?"lineSDF":ur?"lineGradient":"line",Zr=ce.context,jr=Zr.gl,Wr=!0,Jr=0,dn=ee;Jr<dn.length;Jr+=1){var kn=dn[Jr],Un=j.getTile(kn);if(!(qt&&!Un.patternsLoaded())){var Xn=Un.getBucket(de);if(Xn){var Zn=Xn.programConfigurations.get(de.id),Gn=ce.context.program.get(),Jn=ce.useProgram(Fr,Zn),na=Wr||Jn.program!==Gn,ua=Nt.constantOr(null);if(ua&&Un.imageAtlas){var ya=Un.imageAtlas,va=ya.patternPositions[ua.to.toString()],_a=ya.patternPositions[ua.from.toString()];va&&_a&&Zn.setConstantPatternPositions(va,_a)}var Qa=qt?ac(ce,Un,de,lr):Ct?Ls(ce,Un,de,Ct,lr):ur?fl(ce,Un,de,Xn.lineClipsArray.length):ul(ce,Un,de);if(qt)Zr.activeTexture.set(jr.TEXTURE0),Un.imageAtlasTexture.bind(jr.LINEAR,jr.CLAMP_TO_EDGE),Zn.updatePaintBuffers(lr);else if(Ct&&(na||ce.lineAtlas.dirty))Zr.activeTexture.set(jr.TEXTURE0),ce.lineAtlas.bind(Zr);else if(ur){var Ya=Xn.gradients[de.id],Aa=Ya.texture;if(de.gradientVersion!==Ya.version){var Xa=256;if(de.stepInterpolant){var Ua=j.getSource().maxzoom,ii=kn.canonical.z===Ua?Math.ceil(1<<ce.transform.maxZoom-kn.canonical.z):1,ti=Xn.maxLineLength/s.EXTENT,Ti=1024,Ja=ti*Ti*ii;Xa=s.clamp(s.nextPowerOfTwo(Ja),256,Zr.maxTextureSize)}Ya.gradient=s.renderColorRamp({expression:de.gradientExpression(),evaluationKey:"lineProgress",resolution:Xa,image:Ya.gradient||void 0,clips:Xn.lineClipsArray}),Ya.texture?Ya.texture.update(Ya.gradient):Ya.texture=new s.Texture(Zr,Ya.gradient,jr.RGBA),Ya.version=de.gradientVersion,Aa=Ya.texture}Zr.activeTexture.set(jr.TEXTURE0),Aa.bind(de.stepInterpolant?jr.NEAREST:jr.LINEAR,jr.CLAMP_TO_EDGE)}Jn.draw(Zr,jr.TRIANGLES,Ye,ce.stencilModeForClipping(kn),ft,kt.disabled,Qa,de.id,Xn.layoutVertexBuffer,Xn.indexBuffer,Xn.segments,de.paint,ce.transform.zoom,Zn,Xn.layoutVertexBuffer2),Wr=!1}}}}}function Rs(ce,j,de,ee){var pe=de.paint.get("fill-color"),ze=de.paint.get("fill-opacity");if(ze.constantOr(1)!==0){var Ye=ce.colorModeForRenderPass(),ft=de.paint.get("fill-pattern"),Ct=ce.opaquePassEnabledForLayer()&&!ft.constantOr(1)&&pe.constantOr(s.Color.transparent).a===1&&ze.constantOr(0)===1?"opaque":"translucent";if(ce.renderPass===Ct){var Nt=ce.depthModeForSublayer(1,ce.renderPass==="opaque"?vr.ReadWrite:vr.ReadOnly);Zs(ce,j,de,ee,Nt,Ye,!1)}if(ce.renderPass==="translucent"&&de.paint.get("fill-antialias")){var qt=ce.depthModeForSublayer(de.getPaintProperty("fill-outline-color")?2:0,vr.ReadOnly);Zs(ce,j,de,ee,qt,Ye,!0)}}}function Zs(ce,j,de,ee,pe,ze,Ye){var ft=ce.context.gl,Ct=de.paint.get("fill-pattern"),Nt=Ct&&Ct.constantOr(1),qt=de.getCrossfadeParameters(),ur,lr,Fr,Zr,jr;Ye?(lr=Nt&&!de.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ur=ft.LINES):(lr=Nt?"fillPattern":"fill",ur=ft.TRIANGLES);for(var Wr=0,Jr=ee;Wr<Jr.length;Wr+=1){var dn=Jr[Wr],kn=j.getTile(dn);if(!(Nt&&!kn.patternsLoaded())){var Un=kn.getBucket(de);if(Un){var Xn=Un.programConfigurations.get(de.id),Zn=ce.useProgram(lr,Xn);Nt&&(ce.context.activeTexture.set(ft.TEXTURE0),kn.imageAtlasTexture.bind(ft.LINEAR,ft.CLAMP_TO_EDGE),Xn.updatePaintBuffers(qt));var Gn=Ct.constantOr(null);if(Gn&&kn.imageAtlas){var Jn=kn.imageAtlas,na=Jn.patternPositions[Gn.to.toString()],ua=Jn.patternPositions[Gn.from.toString()];na&&ua&&Xn.setConstantPatternPositions(na,ua)}var ya=ce.translatePosMatrix(dn.posMatrix,kn,de.paint.get("fill-translate"),de.paint.get("fill-translate-anchor"));if(!Ye)Zr=Un.indexBuffer,jr=Un.segments,Fr=Nt?Jo(ya,ce,qt,kn):Es(ya);else{Zr=Un.indexBuffer2,jr=Un.segments2;var va=[ft.drawingBufferWidth,ft.drawingBufferHeight];Fr=lr==="fillOutlinePattern"&&Nt?lu(ya,ce,qt,kn,va):Bo(ya,va)}Zn.draw(ce.context,ur,pe,ce.stencilModeForClipping(dn),ze,kt.disabled,Fr,de.id,Un.layoutVertexBuffer,Zr,jr,de.paint,ce.transform.zoom,Xn)}}}}function wf(ce,j,de,ee){var pe=de.paint.get("fill-extrusion-opacity");if(pe!==0&&ce.renderPass==="translucent"){var ze=new vr(ce.context.gl.LEQUAL,vr.ReadWrite,ce.depthRangeFor3D);if(pe===1&&!de.paint.get("fill-extrusion-pattern").constantOr(1)){var Ye=ce.colorModeForRenderPass();mu(ce,j,de,ee,ze,$t.disabled,Ye)}else mu(ce,j,de,ee,ze,$t.disabled,lt.disabled),mu(ce,j,de,ee,ze,ce.stencilModeFor3D(),ce.colorModeForRenderPass())}}function mu(ce,j,de,ee,pe,ze,Ye){for(var ft=ce.context,Ct=ft.gl,Nt=de.paint.get("fill-extrusion-pattern"),qt=Nt.constantOr(1),ur=de.getCrossfadeParameters(),lr=de.paint.get("fill-extrusion-opacity"),Fr=0,Zr=ee;Fr<Zr.length;Fr+=1){var jr=Zr[Fr],Wr=j.getTile(jr),Jr=Wr.getBucket(de);if(Jr){var dn=Jr.programConfigurations.get(de.id),kn=ce.useProgram(qt?"fillExtrusionPattern":"fillExtrusion",dn);qt&&(ce.context.activeTexture.set(Ct.TEXTURE0),Wr.imageAtlasTexture.bind(Ct.LINEAR,Ct.CLAMP_TO_EDGE),dn.updatePaintBuffers(ur));var Un=Nt.constantOr(null);if(Un&&Wr.imageAtlas){var Xn=Wr.imageAtlas,Zn=Xn.patternPositions[Un.to.toString()],Gn=Xn.patternPositions[Un.from.toString()];Zn&&Gn&&dn.setConstantPatternPositions(Zn,Gn)}var Jn=ce.translatePosMatrix(jr.posMatrix,Wr,de.paint.get("fill-extrusion-translate"),de.paint.get("fill-extrusion-translate-anchor")),na=de.paint.get("fill-extrusion-vertical-gradient"),ua=qt?Zo(Jn,ce,na,lr,jr,ur,Wr):su(Jn,ce,na,lr);kn.draw(ft,ft.gl.TRIANGLES,pe,ze,Ye,kt.backCCW,ua,de.id,Jr.layoutVertexBuffer,Jr.indexBuffer,Jr.segments,de.paint,ce.transform.zoom,dn)}}}function xu(ce,j,de,ee){if(!(ce.renderPass!=="offscreen"&&ce.renderPass!=="translucent")){for(var pe=ce.context,ze=ce.depthModeForSublayer(0,vr.ReadOnly),Ye=ce.colorModeForRenderPass(),ft=ce.renderPass==="translucent"?ce.stencilConfigForOverlap(ee):[{},ee],Ct=ft[0],Nt=ft[1],qt=0,ur=Nt;qt<ur.length;qt+=1){var lr=ur[qt],Fr=j.getTile(lr);Fr.needsHillshadePrepare&&ce.renderPass==="offscreen"?lc(ce,Fr,de,ze,$t.disabled,Ye):ce.renderPass==="translucent"&&Ju(ce,Fr,de,ze,Ct[lr.overscaledZ],Ye)}pe.viewport.set([0,0,ce.width,ce.height])}}function Ju(ce,j,de,ee,pe,ze){var Ye=ce.context,ft=Ye.gl,Ct=j.fbo;if(Ct){var Nt=ce.useProgram("hillshade");Ye.activeTexture.set(ft.TEXTURE0),ft.bindTexture(ft.TEXTURE_2D,Ct.colorAttachment.get());var qt=mf(ce,j,de);Nt.draw(Ye,ft.TRIANGLES,ee,pe,ze,kt.disabled,qt,de.id,ce.rasterBoundsBuffer,ce.quadTriangleIndexBuffer,ce.rasterBoundsSegments)}}function lc(ce,j,de,ee,pe,ze){var Ye=ce.context,ft=Ye.gl,Ct=j.dem;if(Ct&&Ct.data){var Nt=Ct.dim,qt=Ct.stride,ur=Ct.getPixels();if(Ye.activeTexture.set(ft.TEXTURE1),Ye.pixelStoreUnpackPremultiplyAlpha.set(!1),j.demTexture=j.demTexture||ce.getTileTexture(qt),j.demTexture){var lr=j.demTexture;lr.update(ur,{premultiply:!1}),lr.bind(ft.NEAREST,ft.CLAMP_TO_EDGE)}else j.demTexture=new s.Texture(Ye,ur,ft.RGBA,{premultiply:!1}),j.demTexture.bind(ft.NEAREST,ft.CLAMP_TO_EDGE);Ye.activeTexture.set(ft.TEXTURE0);var Fr=j.fbo;if(!Fr){var Zr=new s.Texture(Ye,{width:Nt,height:Nt,data:null},ft.RGBA);Zr.bind(ft.LINEAR,ft.CLAMP_TO_EDGE),Fr=j.fbo=Ye.createFramebuffer(Nt,Nt,!0),Fr.colorAttachment.set(Zr.texture)}Ye.bindFramebuffer.set(Fr.framebuffer),Ye.viewport.set([0,0,Nt,Nt]),ce.useProgram("hillshadePrepare").draw(Ye,ft.TRIANGLES,ee,pe,ze,kt.disabled,nc(j.tileID,Ct),de.id,ce.rasterBoundsBuffer,ce.quadTriangleIndexBuffer,ce.rasterBoundsSegments),j.needsHillshadePrepare=!1}}function bu(ce,j,de,ee){if(ce.renderPass==="translucent"&&de.paint.get("raster-opacity")!==0&&ee.length)for(var pe=ce.context,ze=pe.gl,Ye=j.getSource(),ft=ce.useProgram("raster"),Ct=ce.colorModeForRenderPass(),Nt=Ye instanceof Z?[{},ee]:ce.stencilConfigForOverlap(ee),qt=Nt[0],ur=Nt[1],lr=ur[ur.length-1].overscaledZ,Fr=!ce.options.moving,Zr=0,jr=ur;Zr<jr.length;Zr+=1){var Wr=jr[Zr],Jr=ce.depthModeForSublayer(Wr.overscaledZ-lr,de.paint.get("raster-opacity")===1?vr.ReadWrite:vr.ReadOnly,ze.LESS),dn=j.getTile(Wr),kn=ce.transform.calculatePosMatrix(Wr.toUnwrapped(),Fr);dn.registerFadeDuration(de.paint.get("raster-fade-duration"));var Un=j.findLoadedParent(Wr,0),Xn=Tf(dn,Un,j,de,ce.transform),Zn=void 0,Gn=void 0,Jn=de.paint.get("raster-resampling")==="nearest"?ze.NEAREST:ze.LINEAR;pe.activeTexture.set(ze.TEXTURE0),dn.texture.bind(Jn,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST),pe.activeTexture.set(ze.TEXTURE1),Un?(Un.texture.bind(Jn,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST),Zn=Math.pow(2,Un.tileID.overscaledZ-dn.tileID.overscaledZ),Gn=[dn.tileID.canonical.x*Zn%1,dn.tileID.canonical.y*Zn%1]):dn.texture.bind(Jn,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST);var na=fu(kn,Gn||[0,0],Zn||1,Xn,de);Ye instanceof Z?ft.draw(pe,ze.TRIANGLES,Jr,$t.disabled,Ct,kt.disabled,na,de.id,Ye.boundsBuffer,ce.quadTriangleIndexBuffer,Ye.boundsSegments):ft.draw(pe,ze.TRIANGLES,Jr,qt[Wr.overscaledZ],Ct,kt.disabled,na,de.id,ce.rasterBoundsBuffer,ce.quadTriangleIndexBuffer,ce.rasterBoundsSegments)}}function Tf(ce,j,de,ee,pe){var ze=ee.paint.get("raster-fade-duration");if(ze>0){var Ye=s.browser.now(),ft=(Ye-ce.timeAdded)/ze,Ct=j?(Ye-j.timeAdded)/ze:-1,Nt=de.getSource(),qt=pe.coveringZoomLevel({tileSize:Nt.tileSize,roundZoom:Nt.roundZoom}),ur=!j||Math.abs(j.tileID.overscaledZ-qt)>Math.abs(ce.tileID.overscaledZ-qt),lr=ur&&ce.refreshedUponExpiration?1:s.clamp(ur?ft:1-Ct,0,1);return ce.refreshedUponExpiration&&ft>=1&&(ce.refreshedUponExpiration=!1),j?{opacity:1,mix:1-lr}:{opacity:lr,mix:0}}else return{opacity:1,mix:0}}function hl(ce,j,de){var ee=de.paint.get("background-color"),pe=de.paint.get("background-opacity");if(pe!==0){var ze=ce.context,Ye=ze.gl,ft=ce.transform,Ct=ft.tileSize,Nt=de.paint.get("background-pattern");if(!ce.isPatternMissing(Nt)){var qt=!Nt&&ee.a===1&&pe===1&&ce.opaquePassEnabledForLayer()?"opaque":"translucent";if(ce.renderPass===qt){var ur=$t.disabled,lr=ce.depthModeForSublayer(0,qt==="opaque"?vr.ReadWrite:vr.ReadOnly),Fr=ce.colorModeForRenderPass(),Zr=ce.useProgram(Nt?"backgroundPattern":"background"),jr=ft.coveringTiles({tileSize:Ct});Nt&&(ze.activeTexture.set(Ye.TEXTURE0),ce.imageManager.bind(ce.context));for(var Wr=de.getCrossfadeParameters(),Jr=0,dn=jr;Jr<dn.length;Jr+=1){var kn=dn[Jr],Un=ce.transform.calculatePosMatrix(kn.toUnwrapped()),Xn=Nt?du(Un,pe,ce,Nt,{tileID:kn,tileSize:Ct},Wr):Ys(Un,pe,ee);Zr.draw(ze,Ye.TRIANGLES,lr,ur,Fr,kt.disabled,Xn,de.id,ce.tileExtentBuffer,ce.quadTriangleIndexBuffer,ce.tileExtentSegments)}}}}}var Af=new s.Color(1,0,0,1),wu=new s.Color(0,1,0,1),uc=new s.Color(0,0,1,1),Je=new s.Color(1,0,1,1),it=new s.Color(0,1,1,1);function yt(ce){var j=ce.transform.padding,de=3;_t(ce,ce.transform.height-(j.top||0),de,Af),_t(ce,j.bottom||0,de,wu),It(ce,j.left||0,de,uc),It(ce,ce.transform.width-(j.right||0),de,Je);var ee=ce.transform.centerPoint;wt(ce,ee.x,ce.transform.height-ee.y,it)}function wt(ce,j,de,ee){var pe=20,ze=2;zt(ce,j-ze/2,de-pe/2,ze,pe,ee),zt(ce,j-pe/2,de-ze/2,pe,ze,ee)}function _t(ce,j,de,ee){zt(ce,0,j+de/2,ce.transform.width,de,ee)}function It(ce,j,de,ee){zt(ce,j-de/2,0,de,ce.transform.height,ee)}function zt(ce,j,de,ee,pe,ze){var Ye=ce.context,ft=Ye.gl;ft.enable(ft.SCISSOR_TEST),ft.scissor(j*s.browser.devicePixelRatio,de*s.browser.devicePixelRatio,ee*s.browser.devicePixelRatio,pe*s.browser.devicePixelRatio),Ye.clear({color:ze}),ft.disable(ft.SCISSOR_TEST)}function pr(ce,j,de){for(var ee=0;ee<de.length;ee++)wr(ce,j,de[ee])}function wr(ce,j,de){var ee=ce.context,pe=ee.gl,ze=de.posMatrix,Ye=ce.useProgram("debug"),ft=vr.disabled,Ct=$t.disabled,Nt=ce.colorModeForRenderPass(),qt="$debug";ee.activeTexture.set(pe.TEXTURE0),ce.emptyTexture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE),Ye.draw(ee,pe.LINE_STRIP,ft,Ct,Nt,kt.disabled,Ki(ze,s.Color.red),qt,ce.debugBuffer,ce.tileBorderIndexBuffer,ce.debugSegments);var ur=j.getTileByID(de.key).latestRawTileData,lr=ur&&ur.byteLength||0,Fr=Math.floor(lr/1024),Zr=j.getTile(de).tileSize,jr=512/Math.min(Zr,512)*(de.overscaledZ/ce.transform.zoom)*.5,Wr=de.canonical.toString();de.overscaledZ!==de.canonical.z&&(Wr+=" => "+de.overscaledZ);var Jr=Wr+" "+Fr+"kb";sr(ce,Jr),Ye.draw(ee,pe.TRIANGLES,ft,Ct,lt.alphaBlended,kt.disabled,Ki(ze,s.Color.transparent,jr),qt,ce.debugBuffer,ce.quadTriangleIndexBuffer,ce.debugSegments)}function sr(ce,j){ce.initDebugOverlayCanvas();var de=ce.debugOverlayCanvas,ee=ce.context.gl,pe=ce.debugOverlayCanvas.getContext("2d");pe.clearRect(0,0,de.width,de.height),pe.shadowColor="white",pe.shadowBlur=2,pe.lineWidth=1.5,pe.strokeStyle="white",pe.textBaseline="top",pe.font="bold 36px Open Sans, sans-serif",pe.fillText(j,5,5),pe.strokeText(j,5,5),ce.debugOverlayTexture.update(de),ce.debugOverlayTexture.bind(ee.LINEAR,ee.CLAMP_TO_EDGE)}function Sr(ce,j,de){var ee=ce.context,pe=de.implementation;if(ce.renderPass==="offscreen"){var ze=pe.prerender;ze&&(ce.setCustomLayerDefaults(),ee.setColorMode(ce.colorModeForRenderPass()),ze.call(pe,ee.gl,ce.transform.customLayerMatrix()),ee.setDirty(),ce.setBaseState())}else if(ce.renderPass==="translucent"){ce.setCustomLayerDefaults(),ee.setColorMode(ce.colorModeForRenderPass()),ee.setStencilMode($t.disabled);var Ye=pe.renderingMode==="3d"?new vr(ce.context.gl.LEQUAL,vr.ReadWrite,ce.depthRangeFor3D):ce.depthModeForSublayer(0,vr.ReadOnly);ee.setDepthMode(Ye),pe.render(ee.gl,ce.transform.customLayerMatrix()),ee.setDirty(),ce.setBaseState(),ee.bindFramebuffer.set(null)}}var zr={symbol:Zu,circle:sc,heatmap:js,line:Ku,fill:Rs,"fill-extrusion":wf,hillshade:xu,raster:bu,background:hl,debug:pr,custom:Sr},Vr=function(j,de){this.context=new Ot(j),this.transform=de,this._tileTextures={},this.setup(),this.numSublayers=Ft.maxUnderzooming+Ft.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new jn,this.gpuTimers={}};Vr.prototype.resize=function(j,de){if(this.width=j*s.browser.devicePixelRatio,this.height=de*s.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var ee=0,pe=this.style._order;ee<pe.length;ee+=1){var ze=pe[ee];this.style._layers[ze].resize()}},Vr.prototype.setup=function(){var j=this.context,de=new s.StructArrayLayout2i4;de.emplaceBack(0,0),de.emplaceBack(s.EXTENT,0),de.emplaceBack(0,s.EXTENT),de.emplaceBack(s.EXTENT,s.EXTENT),this.tileExtentBuffer=j.createVertexBuffer(de,Eo.members),this.tileExtentSegments=s.SegmentVector.simpleSegment(0,0,4,2);var ee=new s.StructArrayLayout2i4;ee.emplaceBack(0,0),ee.emplaceBack(s.EXTENT,0),ee.emplaceBack(0,s.EXTENT),ee.emplaceBack(s.EXTENT,s.EXTENT),this.debugBuffer=j.createVertexBuffer(ee,Eo.members),this.debugSegments=s.SegmentVector.simpleSegment(0,0,4,5);var pe=new s.StructArrayLayout4i8;pe.emplaceBack(0,0,0,0),pe.emplaceBack(s.EXTENT,0,s.EXTENT,0),pe.emplaceBack(0,s.EXTENT,0,s.EXTENT),pe.emplaceBack(s.EXTENT,s.EXTENT,s.EXTENT,s.EXTENT),this.rasterBoundsBuffer=j.createVertexBuffer(pe,W.members),this.rasterBoundsSegments=s.SegmentVector.simpleSegment(0,0,4,2);var ze=new s.StructArrayLayout2i4;ze.emplaceBack(0,0),ze.emplaceBack(1,0),ze.emplaceBack(0,1),ze.emplaceBack(1,1),this.viewportBuffer=j.createVertexBuffer(ze,Eo.members),this.viewportSegments=s.SegmentVector.simpleSegment(0,0,4,2);var Ye=new s.StructArrayLayout1ui2;Ye.emplaceBack(0),Ye.emplaceBack(1),Ye.emplaceBack(3),Ye.emplaceBack(2),Ye.emplaceBack(0),this.tileBorderIndexBuffer=j.createIndexBuffer(Ye);var ft=new s.StructArrayLayout3ui6;ft.emplaceBack(0,1,2),ft.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=j.createIndexBuffer(ft),this.emptyTexture=new s.Texture(j,{width:1,height:1,data:new Uint8Array([0,0,0,0])},j.gl.RGBA);var Ct=this.context.gl;this.stencilClearMode=new $t({func:Ct.ALWAYS,mask:0},0,255,Ct.ZERO,Ct.ZERO,Ct.ZERO)},Vr.prototype.clearStencil=function(){var j=this.context,de=j.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var ee=s.create();s.ortho(ee,0,this.width,this.height,0,0,1),s.scale(ee,ee,[de.drawingBufferWidth,de.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(j,de.TRIANGLES,vr.disabled,this.stencilClearMode,lt.disabled,kt.disabled,Ol(ee),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Vr.prototype._renderTileClippingMasks=function(j,de){if(!(this.currentStencilSource===j.source||!j.isTileClipped()||!de||!de.length)){this.currentStencilSource=j.source;var ee=this.context,pe=ee.gl;this.nextStencilID+de.length>256&&this.clearStencil(),ee.setColorMode(lt.disabled),ee.setDepthMode(vr.disabled);var ze=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Ye=0,ft=de;Ye<ft.length;Ye+=1){var Ct=ft[Ye],Nt=this._tileClippingMaskIDs[Ct.key]=this.nextStencilID++;ze.draw(ee,pe.TRIANGLES,vr.disabled,new $t({func:pe.ALWAYS,mask:0},Nt,255,pe.KEEP,pe.KEEP,pe.REPLACE),lt.disabled,kt.disabled,Ol(Ct.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Vr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var j=this.nextStencilID++,de=this.context.gl;return new $t({func:de.NOTEQUAL,mask:255},j,255,de.KEEP,de.KEEP,de.REPLACE)},Vr.prototype.stencilModeForClipping=function(j){var de=this.context.gl;return new $t({func:de.EQUAL,mask:255},this._tileClippingMaskIDs[j.key],0,de.KEEP,de.KEEP,de.REPLACE)},Vr.prototype.stencilConfigForOverlap=function(j){var de,ee=this.context.gl,pe=j.sort(function(Nt,qt){return qt.overscaledZ-Nt.overscaledZ}),ze=pe[pe.length-1].overscaledZ,Ye=pe[0].overscaledZ-ze+1;if(Ye>1){this.currentStencilSource=void 0,this.nextStencilID+Ye>256&&this.clearStencil();for(var ft={},Ct=0;Ct<Ye;Ct++)ft[Ct+ze]=new $t({func:ee.GEQUAL,mask:255},Ct+this.nextStencilID,255,ee.KEEP,ee.KEEP,ee.REPLACE);return this.nextStencilID+=Ye,[ft,pe]}return[(de={},de[ze]=$t.disabled,de),pe]},Vr.prototype.colorModeForRenderPass=function(){var j=this.context.gl;if(this._showOverdrawInspector){var de=8,ee=1/de;return new lt([j.CONSTANT_COLOR,j.ONE],new s.Color(ee,ee,ee,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?lt.unblended:lt.alphaBlended},Vr.prototype.depthModeForSublayer=function(j,de,ee){if(!this.opaquePassEnabledForLayer())return vr.disabled;var pe=1-((1+this.currentLayer)*this.numSublayers+j)*this.depthEpsilon;return new vr(ee||this.context.gl.LEQUAL,de,[pe,pe])},Vr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Vr.prototype.render=function(j,de){var ee=this;this.style=j,this.options=de,this.lineAtlas=j.lineAtlas,this.imageManager=j.imageManager,this.glyphManager=j.glyphManager,this.symbolFadeChange=j.placement.symbolFadeChange(s.browser.now()),this.imageManager.beginFrame();var pe=this.style._order,ze=this.style.sourceCaches;for(var Ye in ze){var ft=ze[Ye];ft.used&&ft.prepare(this.context)}var Ct={},Nt={},qt={};for(var ur in ze){var lr=ze[ur];Ct[ur]=lr.getVisibleCoordinates(),Nt[ur]=Ct[ur].slice().reverse(),qt[ur]=lr.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Fr=0;Fr<pe.length;Fr++){var Zr=pe[Fr];if(this.style._layers[Zr].is3D()){this.opaquePassCutoff=Fr;break}}this.renderPass="offscreen";for(var jr=0,Wr=pe;jr<Wr.length;jr+=1){var Jr=Wr[jr],dn=this.style._layers[Jr];if(!(!dn.hasOffscreenPass()||dn.isHidden(this.transform.zoom))){var kn=Nt[dn.source];dn.type!=="custom"&&!kn.length||this.renderLayer(this,ze[dn.source],dn,kn)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:de.showOverdrawInspector?s.Color.black:s.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=de.showOverdrawInspector,this.depthRangeFor3D=[0,1-(j._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=pe.length-1;this.currentLayer>=0;this.currentLayer--){var Un=this.style._layers[pe[this.currentLayer]],Xn=ze[Un.source],Zn=Ct[Un.source];this._renderTileClippingMasks(Un,Zn),this.renderLayer(this,Xn,Un,Zn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<pe.length;this.currentLayer++){var Gn=this.style._layers[pe[this.currentLayer]],Jn=ze[Gn.source],na=(Gn.type==="symbol"?qt:Nt)[Gn.source];this._renderTileClippingMasks(Gn,Ct[Gn.source]),this.renderLayer(this,Jn,Gn,na)}if(this.options.showTileBoundaries){var ua,ya,va=s.values(this.style._layers);va.forEach(function(_a){_a.source&&!_a.isHidden(ee.transform.zoom)&&(_a.source!==(ya&&ya.id)&&(ya=ee.style.sourceCaches[_a.source]),(!ua||ua.getSource().maxzoom<ya.getSource().maxzoom)&&(ua=ya))}),ua&&zr.debug(this,ua,ua.getVisibleCoordinates())}this.options.showPadding&&yt(this),this.context.setDefault()},Vr.prototype.renderLayer=function(j,de,ee,pe){ee.isHidden(this.transform.zoom)||ee.type!=="background"&&ee.type!=="custom"&&!pe.length||(this.id=ee.id,this.gpuTimingStart(ee),zr[ee.type](j,de,ee,pe,this.style.placement.variableOffsets),this.gpuTimingEnd())},Vr.prototype.gpuTimingStart=function(j){if(this.options.gpuTiming){var de=this.context.extTimerQuery,ee=this.gpuTimers[j.id];ee||(ee=this.gpuTimers[j.id]={calls:0,cpuTime:0,query:de.createQueryEXT()}),ee.calls++,de.beginQueryEXT(de.TIME_ELAPSED_EXT,ee.query)}},Vr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var j=this.context.extTimerQuery;j.endQueryEXT(j.TIME_ELAPSED_EXT)}},Vr.prototype.collectGpuTimers=function(){var j=this.gpuTimers;return this.gpuTimers={},j},Vr.prototype.queryGpuTimers=function(j){var de={};for(var ee in j){var pe=j[ee],ze=this.context.extTimerQuery,Ye=ze.getQueryObjectEXT(pe.query,ze.QUERY_RESULT_EXT)/(1e3*1e3);ze.deleteQueryEXT(pe.query),de[ee]=Ye}return de},Vr.prototype.translatePosMatrix=function(j,de,ee,pe,ze){if(!ee[0]&&!ee[1])return j;var Ye=ze?pe==="map"?this.transform.angle:0:pe==="viewport"?-this.transform.angle:0;if(Ye){var ft=Math.sin(Ye),Ct=Math.cos(Ye);ee=[ee[0]*Ct-ee[1]*ft,ee[0]*ft+ee[1]*Ct]}var Nt=[ze?ee[0]:ln(de,ee[0],this.transform.zoom),ze?ee[1]:ln(de,ee[1],this.transform.zoom),0],qt=new Float32Array(16);return s.translate(qt,j,Nt),qt},Vr.prototype.saveTileTexture=function(j){var de=this._tileTextures[j.size[0]];de?de.push(j):this._tileTextures[j.size[0]]=[j]},Vr.prototype.getTileTexture=function(j){var de=this._tileTextures[j];return de&&de.length>0?de.pop():null},Vr.prototype.isPatternMissing=function(j){if(!j)return!1;if(!j.from||!j.to)return!0;var de=this.imageManager.getPattern(j.from.toString()),ee=this.imageManager.getPattern(j.to.toString());return!de||!ee},Vr.prototype.useProgram=function(j,de){this.cache=this.cache||{};var ee=""+j+(de?de.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[ee]||(this.cache[ee]=new gf(this.context,j,Qf[j],de,Xs[j],this._showOverdrawInspector)),this.cache[ee]},Vr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Vr.prototype.setBaseState=function(){var j=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(j.FUNC_ADD)},Vr.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=s.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var j=this.context.gl;this.debugOverlayTexture=new s.Texture(this.context,this.debugOverlayCanvas,j.RGBA)}},Vr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var rn=function(j,de){this.points=j,this.planes=de};rn.fromInvProjectionMatrix=function(j,de,ee){var pe=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],ze=Math.pow(2,ee),Ye=pe.map(function(Nt){return s.transformMat4([],Nt,j)}).map(function(Nt){return s.scale$1([],Nt,1/Nt[3]/de*ze)}),ft=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],Ct=ft.map(function(Nt){var qt=s.sub([],Ye[Nt[0]],Ye[Nt[1]]),ur=s.sub([],Ye[Nt[2]],Ye[Nt[1]]),lr=s.normalize([],s.cross([],qt,ur)),Fr=-s.dot(lr,Ye[Nt[1]]);return lr.concat(Fr)});return new rn(Ye,Ct)};var bn=function(j,de){this.min=j,this.max=de,this.center=s.scale$2([],s.add([],this.min,this.max),.5)};bn.prototype.quadrant=function(j){for(var de=[j%2===0,j<2],ee=s.clone$2(this.min),pe=s.clone$2(this.max),ze=0;ze<de.length;ze++)ee[ze]=de[ze]?this.min[ze]:this.center[ze],pe[ze]=de[ze]?this.center[ze]:this.max[ze];return pe[2]=this.max[2],new bn(ee,pe)},bn.prototype.distanceX=function(j){var de=Math.max(Math.min(this.max[0],j[0]),this.min[0]);return de-j[0]},bn.prototype.distanceY=function(j){var de=Math.max(Math.min(this.max[1],j[1]),this.min[1]);return de-j[1]},bn.prototype.intersects=function(j){for(var de=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],ee=!0,pe=0;pe<j.planes.length;pe++){for(var ze=j.planes[pe],Ye=0,ft=0;ft<de.length;ft++)Ye+=s.dot$1(ze,de[ft])>=0;if(Ye===0)return 0;Ye!==de.length&&(ee=!1)}if(ee)return 2;for(var Ct=0;Ct<3;Ct++){for(var Nt=Number.MAX_VALUE,qt=-Number.MAX_VALUE,ur=0;ur<j.points.length;ur++){var lr=j.points[ur][Ct]-this.min[Ct];Nt=Math.min(Nt,lr),qt=Math.max(qt,lr)}if(qt<0||Nt>this.max[Ct]-this.min[Ct])return 0}return 1};var Pn=function(j,de,ee,pe){if(j===void 0&&(j=0),de===void 0&&(de=0),ee===void 0&&(ee=0),pe===void 0&&(pe=0),isNaN(j)||j<0||isNaN(de)||de<0||isNaN(ee)||ee<0||isNaN(pe)||pe<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=j,this.bottom=de,this.left=ee,this.right=pe};Pn.prototype.interpolate=function(j,de,ee){return de.top!=null&&j.top!=null&&(this.top=s.number(j.top,de.top,ee)),de.bottom!=null&&j.bottom!=null&&(this.bottom=s.number(j.bottom,de.bottom,ee)),de.left!=null&&j.left!=null&&(this.left=s.number(j.left,de.left,ee)),de.right!=null&&j.right!=null&&(this.right=s.number(j.right,de.right,ee)),this},Pn.prototype.getCenter=function(j,de){var ee=s.clamp((this.left+j-this.right)/2,0,j),pe=s.clamp((this.top+de-this.bottom)/2,0,de);return new s.Point(ee,pe)},Pn.prototype.equals=function(j){return this.top===j.top&&this.bottom===j.bottom&&this.left===j.left&&this.right===j.right},Pn.prototype.clone=function(){return new Pn(this.top,this.bottom,this.left,this.right)},Pn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var In=function(j,de,ee,pe,ze){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=ze===void 0?!0:ze,this._minZoom=j||0,this._maxZoom=de||22,this._minPitch=ee??0,this._maxPitch=pe??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new s.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Pn,this._posMatrixCache={},this._alignedPosMatrixCache={}},Kn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};In.prototype.clone=function(){var j=new In(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return j.tileSize=this.tileSize,j.latRange=this.latRange,j.width=this.width,j.height=this.height,j._center=this._center,j.zoom=this.zoom,j.angle=this.angle,j._fov=this._fov,j._pitch=this._pitch,j._unmodified=this._unmodified,j._edgeInsets=this._edgeInsets.clone(),j._calcMatrices(),j},Kn.minZoom.get=function(){return this._minZoom},Kn.minZoom.set=function(ce){this._minZoom!==ce&&(this._minZoom=ce,this.zoom=Math.max(this.zoom,ce))},Kn.maxZoom.get=function(){return this._maxZoom},Kn.maxZoom.set=function(ce){this._maxZoom!==ce&&(this._maxZoom=ce,this.zoom=Math.min(this.zoom,ce))},Kn.minPitch.get=function(){return this._minPitch},Kn.minPitch.set=function(ce){this._minPitch!==ce&&(this._minPitch=ce,this.pitch=Math.max(this.pitch,ce))},Kn.maxPitch.get=function(){return this._maxPitch},Kn.maxPitch.set=function(ce){this._maxPitch!==ce&&(this._maxPitch=ce,this.pitch=Math.min(this.pitch,ce))},Kn.renderWorldCopies.get=function(){return this._renderWorldCopies},Kn.renderWorldCopies.set=function(ce){ce===void 0?ce=!0:ce===null&&(ce=!1),this._renderWorldCopies=ce},Kn.worldSize.get=function(){return this.tileSize*this.scale},Kn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Kn.size.get=function(){return new s.Point(this.width,this.height)},Kn.bearing.get=function(){return-this.angle/Math.PI*180},Kn.bearing.set=function(ce){var j=-s.wrap(ce,-180,180)*Math.PI/180;this.angle!==j&&(this._unmodified=!1,this.angle=j,this._calcMatrices(),this.rotationMatrix=s.create$2(),s.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Kn.pitch.get=function(){return this._pitch/Math.PI*180},Kn.pitch.set=function(ce){var j=s.clamp(ce,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==j&&(this._unmodified=!1,this._pitch=j,this._calcMatrices())},Kn.fov.get=function(){return this._fov/Math.PI*180},Kn.fov.set=function(ce){ce=Math.max(.01,Math.min(60,ce)),this._fov!==ce&&(this._unmodified=!1,this._fov=ce/180*Math.PI,this._calcMatrices())},Kn.zoom.get=function(){return this._zoom},Kn.zoom.set=function(ce){var j=Math.min(Math.max(ce,this.minZoom),this.maxZoom);this._zoom!==j&&(this._unmodified=!1,this._zoom=j,this.scale=this.zoomScale(j),this.tileZoom=Math.floor(j),this.zoomFraction=j-this.tileZoom,this._constrain(),this._calcMatrices())},Kn.center.get=function(){return this._center},Kn.center.set=function(ce){ce.lat===this._center.lat&&ce.lng===this._center.lng||(this._unmodified=!1,this._center=ce,this._constrain(),this._calcMatrices())},Kn.padding.get=function(){return this._edgeInsets.toJSON()},Kn.padding.set=function(ce){this._edgeInsets.equals(ce)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,ce,1),this._calcMatrices())},Kn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},In.prototype.isPaddingEqual=function(j){return this._edgeInsets.equals(j)},In.prototype.interpolatePadding=function(j,de,ee){this._unmodified=!1,this._edgeInsets.interpolate(j,de,ee),this._constrain(),this._calcMatrices()},In.prototype.coveringZoomLevel=function(j){var de=(j.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/j.tileSize));return Math.max(0,de)},In.prototype.getVisibleUnwrappedCoordinates=function(j){var de=[new s.UnwrappedTileID(0,j)];if(this._renderWorldCopies)for(var ee=this.pointCoordinate(new s.Point(0,0)),pe=this.pointCoordinate(new s.Point(this.width,0)),ze=this.pointCoordinate(new s.Point(this.width,this.height)),Ye=this.pointCoordinate(new s.Point(0,this.height)),ft=Math.floor(Math.min(ee.x,pe.x,ze.x,Ye.x)),Ct=Math.floor(Math.max(ee.x,pe.x,ze.x,Ye.x)),Nt=1,qt=ft-Nt;qt<=Ct+Nt;qt++)qt!==0&&de.push(new s.UnwrappedTileID(qt,j));return de},In.prototype.coveringTiles=function(j){var de=this.coveringZoomLevel(j),ee=de;if(j.minzoom!==void 0&&de<j.minzoom)return[];j.maxzoom!==void 0&&de>j.maxzoom&&(de=j.maxzoom);var pe=s.MercatorCoordinate.fromLngLat(this.center),ze=Math.pow(2,de),Ye=[ze*pe.x,ze*pe.y,0],ft=rn.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,de),Ct=j.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(Ct=de);var Nt=3,qt=function(va){return{aabb:new bn([va*ze,0,0],[(va+1)*ze,ze,0]),zoom:0,x:0,y:0,wrap:va,fullyVisible:!1}},ur=[],lr=[],Fr=de,Zr=j.reparseOverscaled?ee:de;if(this._renderWorldCopies)for(var jr=1;jr<=3;jr++)ur.push(qt(-jr)),ur.push(qt(jr));for(ur.push(qt(0));ur.length>0;){var Wr=ur.pop(),Jr=Wr.x,dn=Wr.y,kn=Wr.fullyVisible;if(!kn){var Un=Wr.aabb.intersects(ft);if(Un===0)continue;kn=Un===2}var Xn=Wr.aabb.distanceX(Ye),Zn=Wr.aabb.distanceY(Ye),Gn=Math.max(Math.abs(Xn),Math.abs(Zn)),Jn=Nt+(1<<Fr-Wr.zoom)-2;if(Wr.zoom===Fr||Gn>Jn&&Wr.zoom>=Ct){lr.push({tileID:new s.OverscaledTileID(Wr.zoom===Fr?Zr:Wr.zoom,Wr.wrap,Wr.zoom,Jr,dn),distanceSq:s.sqrLen([Ye[0]-.5-Jr,Ye[1]-.5-dn])});continue}for(var na=0;na<4;na++){var ua=(Jr<<1)+na%2,ya=(dn<<1)+(na>>1);ur.push({aabb:Wr.aabb.quadrant(na),zoom:Wr.zoom+1,x:ua,y:ya,wrap:Wr.wrap,fullyVisible:kn})}}return lr.sort(function(va,_a){return va.distanceSq-_a.distanceSq}).map(function(va){return va.tileID})},In.prototype.resize=function(j,de){this.width=j,this.height=de,this.pixelsToGLUnits=[2/j,-2/de],this._constrain(),this._calcMatrices()},Kn.unmodified.get=function(){return this._unmodified},In.prototype.zoomScale=function(j){return Math.pow(2,j)},In.prototype.scaleZoom=function(j){return Math.log(j)/Math.LN2},In.prototype.project=function(j){var de=s.clamp(j.lat,-this.maxValidLatitude,this.maxValidLatitude);return new s.Point(s.mercatorXfromLng(j.lng)*this.worldSize,s.mercatorYfromLat(de)*this.worldSize)},In.prototype.unproject=function(j){return new s.MercatorCoordinate(j.x/this.worldSize,j.y/this.worldSize).toLngLat()},Kn.point.get=function(){return this.project(this.center)},In.prototype.setLocationAtPoint=function(j,de){var ee=this.pointCoordinate(de),pe=this.pointCoordinate(this.centerPoint),ze=this.locationCoordinate(j),Ye=new s.MercatorCoordinate(ze.x-(ee.x-pe.x),ze.y-(ee.y-pe.y));this.center=this.coordinateLocation(Ye),this._renderWorldCopies&&(this.center=this.center.wrap())},In.prototype.locationPoint=function(j){return this.coordinatePoint(this.locationCoordinate(j))},In.prototype.pointLocation=function(j){return this.coordinateLocation(this.pointCoordinate(j))},In.prototype.locationCoordinate=function(j){return s.MercatorCoordinate.fromLngLat(j)},In.prototype.coordinateLocation=function(j){return j.toLngLat()},In.prototype.pointCoordinate=function(j){var de=0,ee=[j.x,j.y,0,1],pe=[j.x,j.y,1,1];s.transformMat4(ee,ee,this.pixelMatrixInverse),s.transformMat4(pe,pe,this.pixelMatrixInverse);var ze=ee[3],Ye=pe[3],ft=ee[0]/ze,Ct=pe[0]/Ye,Nt=ee[1]/ze,qt=pe[1]/Ye,ur=ee[2]/ze,lr=pe[2]/Ye,Fr=ur===lr?0:(de-ur)/(lr-ur);return new s.MercatorCoordinate(s.number(ft,Ct,Fr)/this.worldSize,s.number(Nt,qt,Fr)/this.worldSize)},In.prototype.coordinatePoint=function(j){var de=[j.x*this.worldSize,j.y*this.worldSize,0,1];return s.transformMat4(de,de,this.pixelMatrix),new s.Point(de[0]/de[3],de[1]/de[3])},In.prototype.getBounds=function(){return new s.LngLatBounds().extend(this.pointLocation(new s.Point(0,0))).extend(this.pointLocation(new s.Point(this.width,0))).extend(this.pointLocation(new s.Point(this.width,this.height))).extend(this.pointLocation(new s.Point(0,this.height)))},In.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new s.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},In.prototype.setMaxBounds=function(j){j?(this.lngRange=[j.getWest(),j.getEast()],this.latRange=[j.getSouth(),j.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},In.prototype.calculatePosMatrix=function(j,de){de===void 0&&(de=!1);var ee=j.key,pe=de?this._alignedPosMatrixCache:this._posMatrixCache;if(pe[ee])return pe[ee];var ze=j.canonical,Ye=this.worldSize/this.zoomScale(ze.z),ft=ze.x+Math.pow(2,ze.z)*j.wrap,Ct=s.identity(new Float64Array(16));return s.translate(Ct,Ct,[ft*Ye,ze.y*Ye,0]),s.scale(Ct,Ct,[Ye/s.EXTENT,Ye/s.EXTENT,1]),s.multiply(Ct,de?this.alignedProjMatrix:this.projMatrix,Ct),pe[ee]=new Float32Array(Ct),pe[ee]},In.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},In.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var j=-90,de=90,ee=-180,pe=180,ze,Ye,ft,Ct,Nt=this.size,qt=this._unmodified;if(this.latRange){var ur=this.latRange;j=s.mercatorYfromLat(ur[1])*this.worldSize,de=s.mercatorYfromLat(ur[0])*this.worldSize,ze=de-j<Nt.y?Nt.y/(de-j):0}if(this.lngRange){var lr=this.lngRange;ee=s.mercatorXfromLng(lr[0])*this.worldSize,pe=s.mercatorXfromLng(lr[1])*this.worldSize,Ye=pe-ee<Nt.x?Nt.x/(pe-ee):0}var Fr=this.point,Zr=Math.max(Ye||0,ze||0);if(Zr){this.center=this.unproject(new s.Point(Ye?(pe+ee)/2:Fr.x,ze?(de+j)/2:Fr.y)),this.zoom+=this.scaleZoom(Zr),this._unmodified=qt,this._constraining=!1;return}if(this.latRange){var jr=Fr.y,Wr=Nt.y/2;jr-Wr<j&&(Ct=j+Wr),jr+Wr>de&&(Ct=de-Wr)}if(this.lngRange){var Jr=Fr.x,dn=Nt.x/2;Jr-dn<ee&&(ft=ee+dn),Jr+dn>pe&&(ft=pe-dn)}(ft!==void 0||Ct!==void 0)&&(this.center=this.unproject(new s.Point(ft!==void 0?ft:Fr.x,Ct!==void 0?Ct:Fr.y))),this._unmodified=qt,this._constraining=!1}},In.prototype._calcMatrices=function(){if(this.height){var j=this._fov/2,de=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(j)*this.height;var ee=Math.PI/2+this._pitch,pe=this._fov*(.5+de.y/this.height),ze=Math.sin(pe)*this.cameraToCenterDistance/Math.sin(s.clamp(Math.PI-ee-pe,.01,Math.PI-.01)),Ye=this.point,ft=Ye.x,Ct=Ye.y,Nt=Math.cos(Math.PI/2-this._pitch)*ze+this.cameraToCenterDistance,qt=Nt*1.01,ur=this.height/50,lr=new Float64Array(16);s.perspective(lr,this._fov,this.width/this.height,ur,qt),lr[8]=-de.x*2/this.width,lr[9]=de.y*2/this.height,s.scale(lr,lr,[1,-1,1]),s.translate(lr,lr,[0,0,-this.cameraToCenterDistance]),s.rotateX(lr,lr,this._pitch),s.rotateZ(lr,lr,this.angle),s.translate(lr,lr,[-ft,-Ct,0]),this.mercatorMatrix=s.scale([],lr,[this.worldSize,this.worldSize,this.worldSize]),s.scale(lr,lr,[1,1,s.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=lr,this.invProjMatrix=s.invert([],this.projMatrix);var Fr=this.width%2/2,Zr=this.height%2/2,jr=Math.cos(this.angle),Wr=Math.sin(this.angle),Jr=ft-Math.round(ft)+jr*Fr+Wr*Zr,dn=Ct-Math.round(Ct)+jr*Zr+Wr*Fr,kn=new Float64Array(lr);if(s.translate(kn,kn,[Jr>.5?Jr-1:Jr,dn>.5?dn-1:dn,0]),this.alignedProjMatrix=kn,lr=s.create(),s.scale(lr,lr,[this.width/2,-this.height/2,1]),s.translate(lr,lr,[1,-1,0]),this.labelPlaneMatrix=lr,lr=s.create(),s.scale(lr,lr,[1,-1,1]),s.translate(lr,lr,[-1,-1,0]),s.scale(lr,lr,[2/this.width,2/this.height,1]),this.glCoordMatrix=lr,this.pixelMatrix=s.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),lr=s.invert(new Float64Array(16),this.pixelMatrix),!lr)throw new Error("failed to invert matrix");this.pixelMatrixInverse=lr,this._posMatrixCache={},this._alignedPosMatrixCache={}}},In.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var j=this.pointCoordinate(new s.Point(0,0)),de=[j.x*this.worldSize,j.y*this.worldSize,0,1],ee=s.transformMat4(de,de,this.pixelMatrix);return ee[3]/this.cameraToCenterDistance},In.prototype.getCameraPoint=function(){var j=this._pitch,de=Math.tan(j)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s.Point(0,de))},In.prototype.getCameraQueryGeometry=function(j){var de=this.getCameraPoint();if(j.length===1)return[j[0],de];for(var ee=de.x,pe=de.y,ze=de.x,Ye=de.y,ft=0,Ct=j;ft<Ct.length;ft+=1){var Nt=Ct[ft];ee=Math.min(ee,Nt.x),pe=Math.min(pe,Nt.y),ze=Math.max(ze,Nt.x),Ye=Math.max(Ye,Nt.y)}return[new s.Point(ee,pe),new s.Point(ze,pe),new s.Point(ze,Ye),new s.Point(ee,Ye),new s.Point(ee,pe)]},Object.defineProperties(In.prototype,Kn);function La(ce,j){var de=!1,ee=null,pe=function(){ee=null,de&&(ce(),ee=setTimeout(pe,j),de=!1)};return function(){return de=!0,ee||pe(),ee}}var Pa=function(j){this._hashName=j&&encodeURIComponent(j),s.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=La(this._updateHashUnthrottled.bind(this),30*1e3/100)};Pa.prototype.addTo=function(j){return this._map=j,s.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Pa.prototype.remove=function(){return s.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Pa.prototype.getHashString=function(j){var de=this._map.getCenter(),ee=Math.round(this._map.getZoom()*100)/100,pe=Math.ceil((ee*Math.LN2+Math.log(512/360/.5))/Math.LN10),ze=Math.pow(10,pe),Ye=Math.round(de.lng*ze)/ze,ft=Math.round(de.lat*ze)/ze,Ct=this._map.getBearing(),Nt=this._map.getPitch(),qt="";if(j?qt+="/"+Ye+"/"+ft+"/"+ee:qt+=ee+"/"+ft+"/"+Ye,(Ct||Nt)&&(qt+="/"+Math.round(Ct*10)/10),Nt&&(qt+="/"+Math.round(Nt)),this._hashName){var ur=this._hashName,lr=!1,Fr=s.window.location.hash.slice(1).split("&").map(function(Zr){var jr=Zr.split("=")[0];return jr===ur?(lr=!0,jr+"="+qt):Zr}).filter(function(Zr){return Zr});return lr||Fr.push(ur+"="+qt),"#"+Fr.join("&")}return"#"+qt},Pa.prototype._getCurrentHash=function(){var j=this,de=s.window.location.hash.replace("#","");if(this._hashName){var ee;return de.split("&").map(function(pe){return pe.split("=")}).forEach(function(pe){pe[0]===j._hashName&&(ee=pe)}),(ee&&ee[1]||"").split("/")}return de.split("/")},Pa.prototype._onHashChange=function(){var j=this._getCurrentHash();if(j.length>=3&&!j.some(function(ee){return isNaN(ee)})){var de=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(j[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+j[2],+j[1]],zoom:+j[0],bearing:de,pitch:+(j[4]||0)}),!0}return!1},Pa.prototype._updateHashUnthrottled=function(){var j=s.window.location.href.replace(/(#.+)?$/,this.getHashString());try{s.window.history.replaceState(s.window.history.state,null,j)}catch{}};var Da={linearity:.3,easing:s.bezier(0,0,.3,1)},za=s.extend({deceleration:2500,maxSpeed:1400},Da),ja=s.extend({deceleration:20,maxSpeed:1400},Da),hi=s.extend({deceleration:1e3,maxSpeed:360},Da),ki=s.extend({deceleration:1e3,maxSpeed:90},Da),ue=function(j){this._map=j,this.clear()};ue.prototype.clear=function(){this._inertiaBuffer=[]},ue.prototype.record=function(j){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:s.browser.now(),settings:j})},ue.prototype._drainInertiaBuffer=function(){for(var j=this._inertiaBuffer,de=s.browser.now(),ee=160;j.length>0&&de-j[0].time>ee;)j.shift()},ue.prototype._onMoveEnd=function(j){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var de={zoom:0,bearing:0,pitch:0,pan:new s.Point(0,0),pinchAround:void 0,around:void 0},ee=0,pe=this._inertiaBuffer;ee<pe.length;ee+=1){var ze=pe[ee],Ye=ze.settings;de.zoom+=Ye.zoomDelta||0,de.bearing+=Ye.bearingDelta||0,de.pitch+=Ye.pitchDelta||0,Ye.panDelta&&de.pan._add(Ye.panDelta),Ye.around&&(de.around=Ye.around),Ye.pinchAround&&(de.pinchAround=Ye.pinchAround)}var ft=this._inertiaBuffer[this._inertiaBuffer.length-1],Ct=ft.time-this._inertiaBuffer[0].time,Nt={};if(de.pan.mag()){var qt=Be(de.pan.mag(),Ct,s.extend({},za,j||{}));Nt.offset=de.pan.mult(qt.amount/de.pan.mag()),Nt.center=this._map.transform.center,Ae(Nt,qt)}if(de.zoom){var ur=Be(de.zoom,Ct,ja);Nt.zoom=this._map.transform.zoom+ur.amount,Ae(Nt,ur)}if(de.bearing){var lr=Be(de.bearing,Ct,hi);Nt.bearing=this._map.transform.bearing+s.clamp(lr.amount,-179,179),Ae(Nt,lr)}if(de.pitch){var Fr=Be(de.pitch,Ct,ki);Nt.pitch=this._map.transform.pitch+Fr.amount,Ae(Nt,Fr)}if(Nt.zoom||Nt.bearing){var Zr=de.pinchAround===void 0?de.around:de.pinchAround;Nt.around=Zr?this._map.unproject(Zr):this._map.getCenter()}return this.clear(),s.extend(Nt,{noMoveStart:!0})}};function Ae(ce,j){(!ce.duration||ce.duration<j.duration)&&(ce.duration=j.duration,ce.easing=j.easing)}function Be(ce,j,de){var ee=de.maxSpeed,pe=de.linearity,ze=de.deceleration,Ye=s.clamp(ce*pe/(j/1e3),-ee,ee),ft=Math.abs(Ye)/(ze*pe);return{easing:de.easing,duration:ft*1e3,amount:Ye*(ft/2)}}var qe=function(ce){function j(ee,pe,ze,Ye){Ye===void 0&&(Ye={});var ft=M.mousePos(pe.getCanvasContainer(),ze),Ct=pe.unproject(ft);ce.call(this,ee,s.extend({point:ft,lngLat:Ct,originalEvent:ze},Ye)),this._defaultPrevented=!1,this.target=pe}ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j;var de={defaultPrevented:{configurable:!0}};return j.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(j.prototype,de),j}(s.Event),nt=function(ce){function j(ee,pe,ze){var Ye=ee==="touchend"?ze.changedTouches:ze.touches,ft=M.touchPos(pe.getCanvasContainer(),Ye),Ct=ft.map(function(ur){return pe.unproject(ur)}),Nt=ft.reduce(function(ur,lr,Fr,Zr){return ur.add(lr.div(Zr.length))},new s.Point(0,0)),qt=pe.unproject(Nt);ce.call(this,ee,{points:ft,point:Nt,lngLats:Ct,lngLat:qt,originalEvent:ze}),this._defaultPrevented=!1}ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j;var de={defaultPrevented:{configurable:!0}};return j.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(j.prototype,de),j}(s.Event),ct=function(ce){function j(ee,pe,ze){ce.call(this,ee,{originalEvent:ze}),this._defaultPrevented=!1}ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j;var de={defaultPrevented:{configurable:!0}};return j.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(j.prototype,de),j}(s.Event),Rt=function(j,de){this._map=j,this._clickTolerance=de.clickTolerance};Rt.prototype.reset=function(){delete this._mousedownPos},Rt.prototype.wheel=function(j){return this._firePreventable(new ct(j.type,this._map,j))},Rt.prototype.mousedown=function(j,de){return this._mousedownPos=de,this._firePreventable(new qe(j.type,this._map,j))},Rt.prototype.mouseup=function(j){this._map.fire(new qe(j.type,this._map,j))},Rt.prototype.click=function(j,de){this._mousedownPos&&this._mousedownPos.dist(de)>=this._clickTolerance||this._map.fire(new qe(j.type,this._map,j))},Rt.prototype.dblclick=function(j){return this._firePreventable(new qe(j.type,this._map,j))},Rt.prototype.mouseover=function(j){this._map.fire(new qe(j.type,this._map,j))},Rt.prototype.mouseout=function(j){this._map.fire(new qe(j.type,this._map,j))},Rt.prototype.touchstart=function(j){return this._firePreventable(new nt(j.type,this._map,j))},Rt.prototype.touchmove=function(j){this._map.fire(new nt(j.type,this._map,j))},Rt.prototype.touchend=function(j){this._map.fire(new nt(j.type,this._map,j))},Rt.prototype.touchcancel=function(j){this._map.fire(new nt(j.type,this._map,j))},Rt.prototype._firePreventable=function(j){if(this._map.fire(j),j.defaultPrevented)return{}},Rt.prototype.isEnabled=function(){return!0},Rt.prototype.isActive=function(){return!1},Rt.prototype.enable=function(){},Rt.prototype.disable=function(){};var At=function(j){this._map=j};At.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},At.prototype.mousemove=function(j){this._map.fire(new qe(j.type,this._map,j))},At.prototype.mousedown=function(){this._delayContextMenu=!0},At.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new qe("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},At.prototype.contextmenu=function(j){this._delayContextMenu?this._contextMenuEvent=j:this._map.fire(new qe(j.type,this._map,j)),this._map.listens("contextmenu")&&j.preventDefault()},At.prototype.isEnabled=function(){return!0},At.prototype.isActive=function(){return!1},At.prototype.enable=function(){},At.prototype.disable=function(){};var Ut=function(j,de){this._map=j,this._el=j.getCanvasContainer(),this._container=j.getContainer(),this._clickTolerance=de.clickTolerance||1};Ut.prototype.isEnabled=function(){return!!this._enabled},Ut.prototype.isActive=function(){return!!this._active},Ut.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Ut.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Ut.prototype.mousedown=function(j,de){this.isEnabled()&&j.shiftKey&&j.button===0&&(M.disableDrag(),this._startPos=this._lastPos=de,this._active=!0)},Ut.prototype.mousemoveWindow=function(j,de){if(this._active){var ee=de;if(!(this._lastPos.equals(ee)||!this._box&&ee.dist(this._startPos)<this._clickTolerance)){var pe=this._startPos;this._lastPos=ee,this._box||(this._box=M.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",j));var ze=Math.min(pe.x,ee.x),Ye=Math.max(pe.x,ee.x),ft=Math.min(pe.y,ee.y),Ct=Math.max(pe.y,ee.y);M.setTransform(this._box,"translate("+ze+"px,"+ft+"px)"),this._box.style.width=Ye-ze+"px",this._box.style.height=Ct-ft+"px"}}},Ut.prototype.mouseupWindow=function(j,de){var ee=this;if(this._active&&j.button===0){var pe=this._startPos,ze=de;if(this.reset(),M.suppressClick(),pe.x===ze.x&&pe.y===ze.y)this._fireEvent("boxzoomcancel",j);else return this._map.fire(new s.Event("boxzoomend",{originalEvent:j})),{cameraAnimation:function(Ye){return Ye.fitScreenCoordinates(pe,ze,ee._map.getBearing(),{linear:!0})}}}},Ut.prototype.keydown=function(j){this._active&&j.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",j))},Ut.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(M.remove(this._box),this._box=null),M.enableDrag(),delete this._startPos,delete this._lastPos},Ut.prototype._fireEvent=function(j,de){return this._map.fire(new s.Event(j,{originalEvent:de}))};function Ht(ce,j){for(var de={},ee=0;ee<ce.length;ee++)de[ce[ee].identifier]=j[ee];return de}function ar(ce){for(var j=new s.Point(0,0),de=0,ee=ce;de<ee.length;de+=1){var pe=ee[de];j._add(pe)}return j.div(ce.length)}var Rr=500,Dr=500,Qr=30,sn=function(j){this.reset(),this.numTouches=j.numTouches};sn.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},sn.prototype.touchstart=function(j,de,ee){(this.centroid||ee.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=j.timeStamp),ee.length===this.numTouches&&(this.centroid=ar(de),this.touches=Ht(ee,de)))},sn.prototype.touchmove=function(j,de,ee){if(!(this.aborted||!this.centroid)){var pe=Ht(ee,de);for(var ze in this.touches){var Ye=this.touches[ze],ft=pe[ze];(!ft||ft.dist(Ye)>Qr)&&(this.aborted=!0)}}},sn.prototype.touchend=function(j,de,ee){if((!this.centroid||j.timeStamp-this.startTime>Dr)&&(this.aborted=!0),ee.length===0){var pe=!this.aborted&&this.centroid;if(this.reset(),pe)return pe}};var _r=function(j){this.singleTap=new sn(j),this.numTaps=j.numTaps,this.reset()};_r.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},_r.prototype.touchstart=function(j,de,ee){this.singleTap.touchstart(j,de,ee)},_r.prototype.touchmove=function(j,de,ee){this.singleTap.touchmove(j,de,ee)},_r.prototype.touchend=function(j,de,ee){var pe=this.singleTap.touchend(j,de,ee);if(pe){var ze=j.timeStamp-this.lastTime<Rr,Ye=!this.lastTap||this.lastTap.dist(pe)<Qr;if((!ze||!Ye)&&this.reset(),this.count++,this.lastTime=j.timeStamp,this.lastTap=pe,this.count===this.numTaps)return this.reset(),pe}};var Hr=function(){this._zoomIn=new _r({numTouches:1,numTaps:2}),this._zoomOut=new _r({numTouches:2,numTaps:1}),this.reset()};Hr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Hr.prototype.touchstart=function(j,de,ee){this._zoomIn.touchstart(j,de,ee),this._zoomOut.touchstart(j,de,ee)},Hr.prototype.touchmove=function(j,de,ee){this._zoomIn.touchmove(j,de,ee),this._zoomOut.touchmove(j,de,ee)},Hr.prototype.touchend=function(j,de,ee){var pe=this,ze=this._zoomIn.touchend(j,de,ee),Ye=this._zoomOut.touchend(j,de,ee);if(ze)return this._active=!0,j.preventDefault(),setTimeout(function(){return pe.reset()},0),{cameraAnimation:function(ft){return ft.easeTo({duration:300,zoom:ft.getZoom()+1,around:ft.unproject(ze)},{originalEvent:j})}};if(Ye)return this._active=!0,j.preventDefault(),setTimeout(function(){return pe.reset()},0),{cameraAnimation:function(ft){return ft.easeTo({duration:300,zoom:ft.getZoom()-1,around:ft.unproject(Ye)},{originalEvent:j})}}},Hr.prototype.touchcancel=function(){this.reset()},Hr.prototype.enable=function(){this._enabled=!0},Hr.prototype.disable=function(){this._enabled=!1,this.reset()},Hr.prototype.isEnabled=function(){return this._enabled},Hr.prototype.isActive=function(){return this._active};var Kr=0,hn=2,yn={};yn[Kr]=1,yn[hn]=2;function qr(ce,j){var de=yn[j];return ce.buttons===void 0||(ce.buttons&de)!==de}var Vn=function(j){this.reset(),this._clickTolerance=j.clickTolerance||1};Vn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Vn.prototype._correctButton=function(j,de){return!1},Vn.prototype._move=function(j,de){return{}},Vn.prototype.mousedown=function(j,de){if(!this._lastPoint){var ee=M.mouseButton(j);this._correctButton(j,ee)&&(this._lastPoint=de,this._eventButton=ee)}},Vn.prototype.mousemoveWindow=function(j,de){var ee=this._lastPoint;if(ee){if(j.preventDefault(),qr(j,this._eventButton)){this.reset();return}if(!(!this._moved&&de.dist(ee)<this._clickTolerance))return this._moved=!0,this._lastPoint=de,this._move(ee,de)}},Vn.prototype.mouseupWindow=function(j){if(this._lastPoint){var de=M.mouseButton(j);de===this._eventButton&&(this._moved&&M.suppressClick(),this.reset())}},Vn.prototype.enable=function(){this._enabled=!0},Vn.prototype.disable=function(){this._enabled=!1,this.reset()},Vn.prototype.isEnabled=function(){return this._enabled},Vn.prototype.isActive=function(){return this._active};var ta=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.mousedown=function(ee,pe){ce.prototype.mousedown.call(this,ee,pe),this._lastPoint&&(this._active=!0)},j.prototype._correctButton=function(ee,pe){return pe===Kr&&!ee.ctrlKey},j.prototype._move=function(ee,pe){return{around:pe,panDelta:pe.sub(ee)}},j}(Vn),fa=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype._correctButton=function(ee,pe){return pe===Kr&&ee.ctrlKey||pe===hn},j.prototype._move=function(ee,pe){var ze=.8,Ye=(pe.x-ee.x)*ze;if(Ye)return this._active=!0,{bearingDelta:Ye}},j.prototype.contextmenu=function(ee){ee.preventDefault()},j}(Vn),qn=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype._correctButton=function(ee,pe){return pe===Kr&&ee.ctrlKey||pe===hn},j.prototype._move=function(ee,pe){var ze=-.5,Ye=(pe.y-ee.y)*ze;if(Ye)return this._active=!0,{pitchDelta:Ye}},j.prototype.contextmenu=function(ee){ee.preventDefault()},j}(Vn),sa=function(j){this._minTouches=1,this._clickTolerance=j.clickTolerance||1,this.reset()};sa.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new s.Point(0,0)},sa.prototype.touchstart=function(j,de,ee){return this._calculateTransform(j,de,ee)},sa.prototype.touchmove=function(j,de,ee){if(!(!this._active||ee.length<this._minTouches))return j.preventDefault(),this._calculateTransform(j,de,ee)},sa.prototype.touchend=function(j,de,ee){this._calculateTransform(j,de,ee),this._active&&ee.length<this._minTouches&&this.reset()},sa.prototype.touchcancel=function(){this.reset()},sa.prototype._calculateTransform=function(j,de,ee){ee.length>0&&(this._active=!0);var pe=Ht(ee,de),ze=new s.Point(0,0),Ye=new s.Point(0,0),ft=0;for(var Ct in pe){var Nt=pe[Ct],qt=this._touches[Ct];qt&&(ze._add(Nt),Ye._add(Nt.sub(qt)),ft++,pe[Ct]=Nt)}if(this._touches=pe,!(ft<this._minTouches||!Ye.mag())){var ur=Ye.div(ft);if(this._sum._add(ur),!(this._sum.mag()<this._clickTolerance)){var lr=ze.div(ft);return{around:lr,panDelta:ur}}}},sa.prototype.enable=function(){this._enabled=!0},sa.prototype.disable=function(){this._enabled=!1,this.reset()},sa.prototype.isEnabled=function(){return this._enabled},sa.prototype.isActive=function(){return this._active};var ca=function(){this.reset()};ca.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},ca.prototype._start=function(j){},ca.prototype._move=function(j,de,ee){return{}},ca.prototype.touchstart=function(j,de,ee){this._firstTwoTouches||ee.length<2||(this._firstTwoTouches=[ee[0].identifier,ee[1].identifier],this._start([de[0],de[1]]))},ca.prototype.touchmove=function(j,de,ee){if(this._firstTwoTouches){j.preventDefault();var pe=this._firstTwoTouches,ze=pe[0],Ye=pe[1],ft=Oa(ee,de,ze),Ct=Oa(ee,de,Ye);if(!(!ft||!Ct)){var Nt=this._aroundCenter?null:ft.add(Ct).div(2);return this._move([ft,Ct],Nt,j)}}},ca.prototype.touchend=function(j,de,ee){if(this._firstTwoTouches){var pe=this._firstTwoTouches,ze=pe[0],Ye=pe[1],ft=Oa(ee,de,ze),Ct=Oa(ee,de,Ye);ft&&Ct||(this._active&&M.suppressClick(),this.reset())}},ca.prototype.touchcancel=function(){this.reset()},ca.prototype.enable=function(j){this._enabled=!0,this._aroundCenter=!!j&&j.around==="center"},ca.prototype.disable=function(){this._enabled=!1,this.reset()},ca.prototype.isEnabled=function(){return this._enabled},ca.prototype.isActive=function(){return this._active};function Oa(ce,j,de){for(var ee=0;ee<ce.length;ee++)if(ce[ee].identifier===de)return j[ee]}var Ma=.1;function ka(ce,j){return Math.log(ce/j)/Math.LN2}var ni=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.reset=function(){ce.prototype.reset.call(this),delete this._distance,delete this._startDistance},j.prototype._start=function(ee){this._startDistance=this._distance=ee[0].dist(ee[1])},j.prototype._move=function(ee,pe){var ze=this._distance;if(this._distance=ee[0].dist(ee[1]),!(!this._active&&Math.abs(ka(this._distance,this._startDistance))<Ma))return this._active=!0,{zoomDelta:ka(this._distance,ze),pinchAround:pe}},j}(ca),zi=25;function ui(ce,j){return ce.angleWith(j)*180/Math.PI}var $n=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.reset=function(){ce.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},j.prototype._start=function(ee){this._startVector=this._vector=ee[0].sub(ee[1]),this._minDiameter=ee[0].dist(ee[1])},j.prototype._move=function(ee,pe){var ze=this._vector;if(this._vector=ee[0].sub(ee[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:ui(this._vector,ze),pinchAround:pe}},j.prototype._isBelowThreshold=function(ee){this._minDiameter=Math.min(this._minDiameter,ee.mag());var pe=Math.PI*this._minDiameter,ze=zi/pe*360,Ye=ui(ee,this._startVector);return Math.abs(Ye)<ze},j}(ca);function Na(ce){return Math.abs(ce.y)>Math.abs(ce.x)}var Ta=100,Za=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.reset=function(){ce.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},j.prototype._start=function(ee){this._lastPoints=ee,Na(ee[0].sub(ee[1]))&&(this._valid=!1)},j.prototype._move=function(ee,pe,ze){var Ye=ee[0].sub(this._lastPoints[0]),ft=ee[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Ye,ft,ze.timeStamp),!!this._valid){this._lastPoints=ee,this._active=!0;var Ct=(Ye.y+ft.y)/2,Nt=-.5;return{pitchDelta:Ct*Nt}}},j.prototype.gestureBeginsVertically=function(ee,pe,ze){if(this._valid!==void 0)return this._valid;var Ye=2,ft=ee.mag()>=Ye,Ct=pe.mag()>=Ye;if(!(!ft&&!Ct)){if(!ft||!Ct)return this._firstMove===void 0&&(this._firstMove=ze),ze-this._firstMove<Ta?void 0:!1;var Nt=ee.y>0==pe.y>0;return Na(ee)&&Na(pe)&&Nt}},j}(ca),xi={panStep:100,bearingStep:15,pitchStep:10},ai=function(){var j=xi;this._panStep=j.panStep,this._bearingStep=j.bearingStep,this._pitchStep=j.pitchStep,this._rotationDisabled=!1};ai.prototype.reset=function(){this._active=!1},ai.prototype.keydown=function(j){var de=this;if(!(j.altKey||j.ctrlKey||j.metaKey)){var ee=0,pe=0,ze=0,Ye=0,ft=0;switch(j.keyCode){case 61:case 107:case 171:case 187:ee=1;break;case 189:case 109:case 173:ee=-1;break;case 37:j.shiftKey?pe=-1:(j.preventDefault(),Ye=-1);break;case 39:j.shiftKey?pe=1:(j.preventDefault(),Ye=1);break;case 38:j.shiftKey?ze=1:(j.preventDefault(),ft=-1);break;case 40:j.shiftKey?ze=-1:(j.preventDefault(),ft=1);break;default:return}return this._rotationDisabled&&(pe=0,ze=0),{cameraAnimation:function(Ct){var Nt=Ct.getZoom();Ct.easeTo({duration:300,easeId:"keyboardHandler",easing:Ji,zoom:ee?Math.round(Nt)+ee*(j.shiftKey?2:1):Nt,bearing:Ct.getBearing()+pe*de._bearingStep,pitch:Ct.getPitch()+ze*de._pitchStep,offset:[-Ye*de._panStep,-ft*de._panStep],center:Ct.getCenter()},{originalEvent:j})}}}},ai.prototype.enable=function(){this._enabled=!0},ai.prototype.disable=function(){this._enabled=!1,this.reset()},ai.prototype.isEnabled=function(){return this._enabled},ai.prototype.isActive=function(){return this._active},ai.prototype.disableRotation=function(){this._rotationDisabled=!0},ai.prototype.enableRotation=function(){this._rotationDisabled=!1};function Ji(ce){return ce*(2-ce)}var Qi=4.000244140625,ro=1/100,bi=1/450,po=2,la=function(j,de){this._map=j,this._el=j.getCanvasContainer(),this._handler=de,this._delta=0,this._defaultZoomRate=ro,this._wheelZoomRate=bi,s.bindAll(["_onTimeout"],this)};la.prototype.setZoomRate=function(j){this._defaultZoomRate=j},la.prototype.setWheelZoomRate=function(j){this._wheelZoomRate=j},la.prototype.isEnabled=function(){return!!this._enabled},la.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},la.prototype.isZooming=function(){return!!this._zooming},la.prototype.enable=function(j){this.isEnabled()||(this._enabled=!0,this._aroundCenter=j&&j.around==="center")},la.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},la.prototype.wheel=function(j){if(this.isEnabled()){var de=j.deltaMode===s.window.WheelEvent.DOM_DELTA_LINE?j.deltaY*40:j.deltaY,ee=s.browser.now(),pe=ee-(this._lastWheelEventTime||0);this._lastWheelEventTime=ee,de!==0&&de%Qi===0?this._type="wheel":de!==0&&Math.abs(de)<4?this._type="trackpad":pe>400?(this._type=null,this._lastValue=de,this._timeout=setTimeout(this._onTimeout,40,j)):this._type||(this._type=Math.abs(pe*de)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,de+=this._lastValue)),j.shiftKey&&de&&(de=de/4),this._type&&(this._lastWheelEvent=j,this._delta-=de,this._active||this._start(j)),j.preventDefault()}},la.prototype._onTimeout=function(j){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(j)},la.prototype._start=function(j){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var de=M.mousePos(this._el,j);this._around=s.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(de)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},la.prototype.renderFrame=function(){var j=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var de=this._map.transform;if(this._delta!==0){var ee=this._type==="wheel"&&Math.abs(this._delta)>Qi?this._wheelZoomRate:this._defaultZoomRate,pe=po/(1+Math.exp(-Math.abs(this._delta*ee)));this._delta<0&&pe!==0&&(pe=1/pe);var ze=typeof this._targetZoom=="number"?de.zoomScale(this._targetZoom):de.scale;this._targetZoom=Math.min(de.maxZoom,Math.max(de.minZoom,de.scaleZoom(ze*pe))),this._type==="wheel"&&(this._startZoom=de.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Ye=typeof this._targetZoom=="number"?this._targetZoom:de.zoom,ft=this._startZoom,Ct=this._easing,Nt=!1,qt;if(this._type==="wheel"&&ft&&Ct){var ur=Math.min((s.browser.now()-this._lastWheelEventTime)/200,1),lr=Ct(ur);qt=s.number(ft,Ye,lr),ur<1?this._frameId||(this._frameId=!0):Nt=!0}else qt=Ye,Nt=!0;return this._active=!0,Nt&&(this._active=!1,this._finishTimeout=setTimeout(function(){j._zooming=!1,j._handler._triggerRenderFrame(),delete j._targetZoom,delete j._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Nt,zoomDelta:qt-de.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},la.prototype._smoothOutEasing=function(j){var de=s.ease;if(this._prevEase){var ee=this._prevEase,pe=(s.browser.now()-ee.start)/ee.duration,ze=ee.easing(pe+.01)-ee.easing(pe),Ye=.27/Math.sqrt(ze*ze+1e-4)*.01,ft=Math.sqrt(.27*.27-Ye*Ye);de=s.bezier(Ye,ft,.25,1)}return this._prevEase={start:s.browser.now(),duration:j,easing:de},de},la.prototype.reset=function(){this._active=!1};var Ea=function(j,de){this._clickZoom=j,this._tapZoom=de};Ea.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Ea.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Ea.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Ea.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Ro=function(){this.reset()};Ro.prototype.reset=function(){this._active=!1},Ro.prototype.dblclick=function(j,de){return j.preventDefault(),{cameraAnimation:function(ee){ee.easeTo({duration:300,zoom:ee.getZoom()+(j.shiftKey?-1:1),around:ee.unproject(de)},{originalEvent:j})}}},Ro.prototype.enable=function(){this._enabled=!0},Ro.prototype.disable=function(){this._enabled=!1,this.reset()},Ro.prototype.isEnabled=function(){return this._enabled},Ro.prototype.isActive=function(){return this._active};var zo=function(){this._tap=new _r({numTouches:1,numTaps:1}),this.reset()};zo.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},zo.prototype.touchstart=function(j,de,ee){this._swipePoint||(this._tapTime&&j.timeStamp-this._tapTime>Rr&&this.reset(),this._tapTime?ee.length>0&&(this._swipePoint=de[0],this._swipeTouch=ee[0].identifier):this._tap.touchstart(j,de,ee))},zo.prototype.touchmove=function(j,de,ee){if(!this._tapTime)this._tap.touchmove(j,de,ee);else if(this._swipePoint){if(ee[0].identifier!==this._swipeTouch)return;var pe=de[0],ze=pe.y-this._swipePoint.y;return this._swipePoint=pe,j.preventDefault(),this._active=!0,{zoomDelta:ze/128}}},zo.prototype.touchend=function(j,de,ee){if(this._tapTime)this._swipePoint&&ee.length===0&&this.reset();else{var pe=this._tap.touchend(j,de,ee);pe&&(this._tapTime=j.timeStamp)}},zo.prototype.touchcancel=function(){this.reset()},zo.prototype.enable=function(){this._enabled=!0},zo.prototype.disable=function(){this._enabled=!1,this.reset()},zo.prototype.isEnabled=function(){return this._enabled},zo.prototype.isActive=function(){return this._active};var no=function(j,de,ee){this._el=j,this._mousePan=de,this._touchPan=ee};no.prototype.enable=function(j){this._inertiaOptions=j||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},no.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},no.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},no.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var fi=function(j,de,ee){this._pitchWithRotate=j.pitchWithRotate,this._mouseRotate=de,this._mousePitch=ee};fi.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},fi.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},fi.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},fi.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Hi=function(j,de,ee,pe){this._el=j,this._touchZoom=de,this._touchRotate=ee,this._tapDragZoom=pe,this._rotationDisabled=!1,this._enabled=!0};Hi.prototype.enable=function(j){this._touchZoom.enable(j),this._rotationDisabled||this._touchRotate.enable(j),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Hi.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Hi.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Hi.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Hi.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Hi.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Fi=function(ce){return ce.zoom||ce.drag||ce.pitch||ce.rotate},vs=function(ce){function j(){ce.apply(this,arguments)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j}(s.Event);function Ds(ce){return ce.panDelta&&ce.panDelta.mag()||ce.zoomDelta||ce.bearingDelta||ce.pitchDelta}var Ei=function(j,de){this._map=j,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ue(j),this._bearingSnap=de.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(de),s.bindAll(["handleEvent","handleWindowEvent"],this);var ee=this._el;this._listeners=[[ee,"touchstart",{passive:!0}],[ee,"touchmove",{passive:!1}],[ee,"touchend",void 0],[ee,"touchcancel",void 0],[ee,"mousedown",void 0],[ee,"mousemove",void 0],[ee,"mouseup",void 0],[s.window.document,"mousemove",{capture:!0}],[s.window.document,"mouseup",void 0],[ee,"mouseover",void 0],[ee,"mouseout",void 0],[ee,"dblclick",void 0],[ee,"click",void 0],[ee,"keydown",{capture:!1}],[ee,"keyup",void 0],[ee,"wheel",{passive:!1}],[ee,"contextmenu",void 0],[s.window,"blur",void 0]];for(var pe=0,ze=this._listeners;pe<ze.length;pe+=1){var Ye=ze[pe],ft=Ye[0],Ct=Ye[1],Nt=Ye[2];M.addEventListener(ft,Ct,ft===s.window.document?this.handleWindowEvent:this.handleEvent,Nt)}};Ei.prototype.destroy=function(){for(var j=0,de=this._listeners;j<de.length;j+=1){var ee=de[j],pe=ee[0],ze=ee[1],Ye=ee[2];M.removeEventListener(pe,ze,pe===s.window.document?this.handleWindowEvent:this.handleEvent,Ye)}},Ei.prototype._addDefaultHandlers=function(j){var de=this._map,ee=de.getCanvasContainer();this._add("mapEvent",new Rt(de,j));var pe=de.boxZoom=new Ut(de,j);this._add("boxZoom",pe);var ze=new Hr,Ye=new Ro;de.doubleClickZoom=new Ea(Ye,ze),this._add("tapZoom",ze),this._add("clickZoom",Ye);var ft=new zo;this._add("tapDragZoom",ft);var Ct=de.touchPitch=new Za;this._add("touchPitch",Ct);var Nt=new fa(j),qt=new qn(j);de.dragRotate=new fi(j,Nt,qt),this._add("mouseRotate",Nt,["mousePitch"]),this._add("mousePitch",qt,["mouseRotate"]);var ur=new ta(j),lr=new sa(j);de.dragPan=new no(ee,ur,lr),this._add("mousePan",ur),this._add("touchPan",lr,["touchZoom","touchRotate"]);var Fr=new $n,Zr=new ni;de.touchZoomRotate=new Hi(ee,Zr,Fr,ft),this._add("touchRotate",Fr,["touchPan","touchZoom"]),this._add("touchZoom",Zr,["touchPan","touchRotate"]);var jr=de.scrollZoom=new la(de,this);this._add("scrollZoom",jr,["mousePan"]);var Wr=de.keyboard=new ai;this._add("keyboard",Wr),this._add("blockableMapEvent",new At(de));for(var Jr=0,dn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Jr<dn.length;Jr+=1){var kn=dn[Jr];j.interactive&&j[kn]&&de[kn].enable(j[kn])}},Ei.prototype._add=function(j,de,ee){this._handlers.push({handlerName:j,handler:de,allowed:ee}),this._handlersById[j]=de},Ei.prototype.stop=function(j){if(!this._updatingCamera){for(var de=0,ee=this._handlers;de<ee.length;de+=1){var pe=ee[de],ze=pe.handler;ze.reset()}this._inertia.clear(),this._fireEvents({},{},j),this._changes=[]}},Ei.prototype.isActive=function(){for(var j=0,de=this._handlers;j<de.length;j+=1){var ee=de[j],pe=ee.handler;if(pe.isActive())return!0}return!1},Ei.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Ei.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Ei.prototype.isMoving=function(){return!!Fi(this._eventsInProgress)||this.isZooming()},Ei.prototype._blockedByActive=function(j,de,ee){for(var pe in j)if(pe!==ee&&(!de||de.indexOf(pe)<0))return!0;return!1},Ei.prototype.handleWindowEvent=function(j){this.handleEvent(j,j.type+"Window")},Ei.prototype._getMapTouches=function(j){for(var de=[],ee=0,pe=j;ee<pe.length;ee+=1){var ze=pe[ee],Ye=ze.target;this._el.contains(Ye)&&de.push(ze)}return de},Ei.prototype.handleEvent=function(j,de){if(j.type==="blur"){this.stop(!0);return}this._updatingCamera=!0;for(var ee=j.type==="renderFrame"?void 0:j,pe={needsRenderFrame:!1},ze={},Ye={},ft=j.touches?this._getMapTouches(j.touches):void 0,Ct=ft?M.touchPos(this._el,ft):M.mousePos(this._el,j),Nt=0,qt=this._handlers;Nt<qt.length;Nt+=1){var ur=qt[Nt],lr=ur.handlerName,Fr=ur.handler,Zr=ur.allowed;if(Fr.isEnabled()){var jr=void 0;this._blockedByActive(Ye,Zr,lr)?Fr.reset():Fr[de||j.type]&&(jr=Fr[de||j.type](j,Ct,ft),this.mergeHandlerResult(pe,ze,jr,lr,ee),jr&&jr.needsRenderFrame&&this._triggerRenderFrame()),(jr||Fr.isActive())&&(Ye[lr]=Fr)}}var Wr={};for(var Jr in this._previousActiveHandlers)Ye[Jr]||(Wr[Jr]=ee);this._previousActiveHandlers=Ye,(Object.keys(Wr).length||Ds(pe))&&(this._changes.push([pe,ze,Wr]),this._triggerRenderFrame()),(Object.keys(Ye).length||Ds(pe))&&this._map._stop(!0),this._updatingCamera=!1;var dn=pe.cameraAnimation;dn&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],dn(this._map))},Ei.prototype.mergeHandlerResult=function(j,de,ee,pe,ze){if(ee){s.extend(j,ee);var Ye={handlerName:pe,originalEvent:ee.originalEvent||ze};ee.zoomDelta!==void 0&&(de.zoom=Ye),ee.panDelta!==void 0&&(de.drag=Ye),ee.pitchDelta!==void 0&&(de.pitch=Ye),ee.bearingDelta!==void 0&&(de.rotate=Ye)}},Ei.prototype._applyChanges=function(){for(var j={},de={},ee={},pe=0,ze=this._changes;pe<ze.length;pe+=1){var Ye=ze[pe],ft=Ye[0],Ct=Ye[1],Nt=Ye[2];ft.panDelta&&(j.panDelta=(j.panDelta||new s.Point(0,0))._add(ft.panDelta)),ft.zoomDelta&&(j.zoomDelta=(j.zoomDelta||0)+ft.zoomDelta),ft.bearingDelta&&(j.bearingDelta=(j.bearingDelta||0)+ft.bearingDelta),ft.pitchDelta&&(j.pitchDelta=(j.pitchDelta||0)+ft.pitchDelta),ft.around!==void 0&&(j.around=ft.around),ft.pinchAround!==void 0&&(j.pinchAround=ft.pinchAround),ft.noInertia&&(j.noInertia=ft.noInertia),s.extend(de,Ct),s.extend(ee,Nt)}this._updateMapTransform(j,de,ee),this._changes=[]},Ei.prototype._updateMapTransform=function(j,de,ee){var pe=this._map,ze=pe.transform;if(!Ds(j))return this._fireEvents(de,ee,!0);var Ye=j.panDelta,ft=j.zoomDelta,Ct=j.bearingDelta,Nt=j.pitchDelta,qt=j.around,ur=j.pinchAround;ur!==void 0&&(qt=ur),pe._stop(!0),qt=qt||pe.transform.centerPoint;var lr=ze.pointLocation(Ye?qt.sub(Ye):qt);Ct&&(ze.bearing+=Ct),Nt&&(ze.pitch+=Nt),ft&&(ze.zoom+=ft),ze.setLocationAtPoint(lr,qt),this._map._update(),j.noInertia||this._inertia.record(j),this._fireEvents(de,ee,!0)},Ei.prototype._fireEvents=function(j,de,ee){var pe=this,ze=Fi(this._eventsInProgress),Ye=Fi(j),ft={};for(var Ct in j){var Nt=j[Ct],qt=Nt.originalEvent;this._eventsInProgress[Ct]||(ft[Ct+"start"]=qt),this._eventsInProgress[Ct]=j[Ct]}!ze&&Ye&&this._fireEvent("movestart",Ye.originalEvent);for(var ur in ft)this._fireEvent(ur,ft[ur]);Ye&&this._fireEvent("move",Ye.originalEvent);for(var lr in j){var Fr=j[lr],Zr=Fr.originalEvent;this._fireEvent(lr,Zr)}var jr={},Wr;for(var Jr in this._eventsInProgress){var dn=this._eventsInProgress[Jr],kn=dn.handlerName,Un=dn.originalEvent;this._handlersById[kn].isActive()||(delete this._eventsInProgress[Jr],Wr=de[kn]||Un,jr[Jr+"end"]=Wr)}for(var Xn in jr)this._fireEvent(Xn,jr[Xn]);var Zn=Fi(this._eventsInProgress);if(ee&&(ze||Ye)&&!Zn){this._updatingCamera=!0;var Gn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Jn=function(na){return na!==0&&-pe._bearingSnap<na&&na<pe._bearingSnap};Gn?(Jn(Gn.bearing||this._map.getBearing())&&(Gn.bearing=0),this._map.easeTo(Gn,{originalEvent:Wr})):(this._map.fire(new s.Event("moveend",{originalEvent:Wr})),Jn(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Ei.prototype._fireEvent=function(j,de){this._map.fire(new s.Event(j,de?{originalEvent:de}:{}))},Ei.prototype._requestFrame=function(){var j=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(de){delete j._frameId,j.handleEvent(new vs("renderFrame",{timeStamp:de})),j._applyChanges()})},Ei.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var Wl=function(ce){function j(de,ee){ce.call(this),this._moving=!1,this._zooming=!1,this.transform=de,this._bearingSnap=ee.bearingSnap,s.bindAll(["_renderFrameCallback"],this)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.getCenter=function(){return new s.LngLat(this.transform.center.lng,this.transform.center.lat)},j.prototype.setCenter=function(ee,pe){return this.jumpTo({center:ee},pe)},j.prototype.panBy=function(ee,pe,ze){return ee=s.Point.convert(ee).mult(-1),this.panTo(this.transform.center,s.extend({offset:ee},pe),ze)},j.prototype.panTo=function(ee,pe,ze){return this.easeTo(s.extend({center:ee},pe),ze)},j.prototype.getZoom=function(){return this.transform.zoom},j.prototype.setZoom=function(ee,pe){return this.jumpTo({zoom:ee},pe),this},j.prototype.zoomTo=function(ee,pe,ze){return this.easeTo(s.extend({zoom:ee},pe),ze)},j.prototype.zoomIn=function(ee,pe){return this.zoomTo(this.getZoom()+1,ee,pe),this},j.prototype.zoomOut=function(ee,pe){return this.zoomTo(this.getZoom()-1,ee,pe),this},j.prototype.getBearing=function(){return this.transform.bearing},j.prototype.setBearing=function(ee,pe){return this.jumpTo({bearing:ee},pe),this},j.prototype.getPadding=function(){return this.transform.padding},j.prototype.setPadding=function(ee,pe){return this.jumpTo({padding:ee},pe),this},j.prototype.rotateTo=function(ee,pe,ze){return this.easeTo(s.extend({bearing:ee},pe),ze)},j.prototype.resetNorth=function(ee,pe){return this.rotateTo(0,s.extend({duration:1e3},ee),pe),this},j.prototype.resetNorthPitch=function(ee,pe){return this.easeTo(s.extend({bearing:0,pitch:0,duration:1e3},ee),pe),this},j.prototype.snapToNorth=function(ee,pe){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(ee,pe):this},j.prototype.getPitch=function(){return this.transform.pitch},j.prototype.setPitch=function(ee,pe){return this.jumpTo({pitch:ee},pe),this},j.prototype.cameraForBounds=function(ee,pe){ee=s.LngLatBounds.convert(ee);var ze=pe&&pe.bearing||0;return this._cameraForBoxAndBearing(ee.getNorthWest(),ee.getSouthEast(),ze,pe)},j.prototype._cameraForBoxAndBearing=function(ee,pe,ze,Ye){var ft={top:0,bottom:0,right:0,left:0};if(Ye=s.extend({padding:ft,offset:[0,0],maxZoom:this.transform.maxZoom},Ye),typeof Ye.padding=="number"){var Ct=Ye.padding;Ye.padding={top:Ct,bottom:Ct,right:Ct,left:Ct}}Ye.padding=s.extend(ft,Ye.padding);var Nt=this.transform,qt=Nt.padding,ur=Nt.project(s.LngLat.convert(ee)),lr=Nt.project(s.LngLat.convert(pe)),Fr=ur.rotate(-ze*Math.PI/180),Zr=lr.rotate(-ze*Math.PI/180),jr=new s.Point(Math.max(Fr.x,Zr.x),Math.max(Fr.y,Zr.y)),Wr=new s.Point(Math.min(Fr.x,Zr.x),Math.min(Fr.y,Zr.y)),Jr=jr.sub(Wr),dn=(Nt.width-(qt.left+qt.right+Ye.padding.left+Ye.padding.right))/Jr.x,kn=(Nt.height-(qt.top+qt.bottom+Ye.padding.top+Ye.padding.bottom))/Jr.y;if(kn<0||dn<0){s.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var Un=Math.min(Nt.scaleZoom(Nt.scale*Math.min(dn,kn)),Ye.maxZoom),Xn=typeof Ye.offset.x=="number"?new s.Point(Ye.offset.x,Ye.offset.y):s.Point.convert(Ye.offset),Zn=(Ye.padding.left-Ye.padding.right)/2,Gn=(Ye.padding.top-Ye.padding.bottom)/2,Jn=new s.Point(Zn,Gn),na=Jn.rotate(ze*Math.PI/180),ua=Xn.add(na),ya=ua.mult(Nt.scale/Nt.zoomScale(Un)),va=Nt.unproject(ur.add(lr).div(2).sub(ya));return{center:va,zoom:Un,bearing:ze}},j.prototype.fitBounds=function(ee,pe,ze){return this._fitInternal(this.cameraForBounds(ee,pe),pe,ze)},j.prototype.fitScreenCoordinates=function(ee,pe,ze,Ye,ft){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(s.Point.convert(ee)),this.transform.pointLocation(s.Point.convert(pe)),ze,Ye),Ye,ft)},j.prototype._fitInternal=function(ee,pe,ze){return ee?(pe=s.extend(ee,pe),delete pe.padding,pe.linear?this.easeTo(pe,ze):this.flyTo(pe,ze)):this},j.prototype.jumpTo=function(ee,pe){this.stop();var ze=this.transform,Ye=!1,ft=!1,Ct=!1;return"zoom"in ee&&ze.zoom!==+ee.zoom&&(Ye=!0,ze.zoom=+ee.zoom),ee.center!==void 0&&(ze.center=s.LngLat.convert(ee.center)),"bearing"in ee&&ze.bearing!==+ee.bearing&&(ft=!0,ze.bearing=+ee.bearing),"pitch"in ee&&ze.pitch!==+ee.pitch&&(Ct=!0,ze.pitch=+ee.pitch),ee.padding!=null&&!ze.isPaddingEqual(ee.padding)&&(ze.padding=ee.padding),this.fire(new s.Event("movestart",pe)).fire(new s.Event("move",pe)),Ye&&this.fire(new s.Event("zoomstart",pe)).fire(new s.Event("zoom",pe)).fire(new s.Event("zoomend",pe)),ft&&this.fire(new s.Event("rotatestart",pe)).fire(new s.Event("rotate",pe)).fire(new s.Event("rotateend",pe)),Ct&&this.fire(new s.Event("pitchstart",pe)).fire(new s.Event("pitch",pe)).fire(new s.Event("pitchend",pe)),this.fire(new s.Event("moveend",pe))},j.prototype.easeTo=function(ee,pe){var ze=this;this._stop(!1,ee.easeId),ee=s.extend({offset:[0,0],duration:500,easing:s.ease},ee),(ee.animate===!1||!ee.essential&&s.browser.prefersReducedMotion)&&(ee.duration=0);var Ye=this.transform,ft=this.getZoom(),Ct=this.getBearing(),Nt=this.getPitch(),qt=this.getPadding(),ur="zoom"in ee?+ee.zoom:ft,lr="bearing"in ee?this._normalizeBearing(ee.bearing,Ct):Ct,Fr="pitch"in ee?+ee.pitch:Nt,Zr="padding"in ee?ee.padding:Ye.padding,jr=s.Point.convert(ee.offset),Wr=Ye.centerPoint.add(jr),Jr=Ye.pointLocation(Wr),dn=s.LngLat.convert(ee.center||Jr);this._normalizeCenter(dn);var kn=Ye.project(Jr),Un=Ye.project(dn).sub(kn),Xn=Ye.zoomScale(ur-ft),Zn,Gn;ee.around&&(Zn=s.LngLat.convert(ee.around),Gn=Ye.locationPoint(Zn));var Jn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||ur!==ft,this._rotating=this._rotating||Ct!==lr,this._pitching=this._pitching||Fr!==Nt,this._padding=!Ye.isPaddingEqual(Zr),this._easeId=ee.easeId,this._prepareEase(pe,ee.noMoveStart,Jn),this._ease(function(na){if(ze._zooming&&(Ye.zoom=s.number(ft,ur,na)),ze._rotating&&(Ye.bearing=s.number(Ct,lr,na)),ze._pitching&&(Ye.pitch=s.number(Nt,Fr,na)),ze._padding&&(Ye.interpolatePadding(qt,Zr,na),Wr=Ye.centerPoint.add(jr)),Zn)Ye.setLocationAtPoint(Zn,Gn);else{var ua=Ye.zoomScale(Ye.zoom-ft),ya=ur>ft?Math.min(2,Xn):Math.max(.5,Xn),va=Math.pow(ya,1-na),_a=Ye.unproject(kn.add(Un.mult(na*va)).mult(ua));Ye.setLocationAtPoint(Ye.renderWorldCopies?_a.wrap():_a,Wr)}ze._fireMoveEvents(pe)},function(na){ze._afterEase(pe,na)},ee),this},j.prototype._prepareEase=function(ee,pe,ze){ze===void 0&&(ze={}),this._moving=!0,!pe&&!ze.moving&&this.fire(new s.Event("movestart",ee)),this._zooming&&!ze.zooming&&this.fire(new s.Event("zoomstart",ee)),this._rotating&&!ze.rotating&&this.fire(new s.Event("rotatestart",ee)),this._pitching&&!ze.pitching&&this.fire(new s.Event("pitchstart",ee))},j.prototype._fireMoveEvents=function(ee){this.fire(new s.Event("move",ee)),this._zooming&&this.fire(new s.Event("zoom",ee)),this._rotating&&this.fire(new s.Event("rotate",ee)),this._pitching&&this.fire(new s.Event("pitch",ee))},j.prototype._afterEase=function(ee,pe){if(!(this._easeId&&pe&&this._easeId===pe)){delete this._easeId;var ze=this._zooming,Ye=this._rotating,ft=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,ze&&this.fire(new s.Event("zoomend",ee)),Ye&&this.fire(new s.Event("rotateend",ee)),ft&&this.fire(new s.Event("pitchend",ee)),this.fire(new s.Event("moveend",ee))}},j.prototype.flyTo=function(ee,pe){var ze=this;if(!ee.essential&&s.browser.prefersReducedMotion){var Ye=s.pick(ee,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Ye,pe)}this.stop(),ee=s.extend({offset:[0,0],speed:1.2,curve:1.42,easing:s.ease},ee);var ft=this.transform,Ct=this.getZoom(),Nt=this.getBearing(),qt=this.getPitch(),ur=this.getPadding(),lr="zoom"in ee?s.clamp(+ee.zoom,ft.minZoom,ft.maxZoom):Ct,Fr="bearing"in ee?this._normalizeBearing(ee.bearing,Nt):Nt,Zr="pitch"in ee?+ee.pitch:qt,jr="padding"in ee?ee.padding:ft.padding,Wr=ft.zoomScale(lr-Ct),Jr=s.Point.convert(ee.offset),dn=ft.centerPoint.add(Jr),kn=ft.pointLocation(dn),Un=s.LngLat.convert(ee.center||kn);this._normalizeCenter(Un);var Xn=ft.project(kn),Zn=ft.project(Un).sub(Xn),Gn=ee.curve,Jn=Math.max(ft.width,ft.height),na=Jn/Wr,ua=Zn.mag();if("minZoom"in ee){var ya=s.clamp(Math.min(ee.minZoom,Ct,lr),ft.minZoom,ft.maxZoom),va=Jn/ft.zoomScale(ya-Ct);Gn=Math.sqrt(va/ua*2)}var _a=Gn*Gn;function Qa(Va){var $a=(na*na-Jn*Jn+(Va?-1:1)*_a*_a*ua*ua)/(2*(Va?na:Jn)*_a*ua);return Math.log(Math.sqrt($a*$a+1)-$a)}function Ya(Va){return(Math.exp(Va)-Math.exp(-Va))/2}function Aa(Va){return(Math.exp(Va)+Math.exp(-Va))/2}function Xa(Va){return Ya(Va)/Aa(Va)}var Ua=Qa(0),ii=function(Va){return Aa(Ua)/Aa(Ua+Gn*Va)},ti=function(Va){return Jn*((Aa(Ua)*Xa(Ua+Gn*Va)-Ya(Ua))/_a)/ua},Ti=(Qa(1)-Ua)/Gn;if(Math.abs(ua)<1e-6||!isFinite(Ti)){if(Math.abs(Jn-na)<1e-6)return this.easeTo(ee,pe);var Ja=na<Jn?-1:1;Ti=Math.abs(Math.log(na/Jn))/Gn,ti=function(){return 0},ii=function(Va){return Math.exp(Ja*Gn*Va)}}if("duration"in ee)ee.duration=+ee.duration;else{var gi="screenSpeed"in ee?+ee.screenSpeed/Gn:+ee.speed;ee.duration=1e3*Ti/gi}return ee.maxDuration&&ee.duration>ee.maxDuration&&(ee.duration=0),this._zooming=!0,this._rotating=Nt!==Fr,this._pitching=Zr!==qt,this._padding=!ft.isPaddingEqual(jr),this._prepareEase(pe,!1),this._ease(function(Va){var $a=Va*Ti,Oi=1/ii($a);ft.zoom=Va===1?lr:Ct+ft.scaleZoom(Oi),ze._rotating&&(ft.bearing=s.number(Nt,Fr,Va)),ze._pitching&&(ft.pitch=s.number(qt,Zr,Va)),ze._padding&&(ft.interpolatePadding(ur,jr,Va),dn=ft.centerPoint.add(Jr));var go=Va===1?Un:ft.unproject(Xn.add(Zn.mult(ti($a))).mult(Oi));ft.setLocationAtPoint(ft.renderWorldCopies?go.wrap():go,dn),ze._fireMoveEvents(pe)},function(){return ze._afterEase(pe)},ee),this},j.prototype.isEasing=function(){return!!this._easeFrameId},j.prototype.stop=function(){return this._stop()},j.prototype._stop=function(ee,pe){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var ze=this._onEaseEnd;delete this._onEaseEnd,ze.call(this,pe)}if(!ee){var Ye=this.handlers;Ye&&Ye.stop(!1)}return this},j.prototype._ease=function(ee,pe,ze){ze.animate===!1||ze.duration===0?(ee(1),pe()):(this._easeStart=s.browser.now(),this._easeOptions=ze,this._onEaseFrame=ee,this._onEaseEnd=pe,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},j.prototype._renderFrameCallback=function(){var ee=Math.min((s.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(ee)),ee<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},j.prototype._normalizeBearing=function(ee,pe){ee=s.wrap(ee,-180,180);var ze=Math.abs(ee-pe);return Math.abs(ee-360-pe)<ze&&(ee-=360),Math.abs(ee+360-pe)<ze&&(ee+=360),ee},j.prototype._normalizeCenter=function(ee){var pe=this.transform;if(!(!pe.renderWorldCopies||pe.lngRange)){var ze=ee.lng-pe.center.lng;ee.lng+=ze>180?-360:ze<-180?360:0}},j}(s.Evented),Ka=function(j){j===void 0&&(j={}),this.options=j,s.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Ka.prototype.getDefaultPosition=function(){return"bottom-right"},Ka.prototype.onAdd=function(j){var de=this.options&&this.options.compact;return this._map=j,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=M.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=M.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),de&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),de===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Ka.prototype.onRemove=function(){M.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Ka.prototype._setElementTitle=function(j,de){var ee=this._map._getUIString("AttributionControl."+de);j.title=ee,j.setAttribute("aria-label",ee)},Ka.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Ka.prototype._updateEditLink=function(){var j=this._editLink;j||(j=this._editLink=this._container.querySelector(".mapbox-improve-map"));var de=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||s.config.ACCESS_TOKEN}];if(j){var ee=de.reduce(function(pe,ze,Ye){return ze.value&&(pe+=ze.key+"="+ze.value+(Ye<de.length-1?"&":"")),pe},"?");j.href=s.config.FEEDBACK_URL+"/"+ee+(this._map._hash?this._map._hash.getHashString(!0):""),j.rel="noopener nofollow",this._setElementTitle(j,"MapFeedback")}},Ka.prototype._updateData=function(j){j&&(j.sourceDataType==="metadata"||j.sourceDataType==="visibility"||j.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},Ka.prototype._updateAttributions=function(){if(this._map.style){var j=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?j=j.concat(this.options.customAttribution.map(function(Ct){return typeof Ct!="string"?"":Ct})):typeof this.options.customAttribution=="string"&&j.push(this.options.customAttribution)),this._map.style.stylesheet){var de=this._map.style.stylesheet;this.styleOwner=de.owner,this.styleId=de.id}var ee=this._map.style.sourceCaches;for(var pe in ee){var ze=ee[pe];if(ze.used){var Ye=ze.getSource();Ye.attribution&&j.indexOf(Ye.attribution)<0&&j.push(Ye.attribution)}}j.sort(function(Ct,Nt){return Ct.length-Nt.length}),j=j.filter(function(Ct,Nt){for(var qt=Nt+1;qt<j.length;qt++)if(j[qt].indexOf(Ct)>=0)return!1;return!0});var ft=j.join(" | ");ft!==this._attribHTML&&(this._attribHTML=ft,j.length?(this._innerContainer.innerHTML=ft,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Ka.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var Ci=function(){s.bindAll(["_updateLogo"],this),s.bindAll(["_updateCompact"],this)};Ci.prototype.onAdd=function(j){this._map=j,this._container=M.create("div","mapboxgl-ctrl");var de=M.create("a","mapboxgl-ctrl-logo");return de.target="_blank",de.rel="noopener nofollow",de.href="https://www.mapbox.com/",de.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),de.setAttribute("rel","noopener nofollow"),this._container.appendChild(de),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Ci.prototype.onRemove=function(){M.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Ci.prototype.getDefaultPosition=function(){return"bottom-left"},Ci.prototype._updateLogo=function(j){(!j||j.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},Ci.prototype._logoRequired=function(){if(this._map.style){var j=this._map.style.sourceCaches;for(var de in j){var ee=j[de].getSource();if(ee.mapbox_logo)return!0}return!1}},Ci.prototype._updateCompact=function(){var j=this._container.children;if(j.length){var de=j[0];this._map.getCanvasContainer().offsetWidth<250?de.classList.add("mapboxgl-compact"):de.classList.remove("mapboxgl-compact")}};var lh=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};lh.prototype.add=function(j){var de=++this._id,ee=this._queue;return ee.push({callback:j,id:de,cancelled:!1}),de},lh.prototype.remove=function(j){for(var de=this._currentlyRunning,ee=de?this._queue.concat(de):this._queue,pe=0,ze=ee;pe<ze.length;pe+=1){var Ye=ze[pe];if(Ye.id===j){Ye.cancelled=!0;return}}},lh.prototype.run=function(j){j===void 0&&(j=0);var de=this._currentlyRunning=this._queue;this._queue=[];for(var ee=0,pe=de;ee<pe.length;ee+=1){var ze=pe[ee];if(!ze.cancelled&&(ze.callback(j),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},lh.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Yd={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Mf=s.window.HTMLImageElement,_v=s.window.HTMLElement,Qu=s.window.ImageBitmap,fc=-2,cc=22,$o=0,$u=60,zv={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:fc,maxZoom:cc,minPitch:$o,maxPitch:$u,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Fv=function(ce){function j(ee){var pe=this;if(ee=s.extend({},zv,ee),ee.minZoom!=null&&ee.maxZoom!=null&&ee.minZoom>ee.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(ee.minPitch!=null&&ee.maxPitch!=null&&ee.minPitch>ee.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(ee.minPitch!=null&&ee.minPitch<$o)throw new Error("minPitch must be greater than or equal to "+$o);if(ee.maxPitch!=null&&ee.maxPitch>$u)throw new Error("maxPitch must be less than or equal to "+$u);var ze=new In(ee.minZoom,ee.maxZoom,ee.minPitch,ee.maxPitch,ee.renderWorldCopies);if(ce.call(this,ze,ee),this._interactive=ee.interactive,this._maxTileCacheSize=ee.maxTileCacheSize,this._failIfMajorPerformanceCaveat=ee.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=ee.preserveDrawingBuffer,this._antialias=ee.antialias,this._trackResize=ee.trackResize,this._bearingSnap=ee.bearingSnap,this._refreshExpiredTiles=ee.refreshExpiredTiles,this._fadeDuration=ee.fadeDuration,this._crossSourceCollisions=ee.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=ee.collectResourceTiming,this._renderTaskQueue=new lh,this._controls=[],this._mapId=s.uniqueId(),this._locale=s.extend({},Yd,ee.locale),this._clickTolerance=ee.clickTolerance,this._requestManager=new s.RequestManager(ee.transformRequest,ee.accessToken),typeof ee.container=="string"){if(this._container=s.window.document.getElementById(ee.container),!this._container)throw new Error("Container '"+ee.container+"' not found.")}else if(ee.container instanceof _v)this._container=ee.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(ee.maxBounds&&this.setMaxBounds(ee.maxBounds),s.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return pe._update(!1)}),this.on("moveend",function(){return pe._update(!1)}),this.on("zoom",function(){return pe._update(!0)}),typeof s.window<"u"&&(s.window.addEventListener("online",this._onWindowOnline,!1),s.window.addEventListener("resize",this._onWindowResize,!1),s.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Ei(this,ee);var Ye=typeof ee.hash=="string"&&ee.hash||void 0;this._hash=ee.hash&&new Pa(Ye).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:ee.center,zoom:ee.zoom,bearing:ee.bearing,pitch:ee.pitch}),ee.bounds&&(this.resize(),this.fitBounds(ee.bounds,s.extend({},ee.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=ee.localIdeographFontFamily,ee.style&&this.setStyle(ee.style,{localIdeographFontFamily:ee.localIdeographFontFamily}),ee.attributionControl&&this.addControl(new Ka({customAttribution:ee.customAttribution})),this.addControl(new Ci,ee.logoPosition),this.on("style.load",function(){pe.transform.unmodified&&pe.jumpTo(pe.style.stylesheet)}),this.on("data",function(ft){pe._update(ft.dataType==="style"),pe.fire(new s.Event(ft.dataType+"data",ft))}),this.on("dataloading",function(ft){pe.fire(new s.Event(ft.dataType+"dataloading",ft))})}ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j;var de={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return j.prototype._getMapId=function(){return this._mapId},j.prototype.addControl=function(pe,ze){if(ze===void 0&&(pe.getDefaultPosition?ze=pe.getDefaultPosition():ze="top-right"),!pe||!pe.onAdd)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Ye=pe.onAdd(this);this._controls.push(pe);var ft=this._controlPositions[ze];return ze.indexOf("bottom")!==-1?ft.insertBefore(Ye,ft.firstChild):ft.appendChild(Ye),this},j.prototype.removeControl=function(pe){if(!pe||!pe.onRemove)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var ze=this._controls.indexOf(pe);return ze>-1&&this._controls.splice(ze,1),pe.onRemove(this),this},j.prototype.hasControl=function(pe){return this._controls.indexOf(pe)>-1},j.prototype.resize=function(pe){var ze=this._containerDimensions(),Ye=ze[0],ft=ze[1];this._resizeCanvas(Ye,ft),this.transform.resize(Ye,ft),this.painter.resize(Ye,ft);var Ct=!this._moving;return Ct&&(this.stop(),this.fire(new s.Event("movestart",pe)).fire(new s.Event("move",pe))),this.fire(new s.Event("resize",pe)),Ct&&this.fire(new s.Event("moveend",pe)),this},j.prototype.getBounds=function(){return this.transform.getBounds()},j.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},j.prototype.setMaxBounds=function(pe){return this.transform.setMaxBounds(s.LngLatBounds.convert(pe)),this._update()},j.prototype.setMinZoom=function(pe){if(pe=pe??fc,pe>=fc&&pe<=this.transform.maxZoom)return this.transform.minZoom=pe,this._update(),this.getZoom()<pe&&this.setZoom(pe),this;throw new Error("minZoom must be between "+fc+" and the current maxZoom, inclusive")},j.prototype.getMinZoom=function(){return this.transform.minZoom},j.prototype.setMaxZoom=function(pe){if(pe=pe??cc,pe>=this.transform.minZoom)return this.transform.maxZoom=pe,this._update(),this.getZoom()>pe&&this.setZoom(pe),this;throw new Error("maxZoom must be greater than the current minZoom")},j.prototype.getMaxZoom=function(){return this.transform.maxZoom},j.prototype.setMinPitch=function(pe){if(pe=pe??$o,pe<$o)throw new Error("minPitch must be greater than or equal to "+$o);if(pe>=$o&&pe<=this.transform.maxPitch)return this.transform.minPitch=pe,this._update(),this.getPitch()<pe&&this.setPitch(pe),this;throw new Error("minPitch must be between "+$o+" and the current maxPitch, inclusive")},j.prototype.getMinPitch=function(){return this.transform.minPitch},j.prototype.setMaxPitch=function(pe){if(pe=pe??$u,pe>$u)throw new Error("maxPitch must be less than or equal to "+$u);if(pe>=this.transform.minPitch)return this.transform.maxPitch=pe,this._update(),this.getPitch()>pe&&this.setPitch(pe),this;throw new Error("maxPitch must be greater than the current minPitch")},j.prototype.getMaxPitch=function(){return this.transform.maxPitch},j.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},j.prototype.setRenderWorldCopies=function(pe){return this.transform.renderWorldCopies=pe,this._update()},j.prototype.project=function(pe){return this.transform.locationPoint(s.LngLat.convert(pe))},j.prototype.unproject=function(pe){return this.transform.pointLocation(s.Point.convert(pe))},j.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},j.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},j.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},j.prototype._createDelegatedListener=function(pe,ze,Ye){var ft=this,Ct;if(pe==="mouseenter"||pe==="mouseover"){var Nt=!1,qt=function(Wr){var Jr=ft.getLayer(ze)?ft.queryRenderedFeatures(Wr.point,{layers:[ze]}):[];Jr.length?Nt||(Nt=!0,Ye.call(ft,new qe(pe,ft,Wr.originalEvent,{features:Jr}))):Nt=!1},ur=function(){Nt=!1};return{layer:ze,listener:Ye,delegates:{mousemove:qt,mouseout:ur}}}else if(pe==="mouseleave"||pe==="mouseout"){var lr=!1,Fr=function(Wr){var Jr=ft.getLayer(ze)?ft.queryRenderedFeatures(Wr.point,{layers:[ze]}):[];Jr.length?lr=!0:lr&&(lr=!1,Ye.call(ft,new qe(pe,ft,Wr.originalEvent)))},Zr=function(Wr){lr&&(lr=!1,Ye.call(ft,new qe(pe,ft,Wr.originalEvent)))};return{layer:ze,listener:Ye,delegates:{mousemove:Fr,mouseout:Zr}}}else{var jr=function(Wr){var Jr=ft.getLayer(ze)?ft.queryRenderedFeatures(Wr.point,{layers:[ze]}):[];Jr.length&&(Wr.features=Jr,Ye.call(ft,Wr),delete Wr.features)};return{layer:ze,listener:Ye,delegates:(Ct={},Ct[pe]=jr,Ct)}}},j.prototype.on=function(pe,ze,Ye){if(Ye===void 0)return ce.prototype.on.call(this,pe,ze);var ft=this._createDelegatedListener(pe,ze,Ye);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[pe]=this._delegatedListeners[pe]||[],this._delegatedListeners[pe].push(ft);for(var Ct in ft.delegates)this.on(Ct,ft.delegates[Ct]);return this},j.prototype.once=function(pe,ze,Ye){if(Ye===void 0)return ce.prototype.once.call(this,pe,ze);var ft=this._createDelegatedListener(pe,ze,Ye);for(var Ct in ft.delegates)this.once(Ct,ft.delegates[Ct]);return this},j.prototype.off=function(pe,ze,Ye){var ft=this;if(Ye===void 0)return ce.prototype.off.call(this,pe,ze);var Ct=function(Nt){for(var qt=Nt[pe],ur=0;ur<qt.length;ur++){var lr=qt[ur];if(lr.layer===ze&&lr.listener===Ye){for(var Fr in lr.delegates)ft.off(Fr,lr.delegates[Fr]);return qt.splice(ur,1),ft}}};return this._delegatedListeners&&this._delegatedListeners[pe]&&Ct(this._delegatedListeners),this},j.prototype.queryRenderedFeatures=function(pe,ze){if(!this.style)return[];ze===void 0&&pe!==void 0&&!(pe instanceof s.Point)&&!Array.isArray(pe)&&(ze=pe,pe=void 0),ze=ze||{},pe=pe||[[0,0],[this.transform.width,this.transform.height]];var Ye;if(pe instanceof s.Point||typeof pe[0]=="number")Ye=[s.Point.convert(pe)];else{var ft=s.Point.convert(pe[0]),Ct=s.Point.convert(pe[1]);Ye=[ft,new s.Point(Ct.x,ft.y),Ct,new s.Point(ft.x,Ct.y),ft]}return this.style.queryRenderedFeatures(Ye,ze,this.transform)},j.prototype.querySourceFeatures=function(pe,ze){return this.style.querySourceFeatures(pe,ze)},j.prototype.setStyle=function(pe,ze){return ze=s.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},ze),ze.diff!==!1&&ze.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&pe?(this._diffStyle(pe,ze),this):(this._localIdeographFontFamily=ze.localIdeographFontFamily,this._updateStyle(pe,ze))},j.prototype._getUIString=function(pe){var ze=this._locale[pe];if(ze==null)throw new Error("Missing UI string '"+pe+"'");return ze},j.prototype._updateStyle=function(pe,ze){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),pe)this.style=new ho(this,ze||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof pe=="string"?this.style.loadURL(pe):this.style.loadJSON(pe),this},j.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new ho(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},j.prototype._diffStyle=function(pe,ze){var Ye=this;if(typeof pe=="string"){var ft=this._requestManager.normalizeStyleURL(pe),Ct=this._requestManager.transformRequest(ft,s.ResourceType.Style);s.getJSON(Ct,function(Nt,qt){Nt?Ye.fire(new s.ErrorEvent(Nt)):qt&&Ye._updateDiff(qt,ze)})}else typeof pe=="object"&&this._updateDiff(pe,ze)},j.prototype._updateDiff=function(pe,ze){try{this.style.setState(pe)&&this._update(!0)}catch(Ye){s.warnOnce("Unable to perform style diff: "+(Ye.message||Ye.error||Ye)+".  Rebuilding the style from scratch."),this._updateStyle(pe,ze)}},j.prototype.getStyle=function(){if(this.style)return this.style.serialize()},j.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():s.warnOnce("There is no style added to the map.")},j.prototype.addSource=function(pe,ze){return this._lazyInitEmptyStyle(),this.style.addSource(pe,ze),this._update(!0)},j.prototype.isSourceLoaded=function(pe){var ze=this.style&&this.style.sourceCaches[pe];if(ze===void 0){this.fire(new s.ErrorEvent(new Error("There is no source with ID '"+pe+"'")));return}return ze.loaded()},j.prototype.areTilesLoaded=function(){var pe=this.style&&this.style.sourceCaches;for(var ze in pe){var Ye=pe[ze],ft=Ye._tiles;for(var Ct in ft){var Nt=ft[Ct];if(!(Nt.state==="loaded"||Nt.state==="errored"))return!1}}return!0},j.prototype.addSourceType=function(pe,ze,Ye){return this._lazyInitEmptyStyle(),this.style.addSourceType(pe,ze,Ye)},j.prototype.removeSource=function(pe){return this.style.removeSource(pe),this._update(!0)},j.prototype.getSource=function(pe){return this.style.getSource(pe)},j.prototype.addImage=function(pe,ze,Ye){Ye===void 0&&(Ye={});var ft=Ye.pixelRatio;ft===void 0&&(ft=1);var Ct=Ye.sdf;Ct===void 0&&(Ct=!1);var Nt=Ye.stretchX,qt=Ye.stretchY,ur=Ye.content;this._lazyInitEmptyStyle();var lr=0;if(ze instanceof Mf||Qu&&ze instanceof Qu){var Fr=s.browser.getImageData(ze),Zr=Fr.width,jr=Fr.height,Wr=Fr.data;this.style.addImage(pe,{data:new s.RGBAImage({width:Zr,height:jr},Wr),pixelRatio:ft,stretchX:Nt,stretchY:qt,content:ur,sdf:Ct,version:lr})}else{if(ze.width===void 0||ze.height===void 0)return this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Jr=ze.width,dn=ze.height,kn=ze.data,Un=ze;this.style.addImage(pe,{data:new s.RGBAImage({width:Jr,height:dn},new Uint8Array(kn)),pixelRatio:ft,stretchX:Nt,stretchY:qt,content:ur,sdf:Ct,version:lr,userImage:Un}),Un.onAdd&&Un.onAdd(this,pe)}},j.prototype.updateImage=function(pe,ze){var Ye=this.style.getImage(pe);if(!Ye)return this.fire(new s.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var ft=ze instanceof Mf||Qu&&ze instanceof Qu?s.browser.getImageData(ze):ze,Ct=ft.width,Nt=ft.height,qt=ft.data;if(Ct===void 0||Nt===void 0)return this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(Ct!==Ye.data.width||Nt!==Ye.data.height)return this.fire(new s.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var ur=!(ze instanceof Mf||Qu&&ze instanceof Qu);Ye.data.replace(qt,ur),this.style.updateImage(pe,Ye)},j.prototype.hasImage=function(pe){return pe?!!this.style.getImage(pe):(this.fire(new s.ErrorEvent(new Error("Missing required image id"))),!1)},j.prototype.removeImage=function(pe){this.style.removeImage(pe)},j.prototype.loadImage=function(pe,ze){s.getImage(this._requestManager.transformRequest(pe,s.ResourceType.Image),ze)},j.prototype.listImages=function(){return this.style.listImages()},j.prototype.addLayer=function(pe,ze){return this._lazyInitEmptyStyle(),this.style.addLayer(pe,ze),this._update(!0)},j.prototype.moveLayer=function(pe,ze){return this.style.moveLayer(pe,ze),this._update(!0)},j.prototype.removeLayer=function(pe){return this.style.removeLayer(pe),this._update(!0)},j.prototype.getLayer=function(pe){return this.style.getLayer(pe)},j.prototype.setLayerZoomRange=function(pe,ze,Ye){return this.style.setLayerZoomRange(pe,ze,Ye),this._update(!0)},j.prototype.setFilter=function(pe,ze,Ye){return Ye===void 0&&(Ye={}),this.style.setFilter(pe,ze,Ye),this._update(!0)},j.prototype.getFilter=function(pe){return this.style.getFilter(pe)},j.prototype.setPaintProperty=function(pe,ze,Ye,ft){return ft===void 0&&(ft={}),this.style.setPaintProperty(pe,ze,Ye,ft),this._update(!0)},j.prototype.getPaintProperty=function(pe,ze){return this.style.getPaintProperty(pe,ze)},j.prototype.setLayoutProperty=function(pe,ze,Ye,ft){return ft===void 0&&(ft={}),this.style.setLayoutProperty(pe,ze,Ye,ft),this._update(!0)},j.prototype.getLayoutProperty=function(pe,ze){return this.style.getLayoutProperty(pe,ze)},j.prototype.setLight=function(pe,ze){return ze===void 0&&(ze={}),this._lazyInitEmptyStyle(),this.style.setLight(pe,ze),this._update(!0)},j.prototype.getLight=function(){return this.style.getLight()},j.prototype.setFeatureState=function(pe,ze){return this.style.setFeatureState(pe,ze),this._update()},j.prototype.removeFeatureState=function(pe,ze){return this.style.removeFeatureState(pe,ze),this._update()},j.prototype.getFeatureState=function(pe){return this.style.getFeatureState(pe)},j.prototype.getContainer=function(){return this._container},j.prototype.getCanvasContainer=function(){return this._canvasContainer},j.prototype.getCanvas=function(){return this._canvas},j.prototype._containerDimensions=function(){var pe=0,ze=0;return this._container&&(pe=this._container.clientWidth||400,ze=this._container.clientHeight||300),[pe,ze]},j.prototype._detectMissingCSS=function(){var pe=s.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");pe!=="rgb(250, 128, 114)"&&s.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},j.prototype._setupContainer=function(){var pe=this._container;pe.classList.add("mapboxgl-map");var ze=this._missingCSSCanary=M.create("div","mapboxgl-canary",pe);ze.style.visibility="hidden",this._detectMissingCSS();var Ye=this._canvasContainer=M.create("div","mapboxgl-canvas-container",pe);this._interactive&&Ye.classList.add("mapboxgl-interactive"),this._canvas=M.create("canvas","mapboxgl-canvas",Ye),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var ft=this._containerDimensions();this._resizeCanvas(ft[0],ft[1]);var Ct=this._controlContainer=M.create("div","mapboxgl-control-container",pe),Nt=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(qt){Nt[qt]=M.create("div","mapboxgl-ctrl-"+qt,Ct)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},j.prototype._resizeCanvas=function(pe,ze){var Ye=s.browser.devicePixelRatio||1;this._canvas.width=Ye*pe,this._canvas.height=Ye*ze,this._canvas.style.width=pe+"px",this._canvas.style.height=ze+"px"},j.prototype._setupPainter=function(){var pe=s.extend({},L.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),ze=this._canvas.getContext("webgl",pe)||this._canvas.getContext("experimental-webgl",pe);if(!ze){this.fire(new s.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Vr(ze,this.transform),s.webpSupported.testSupport(ze)},j.prototype._contextLost=function(pe){pe.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new s.Event("webglcontextlost",{originalEvent:pe}))},j.prototype._contextRestored=function(pe){this._setupPainter(),this.resize(),this._update(),this.fire(new s.Event("webglcontextrestored",{originalEvent:pe}))},j.prototype._onMapScroll=function(pe){if(pe.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},j.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},j.prototype._update=function(pe){return this.style?(this._styleDirty=this._styleDirty||pe,this._sourcesDirty=!0,this.triggerRepaint(),this):this},j.prototype._requestRenderFrame=function(pe){return this._update(),this._renderTaskQueue.add(pe)},j.prototype._cancelRenderFrame=function(pe){this._renderTaskQueue.remove(pe)},j.prototype._render=function(pe){var ze=this,Ye,ft=0,Ct=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Ye=Ct.createQueryEXT(),Ct.beginQueryEXT(Ct.TIME_ELAPSED_EXT,Ye),ft=s.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(pe),!this._removed){var Nt=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var qt=this.transform.zoom,ur=s.browser.now();this.style.zoomHistory.update(qt,ur);var lr=new s.EvaluationParameters(qt,{now:ur,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Fr=lr.crossFadingFactor();(Fr!==1||Fr!==this._crossFadingFactor)&&(Nt=!0,this._crossFadingFactor=Fr),this.style.update(lr)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new s.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new s.Event("load"))),this.style&&(this.style.hasTransitions()||Nt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Zr=s.browser.now()-ft;Ct.endQueryEXT(Ct.TIME_ELAPSED_EXT,Ye),setTimeout(function(){var Jr=Ct.getQueryObjectEXT(Ye,Ct.QUERY_RESULT_EXT)/1e6;Ct.deleteQueryEXT(Ye),ze.fire(new s.Event("gpu-timing-frame",{cpuTime:Zr,gpuTime:Jr}))},50)}if(this.listens("gpu-timing-layer")){var jr=this.painter.collectGpuTimers();setTimeout(function(){var Jr=ze.painter.queryGpuTimers(jr);ze.fire(new s.Event("gpu-timing-layer",{layerTimes:Jr}))},50)}var Wr=this._sourcesDirty||this._styleDirty||this._placementDirty;return Wr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new s.Event("idle")),this._loaded&&!this._fullyLoaded&&!Wr&&(this._fullyLoaded=!0),this}},j.prototype.remove=function(){this._hash&&this._hash.remove();for(var pe=0,ze=this._controls;pe<ze.length;pe+=1){var Ye=ze[pe];Ye.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof s.window<"u"&&(s.window.removeEventListener("resize",this._onWindowResize,!1),s.window.removeEventListener("orientationchange",this._onWindowResize,!1),s.window.removeEventListener("online",this._onWindowOnline,!1));var ft=this.painter.context.gl.getExtension("WEBGL_lose_context");ft&&ft.loseContext&&ft.loseContext(),uh(this._canvasContainer),uh(this._controlContainer),uh(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new s.Event("remove"))},j.prototype.triggerRepaint=function(){var pe=this;this.style&&!this._frame&&(this._frame=s.browser.frame(function(ze){pe._frame=null,pe._render(ze)}))},j.prototype._onWindowOnline=function(){this._update()},j.prototype._onWindowResize=function(pe){this._trackResize&&this.resize({originalEvent:pe})._update()},de.showTileBoundaries.get=function(){return!!this._showTileBoundaries},de.showTileBoundaries.set=function(ee){this._showTileBoundaries!==ee&&(this._showTileBoundaries=ee,this._update())},de.showPadding.get=function(){return!!this._showPadding},de.showPadding.set=function(ee){this._showPadding!==ee&&(this._showPadding=ee,this._update())},de.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},de.showCollisionBoxes.set=function(ee){this._showCollisionBoxes!==ee&&(this._showCollisionBoxes=ee,ee?this.style._generateCollisionBoxes():this._update())},de.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},de.showOverdrawInspector.set=function(ee){this._showOverdrawInspector!==ee&&(this._showOverdrawInspector=ee,this._update())},de.repaint.get=function(){return!!this._repaint},de.repaint.set=function(ee){this._repaint!==ee&&(this._repaint=ee,this.triggerRepaint())},de.vertices.get=function(){return!!this._vertices},de.vertices.set=function(ee){this._vertices=ee,this._update()},j.prototype._setCacheLimits=function(pe,ze){s.setCacheLimits(pe,ze)},de.version.get=function(){return s.version},Object.defineProperties(j.prototype,de),j}(Wl);function uh(ce){ce.parentNode&&ce.parentNode.removeChild(ce)}var Ih={showCompass:!0,showZoom:!0,visualizePitch:!1},Tu=function(j){var de=this;this.options=s.extend({},Ih,j),this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(ee){return ee.preventDefault()}),this.options.showZoom&&(s.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(ee){return de._map.zoomIn({},{originalEvent:ee})}),M.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(ee){return de._map.zoomOut({},{originalEvent:ee})}),M.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(s.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(ee){de.options.visualizePitch?de._map.resetNorthPitch({},{originalEvent:ee}):de._map.resetNorth({},{originalEvent:ee})}),this._compassIcon=M.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Tu.prototype._updateZoomButtons=function(){var j=this._map.getZoom(),de=j===this._map.getMaxZoom(),ee=j===this._map.getMinZoom();this._zoomInButton.disabled=de,this._zoomOutButton.disabled=ee,this._zoomInButton.setAttribute("aria-disabled",de.toString()),this._zoomOutButton.setAttribute("aria-disabled",ee.toString())},Tu.prototype._rotateCompassArrow=function(){var j=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=j},Tu.prototype.onAdd=function(j){return this._map=j,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ds(this._map,this._compass,this.options.visualizePitch)),this._container},Tu.prototype.onRemove=function(){M.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Tu.prototype._createButton=function(j,de){var ee=M.create("button",j,this._container);return ee.type="button",ee.addEventListener("click",de),ee},Tu.prototype._setButtonTitle=function(j,de){var ee=this._map._getUIString("NavigationControl."+de);j.title=ee,j.setAttribute("aria-label",ee)};var ds=function(j,de,ee){ee===void 0&&(ee=!1),this._clickTolerance=10,this.element=de,this.mouseRotate=new fa({clickTolerance:j.dragRotate._mouseRotate._clickTolerance}),this.map=j,ee&&(this.mousePitch=new qn({clickTolerance:j.dragRotate._mousePitch._clickTolerance})),s.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),M.addEventListener(de,"mousedown",this.mousedown),M.addEventListener(de,"touchstart",this.touchstart,{passive:!1}),M.addEventListener(de,"touchmove",this.touchmove),M.addEventListener(de,"touchend",this.touchend),M.addEventListener(de,"touchcancel",this.reset)};ds.prototype.down=function(j,de){this.mouseRotate.mousedown(j,de),this.mousePitch&&this.mousePitch.mousedown(j,de),M.disableDrag()},ds.prototype.move=function(j,de){var ee=this.map,pe=this.mouseRotate.mousemoveWindow(j,de);if(pe&&pe.bearingDelta&&ee.setBearing(ee.getBearing()+pe.bearingDelta),this.mousePitch){var ze=this.mousePitch.mousemoveWindow(j,de);ze&&ze.pitchDelta&&ee.setPitch(ee.getPitch()+ze.pitchDelta)}},ds.prototype.off=function(){var j=this.element;M.removeEventListener(j,"mousedown",this.mousedown),M.removeEventListener(j,"touchstart",this.touchstart,{passive:!1}),M.removeEventListener(j,"touchmove",this.touchmove),M.removeEventListener(j,"touchend",this.touchend),M.removeEventListener(j,"touchcancel",this.reset),this.offTemp()},ds.prototype.offTemp=function(){M.enableDrag(),M.removeEventListener(s.window,"mousemove",this.mousemove),M.removeEventListener(s.window,"mouseup",this.mouseup)},ds.prototype.mousedown=function(j){this.down(s.extend({},j,{ctrlKey:!0,preventDefault:function(){return j.preventDefault()}}),M.mousePos(this.element,j)),M.addEventListener(s.window,"mousemove",this.mousemove),M.addEventListener(s.window,"mouseup",this.mouseup)},ds.prototype.mousemove=function(j){this.move(j,M.mousePos(this.element,j))},ds.prototype.mouseup=function(j){this.mouseRotate.mouseupWindow(j),this.mousePitch&&this.mousePitch.mouseupWindow(j),this.offTemp()},ds.prototype.touchstart=function(j){j.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=M.touchPos(this.element,j.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return j.preventDefault()}},this._startPos))},ds.prototype.touchmove=function(j){j.targetTouches.length!==1?this.reset():(this._lastPos=M.touchPos(this.element,j.targetTouches)[0],this.move({preventDefault:function(){return j.preventDefault()}},this._lastPos))},ds.prototype.touchend=function(j){j.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},ds.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function Au(ce,j,de){if(ce=new s.LngLat(ce.lng,ce.lat),j){var ee=new s.LngLat(ce.lng-360,ce.lat),pe=new s.LngLat(ce.lng+360,ce.lat),ze=de.locationPoint(ce).distSqr(j);de.locationPoint(ee).distSqr(j)<ze?ce=ee:de.locationPoint(pe).distSqr(j)<ze&&(ce=pe)}for(;Math.abs(ce.lng-de.center.lng)>180;){var Ye=de.locationPoint(ce);if(Ye.x>=0&&Ye.y>=0&&Ye.x<=de.width&&Ye.y<=de.height)break;ce.lng>de.center.lng?ce.lng-=360:ce.lng+=360}return ce}var fh={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function kh(ce,j,de){var ee=ce.classList;for(var pe in fh)ee.remove("mapboxgl-"+de+"-anchor-"+pe);ee.add("mapboxgl-"+de+"-anchor-"+j)}var hc=function(ce){function j(de,ee){if(ce.call(this),(de instanceof s.window.HTMLElement||ee)&&(de=s.extend({element:de},ee)),s.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=de&&de.anchor||"center",this._color=de&&de.color||"#3FB1CE",this._scale=de&&de.scale||1,this._draggable=de&&de.draggable||!1,this._clickTolerance=de&&de.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=de&&de.rotation||0,this._rotationAlignment=de&&de.rotationAlignment||"auto",this._pitchAlignment=de&&de.pitchAlignment&&de.pitchAlignment!=="auto"?de.pitchAlignment:this._rotationAlignment,!de||!de.element){this._defaultMarker=!0,this._element=M.create("div"),this._element.setAttribute("aria-label","Map marker");var pe=M.createNS("http://www.w3.org/2000/svg","svg"),ze=41,Ye=27;pe.setAttributeNS(null,"display","block"),pe.setAttributeNS(null,"height",ze+"px"),pe.setAttributeNS(null,"width",Ye+"px"),pe.setAttributeNS(null,"viewBox","0 0 "+Ye+" "+ze);var ft=M.createNS("http://www.w3.org/2000/svg","g");ft.setAttributeNS(null,"stroke","none"),ft.setAttributeNS(null,"stroke-width","1"),ft.setAttributeNS(null,"fill","none"),ft.setAttributeNS(null,"fill-rule","evenodd");var Ct=M.createNS("http://www.w3.org/2000/svg","g");Ct.setAttributeNS(null,"fill-rule","nonzero");var Nt=M.createNS("http://www.w3.org/2000/svg","g");Nt.setAttributeNS(null,"transform","translate(3.0, 29.0)"),Nt.setAttributeNS(null,"fill","#000000");for(var qt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],ur=0,lr=qt;ur<lr.length;ur+=1){var Fr=lr[ur],Zr=M.createNS("http://www.w3.org/2000/svg","ellipse");Zr.setAttributeNS(null,"opacity","0.04"),Zr.setAttributeNS(null,"cx","10.5"),Zr.setAttributeNS(null,"cy","5.80029008"),Zr.setAttributeNS(null,"rx",Fr.rx),Zr.setAttributeNS(null,"ry",Fr.ry),Nt.appendChild(Zr)}var jr=M.createNS("http://www.w3.org/2000/svg","g");jr.setAttributeNS(null,"fill",this._color);var Wr=M.createNS("http://www.w3.org/2000/svg","path");Wr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),jr.appendChild(Wr);var Jr=M.createNS("http://www.w3.org/2000/svg","g");Jr.setAttributeNS(null,"opacity","0.25"),Jr.setAttributeNS(null,"fill","#000000");var dn=M.createNS("http://www.w3.org/2000/svg","path");dn.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Jr.appendChild(dn);var kn=M.createNS("http://www.w3.org/2000/svg","g");kn.setAttributeNS(null,"transform","translate(6.0, 7.0)"),kn.setAttributeNS(null,"fill","#FFFFFF");var Un=M.createNS("http://www.w3.org/2000/svg","g");Un.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Xn=M.createNS("http://www.w3.org/2000/svg","circle");Xn.setAttributeNS(null,"fill","#000000"),Xn.setAttributeNS(null,"opacity","0.25"),Xn.setAttributeNS(null,"cx","5.5"),Xn.setAttributeNS(null,"cy","5.5"),Xn.setAttributeNS(null,"r","5.4999962");var Zn=M.createNS("http://www.w3.org/2000/svg","circle");Zn.setAttributeNS(null,"fill","#FFFFFF"),Zn.setAttributeNS(null,"cx","5.5"),Zn.setAttributeNS(null,"cy","5.5"),Zn.setAttributeNS(null,"r","5.4999962"),Un.appendChild(Xn),Un.appendChild(Zn),Ct.appendChild(Nt),Ct.appendChild(jr),Ct.appendChild(Jr),Ct.appendChild(kn),Ct.appendChild(Un),pe.appendChild(Ct),pe.setAttributeNS(null,"height",ze*this._scale+"px"),pe.setAttributeNS(null,"width",Ye*this._scale+"px"),this._element.appendChild(pe),this._offset=s.Point.convert(de&&de.offset||[0,-14])}else this._element=de.element,this._offset=s.Point.convert(de&&de.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Gn){Gn.preventDefault()}),this._element.addEventListener("mousedown",function(Gn){Gn.preventDefault()}),kh(this._element,this._anchor,"marker"),this._popup=null}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.addTo=function(ee){return this.remove(),this._map=ee,ee.getCanvasContainer().appendChild(this._element),ee.on("move",this._update),ee.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},j.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),M.remove(this._element),this._popup&&this._popup.remove(),this},j.prototype.getLngLat=function(){return this._lngLat},j.prototype.setLngLat=function(ee){return this._lngLat=s.LngLat.convert(ee),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},j.prototype.getElement=function(){return this._element},j.prototype.setPopup=function(ee){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),ee){if(!("offset"in ee.options)){var pe=38.1,ze=13.5,Ye=Math.sqrt(Math.pow(ze,2)/2);ee.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-pe],"bottom-left":[Ye,(pe-ze+Ye)*-1],"bottom-right":[-Ye,(pe-ze+Ye)*-1],left:[ze,(pe-ze)*-1],right:[-ze,(pe-ze)*-1]}:this._offset}this._popup=ee,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},j.prototype._onKeyPress=function(ee){var pe=ee.code,ze=ee.charCode||ee.keyCode;(pe==="Space"||pe==="Enter"||ze===32||ze===13)&&this.togglePopup()},j.prototype._onMapClick=function(ee){var pe=ee.originalEvent.target,ze=this._element;this._popup&&(pe===ze||ze.contains(pe))&&this.togglePopup()},j.prototype.getPopup=function(){return this._popup},j.prototype.togglePopup=function(){var ee=this._popup;if(ee)ee.isOpen()?ee.remove():ee.addTo(this._map);else return this;return this},j.prototype._update=function(ee){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Au(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var pe="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?pe="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(pe="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var ze="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?ze="rotateX(0deg)":this._pitchAlignment==="map"&&(ze="rotateX("+this._map.getPitch()+"deg)"),(!ee||ee.type==="moveend")&&(this._pos=this._pos.round()),M.setTransform(this._element,fh[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+ze+" "+pe)}},j.prototype.getOffset=function(){return this._offset},j.prototype.setOffset=function(ee){return this._offset=s.Point.convert(ee),this._update(),this},j.prototype._onMove=function(ee){if(!this._isDragging){var pe=this._clickTolerance||this._map._clickTolerance;this._isDragging=ee.point.dist(this._pointerdownPos)>=pe}this._isDragging&&(this._pos=ee.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new s.Event("dragstart"))),this.fire(new s.Event("drag")))},j.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new s.Event("dragend")),this._state="inactive"},j.prototype._addDragHandler=function(ee){this._element.contains(ee.originalEvent.target)&&(ee.preventDefault(),this._positionDelta=ee.point.sub(this._pos).add(this._offset),this._pointerdownPos=ee.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},j.prototype.setDraggable=function(ee){return this._draggable=!!ee,this._map&&(ee?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},j.prototype.isDraggable=function(){return this._draggable},j.prototype.setRotation=function(ee){return this._rotation=ee||0,this._update(),this},j.prototype.getRotation=function(){return this._rotation},j.prototype.setRotationAlignment=function(ee){return this._rotationAlignment=ee||"auto",this._update(),this},j.prototype.getRotationAlignment=function(){return this._rotationAlignment},j.prototype.setPitchAlignment=function(ee){return this._pitchAlignment=ee&&ee!=="auto"?ee:this._rotationAlignment,this._update(),this},j.prototype.getPitchAlignment=function(){return this._pitchAlignment},j}(s.Evented),Ov={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},qu;function ch(ce){qu!==void 0?ce(qu):s.window.navigator.permissions!==void 0?s.window.navigator.permissions.query({name:"geolocation"}).then(function(j){qu=j.state!=="denied",ce(qu)}):(qu=!!s.window.navigator.geolocation,ce(qu))}var vc=0,Sf=!1,Xd=function(ce){function j(de){ce.call(this),this.options=s.extend({},Ov,de),s.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.onAdd=function(ee){return this._map=ee,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),ch(this._setupUI),this._container},j.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(s.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),M.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,vc=0,Sf=!1},j.prototype._isOutOfMapMaxBounds=function(ee){var pe=this._map.getMaxBounds(),ze=ee.coords;return pe&&(ze.longitude<pe.getWest()||ze.longitude>pe.getEast()||ze.latitude<pe.getSouth()||ze.latitude>pe.getNorth())},j.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},j.prototype._onSuccess=function(ee){if(this._map){if(this._isOutOfMapMaxBounds(ee)){this._setErrorState(),this.fire(new s.Event("outofmaxbounds",ee)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=ee,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(ee),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(ee),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new s.Event("geolocate",ee)),this._finish()}},j.prototype._updateCamera=function(ee){var pe=new s.LngLat(ee.coords.longitude,ee.coords.latitude),ze=ee.coords.accuracy,Ye=this._map.getBearing(),ft=s.extend({bearing:Ye},this.options.fitBoundsOptions);this._map.fitBounds(pe.toBounds(ze),ft,{geolocateSource:!0})},j.prototype._updateMarker=function(ee){if(ee){var pe=new s.LngLat(ee.coords.longitude,ee.coords.latitude);this._accuracyCircleMarker.setLngLat(pe).addTo(this._map),this._userLocationDotMarker.setLngLat(pe).addTo(this._map),this._accuracy=ee.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},j.prototype._updateCircleRadius=function(){var ee=this._map._container.clientHeight/2,pe=this._map.unproject([0,ee]),ze=this._map.unproject([1,ee]),Ye=pe.distanceTo(ze),ft=Math.ceil(2*this._accuracy/Ye);this._circleElement.style.width=ft+"px",this._circleElement.style.height=ft+"px"},j.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},j.prototype._onError=function(ee){if(this._map){if(this.options.trackUserLocation)if(ee.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var pe=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=pe,this._geolocateButton.setAttribute("aria-label",pe),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(ee.code===3&&Sf)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new s.Event("error",ee)),this._finish()}},j.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},j.prototype._setupUI=function(ee){var pe=this;if(this._container.addEventListener("contextmenu",function(ft){return ft.preventDefault()}),this._geolocateButton=M.create("button","mapboxgl-ctrl-geolocate",this._container),M.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",ee===!1){s.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var ze=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=ze,this._geolocateButton.setAttribute("aria-label",ze)}else{var Ye=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Ye,this._geolocateButton.setAttribute("aria-label",Ye)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=M.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new hc(this._dotElement),this._circleElement=M.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new hc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(ft){var Ct=ft.originalEvent&&ft.originalEvent.type==="resize";!ft.geolocateSource&&pe._watchState==="ACTIVE_LOCK"&&!Ct&&(pe._watchState="BACKGROUND",pe._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),pe._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),pe.fire(new s.Event("trackuserlocationend")))})},j.prototype.trigger=function(){if(!this._setup)return s.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new s.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":vc--,Sf=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new s.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new s.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),vc++;var ee;vc>1?(ee={maximumAge:6e5,timeout:0},Sf=!0):(ee=this.options.positionOptions,Sf=!1),this._geolocationWatchID=s.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,ee)}}else s.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},j.prototype._clearWatch=function(){s.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},j}(s.Evented),Bv={maxWidth:100,unit:"metric"},Ef=function(j){this.options=s.extend({},Bv,j),s.bindAll(["_onMove","setUnit"],this)};Ef.prototype.getDefaultPosition=function(){return"bottom-left"},Ef.prototype._onMove=function(){Nv(this._map,this._container,this.options)},Ef.prototype.onAdd=function(j){return this._map=j,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",j.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Ef.prototype.onRemove=function(){M.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Ef.prototype.setUnit=function(j){this.options.unit=j,Nv(this._map,this._container,this.options)};function Nv(ce,j,de){var ee=de&&de.maxWidth||100,pe=ce._container.clientHeight/2,ze=ce.unproject([0,pe]),Ye=ce.unproject([ee,pe]),ft=ze.distanceTo(Ye);if(de&&de.unit==="imperial"){var Ct=3.2808*ft;if(Ct>5280){var Nt=Ct/5280;dc(j,ee,Nt,ce._getUIString("ScaleControl.Miles"))}else dc(j,ee,Ct,ce._getUIString("ScaleControl.Feet"))}else if(de&&de.unit==="nautical"){var qt=ft/1852;dc(j,ee,qt,ce._getUIString("ScaleControl.NauticalMiles"))}else ft>=1e3?dc(j,ee,ft/1e3,ce._getUIString("ScaleControl.Kilometers")):dc(j,ee,ft,ce._getUIString("ScaleControl.Meters"))}function dc(ce,j,de,ee){var pe=Zd(de),ze=pe/de;ce.style.width=j*ze+"px",ce.innerHTML=pe+"&nbsp;"+ee}function jd(ce){var j=Math.pow(10,Math.ceil(-Math.log(ce)/Math.LN10));return Math.round(ce*j)/j}function Zd(ce){var j=Math.pow(10,(""+Math.floor(ce)).length-1),de=ce/j;return de=de>=10?10:de>=5?5:de>=3?3:de>=2?2:de>=1?1:jd(de),j*de}var vl=function(j){this._fullscreen=!1,j&&j.container&&(j.container instanceof s.window.HTMLElement?this._container=j.container:s.warnOnce("Full screen control 'container' must be a DOM element.")),s.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in s.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in s.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in s.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in s.window.document&&(this._fullscreenchange="MSFullscreenChange")};vl.prototype.onAdd=function(j){return this._map=j,this._container||(this._container=this._map.getContainer()),this._controlContainer=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",s.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},vl.prototype.onRemove=function(){M.remove(this._controlContainer),this._map=null,s.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},vl.prototype._checkFullscreenSupport=function(){return!!(s.window.document.fullscreenEnabled||s.window.document.mozFullScreenEnabled||s.window.document.msFullscreenEnabled||s.window.document.webkitFullscreenEnabled)},vl.prototype._setupUI=function(){var j=this._fullscreenButton=M.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);M.create("span","mapboxgl-ctrl-icon",j).setAttribute("aria-hidden",!0),j.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),s.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},vl.prototype._updateTitle=function(){var j=this._getTitle();this._fullscreenButton.setAttribute("aria-label",j),this._fullscreenButton.title=j},vl.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},vl.prototype._isFullscreen=function(){return this._fullscreen},vl.prototype._changeIcon=function(){var j=s.window.document.fullscreenElement||s.window.document.mozFullScreenElement||s.window.document.webkitFullscreenElement||s.window.document.msFullscreenElement;j===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},vl.prototype._onClickFullscreen=function(){this._isFullscreen()?s.window.document.exitFullscreen?s.window.document.exitFullscreen():s.window.document.mozCancelFullScreen?s.window.document.mozCancelFullScreen():s.window.document.msExitFullscreen?s.window.document.msExitFullscreen():s.window.document.webkitCancelFullScreen&&s.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Kd={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Jd=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),N0=function(ce){function j(de){ce.call(this),this.options=s.extend(Object.create(Kd),de),s.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return ce&&(j.__proto__=ce),j.prototype=Object.create(ce&&ce.prototype),j.prototype.constructor=j,j.prototype.addTo=function(ee){return this._map&&this.remove(),this._map=ee,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new s.Event("open")),this},j.prototype.isOpen=function(){return!!this._map},j.prototype.remove=function(){return this._content&&M.remove(this._content),this._container&&(M.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new s.Event("close")),this},j.prototype.getLngLat=function(){return this._lngLat},j.prototype.setLngLat=function(ee){return this._lngLat=s.LngLat.convert(ee),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},j.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},j.prototype.getElement=function(){return this._container},j.prototype.setText=function(ee){return this.setDOMContent(s.window.document.createTextNode(ee))},j.prototype.setHTML=function(ee){var pe=s.window.document.createDocumentFragment(),ze=s.window.document.createElement("body"),Ye;for(ze.innerHTML=ee;Ye=ze.firstChild,!!Ye;)pe.appendChild(Ye);return this.setDOMContent(pe)},j.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},j.prototype.setMaxWidth=function(ee){return this.options.maxWidth=ee,this._update(),this},j.prototype.setDOMContent=function(ee){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=M.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(ee),this._createCloseButton(),this._update(),this._focusFirstElement(),this},j.prototype.addClassName=function(ee){this._container&&this._container.classList.add(ee)},j.prototype.removeClassName=function(ee){this._container&&this._container.classList.remove(ee)},j.prototype.setOffset=function(ee){return this.options.offset=ee,this._update(),this},j.prototype.toggleClassName=function(ee){if(this._container)return this._container.classList.toggle(ee)},j.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=M.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},j.prototype._onMouseUp=function(ee){this._update(ee.point)},j.prototype._onMouseMove=function(ee){this._update(ee.point)},j.prototype._onDrag=function(ee){this._update(ee.point)},j.prototype._update=function(ee){var pe=this,ze=this._lngLat||this._trackPointer;if(!(!this._map||!ze||!this._content)&&(this._container||(this._container=M.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=M.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Fr){return pe._container.classList.add(Fr)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Au(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!ee))){var Ye=this._pos=this._trackPointer&&ee?ee:this._map.project(this._lngLat),ft=this.options.anchor,Ct=Qd(this.options.offset);if(!ft){var Nt=this._container.offsetWidth,qt=this._container.offsetHeight,ur;Ye.y+Ct.bottom.y<qt?ur=["top"]:Ye.y>this._map.transform.height-qt?ur=["bottom"]:ur=[],Ye.x<Nt/2?ur.push("left"):Ye.x>this._map.transform.width-Nt/2&&ur.push("right"),ur.length===0?ft="bottom":ft=ur.join("-")}var lr=Ye.add(Ct[ft]).round();M.setTransform(this._container,fh[ft]+" translate("+lr.x+"px,"+lr.y+"px)"),kh(this._container,ft,"popup")}},j.prototype._focusFirstElement=function(){if(!(!this.options.focusAfterOpen||!this._container)){var ee=this._container.querySelector(Jd);ee&&ee.focus()}},j.prototype._onClose=function(){this.remove()},j}(s.Evented);function Qd(ce){if(ce)if(typeof ce=="number"){var j=Math.round(Math.sqrt(.5*Math.pow(ce,2)));return{center:new s.Point(0,0),top:new s.Point(0,ce),"top-left":new s.Point(j,j),"top-right":new s.Point(-j,j),bottom:new s.Point(0,-ce),"bottom-left":new s.Point(j,-j),"bottom-right":new s.Point(-j,-j),left:new s.Point(ce,0),right:new s.Point(-ce,0)}}else if(ce instanceof s.Point||Array.isArray(ce)){var de=s.Point.convert(ce);return{center:de,top:de,"top-left":de,"top-right":de,bottom:de,"bottom-left":de,"bottom-right":de,left:de,right:de}}else return{center:s.Point.convert(ce.center||[0,0]),top:s.Point.convert(ce.top||[0,0]),"top-left":s.Point.convert(ce["top-left"]||[0,0]),"top-right":s.Point.convert(ce["top-right"]||[0,0]),bottom:s.Point.convert(ce.bottom||[0,0]),"bottom-left":s.Point.convert(ce["bottom-left"]||[0,0]),"bottom-right":s.Point.convert(ce["bottom-right"]||[0,0]),left:s.Point.convert(ce.left||[0,0]),right:s.Point.convert(ce.right||[0,0])};else return Qd(new s.Point(0,0))}var ao={version:s.version,supported:L,setRTLTextPlugin:s.setRTLTextPlugin,getRTLTextPluginStatus:s.getRTLTextPluginStatus,Map:Fv,NavigationControl:Tu,GeolocateControl:Xd,AttributionControl:Ka,ScaleControl:Ef,FullscreenControl:vl,Popup:N0,Marker:hc,Style:ho,LngLat:s.LngLat,LngLatBounds:s.LngLatBounds,Point:s.Point,MercatorCoordinate:s.MercatorCoordinate,Evented:s.Evented,config:s.config,prewarm:Ke,clearPrewarmedResources:et,get accessToken(){return s.config.ACCESS_TOKEN},set accessToken(ce){s.config.ACCESS_TOKEN=ce},get baseApiUrl(){return s.config.API_URL},set baseApiUrl(ce){s.config.API_URL=ce},get workerCount(){return dr.workerCount},set workerCount(ce){dr.workerCount=ce},get maxParallelImageRequests(){return s.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(ce){s.config.MAX_PARALLEL_IMAGE_REQUESTS=ce},clearStorage:function(j){s.clearTileCache(j)},workerUrl:""};return ao}),b})},3108:function(Y,V,e){Y.exports=e(26099)},26099:function(Y,V,e){var b=e(64928),P=e(32420),s=e(51160),L=e(76752),M=e(55616),v=e(31264),p=e(47520),r=e(18400),t=e(72512),o=e(76244),n=1073741824;Y.exports=function(f,g){g||(g={}),f=p(f,"float64"),g=M(g,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var h=v(g.maxDepth,255),w=v(g.bounds,L(f,2));w[0]===w[2]&&w[2]++,w[1]===w[3]&&w[3]++;var c=l(f,w),a=f.length>>>1,d;g.dtype||(g.dtype="array"),typeof g.dtype=="string"?d=new(t(g.dtype))(a):g.dtype&&(d=g.dtype,Array.isArray(d)&&(d.length=a));for(var x=0;x<a;++x)d[x]=x;var T=[],C=[],y=[],S=[];O(0,0,1,d,0,1);for(var A=0,i=0;i<T.length;i++){var E=T[i];if(d.set)d.set(E,A);else for(var m=0,k=E.length;m<k;m++)d[m+A]=E[m];var I=A+T[i].length;S[i]=[A,I],A=I}return d.range=_,d;function O(z,N,W,Z,q,re){if(!Z.length)return null;var le=T[q]||(T[q]=[]),ie=y[q]||(y[q]=[]),K=C[q]||(C[q]=[]),$=le.length;if(q++,q>h||re>n){for(var X=0;X<Z.length;X++)le.push(Z[X]),ie.push(re),K.push(null,null,null,null);return $}if(le.push(Z[0]),ie.push(re),Z.length<=1)return K.push(null,null,null,null),$;for(var Q=W*.5,se=z+Q,J=N+Q,G=[],oe=[],te=[],fe=[],ge=1,we=Z.length;ge<we;ge++){var xe=Z[ge],Ce=c[xe*2],De=c[xe*2+1];Ce<se?De<J?G.push(xe):oe.push(xe):De<J?te.push(xe):fe.push(xe)}return re<<=2,K.push(O(z,N,Q,G,q,re),O(z,J,Q,oe,q,re+1),O(se,N,Q,te,q,re+2),O(se,J,Q,fe,q,re+3)),$}function _(){for(var z=[],N=arguments.length;N--;)z[N]=arguments[N];var W;if(r(z[z.length-1])){var Z=z.pop();!z.length&&(Z.x!=null||Z.l!=null||Z.left!=null)&&(z=[Z],W={}),W=M(Z,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else W={};z.length||(z=w);var q=s.apply(void 0,z),re=[Math.min(q.x,q.x+q.width),Math.min(q.y,q.y+q.height),Math.max(q.x,q.x+q.width),Math.max(q.y,q.y+q.height)],le=re[0],ie=re[1],K=re[2],$=re[3],X=l([le,ie,K,$],w),Q=X[0],se=X[1],J=X[2],G=X[3],oe=v(W.level,T.length);if(W.d!=null){var te;typeof W.d=="number"?te=[W.d,W.d]:W.d.length&&(te=W.d),oe=Math.min(Math.max(Math.ceil(-o(Math.abs(te[0])/(w[2]-w[0]))),Math.ceil(-o(Math.abs(te[1])/(w[3]-w[1])))),oe)}if(oe=Math.min(oe,T.length),W.lod)return B(Q,se,J,G,oe);var fe=[];ge(0,0,1,0,0,1);function ge(xe,Ce,De,Oe,Te,Re){if(!(Te===null||Re===null)){var Me=xe+De,ke=Ce+De;if(!(Q>Me||se>ke||J<xe||G<Ce)&&!(Oe>=oe)&&Te!==Re){var Se=T[Oe];Re===void 0&&(Re=Se.length);for(var He=Te;He<Re;He++){var je=Se[He],at=f[je*2],Ze=f[je*2+1];at>=le&&at<=K&&Ze>=ie&&Ze<=$&&fe.push(je)}var $e=C[Oe],ut=$e[Te*4+0],ht=$e[Te*4+1],vt=$e[Te*4+2],xt=$e[Te*4+3],St=we($e,Te+1),tt=De*.5,Ie=Oe+1;ge(xe,Ce,tt,Ie,ut,ht||vt||xt||St),ge(xe,Ce+tt,tt,Ie,ht,vt||xt||St),ge(xe+tt,Ce,tt,Ie,vt,xt||St),ge(xe+tt,Ce+tt,tt,Ie,xt,St)}}}function we(xe,Ce){for(var De=null,Oe=0;De===null;)if(De=xe[Ce*4+Oe],Oe++,Oe>xe.length)return null;return De}return fe}function B(z,N,W,Z,q){for(var re=[],le=0;le<q;le++){var ie=y[le],K=S[le][0],$=F(z,N,le),X=F(W,Z,le),Q=b.ge(ie,$),se=b.gt(ie,X,Q,ie.length-1);re[le]=[Q+K,se+K]}return re}function F(z,N,W){for(var Z=1,q=.5,re=.5,le=.5,ie=0;ie<W;ie++)Z<<=2,Z+=z<q?N<re?0:1:N<re?2:3,le*=.5,q+=z<q?-le:le,re+=N<re?-le:le;return Z}};function l(u,f){for(var g=f[0],h=f[1],w=f[2],c=f[3],a=1/(w-g),d=1/(c-h),x=new Array(u.length),T=0,C=u.length/2;T<C;T++)x[2*T]=P((u[2*T]-g)*a,0,1),x[2*T+1]=P((u[2*T+1]-h)*d,0,1);return x}},40440:function(Y,V,e){Object.defineProperty(V,"__esModule",{value:!0});var b=e(3256),P=6378137;function s(r){return b.geomReduce(r,function(t,o){return t+L(o)},0)}V.default=s;function L(r){var t=0,o;switch(r.type){case"Polygon":return M(r.coordinates);case"MultiPolygon":for(o=0;o<r.coordinates.length;o++)t+=M(r.coordinates[o]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function M(r){var t=0;if(r&&r.length>0){t+=Math.abs(v(r[0]));for(var o=1;o<r.length;o++)t-=Math.abs(v(r[o]))}return t}function v(r){var t,o,n,l,u,f,g,h=0,w=r.length;if(w>2){for(g=0;g<w;g++)g===w-2?(l=w-2,u=w-1,f=0):g===w-1?(l=w-1,u=0,f=1):(l=g,u=g+1,f=g+2),t=r[l],o=r[u],n=r[f],h+=(p(n[0])-p(t[0]))*Math.sin(p(o[1]));h=h*P*P/2}return h}function p(r){return r*Math.PI/180}},46284:function(Y,V){Object.defineProperty(V,"__esModule",{value:!0}),V.earthRadius=63710088e-1,V.factors={centimeters:V.earthRadius*100,centimetres:V.earthRadius*100,degrees:V.earthRadius/111325,feet:V.earthRadius*3.28084,inches:V.earthRadius*39.37,kilometers:V.earthRadius/1e3,kilometres:V.earthRadius/1e3,meters:V.earthRadius,metres:V.earthRadius,miles:V.earthRadius/1609.344,millimeters:V.earthRadius*1e3,millimetres:V.earthRadius*1e3,nauticalmiles:V.earthRadius/1852,radians:1,yards:V.earthRadius*1.0936},V.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/V.earthRadius,yards:1.0936133},V.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(A,i,E){E===void 0&&(E={});var m={type:"Feature"};return(E.id===0||E.id)&&(m.id=E.id),E.bbox&&(m.bbox=E.bbox),m.properties=i||{},m.geometry=A,m}V.feature=e;function b(A,i,E){switch(A){case"Point":return P(i).geometry;case"LineString":return v(i).geometry;case"Polygon":return L(i).geometry;case"MultiPoint":return o(i).geometry;case"MultiLineString":return t(i).geometry;case"MultiPolygon":return n(i).geometry;default:throw new Error(A+" is invalid")}}V.geometry=b;function P(A,i,E){if(E===void 0&&(E={}),!A)throw new Error("coordinates is required");if(!Array.isArray(A))throw new Error("coordinates must be an Array");if(A.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!T(A[0])||!T(A[1]))throw new Error("coordinates must contain numbers");var m={type:"Point",coordinates:A};return e(m,i,E)}V.point=P;function s(A,i,E){return E===void 0&&(E={}),r(A.map(function(m){return P(m,i)}),E)}V.points=s;function L(A,i,E){E===void 0&&(E={});for(var m=0,k=A;m<k.length;m++){var I=k[m];if(I.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var O=0;O<I[I.length-1].length;O++)if(I[I.length-1][O]!==I[0][O])throw new Error("First and last Position are not equivalent.")}var _={type:"Polygon",coordinates:A};return e(_,i,E)}V.polygon=L;function M(A,i,E){return E===void 0&&(E={}),r(A.map(function(m){return L(m,i)}),E)}V.polygons=M;function v(A,i,E){if(E===void 0&&(E={}),A.length<2)throw new Error("coordinates must be an array of two or more positions");var m={type:"LineString",coordinates:A};return e(m,i,E)}V.lineString=v;function p(A,i,E){return E===void 0&&(E={}),r(A.map(function(m){return v(m,i)}),E)}V.lineStrings=p;function r(A,i){i===void 0&&(i={});var E={type:"FeatureCollection"};return i.id&&(E.id=i.id),i.bbox&&(E.bbox=i.bbox),E.features=A,E}V.featureCollection=r;function t(A,i,E){E===void 0&&(E={});var m={type:"MultiLineString",coordinates:A};return e(m,i,E)}V.multiLineString=t;function o(A,i,E){E===void 0&&(E={});var m={type:"MultiPoint",coordinates:A};return e(m,i,E)}V.multiPoint=o;function n(A,i,E){E===void 0&&(E={});var m={type:"MultiPolygon",coordinates:A};return e(m,i,E)}V.multiPolygon=n;function l(A,i,E){E===void 0&&(E={});var m={type:"GeometryCollection",geometries:A};return e(m,i,E)}V.geometryCollection=l;function u(A,i){if(i===void 0&&(i=0),i&&!(i>=0))throw new Error("precision must be a positive number");var E=Math.pow(10,i||0);return Math.round(A*E)/E}V.round=u;function f(A,i){i===void 0&&(i="kilometers");var E=V.factors[i];if(!E)throw new Error(i+" units is invalid");return A*E}V.radiansToLength=f;function g(A,i){i===void 0&&(i="kilometers");var E=V.factors[i];if(!E)throw new Error(i+" units is invalid");return A/E}V.lengthToRadians=g;function h(A,i){return c(g(A,i))}V.lengthToDegrees=h;function w(A){var i=A%360;return i<0&&(i+=360),i}V.bearingToAzimuth=w;function c(A){var i=A%(2*Math.PI);return i*180/Math.PI}V.radiansToDegrees=c;function a(A){var i=A%360;return i*Math.PI/180}V.degreesToRadians=a;function d(A,i,E){if(i===void 0&&(i="kilometers"),E===void 0&&(E="kilometers"),!(A>=0))throw new Error("length must be a positive number");return f(g(A,i),E)}V.convertLength=d;function x(A,i,E){if(i===void 0&&(i="meters"),E===void 0&&(E="kilometers"),!(A>=0))throw new Error("area must be a positive number");var m=V.areaFactors[i];if(!m)throw new Error("invalid original units");var k=V.areaFactors[E];if(!k)throw new Error("invalid final units");return A/m*k}V.convertArea=x;function T(A){return!isNaN(A)&&A!==null&&!Array.isArray(A)}V.isNumber=T;function C(A){return!!A&&A.constructor===Object}V.isObject=C;function y(A){if(!A)throw new Error("bbox is required");if(!Array.isArray(A))throw new Error("bbox must be an Array");if(A.length!==4&&A.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");A.forEach(function(i){if(!T(i))throw new Error("bbox must only contain numbers")})}V.validateBBox=y;function S(A){if(!A)throw new Error("id is required");if(["string","number"].indexOf(typeof A)===-1)throw new Error("id must be a number or a string")}V.validateId=S},3256:function(Y,V,e){Object.defineProperty(V,"__esModule",{value:!0});var b=e(46284);function P(a,d,x){if(a!==null)for(var T,C,y,S,A,i,E,m=0,k=0,I,O=a.type,_=O==="FeatureCollection",B=O==="Feature",F=_?a.features.length:1,z=0;z<F;z++){E=_?a.features[z].geometry:B?a.geometry:a,I=E?E.type==="GeometryCollection":!1,A=I?E.geometries.length:1;for(var N=0;N<A;N++){var W=0,Z=0;if(S=I?E.geometries[N]:E,S!==null){i=S.coordinates;var q=S.type;switch(m=x&&(q==="Polygon"||q==="MultiPolygon")?1:0,q){case null:break;case"Point":if(d(i,k,z,W,Z)===!1)return!1;k++,W++;break;case"LineString":case"MultiPoint":for(T=0;T<i.length;T++){if(d(i[T],k,z,W,Z)===!1)return!1;k++,q==="MultiPoint"&&W++}q==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(T=0;T<i.length;T++){for(C=0;C<i[T].length-m;C++){if(d(i[T][C],k,z,W,Z)===!1)return!1;k++}q==="MultiLineString"&&W++,q==="Polygon"&&Z++}q==="Polygon"&&W++;break;case"MultiPolygon":for(T=0;T<i.length;T++){for(Z=0,C=0;C<i[T].length;C++){for(y=0;y<i[T][C].length-m;y++){if(d(i[T][C][y],k,z,W,Z)===!1)return!1;k++}Z++}W++}break;case"GeometryCollection":for(T=0;T<S.geometries.length;T++)if(P(S.geometries[T],d,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(a,d,x,T){var C=x;return P(a,function(y,S,A,i,E){S===0&&x===void 0?C=y:C=d(C,y,S,A,i,E)},T),C}function L(a,d){var x;switch(a.type){case"FeatureCollection":for(x=0;x<a.features.length&&d(a.features[x].properties,x)!==!1;x++);break;case"Feature":d(a.properties,0);break}}function M(a,d,x){var T=x;return L(a,function(C,y){y===0&&x===void 0?T=C:T=d(T,C,y)}),T}function v(a,d){if(a.type==="Feature")d(a,0);else if(a.type==="FeatureCollection")for(var x=0;x<a.features.length&&d(a.features[x],x)!==!1;x++);}function p(a,d,x){var T=x;return v(a,function(C,y){y===0&&x===void 0?T=C:T=d(T,C,y)}),T}function r(a){var d=[];return P(a,function(x){d.push(x)}),d}function t(a,d){var x,T,C,y,S,A,i,E,m,k,I=0,O=a.type==="FeatureCollection",_=a.type==="Feature",B=O?a.features.length:1;for(x=0;x<B;x++){for(A=O?a.features[x].geometry:_?a.geometry:a,E=O?a.features[x].properties:_?a.properties:{},m=O?a.features[x].bbox:_?a.bbox:void 0,k=O?a.features[x].id:_?a.id:void 0,i=A?A.type==="GeometryCollection":!1,S=i?A.geometries.length:1,C=0;C<S;C++){if(y=i?A.geometries[C]:A,y===null){if(d(null,I,E,m,k)===!1)return!1;continue}switch(y.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(y,I,E,m,k)===!1)return!1;break}case"GeometryCollection":{for(T=0;T<y.geometries.length;T++)if(d(y.geometries[T],I,E,m,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function o(a,d,x){var T=x;return t(a,function(C,y,S,A,i){y===0&&x===void 0?T=C:T=d(T,C,y,S,A,i)}),T}function n(a,d){t(a,function(x,T,C,y,S){var A=x===null?null:x.type;switch(A){case null:case"Point":case"LineString":case"Polygon":return d(b.feature(x,C,{bbox:y,id:S}),T,0)===!1?!1:void 0}var i;switch(A){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon";break}for(var E=0;E<x.coordinates.length;E++){var m=x.coordinates[E],k={type:i,coordinates:m};if(d(b.feature(k,C),T,E)===!1)return!1}})}function l(a,d,x){var T=x;return n(a,function(C,y,S){y===0&&S===0&&x===void 0?T=C:T=d(T,C,y,S)}),T}function u(a,d){n(a,function(x,T,C){var y=0;if(x.geometry){var S=x.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var A,i=0,E=0,m=0;if(P(x,function(k,I,O,_,B){if(A===void 0||T>i||_>E||B>m){A=k,i=T,E=_,m=B,y=0;return}var F=b.lineString([A,k],x.properties);if(d(F,T,C,B,y)===!1)return!1;y++,A=k})===!1)return!1}}})}function f(a,d,x){var T=x,C=!1;return u(a,function(y,S,A,i,E){C===!1&&x===void 0?T=y:T=d(T,y,S,A,i,E),C=!0}),T}function g(a,d){if(!a)throw new Error("geojson is required");n(a,function(x,T,C){if(x.geometry!==null){var y=x.geometry.type,S=x.geometry.coordinates;switch(y){case"LineString":if(d(x,T,C,0,0)===!1)return!1;break;case"Polygon":for(var A=0;A<S.length;A++)if(d(b.lineString(S[A],x.properties),T,C,A)===!1)return!1;break}}})}function h(a,d,x){var T=x;return g(a,function(C,y,S,A){y===0&&x===void 0?T=C:T=d(T,C,y,S,A)}),T}function w(a,d){if(d=d||{},!b.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,T=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.segmentIndex||0,S=d.properties,A;switch(a.type){case"FeatureCollection":x<0&&(x=a.features.length+x),S=S||a.features[x].properties,A=a.features[x].geometry;break;case"Feature":S=S||a.properties,A=a.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=a;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var i=A.coordinates;switch(A.type){case"Point":case"MultiPoint":return null;case"LineString":return y<0&&(y=i.length+y-1),b.lineString([i[y],i[y+1]],S,d);case"Polygon":return C<0&&(C=i.length+C),y<0&&(y=i[C].length+y-1),b.lineString([i[C][y],i[C][y+1]],S,d);case"MultiLineString":return T<0&&(T=i.length+T),y<0&&(y=i[T].length+y-1),b.lineString([i[T][y],i[T][y+1]],S,d);case"MultiPolygon":return T<0&&(T=i.length+T),C<0&&(C=i[T].length+C),y<0&&(y=i[T][C].length-y-1),b.lineString([i[T][C][y],i[T][C][y+1]],S,d)}throw new Error("geojson is invalid")}function c(a,d){if(d=d||{},!b.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,T=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.coordIndex||0,S=d.properties,A;switch(a.type){case"FeatureCollection":x<0&&(x=a.features.length+x),S=S||a.features[x].properties,A=a.features[x].geometry;break;case"Feature":S=S||a.properties,A=a.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=a;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var i=A.coordinates;switch(A.type){case"Point":return b.point(i,S,d);case"MultiPoint":return T<0&&(T=i.length+T),b.point(i[T],S,d);case"LineString":return y<0&&(y=i.length+y),b.point(i[y],S,d);case"Polygon":return C<0&&(C=i.length+C),y<0&&(y=i[C].length+y),b.point(i[C][y],S,d);case"MultiLineString":return T<0&&(T=i.length+T),y<0&&(y=i[T].length+y),b.point(i[T][y],S,d);case"MultiPolygon":return T<0&&(T=i.length+T),C<0&&(C=i[T].length+C),y<0&&(y=i[T][C].length-y),b.point(i[T][C][y],S,d)}throw new Error("geojson is invalid")}V.coordEach=P,V.coordReduce=s,V.propEach=L,V.propReduce=M,V.featureEach=v,V.featureReduce=p,V.coordAll=r,V.geomEach=t,V.geomReduce=o,V.flattenEach=n,V.flattenReduce=l,V.segmentEach=u,V.segmentReduce=f,V.lineEach=g,V.lineReduce=h,V.findSegment=w,V.findPoint=c},42428:function(Y,V,e){Object.defineProperty(V,"__esModule",{value:!0});var b=e(84880);function P(s){var L=[1/0,1/0,-1/0,-1/0];return b.coordEach(s,function(M){L[0]>M[0]&&(L[0]=M[0]),L[1]>M[1]&&(L[1]=M[1]),L[2]<M[0]&&(L[2]=M[0]),L[3]<M[1]&&(L[3]=M[1])}),L}P.default=P,V.default=P},76796:function(Y,V){Object.defineProperty(V,"__esModule",{value:!0}),V.earthRadius=63710088e-1,V.factors={centimeters:V.earthRadius*100,centimetres:V.earthRadius*100,degrees:V.earthRadius/111325,feet:V.earthRadius*3.28084,inches:V.earthRadius*39.37,kilometers:V.earthRadius/1e3,kilometres:V.earthRadius/1e3,meters:V.earthRadius,metres:V.earthRadius,miles:V.earthRadius/1609.344,millimeters:V.earthRadius*1e3,millimetres:V.earthRadius*1e3,nauticalmiles:V.earthRadius/1852,radians:1,yards:V.earthRadius*1.0936},V.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/V.earthRadius,yards:1.0936133},V.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(A,i,E){E===void 0&&(E={});var m={type:"Feature"};return(E.id===0||E.id)&&(m.id=E.id),E.bbox&&(m.bbox=E.bbox),m.properties=i||{},m.geometry=A,m}V.feature=e;function b(A,i,E){switch(A){case"Point":return P(i).geometry;case"LineString":return v(i).geometry;case"Polygon":return L(i).geometry;case"MultiPoint":return o(i).geometry;case"MultiLineString":return t(i).geometry;case"MultiPolygon":return n(i).geometry;default:throw new Error(A+" is invalid")}}V.geometry=b;function P(A,i,E){if(E===void 0&&(E={}),!A)throw new Error("coordinates is required");if(!Array.isArray(A))throw new Error("coordinates must be an Array");if(A.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!T(A[0])||!T(A[1]))throw new Error("coordinates must contain numbers");var m={type:"Point",coordinates:A};return e(m,i,E)}V.point=P;function s(A,i,E){return E===void 0&&(E={}),r(A.map(function(m){return P(m,i)}),E)}V.points=s;function L(A,i,E){E===void 0&&(E={});for(var m=0,k=A;m<k.length;m++){var I=k[m];if(I.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var O=0;O<I[I.length-1].length;O++)if(I[I.length-1][O]!==I[0][O])throw new Error("First and last Position are not equivalent.")}var _={type:"Polygon",coordinates:A};return e(_,i,E)}V.polygon=L;function M(A,i,E){return E===void 0&&(E={}),r(A.map(function(m){return L(m,i)}),E)}V.polygons=M;function v(A,i,E){if(E===void 0&&(E={}),A.length<2)throw new Error("coordinates must be an array of two or more positions");var m={type:"LineString",coordinates:A};return e(m,i,E)}V.lineString=v;function p(A,i,E){return E===void 0&&(E={}),r(A.map(function(m){return v(m,i)}),E)}V.lineStrings=p;function r(A,i){i===void 0&&(i={});var E={type:"FeatureCollection"};return i.id&&(E.id=i.id),i.bbox&&(E.bbox=i.bbox),E.features=A,E}V.featureCollection=r;function t(A,i,E){E===void 0&&(E={});var m={type:"MultiLineString",coordinates:A};return e(m,i,E)}V.multiLineString=t;function o(A,i,E){E===void 0&&(E={});var m={type:"MultiPoint",coordinates:A};return e(m,i,E)}V.multiPoint=o;function n(A,i,E){E===void 0&&(E={});var m={type:"MultiPolygon",coordinates:A};return e(m,i,E)}V.multiPolygon=n;function l(A,i,E){E===void 0&&(E={});var m={type:"GeometryCollection",geometries:A};return e(m,i,E)}V.geometryCollection=l;function u(A,i){if(i===void 0&&(i=0),i&&!(i>=0))throw new Error("precision must be a positive number");var E=Math.pow(10,i||0);return Math.round(A*E)/E}V.round=u;function f(A,i){i===void 0&&(i="kilometers");var E=V.factors[i];if(!E)throw new Error(i+" units is invalid");return A*E}V.radiansToLength=f;function g(A,i){i===void 0&&(i="kilometers");var E=V.factors[i];if(!E)throw new Error(i+" units is invalid");return A/E}V.lengthToRadians=g;function h(A,i){return c(g(A,i))}V.lengthToDegrees=h;function w(A){var i=A%360;return i<0&&(i+=360),i}V.bearingToAzimuth=w;function c(A){var i=A%(2*Math.PI);return i*180/Math.PI}V.radiansToDegrees=c;function a(A){var i=A%360;return i*Math.PI/180}V.degreesToRadians=a;function d(A,i,E){if(i===void 0&&(i="kilometers"),E===void 0&&(E="kilometers"),!(A>=0))throw new Error("length must be a positive number");return f(g(A,i),E)}V.convertLength=d;function x(A,i,E){if(i===void 0&&(i="meters"),E===void 0&&(E="kilometers"),!(A>=0))throw new Error("area must be a positive number");var m=V.areaFactors[i];if(!m)throw new Error("invalid original units");var k=V.areaFactors[E];if(!k)throw new Error("invalid final units");return A/m*k}V.convertArea=x;function T(A){return!isNaN(A)&&A!==null&&!Array.isArray(A)}V.isNumber=T;function C(A){return!!A&&A.constructor===Object}V.isObject=C;function y(A){if(!A)throw new Error("bbox is required");if(!Array.isArray(A))throw new Error("bbox must be an Array");if(A.length!==4&&A.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");A.forEach(function(i){if(!T(i))throw new Error("bbox must only contain numbers")})}V.validateBBox=y;function S(A){if(!A)throw new Error("id is required");if(["string","number"].indexOf(typeof A)===-1)throw new Error("id must be a number or a string")}V.validateId=S},84880:function(Y,V,e){Object.defineProperty(V,"__esModule",{value:!0});var b=e(76796);function P(a,d,x){if(a!==null)for(var T,C,y,S,A,i,E,m=0,k=0,I,O=a.type,_=O==="FeatureCollection",B=O==="Feature",F=_?a.features.length:1,z=0;z<F;z++){E=_?a.features[z].geometry:B?a.geometry:a,I=E?E.type==="GeometryCollection":!1,A=I?E.geometries.length:1;for(var N=0;N<A;N++){var W=0,Z=0;if(S=I?E.geometries[N]:E,S!==null){i=S.coordinates;var q=S.type;switch(m=x&&(q==="Polygon"||q==="MultiPolygon")?1:0,q){case null:break;case"Point":if(d(i,k,z,W,Z)===!1)return!1;k++,W++;break;case"LineString":case"MultiPoint":for(T=0;T<i.length;T++){if(d(i[T],k,z,W,Z)===!1)return!1;k++,q==="MultiPoint"&&W++}q==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(T=0;T<i.length;T++){for(C=0;C<i[T].length-m;C++){if(d(i[T][C],k,z,W,Z)===!1)return!1;k++}q==="MultiLineString"&&W++,q==="Polygon"&&Z++}q==="Polygon"&&W++;break;case"MultiPolygon":for(T=0;T<i.length;T++){for(Z=0,C=0;C<i[T].length;C++){for(y=0;y<i[T][C].length-m;y++){if(d(i[T][C][y],k,z,W,Z)===!1)return!1;k++}Z++}W++}break;case"GeometryCollection":for(T=0;T<S.geometries.length;T++)if(P(S.geometries[T],d,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(a,d,x,T){var C=x;return P(a,function(y,S,A,i,E){S===0&&x===void 0?C=y:C=d(C,y,S,A,i,E)},T),C}function L(a,d){var x;switch(a.type){case"FeatureCollection":for(x=0;x<a.features.length&&d(a.features[x].properties,x)!==!1;x++);break;case"Feature":d(a.properties,0);break}}function M(a,d,x){var T=x;return L(a,function(C,y){y===0&&x===void 0?T=C:T=d(T,C,y)}),T}function v(a,d){if(a.type==="Feature")d(a,0);else if(a.type==="FeatureCollection")for(var x=0;x<a.features.length&&d(a.features[x],x)!==!1;x++);}function p(a,d,x){var T=x;return v(a,function(C,y){y===0&&x===void 0?T=C:T=d(T,C,y)}),T}function r(a){var d=[];return P(a,function(x){d.push(x)}),d}function t(a,d){var x,T,C,y,S,A,i,E,m,k,I=0,O=a.type==="FeatureCollection",_=a.type==="Feature",B=O?a.features.length:1;for(x=0;x<B;x++){for(A=O?a.features[x].geometry:_?a.geometry:a,E=O?a.features[x].properties:_?a.properties:{},m=O?a.features[x].bbox:_?a.bbox:void 0,k=O?a.features[x].id:_?a.id:void 0,i=A?A.type==="GeometryCollection":!1,S=i?A.geometries.length:1,C=0;C<S;C++){if(y=i?A.geometries[C]:A,y===null){if(d(null,I,E,m,k)===!1)return!1;continue}switch(y.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(y,I,E,m,k)===!1)return!1;break}case"GeometryCollection":{for(T=0;T<y.geometries.length;T++)if(d(y.geometries[T],I,E,m,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function o(a,d,x){var T=x;return t(a,function(C,y,S,A,i){y===0&&x===void 0?T=C:T=d(T,C,y,S,A,i)}),T}function n(a,d){t(a,function(x,T,C,y,S){var A=x===null?null:x.type;switch(A){case null:case"Point":case"LineString":case"Polygon":return d(b.feature(x,C,{bbox:y,id:S}),T,0)===!1?!1:void 0}var i;switch(A){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon";break}for(var E=0;E<x.coordinates.length;E++){var m=x.coordinates[E],k={type:i,coordinates:m};if(d(b.feature(k,C),T,E)===!1)return!1}})}function l(a,d,x){var T=x;return n(a,function(C,y,S){y===0&&S===0&&x===void 0?T=C:T=d(T,C,y,S)}),T}function u(a,d){n(a,function(x,T,C){var y=0;if(x.geometry){var S=x.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var A,i=0,E=0,m=0;if(P(x,function(k,I,O,_,B){if(A===void 0||T>i||_>E||B>m){A=k,i=T,E=_,m=B,y=0;return}var F=b.lineString([A,k],x.properties);if(d(F,T,C,B,y)===!1)return!1;y++,A=k})===!1)return!1}}})}function f(a,d,x){var T=x,C=!1;return u(a,function(y,S,A,i,E){C===!1&&x===void 0?T=y:T=d(T,y,S,A,i,E),C=!0}),T}function g(a,d){if(!a)throw new Error("geojson is required");n(a,function(x,T,C){if(x.geometry!==null){var y=x.geometry.type,S=x.geometry.coordinates;switch(y){case"LineString":if(d(x,T,C,0,0)===!1)return!1;break;case"Polygon":for(var A=0;A<S.length;A++)if(d(b.lineString(S[A],x.properties),T,C,A)===!1)return!1;break}}})}function h(a,d,x){var T=x;return g(a,function(C,y,S,A){y===0&&x===void 0?T=C:T=d(T,C,y,S,A)}),T}function w(a,d){if(d=d||{},!b.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,T=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.segmentIndex||0,S=d.properties,A;switch(a.type){case"FeatureCollection":x<0&&(x=a.features.length+x),S=S||a.features[x].properties,A=a.features[x].geometry;break;case"Feature":S=S||a.properties,A=a.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=a;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var i=A.coordinates;switch(A.type){case"Point":case"MultiPoint":return null;case"LineString":return y<0&&(y=i.length+y-1),b.lineString([i[y],i[y+1]],S,d);case"Polygon":return C<0&&(C=i.length+C),y<0&&(y=i[C].length+y-1),b.lineString([i[C][y],i[C][y+1]],S,d);case"MultiLineString":return T<0&&(T=i.length+T),y<0&&(y=i[T].length+y-1),b.lineString([i[T][y],i[T][y+1]],S,d);case"MultiPolygon":return T<0&&(T=i.length+T),C<0&&(C=i[T].length+C),y<0&&(y=i[T][C].length-y-1),b.lineString([i[T][C][y],i[T][C][y+1]],S,d)}throw new Error("geojson is invalid")}function c(a,d){if(d=d||{},!b.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,T=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.coordIndex||0,S=d.properties,A;switch(a.type){case"FeatureCollection":x<0&&(x=a.features.length+x),S=S||a.features[x].properties,A=a.features[x].geometry;break;case"Feature":S=S||a.properties,A=a.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=a;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var i=A.coordinates;switch(A.type){case"Point":return b.point(i,S,d);case"MultiPoint":return T<0&&(T=i.length+T),b.point(i[T],S,d);case"LineString":return y<0&&(y=i.length+y),b.point(i[y],S,d);case"Polygon":return C<0&&(C=i.length+C),y<0&&(y=i[C].length+y),b.point(i[C][y],S,d);case"MultiLineString":return T<0&&(T=i.length+T),y<0&&(y=i[T].length+y),b.point(i[T][y],S,d);case"MultiPolygon":return T<0&&(T=i.length+T),C<0&&(C=i[T].length+C),y<0&&(y=i[T][C].length-y),b.point(i[T][C][y],S,d)}throw new Error("geojson is invalid")}V.coordEach=P,V.coordReduce=s,V.propEach=L,V.propReduce=M,V.featureEach=v,V.featureReduce=p,V.coordAll=r,V.geomEach=t,V.geomReduce=o,V.flattenEach=n,V.flattenReduce=l,V.segmentEach=u,V.segmentReduce=f,V.lineEach=g,V.lineReduce=h,V.findSegment=w,V.findPoint=c},77844:function(Y,V,e){Object.defineProperty(V,"__esModule",{value:!0});var b=e(43752),P=e(49840);function s(L,M){M===void 0&&(M={});var v=0,p=0,r=0;return b.coordEach(L,function(t){v+=t[0],p+=t[1],r++}),P.point([v/r,p/r],M.properties)}V.default=s},49840:function(Y,V){Object.defineProperty(V,"__esModule",{value:!0}),V.earthRadius=63710088e-1,V.factors={centimeters:V.earthRadius*100,centimetres:V.earthRadius*100,degrees:V.earthRadius/111325,feet:V.earthRadius*3.28084,inches:V.earthRadius*39.37,kilometers:V.earthRadius/1e3,kilometres:V.earthRadius/1e3,meters:V.earthRadius,metres:V.earthRadius,miles:V.earthRadius/1609.344,millimeters:V.earthRadius*1e3,millimetres:V.earthRadius*1e3,nauticalmiles:V.earthRadius/1852,radians:1,yards:V.earthRadius/1.0936},V.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/V.earthRadius,yards:.91441111923921},V.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(_,B,F){F===void 0&&(F={});var z={type:"Feature"};return(F.id===0||F.id)&&(z.id=F.id),F.bbox&&(z.bbox=F.bbox),z.properties=B||{},z.geometry=_,z}V.feature=e;function b(_,B,F){switch(_){case"Point":return P(B).geometry;case"LineString":return v(B).geometry;case"Polygon":return L(B).geometry;case"MultiPoint":return o(B).geometry;case"MultiLineString":return t(B).geometry;case"MultiPolygon":return n(B).geometry;default:throw new Error(_+" is invalid")}}V.geometry=b;function P(_,B,F){F===void 0&&(F={});var z={type:"Point",coordinates:_};return e(z,B,F)}V.point=P;function s(_,B,F){return F===void 0&&(F={}),r(_.map(function(z){return P(z,B)}),F)}V.points=s;function L(_,B,F){F===void 0&&(F={});for(var z=0,N=_;z<N.length;z++){var W=N[z];if(W.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var Z=0;Z<W[W.length-1].length;Z++)if(W[W.length-1][Z]!==W[0][Z])throw new Error("First and last Position are not equivalent.")}var q={type:"Polygon",coordinates:_};return e(q,B,F)}V.polygon=L;function M(_,B,F){return F===void 0&&(F={}),r(_.map(function(z){return L(z,B)}),F)}V.polygons=M;function v(_,B,F){if(F===void 0&&(F={}),_.length<2)throw new Error("coordinates must be an array of two or more positions");var z={type:"LineString",coordinates:_};return e(z,B,F)}V.lineString=v;function p(_,B,F){return F===void 0&&(F={}),r(_.map(function(z){return v(z,B)}),F)}V.lineStrings=p;function r(_,B){B===void 0&&(B={});var F={type:"FeatureCollection"};return B.id&&(F.id=B.id),B.bbox&&(F.bbox=B.bbox),F.features=_,F}V.featureCollection=r;function t(_,B,F){F===void 0&&(F={});var z={type:"MultiLineString",coordinates:_};return e(z,B,F)}V.multiLineString=t;function o(_,B,F){F===void 0&&(F={});var z={type:"MultiPoint",coordinates:_};return e(z,B,F)}V.multiPoint=o;function n(_,B,F){F===void 0&&(F={});var z={type:"MultiPolygon",coordinates:_};return e(z,B,F)}V.multiPolygon=n;function l(_,B,F){F===void 0&&(F={});var z={type:"GeometryCollection",geometries:_};return e(z,B,F)}V.geometryCollection=l;function u(_,B){if(B===void 0&&(B=0),B&&!(B>=0))throw new Error("precision must be a positive number");var F=Math.pow(10,B||0);return Math.round(_*F)/F}V.round=u;function f(_,B){B===void 0&&(B="kilometers");var F=V.factors[B];if(!F)throw new Error(B+" units is invalid");return _*F}V.radiansToLength=f;function g(_,B){B===void 0&&(B="kilometers");var F=V.factors[B];if(!F)throw new Error(B+" units is invalid");return _/F}V.lengthToRadians=g;function h(_,B){return c(g(_,B))}V.lengthToDegrees=h;function w(_){var B=_%360;return B<0&&(B+=360),B}V.bearingToAzimuth=w;function c(_){var B=_%(2*Math.PI);return B*180/Math.PI}V.radiansToDegrees=c;function a(_){var B=_%360;return B*Math.PI/180}V.degreesToRadians=a;function d(_,B,F){if(B===void 0&&(B="kilometers"),F===void 0&&(F="kilometers"),!(_>=0))throw new Error("length must be a positive number");return f(g(_,B),F)}V.convertLength=d;function x(_,B,F){if(B===void 0&&(B="meters"),F===void 0&&(F="kilometers"),!(_>=0))throw new Error("area must be a positive number");var z=V.areaFactors[B];if(!z)throw new Error("invalid original units");var N=V.areaFactors[F];if(!N)throw new Error("invalid final units");return _/z*N}V.convertArea=x;function T(_){return!isNaN(_)&&_!==null&&!Array.isArray(_)&&!/^\s*$/.test(_)}V.isNumber=T;function C(_){return!!_&&_.constructor===Object}V.isObject=C;function y(_){if(!_)throw new Error("bbox is required");if(!Array.isArray(_))throw new Error("bbox must be an Array");if(_.length!==4&&_.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");_.forEach(function(B){if(!T(B))throw new Error("bbox must only contain numbers")})}V.validateBBox=y;function S(_){if(!_)throw new Error("id is required");if(["string","number"].indexOf(typeof _)===-1)throw new Error("id must be a number or a string")}V.validateId=S;function A(){throw new Error("method has been renamed to `radiansToDegrees`")}V.radians2degrees=A;function i(){throw new Error("method has been renamed to `degreesToRadians`")}V.degrees2radians=i;function E(){throw new Error("method has been renamed to `lengthToDegrees`")}V.distanceToDegrees=E;function m(){throw new Error("method has been renamed to `lengthToRadians`")}V.distanceToRadians=m;function k(){throw new Error("method has been renamed to `radiansToLength`")}V.radiansToDistance=k;function I(){throw new Error("method has been renamed to `bearingToAzimuth`")}V.bearingToAngle=I;function O(){throw new Error("method has been renamed to `convertLength`")}V.convertDistance=O},43752:function(Y,V,e){Object.defineProperty(V,"__esModule",{value:!0});var b=e(49840);function P(a,d,x){if(a!==null)for(var T,C,y,S,A,i,E,m=0,k=0,I,O=a.type,_=O==="FeatureCollection",B=O==="Feature",F=_?a.features.length:1,z=0;z<F;z++){E=_?a.features[z].geometry:B?a.geometry:a,I=E?E.type==="GeometryCollection":!1,A=I?E.geometries.length:1;for(var N=0;N<A;N++){var W=0,Z=0;if(S=I?E.geometries[N]:E,S!==null){i=S.coordinates;var q=S.type;switch(m=x&&(q==="Polygon"||q==="MultiPolygon")?1:0,q){case null:break;case"Point":if(d(i,k,z,W,Z)===!1)return!1;k++,W++;break;case"LineString":case"MultiPoint":for(T=0;T<i.length;T++){if(d(i[T],k,z,W,Z)===!1)return!1;k++,q==="MultiPoint"&&W++}q==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(T=0;T<i.length;T++){for(C=0;C<i[T].length-m;C++){if(d(i[T][C],k,z,W,Z)===!1)return!1;k++}q==="MultiLineString"&&W++,q==="Polygon"&&Z++}q==="Polygon"&&W++;break;case"MultiPolygon":for(T=0;T<i.length;T++){for(Z=0,C=0;C<i[T].length;C++){for(y=0;y<i[T][C].length-m;y++){if(d(i[T][C][y],k,z,W,Z)===!1)return!1;k++}Z++}W++}break;case"GeometryCollection":for(T=0;T<S.geometries.length;T++)if(P(S.geometries[T],d,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(a,d,x,T){var C=x;return P(a,function(y,S,A,i,E){S===0&&x===void 0?C=y:C=d(C,y,S,A,i,E)},T),C}function L(a,d){var x;switch(a.type){case"FeatureCollection":for(x=0;x<a.features.length&&d(a.features[x].properties,x)!==!1;x++);break;case"Feature":d(a.properties,0);break}}function M(a,d,x){var T=x;return L(a,function(C,y){y===0&&x===void 0?T=C:T=d(T,C,y)}),T}function v(a,d){if(a.type==="Feature")d(a,0);else if(a.type==="FeatureCollection")for(var x=0;x<a.features.length&&d(a.features[x],x)!==!1;x++);}function p(a,d,x){var T=x;return v(a,function(C,y){y===0&&x===void 0?T=C:T=d(T,C,y)}),T}function r(a){var d=[];return P(a,function(x){d.push(x)}),d}function t(a,d){var x,T,C,y,S,A,i,E,m,k,I=0,O=a.type==="FeatureCollection",_=a.type==="Feature",B=O?a.features.length:1;for(x=0;x<B;x++){for(A=O?a.features[x].geometry:_?a.geometry:a,E=O?a.features[x].properties:_?a.properties:{},m=O?a.features[x].bbox:_?a.bbox:void 0,k=O?a.features[x].id:_?a.id:void 0,i=A?A.type==="GeometryCollection":!1,S=i?A.geometries.length:1,C=0;C<S;C++){if(y=i?A.geometries[C]:A,y===null){if(d(null,I,E,m,k)===!1)return!1;continue}switch(y.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(y,I,E,m,k)===!1)return!1;break}case"GeometryCollection":{for(T=0;T<y.geometries.length;T++)if(d(y.geometries[T],I,E,m,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function o(a,d,x){var T=x;return t(a,function(C,y,S,A,i){y===0&&x===void 0?T=C:T=d(T,C,y,S,A,i)}),T}function n(a,d){t(a,function(x,T,C,y,S){var A=x===null?null:x.type;switch(A){case null:case"Point":case"LineString":case"Polygon":return d(b.feature(x,C,{bbox:y,id:S}),T,0)===!1?!1:void 0}var i;switch(A){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon";break}for(var E=0;E<x.coordinates.length;E++){var m=x.coordinates[E],k={type:i,coordinates:m};if(d(b.feature(k,C),T,E)===!1)return!1}})}function l(a,d,x){var T=x;return n(a,function(C,y,S){y===0&&S===0&&x===void 0?T=C:T=d(T,C,y,S)}),T}function u(a,d){n(a,function(x,T,C){var y=0;if(x.geometry){var S=x.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var A,i=0,E=0,m=0;if(P(x,function(k,I,O,_,B){if(A===void 0||T>i||_>E||B>m){A=k,i=T,E=_,m=B,y=0;return}var F=b.lineString([A,k],x.properties);if(d(F,T,C,B,y)===!1)return!1;y++,A=k})===!1)return!1}}})}function f(a,d,x){var T=x,C=!1;return u(a,function(y,S,A,i,E){C===!1&&x===void 0?T=y:T=d(T,y,S,A,i,E),C=!0}),T}function g(a,d){if(!a)throw new Error("geojson is required");n(a,function(x,T,C){if(x.geometry!==null){var y=x.geometry.type,S=x.geometry.coordinates;switch(y){case"LineString":if(d(x,T,C,0,0)===!1)return!1;break;case"Polygon":for(var A=0;A<S.length;A++)if(d(b.lineString(S[A],x.properties),T,C,A)===!1)return!1;break}}})}function h(a,d,x){var T=x;return g(a,function(C,y,S,A){y===0&&x===void 0?T=C:T=d(T,C,y,S,A)}),T}function w(a,d){if(d=d||{},!b.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,T=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.segmentIndex||0,S=d.properties,A;switch(a.type){case"FeatureCollection":x<0&&(x=a.features.length+x),S=S||a.features[x].properties,A=a.features[x].geometry;break;case"Feature":S=S||a.properties,A=a.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=a;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var i=A.coordinates;switch(A.type){case"Point":case"MultiPoint":return null;case"LineString":return y<0&&(y=i.length+y-1),b.lineString([i[y],i[y+1]],S,d);case"Polygon":return C<0&&(C=i.length+C),y<0&&(y=i[C].length+y-1),b.lineString([i[C][y],i[C][y+1]],S,d);case"MultiLineString":return T<0&&(T=i.length+T),y<0&&(y=i[T].length+y-1),b.lineString([i[T][y],i[T][y+1]],S,d);case"MultiPolygon":return T<0&&(T=i.length+T),C<0&&(C=i[T].length+C),y<0&&(y=i[T][C].length-y-1),b.lineString([i[T][C][y],i[T][C][y+1]],S,d)}throw new Error("geojson is invalid")}function c(a,d){if(d=d||{},!b.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,T=d.multiFeatureIndex||0,C=d.geometryIndex||0,y=d.coordIndex||0,S=d.properties,A;switch(a.type){case"FeatureCollection":x<0&&(x=a.features.length+x),S=S||a.features[x].properties,A=a.features[x].geometry;break;case"Feature":S=S||a.properties,A=a.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=a;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var i=A.coordinates;switch(A.type){case"Point":return b.point(i,S,d);case"MultiPoint":return T<0&&(T=i.length+T),b.point(i[T],S,d);case"LineString":return y<0&&(y=i.length+y),b.point(i[y],S,d);case"Polygon":return C<0&&(C=i.length+C),y<0&&(y=i[C].length+y),b.point(i[C][y],S,d);case"MultiLineString":return T<0&&(T=i.length+T),y<0&&(y=i[T].length+y),b.point(i[T][y],S,d);case"MultiPolygon":return T<0&&(T=i.length+T),C<0&&(C=i[T].length+C),y<0&&(y=i[T][C].length-y),b.point(i[T][C][y],S,d)}throw new Error("geojson is invalid")}V.coordEach=P,V.coordReduce=s,V.propEach=L,V.propReduce=M,V.featureEach=v,V.featureReduce=p,V.coordAll=r,V.geomEach=t,V.geomReduce=o,V.flattenEach=n,V.flattenReduce=l,V.segmentEach=u,V.segmentReduce=f,V.lineEach=g,V.lineReduce=h,V.findSegment=w,V.findPoint=c},49972:function(Y){Y.exports=V;function V(e){var b=0,P=0,s=0,L=0;return e.map(function(M){M=M.slice();var v=M[0],p=v.toUpperCase();if(v!=p)switch(M[0]=p,v){case"a":M[6]+=s,M[7]+=L;break;case"v":M[1]+=L;break;case"h":M[1]+=s;break;default:for(var r=1;r<M.length;)M[r++]+=s,M[r++]+=L}switch(p){case"Z":s=b,L=P;break;case"H":s=M[1];break;case"V":L=M[1];break;case"M":s=b=M[1],L=P=M[2];break;default:s=M[M.length-2],L=M[M.length-1]}return M})}},76752:function(Y){Y.exports=V;function V(e,b){if(!e||e.length==null)throw Error("Argument should be an array");b==null?b=1:b=Math.floor(b);for(var P=Array(b*2),s=0;s<b;s++){for(var L=-1/0,M=1/0,v=s,p=e.length;v<p;v+=b)e[v]>L&&(L=e[v]),e[v]<M&&(M=e[v]);P[s]=M,P[b+s]=L}return P}},10272:function(Y){Y.exports=function(V,e,b){if(typeof Array.prototype.findIndex=="function")return V.findIndex(e,b);if(typeof e!="function")throw new TypeError("predicate must be a function");var P=Object(V),s=P.length;if(s===0)return-1;for(var L=0;L<s;L++)if(e.call(b,P[L],L,P))return L;return-1}},71152:function(Y,V,e){var b=e(76752);Y.exports=P;function P(s,L,M){if(!s||s.length==null)throw Error("Argument should be an array");L==null&&(L=1),M==null&&(M=b(s,L));for(var v=0;v<L;v++){var p=M[L+v],r=M[v],t=v,o=s.length;if(p===1/0&&r===-1/0)for(t=v;t<o;t+=L)s[t]=s[t]===p?1:s[t]===r?0:.5;else if(p===1/0)for(t=v;t<o;t+=L)s[t]=s[t]===p?1:0;else if(r===-1/0)for(t=v;t<o;t+=L)s[t]=s[t]===r?0:1;else{var n=p-r;for(t=v;t<o;t+=L)isNaN(s[t])||(s[t]=n===0?.5:(s[t]-r)/n)}}return s}},67752:function(Y){Y.exports=function(e,b){var P=typeof e=="number",s=typeof b=="number";P&&!s?(b=e,e=0):!P&&!s&&(e=0,b=0),e=e|0,b=b|0;var L=b-e;if(L<0)throw new Error("array length must be positive");for(var M=new Array(L),v=0,p=e;v<L;v++,p++)M[v]=p;return M}},45408:function(Y,V,e){var b=e(4168);function P(Z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P=function(re){return typeof re}:P=function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re},P(Z)}function s(Z,q){if(!(Z instanceof q))throw new TypeError("Cannot call a class as a function")}var L=e(86832),M=L.codes,v=M.ERR_AMBIGUOUS_ARGUMENT,p=M.ERR_INVALID_ARG_TYPE,r=M.ERR_INVALID_ARG_VALUE,t=M.ERR_INVALID_RETURN_VALUE,o=M.ERR_MISSING_ARGS,n=e(26144),l=e(35840),u=l.inspect,f=e(35840).types,g=f.isPromise,h=f.isRegExp,w=Object.assign?Object.assign:e(60964).assign,c=Object.is?Object.is:e(39896),a,d;function x(){var Z=e(25116);a=Z.isDeepEqual,d=Z.isDeepStrictEqual}var T=!1,C=Y.exports=E,y={};function S(Z){throw Z.message instanceof Error?Z.message:new n(Z)}function A(Z,q,re,le,ie){var K=arguments.length,$;if(K===0)$="Failed";else if(K===1)re=Z,Z=void 0;else{if(T===!1){T=!0;var X=b.emitWarning?b.emitWarning:console.warn.bind(console);X("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}K===2&&(le="!=")}if(re instanceof Error)throw re;var Q={actual:Z,expected:q,operator:le===void 0?"fail":le,stackStartFn:ie||A};re!==void 0&&(Q.message=re);var se=new n(Q);throw $&&(se.message=$,se.generatedMessage=!0),se}C.fail=A,C.AssertionError=n;function i(Z,q,re,le){if(!re){var ie=!1;if(q===0)ie=!0,le="No value argument passed to `assert.ok()`";else if(le instanceof Error)throw le;var K=new n({actual:re,expected:!0,message:le,operator:"==",stackStartFn:Z});throw K.generatedMessage=ie,K}}function E(){for(var Z=arguments.length,q=new Array(Z),re=0;re<Z;re++)q[re]=arguments[re];i.apply(void 0,[E,q.length].concat(q))}C.ok=E,C.equal=function Z(q,re,le){if(arguments.length<2)throw new o("actual","expected");q!=re&&S({actual:q,expected:re,message:le,operator:"==",stackStartFn:Z})},C.notEqual=function Z(q,re,le){if(arguments.length<2)throw new o("actual","expected");q==re&&S({actual:q,expected:re,message:le,operator:"!=",stackStartFn:Z})},C.deepEqual=function Z(q,re,le){if(arguments.length<2)throw new o("actual","expected");a===void 0&&x(),a(q,re)||S({actual:q,expected:re,message:le,operator:"deepEqual",stackStartFn:Z})},C.notDeepEqual=function Z(q,re,le){if(arguments.length<2)throw new o("actual","expected");a===void 0&&x(),a(q,re)&&S({actual:q,expected:re,message:le,operator:"notDeepEqual",stackStartFn:Z})},C.deepStrictEqual=function Z(q,re,le){if(arguments.length<2)throw new o("actual","expected");a===void 0&&x(),d(q,re)||S({actual:q,expected:re,message:le,operator:"deepStrictEqual",stackStartFn:Z})},C.notDeepStrictEqual=m;function m(Z,q,re){if(arguments.length<2)throw new o("actual","expected");a===void 0&&x(),d(Z,q)&&S({actual:Z,expected:q,message:re,operator:"notDeepStrictEqual",stackStartFn:m})}C.strictEqual=function Z(q,re,le){if(arguments.length<2)throw new o("actual","expected");c(q,re)||S({actual:q,expected:re,message:le,operator:"strictEqual",stackStartFn:Z})},C.notStrictEqual=function Z(q,re,le){if(arguments.length<2)throw new o("actual","expected");c(q,re)&&S({actual:q,expected:re,message:le,operator:"notStrictEqual",stackStartFn:Z})};var k=function Z(q,re,le){var ie=this;s(this,Z),re.forEach(function(K){K in q&&(le!==void 0&&typeof le[K]=="string"&&h(q[K])&&q[K].test(le[K])?ie[K]=le[K]:ie[K]=q[K])})};function I(Z,q,re,le,ie,K){if(!(re in Z)||!d(Z[re],q[re])){if(!le){var $=new k(Z,ie),X=new k(q,ie,Z),Q=new n({actual:$,expected:X,operator:"deepStrictEqual",stackStartFn:K});throw Q.actual=Z,Q.expected=q,Q.operator=K.name,Q}S({actual:Z,expected:q,message:le,operator:K.name,stackStartFn:K})}}function O(Z,q,re,le){if(typeof q!="function"){if(h(q))return q.test(Z);if(arguments.length===2)throw new p("expected",["Function","RegExp"],q);if(P(Z)!=="object"||Z===null){var ie=new n({actual:Z,expected:q,message:re,operator:"deepStrictEqual",stackStartFn:le});throw ie.operator=le.name,ie}var K=Object.keys(q);if(q instanceof Error)K.push("name","message");else if(K.length===0)throw new r("error",q,"may not be an empty object");return a===void 0&&x(),K.forEach(function($){typeof Z[$]=="string"&&h(q[$])&&q[$].test(Z[$])||I(Z,q,$,re,K,le)}),!0}return q.prototype!==void 0&&Z instanceof q?!0:Error.isPrototypeOf(q)?!1:q.call({},Z)===!0}function _(Z){if(typeof Z!="function")throw new p("fn","Function",Z);try{Z()}catch(q){return q}return y}function B(Z){return g(Z)||Z!==null&&P(Z)==="object"&&typeof Z.then=="function"&&typeof Z.catch=="function"}function F(Z){return Promise.resolve().then(function(){var q;if(typeof Z=="function"){if(q=Z(),!B(q))throw new t("instance of Promise","promiseFn",q)}else if(B(Z))q=Z;else throw new p("promiseFn",["Function","Promise"],Z);return Promise.resolve().then(function(){return q}).then(function(){return y}).catch(function(re){return re})})}function z(Z,q,re,le){if(typeof re=="string"){if(arguments.length===4)throw new p("error",["Object","Error","Function","RegExp"],re);if(P(q)==="object"&&q!==null){if(q.message===re)throw new v("error/message",'The error message "'.concat(q.message,'" is identical to the message.'))}else if(q===re)throw new v("error/message",'The error "'.concat(q,'" is identical to the message.'));le=re,re=void 0}else if(re!=null&&P(re)!=="object"&&typeof re!="function")throw new p("error",["Object","Error","Function","RegExp"],re);if(q===y){var ie="";re&&re.name&&(ie+=" (".concat(re.name,")")),ie+=le?": ".concat(le):".";var K=Z.name==="rejects"?"rejection":"exception";S({actual:void 0,expected:re,operator:Z.name,message:"Missing expected ".concat(K).concat(ie),stackStartFn:Z})}if(re&&!O(q,re,le,Z))throw q}function N(Z,q,re,le){if(q!==y){if(typeof re=="string"&&(le=re,re=void 0),!re||O(q,re)){var ie=le?": ".concat(le):".",K=Z.name==="doesNotReject"?"rejection":"exception";S({actual:q,expected:re,operator:Z.name,message:"Got unwanted ".concat(K).concat(ie,`
`)+'Actual message: "'.concat(q&&q.message,'"'),stackStartFn:Z})}throw q}}C.throws=function Z(q){for(var re=arguments.length,le=new Array(re>1?re-1:0),ie=1;ie<re;ie++)le[ie-1]=arguments[ie];z.apply(void 0,[Z,_(q)].concat(le))},C.rejects=function Z(q){for(var re=arguments.length,le=new Array(re>1?re-1:0),ie=1;ie<re;ie++)le[ie-1]=arguments[ie];return F(q).then(function(K){return z.apply(void 0,[Z,K].concat(le))})},C.doesNotThrow=function Z(q){for(var re=arguments.length,le=new Array(re>1?re-1:0),ie=1;ie<re;ie++)le[ie-1]=arguments[ie];N.apply(void 0,[Z,_(q)].concat(le))},C.doesNotReject=function Z(q){for(var re=arguments.length,le=new Array(re>1?re-1:0),ie=1;ie<re;ie++)le[ie-1]=arguments[ie];return F(q).then(function(K){return N.apply(void 0,[Z,K].concat(le))})},C.ifError=function Z(q){if(q!=null){var re="ifError got unwanted exception: ";P(q)==="object"&&typeof q.message=="string"?q.message.length===0&&q.constructor?re+=q.constructor.name:re+=q.message:re+=u(q);var le=new n({actual:q,expected:null,operator:"ifError",message:re,stackStartFn:Z}),ie=q.stack;if(typeof ie=="string"){var K=ie.split(`
`);K.shift();for(var $=le.stack.split(`
`),X=0;X<K.length;X++){var Q=$.indexOf(K[X]);if(Q!==-1){$=$.slice(0,Q);break}}le.stack="".concat($.join(`
`),`
`).concat(K.join(`
`))}throw le}};function W(){for(var Z=arguments.length,q=new Array(Z),re=0;re<Z;re++)q[re]=arguments[re];i.apply(void 0,[W,q.length].concat(q))}C.strict=w(W,C,{equal:C.strictEqual,deepEqual:C.deepStrictEqual,notEqual:C.notStrictEqual,notDeepEqual:C.notDeepStrictEqual}),C.strict.strict=C.strict},26144:function(Y,V,e){var b=e(4168);function P(_){for(var B=1;B<arguments.length;B++){var F=arguments[B]!=null?arguments[B]:{},z=Object.keys(F);typeof Object.getOwnPropertySymbols=="function"&&(z=z.concat(Object.getOwnPropertySymbols(F).filter(function(N){return Object.getOwnPropertyDescriptor(F,N).enumerable}))),z.forEach(function(N){s(_,N,F[N])})}return _}function s(_,B,F){return B in _?Object.defineProperty(_,B,{value:F,enumerable:!0,configurable:!0,writable:!0}):_[B]=F,_}function L(_,B){if(!(_ instanceof B))throw new TypeError("Cannot call a class as a function")}function M(_,B){for(var F=0;F<B.length;F++){var z=B[F];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(_,z.key,z)}}function v(_,B,F){return B&&M(_.prototype,B),_}function p(_,B){return B&&(h(B)==="object"||typeof B=="function")?B:r(_)}function r(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function t(_,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(B&&B.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),B&&f(_,B)}function o(_){var B=typeof Map=="function"?new Map:void 0;return o=function(z){if(z===null||!u(z))return z;if(typeof z!="function")throw new TypeError("Super expression must either be null or a function");if(typeof B<"u"){if(B.has(z))return B.get(z);B.set(z,N)}function N(){return l(z,arguments,g(this).constructor)}return N.prototype=Object.create(z.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),f(N,z)},o(_)}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function l(_,B,F){return n()?l=Reflect.construct:l=function(N,W,Z){var q=[null];q.push.apply(q,W);var re=Function.bind.apply(N,q),le=new re;return Z&&f(le,Z.prototype),le},l.apply(null,arguments)}function u(_){return Function.toString.call(_).indexOf("[native code]")!==-1}function f(_,B){return f=Object.setPrototypeOf||function(z,N){return z.__proto__=N,z},f(_,B)}function g(_){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(F){return F.__proto__||Object.getPrototypeOf(F)},g(_)}function h(_){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(F){return typeof F}:h=function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},h(_)}var w=e(35840),c=w.inspect,a=e(86832),d=a.codes.ERR_INVALID_ARG_TYPE;function x(_,B,F){return(F===void 0||F>_.length)&&(F=_.length),_.substring(F-B.length,F)===B}function T(_,B){if(B=Math.floor(B),_.length==0||B==0)return"";var F=_.length*B;for(B=Math.floor(Math.log(B)/Math.log(2));B;)_+=_,B--;return _+=_.substring(0,F-_.length),_}var C="",y="",S="",A="",i={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},E=10;function m(_){var B=Object.keys(_),F=Object.create(Object.getPrototypeOf(_));return B.forEach(function(z){F[z]=_[z]}),Object.defineProperty(F,"message",{value:_.message}),F}function k(_){return c(_,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function I(_,B,F){var z="",N="",W=0,Z="",q=!1,re=k(_),le=re.split(`
`),ie=k(B).split(`
`),K=0,$="";if(F==="strictEqual"&&h(_)==="object"&&h(B)==="object"&&_!==null&&B!==null&&(F="strictEqualObject"),le.length===1&&ie.length===1&&le[0]!==ie[0]){var X=le[0].length+ie[0].length;if(X<=E){if((h(_)!=="object"||_===null)&&(h(B)!=="object"||B===null)&&(_!==0||B!==0))return"".concat(i[F],`

`)+"".concat(le[0]," !== ").concat(ie[0],`
`)}else if(F!=="strictEqualObject"){var Q=b.stderr&&b.stderr.isTTY?b.stderr.columns:80;if(X<Q){for(;le[0][K]===ie[0][K];)K++;K>2&&($=`
  `.concat(T(" ",K),"^"),K=0)}}}for(var se=le[le.length-1],J=ie[ie.length-1];se===J&&(K++<2?Z=`
  `.concat(se).concat(Z):z=se,le.pop(),ie.pop(),!(le.length===0||ie.length===0));)se=le[le.length-1],J=ie[ie.length-1];var G=Math.max(le.length,ie.length);if(G===0){var oe=re.split(`
`);if(oe.length>30)for(oe[26]="".concat(C,"...").concat(A);oe.length>27;)oe.pop();return"".concat(i.notIdentical,`

`).concat(oe.join(`
`),`
`)}K>3&&(Z=`
`.concat(C,"...").concat(A).concat(Z),q=!0),z!==""&&(Z=`
  `.concat(z).concat(Z),z="");var te=0,fe=i[F]+`
`.concat(y,"+ actual").concat(A," ").concat(S,"- expected").concat(A),ge=" ".concat(C,"...").concat(A," Lines skipped");for(K=0;K<G;K++){var we=K-W;if(le.length<K+1)we>1&&K>2&&(we>4?(N+=`
`.concat(C,"...").concat(A),q=!0):we>3&&(N+=`
  `.concat(ie[K-2]),te++),N+=`
  `.concat(ie[K-1]),te++),W=K,z+=`
`.concat(S,"-").concat(A," ").concat(ie[K]),te++;else if(ie.length<K+1)we>1&&K>2&&(we>4?(N+=`
`.concat(C,"...").concat(A),q=!0):we>3&&(N+=`
  `.concat(le[K-2]),te++),N+=`
  `.concat(le[K-1]),te++),W=K,N+=`
`.concat(y,"+").concat(A," ").concat(le[K]),te++;else{var xe=ie[K],Ce=le[K],De=Ce!==xe&&(!x(Ce,",")||Ce.slice(0,-1)!==xe);De&&x(xe,",")&&xe.slice(0,-1)===Ce&&(De=!1,Ce+=","),De?(we>1&&K>2&&(we>4?(N+=`
`.concat(C,"...").concat(A),q=!0):we>3&&(N+=`
  `.concat(le[K-2]),te++),N+=`
  `.concat(le[K-1]),te++),W=K,N+=`
`.concat(y,"+").concat(A," ").concat(Ce),z+=`
`.concat(S,"-").concat(A," ").concat(xe),te+=2):(N+=z,z="",(we===1||K===0)&&(N+=`
  `.concat(Ce),te++))}if(te>20&&K<G-2)return"".concat(fe).concat(ge,`
`).concat(N,`
`).concat(C,"...").concat(A).concat(z,`
`)+"".concat(C,"...").concat(A)}return"".concat(fe).concat(q?ge:"",`
`).concat(N).concat(z).concat(Z).concat($)}var O=function(_){t(B,_);function B(F){var z;if(L(this,B),h(F)!=="object"||F===null)throw new d("options","Object",F);var N=F.message,W=F.operator,Z=F.stackStartFn,q=F.actual,re=F.expected,le=Error.stackTraceLimit;if(Error.stackTraceLimit=0,N!=null)z=p(this,g(B).call(this,String(N)));else if(b.stderr&&b.stderr.isTTY&&(b.stderr&&b.stderr.getColorDepth&&b.stderr.getColorDepth()!==1?(C="\x1B[34m",y="\x1B[32m",A="\x1B[39m",S="\x1B[31m"):(C="",y="",A="",S="")),h(q)==="object"&&q!==null&&h(re)==="object"&&re!==null&&"stack"in q&&q instanceof Error&&"stack"in re&&re instanceof Error&&(q=m(q),re=m(re)),W==="deepStrictEqual"||W==="strictEqual")z=p(this,g(B).call(this,I(q,re,W)));else if(W==="notDeepStrictEqual"||W==="notStrictEqual"){var ie=i[W],K=k(q).split(`
`);if(W==="notStrictEqual"&&h(q)==="object"&&q!==null&&(ie=i.notStrictEqualObject),K.length>30)for(K[26]="".concat(C,"...").concat(A);K.length>27;)K.pop();K.length===1?z=p(this,g(B).call(this,"".concat(ie," ").concat(K[0]))):z=p(this,g(B).call(this,"".concat(ie,`

`).concat(K.join(`
`),`
`)))}else{var $=k(q),X="",Q=i[W];W==="notDeepEqual"||W==="notEqual"?($="".concat(i[W],`

`).concat($),$.length>1024&&($="".concat($.slice(0,1021),"..."))):(X="".concat(k(re)),$.length>512&&($="".concat($.slice(0,509),"...")),X.length>512&&(X="".concat(X.slice(0,509),"...")),W==="deepEqual"||W==="equal"?$="".concat(Q,`

`).concat($,`

should equal

`):X=" ".concat(W," ").concat(X)),z=p(this,g(B).call(this,"".concat($).concat(X)))}return Error.stackTraceLimit=le,z.generatedMessage=!N,Object.defineProperty(r(z),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),z.code="ERR_ASSERTION",z.actual=q,z.expected=re,z.operator=W,Error.captureStackTrace&&Error.captureStackTrace(r(z),Z),z.stack,z.name="AssertionError",p(z)}return v(B,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:c.custom,value:function(z,N){return c(this,P({},N,{customInspect:!1,depth:0}))}}]),B}(o(Error));Y.exports=O},86832:function(Y,V,e){function b(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b=function(c){return typeof c}:b=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},b(h)}function P(h,w){if(!(h instanceof w))throw new TypeError("Cannot call a class as a function")}function s(h,w){return w&&(b(w)==="object"||typeof w=="function")?w:L(h)}function L(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function M(h){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},M(h)}function v(h,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(w&&w.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),w&&p(h,w)}function p(h,w){return p=Object.setPrototypeOf||function(a,d){return a.__proto__=d,a},p(h,w)}var r={},t,o;function n(h,w,c){c||(c=Error);function a(x,T,C){return typeof w=="string"?w:w(x,T,C)}var d=function(x){v(T,x);function T(C,y,S){var A;return P(this,T),A=s(this,M(T).call(this,a(C,y,S))),A.code=h,A}return T}(c);r[h]=d}function l(h,w){if(Array.isArray(h)){var c=h.length;return h=h.map(function(a){return String(a)}),c>2?"one of ".concat(w," ").concat(h.slice(0,c-1).join(", "),", or ")+h[c-1]:c===2?"one of ".concat(w," ").concat(h[0]," or ").concat(h[1]):"of ".concat(w," ").concat(h[0])}else return"of ".concat(w," ").concat(String(h))}function u(h,w,c){return h.substr(0,w.length)===w}function f(h,w,c){return(c===void 0||c>h.length)&&(c=h.length),h.substring(c-w.length,c)===w}function g(h,w,c){return typeof c!="number"&&(c=0),c+w.length>h.length?!1:h.indexOf(w,c)!==-1}n("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),n("ERR_INVALID_ARG_TYPE",function(h,w,c){t===void 0&&(t=e(45408)),t(typeof h=="string","'name' must be a string");var a;typeof w=="string"&&u(w,"not ")?(a="must not be",w=w.replace(/^not /,"")):a="must be";var d;if(f(h," argument"))d="The ".concat(h," ").concat(a," ").concat(l(w,"type"));else{var x=g(h,".")?"property":"argument";d='The "'.concat(h,'" ').concat(x," ").concat(a," ").concat(l(w,"type"))}return d+=". Received type ".concat(b(c)),d},TypeError),n("ERR_INVALID_ARG_VALUE",function(h,w){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";o===void 0&&(o=e(35840));var a=o.inspect(w);return a.length>128&&(a="".concat(a.slice(0,128),"...")),"The argument '".concat(h,"' ").concat(c,". Received ").concat(a)},TypeError),n("ERR_INVALID_RETURN_VALUE",function(h,w,c){var a;return c&&c.constructor&&c.constructor.name?a="instance of ".concat(c.constructor.name):a="type ".concat(b(c)),"Expected ".concat(h,' to be returned from the "').concat(w,'"')+" function but got ".concat(a,".")},TypeError),n("ERR_MISSING_ARGS",function(){for(var h=arguments.length,w=new Array(h),c=0;c<h;c++)w[c]=arguments[c];t===void 0&&(t=e(45408)),t(w.length>0,"At least one arg needs to be specified");var a="The ",d=w.length;switch(w=w.map(function(x){return'"'.concat(x,'"')}),d){case 1:a+="".concat(w[0]," argument");break;case 2:a+="".concat(w[0]," and ").concat(w[1]," arguments");break;default:a+=w.slice(0,d-1).join(", "),a+=", and ".concat(w[d-1]," arguments");break}return"".concat(a," must be specified")},TypeError),Y.exports.codes=r},25116:function(Y,V,e){function b(Oe,Te){return L(Oe)||s(Oe,Te)||P()}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function s(Oe,Te){var Re=[],Me=!0,ke=!1,Se=void 0;try{for(var He=Oe[Symbol.iterator](),je;!(Me=(je=He.next()).done)&&(Re.push(je.value),!(Te&&Re.length===Te));Me=!0);}catch(at){ke=!0,Se=at}finally{try{!Me&&He.return!=null&&He.return()}finally{if(ke)throw Se}}return Re}function L(Oe){if(Array.isArray(Oe))return Oe}function M(Oe){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?M=function(Re){return typeof Re}:M=function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},M(Oe)}var v=/a/g.flags!==void 0,p=function(Te){var Re=[];return Te.forEach(function(Me){return Re.push(Me)}),Re},r=function(Te){var Re=[];return Te.forEach(function(Me,ke){return Re.push([ke,Me])}),Re},t=Object.is?Object.is:e(39896),o=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},n=Number.isNaN?Number.isNaN:e(1560);function l(Oe){return Oe.call.bind(Oe)}var u=l(Object.prototype.hasOwnProperty),f=l(Object.prototype.propertyIsEnumerable),g=l(Object.prototype.toString),h=e(35840).types,w=h.isAnyArrayBuffer,c=h.isArrayBufferView,a=h.isDate,d=h.isMap,x=h.isRegExp,T=h.isSet,C=h.isNativeError,y=h.isBoxedPrimitive,S=h.isNumberObject,A=h.isStringObject,i=h.isBooleanObject,E=h.isBigIntObject,m=h.isSymbolObject,k=h.isFloat32Array,I=h.isFloat64Array;function O(Oe){if(Oe.length===0||Oe.length>10)return!0;for(var Te=0;Te<Oe.length;Te++){var Re=Oe.charCodeAt(Te);if(Re<48||Re>57)return!0}return Oe.length===10&&Oe>=Math.pow(2,32)}function _(Oe){return Object.keys(Oe).filter(O).concat(o(Oe).filter(Object.prototype.propertyIsEnumerable.bind(Oe)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function B(Oe,Te){if(Oe===Te)return 0;for(var Re=Oe.length,Me=Te.length,ke=0,Se=Math.min(Re,Me);ke<Se;++ke)if(Oe[ke]!==Te[ke]){Re=Oe[ke],Me=Te[ke];break}return Re<Me?-1:Me<Re?1:0}var F=!0,z=!1,N=0,W=1,Z=2,q=3;function re(Oe,Te){return v?Oe.source===Te.source&&Oe.flags===Te.flags:RegExp.prototype.toString.call(Oe)===RegExp.prototype.toString.call(Te)}function le(Oe,Te){if(Oe.byteLength!==Te.byteLength)return!1;for(var Re=0;Re<Oe.byteLength;Re++)if(Oe[Re]!==Te[Re])return!1;return!0}function ie(Oe,Te){return Oe.byteLength!==Te.byteLength?!1:B(new Uint8Array(Oe.buffer,Oe.byteOffset,Oe.byteLength),new Uint8Array(Te.buffer,Te.byteOffset,Te.byteLength))===0}function K(Oe,Te){return Oe.byteLength===Te.byteLength&&B(new Uint8Array(Oe),new Uint8Array(Te))===0}function $(Oe,Te){return S(Oe)?S(Te)&&t(Number.prototype.valueOf.call(Oe),Number.prototype.valueOf.call(Te)):A(Oe)?A(Te)&&String.prototype.valueOf.call(Oe)===String.prototype.valueOf.call(Te):i(Oe)?i(Te)&&Boolean.prototype.valueOf.call(Oe)===Boolean.prototype.valueOf.call(Te):E(Oe)?E(Te)&&BigInt.prototype.valueOf.call(Oe)===BigInt.prototype.valueOf.call(Te):m(Te)&&Symbol.prototype.valueOf.call(Oe)===Symbol.prototype.valueOf.call(Te)}function X(Oe,Te,Re,Me){if(Oe===Te)return Oe!==0?!0:Re?t(Oe,Te):!0;if(Re){if(M(Oe)!=="object")return typeof Oe=="number"&&n(Oe)&&n(Te);if(M(Te)!=="object"||Oe===null||Te===null||Object.getPrototypeOf(Oe)!==Object.getPrototypeOf(Te))return!1}else{if(Oe===null||M(Oe)!=="object")return Te===null||M(Te)!=="object"?Oe==Te:!1;if(Te===null||M(Te)!=="object")return!1}var ke=g(Oe),Se=g(Te);if(ke!==Se)return!1;if(Array.isArray(Oe)){if(Oe.length!==Te.length)return!1;var He=_(Oe),je=_(Te);return He.length!==je.length?!1:se(Oe,Te,Re,Me,W,He)}if(ke==="[object Object]"&&(!d(Oe)&&d(Te)||!T(Oe)&&T(Te)))return!1;if(a(Oe)){if(!a(Te)||Date.prototype.getTime.call(Oe)!==Date.prototype.getTime.call(Te))return!1}else if(x(Oe)){if(!x(Te)||!re(Oe,Te))return!1}else if(C(Oe)||Oe instanceof Error){if(Oe.message!==Te.message||Oe.name!==Te.name)return!1}else if(c(Oe)){if(!Re&&(k(Oe)||I(Oe))){if(!le(Oe,Te))return!1}else if(!ie(Oe,Te))return!1;var at=_(Oe),Ze=_(Te);return at.length!==Ze.length?!1:se(Oe,Te,Re,Me,N,at)}else{if(T(Oe))return!T(Te)||Oe.size!==Te.size?!1:se(Oe,Te,Re,Me,Z);if(d(Oe))return!d(Te)||Oe.size!==Te.size?!1:se(Oe,Te,Re,Me,q);if(w(Oe)){if(!K(Oe,Te))return!1}else if(y(Oe)&&!$(Oe,Te))return!1}return se(Oe,Te,Re,Me,N)}function Q(Oe,Te){return Te.filter(function(Re){return f(Oe,Re)})}function se(Oe,Te,Re,Me,ke,Se){if(arguments.length===5){Se=Object.keys(Oe);var He=Object.keys(Te);if(Se.length!==He.length)return!1}for(var je=0;je<Se.length;je++)if(!u(Te,Se[je]))return!1;if(Re&&arguments.length===5){var at=o(Oe);if(at.length!==0){var Ze=0;for(je=0;je<at.length;je++){var $e=at[je];if(f(Oe,$e)){if(!f(Te,$e))return!1;Se.push($e),Ze++}else if(f(Te,$e))return!1}var ut=o(Te);if(at.length!==ut.length&&Q(Te,ut).length!==Ze)return!1}else{var ht=o(Te);if(ht.length!==0&&Q(Te,ht).length!==0)return!1}}if(Se.length===0&&(ke===N||ke===W&&Oe.length===0||Oe.size===0))return!0;if(Me===void 0)Me={val1:new Map,val2:new Map,position:0};else{var vt=Me.val1.get(Oe);if(vt!==void 0){var xt=Me.val2.get(Te);if(xt!==void 0)return vt===xt}Me.position++}Me.val1.set(Oe,Me.position),Me.val2.set(Te,Me.position);var St=xe(Oe,Te,Re,Se,Me,ke);return Me.val1.delete(Oe),Me.val2.delete(Te),St}function J(Oe,Te,Re,Me){for(var ke=p(Oe),Se=0;Se<ke.length;Se++){var He=ke[Se];if(X(Te,He,Re,Me))return Oe.delete(He),!0}return!1}function G(Oe){switch(M(Oe)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Oe=+Oe;case"number":if(n(Oe))return!1}return!0}function oe(Oe,Te,Re){var Me=G(Re);return Me??(Te.has(Me)&&!Oe.has(Me))}function te(Oe,Te,Re,Me,ke){var Se=G(Re);if(Se!=null)return Se;var He=Te.get(Se);return He===void 0&&!Te.has(Se)||!X(Me,He,!1,ke)?!1:!Oe.has(Se)&&X(Me,He,!1,ke)}function fe(Oe,Te,Re,Me){for(var ke=null,Se=p(Oe),He=0;He<Se.length;He++){var je=Se[He];if(M(je)==="object"&&je!==null)ke===null&&(ke=new Set),ke.add(je);else if(!Te.has(je)){if(Re||!oe(Oe,Te,je))return!1;ke===null&&(ke=new Set),ke.add(je)}}if(ke!==null){for(var at=p(Te),Ze=0;Ze<at.length;Ze++){var $e=at[Ze];if(M($e)==="object"&&$e!==null){if(!J(ke,$e,Re,Me))return!1}else if(!Re&&!Oe.has($e)&&!J(ke,$e,Re,Me))return!1}return ke.size===0}return!0}function ge(Oe,Te,Re,Me,ke,Se){for(var He=p(Oe),je=0;je<He.length;je++){var at=He[je];if(X(Re,at,ke,Se)&&X(Me,Te.get(at),ke,Se))return Oe.delete(at),!0}return!1}function we(Oe,Te,Re,Me){for(var ke=null,Se=r(Oe),He=0;He<Se.length;He++){var je=b(Se[He],2),at=je[0],Ze=je[1];if(M(at)==="object"&&at!==null)ke===null&&(ke=new Set),ke.add(at);else{var $e=Te.get(at);if($e===void 0&&!Te.has(at)||!X(Ze,$e,Re,Me)){if(Re||!te(Oe,Te,at,Ze,Me))return!1;ke===null&&(ke=new Set),ke.add(at)}}}if(ke!==null){for(var ut=r(Te),ht=0;ht<ut.length;ht++){var vt=b(ut[ht],2),at=vt[0],xt=vt[1];if(M(at)==="object"&&at!==null){if(!ge(ke,Oe,at,xt,Re,Me))return!1}else if(!Re&&(!Oe.has(at)||!X(Oe.get(at),xt,!1,Me))&&!ge(ke,Oe,at,xt,!1,Me))return!1}return ke.size===0}return!0}function xe(Oe,Te,Re,Me,ke,Se){var He=0;if(Se===Z){if(!fe(Oe,Te,Re,ke))return!1}else if(Se===q){if(!we(Oe,Te,Re,ke))return!1}else if(Se===W)for(;He<Oe.length;He++)if(u(Oe,He)){if(!u(Te,He)||!X(Oe[He],Te[He],Re,ke))return!1}else{if(u(Te,He))return!1;for(var je=Object.keys(Oe);He<je.length;He++){var at=je[He];if(!u(Te,at)||!X(Oe[at],Te[at],Re,ke))return!1}return je.length===Object.keys(Te).length}for(He=0;He<Me.length;He++){var Ze=Me[He];if(!X(Oe[Ze],Te[Ze],Re,ke))return!1}return!0}function Ce(Oe,Te){return X(Oe,Te,z)}function De(Oe,Te){return X(Oe,Te,F)}Y.exports={isDeepEqual:Ce,isDeepStrictEqual:De}},83160:function(Y,V,e){e.r(V),e.d(V,{decode:function(){return M},encode:function(){return L}});for(var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=typeof Uint8Array>"u"?[]:new Uint8Array(256),s=0;s<b.length;s++)P[b.charCodeAt(s)]=s;var L=function(v){var p=new Uint8Array(v),r,t=p.length,o="";for(r=0;r<t;r+=3)o+=b[p[r]>>2],o+=b[(p[r]&3)<<4|p[r+1]>>4],o+=b[(p[r+1]&15)<<2|p[r+2]>>6],o+=b[p[r+2]&63];return t%3===2?o=o.substring(0,o.length-1)+"=":t%3===1&&(o=o.substring(0,o.length-2)+"=="),o},M=function(v){var p=v.length*.75,r=v.length,t,o=0,n,l,u,f;v[v.length-1]==="="&&(p--,v[v.length-2]==="="&&p--);var g=new ArrayBuffer(p),h=new Uint8Array(g);for(t=0;t<r;t+=4)n=P[v.charCodeAt(t)],l=P[v.charCodeAt(t+1)],u=P[v.charCodeAt(t+2)],f=P[v.charCodeAt(t+3)],h[o++]=n<<2|l>>4,h[o++]=(l&15)<<4|u>>2,h[o++]=(u&3)<<6|f&63;return g}},59968:function(Y,V){V.byteLength=p,V.toByteArray=t,V.fromByteArray=l;for(var e=[],b=[],P=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=0,M=s.length;L<M;++L)e[L]=s[L],b[s.charCodeAt(L)]=L;b[45]=62,b[95]=63;function v(u){var f=u.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=u.indexOf("=");g===-1&&(g=f);var h=g===f?0:4-g%4;return[g,h]}function p(u){var f=v(u),g=f[0],h=f[1];return(g+h)*3/4-h}function r(u,f,g){return(f+g)*3/4-g}function t(u){var f,g=v(u),h=g[0],w=g[1],c=new P(r(u,h,w)),a=0,d=w>0?h-4:h,x;for(x=0;x<d;x+=4)f=b[u.charCodeAt(x)]<<18|b[u.charCodeAt(x+1)]<<12|b[u.charCodeAt(x+2)]<<6|b[u.charCodeAt(x+3)],c[a++]=f>>16&255,c[a++]=f>>8&255,c[a++]=f&255;return w===2&&(f=b[u.charCodeAt(x)]<<2|b[u.charCodeAt(x+1)]>>4,c[a++]=f&255),w===1&&(f=b[u.charCodeAt(x)]<<10|b[u.charCodeAt(x+1)]<<4|b[u.charCodeAt(x+2)]>>2,c[a++]=f>>8&255,c[a++]=f&255),c}function o(u){return e[u>>18&63]+e[u>>12&63]+e[u>>6&63]+e[u&63]}function n(u,f,g){for(var h,w=[],c=f;c<g;c+=3)h=(u[c]<<16&16711680)+(u[c+1]<<8&65280)+(u[c+2]&255),w.push(o(h));return w.join("")}function l(u){for(var f,g=u.length,h=g%3,w=[],c=16383,a=0,d=g-h;a<d;a+=c)w.push(n(u,a,a+c>d?d:a+c));return h===1?(f=u[g-1],w.push(e[f>>2]+e[f<<4&63]+"==")):h===2&&(f=(u[g-2]<<8)+u[g-1],w.push(e[f>>10]+e[f>>4&63]+e[f<<2&63]+"=")),w.join("")}},64928:function(Y){function V(M,v,p,r,t){for(var o=t+1;r<=t;){var n=r+t>>>1,l=M[n],u=p!==void 0?p(l,v):l-v;u>=0?(o=n,t=n-1):r=n+1}return o}function e(M,v,p,r,t){for(var o=t+1;r<=t;){var n=r+t>>>1,l=M[n],u=p!==void 0?p(l,v):l-v;u>0?(o=n,t=n-1):r=n+1}return o}function b(M,v,p,r,t){for(var o=r-1;r<=t;){var n=r+t>>>1,l=M[n],u=p!==void 0?p(l,v):l-v;u<0?(o=n,r=n+1):t=n-1}return o}function P(M,v,p,r,t){for(var o=r-1;r<=t;){var n=r+t>>>1,l=M[n],u=p!==void 0?p(l,v):l-v;u<=0?(o=n,r=n+1):t=n-1}return o}function s(M,v,p,r,t){for(;r<=t;){var o=r+t>>>1,n=M[o],l=p!==void 0?p(n,v):n-v;if(l===0)return o;l<=0?r=o+1:t=o-1}return-1}function L(M,v,p,r,t,o){return typeof p=="function"?o(M,v,p,r===void 0?0:r|0,t===void 0?M.length-1:t|0):o(M,v,void 0,p===void 0?0:p|0,r===void 0?M.length-1:r|0)}Y.exports={ge:function(M,v,p,r,t){return L(M,v,p,r,t,V)},gt:function(M,v,p,r,t){return L(M,v,p,r,t,e)},lt:function(M,v,p,r,t){return L(M,v,p,r,t,b)},le:function(M,v,p,r,t){return L(M,v,p,r,t,P)},eq:function(M,v,p,r,t){return L(M,v,p,r,t,s)}}},308:function(Y,V){"use restrict";var e=32;V.INT_BITS=e,V.INT_MAX=2147483647,V.INT_MIN=-1<<e-1,V.sign=function(s){return(s>0)-(s<0)},V.abs=function(s){var L=s>>e-1;return(s^L)-L},V.min=function(s,L){return L^(s^L)&-(s<L)},V.max=function(s,L){return s^(s^L)&-(s<L)},V.isPow2=function(s){return!(s&s-1)&&!!s},V.log2=function(s){var L,M;return L=(s>65535)<<4,s>>>=L,M=(s>255)<<3,s>>>=M,L|=M,M=(s>15)<<2,s>>>=M,L|=M,M=(s>3)<<1,s>>>=M,L|=M,L|s>>1},V.log10=function(s){return s>=1e9?9:s>=1e8?8:s>=1e7?7:s>=1e6?6:s>=1e5?5:s>=1e4?4:s>=1e3?3:s>=100?2:s>=10?1:0},V.popCount=function(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),(s+(s>>>4)&252645135)*16843009>>>24};function b(s){var L=32;return s&=-s,s&&L--,s&65535&&(L-=16),s&16711935&&(L-=8),s&252645135&&(L-=4),s&858993459&&(L-=2),s&1431655765&&(L-=1),L}V.countTrailingZeros=b,V.nextPow2=function(s){return s+=s===0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1},V.prevPow2=function(s){return s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s-(s>>>1)},V.parity=function(s){return s^=s>>>16,s^=s>>>8,s^=s>>>4,s&=15,27030>>>s&1};var P=new Array(256);(function(s){for(var L=0;L<256;++L){var M=L,v=L,p=7;for(M>>>=1;M;M>>>=1)v<<=1,v|=M&1,--p;s[L]=v<<p&255}})(P),V.reverse=function(s){return P[s&255]<<24|P[s>>>8&255]<<16|P[s>>>16&255]<<8|P[s>>>24&255]},V.interleave2=function(s,L){return s&=65535,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,L&=65535,L=(L|L<<8)&16711935,L=(L|L<<4)&252645135,L=(L|L<<2)&858993459,L=(L|L<<1)&1431655765,s|L<<1},V.deinterleave2=function(s,L){return s=s>>>L&1431655765,s=(s|s>>>1)&858993459,s=(s|s>>>2)&252645135,s=(s|s>>>4)&16711935,s=(s|s>>>16)&65535,s<<16>>16},V.interleave3=function(s,L,M){return s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,L&=1023,L=(L|L<<16)&4278190335,L=(L|L<<8)&251719695,L=(L|L<<4)&3272356035,L=(L|L<<2)&1227133513,s|=L<<1,M&=1023,M=(M|M<<16)&4278190335,M=(M|M<<8)&251719695,M=(M|M<<4)&3272356035,M=(M|M<<2)&1227133513,s|M<<2},V.deinterleave3=function(s,L){return s=s>>>L&1227133513,s=(s|s>>>2)&3272356035,s=(s|s>>>4)&251719695,s=(s|s>>>8)&4278190335,s=(s|s>>>16)&1023,s<<22>>22},V.nextCombination=function(s){var L=s|s-1;return L+1|(~L&-~L)-1>>>b(s)+1}},29620:function(Y,V,e){var b=e(32420);Y.exports=s;var P=1e20;function s(v,p){p||(p={});var r=p.cutoff==null?.25:p.cutoff,t=p.radius==null?8:p.radius,o=p.channel||0,n,l,u,f,g,h,w,c,a,d,x;if(ArrayBuffer.isView(v)||Array.isArray(v)){if(!p.width||!p.height)throw Error("For raw data width and height should be provided by options");n=p.width,l=p.height,f=v,p.stride?h=p.stride:h=Math.floor(v.length/n/l)}else window.HTMLCanvasElement&&v instanceof window.HTMLCanvasElement?(c=v,w=c.getContext("2d"),n=c.width,l=c.height,a=w.getImageData(0,0,n,l),f=a.data,h=4):window.CanvasRenderingContext2D&&v instanceof window.CanvasRenderingContext2D?(c=v.canvas,w=v,n=c.width,l=c.height,a=w.getImageData(0,0,n,l),f=a.data,h=4):window.ImageData&&v instanceof window.ImageData&&(a=v,n=v.width,l=v.height,f=a.data,h=4);if(u=Math.max(n,l),window.Uint8ClampedArray&&f instanceof window.Uint8ClampedArray||window.Uint8Array&&f instanceof window.Uint8Array)for(g=f,f=Array(n*l),d=0,x=g.length;d<x;d++)f[d]=g[d*h+o]/255;else if(h!==1)throw Error("Raw data can have only 1 value per pixel");var T=Array(n*l),C=Array(n*l),y=Array(u),S=Array(u),A=Array(u+1),i=Array(u);for(d=0,x=n*l;d<x;d++){var E=f[d];T[d]=E===1?0:E===0?P:Math.pow(Math.max(0,.5-E),2),C[d]=E===1?P:E===0?0:Math.pow(Math.max(0,E-.5),2)}L(T,n,l,y,S,i,A),L(C,n,l,y,S,i,A);var m=window.Float32Array?new Float32Array(n*l):new Array(n*l);for(d=0,x=n*l;d<x;d++)m[d]=b(1-((T[d]-C[d])/t+r),0,1);return m}function L(v,p,r,t,o,n,l){for(var u=0;u<p;u++){for(var f=0;f<r;f++)t[f]=v[f*p+u];for(M(t,o,n,l,r),f=0;f<r;f++)v[f*p+u]=o[f]}for(f=0;f<r;f++){for(u=0;u<p;u++)t[u]=v[f*p+u];for(M(t,o,n,l,p),u=0;u<p;u++)v[f*p+u]=Math.sqrt(o[u])}}function M(v,p,r,t,o){r[0]=0,t[0]=-P,t[1]=+P;for(var n=1,l=0;n<o;n++){for(var u=(v[n]+n*n-(v[r[l]]+r[l]*r[l]))/(2*n-2*r[l]);u<=t[l];)l--,u=(v[n]+n*n-(v[r[l]]+r[l]*r[l]))/(2*n-2*r[l]);l++,r[l]=n,t[l]=u,t[l+1]=+P}for(n=0,l=0;n<o;n++){for(;t[l+1]<n;)l++;p[n]=(n-r[l])*(n-r[l])+v[r[l]]}}},99676:function(Y,V,e){var b=e(53664),P=e(57916),s=P(b("String.prototype.indexOf"));Y.exports=function(M,v){var p=b(M,!!v);return typeof p=="function"&&s(M,".prototype.")>-1?P(p):p}},57916:function(Y,V,e){var b=e(8844),P=e(53664),s=e(14500),L=P("%TypeError%"),M=P("%Function.prototype.apply%"),v=P("%Function.prototype.call%"),p=P("%Reflect.apply%",!0)||b.call(v,M),r=P("%Object.defineProperty%",!0),t=P("%Math.max%");if(r)try{r({},"a",{value:1})}catch{r=null}Y.exports=function(l){if(typeof l!="function")throw new L("a function is required");var u=p(b,v,arguments);return s(u,1+t(0,l.length-(arguments.length-1)),!0)};var o=function(){return p(b,M,arguments)};r?r(Y.exports,"apply",{value:o}):Y.exports.apply=o},32420:function(Y){Y.exports=V;function V(e,b,P){return b<P?e<b?b:e>P?P:e:e<P?P:e>b?b:e}},3808:function(Y,V,e){var b=e(32420);Y.exports=P,Y.exports.to=P,Y.exports.from=s;function P(L,M){M==null&&(M=!0);var v=L[0],p=L[1],r=L[2],t=L[3];t==null&&(t=M?1:255),M&&(v*=255,p*=255,r*=255,t*=255),v=b(v,0,255)&255,p=b(p,0,255)&255,r=b(r,0,255)&255,t=b(t,0,255)&255;var o=v*16777216+(p<<16)+(r<<8)+t;return o}function s(L,M){L=+L;var v=L>>>24,p=(L&16711680)>>>16,r=(L&65280)>>>8,t=L&255;return M===!1?[v,p,r,t]:[v/255,p/255,r/255,t/255]}},17592:function(Y){Y.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},72160:function(Y,V,e){var b=e(96824),P=e(32420),s=e(72512);Y.exports=function(v,p){(p==="float"||!p)&&(p="array"),p==="uint"&&(p="uint8"),p==="uint_clamped"&&(p="uint8_clamped");var r=s(p),t=new r(4),o=p!=="uint8"&&p!=="uint8_clamped";return(!v.length||typeof v=="string")&&(v=b(v),v[0]/=255,v[1]/=255,v[2]/=255),L(v)?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:255,o&&(t[0]/=255,t[1]/=255,t[2]/=255,t[3]/=255),t):(o?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:1):(t[0]=P(Math.floor(v[0]*255),0,255),t[1]=P(Math.floor(v[1]*255),0,255),t[2]=P(Math.floor(v[2]*255),0,255),t[3]=v[3]==null?255:P(Math.floor(v[3]*255),0,255)),t)};function L(M){return!!(M instanceof Uint8Array||M instanceof Uint8ClampedArray||Array.isArray(M)&&(M[0]>1||M[0]===0)&&(M[1]>1||M[1]===0)&&(M[2]>1||M[2]===0)&&(!M[3]||M[3]>1))}},96824:function(Y,V,e){var b=e(95532),P=e(53576),s=e(32420);Y.exports=function(M){var v,p=b(M);return p.space?(v=Array(3),v[0]=s(p.values[0],0,255),v[1]=s(p.values[1],0,255),v[2]=s(p.values[2],0,255),p.space[0]==="h"&&(v=P.rgb(v)),v.push(s(p.alpha,0,1)),v):[]}},95532:function(Y,V,e){var b=e(17592);Y.exports=s;var P={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function s(L){var M,v=[],p=1,r;if(typeof L=="string")if(L=L.toLowerCase(),b[L])v=b[L].slice(),r="rgb";else if(L==="transparent")p=0,r="rgb",v=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(L)){var t=L.slice(1),o=t.length,n=o<=4;p=1,n?(v=[parseInt(t[0]+t[0],16),parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16)],o===4&&(p=parseInt(t[3]+t[3],16)/255)):(v=[parseInt(t[0]+t[1],16),parseInt(t[2]+t[3],16),parseInt(t[4]+t[5],16)],o===8&&(p=parseInt(t[6]+t[7],16)/255)),v[0]||(v[0]=0),v[1]||(v[1]=0),v[2]||(v[2]=0),r="rgb"}else if(M=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(L)){var l=M[1],u=l==="rgb",t=l.replace(/a$/,"");r=t;var o=t==="cmyk"?4:t==="gray"?1:3;v=M[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(h,w){if(/%$/.test(h))return w===o?parseFloat(h)/100:t==="rgb"?parseFloat(h)*255/100:parseFloat(h);if(t[w]==="h"){if(/deg$/.test(h))return parseFloat(h);if(P[h]!==void 0)return P[h]}return parseFloat(h)}),l===t&&v.push(1),p=u||v[o]===void 0?1:v[o],v=v.slice(0,o)}else L.length>10&&/[0-9](?:\s|\/)/.test(L)&&(v=L.match(/([0-9]+)/g).map(function(f){return parseFloat(f)}),r=L.match(/([a-z])/ig).join("").toLowerCase());else isNaN(L)?Array.isArray(L)||L.length?(v=[L[0],L[1],L[2]],r="rgb",p=L.length===4?L[3]:1):L instanceof Object&&(L.r!=null||L.red!=null||L.R!=null?(r="rgb",v=[L.r||L.red||L.R||0,L.g||L.green||L.G||0,L.b||L.blue||L.B||0]):(r="hsl",v=[L.h||L.hue||L.H||0,L.s||L.saturation||L.S||0,L.l||L.lightness||L.L||L.b||L.brightness]),p=L.a||L.alpha||L.opacity||1,L.opacity!=null&&(p/=100)):(r="rgb",v=[L>>>16,(L&65280)>>>8,L&255]);return{space:r,values:v,alpha:p}}},53576:function(Y,V,e){var b=e(19336);Y.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(P){var s=P[0]/360,L=P[1]/100,M=P[2]/100,v,p,r,t,o;if(L===0)return o=M*255,[o,o,o];M<.5?p=M*(1+L):p=M+L-M*L,v=2*M-p,t=[0,0,0];for(var n=0;n<3;n++)r=s+.3333333333333333*-(n-1),r<0?r++:r>1&&r--,6*r<1?o=v+(p-v)*6*r:2*r<1?o=p:3*r<2?o=v+(p-v)*(.6666666666666666-r)*6:o=v,t[n]=o*255;return t}},b.hsl=function(P){var s=P[0]/255,L=P[1]/255,M=P[2]/255,v=Math.min(s,L,M),p=Math.max(s,L,M),r=p-v,t,o,n;return p===v?t=0:s===p?t=(L-M)/r:L===p?t=2+(M-s)/r:M===p&&(t=4+(s-L)/r),t=Math.min(t*60,360),t<0&&(t+=360),n=(v+p)/2,p===v?o=0:n<=.5?o=r/(p+v):o=r/(2-p-v),[t,o*100,n*100]}},19336:function(Y){Y.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},36116:function(Y){Y.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|ç)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|é)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|é)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|ã)o.?tom(e|é)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},42771:function(Y,V,e){Y.exports={parse:e(46416),stringify:e(49395)}},8744:function(Y,V,e){var b=e(30584);Y.exports={isSize:function(s){return/^[\d\.]/.test(s)||s.indexOf("/")!==-1||b.indexOf(s)!==-1}}},46416:function(Y,V,e){var b=e(92384),P=e(68194),s=e(3748),L=e(2904),M=e(47916),v=e(7294),p=e(39956),r=e(8744).isSize;Y.exports=o;var t=o.cache={};function o(l){if(typeof l!="string")throw new Error("Font argument must be a string.");if(t[l])return t[l];if(l==="")throw new Error("Cannot parse an empty string.");if(s.indexOf(l)!==-1)return t[l]={system:l};for(var u={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},f=p(l,/\s+/),g;g=f.shift();){if(P.indexOf(g)!==-1)return["style","variant","weight","stretch"].forEach(function(w){u[w]=g}),t[l]=u;if(M.indexOf(g)!==-1){u.style=g;continue}if(g==="normal"||g==="small-caps"){u.variant=g;continue}if(v.indexOf(g)!==-1){u.stretch=g;continue}if(L.indexOf(g)!==-1){u.weight=g;continue}if(r(g)){var h=p(g,"/");if(u.size=h[0],h[1]!=null?u.lineHeight=n(h[1]):f[0]==="/"&&(f.shift(),u.lineHeight=n(f.shift())),!f.length)throw new Error("Missing required font-family.");return u.family=p(f.join(" "),/\s*,\s*/).map(b),t[l]=u}throw new Error("Unknown or unsupported font token: "+g)}throw new Error("Missing required font-size.")}function n(l){var u=parseFloat(l);return u.toString()===l?u:l}},49395:function(Y,V,e){var b=e(55616),P=e(8744).isSize,s=l(e(68194)),L=l(e(3748)),M=l(e(2904)),v=l(e(47916)),p=l(e(7294)),r={normal:1,"small-caps":1},t={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},o={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};Y.exports=function(f){if(f=b(f,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),f.system)return f.system&&n(f.system,L),f.system;if(n(f.style,v),n(f.variant,r),n(f.weight,M),n(f.stretch,p),f.size==null&&(f.size=o.size),typeof f.size=="number"&&(f.size+="px"),!P)throw Error("Bad size value `"+f.size+"`");f.family||(f.family=o.family),Array.isArray(f.family)&&(f.family.length||(f.family=[o.family]),f.family=f.family.map(function(h){return t[h]?h:'"'+h+'"'}).join(", "));var g=[];return g.push(f.style),f.variant!==f.style&&g.push(f.variant),f.weight!==f.variant&&f.weight!==f.style&&g.push(f.weight),f.stretch!==f.weight&&f.stretch!==f.variant&&f.stretch!==f.style&&g.push(f.stretch),g.push(f.size+(f.lineHeight==null||f.lineHeight==="normal"||f.lineHeight+""=="1"?"":"/"+f.lineHeight)),g.push(f.family),g.filter(Boolean).join(" ")};function n(u,f){if(u&&!f[u]&&!s[u])throw Error("Unknown keyword `"+u+"`");return u}function l(u){for(var f={},g=0;g<u.length;g++)f[u[g]]=1;return f}},27940:function(Y,V,e){var b=e(81680),P=e(18496),s=e(87396),L=e(95920),M=e(50868),v=e(84323),p=Function.prototype.bind,r=Object.defineProperty,t=Object.prototype.hasOwnProperty,o;o=function(n,l,u){var f=P(l)&&s(l.value),g;return g=L(l),delete g.writable,delete g.value,g.get=function(){return!u.overwriteDefinition&&t.call(this,n)?f:(l.value=p.call(f,u.resolveContext?u.resolveContext(this):this),r(this,n,l),this[n])},g},Y.exports=function(n){var l=M(arguments[1]);return b(l.resolveContext)&&s(l.resolveContext),v(n,function(u,f){return o(f,u,l)})}},21092:function(Y,V,e){var b=e(81680),P=e(85488),s=e(38452),L=e(50868),M=e(71056),v=Y.exports=function(p,r){var t,o,n,l,u;return arguments.length<2||typeof p!="string"?(l=r,r=p,p=null):l=arguments[2],b(p)?(t=M.call(p,"c"),o=M.call(p,"e"),n=M.call(p,"w")):(t=n=!0,o=!1),u={value:r,configurable:t,enumerable:o,writable:n},l?s(L(l),u):u};v.gs=function(p,r,t){var o,n,l,u;return typeof p!="string"?(l=t,t=r,r=p,p=null):l=arguments[3],b(r)?P(r)?b(t)?P(t)||(l=t,t=void 0):t=void 0:(l=r,r=t=void 0):r=void 0,b(p)?(o=M.call(p,"c"),n=M.call(p,"e")):(o=!0,n=!1),u={get:r,set:t,configurable:o,enumerable:n},l?s(L(l),u):u}},84706:function(Y,V,e){e.d(V,{XE:function(){return b},kv:function(){return L},mo:function(){return v},Uf:function(){return p},SY:function(){return r},ik:function(){return t},oh:function(){return o}});function b(n,l){return n<l?-1:n>l?1:n>=l?0:NaN}function P(n){return n.length===1&&(n=s(n)),{left:function(l,u,f,g){for(f==null&&(f=0),g==null&&(g=l.length);f<g;){var h=f+g>>>1;n(l[h],u)<0?f=h+1:g=h}return f},right:function(l,u,f,g){for(f==null&&(f=0),g==null&&(g=l.length);f<g;){var h=f+g>>>1;n(l[h],u)>0?g=h:f=h+1}return f}}}function s(n){return function(l,u){return b(n(l),u)}}P(b);function L(n,l){var u=n.length,f=-1,g,h;if(l==null){for(;++f<u;)if((g=n[f])!=null&&g>=g)for(h=g;++f<u;)(g=n[f])!=null&&g>h&&(h=g)}else for(;++f<u;)if((g=l(n[f],f,n))!=null&&g>=g)for(h=g;++f<u;)(g=l(n[f],f,n))!=null&&g>h&&(h=g);return h}function M(n){return n===null?NaN:+n}function v(n,l){var u=n.length,f=u,g=-1,h,w=0;if(l==null)for(;++g<u;)isNaN(h=M(n[g]))?--f:w+=h;else for(;++g<u;)isNaN(h=M(l(n[g],g,n)))?--f:w+=h;if(f)return w/f}function p(n){for(var l=n.length,u,f=-1,g=0,h,w;++f<l;)g+=n[f].length;for(h=new Array(g);--l>=0;)for(w=n[l],u=w.length;--u>=0;)h[--g]=w[u];return h}function r(n,l){var u=n.length,f=-1,g,h;if(l==null){for(;++f<u;)if((g=n[f])!=null&&g>=g)for(h=g;++f<u;)(g=n[f])!=null&&h>g&&(h=g)}else for(;++f<u;)if((g=l(n[f],f,n))!=null&&g>=g)for(h=g;++f<u;)(g=l(n[f],f,n))!=null&&h>g&&(h=g);return h}function t(n,l,u){n=+n,l=+l,u=(g=arguments.length)<2?(l=n,n=0,1):g<3?1:+u;for(var f=-1,g=Math.max(0,Math.ceil((l-n)/u))|0,h=new Array(g);++f<g;)h[f]=n+f*u;return h}function o(n,l){var u=n.length,f=-1,g,h=0;if(l==null)for(;++f<u;)(g=+n[f])&&(h+=g);else for(;++f<u;)(g=+l(n[f],f,n))&&(h+=g);return h}},34712:function(Y,V,e){e.d(V,{kH:function(){return L},UJ:function(){return M}});var b="$";function P(){}P.prototype=s.prototype={constructor:P,has:function(l){return b+l in this},get:function(l){return this[b+l]},set:function(l,u){return this[b+l]=u,this},remove:function(l){var u=b+l;return u in this&&delete this[u]},clear:function(){for(var l in this)l[0]===b&&delete this[l]},keys:function(){var l=[];for(var u in this)u[0]===b&&l.push(u.slice(1));return l},values:function(){var l=[];for(var u in this)u[0]===b&&l.push(this[u]);return l},entries:function(){var l=[];for(var u in this)u[0]===b&&l.push({key:u.slice(1),value:this[u]});return l},size:function(){var l=0;for(var u in this)u[0]===b&&++l;return l},empty:function(){for(var l in this)if(l[0]===b)return!1;return!0},each:function(l){for(var u in this)u[0]===b&&l(this[u],u.slice(1),this)}};function s(l,u){var f=new P;if(l instanceof P)l.each(function(a,d){f.set(d,a)});else if(Array.isArray(l)){var g=-1,h=l.length,w;if(u==null)for(;++g<h;)f.set(g,l[g]);else for(;++g<h;)f.set(u(w=l[g],g,l),w)}else if(l)for(var c in l)f.set(c,l[c]);return f}var L=s;function M(){var l=[],u=[],f,g,h;function w(a,d,x,T){if(d>=l.length)return f!=null&&a.sort(f),g!=null?g(a):a;for(var C=-1,y=a.length,S=l[d++],A,i,E=L(),m,k=x();++C<y;)(m=E.get(A=S(i=a[C])+""))?m.push(i):E.set(A,[i]);return E.each(function(I,O){T(k,O,w(I,d,x,T))}),k}function c(a,d){if(++d>l.length)return a;var x,T=u[d-1];return g!=null&&d>=l.length?x=a.entries():(x=[],a.each(function(C,y){x.push({key:y,values:c(C,d)})})),T!=null?x.sort(function(C,y){return T(C.key,y.key)}):x}return h={object:function(a){return w(a,0,v,p)},map:function(a){return w(a,0,r,t)},entries:function(a){return c(w(a,0,r,t),0)},key:function(a){return l.push(a),h},sortKeys:function(a){return u[l.length-1]=a,h},sortValues:function(a){return f=a,h},rollup:function(a){return g=a,h}}}function v(){return{}}function p(l,u,f){l[u]=f}function r(){return L()}function t(l,u,f){l.set(u,f)}function o(){}var n=L.prototype;o.prototype={constructor:o,has:n.has,add:function(l){return l+="",this[b+l]=l,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49812:function(Y,V,e){e.r(V),e.d(V,{forceCenter:function(){return b},forceCollide:function(){return E},forceLink:function(){return O},forceManyBody:function(){return He},forceRadial:function(){return je},forceSimulation:function(){return Se},forceX:function(){return at},forceY:function(){return Ze}});function b($e,ut){var ht;$e==null&&($e=0),ut==null&&(ut=0);function vt(){var xt,St=ht.length,tt,Ie=0,Ve=0;for(xt=0;xt<St;++xt)tt=ht[xt],Ie+=tt.x,Ve+=tt.y;for(Ie=Ie/St-$e,Ve=Ve/St-ut,xt=0;xt<St;++xt)tt=ht[xt],tt.x-=Ie,tt.y-=Ve}return vt.initialize=function(xt){ht=xt},vt.x=function(xt){return arguments.length?($e=+xt,vt):$e},vt.y=function(xt){return arguments.length?(ut=+xt,vt):ut},vt}function P($e){return function(){return $e}}function s(){return(Math.random()-.5)*1e-6}function L($e){var ut=+this._x.call(null,$e),ht=+this._y.call(null,$e);return M(this.cover(ut,ht),ut,ht,$e)}function M($e,ut,ht,vt){if(isNaN(ut)||isNaN(ht))return $e;var xt,St=$e._root,tt={data:vt},Ie=$e._x0,Ve=$e._y0,Ge=$e._x1,Xe=$e._y1,Le,Fe,Ue,Ee,he,ye,_e,We;if(!St)return $e._root=tt,$e;for(;St.length;)if((he=ut>=(Le=(Ie+Ge)/2))?Ie=Le:Ge=Le,(ye=ht>=(Fe=(Ve+Xe)/2))?Ve=Fe:Xe=Fe,xt=St,!(St=St[_e=ye<<1|he]))return xt[_e]=tt,$e;if(Ue=+$e._x.call(null,St.data),Ee=+$e._y.call(null,St.data),ut===Ue&&ht===Ee)return tt.next=St,xt?xt[_e]=tt:$e._root=tt,$e;do xt=xt?xt[_e]=new Array(4):$e._root=new Array(4),(he=ut>=(Le=(Ie+Ge)/2))?Ie=Le:Ge=Le,(ye=ht>=(Fe=(Ve+Xe)/2))?Ve=Fe:Xe=Fe;while((_e=ye<<1|he)===(We=(Ee>=Fe)<<1|Ue>=Le));return xt[We]=St,xt[_e]=tt,$e}function v($e){var ut,ht,vt=$e.length,xt,St,tt=new Array(vt),Ie=new Array(vt),Ve=1/0,Ge=1/0,Xe=-1/0,Le=-1/0;for(ht=0;ht<vt;++ht)isNaN(xt=+this._x.call(null,ut=$e[ht]))||isNaN(St=+this._y.call(null,ut))||(tt[ht]=xt,Ie[ht]=St,xt<Ve&&(Ve=xt),xt>Xe&&(Xe=xt),St<Ge&&(Ge=St),St>Le&&(Le=St));if(Ve>Xe||Ge>Le)return this;for(this.cover(Ve,Ge).cover(Xe,Le),ht=0;ht<vt;++ht)M(this,tt[ht],Ie[ht],$e[ht]);return this}function p($e,ut){if(isNaN($e=+$e)||isNaN(ut=+ut))return this;var ht=this._x0,vt=this._y0,xt=this._x1,St=this._y1;if(isNaN(ht))xt=(ht=Math.floor($e))+1,St=(vt=Math.floor(ut))+1;else{for(var tt=xt-ht,Ie=this._root,Ve,Ge;ht>$e||$e>=xt||vt>ut||ut>=St;)switch(Ge=(ut<vt)<<1|$e<ht,Ve=new Array(4),Ve[Ge]=Ie,Ie=Ve,tt*=2,Ge){case 0:xt=ht+tt,St=vt+tt;break;case 1:ht=xt-tt,St=vt+tt;break;case 2:xt=ht+tt,vt=St-tt;break;case 3:ht=xt-tt,vt=St-tt;break}this._root&&this._root.length&&(this._root=Ie)}return this._x0=ht,this._y0=vt,this._x1=xt,this._y1=St,this}function r(){var $e=[];return this.visit(function(ut){if(!ut.length)do $e.push(ut.data);while(ut=ut.next)}),$e}function t($e){return arguments.length?this.cover(+$e[0][0],+$e[0][1]).cover(+$e[1][0],+$e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function o($e,ut,ht,vt,xt){this.node=$e,this.x0=ut,this.y0=ht,this.x1=vt,this.y1=xt}function n($e,ut,ht){var vt,xt=this._x0,St=this._y0,tt,Ie,Ve,Ge,Xe=this._x1,Le=this._y1,Fe=[],Ue=this._root,Ee,he;for(Ue&&Fe.push(new o(Ue,xt,St,Xe,Le)),ht==null?ht=1/0:(xt=$e-ht,St=ut-ht,Xe=$e+ht,Le=ut+ht,ht*=ht);Ee=Fe.pop();)if(!(!(Ue=Ee.node)||(tt=Ee.x0)>Xe||(Ie=Ee.y0)>Le||(Ve=Ee.x1)<xt||(Ge=Ee.y1)<St))if(Ue.length){var ye=(tt+Ve)/2,_e=(Ie+Ge)/2;Fe.push(new o(Ue[3],ye,_e,Ve,Ge),new o(Ue[2],tt,_e,ye,Ge),new o(Ue[1],ye,Ie,Ve,_e),new o(Ue[0],tt,Ie,ye,_e)),(he=(ut>=_e)<<1|$e>=ye)&&(Ee=Fe[Fe.length-1],Fe[Fe.length-1]=Fe[Fe.length-1-he],Fe[Fe.length-1-he]=Ee)}else{var We=$e-+this._x.call(null,Ue.data),rt=ut-+this._y.call(null,Ue.data),st=We*We+rt*rt;if(st<ht){var Vt=Math.sqrt(ht=st);xt=$e-Vt,St=ut-Vt,Xe=$e+Vt,Le=ut+Vt,vt=Ue.data}}return vt}function l($e){if(isNaN(Xe=+this._x.call(null,$e))||isNaN(Le=+this._y.call(null,$e)))return this;var ut,ht=this._root,vt,xt,St,tt=this._x0,Ie=this._y0,Ve=this._x1,Ge=this._y1,Xe,Le,Fe,Ue,Ee,he,ye,_e;if(!ht)return this;if(ht.length)for(;;){if((Ee=Xe>=(Fe=(tt+Ve)/2))?tt=Fe:Ve=Fe,(he=Le>=(Ue=(Ie+Ge)/2))?Ie=Ue:Ge=Ue,ut=ht,!(ht=ht[ye=he<<1|Ee]))return this;if(!ht.length)break;(ut[ye+1&3]||ut[ye+2&3]||ut[ye+3&3])&&(vt=ut,_e=ye)}for(;ht.data!==$e;)if(xt=ht,!(ht=ht.next))return this;return(St=ht.next)&&delete ht.next,xt?(St?xt.next=St:delete xt.next,this):ut?(St?ut[ye]=St:delete ut[ye],(ht=ut[0]||ut[1]||ut[2]||ut[3])&&ht===(ut[3]||ut[2]||ut[1]||ut[0])&&!ht.length&&(vt?vt[_e]=ht:this._root=ht),this):(this._root=St,this)}function u($e){for(var ut=0,ht=$e.length;ut<ht;++ut)this.remove($e[ut]);return this}function f(){return this._root}function g(){var $e=0;return this.visit(function(ut){if(!ut.length)do++$e;while(ut=ut.next)}),$e}function h($e){var ut=[],ht,vt=this._root,xt,St,tt,Ie,Ve;for(vt&&ut.push(new o(vt,this._x0,this._y0,this._x1,this._y1));ht=ut.pop();)if(!$e(vt=ht.node,St=ht.x0,tt=ht.y0,Ie=ht.x1,Ve=ht.y1)&&vt.length){var Ge=(St+Ie)/2,Xe=(tt+Ve)/2;(xt=vt[3])&&ut.push(new o(xt,Ge,Xe,Ie,Ve)),(xt=vt[2])&&ut.push(new o(xt,St,Xe,Ge,Ve)),(xt=vt[1])&&ut.push(new o(xt,Ge,tt,Ie,Xe)),(xt=vt[0])&&ut.push(new o(xt,St,tt,Ge,Xe))}return this}function w($e){var ut=[],ht=[],vt;for(this._root&&ut.push(new o(this._root,this._x0,this._y0,this._x1,this._y1));vt=ut.pop();){var xt=vt.node;if(xt.length){var St,tt=vt.x0,Ie=vt.y0,Ve=vt.x1,Ge=vt.y1,Xe=(tt+Ve)/2,Le=(Ie+Ge)/2;(St=xt[0])&&ut.push(new o(St,tt,Ie,Xe,Le)),(St=xt[1])&&ut.push(new o(St,Xe,Ie,Ve,Le)),(St=xt[2])&&ut.push(new o(St,tt,Le,Xe,Ge)),(St=xt[3])&&ut.push(new o(St,Xe,Le,Ve,Ge))}ht.push(vt)}for(;vt=ht.pop();)$e(vt.node,vt.x0,vt.y0,vt.x1,vt.y1);return this}function c($e){return $e[0]}function a($e){return arguments.length?(this._x=$e,this):this._x}function d($e){return $e[1]}function x($e){return arguments.length?(this._y=$e,this):this._y}function T($e,ut,ht){var vt=new C(ut??c,ht??d,NaN,NaN,NaN,NaN);return $e==null?vt:vt.addAll($e)}function C($e,ut,ht,vt,xt,St){this._x=$e,this._y=ut,this._x0=ht,this._y0=vt,this._x1=xt,this._y1=St,this._root=void 0}function y($e){for(var ut={data:$e.data},ht=ut;$e=$e.next;)ht=ht.next={data:$e.data};return ut}var S=T.prototype=C.prototype;S.copy=function(){var $e=new C(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ut=this._root,ht,vt;if(!ut)return $e;if(!ut.length)return $e._root=y(ut),$e;for(ht=[{source:ut,target:$e._root=new Array(4)}];ut=ht.pop();)for(var xt=0;xt<4;++xt)(vt=ut.source[xt])&&(vt.length?ht.push({source:vt,target:ut.target[xt]=new Array(4)}):ut.target[xt]=y(vt));return $e},S.add=L,S.addAll=v,S.cover=p,S.data=r,S.extent=t,S.find=n,S.remove=l,S.removeAll=u,S.root=f,S.size=g,S.visit=h,S.visitAfter=w,S.x=a,S.y=x;function A($e){return $e.x+$e.vx}function i($e){return $e.y+$e.vy}function E($e){var ut,ht,vt=1,xt=1;typeof $e!="function"&&($e=P($e==null?1:+$e));function St(){for(var Ve,Ge=ut.length,Xe,Le,Fe,Ue,Ee,he,ye=0;ye<xt;++ye)for(Xe=T(ut,A,i).visitAfter(tt),Ve=0;Ve<Ge;++Ve)Le=ut[Ve],Ee=ht[Le.index],he=Ee*Ee,Fe=Le.x+Le.vx,Ue=Le.y+Le.vy,Xe.visit(_e);function _e(We,rt,st,Vt,Xt){var Tt=We.data,Lt=We.r,Kt=Ee+Lt;if(Tt){if(Tt.index>Le.index){var vr=Fe-Tt.x-Tt.vx,pt=Ue-Tt.y-Tt.vy,jt=vr*vr+pt*pt;jt<Kt*Kt&&(vr===0&&(vr=s(),jt+=vr*vr),pt===0&&(pt=s(),jt+=pt*pt),jt=(Kt-(jt=Math.sqrt(jt)))/jt*vt,Le.vx+=(vr*=jt)*(Kt=(Lt*=Lt)/(he+Lt)),Le.vy+=(pt*=jt)*Kt,Tt.vx-=vr*(Kt=1-Kt),Tt.vy-=pt*Kt)}return}return rt>Fe+Kt||Vt<Fe-Kt||st>Ue+Kt||Xt<Ue-Kt}}function tt(Ve){if(Ve.data)return Ve.r=ht[Ve.data.index];for(var Ge=Ve.r=0;Ge<4;++Ge)Ve[Ge]&&Ve[Ge].r>Ve.r&&(Ve.r=Ve[Ge].r)}function Ie(){if(ut){var Ve,Ge=ut.length,Xe;for(ht=new Array(Ge),Ve=0;Ve<Ge;++Ve)Xe=ut[Ve],ht[Xe.index]=+$e(Xe,Ve,ut)}}return St.initialize=function(Ve){ut=Ve,Ie()},St.iterations=function(Ve){return arguments.length?(xt=+Ve,St):xt},St.strength=function(Ve){return arguments.length?(vt=+Ve,St):vt},St.radius=function(Ve){return arguments.length?($e=typeof Ve=="function"?Ve:P(+Ve),Ie(),St):$e},St}var m=e(34712);function k($e){return $e.index}function I($e,ut){var ht=$e.get(ut);if(!ht)throw new Error("missing: "+ut);return ht}function O($e){var ut=k,ht=Xe,vt,xt=P(30),St,tt,Ie,Ve,Ge=1;$e==null&&($e=[]);function Xe(he){return 1/Math.min(Ie[he.source.index],Ie[he.target.index])}function Le(he){for(var ye=0,_e=$e.length;ye<Ge;++ye)for(var We=0,rt,st,Vt,Xt,Tt,Lt,Kt;We<_e;++We)rt=$e[We],st=rt.source,Vt=rt.target,Xt=Vt.x+Vt.vx-st.x-st.vx||s(),Tt=Vt.y+Vt.vy-st.y-st.vy||s(),Lt=Math.sqrt(Xt*Xt+Tt*Tt),Lt=(Lt-St[We])/Lt*he*vt[We],Xt*=Lt,Tt*=Lt,Vt.vx-=Xt*(Kt=Ve[We]),Vt.vy-=Tt*Kt,st.vx+=Xt*(Kt=1-Kt),st.vy+=Tt*Kt}function Fe(){if(tt){var he,ye=tt.length,_e=$e.length,We=(0,m.kH)(tt,ut),rt;for(he=0,Ie=new Array(ye);he<_e;++he)rt=$e[he],rt.index=he,typeof rt.source!="object"&&(rt.source=I(We,rt.source)),typeof rt.target!="object"&&(rt.target=I(We,rt.target)),Ie[rt.source.index]=(Ie[rt.source.index]||0)+1,Ie[rt.target.index]=(Ie[rt.target.index]||0)+1;for(he=0,Ve=new Array(_e);he<_e;++he)rt=$e[he],Ve[he]=Ie[rt.source.index]/(Ie[rt.source.index]+Ie[rt.target.index]);vt=new Array(_e),Ue(),St=new Array(_e),Ee()}}function Ue(){if(tt)for(var he=0,ye=$e.length;he<ye;++he)vt[he]=+ht($e[he],he,$e)}function Ee(){if(tt)for(var he=0,ye=$e.length;he<ye;++he)St[he]=+xt($e[he],he,$e)}return Le.initialize=function(he){tt=he,Fe()},Le.links=function(he){return arguments.length?($e=he,Fe(),Le):$e},Le.id=function(he){return arguments.length?(ut=he,Le):ut},Le.iterations=function(he){return arguments.length?(Ge=+he,Le):Ge},Le.strength=function(he){return arguments.length?(ht=typeof he=="function"?he:P(+he),Ue(),Le):ht},Le.distance=function(he){return arguments.length?(xt=typeof he=="function"?he:P(+he),Ee(),Le):xt},Le}var _={value:function(){}};function B(){for(var $e=0,ut=arguments.length,ht={},vt;$e<ut;++$e){if(!(vt=arguments[$e]+"")||vt in ht||/[\s.]/.test(vt))throw new Error("illegal type: "+vt);ht[vt]=[]}return new F(ht)}function F($e){this._=$e}function z($e,ut){return $e.trim().split(/^|\s+/).map(function(ht){var vt="",xt=ht.indexOf(".");if(xt>=0&&(vt=ht.slice(xt+1),ht=ht.slice(0,xt)),ht&&!ut.hasOwnProperty(ht))throw new Error("unknown type: "+ht);return{type:ht,name:vt}})}F.prototype=B.prototype={constructor:F,on:function($e,ut){var ht=this._,vt=z($e+"",ht),xt,St=-1,tt=vt.length;if(arguments.length<2){for(;++St<tt;)if((xt=($e=vt[St]).type)&&(xt=N(ht[xt],$e.name)))return xt;return}if(ut!=null&&typeof ut!="function")throw new Error("invalid callback: "+ut);for(;++St<tt;)if(xt=($e=vt[St]).type)ht[xt]=W(ht[xt],$e.name,ut);else if(ut==null)for(xt in ht)ht[xt]=W(ht[xt],$e.name,null);return this},copy:function(){var $e={},ut=this._;for(var ht in ut)$e[ht]=ut[ht].slice();return new F($e)},call:function($e,ut){if((xt=arguments.length-2)>0)for(var ht=new Array(xt),vt=0,xt,St;vt<xt;++vt)ht[vt]=arguments[vt+2];if(!this._.hasOwnProperty($e))throw new Error("unknown type: "+$e);for(St=this._[$e],vt=0,xt=St.length;vt<xt;++vt)St[vt].value.apply(ut,ht)},apply:function($e,ut,ht){if(!this._.hasOwnProperty($e))throw new Error("unknown type: "+$e);for(var vt=this._[$e],xt=0,St=vt.length;xt<St;++xt)vt[xt].value.apply(ut,ht)}};function N($e,ut){for(var ht=0,vt=$e.length,xt;ht<vt;++ht)if((xt=$e[ht]).name===ut)return xt.value}function W($e,ut,ht){for(var vt=0,xt=$e.length;vt<xt;++vt)if($e[vt].name===ut){$e[vt]=_,$e=$e.slice(0,vt).concat($e.slice(vt+1));break}return ht!=null&&$e.push({name:ut,value:ht}),$e}var Z=B,q=0,re=0,le=0,ie=1e3,K,$,X=0,Q=0,se=0,J=typeof performance=="object"&&performance.now?performance:Date,G=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function($e){setTimeout($e,17)};function oe(){return Q||(G(te),Q=J.now()+se)}function te(){Q=0}function fe(){this._call=this._time=this._next=null}fe.prototype=ge.prototype={constructor:fe,restart:function($e,ut,ht){if(typeof $e!="function")throw new TypeError("callback is not a function");ht=(ht==null?oe():+ht)+(ut==null?0:+ut),!this._next&&$!==this&&($?$._next=this:K=this,$=this),this._call=$e,this._time=ht,Oe()},stop:function(){this._call&&(this._call=null,this._time=1/0,Oe())}};function ge($e,ut,ht){var vt=new fe;return vt.restart($e,ut,ht),vt}function we(){oe(),++q;for(var $e=K,ut;$e;)(ut=Q-$e._time)>=0&&$e._call.call(null,ut),$e=$e._next;--q}function xe(){Q=(X=J.now())+se,q=re=0;try{we()}finally{q=0,De(),Q=0}}function Ce(){var $e=J.now(),ut=$e-X;ut>ie&&(se-=ut,X=$e)}function De(){for(var $e,ut=K,ht,vt=1/0;ut;)ut._call?(vt>ut._time&&(vt=ut._time),$e=ut,ut=ut._next):(ht=ut._next,ut._next=null,ut=$e?$e._next=ht:K=ht);$=$e,Oe(vt)}function Oe($e){if(!q){re&&(re=clearTimeout(re));var ut=$e-Q;ut>24?($e<1/0&&(re=setTimeout(xe,$e-J.now()-se)),le&&(le=clearInterval(le))):(le||(X=J.now(),le=setInterval(Ce,ie)),q=1,G(xe))}}function Te($e){return $e.x}function Re($e){return $e.y}var Me=10,ke=Math.PI*(3-Math.sqrt(5));function Se($e){var ut,ht=1,vt=.001,xt=1-Math.pow(vt,1/300),St=0,tt=.6,Ie=(0,m.kH)(),Ve=ge(Xe),Ge=Z("tick","end");$e==null&&($e=[]);function Xe(){Le(),Ge.call("tick",ut),ht<vt&&(Ve.stop(),Ge.call("end",ut))}function Le(Ee){var he,ye=$e.length,_e;Ee===void 0&&(Ee=1);for(var We=0;We<Ee;++We)for(ht+=(St-ht)*xt,Ie.each(function(rt){rt(ht)}),he=0;he<ye;++he)_e=$e[he],_e.fx==null?_e.x+=_e.vx*=tt:(_e.x=_e.fx,_e.vx=0),_e.fy==null?_e.y+=_e.vy*=tt:(_e.y=_e.fy,_e.vy=0);return ut}function Fe(){for(var Ee=0,he=$e.length,ye;Ee<he;++Ee){if(ye=$e[Ee],ye.index=Ee,ye.fx!=null&&(ye.x=ye.fx),ye.fy!=null&&(ye.y=ye.fy),isNaN(ye.x)||isNaN(ye.y)){var _e=Me*Math.sqrt(Ee),We=Ee*ke;ye.x=_e*Math.cos(We),ye.y=_e*Math.sin(We)}(isNaN(ye.vx)||isNaN(ye.vy))&&(ye.vx=ye.vy=0)}}function Ue(Ee){return Ee.initialize&&Ee.initialize($e),Ee}return Fe(),ut={tick:Le,restart:function(){return Ve.restart(Xe),ut},stop:function(){return Ve.stop(),ut},nodes:function(Ee){return arguments.length?($e=Ee,Fe(),Ie.each(Ue),ut):$e},alpha:function(Ee){return arguments.length?(ht=+Ee,ut):ht},alphaMin:function(Ee){return arguments.length?(vt=+Ee,ut):vt},alphaDecay:function(Ee){return arguments.length?(xt=+Ee,ut):+xt},alphaTarget:function(Ee){return arguments.length?(St=+Ee,ut):St},velocityDecay:function(Ee){return arguments.length?(tt=1-Ee,ut):1-tt},force:function(Ee,he){return arguments.length>1?(he==null?Ie.remove(Ee):Ie.set(Ee,Ue(he)),ut):Ie.get(Ee)},find:function(Ee,he,ye){var _e=0,We=$e.length,rt,st,Vt,Xt,Tt;for(ye==null?ye=1/0:ye*=ye,_e=0;_e<We;++_e)Xt=$e[_e],rt=Ee-Xt.x,st=he-Xt.y,Vt=rt*rt+st*st,Vt<ye&&(Tt=Xt,ye=Vt);return Tt},on:function(Ee,he){return arguments.length>1?(Ge.on(Ee,he),ut):Ge.on(Ee)}}}function He(){var $e,ut,ht,vt=P(-30),xt,St=1,tt=1/0,Ie=.81;function Ve(Fe){var Ue,Ee=$e.length,he=T($e,Te,Re).visitAfter(Xe);for(ht=Fe,Ue=0;Ue<Ee;++Ue)ut=$e[Ue],he.visit(Le)}function Ge(){if($e){var Fe,Ue=$e.length,Ee;for(xt=new Array(Ue),Fe=0;Fe<Ue;++Fe)Ee=$e[Fe],xt[Ee.index]=+vt(Ee,Fe,$e)}}function Xe(Fe){var Ue=0,Ee,he,ye=0,_e,We,rt;if(Fe.length){for(_e=We=rt=0;rt<4;++rt)(Ee=Fe[rt])&&(he=Math.abs(Ee.value))&&(Ue+=Ee.value,ye+=he,_e+=he*Ee.x,We+=he*Ee.y);Fe.x=_e/ye,Fe.y=We/ye}else{Ee=Fe,Ee.x=Ee.data.x,Ee.y=Ee.data.y;do Ue+=xt[Ee.data.index];while(Ee=Ee.next)}Fe.value=Ue}function Le(Fe,Ue,Ee,he){if(!Fe.value)return!0;var ye=Fe.x-ut.x,_e=Fe.y-ut.y,We=he-Ue,rt=ye*ye+_e*_e;if(We*We/Ie<rt)return rt<tt&&(ye===0&&(ye=s(),rt+=ye*ye),_e===0&&(_e=s(),rt+=_e*_e),rt<St&&(rt=Math.sqrt(St*rt)),ut.vx+=ye*Fe.value*ht/rt,ut.vy+=_e*Fe.value*ht/rt),!0;if(Fe.length||rt>=tt)return;(Fe.data!==ut||Fe.next)&&(ye===0&&(ye=s(),rt+=ye*ye),_e===0&&(_e=s(),rt+=_e*_e),rt<St&&(rt=Math.sqrt(St*rt)));do Fe.data!==ut&&(We=xt[Fe.data.index]*ht/rt,ut.vx+=ye*We,ut.vy+=_e*We);while(Fe=Fe.next)}return Ve.initialize=function(Fe){$e=Fe,Ge()},Ve.strength=function(Fe){return arguments.length?(vt=typeof Fe=="function"?Fe:P(+Fe),Ge(),Ve):vt},Ve.distanceMin=function(Fe){return arguments.length?(St=Fe*Fe,Ve):Math.sqrt(St)},Ve.distanceMax=function(Fe){return arguments.length?(tt=Fe*Fe,Ve):Math.sqrt(tt)},Ve.theta=function(Fe){return arguments.length?(Ie=Fe*Fe,Ve):Math.sqrt(Ie)},Ve}function je($e,ut,ht){var vt,xt=P(.1),St,tt;typeof $e!="function"&&($e=P(+$e)),ut==null&&(ut=0),ht==null&&(ht=0);function Ie(Ge){for(var Xe=0,Le=vt.length;Xe<Le;++Xe){var Fe=vt[Xe],Ue=Fe.x-ut||1e-6,Ee=Fe.y-ht||1e-6,he=Math.sqrt(Ue*Ue+Ee*Ee),ye=(tt[Xe]-he)*St[Xe]*Ge/he;Fe.vx+=Ue*ye,Fe.vy+=Ee*ye}}function Ve(){if(vt){var Ge,Xe=vt.length;for(St=new Array(Xe),tt=new Array(Xe),Ge=0;Ge<Xe;++Ge)tt[Ge]=+$e(vt[Ge],Ge,vt),St[Ge]=isNaN(tt[Ge])?0:+xt(vt[Ge],Ge,vt)}}return Ie.initialize=function(Ge){vt=Ge,Ve()},Ie.strength=function(Ge){return arguments.length?(xt=typeof Ge=="function"?Ge:P(+Ge),Ve(),Ie):xt},Ie.radius=function(Ge){return arguments.length?($e=typeof Ge=="function"?Ge:P(+Ge),Ve(),Ie):$e},Ie.x=function(Ge){return arguments.length?(ut=+Ge,Ie):ut},Ie.y=function(Ge){return arguments.length?(ht=+Ge,Ie):ht},Ie}function at($e){var ut=P(.1),ht,vt,xt;typeof $e!="function"&&($e=P($e==null?0:+$e));function St(Ie){for(var Ve=0,Ge=ht.length,Xe;Ve<Ge;++Ve)Xe=ht[Ve],Xe.vx+=(xt[Ve]-Xe.x)*vt[Ve]*Ie}function tt(){if(ht){var Ie,Ve=ht.length;for(vt=new Array(Ve),xt=new Array(Ve),Ie=0;Ie<Ve;++Ie)vt[Ie]=isNaN(xt[Ie]=+$e(ht[Ie],Ie,ht))?0:+ut(ht[Ie],Ie,ht)}}return St.initialize=function(Ie){ht=Ie,tt()},St.strength=function(Ie){return arguments.length?(ut=typeof Ie=="function"?Ie:P(+Ie),tt(),St):ut},St.x=function(Ie){return arguments.length?($e=typeof Ie=="function"?Ie:P(+Ie),tt(),St):$e},St}function Ze($e){var ut=P(.1),ht,vt,xt;typeof $e!="function"&&($e=P($e==null?0:+$e));function St(Ie){for(var Ve=0,Ge=ht.length,Xe;Ve<Ge;++Ve)Xe=ht[Ve],Xe.vy+=(xt[Ve]-Xe.y)*vt[Ve]*Ie}function tt(){if(ht){var Ie,Ve=ht.length;for(vt=new Array(Ve),xt=new Array(Ve),Ie=0;Ie<Ve;++Ie)vt[Ie]=isNaN(xt[Ie]=+$e(ht[Ie],Ie,ht))?0:+ut(ht[Ie],Ie,ht)}}return St.initialize=function(Ie){ht=Ie,tt()},St.strength=function(Ie){return arguments.length?(ut=typeof Ie=="function"?Ie:P(+Ie),tt(),St):ut},St.y=function(Ie){return arguments.length?($e=typeof Ie=="function"?Ie:P(+Ie),tt(),St):$e},St}},57624:function(Y,V,e){e.d(V,{E9:function(){return a},SO:function(){return w}});function b(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)}function P(x,T){if((C=(x=T?x.toExponential(T-1):x.toExponential()).indexOf("e"))<0)return null;var C,y=x.slice(0,C);return[y.length>1?y[0]+y.slice(2):y,+x.slice(C+1)]}function s(x){return x=P(Math.abs(x)),x?x[1]:NaN}function L(x,T){return function(C,y){for(var S=C.length,A=[],i=0,E=x[0],m=0;S>0&&E>0&&(m+E+1>y&&(E=Math.max(1,y-m)),A.push(C.substring(S-=E,S+E)),!((m+=E+1)>y));)E=x[i=(i+1)%x.length];return A.reverse().join(T)}}function M(x){return function(T){return T.replace(/[0-9]/g,function(C){return x[+C]})}}var v=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function p(x){if(!(T=v.exec(x)))throw new Error("invalid format: "+x);var T;return new r({fill:T[1],align:T[2],sign:T[3],symbol:T[4],zero:T[5],width:T[6],comma:T[7],precision:T[8]&&T[8].slice(1),trim:T[9],type:T[10]})}p.prototype=r.prototype;function r(x){this.fill=x.fill===void 0?" ":x.fill+"",this.align=x.align===void 0?">":x.align+"",this.sign=x.sign===void 0?"-":x.sign+"",this.symbol=x.symbol===void 0?"":x.symbol+"",this.zero=!!x.zero,this.width=x.width===void 0?void 0:+x.width,this.comma=!!x.comma,this.precision=x.precision===void 0?void 0:+x.precision,this.trim=!!x.trim,this.type=x.type===void 0?"":x.type+""}r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function t(x){e:for(var T=x.length,C=1,y=-1,S;C<T;++C)switch(x[C]){case".":y=S=C;break;case"0":y===0&&(y=C),S=C;break;default:if(!+x[C])break e;y>0&&(y=0);break}return y>0?x.slice(0,y)+x.slice(S+1):x}var o;function n(x,T){var C=P(x,T);if(!C)return x+"";var y=C[0],S=C[1],A=S-(o=Math.max(-8,Math.min(8,Math.floor(S/3)))*3)+1,i=y.length;return A===i?y:A>i?y+new Array(A-i+1).join("0"):A>0?y.slice(0,A)+"."+y.slice(A):"0."+new Array(1-A).join("0")+P(x,Math.max(0,T+A-1))[0]}function l(x,T){var C=P(x,T);if(!C)return x+"";var y=C[0],S=C[1];return S<0?"0."+new Array(-S).join("0")+y:y.length>S+1?y.slice(0,S+1)+"."+y.slice(S+1):y+new Array(S-y.length+2).join("0")}var u={"%":function(x,T){return(x*100).toFixed(T)},b:function(x){return Math.round(x).toString(2)},c:function(x){return x+""},d:b,e:function(x,T){return x.toExponential(T)},f:function(x,T){return x.toFixed(T)},g:function(x,T){return x.toPrecision(T)},o:function(x){return Math.round(x).toString(8)},p:function(x,T){return l(x*100,T)},r:l,s:n,X:function(x){return Math.round(x).toString(16).toUpperCase()},x:function(x){return Math.round(x).toString(16)}};function f(x){return x}var g=Array.prototype.map,h=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function w(x){var T=x.grouping===void 0||x.thousands===void 0?f:L(g.call(x.grouping,Number),x.thousands+""),C=x.currency===void 0?"":x.currency[0]+"",y=x.currency===void 0?"":x.currency[1]+"",S=x.decimal===void 0?".":x.decimal+"",A=x.numerals===void 0?f:M(g.call(x.numerals,String)),i=x.percent===void 0?"%":x.percent+"",E=x.minus===void 0?"-":x.minus+"",m=x.nan===void 0?"NaN":x.nan+"";function k(O){O=p(O);var _=O.fill,B=O.align,F=O.sign,z=O.symbol,N=O.zero,W=O.width,Z=O.comma,q=O.precision,re=O.trim,le=O.type;le==="n"?(Z=!0,le="g"):u[le]||(q===void 0&&(q=12),re=!0,le="g"),(N||_==="0"&&B==="=")&&(N=!0,_="0",B="=");var ie=z==="$"?C:z==="#"&&/[boxX]/.test(le)?"0"+le.toLowerCase():"",K=z==="$"?y:/[%p]/.test(le)?i:"",$=u[le],X=/[defgprs%]/.test(le);q=q===void 0?6:/[gprs]/.test(le)?Math.max(1,Math.min(21,q)):Math.max(0,Math.min(20,q));function Q(se){var J=ie,G=K,oe,te,fe;if(le==="c")G=$(se)+G,se="";else{se=+se;var ge=se<0||1/se<0;if(se=isNaN(se)?m:$(Math.abs(se),q),re&&(se=t(se)),ge&&+se==0&&F!=="+"&&(ge=!1),J=(ge?F==="("?F:E:F==="-"||F==="("?"":F)+J,G=(le==="s"?h[8+o/3]:"")+G+(ge&&F==="("?")":""),X){for(oe=-1,te=se.length;++oe<te;)if(fe=se.charCodeAt(oe),48>fe||fe>57){G=(fe===46?S+se.slice(oe+1):se.slice(oe))+G,se=se.slice(0,oe);break}}}Z&&!N&&(se=T(se,1/0));var we=J.length+se.length+G.length,xe=we<W?new Array(W-we+1).join(_):"";switch(Z&&N&&(se=T(xe+se,xe.length?W-G.length:1/0),xe=""),B){case"<":se=J+se+G+xe;break;case"=":se=J+xe+se+G;break;case"^":se=xe.slice(0,we=xe.length>>1)+J+se+G+xe.slice(we);break;default:se=xe+J+se+G;break}return A(se)}return Q.toString=function(){return O+""},Q}function I(O,_){var B=k((O=p(O),O.type="f",O)),F=Math.max(-8,Math.min(8,Math.floor(s(_)/3)))*3,z=Math.pow(10,-F),N=h[8+F/3];return function(W){return B(z*W)+N}}return{format:k,formatPrefix:I}}var c,a;d({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function d(x){return c=w(x),a=c.format,c.formatPrefix,c}},87108:function(Y,V,e){e.r(V),e.d(V,{geoAiry:function(){return N},geoAiryRaw:function(){return z},geoAitoff:function(){return Z},geoAitoffRaw:function(){return W},geoArmadillo:function(){return re},geoArmadilloRaw:function(){return q},geoAugust:function(){return ie},geoAugustRaw:function(){return le},geoBaker:function(){return Q},geoBakerRaw:function(){return X},geoBerghaus:function(){return G},geoBerghausRaw:function(){return J},geoBertin1953:function(){return De},geoBertin1953Raw:function(){return Ce},geoBoggs:function(){return je},geoBoggsRaw:function(){return He},geoBonne:function(){return ht},geoBonneRaw:function(){return ut},geoBottomley:function(){return xt},geoBottomleyRaw:function(){return vt},geoBromley:function(){return tt},geoBromleyRaw:function(){return St},geoChamberlin:function(){return he},geoChamberlinAfrica:function(){return Ee},geoChamberlinRaw:function(){return Fe},geoCollignon:function(){return _e},geoCollignonRaw:function(){return ye},geoCraig:function(){return rt},geoCraigRaw:function(){return We},geoCraster:function(){return Xt},geoCrasterRaw:function(){return Vt},geoCylindricalEqualArea:function(){return Lt},geoCylindricalEqualAreaRaw:function(){return Tt},geoCylindricalStereographic:function(){return vr},geoCylindricalStereographicRaw:function(){return Kt},geoEckert1:function(){return jt},geoEckert1Raw:function(){return pt},geoEckert2:function(){return mr},geoEckert2Raw:function(){return $t},geoEckert3:function(){return gt},geoEckert3Raw:function(){return or},geoEckert4:function(){return bt},geoEckert4Raw:function(){return lt},geoEckert5:function(){return kt},geoEckert5Raw:function(){return Et},geoEckert6:function(){return Ft},geoEckert6Raw:function(){return Ot},geoEisenlohr:function(){return hr},geoEisenlohrRaw:function(){return Jt},geoFahey:function(){return fr},geoFaheyRaw:function(){return dr},geoFoucaut:function(){return xr},geoFoucautRaw:function(){return Lr},geoFoucautSinusoidal:function(){return et},geoFoucautSinusoidalRaw:function(){return Ke},geoGilbert:function(){return Zt},geoGingery:function(){return yr},geoGingeryRaw:function(){return nr},geoGinzburg4:function(){return vn},geoGinzburg4Raw:function(){return Tr},geoGinzburg5:function(){return En},geoGinzburg5Raw:function(){return Or},geoGinzburg6:function(){return gr},geoGinzburg6Raw:function(){return nn},geoGinzburg8:function(){return Xr},geoGinzburg8Raw:function(){return Pr},geoGinzburg9:function(){return pn},geoGinzburg9Raw:function(){return kr},geoGringorten:function(){return pa},geoGringortenQuincuncial:function(){return ih},geoGringortenRaw:function(){return Tn},geoGuyou:function(){return ln},geoGuyouRaw:function(){return Cr},geoHammer:function(){return ge},geoHammerRaw:function(){return te},geoHammerRetroazimuthal:function(){return Bn},geoHammerRetroazimuthalRaw:function(){return gn},geoHealpix:function(){return cn},geoHealpixRaw:function(){return Mr},geoHill:function(){return Yr},geoHillRaw:function(){return Er},geoHomolosine:function(){return Nn},geoHomolosineRaw:function(){return Fn},geoHufnagel:function(){return Wn},geoHufnagelRaw:function(){return _n},geoHyperelliptical:function(){return di},geoHyperellipticalRaw:function(){return Ca},geoInterrupt:function(){return qi},geoInterruptedBoggs:function(){return Sl},geoInterruptedHomolosine:function(){return ei},geoInterruptedMollweide:function(){return sf},geoInterruptedMollweideHemispheres:function(){return xo},geoInterruptedQuarticAuthalic:function(){return Us},geoInterruptedSinuMollweide:function(){return zu},geoInterruptedSinusoidal:function(){return Cl},geoKavrayskiy7:function(){return Ui},geoKavrayskiy7Raw:function(){return _i},geoLagrange:function(){return eo},geoLagrangeRaw:function(){return Ll},geoLarrivee:function(){return Gf},geoLarriveeRaw:function(){return ko},geoLaskowski:function(){return Yc},geoLaskowskiRaw:function(){return Co},geoLittrow:function(){return Zi},geoLittrowRaw:function(){return us},geoLoximuthal:function(){return Ns},geoLoximuthalRaw:function(){return lf},geoMiller:function(){return uf},geoMillerRaw:function(){return fs},geoModifiedStereographic:function(){return il},geoModifiedStereographicAlaska:function(){return ff},geoModifiedStereographicGs48:function(){return Jc},geoModifiedStereographicGs50:function(){return Qc},geoModifiedStereographicLee:function(){return Xf},geoModifiedStereographicMiller:function(){return Yf},geoModifiedStereographicRaw:function(){return Wf},geoMollweide:function(){return Me},geoMollweideRaw:function(){return Re},geoMtFlatPolarParabolic:function(){return jf},geoMtFlatPolarParabolicRaw:function(){return au},geoMtFlatPolarQuartic:function(){return $c},geoMtFlatPolarQuarticRaw:function(){return Ms},geoMtFlatPolarSinusoidal:function(){return Zf},geoMtFlatPolarSinusoidalRaw:function(){return Ou},geoNaturalEarth:function(){return Kf.c},geoNaturalEarth2:function(){return Yo},geoNaturalEarth2Raw:function(){return Bu},geoNaturalEarthRaw:function(){return Kf.g},geoNellHammer:function(){return ol},geoNellHammerRaw:function(){return Rl},geoNicolosi:function(){return cf},geoNicolosiRaw:function(){return cs},geoPatterson:function(){return _l},geoPattersonRaw:function(){return Uu},geoPeirceQuincuncial:function(){return tc},geoPierceQuincuncial:function(){return tc},geoPolyconic:function(){return eh},geoPolyconicRaw:function(){return Vu},geoPolyhedral:function(){return pi},geoPolyhedralButterfly:function(){return su},geoPolyhedralCollignon:function(){return ll},geoPolyhedralWaterman:function(){return Hs},geoProject:function(){return nh},geoQuantize:function(){return rc},geoQuincuncial:function(){return Cs},geoRectangularPolyconic:function(){return nc},geoRectangularPolyconicRaw:function(){return mf},geoRobinson:function(){return Gs},geoRobinsonRaw:function(){return Qo},geoSatellite:function(){return ul},geoSatelliteRaw:function(){return Yu},geoSinuMollweide:function(){return An},geoSinuMollweideRaw:function(){return wn},geoSinusoidal:function(){return $e},geoSinusoidalRaw:function(){return Ze},geoStitch:function(){return du},geoTimes:function(){return Vi},geoTimesRaw:function(){return Xs},geoTwoPointAzimuthal:function(){return Zu},geoTwoPointAzimuthalRaw:function(){return bf},geoTwoPointAzimuthalUsa:function(){return cl},geoTwoPointEquidistant:function(){return oc},geoTwoPointEquidistantRaw:function(){return pu},geoTwoPointEquidistantUsa:function(){return oh},geoVanDerGrinten:function(){return gu},geoVanDerGrinten2:function(){return sc},geoVanDerGrinten2Raw:function(){return Gl},geoVanDerGrinten3:function(){return sh},geoVanDerGrinten3Raw:function(){return js},geoVanDerGrinten4:function(){return yu},geoVanDerGrinten4Raw:function(){return Po},geoVanDerGrintenRaw:function(){return vo},geoWagner:function(){return Zs},geoWagner4:function(){return lc},geoWagner4Raw:function(){return Ju},geoWagner6:function(){return Tf},geoWagner6Raw:function(){return bu},geoWagner7:function(){return wf},geoWagnerRaw:function(){return Rs},geoWiechel:function(){return Af},geoWiechelRaw:function(){return hl},geoWinkel3:function(){return uc},geoWinkel3Raw:function(){return wu}});var b=e(87952),P=Math.abs,s=Math.atan,L=Math.atan2,M=Math.cos,v=Math.exp,p=Math.floor,r=Math.log,t=Math.max,o=Math.min,n=Math.pow,l=Math.round,u=Math.sign||function(Je){return Je>0?1:Je<0?-1:0},f=Math.sin,g=Math.tan,h=1e-6,w=1e-12,c=Math.PI,a=c/2,d=c/4,x=Math.SQRT1_2,T=k(2),C=k(c),y=c*2,S=180/c,A=c/180;function i(Je){return Je?Je/Math.sin(Je):1}function E(Je){return Je>1?a:Je<-1?-a:Math.asin(Je)}function m(Je){return Je>1?0:Je<-1?c:Math.acos(Je)}function k(Je){return Je>0?Math.sqrt(Je):0}function I(Je){return Je=v(2*Je),(Je-1)/(Je+1)}function O(Je){return(v(Je)-v(-Je))/2}function _(Je){return(v(Je)+v(-Je))/2}function B(Je){return r(Je+k(Je*Je+1))}function F(Je){return r(Je+k(Je*Je-1))}function z(Je){var it=g(Je/2),yt=2*r(M(Je/2))/(it*it);function wt(_t,It){var zt=M(_t),pr=M(It),wr=f(It),sr=pr*zt,Sr=-((1-sr?r((1+sr)/2)/(1-sr):-.5)+yt/(1+sr));return[Sr*pr*f(_t),Sr*wr]}return wt.invert=function(_t,It){var zt=k(_t*_t+It*It),pr=-Je/2,wr=50,sr;if(!zt)return[0,0];do{var Sr=pr/2,zr=M(Sr),Vr=f(Sr),rn=Vr/zr,bn=-r(P(zr));pr-=sr=(2/rn*bn-yt*rn-zt)/(-bn/(Vr*Vr)+1-yt/(2*zr*zr))*(zr<0?.7:1)}while(P(sr)>h&&--wr>0);var Pn=f(pr);return[L(_t*Pn,zt*M(pr)),E(It*Pn/zt)]},wt}function N(){var Je=a,it=(0,b.U)(z),yt=it(Je);return yt.radius=function(wt){return arguments.length?it(Je=wt*A):Je*S},yt.scale(179.976).clipAngle(147)}function W(Je,it){var yt=M(it),wt=i(m(yt*M(Je/=2)));return[2*yt*f(Je)*wt,f(it)*wt]}W.invert=function(Je,it){if(!(Je*Je+4*it*it>c*c+h)){var yt=Je,wt=it,_t=25;do{var It=f(yt),zt=f(yt/2),pr=M(yt/2),wr=f(wt),sr=M(wt),Sr=f(2*wt),zr=wr*wr,Vr=sr*sr,rn=zt*zt,bn=1-Vr*pr*pr,Pn=bn?m(sr*pr)*k(In=1/bn):In=0,In,Kn=2*Pn*sr*zt-Je,La=Pn*wr-it,Pa=In*(Vr*rn+Pn*sr*pr*zr),Da=In*(.5*It*Sr-Pn*2*wr*zt),za=In*.25*(Sr*zt-Pn*wr*Vr*It),ja=In*(zr*pr+Pn*rn*sr),hi=Da*za-ja*Pa;if(!hi)break;var ki=(La*Da-Kn*ja)/hi,ue=(Kn*za-La*Pa)/hi;yt-=ki,wt-=ue}while((P(ki)>h||P(ue)>h)&&--_t>0);return[yt,wt]}};function Z(){return(0,b.c)(W).scale(152.63)}function q(Je){var it=f(Je),yt=M(Je),wt=Je>=0?1:-1,_t=g(wt*Je),It=(1+it-yt)/2;function zt(pr,wr){var sr=M(wr),Sr=M(pr/=2);return[(1+sr)*f(pr),(wt*wr>-L(Sr,_t)-.001?0:-wt*10)+It+f(wr)*yt-(1+sr)*it*Sr]}return zt.invert=function(pr,wr){var sr=0,Sr=0,zr=50;do{var Vr=M(sr),rn=f(sr),bn=M(Sr),Pn=f(Sr),In=1+bn,Kn=In*rn-pr,La=It+Pn*yt-In*it*Vr-wr,Pa=In*Vr/2,Da=-rn*Pn,za=it*In*rn/2,ja=yt*bn+it*Vr*Pn,hi=Da*za-ja*Pa,ki=(La*Da-Kn*ja)/hi/2,ue=(Kn*za-La*Pa)/hi;P(ue)>2&&(ue/=2),sr-=ki,Sr-=ue}while((P(ki)>h||P(ue)>h)&&--zr>0);return wt*Sr>-L(M(sr),_t)-.001?[sr*2,Sr]:null},zt}function re(){var Je=20*A,it=Je>=0?1:-1,yt=g(it*Je),wt=(0,b.U)(q),_t=wt(Je),It=_t.stream;return _t.parallel=function(zt){return arguments.length?(yt=g((it=(Je=zt*A)>=0?1:-1)*Je),wt(Je)):Je*S},_t.stream=function(zt){var pr=_t.rotate(),wr=It(zt),sr=(_t.rotate([0,0]),It(zt)),Sr=_t.precision();return _t.rotate(pr),wr.sphere=function(){sr.polygonStart(),sr.lineStart();for(var zr=it*-180;it*zr<180;zr+=it*90)sr.point(zr,it*90);if(Je)for(;it*(zr-=3*it*Sr)>=-180;)sr.point(zr,it*-L(M(zr*A/2),yt)*S);sr.lineEnd(),sr.polygonEnd()},wr},_t.scale(218.695).center([0,28.0974])}function le(Je,it){var yt=g(it/2),wt=k(1-yt*yt),_t=1+wt*M(Je/=2),It=f(Je)*wt/_t,zt=yt/_t,pr=It*It,wr=zt*zt;return[1.3333333333333333*It*(3+pr-3*wr),1.3333333333333333*zt*(3+3*pr-wr)]}le.invert=function(Je,it){if(Je*=.375,it*=.375,!Je&&P(it)>1)return null;var yt=Je*Je,wt=it*it,_t=1+yt+wt,It=k((_t-k(_t*_t-4*it*it))/2),zt=E(It)/3,pr=It?F(P(it/It))/3:B(P(Je))/3,wr=M(zt),sr=_(pr),Sr=sr*sr-wr*wr;return[u(Je)*2*L(O(pr)*wr,.25-Sr),u(it)*2*L(sr*f(zt),.25+Sr)]};function ie(){return(0,b.c)(le).scale(66.1603)}var K=k(8),$=r(1+T);function X(Je,it){var yt=P(it);return yt<d?[Je,r(g(d+it/2))]:[Je*M(yt)*(2*T-1/f(yt)),u(it)*(2*T*(yt-d)-r(g(yt/2)))]}X.invert=function(Je,it){if((It=P(it))<$)return[Je,2*s(v(it))-a];var yt=d,wt=25,_t,It;do{var zt=M(yt/2),pr=g(yt/2);yt-=_t=(K*(yt-d)-r(pr)-It)/(K-zt*zt/(2*pr))}while(P(_t)>w&&--wt>0);return[Je/(M(yt)*(K-1/f(yt))),u(it)*yt]};function Q(){return(0,b.c)(X).scale(112.314)}var se=e(69020);function J(Je){var it=2*c/Je;function yt(wt,_t){var It=(0,se.O)(wt,_t);if(P(wt)>a){var zt=L(It[1],It[0]),pr=k(It[0]*It[0]+It[1]*It[1]),wr=it*l((zt-a)/it)+a,sr=L(f(zt-=wr),2-M(zt));zt=wr+E(c/pr*f(sr))-sr,It[0]=pr*M(zt),It[1]=pr*f(zt)}return It}return yt.invert=function(wt,_t){var It=k(wt*wt+_t*_t);if(It>a){var zt=L(_t,wt),pr=it*l((zt-a)/it)+a,wr=zt>pr?-1:1,sr=It*M(pr-zt),Sr=1/g(wr*m((sr-c)/k(c*(c-2*sr)+It*It)));zt=pr+2*s((Sr+wr*k(Sr*Sr-3))/3),wt=It*M(zt),_t=It*f(zt)}return se.O.invert(wt,_t)},yt}function G(){var Je=5,it=(0,b.U)(J),yt=it(Je),wt=yt.stream,_t=.01,It=-M(_t*A),zt=f(_t*A);return yt.lobes=function(pr){return arguments.length?it(Je=+pr):Je},yt.stream=function(pr){var wr=yt.rotate(),sr=wt(pr),Sr=(yt.rotate([0,0]),wt(pr));return yt.rotate(wr),sr.sphere=function(){Sr.polygonStart(),Sr.lineStart();for(var zr=0,Vr=360/Je,rn=2*c/Je,bn=90-180/Je,Pn=a;zr<Je;++zr,bn-=Vr,Pn-=rn)Sr.point(L(zt*M(Pn),It)*S,E(zt*f(Pn))*S),bn<-90?(Sr.point(-90,-180-bn-_t),Sr.point(-90,-180-bn+_t)):(Sr.point(90,bn+_t),Sr.point(90,bn-_t));Sr.lineEnd(),Sr.polygonEnd()},sr},yt.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var oe=e(54724);function te(Je,it){if(arguments.length<2&&(it=Je),it===1)return oe.y;if(it===1/0)return fe;function yt(wt,_t){var It=(0,oe.y)(wt/it,_t);return It[0]*=Je,It}return yt.invert=function(wt,_t){var It=oe.y.invert(wt/Je,_t);return It[0]*=it,It},yt}function fe(Je,it){return[Je*M(it)/M(it/=2),2*f(it)]}fe.invert=function(Je,it){var yt=2*E(it/2);return[Je*M(yt/2)/M(yt),yt]};function ge(){var Je=2,it=(0,b.U)(te),yt=it(Je);return yt.coefficient=function(wt){return arguments.length?it(Je=+wt):Je},yt.scale(169.529)}function we(Je,it,yt){var wt=100,_t,It,zt;yt=yt===void 0?0:+yt,it=+it;do It=Je(yt),zt=Je(yt+h),It===zt&&(zt=It+h),yt-=_t=-1*h*(It-it)/(It-zt);while(wt-- >0&&P(_t)>h);return wt<0?NaN:yt}function xe(Je,it,yt){return it===void 0&&(it=40),yt===void 0&&(yt=w),function(wt,_t,It,zt){var pr,wr,sr;It=It===void 0?0:+It,zt=zt===void 0?0:+zt;for(var Sr=0;Sr<it;Sr++){var zr=Je(It,zt),Vr=zr[0]-wt,rn=zr[1]-_t;if(P(Vr)<yt&&P(rn)<yt)break;var bn=Vr*Vr+rn*rn;if(bn>pr){It-=wr/=2,zt-=sr/=2;continue}pr=bn;var Pn=(It>0?-1:1)*yt,In=(zt>0?-1:1)*yt,Kn=Je(It+Pn,zt),La=Je(It,zt+In),Pa=(Kn[0]-zr[0])/Pn,Da=(Kn[1]-zr[1])/Pn,za=(La[0]-zr[0])/In,ja=(La[1]-zr[1])/In,hi=ja*Pa-Da*za,ki=(P(hi)<.5?.5:1)/hi;if(wr=(rn*za-Vr*ja)*ki,sr=(Vr*Da-rn*Pa)*ki,It+=wr,zt+=sr,P(wr)<yt&&P(sr)<yt)break}return[It,zt]}}function Ce(){var Je=te(1.68,2),it=1.4,yt=12;function wt(_t,It){if(_t+It<-it){var zt=(_t-It+1.6)*(_t+It+it)/8;_t+=zt,It-=.8*zt*f(It+c/2)}var pr=Je(_t,It),wr=(1-M(_t*It))/yt;return pr[1]<0&&(pr[0]*=1+wr),pr[1]>0&&(pr[1]*=1+wr/1.5*pr[0]*pr[0]),pr}return wt.invert=xe(wt),wt}function De(){return(0,b.c)(Ce()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Oe(Je,it){var yt=Je*f(it),wt=30,_t;do it-=_t=(it+f(it)-yt)/(1+M(it));while(P(_t)>h&&--wt>0);return it/2}function Te(Je,it,yt){function wt(_t,It){return[Je*_t*M(It=Oe(yt,It)),it*f(It)]}return wt.invert=function(_t,It){return It=E(It/it),[_t/(Je*M(It)),E((2*It+f(2*It))/yt)]},wt}var Re=Te(T/a,T,c);function Me(){return(0,b.c)(Re).scale(169.529)}var ke=2.00276,Se=1.11072;function He(Je,it){var yt=Oe(c,it);return[ke*Je/(1/M(it)+Se/M(yt)),(it+T*f(yt))/ke]}He.invert=function(Je,it){var yt=ke*it,wt=it<0?-d:d,_t=25,It,zt;do zt=yt-T*f(wt),wt-=It=(f(2*wt)+2*wt-c*f(zt))/(2*M(2*wt)+2+c*M(zt)*T*M(wt));while(P(It)>h&&--_t>0);return zt=yt-T*f(wt),[Je*(1/M(zt)+Se/M(wt))/ke,zt]};function je(){return(0,b.c)(He).scale(160.857)}function at(Je){var it=0,yt=(0,b.U)(Je),wt=yt(it);return wt.parallel=function(_t){return arguments.length?yt(it=_t*A):it*S},wt}function Ze(Je,it){return[Je*M(it),it]}Ze.invert=function(Je,it){return[Je/M(it),it]};function $e(){return(0,b.c)(Ze).scale(152.63)}function ut(Je){if(!Je)return Ze;var it=1/g(Je);function yt(wt,_t){var It=it+Je-_t,zt=It&&wt*M(_t)/It;return[It*f(zt),it-It*M(zt)]}return yt.invert=function(wt,_t){var It=k(wt*wt+(_t=it-_t)*_t),zt=it+Je-It;return[It/M(zt)*L(wt,_t),zt]},yt}function ht(){return at(ut).scale(123.082).center([0,26.1441]).parallel(45)}function vt(Je){function it(yt,wt){var _t=a-wt,It=_t&&yt*Je*f(_t)/_t;return[_t*f(It)/Je,a-_t*M(It)]}return it.invert=function(yt,wt){var _t=yt*Je,It=a-wt,zt=k(_t*_t+It*It),pr=L(_t,It);return[(zt?zt/f(zt):1)*pr/Je,a-zt]},it}function xt(){var Je=.5,it=(0,b.U)(vt),yt=it(Je);return yt.fraction=function(wt){return arguments.length?it(Je=+wt):Je},yt.scale(158.837)}var St=Te(1,4/c,c);function tt(){return(0,b.c)(St).scale(152.63)}var Ie=e(24052),Ve=e(92992);function Ge(Je,it,yt,wt,_t,It){var zt=M(It),pr;if(P(Je)>1||P(It)>1)pr=m(yt*_t+it*wt*zt);else{var wr=f(Je/2),sr=f(It/2);pr=2*E(k(wr*wr+it*wt*sr*sr))}return P(pr)>h?[pr,L(wt*f(It),it*_t-yt*wt*zt)]:[0,0]}function Xe(Je,it,yt){return m((Je*Je+it*it-yt*yt)/(2*Je*it))}function Le(Je){return Je-2*c*p((Je+c)/(2*c))}function Fe(Je,it,yt){for(var wt=[[Je[0],Je[1],f(Je[1]),M(Je[1])],[it[0],it[1],f(it[1]),M(it[1])],[yt[0],yt[1],f(yt[1]),M(yt[1])]],_t=wt[2],It,zt=0;zt<3;++zt,_t=It)It=wt[zt],_t.v=Ge(It[1]-_t[1],_t[3],_t[2],It[3],It[2],It[0]-_t[0]),_t.point=[0,0];var pr=Xe(wt[0].v[0],wt[2].v[0],wt[1].v[0]),wr=Xe(wt[0].v[0],wt[1].v[0],wt[2].v[0]),sr=c-pr;wt[2].point[1]=0,wt[0].point[0]=-(wt[1].point[0]=wt[0].v[0]/2);var Sr=[wt[2].point[0]=wt[0].point[0]+wt[2].v[0]*M(pr),2*(wt[0].point[1]=wt[1].point[1]=wt[2].v[0]*f(pr))];function zr(Vr,rn){var bn=f(rn),Pn=M(rn),In=new Array(3),Kn;for(Kn=0;Kn<3;++Kn){var La=wt[Kn];if(In[Kn]=Ge(rn-La[1],La[3],La[2],Pn,bn,Vr-La[0]),!In[Kn][0])return La.point;In[Kn][1]=Le(In[Kn][1]-La.v[1])}var Pa=Sr.slice();for(Kn=0;Kn<3;++Kn){var Da=Kn==2?0:Kn+1,za=Xe(wt[Kn].v[0],In[Kn][0],In[Da][0]);In[Kn][1]<0&&(za=-za),Kn?Kn==1?(za=wr-za,Pa[0]-=In[Kn][0]*M(za),Pa[1]-=In[Kn][0]*f(za)):(za=sr-za,Pa[0]+=In[Kn][0]*M(za),Pa[1]+=In[Kn][0]*f(za)):(Pa[0]+=In[Kn][0]*M(za),Pa[1]-=In[Kn][0]*f(za))}return Pa[0]/=3,Pa[1]/=3,Pa}return zr}function Ue(Je){return Je[0]*=A,Je[1]*=A,Je}function Ee(){return he([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function he(Je,it,yt){var wt=(0,Ie.c)({type:"MultiPoint",coordinates:[Je,it,yt]}),_t=[-wt[0],-wt[1]],It=(0,Ve.c)(_t),zt=Fe(Ue(It(Je)),Ue(It(it)),Ue(It(yt)));zt.invert=xe(zt);var pr=(0,b.c)(zt).rotate(_t),wr=pr.center;return delete pr.rotate,pr.center=function(sr){return arguments.length?wr(It(sr)):It.invert(wr())},pr.clipAngle(90)}function ye(Je,it){var yt=k(1-f(it));return[2/C*Je*yt,C*(1-yt)]}ye.invert=function(Je,it){var yt=(yt=it/C-1)*yt;return[yt>0?Je*k(c/yt)/2:0,E(1-yt)]};function _e(){return(0,b.c)(ye).scale(95.6464).center([0,30])}function We(Je){var it=g(Je);function yt(wt,_t){return[wt,(wt?wt/f(wt):1)*(f(_t)*M(wt)-it*M(_t))]}return yt.invert=it?function(wt,_t){wt&&(_t*=f(wt)/wt);var It=M(wt);return[wt,2*L(k(It*It+it*it-_t*_t)-It,it-_t)]}:function(wt,_t){return[wt,E(wt?_t*g(wt)/wt:_t)]},yt}function rt(){return at(We).scale(249.828).clipAngle(90)}var st=k(3);function Vt(Je,it){return[st*Je*(2*M(2*it/3)-1)/C,st*C*f(it/3)]}Vt.invert=function(Je,it){var yt=3*E(it/(st*C));return[C*Je/(st*(2*M(2*yt/3)-1)),yt]};function Xt(){return(0,b.c)(Vt).scale(156.19)}function Tt(Je){var it=M(Je);function yt(wt,_t){return[wt*it,f(_t)/it]}return yt.invert=function(wt,_t){return[wt/it,E(_t*it)]},yt}function Lt(){return at(Tt).parallel(38.58).scale(195.044)}function Kt(Je){var it=M(Je);function yt(wt,_t){return[wt*it,(1+it)*g(_t/2)]}return yt.invert=function(wt,_t){return[wt/it,s(_t/(1+it))*2]},yt}function vr(){return at(Kt).scale(124.75)}function pt(Je,it){var yt=k(8/(3*c));return[yt*Je*(1-P(it)/c),yt*it]}pt.invert=function(Je,it){var yt=k(8/(3*c)),wt=it/yt;return[Je/(yt*(1-P(wt)/c)),wt]};function jt(){return(0,b.c)(pt).scale(165.664)}function $t(Je,it){var yt=k(4-3*f(P(it)));return[2/k(6*c)*Je*yt,u(it)*k(2*c/3)*(2-yt)]}$t.invert=function(Je,it){var yt=2-P(it)/k(2*c/3);return[Je*k(6*c)/(2*yt),u(it)*E((4-yt*yt)/3)]};function mr(){return(0,b.c)($t).scale(165.664)}function or(Je,it){var yt=k(c*(4+c));return[2/yt*Je*(1+k(1-4*it*it/(c*c))),4/yt*it]}or.invert=function(Je,it){var yt=k(c*(4+c))/2;return[Je*yt/(1+k(1-it*it*(4+c)/(4*c))),it*yt/2]};function gt(){return(0,b.c)(or).scale(180.739)}function lt(Je,it){var yt=(2+a)*f(it);it/=2;for(var wt=0,_t=1/0;wt<10&&P(_t)>h;wt++){var It=M(it);it-=_t=(it+f(it)*(It+2)-yt)/(2*It*(1+It))}return[2/k(c*(4+c))*Je*(1+M(it)),2*k(c/(4+c))*f(it)]}lt.invert=function(Je,it){var yt=it*k((4+c)/c)/2,wt=E(yt),_t=M(wt);return[Je/(2/k(c*(4+c))*(1+_t)),E((wt+yt*(_t+2))/(2+a))]};function bt(){return(0,b.c)(lt).scale(180.739)}function Et(Je,it){return[Je*(1+M(it))/k(2+c),2*it/k(2+c)]}Et.invert=function(Je,it){var yt=k(2+c),wt=it*yt/2;return[yt*Je/(1+M(wt)),wt]};function kt(){return(0,b.c)(Et).scale(173.044)}function Ot(Je,it){for(var yt=(1+a)*f(it),wt=0,_t=1/0;wt<10&&P(_t)>h;wt++)it-=_t=(it+f(it)-yt)/(1+M(it));return yt=k(2+c),[Je*(1+M(it))/yt,2*it/yt]}Ot.invert=function(Je,it){var yt=1+a,wt=k(yt/2);return[Je*2*wt/(1+M(it*=wt)),E((it+f(it))/yt)]};function Ft(){return(0,b.c)(Ot).scale(173.044)}var Bt=3+2*T;function Jt(Je,it){var yt=f(Je/=2),wt=M(Je),_t=k(M(it)),It=M(it/=2),zt=f(it)/(It+T*wt*_t),pr=k(2/(1+zt*zt)),wr=k((T*It+(wt+yt)*_t)/(T*It+(wt-yt)*_t));return[Bt*(pr*(wr-1/wr)-2*r(wr)),Bt*(pr*zt*(wr+1/wr)-2*s(zt))]}Jt.invert=function(Je,it){if(!(It=le.invert(Je/1.2,it*1.065)))return null;var yt=It[0],wt=It[1],_t=20,It;Je/=Bt,it/=Bt;do{var zt=yt/2,pr=wt/2,wr=f(zt),sr=M(zt),Sr=f(pr),zr=M(pr),Vr=M(wt),rn=k(Vr),bn=Sr/(zr+T*sr*rn),Pn=bn*bn,In=k(2/(1+Pn)),Kn=T*zr+(sr+wr)*rn,La=T*zr+(sr-wr)*rn,Pa=Kn/La,Da=k(Pa),za=Da-1/Da,ja=Da+1/Da,hi=In*za-2*r(Da)-Je,ki=In*bn*ja-2*s(bn)-it,ue=Sr&&x*rn*wr*Pn/Sr,Ae=(T*sr*zr+rn)/(2*(zr+T*sr*rn)*(zr+T*sr*rn)*rn),Be=-.5*bn*In*In*In,qe=Be*ue,nt=Be*Ae,ct=(ct=2*zr+T*rn*(sr-wr))*ct*Da,Rt=(T*sr*zr*rn+Vr)/ct,At=-(T*wr*Sr)/(rn*ct),Ut=za*qe-2*Rt/Da+In*(Rt+Rt/Pa),Ht=za*nt-2*At/Da+In*(At+At/Pa),ar=bn*ja*qe-2*ue/(1+Pn)+In*ja*ue+In*bn*(Rt-Rt/Pa),Rr=bn*ja*nt-2*Ae/(1+Pn)+In*ja*Ae+In*bn*(At-At/Pa),Dr=Ht*ar-Rr*Ut;if(!Dr)break;var Qr=(ki*Ht-hi*Rr)/Dr,sn=(hi*ar-ki*Ut)/Dr;yt-=Qr,wt=t(-a,o(a,wt-sn))}while((P(Qr)>h||P(sn)>h)&&--_t>0);return P(P(wt)-a)<h?[0,wt]:_t&&[yt,wt]};function hr(){return(0,b.c)(Jt).scale(62.5271)}var cr=M(35*A);function dr(Je,it){var yt=g(it/2);return[Je*cr*k(1-yt*yt),(1+cr)*yt]}dr.invert=function(Je,it){var yt=it/(1+cr);return[Je&&Je/(cr*k(1-yt*yt)),2*s(yt)]};function fr(){return(0,b.c)(dr).scale(137.152)}function Lr(Je,it){var yt=it/2,wt=M(yt);return[2*Je/C*M(it)*wt*wt,C*g(yt)]}Lr.invert=function(Je,it){var yt=s(it/C),wt=M(yt),_t=2*yt;return[Je*C/2/(M(_t)*wt*wt),_t]};function xr(){return(0,b.c)(Lr).scale(135.264)}function Ke(Je){var it=1-Je,yt=It(c,0)[0]-It(-c,0)[0],wt=It(0,a)[1]-It(0,-a)[1],_t=k(2*wt/yt);function It(wr,sr){var Sr=M(sr),zr=f(sr);return[Sr/(it+Je*Sr)*wr,it*sr+Je*zr]}function zt(wr,sr){var Sr=It(wr,sr);return[Sr[0]*_t,Sr[1]/_t]}function pr(wr){return zt(0,wr)[1]}return zt.invert=function(wr,sr){var Sr=we(pr,sr),zr=wr/_t*(Je+it/M(Sr));return[zr,Sr]},zt}function et(){var Je=.5,it=(0,b.U)(Ke),yt=it(Je);return yt.alpha=function(wt){return arguments.length?it(Je=+wt):Je},yt.scale(168.725)}var er=e(4888),tr=e(69604);function Yt(Je){return[Je[0]/2,E(g(Je[1]/2*A))*S]}function Pt(Je){return[Je[0]*2,2*s(f(Je[1]*A))*S]}function Zt(Je){Je==null&&(Je=er.c);var it=Je(),yt=(0,tr.c)().scale(S).precision(0).clipAngle(null).translate([0,0]);function wt(It){return it(Yt(It))}it.invert&&(wt.invert=function(It){return Pt(it.invert(It))}),wt.stream=function(It){var zt=it.stream(It),pr=yt.stream({point:function(wr,sr){zt.point(wr/2,E(g(-sr/2*A))*S)},lineStart:function(){zt.lineStart()},lineEnd:function(){zt.lineEnd()},polygonStart:function(){zt.polygonStart()},polygonEnd:function(){zt.polygonEnd()}});return pr.sphere=zt.sphere,pr};function _t(It){wt[It]=function(){return arguments.length?(it[It].apply(it,arguments),wt):it[It]()}}return wt.rotate=function(It){return arguments.length?(yt.rotate(It),wt):yt.rotate()},wt.center=function(It){return arguments.length?(it.center(Yt(It)),wt):Pt(it.center())},_t("angle"),_t("clipAngle"),_t("clipExtent"),_t("fitExtent"),_t("fitHeight"),_t("fitSize"),_t("fitWidth"),_t("scale"),_t("translate"),_t("precision"),wt.scale(249.5)}function nr(Je,it){var yt=2*c/it,wt=Je*Je;function _t(It,zt){var pr=(0,se.O)(It,zt),wr=pr[0],sr=pr[1],Sr=wr*wr+sr*sr;if(Sr>wt){var zr=k(Sr),Vr=L(sr,wr),rn=yt*l(Vr/yt),bn=Vr-rn,Pn=Je*M(bn),In=(Je*f(bn)-bn*f(Pn))/(a-Pn),Kn=Qt(bn,In),La=(c-Je)/Wt(Kn,Pn,c);wr=zr;var Pa=50,Da;do wr-=Da=(Je+Wt(Kn,Pn,wr)*La-zr)/(Kn(wr)*La);while(P(Da)>h&&--Pa>0);sr=bn*f(wr),wr<a&&(sr-=In*(wr-a));var za=f(rn),ja=M(rn);pr[0]=wr*ja-sr*za,pr[1]=wr*za+sr*ja}return pr}return _t.invert=function(It,zt){var pr=It*It+zt*zt;if(pr>wt){var wr=k(pr),sr=L(zt,It),Sr=yt*l(sr/yt),zr=sr-Sr;It=wr*M(zr),zt=wr*f(zr);for(var Vr=It-a,rn=f(It),bn=zt/rn,Pn=It<a?1/0:0,In=10;;){var Kn=Je*f(bn),La=Je*M(bn),Pa=f(La),Da=a-La,za=(Kn-bn*Pa)/Da,ja=Qt(bn,za);if(P(Pn)<w||!--In)break;bn-=Pn=(bn*rn-za*Vr-zt)/(rn-Vr*2*(Da*(La+bn*Kn*M(La)-Pa)-Kn*(Kn-bn*Pa))/(Da*Da))}wr=Je+Wt(ja,La,It)*(c-Je)/Wt(ja,La,c),sr=Sr+bn,It=wr*M(sr),zt=wr*f(sr)}return se.O.invert(It,zt)},_t}function Qt(Je,it){return function(yt){var wt=Je*M(yt);return yt<a&&(wt-=it),k(1+wt*wt)}}function Wt(Je,it,yt){for(var wt=50,_t=(yt-it)/wt,It=Je(it)+Je(yt),zt=1,pr=it;zt<wt;++zt)It+=2*Je(pr+=_t);return It*.5*_t}function yr(){var Je=6,it=30*A,yt=M(it),wt=f(it),_t=(0,b.U)(nr),It=_t(it,Je),zt=It.stream,pr=.01,wr=-M(pr*A),sr=f(pr*A);return It.radius=function(Sr){return arguments.length?(yt=M(it=Sr*A),wt=f(it),_t(it,Je)):it*S},It.lobes=function(Sr){return arguments.length?_t(it,Je=+Sr):Je},It.stream=function(Sr){var zr=It.rotate(),Vr=zt(Sr),rn=(It.rotate([0,0]),zt(Sr));return It.rotate(zr),Vr.sphere=function(){rn.polygonStart(),rn.lineStart();for(var bn=0,Pn=2*c/Je,In=0;bn<Je;++bn,In-=Pn)rn.point(L(sr*M(In),wr)*S,E(sr*f(In))*S),rn.point(L(wt*M(In-Pn/2),yt)*S,E(wt*f(In-Pn/2))*S);rn.lineEnd(),rn.polygonEnd()},Vr},It.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Ir(Je,it,yt,wt,_t,It,zt,pr){arguments.length<8&&(pr=0);function wr(sr,Sr){if(!Sr)return[Je*sr/c,0];var zr=Sr*Sr,Vr=Je+zr*(it+zr*(yt+zr*wt)),rn=Sr*(_t-1+zr*(It-pr+zr*zt)),bn=(Vr*Vr+rn*rn)/(2*rn),Pn=sr*E(Vr/bn)/c;return[bn*f(Pn),Sr*(1+zr*pr)+bn*(1-M(Pn))]}return wr.invert=function(sr,Sr){var zr=c*sr/Je,Vr=Sr,rn,bn,Pn=50;do{var In=Vr*Vr,Kn=Je+In*(it+In*(yt+In*wt)),La=Vr*(_t-1+In*(It-pr+In*zt)),Pa=Kn*Kn+La*La,Da=2*La,za=Pa/Da,ja=za*za,hi=E(Kn/za)/c,ki=zr*hi,ue=Kn*Kn,Ae=(2*it+In*(4*yt+In*6*wt))*Vr,Be=_t+In*(3*It+In*5*zt),qe=2*(Kn*Ae+La*(Be-1)),nt=2*(Be-1),ct=(qe*Da-Pa*nt)/(Da*Da),Rt=M(ki),At=f(ki),Ut=za*Rt,Ht=za*At,ar=zr/c*(1/k(1-ue/ja))*(Ae*za-Kn*ct)/ja,Rr=Ht-sr,Dr=Vr*(1+In*pr)+za-Ut-Sr,Qr=ct*At+Ut*ar,sn=Ut*hi,_r=1+ct-(ct*Rt-Ht*ar),Hr=Ht*hi,Kr=Qr*Hr-_r*sn;if(!Kr)break;zr-=rn=(Dr*Qr-Rr*_r)/Kr,Vr-=bn=(Rr*Hr-Dr*sn)/Kr}while((P(rn)>h||P(bn)>h)&&--Pn>0);return[zr,Vr]},wr}var Tr=Ir(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function vn(){return(0,b.c)(Tr).scale(149.995)}var Or=Ir(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function En(){return(0,b.c)(Or).scale(153.93)}var nn=Ir(5/6*c,-.62636,-.0344,0,1.3493,-.05524,0,.045);function gr(){return(0,b.c)(nn).scale(130.945)}function Pr(Je,it){var yt=Je*Je,wt=it*it;return[Je*(1-.162388*wt)*(.87-952426e-9*yt*yt),it*(1+wt/12)]}Pr.invert=function(Je,it){var yt=Je,wt=it,_t=50,It;do{var zt=wt*wt;wt-=It=(wt*(1+zt/12)-it)/(1+zt/4)}while(P(It)>h&&--_t>0);_t=50,Je/=1-.162388*zt;do{var pr=(pr=yt*yt)*pr;yt-=It=(yt*(.87-952426e-9*pr)-Je)/(.87-.00476213*pr)}while(P(It)>h&&--_t>0);return[yt,wt]};function Xr(){return(0,b.c)(Pr).scale(131.747)}var kr=Ir(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function pn(){return(0,b.c)(kr).scale(131.087)}function tn(Je){var it=Je(a,0)[0]-Je(-a,0)[0];function yt(wt,_t){var It=wt>0?-.5:.5,zt=Je(wt+It*c,_t);return zt[0]-=It*it,zt}return Je.invert&&(yt.invert=function(wt,_t){var It=wt>0?-.5:.5,zt=Je.invert(wt+It*it,_t),pr=zt[0]-It*c;return pr<-c?pr+=2*c:pr>c&&(pr-=2*c),zt[0]=pr,zt}),yt}function Tn(Je,it){var yt=u(Je),wt=u(it),_t=M(it),It=M(Je)*_t,zt=f(Je)*_t,pr=f(wt*it);Je=P(L(zt,pr)),it=E(It),P(Je-a)>h&&(Je%=a);var wr=Ln(Je>c/4?a-Je:Je,it);return Je>c/4&&(pr=wr[0],wr[0]=-wr[1],wr[1]=-pr),wr[0]*=yt,wr[1]*=-wt,wr}Tn.invert=function(Je,it){P(Je)>1&&(Je=u(Je)*2-Je),P(it)>1&&(it=u(it)*2-it);var yt=u(Je),wt=u(it),_t=-yt*Je,It=-wt*it,zt=It/_t<1,pr=Hn(zt?It:_t,zt?_t:It),wr=pr[0],sr=pr[1],Sr=M(sr);return zt&&(wr=-a-wr),[yt*(L(f(wr)*Sr,-f(sr))+c),wt*E(M(wr)*Sr)]};function Ln(Je,it){if(it===a)return[0,0];var yt=f(it),wt=yt*yt,_t=wt*wt,It=1+_t,zt=1+3*_t,pr=1-_t,wr=E(1/k(It)),sr=pr+wt*It*wr,Sr=(1-yt)/sr,zr=k(Sr),Vr=Sr*It,rn=k(Vr),bn=zr*pr,Pn,In;if(Je===0)return[0,-(bn+wt*rn)];var Kn=M(it),La=1/Kn,Pa=2*yt*Kn,Da=(-3*wt+wr*zt)*Pa,za=(-sr*Kn-(1-yt)*Da)/(sr*sr),ja=.5*za/zr,hi=pr*ja-2*wt*zr*Pa,ki=wt*It*za+Sr*zt*Pa,ue=-La*Pa,Ae=-La*ki,Be=-2*La*hi,qe=4*Je/c,nt;if(Je>.222*c||it<c/4&&Je>.175*c){if(Pn=(bn+wt*k(Vr*(1+_t)-bn*bn))/(1+_t),Je>c/4)return[Pn,Pn];var ct=Pn,Rt=.5*Pn;Pn=.5*(Rt+ct),In=50;do{var At=k(Vr-Pn*Pn),Ut=Pn*(Be+ue*At)+Ae*E(Pn/rn)-qe;if(!Ut)break;Ut<0?Rt=Pn:ct=Pn,Pn=.5*(Rt+ct)}while(P(ct-Rt)>h&&--In>0)}else{Pn=h,In=25;do{var Ht=Pn*Pn,ar=k(Vr-Ht),Rr=Be+ue*ar,Dr=Pn*Rr+Ae*E(Pn/rn)-qe,Qr=Rr+(Ae-ue*Ht)/ar;Pn-=nt=ar?Dr/Qr:0}while(P(nt)>h&&--In>0)}return[Pn,-bn-wt*k(Vr-Pn*Pn)]}function Hn(Je,it){for(var yt=0,wt=1,_t=.5,It=50;;){var zt=_t*_t,pr=k(_t),wr=E(1/k(1+zt)),sr=1-zt+_t*(1+zt)*wr,Sr=(1-pr)/sr,zr=k(Sr),Vr=Sr*(1+zt),rn=zr*(1-zt),bn=Vr-Je*Je,Pn=k(bn),In=it+rn+_t*Pn;if(P(wt-yt)<w||--It===0||In===0)break;In>0?yt=_t:wt=_t,_t=.5*(yt+wt)}if(!It)return null;var Kn=E(pr),La=M(Kn),Pa=1/La,Da=2*pr*La,za=(-3*_t+wr*(1+3*zt))*Da,ja=(-sr*La-(1-pr)*za)/(sr*sr),hi=.5*ja/zr,ki=(1-zt)*hi-2*_t*zr*Da,ue=-2*Pa*ki,Ae=-Pa*Da,Be=-Pa*(_t*(1+zt)*ja+Sr*(1+3*zt)*Da);return[c/4*(Je*(ue+Ae*Pn)+Be*E(Je/k(Vr))),Kn]}function pa(){return(0,b.c)(tn(Tn)).scale(239.75)}function xa(Je,it,yt){var wt,_t,It;return Je?(wt=ia(Je,yt),it?(_t=ia(it,1-yt),It=_t[1]*_t[1]+yt*wt[0]*wt[0]*_t[0]*_t[0],[[wt[0]*_t[2]/It,wt[1]*wt[2]*_t[0]*_t[1]/It],[wt[1]*_t[1]/It,-wt[0]*wt[2]*_t[0]*_t[2]/It],[wt[2]*_t[1]*_t[2]/It,-yt*wt[0]*wt[1]*_t[0]/It]]):[[wt[0],0],[wt[1],0],[wt[2],0]]):(_t=ia(it,1-yt),[[0,_t[0]/_t[1]],[1/_t[1],0],[_t[2]/_t[1],0]])}function ia(Je,it){var yt,wt,_t,It,zt;if(it<h)return It=f(Je),wt=M(Je),yt=it*(Je-It*wt)/4,[It-yt*wt,wt+yt*It,1-it*It*It/2,Je-yt];if(it>=1-h)return yt=(1-it)/4,wt=_(Je),It=I(Je),_t=1/wt,zt=wt*O(Je),[It+yt*(zt-Je)/(wt*wt),_t-yt*It*_t*(zt-Je),_t+yt*It*_t*(zt+Je),2*s(v(Je))-a+yt*(zt-Je)/wt];var pr=[1,0,0,0,0,0,0,0,0],wr=[k(it),0,0,0,0,0,0,0,0],sr=0;for(wt=k(1-it),zt=1;P(wr[sr]/pr[sr])>h&&sr<8;)yt=pr[sr++],wr[sr]=(yt-wt)/2,pr[sr]=(yt+wt)/2,wt=k(yt*wt),zt*=2;_t=zt*pr[sr]*Je;do It=wr[sr]*f(wt=_t)/pr[sr],_t=(E(It)+_t)/2;while(--sr);return[f(_t),It=M(_t),It/M(_t-wt),_t]}function ra(Je,it,yt){var wt=P(Je),_t=P(it),It=O(_t);if(wt){var zt=1/f(wt),pr=1/(g(wt)*g(wt)),wr=-(pr+yt*(It*It*zt*zt)-1+yt),sr=(yt-1)*pr,Sr=(-wr+k(wr*wr-4*sr))/2;return[Rn(s(1/k(Sr)),yt)*u(Je),Rn(s(k((Sr/pr-1)/yt)),1-yt)*u(it)]}return[0,Rn(s(It),1-yt)*u(it)]}function Rn(Je,it){if(!it)return Je;if(it===1)return r(g(Je/2+d));for(var yt=1,wt=k(1-it),_t=k(it),It=0;P(_t)>h;It++){if(Je%c){var zt=s(wt*g(Je)/yt);zt<0&&(zt+=c),Je+=zt+~~(Je/c)*c}else Je+=Je;_t=(yt+wt)/2,wt=k(yt*wt),_t=((yt=_t)-wt)/2}return Je/(n(2,It)*yt)}function Cr(Je,it){var yt=(T-1)/(T+1),wt=k(1-yt*yt),_t=Rn(a,wt*wt),It=-1,zt=r(g(c/4+P(it)/2)),pr=v(It*zt)/k(yt),wr=an(pr*M(It*Je),pr*f(It*Je)),sr=ra(wr[0],wr[1],wt*wt);return[-sr[1],(it>=0?1:-1)*(.5*_t-sr[0])]}function an(Je,it){var yt=Je*Je,wt=it+1,_t=1-yt-it*it;return[.5*((Je>=0?a:-a)-L(_t,2*Je)),-.25*r(_t*_t+4*yt)+.5*r(wt*wt+yt)]}function on(Je,it){var yt=it[0]*it[0]+it[1]*it[1];return[(Je[0]*it[0]+Je[1]*it[1])/yt,(Je[1]*it[0]-Je[0]*it[1])/yt]}Cr.invert=function(Je,it){var yt=(T-1)/(T+1),wt=k(1-yt*yt),_t=Rn(a,wt*wt),It=-1,zt=xa(.5*_t-it,-Je,wt*wt),pr=on(zt[0],zt[1]),wr=L(pr[1],pr[0])/It;return[wr,2*s(v(.5/It*r(yt*pr[0]*pr[0]+yt*pr[1]*pr[1])))-a]};function ln(){return(0,b.c)(tn(Cr)).scale(151.496)}var On=e(61780);function gn(Je){var it=f(Je),yt=M(Je),wt=Cn(Je);wt.invert=Cn(-Je);function _t(It,zt){var pr=wt(It,zt);It=pr[0],zt=pr[1];var wr=f(zt),sr=M(zt),Sr=M(It),zr=m(it*wr+yt*sr*Sr),Vr=f(zr),rn=P(Vr)>h?zr/Vr:1;return[rn*yt*f(It),(P(It)>a?rn:-rn)*(it*sr-yt*wr*Sr)]}return _t.invert=function(It,zt){var pr=k(It*It+zt*zt),wr=-f(pr),sr=M(pr),Sr=pr*sr,zr=-zt*wr,Vr=pr*it,rn=k(Sr*Sr+zr*zr-Vr*Vr),bn=L(Sr*Vr+zr*rn,zr*Vr-Sr*rn),Pn=(pr>a?-1:1)*L(It*wr,pr*M(bn)*sr+zt*f(bn)*wr);return wt.invert(Pn,bn)},_t}function Cn(Je){var it=f(Je),yt=M(Je);return function(wt,_t){var It=M(_t),zt=M(wt)*It,pr=f(wt)*It,wr=f(_t);return[L(pr,zt*yt-wr*it),E(wr*yt+zt*it)]}}function Bn(){var Je=0,it=(0,b.U)(gn),yt=it(Je),wt=yt.rotate,_t=yt.stream,It=(0,On.c)();return yt.parallel=function(zt){if(!arguments.length)return Je*S;var pr=yt.rotate();return it(Je=zt*A).rotate(pr)},yt.rotate=function(zt){return arguments.length?(wt.call(yt,[zt[0],zt[1]-Je*S]),It.center([-zt[0],-zt[1]]),yt):(zt=wt.call(yt),zt[1]+=Je*S,zt)},yt.stream=function(zt){return zt=_t(zt),zt.sphere=function(){zt.polygonStart();var pr=.01,wr=It.radius(90-pr)().coordinates[0],sr=wr.length-1,Sr=-1,zr;for(zt.lineStart();++Sr<sr;)zt.point((zr=wr[Sr])[0],zr[1]);for(zt.lineEnd(),wr=It.radius(90+pr)().coordinates[0],sr=wr.length-1,zt.lineStart();--Sr>=0;)zt.point((zr=wr[Sr])[0],zr[1]);zt.lineEnd(),zt.polygonEnd()},zt},yt.scale(79.4187).parallel(45).clipAngle(179.999)}var Qn=e(84706),ha=e(16016),Ra=3,Ar=E(1-1/Ra)*S,Br=Tt(0);function Mr(Je){var it=Ar*A,yt=ye(c,it)[0]-ye(-c,it)[0],wt=Br(0,it)[1],_t=ye(0,it)[1],It=C-_t,zt=y/Je,pr=4/y,wr=wt+It*It*4/y;function sr(Sr,zr){var Vr,rn=P(zr);if(rn>it){var bn=o(Je-1,t(0,p((Sr+c)/zt)));Sr+=c*(Je-1)/Je-bn*zt,Vr=ye(Sr,rn),Vr[0]=Vr[0]*y/yt-y*(Je-1)/(2*Je)+bn*y/Je,Vr[1]=wt+(Vr[1]-_t)*4*It/y,zr<0&&(Vr[1]=-Vr[1])}else Vr=Br(Sr,zr);return Vr[0]*=pr,Vr[1]/=wr,Vr}return sr.invert=function(Sr,zr){Sr/=pr,zr*=wr;var Vr=P(zr);if(Vr>wt){var rn=o(Je-1,t(0,p((Sr+c)/zt)));Sr=(Sr+c*(Je-1)/Je-rn*zt)*yt/y;var bn=ye.invert(Sr,.25*(Vr-wt)*y/It+_t);return bn[0]-=c*(Je-1)/Je-rn*zt,zr<0&&(bn[1]=-bn[1]),bn}return Br.invert(Sr,zr)},sr}function Nr(Je,it){return[Je,it&1?90-h:Ar]}function un(Je,it){return[Je,it&1?-90+h:-Ar]}function Dn(Je){return[Je[0]*(1-h),Je[1]]}function mn(Je){var it=[].concat((0,Qn.ik)(-180,180+Je/2,Je).map(Nr),(0,Qn.ik)(180,-180-Je/2,-Je).map(un));return{type:"Polygon",coordinates:[Je===180?it.map(Dn):it]}}function cn(){var Je=4,it=(0,b.U)(Mr),yt=it(Je),wt=yt.stream;return yt.lobes=function(_t){return arguments.length?it(Je=+_t):Je},yt.stream=function(_t){var It=yt.rotate(),zt=wt(_t),pr=(yt.rotate([0,0]),wt(_t));return yt.rotate(It),zt.sphere=function(){(0,ha.c)(mn(180/Je),pr)},zt},yt.scale(239.75)}function Er(Je){var it=1+Je,yt=f(1/it),wt=E(yt),_t=2*k(c/(It=c+4*wt*it)),It,zt=.5*_t*(it+k(Je*(2+Je))),pr=Je*Je,wr=it*it;function sr(Sr,zr){var Vr=1-f(zr),rn,bn;if(Vr&&Vr<2){var Pn=a-zr,In=25,Kn;do{var La=f(Pn),Pa=M(Pn),Da=wt+L(La,it-Pa),za=1+wr-2*it*Pa;Pn-=Kn=(Pn-pr*wt-it*La+za*Da-.5*Vr*It)/(2*it*La*Da)}while(P(Kn)>w&&--In>0);rn=_t*k(za),bn=Sr*Da/c}else rn=_t*(Je+Vr),bn=Sr*wt/c;return[rn*f(bn),zt-rn*M(bn)]}return sr.invert=function(Sr,zr){var Vr=Sr*Sr+(zr-=zt)*zr,rn=(1+wr-Vr/(_t*_t))/(2*it),bn=m(rn),Pn=f(bn),In=wt+L(Pn,it-rn);return[E(Sr/k(Vr))*c/In,E(1-2*(bn-pr*wt-it*Pn+(1+wr-2*it*rn)*In)/It)]},sr}function Yr(){var Je=1,it=(0,b.U)(Er),yt=it(Je);return yt.ratio=function(wt){return arguments.length?it(Je=+wt):Je},yt.scale(167.774).center([0,18.67])}var Gr=.7109889596207567,$r=.0528035274542;function wn(Je,it){return it>-Gr?(Je=Re(Je,it),Je[1]+=$r,Je):Ze(Je,it)}wn.invert=function(Je,it){return it>-Gr?Re.invert(Je,it-$r):Ze.invert(Je,it)};function An(){return(0,b.c)(wn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Fn(Je,it){return P(it)>Gr?(Je=Re(Je,it),Je[1]-=it>0?$r:-$r,Je):Ze(Je,it)}Fn.invert=function(Je,it){return P(it)>Gr?Re.invert(Je,it+(it>0?$r:-$r)):Ze.invert(Je,it)};function Nn(){return(0,b.c)(Fn).scale(152.63)}function _n(Je,it,yt,wt){var _t=k(4*c/(2*yt+(1+Je-it/2)*f(2*yt)+(Je+it)/2*f(4*yt)+it/2*f(6*yt))),It=k(wt*f(yt)*k((1+Je*M(2*yt)+it*M(4*yt))/(1+Je+it))),zt=yt*wr(1);function pr(zr){return k(1+Je*M(2*zr)+it*M(4*zr))}function wr(zr){var Vr=zr*yt;return(2*Vr+(1+Je-it/2)*f(2*Vr)+(Je+it)/2*f(4*Vr)+it/2*f(6*Vr))/yt}function sr(zr){return pr(zr)*f(zr)}var Sr=function(zr,Vr){var rn=yt*we(wr,zt*f(Vr)/yt,Vr/c);isNaN(rn)&&(rn=yt*u(Vr));var bn=_t*pr(rn);return[bn*It*zr/c*M(rn),bn/It*f(rn)]};return Sr.invert=function(zr,Vr){var rn=we(sr,Vr*It/_t);return[zr*c/(M(rn)*_t*It*pr(rn)),E(yt*wr(rn/yt)/zt)]},yt===0&&(_t=k(wt/c),Sr=function(zr,Vr){return[zr*_t,f(Vr)/_t]},Sr.invert=function(zr,Vr){return[zr/_t,E(Vr*_t)]}),Sr}function Wn(){var Je=1,it=0,yt=45*A,wt=2,_t=(0,b.U)(_n),It=_t(Je,it,yt,wt);return It.a=function(zt){return arguments.length?_t(Je=+zt,it,yt,wt):Je},It.b=function(zt){return arguments.length?_t(Je,it=+zt,yt,wt):it},It.psiMax=function(zt){return arguments.length?_t(Je,it,yt=+zt*A,wt):yt*S},It.ratio=function(zt){return arguments.length?_t(Je,it,yt,wt=+zt):wt},It.scale(180.739)}function jn(Je,it,yt,wt,_t,It,zt,pr,wr,sr,Sr){if(Sr.nanEncountered)return NaN;var zr,Vr,rn,bn,Pn,In,Kn,La,Pa,Da;if(zr=yt-it,Vr=Je(it+zr*.25),rn=Je(yt-zr*.25),isNaN(Vr)){Sr.nanEncountered=!0;return}if(isNaN(rn)){Sr.nanEncountered=!0;return}return bn=zr*(wt+4*Vr+_t)/12,Pn=zr*(_t+4*rn+It)/12,In=bn+Pn,Da=(In-zt)/15,sr>wr?(Sr.maxDepthCount++,In+Da):Math.abs(Da)<pr?In+Da:(Kn=it+zr*.5,La=jn(Je,it,Kn,wt,Vr,_t,bn,pr*.5,wr,sr+1,Sr),isNaN(La)?(Sr.nanEncountered=!0,NaN):(Pa=jn(Je,Kn,yt,_t,rn,It,Pn,pr*.5,wr,sr+1,Sr),isNaN(Pa)?(Sr.nanEncountered=!0,NaN):La+Pa))}function oa(Je,it,yt,wt,_t){var It={maxDepthCount:0,nanEncountered:!1};_t===void 0&&(_t=20);var zt=Je(it),pr=Je(.5*(it+yt)),wr=Je(yt),sr=(zt+4*pr+wr)*(yt-it)/6,Sr=jn(Je,it,yt,zt,pr,wr,sr,wt,_t,1,It);return Sr}function Ca(Je,it,yt){function wt(rn){return Je+(1-Je)*n(1-n(rn,it),1/it)}function _t(rn){return oa(wt,0,rn,1e-4)}for(var It=1/_t(1),zt=1e3,pr=(1+1e-8)*It,wr=[],sr=0;sr<=zt;sr++)wr.push(_t(sr/zt)*pr);function Sr(rn){var bn=0,Pn=zt,In=zt>>1;do wr[In]>rn?Pn=In:bn=In,In=bn+Pn>>1;while(In>bn);var Kn=wr[In+1]-wr[In];return Kn&&(Kn=(rn-wr[In+1])/Kn),(In+1+Kn)/zt}var zr=2*Sr(1)/c*It/yt,Vr=function(rn,bn){var Pn=Sr(P(f(bn))),In=wt(Pn)*rn;return Pn/=zr,[In,bn>=0?Pn:-Pn]};return Vr.invert=function(rn,bn){var Pn;return bn*=zr,P(bn)<1&&(Pn=u(bn)*E(_t(P(bn))*It)),[rn/wt(P(bn)),Pn]},Vr}function di(){var Je=0,it=2.5,yt=1.183136,wt=(0,b.U)(Ca),_t=wt(Je,it,yt);return _t.alpha=function(It){return arguments.length?wt(Je=+It,it,yt):Je},_t.k=function(It){return arguments.length?wt(Je,it=+It,yt):it},_t.gamma=function(It){return arguments.length?wt(Je,it,yt=+It):yt},_t.scale(152.63)}function qa(Je,it){return P(Je[0]-it[0])<h&&P(Je[1]-it[1])<h}function ho(Je,it){for(var yt=-1,wt=Je.length,_t=Je[0],It,zt,pr,wr=[];++yt<wt;){It=Je[yt],zt=(It[0]-_t[0])/it,pr=(It[1]-_t[1])/it;for(var sr=0;sr<it;++sr)wr.push([_t[0]+sr*zt,_t[1]+sr*pr]);_t=It}return wr.push(It),wr}function Eo(Je){var it=[],yt,wt,_t,It,zt,pr,wr,sr=Je[0].length;for(wr=0;wr<sr;++wr)yt=Je[0][wr],wt=yt[0][0],_t=yt[0][1],It=yt[1][1],zt=yt[2][0],pr=yt[2][1],it.push(ho([[wt+h,_t+h],[wt+h,It-h],[zt-h,It-h],[zt-h,pr+h]],30));for(wr=Je[1].length-1;wr>=0;--wr)yt=Je[1][wr],wt=yt[0][0],_t=yt[0][1],It=yt[1][1],zt=yt[2][0],pr=yt[2][1],it.push(ho([[zt-h,pr-h],[zt-h,It+h],[wt+h,It+h],[wt+h,_t-h]],30));return{type:"Polygon",coordinates:[(0,Qn.Uf)(it)]}}function qi(Je,it,yt){var wt,_t;function It(wr,sr){for(var Sr=sr<0?-1:1,zr=it[+(sr<0)],Vr=0,rn=zr.length-1;Vr<rn&&wr>zr[Vr][2][0];++Vr);var bn=Je(wr-zr[Vr][1][0],sr);return bn[0]+=Je(zr[Vr][1][0],Sr*sr>Sr*zr[Vr][0][1]?zr[Vr][0][1]:sr)[0],bn}yt?It.invert=yt(It):Je.invert&&(It.invert=function(wr,sr){for(var Sr=_t[+(sr<0)],zr=it[+(sr<0)],Vr=0,rn=Sr.length;Vr<rn;++Vr){var bn=Sr[Vr];if(bn[0][0]<=wr&&wr<bn[1][0]&&bn[0][1]<=sr&&sr<bn[1][1]){var Pn=Je.invert(wr-Je(zr[Vr][1][0],0)[0],sr);return Pn[0]+=zr[Vr][1][0],qa(It(Pn[0],Pn[1]),[wr,sr])?Pn:null}}});var zt=(0,b.c)(It),pr=zt.stream;return zt.stream=function(wr){var sr=zt.rotate(),Sr=pr(wr),zr=(zt.rotate([0,0]),pr(wr));return zt.rotate(sr),Sr.sphere=function(){(0,ha.c)(wt,zr)},Sr},zt.lobes=function(wr){return arguments.length?(wt=Eo(wr),it=wr.map(function(sr){return sr.map(function(Sr){return[[Sr[0][0]*A,Sr[0][1]*A],[Sr[1][0]*A,Sr[1][1]*A],[Sr[2][0]*A,Sr[2][1]*A]]})}),_t=it.map(function(sr){return sr.map(function(Sr){var zr=Je(Sr[0][0],Sr[0][1])[0],Vr=Je(Sr[2][0],Sr[2][1])[0],rn=Je(Sr[1][0],Sr[0][1])[1],bn=Je(Sr[1][0],Sr[1][1])[1],Pn;return rn>bn&&(Pn=rn,rn=bn,bn=Pn),[[zr,rn],[Vr,bn]]})}),zt):it.map(function(sr){return sr.map(function(Sr){return[[Sr[0][0]*S,Sr[0][1]*S],[Sr[1][0]*S,Sr[1][1]*S],[Sr[2][0]*S,Sr[2][1]*S]]})})},it!=null&&zt.lobes(it),zt}var As=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Sl(){return qi(He,As).scale(160.857)}var tu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ei(){return qi(Fn,tu).scale(152.63)}var ru=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function sf(){return qi(Re,ru).scale(169.529)}var ji=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function xo(){return qi(Re,ji).scale(169.529).rotate([20,0])}var El=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function zu(){return qi(wn,El,xe).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Di=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function Cl(){return qi(Ze,Di).scale(152.63).rotate([-20,0])}function _i(Je,it){return[3/y*Je*k(c*c/3-it*it),it]}_i.invert=function(Je,it){return[y/3*Je/k(c*c/3-it*it),it]};function Ui(){return(0,b.c)(_i).scale(158.837)}function Ll(Je){function it(yt,wt){if(P(P(wt)-a)<h)return[0,wt<0?-2:2];var _t=f(wt),It=n((1+_t)/(1-_t),Je/2),zt=.5*(It+1/It)+M(yt*=Je);return[2*f(yt)/zt,(It-1/It)/zt]}return it.invert=function(yt,wt){var _t=P(wt);if(P(_t-2)<h)return yt?null:[0,u(wt)*a];if(_t>2)return null;yt/=2,wt/=2;var It=yt*yt,zt=wt*wt,pr=2*wt/(1+It+zt);return pr=n((1+pr)/(1-pr),1/Je),[L(2*yt,1-It-zt)/Je,E((pr-1)/(pr+1))]},it}function eo(){var Je=.5,it=(0,b.U)(Ll),yt=it(Je);return yt.spacing=function(wt){return arguments.length?it(Je=+wt):Je},yt.scale(124.75)}var to=c/T;function ko(Je,it){return[Je*(1+k(M(it)))/2,it/(M(it/2)*M(Je/6))]}ko.invert=function(Je,it){var yt=P(Je),wt=P(it),_t=h,It=a;wt<to?It*=wt/to:_t+=6*m(to/wt);for(var zt=0;zt<25;zt++){var pr=f(It),wr=k(M(It)),sr=f(It/2),Sr=M(It/2),zr=f(_t/6),Vr=M(_t/6),rn=.5*_t*(1+wr)-yt,bn=It/(Sr*Vr)-wt,Pn=wr?-.25*_t*pr/wr:0,In=.5*(1+wr),Kn=(1+.5*It*sr/Sr)/(Sr*Vr),La=It/Sr*(zr/6)/(Vr*Vr),Pa=Pn*La-Kn*In,Da=(rn*La-bn*In)/Pa,za=(bn*Pn-rn*Kn)/Pa;if(It-=Da,_t-=za,P(Da)<h&&P(za)<h)break}return[Je<0?-_t:_t,it<0?-It:It]};function Gf(){return(0,b.c)(ko).scale(97.2672)}function Co(Je,it){var yt=Je*Je,wt=it*it;return[Je*(.975534+wt*(-.119161+yt*-.0143059+wt*-.0547009)),it*(1.00384+yt*(.0802894+wt*-.02855+yt*199025e-9)+wt*(.0998909+wt*-.0491032))]}Co.invert=function(Je,it){var yt=u(Je)*c,wt=it/2,_t=50;do{var It=yt*yt,zt=wt*wt,pr=yt*wt,wr=yt*(.975534+zt*(-.119161+It*-.0143059+zt*-.0547009))-Je,sr=wt*(1.00384+It*(.0802894+zt*-.02855+It*199025e-9)+zt*(.0998909+zt*-.0491032))-it,Sr=.975534-zt*(.119161+3*It*.0143059+zt*.0547009),zr=-pr*(2*.119161+4*.0547009*zt+2*.0143059*It),Vr=pr*(2*.0802894+4*199025e-9*It+2*-.02855*zt),rn=1.00384+It*(.0802894+199025e-9*It)+zt*(3*(.0998909-.02855*It)-5*.0491032*zt),bn=zr*Vr-rn*Sr,Pn=(sr*zr-wr*rn)/bn,In=(wr*Vr-sr*Sr)/bn;yt-=Pn,wt-=In}while((P(Pn)>h||P(In)>h)&&--_t>0);return _t&&[yt,wt]};function Yc(){return(0,b.c)(Co).scale(139.98)}function us(Je,it){return[f(Je)/M(it),g(it)*M(Je)]}us.invert=function(Je,it){var yt=Je*Je,wt=it*it,_t=wt+1,It=yt+_t,zt=Je?x*k((It-k(It*It-4*yt))/yt):1/k(_t);return[E(Je*zt),u(it)*m(zt)]};function Zi(){return(0,b.c)(us).scale(144.049).clipAngle(89.999)}function lf(Je){var it=M(Je),yt=g(d+Je/2);function wt(_t,It){var zt=It-Je,pr=P(zt)<h?_t*it:P(pr=d+It/2)<h||P(P(pr)-a)<h?0:_t*zt/r(g(pr)/yt);return[pr,zt]}return wt.invert=function(_t,It){var zt,pr=It+Je;return[P(It)<h?_t/it:P(zt=d+pr/2)<h||P(P(zt)-a)<h?0:_t*r(g(zt)/yt)/It,pr]},wt}function Ns(){return at(lf).parallel(40).scale(158.837)}function fs(Je,it){return[Je,1.25*r(g(d+.4*it))]}fs.invert=function(Je,it){return[Je,2.5*s(v(.8*it))-.625*c]};function uf(){return(0,b.c)(fs).scale(108.318)}function Wf(Je){var it=Je.length-1;function yt(wt,_t){for(var It=M(_t),zt=2/(1+It*M(wt)),pr=zt*It*f(wt),wr=zt*f(_t),sr=it,Sr=Je[sr],zr=Sr[0],Vr=Sr[1],rn;--sr>=0;)Sr=Je[sr],zr=Sr[0]+pr*(rn=zr)-wr*Vr,Vr=Sr[1]+pr*Vr+wr*rn;return zr=pr*(rn=zr)-wr*Vr,Vr=pr*Vr+wr*rn,[zr,Vr]}return yt.invert=function(wt,_t){var It=20,zt=wt,pr=_t;do{for(var wr=it,sr=Je[wr],Sr=sr[0],zr=sr[1],Vr=0,rn=0,bn;--wr>=0;)sr=Je[wr],Vr=Sr+zt*(bn=Vr)-pr*rn,rn=zr+zt*rn+pr*bn,Sr=sr[0]+zt*(bn=Sr)-pr*zr,zr=sr[1]+zt*zr+pr*bn;Vr=Sr+zt*(bn=Vr)-pr*rn,rn=zr+zt*rn+pr*bn,Sr=zt*(bn=Sr)-pr*zr-wt,zr=zt*zr+pr*bn-_t;var Pn=Vr*Vr+rn*rn,In,Kn;zt-=In=(Sr*Vr+zr*rn)/Pn,pr-=Kn=(zr*Vr-Sr*rn)/Pn}while(P(In)+P(Kn)>h*h&&--It>0);if(It){var La=k(zt*zt+pr*pr),Pa=2*s(La*.5),Da=f(Pa);return[L(zt*Da,La*M(Pa)),La?E(pr*Da/La):0]}},yt}var Xc=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Fu=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],jc=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Zc=[[.9245,0],[0,0],[.01943,0]],Kc=[[.721316,0],[0,0],[-.00881625,-.00617325]];function ff(){return il(Xc,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Jc(){return il(Fu,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function Qc(){return il(jc,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Yf(){return il(Zc,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Xf(){return il(Kc,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function il(Je,it){var yt=(0,b.c)(Wf(Je)).rotate(it).clipAngle(90),wt=(0,Ve.c)(it),_t=yt.center;return delete yt.rotate,yt.center=function(It){return arguments.length?_t(wt(It)):wt.invert(_t())},yt}var Pl=k(6),nu=k(7);function au(Je,it){var yt=E(7*f(it)/(3*Pl));return[Pl*Je*(2*M(2*yt/3)-1)/nu,9*f(yt/3)/nu]}au.invert=function(Je,it){var yt=3*E(it*nu/9);return[Je*nu/(Pl*(2*M(2*yt/3)-1)),E(f(yt)*3*Pl/7)]};function jf(){return(0,b.c)(au).scale(164.859)}function Ms(Je,it){for(var yt=(1+x)*f(it),wt=it,_t=0,It;_t<25&&(wt-=It=(f(wt/2)+f(wt)-yt)/(.5*M(wt/2)+M(wt)),!(P(It)<h));_t++);return[Je*(1+2*M(wt)/M(wt/2))/(3*T),2*k(3)*f(wt/2)/k(2+T)]}Ms.invert=function(Je,it){var yt=it*k(2+T)/(2*k(3)),wt=2*E(yt);return[3*T*Je/(1+2*M(wt)/M(wt/2)),E((yt+f(wt))/(1+x))]};function $c(){return(0,b.c)(Ms).scale(188.209)}function Ou(Je,it){for(var yt=k(6/(4+c)),wt=(1+c/4)*f(it),_t=it/2,It=0,zt;It<25&&(_t-=zt=(_t/2+f(_t)-wt)/(.5+M(_t)),!(P(zt)<h));It++);return[yt*(.5+M(_t))*Je/1.5,yt*_t]}Ou.invert=function(Je,it){var yt=k(6/(4+c)),wt=it/yt;return P(P(wt)-a)<h&&(wt=wt<0?-a:a),[1.5*Je/(yt*(.5+M(wt))),E((wt/2+f(wt))/(1+c/4))]};function Zf(){return(0,b.c)(Ou).scale(166.518)}var Kf=e(47984);function Bu(Je,it){var yt=it*it,wt=yt*yt,_t=yt*wt;return[Je*(.84719-.13063*yt+_t*_t*(-.04515+.05494*yt-.02326*wt+.00331*_t)),it*(1.01183+wt*wt*(-.02625+.01926*yt-.00396*wt))]}Bu.invert=function(Je,it){var yt=it,wt=25,_t,It,zt,pr;do It=yt*yt,zt=It*It,yt-=_t=(yt*(1.01183+zt*zt*(-.02625+.01926*It-.00396*zt))-it)/(1.01183+zt*zt*(-.23625+.21186*It+-.05148*zt));while(P(_t)>w&&--wt>0);return It=yt*yt,zt=It*It,pr=It*zt,[Je/(.84719-.13063*It+pr*pr*(-.04515+.05494*It-.02326*zt+.00331*pr)),yt]};function Yo(){return(0,b.c)(Bu).scale(175.295)}function Rl(Je,it){return[Je*(1+M(it))/2,2*(it-g(it/2))]}Rl.invert=function(Je,it){for(var yt=it/2,wt=0,_t=1/0;wt<10&&P(_t)>h;++wt){var It=M(it/2);it-=_t=(it-g(it/2)-yt)/(1-.5/(It*It))}return[2*Je/(1+M(it)),it]};function ol(){return(0,b.c)(Rl).scale(152.63)}var iu=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Us(){return qi(te(1/0),iu).rotate([20,0]).scale(152.63)}function cs(Je,it){var yt=f(it),wt=M(it),_t=u(Je);if(Je===0||P(it)===a)return[0,it];if(it===0)return[Je,0];if(P(Je)===a)return[Je*wt,a*yt];var It=c/(2*Je)-2*Je/c,zt=2*it/c,pr=(1-zt*zt)/(yt-zt),wr=It*It,sr=pr*pr,Sr=1+wr/sr,zr=1+sr/wr,Vr=(It*yt/pr-It/2)/Sr,rn=(sr*yt/wr+pr/2)/zr,bn=Vr*Vr+wt*wt/Sr,Pn=rn*rn-(sr*yt*yt/wr+pr*yt-1)/zr;return[a*(Vr+k(bn)*_t),a*(rn+k(Pn<0?0:Pn)*u(-it*It)*_t)]}cs.invert=function(Je,it){Je/=a,it/=a;var yt=Je*Je,wt=it*it,_t=yt+wt,It=c*c;return[Je?(_t-1+k((1-_t)*(1-_t)+4*yt))/(2*Je)*a:0,we(function(zt){return _t*(c*f(zt)-2*zt)*c+4*zt*zt*(it-f(zt))+2*c*zt-It*it},0)]};function cf(){return(0,b.c)(cs).scale(127.267)}var Dl=1.0148,Xo=.23185,Li=-.14499,hf=.02406,qc=Dl,Nu=5*Xo,Il=7*Li,kl=9*hf,Lo=1.790857183;function Uu(Je,it){var yt=it*it;return[Je,it*(Dl+yt*yt*(Xo+yt*(Li+hf*yt)))]}Uu.invert=function(Je,it){it>Lo?it=Lo:it<-Lo&&(it=-Lo);var yt=it,wt;do{var _t=yt*yt;yt-=wt=(yt*(Dl+_t*_t*(Xo+_t*(Li+hf*_t)))-it)/(qc+_t*_t*(Nu+_t*(Il+kl*_t)))}while(P(wt)>h);return[Je,yt]};function _l(){return(0,b.c)(Uu).scale(139.319)}function Vu(Je,it){if(P(it)<h)return[Je,0];var yt=g(it),wt=Je*f(it);return[f(wt)/yt,it+(1-M(wt))/yt]}Vu.invert=function(Je,it){if(P(it)<h)return[Je,0];var yt=Je*Je+it*it,wt=it*.5,_t=10,It;do{var zt=g(wt),pr=1/M(wt),wr=yt-2*it*wt+wt*wt;wt-=It=(zt*wr+2*(wt-it))/(2+wr*pr*pr+2*(wt-it)*zt)}while(P(It)>h&&--_t>0);return zt=g(wt),[(P(it)<P(wt+1/zt)?E(Je*zt):u(it)*u(Je)*(m(P(Je*zt))+a))/f(wt),wt]};function eh(){return(0,b.c)(Vu).scale(103.74)}var Jf=e(13696),vf=e(27284);function df(Je,it){var yt=Hu(Je[1],Je[0]),wt=Hu(it[1],it[0]),_t=Gu(yt,wt),It=ou(yt)/ou(wt);return zl([1,0,Je[0][0],0,1,Je[0][1]],zl([It,0,0,0,It,0],zl([M(_t),f(_t),0,-f(_t),M(_t),0],[1,0,-it[0][0],0,1,-it[0][1]])))}function pf(Je){var it=1/(Je[0]*Je[4]-Je[1]*Je[3]);return[it*Je[4],-it*Je[1],it*(Je[1]*Je[5]-Je[2]*Je[4]),-it*Je[3],it*Je[0],it*(Je[2]*Je[3]-Je[0]*Je[5])]}function zl(Je,it){return[Je[0]*it[0]+Je[1]*it[3],Je[0]*it[1]+Je[1]*it[4],Je[0]*it[2]+Je[1]*it[5]+Je[2],Je[3]*it[0]+Je[4]*it[3],Je[3]*it[1]+Je[4]*it[4],Je[3]*it[2]+Je[4]*it[5]+Je[5]]}function Hu(Je,it){return[Je[0]-it[0],Je[1]-it[1]]}function ou(Je){return k(Je[0]*Je[0]+Je[1]*Je[1])}function Gu(Je,it){return L(Je[0]*it[1]-Je[1]*it[0],Je[0]*it[0]+Je[1]*it[1])}function pi(Je,it,yt){wt(Je,{transform:null});function wt(sr,Sr){if(sr.edges=gf(sr.face),Sr.face){var zr=sr.shared=$f(sr.face,Sr.face),Vr=df(zr.map(Sr.project),zr.map(sr.project));sr.transform=Sr.transform?zl(Sr.transform,Vr):Vr;for(var rn=Sr.edges,bn=0,Pn=rn.length;bn<Pn;++bn)jo(zr[0],rn[bn][1])&&jo(zr[1],rn[bn][0])&&(rn[bn]=sr),jo(zr[0],rn[bn][0])&&jo(zr[1],rn[bn][1])&&(rn[bn]=sr);for(rn=sr.edges,bn=0,Pn=rn.length;bn<Pn;++bn)jo(zr[0],rn[bn][0])&&jo(zr[1],rn[bn][1])&&(rn[bn]=Sr),jo(zr[0],rn[bn][1])&&jo(zr[1],rn[bn][0])&&(rn[bn]=Sr)}else sr.transform=Sr.transform;return sr.children&&sr.children.forEach(function(In){wt(In,sr)}),sr}function _t(sr,Sr){var zr=it(sr,Sr),Vr=zr.project([sr*S,Sr*S]),rn;return(rn=zr.transform)?[rn[0]*Vr[0]+rn[1]*Vr[1]+rn[2],-(rn[3]*Vr[0]+rn[4]*Vr[1]+rn[5])]:(Vr[1]=-Vr[1],Vr)}sl(Je)&&(_t.invert=function(sr,Sr){var zr=It(Je,[sr,-Sr]);return zr&&(zr[0]*=A,zr[1]*=A,zr)});function It(sr,Sr){var zr=sr.project.invert,Vr=sr.transform,rn=Sr;if(Vr&&(Vr=pf(Vr),rn=[Vr[0]*rn[0]+Vr[1]*rn[1]+Vr[2],Vr[3]*rn[0]+Vr[4]*rn[1]+Vr[5]]),zr&&sr===zt(bn=zr(rn)))return bn;for(var bn,Pn=sr.children,In=0,Kn=Pn&&Pn.length;In<Kn;++In)if(bn=It(Pn[In],Sr))return bn}function zt(sr){return it(sr[0]*A,sr[1]*A)}var pr=(0,b.c)(_t),wr=pr.stream;return pr.stream=function(sr){var Sr=pr.rotate(),zr=wr(sr),Vr=(pr.rotate([0,0]),wr(sr));return pr.rotate(Sr),zr.sphere=function(){Vr.polygonStart(),Vr.lineStart(),Qf(Vr,Je),Vr.lineEnd(),Vr.polygonEnd()},zr},pr.angle(yt==null?-30:yt*S)}function Qf(Je,it,yt){var wt,_t=it.edges,It=_t.length,zt,pr={type:"MultiPoint",coordinates:it.face},wr=it.face.filter(function(Pn){return P(Pn[1])!==90}),sr=(0,Jf.c)({type:"MultiPoint",coordinates:wr}),Sr=!1,zr=-1,Vr=sr[1][0]-sr[0][0],rn=Vr===180||Vr===360?[(sr[0][0]+sr[1][0])/2,(sr[0][1]+sr[1][1])/2]:(0,Ie.c)(pr);if(yt)for(;++zr<It&&_t[zr]!==yt;);++zr;for(var bn=0;bn<It;++bn)zt=_t[(bn+zr)%It],Array.isArray(zt)?(Sr||(Je.point((wt=(0,vf.c)(zt[0],rn)(h))[0],wt[1]),Sr=!0),Je.point((wt=(0,vf.c)(zt[1],rn)(h))[0],wt[1])):(Sr=!1,zt!==yt&&Qf(Je,zt,it))}function jo(Je,it){return Je&&it&&Je[0]===it[0]&&Je[1]===it[1]}function $f(Je,it){for(var yt,wt,_t=Je.length,It=null,zt=0;zt<_t;++zt){yt=Je[zt];for(var pr=it.length;--pr>=0;)if(wt=it[pr],yt[0]===wt[0]&&yt[1]===wt[1]){if(It)return[It,yt];It=yt}}}function gf(Je){for(var it=Je.length,yt=[],wt=Je[it-1],_t=0;_t<it;++_t)yt.push([wt,wt=Je[_t]]);return yt}function sl(Je){return Je.project.invert||Je.children&&Je.children.some(sl)}var Vs=e(53285),Wu=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Ii=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Je){return Je.map(function(it){return Wu[it]})});function su(Je){Je=Je||function(yt){var wt=(0,Ie.c)({type:"MultiPoint",coordinates:yt});return(0,Vs.c)().scale(1).translate([0,0]).rotate([-wt[0],-wt[1]])};var it=Ii.map(function(yt){return{face:yt,project:Je(yt)}});return[-1,0,0,1,0,1,4,5].forEach(function(yt,wt){var _t=it[yt];_t&&(_t.children||(_t.children=[])).push(it[wt])}),pi(it[0],function(yt,wt){return it[yt<-c/2?wt<0?6:4:yt<0?wt<0?2:0:yt<c/2?wt<0?3:1:wt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var Zo=2/k(3);function Ss(Je,it){var yt=ye(Je,it);return[yt[0]*Zo,yt[1]]}Ss.invert=function(Je,it){return ye.invert(Je/Zo,it)};function ll(Je){Je=Je||function(yt){var wt=(0,Ie.c)({type:"MultiPoint",coordinates:yt});return(0,b.c)(Ss).translate([0,0]).scale(1).rotate(wt[1]>0?[-wt[0],0]:[180-wt[0],180])};var it=Ii.map(function(yt){return{face:yt,project:Je(yt)}});return[-1,0,0,1,0,1,4,5].forEach(function(yt,wt){var _t=it[yt];_t&&(_t.children||(_t.children=[])).push(it[wt])}),pi(it[0],function(yt,wt){return it[yt<-c/2?wt<0?6:4:yt<0?wt<0?2:0:yt<c/2?wt<0?3:1:wt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function Hs(Je){Je=Je||function(zt){var pr=zt.length===6?(0,Ie.c)({type:"MultiPoint",coordinates:zt}):zt[0];return(0,Vs.c)().scale(1).translate([0,0]).rotate([-pr[0],-pr[1]])};var it=Ii.map(function(zt){for(var pr=zt.map(Bo),wr=pr.length,sr=pr[wr-1],Sr,zr=[],Vr=0;Vr<wr;++Vr)Sr=pr[Vr],zr.push(Jo([sr[0]*.9486832980505138+Sr[0]*.31622776601683794,sr[1]*.9486832980505138+Sr[1]*.31622776601683794,sr[2]*.9486832980505138+Sr[2]*.31622776601683794]),Jo([Sr[0]*.9486832980505138+sr[0]*.31622776601683794,Sr[1]*.9486832980505138+sr[1]*.31622776601683794,Sr[2]*.9486832980505138+sr[2]*.31622776601683794])),sr=Sr;return zr}),yt=[],wt=[-1,0,0,1,0,1,4,5];it.forEach(function(zt,pr){for(var wr=Ii[pr],sr=wr.length,Sr=yt[pr]=[],zr=0;zr<sr;++zr)it.push([wr[zr],zt[(zr*2+2)%(2*sr)],zt[(zr*2+1)%(2*sr)]]),wt.push(pr),Sr.push(Es(Bo(zt[(zr*2+2)%(2*sr)]),Bo(zt[(zr*2+1)%(2*sr)])))});var _t=it.map(function(zt){return{project:Je(zt),face:zt}});wt.forEach(function(zt,pr){var wr=_t[zt];wr&&(wr.children||(wr.children=[])).push(_t[pr])});function It(zt,pr){var wr=M(pr),sr=[wr*M(zt),wr*f(zt),f(pr)],Sr=zt<-c/2?pr<0?6:4:zt<0?pr<0?2:0:zt<c/2?pr<0?3:1:pr<0?7:5,zr=yt[Sr];return _t[Ko(zr[0],sr)<0?8+3*Sr:Ko(zr[1],sr)<0?8+3*Sr+1:Ko(zr[2],sr)<0?8+3*Sr+2:Sr]}return pi(_t[0],It).angle(-30).scale(110.625).center([0,45])}function Ko(Je,it){for(var yt=0,wt=Je.length,_t=0;yt<wt;++yt)_t+=Je[yt]*it[yt];return _t}function Es(Je,it){return[Je[1]*it[2]-Je[2]*it[1],Je[2]*it[0]-Je[0]*it[2],Je[0]*it[1]-Je[1]*it[0]]}function Jo(Je){return[L(Je[1],Je[0])*S,E(t(-1,o(1,Je[2])))*S]}function Bo(Je){var it=Je[0]*A,yt=Je[1]*A,wt=M(yt);return[wt*M(it),wt*f(it),f(yt)]}function lu(){}function th(Je){if((yt=Je.length)<4)return!1;for(var it=0,yt,wt=Je[yt-1][1]*Je[0][0]-Je[yt-1][0]*Je[0][1];++it<yt;)wt+=Je[it-1][1]*Je[it][0]-Je[it-1][0]*Je[it][1];return wt<=0}function rh(Je,it){for(var yt=it[0],wt=it[1],_t=!1,It=0,zt=Je.length,pr=zt-1;It<zt;pr=It++){var wr=Je[It],sr=wr[0],Sr=wr[1],zr=Je[pr],Vr=zr[0],rn=zr[1];Sr>wt^rn>wt&&yt<(Vr-sr)*(wt-Sr)/(rn-Sr)+sr&&(_t=!_t)}return _t}function nh(Je,it){var yt=it.stream,wt;if(!yt)throw new Error("invalid projection");switch(Je&&Je.type){case"Feature":wt=yf;break;case"FeatureCollection":wt=ah;break;default:wt=Fl;break}return wt(Je,yt)}function ah(Je,it){return{type:"FeatureCollection",features:Je.features.map(function(yt){return yf(yt,it)})}}function yf(Je,it){return{type:"Feature",id:Je.id,properties:Je.properties,geometry:Fl(Je.geometry,it)}}function qf(Je,it){return{type:"GeometryCollection",geometries:Je.geometries.map(function(yt){return Fl(yt,it)})}}function Fl(Je,it){if(!Je)return null;if(Je.type==="GeometryCollection")return qf(Je,it);var yt;switch(Je.type){case"Point":yt=Ol;break;case"MultiPoint":yt=Ol;break;case"LineString":yt=ec;break;case"MultiLineString":yt=ec;break;case"Polygon":yt=uu;break;case"MultiPolygon":yt=uu;break;case"Sphere":yt=uu;break;default:return null}return(0,ha.c)(Je,it(yt)),yt.result()}var Ki=[],_o=[],Ol={point:function(Je,it){Ki.push([Je,it])},result:function(){var Je=Ki.length?Ki.length<2?{type:"Point",coordinates:Ki[0]}:{type:"MultiPoint",coordinates:Ki}:null;return Ki=[],Je}},ec={lineStart:lu,point:function(Je,it){Ki.push([Je,it])},lineEnd:function(){Ki.length&&(_o.push(Ki),Ki=[])},result:function(){var Je=_o.length?_o.length<2?{type:"LineString",coordinates:_o[0]}:{type:"MultiLineString",coordinates:_o}:null;return _o=[],Je}},uu={polygonStart:lu,lineStart:lu,point:function(Je,it){Ki.push([Je,it])},lineEnd:function(){var Je=Ki.length;if(Je){do Ki.push(Ki[0].slice());while(++Je<4);_o.push(Ki),Ki=[]}},polygonEnd:lu,result:function(){if(!_o.length)return null;var Je=[],it=[];return _o.forEach(function(yt){th(yt)?Je.push([yt]):it.push(yt)}),it.forEach(function(yt){var wt=yt[0];Je.some(function(_t){if(rh(_t[0],wt))return _t.push(yt),!0})||Je.push([yt])}),_o=[],Je.length?Je.length>1?{type:"MultiPolygon",coordinates:Je}:{type:"Polygon",coordinates:Je[0]}:null}};function Cs(Je){var it=Je(a,0)[0]-Je(-a,0)[0];function yt(wt,_t){var It=P(wt)<a,zt=Je(It?wt:wt>0?wt-c:wt+c,_t),pr=(zt[0]-zt[1])*x,wr=(zt[0]+zt[1])*x;if(It)return[pr,wr];var sr=it*x,Sr=pr>0^wr>0?-1:1;return[Sr*pr-u(wr)*sr,Sr*wr-u(pr)*sr]}return Je.invert&&(yt.invert=function(wt,_t){var It=(wt+_t)*x,zt=(_t-wt)*x,pr=P(It)<.5*it&&P(zt)<.5*it;if(!pr){var wr=it*x,sr=It>0^zt>0?-1:1,Sr=-sr*wt+(zt>0?1:-1)*wr,zr=-sr*_t+(It>0?1:-1)*wr;It=(-Sr-zr)*x,zt=(Sr-zr)*x}var Vr=Je.invert(It,zt);return pr||(Vr[0]+=It>0?c:-c),Vr}),(0,b.c)(yt).rotate([-90,-90,45]).clipAngle(179.999)}function ih(){return Cs(Tn).scale(176.423)}function tc(){return Cs(Cr).scale(111.48)}function rc(Je,it){if(!(0<=(it=+it)&&it<=20))throw new Error("invalid digits");function yt(sr){var Sr=sr.length,zr=2,Vr=new Array(Sr);for(Vr[0]=+sr[0].toFixed(it),Vr[1]=+sr[1].toFixed(it);zr<Sr;)Vr[zr]=sr[zr],++zr;return Vr}function wt(sr){return sr.map(yt)}function _t(sr){for(var Sr=yt(sr[0]),zr=[Sr],Vr=1;Vr<sr.length;Vr++){var rn=yt(sr[Vr]);(rn.length>2||rn[0]!=Sr[0]||rn[1]!=Sr[1])&&(zr.push(rn),Sr=rn)}return zr.length===1&&sr.length>1&&zr.push(yt(sr[sr.length-1])),zr}function It(sr){return sr.map(_t)}function zt(sr){if(sr==null)return sr;var Sr;switch(sr.type){case"GeometryCollection":Sr={type:"GeometryCollection",geometries:sr.geometries.map(zt)};break;case"Point":Sr={type:"Point",coordinates:yt(sr.coordinates)};break;case"MultiPoint":Sr={type:sr.type,coordinates:wt(sr.coordinates)};break;case"LineString":Sr={type:sr.type,coordinates:_t(sr.coordinates)};break;case"MultiLineString":case"Polygon":Sr={type:sr.type,coordinates:It(sr.coordinates)};break;case"MultiPolygon":Sr={type:"MultiPolygon",coordinates:sr.coordinates.map(It)};break;default:return sr}return sr.bbox!=null&&(Sr.bbox=sr.bbox),Sr}function pr(sr){var Sr={type:"Feature",properties:sr.properties,geometry:zt(sr.geometry)};return sr.id!=null&&(Sr.id=sr.id),sr.bbox!=null&&(Sr.bbox=sr.bbox),Sr}if(Je!=null)switch(Je.type){case"Feature":return pr(Je);case"FeatureCollection":{var wr={type:"FeatureCollection",features:Je.features.map(pr)};return Je.bbox!=null&&(wr.bbox=Je.bbox),wr}default:return zt(Je)}return Je}function mf(Je){var it=f(Je);function yt(wt,_t){var It=it?g(wt*it/2)/it:wt/2;if(!_t)return[2*It,-Je];var zt=2*s(It*f(_t)),pr=1/g(_t);return[f(zt)*pr,_t+(1-M(zt))*pr-Je]}return yt.invert=function(wt,_t){if(P(_t+=Je)<h)return[it?2*s(it*wt/2)/it:wt,0];var It=wt*wt+_t*_t,zt=0,pr=10,wr;do{var sr=g(zt),Sr=1/M(zt),zr=It-2*_t*zt+zt*zt;zt-=wr=(sr*zr+2*(zt-_t))/(2+zr*Sr*Sr+2*(zt-_t)*sr)}while(P(wr)>h&&--pr>0);var Vr=wt*(sr=g(zt)),rn=g(P(_t)<P(zt+1/sr)?E(Vr)*.5:m(Vr)*.5+c/4)/f(zt);return[it?2*s(it*rn)/it:2*rn,zt]},yt}function nc(){return at(mf).scale(131.215)}var bo=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];bo.forEach(function(Je){Je[1]*=1.0144});function Qo(Je,it){var yt=o(18,P(it)*36/c),wt=p(yt),_t=yt-wt,It=(zr=bo[wt])[0],zt=zr[1],pr=(zr=bo[++wt])[0],wr=zr[1],sr=(zr=bo[o(19,++wt)])[0],Sr=zr[1],zr;return[Je*(pr+_t*(sr-It)/2+_t*_t*(sr-2*pr+It)/2),(it>0?a:-a)*(wr+_t*(Sr-zt)/2+_t*_t*(Sr-2*wr+zt)/2)]}Qo.invert=function(Je,it){var yt=it/a,wt=yt*90,_t=o(18,P(wt/5)),It=t(0,p(_t));do{var zt=bo[It][1],pr=bo[It+1][1],wr=bo[o(19,It+2)][1],sr=wr-zt,Sr=wr-2*pr+zt,zr=2*(P(yt)-pr)/sr,Vr=Sr/sr,rn=zr*(1-Vr*zr*(1-2*Vr*zr));if(rn>=0||It===1){wt=(it>=0?5:-5)*(rn+_t);var bn=50,Pn;do _t=o(18,P(wt)/5),It=p(_t),rn=_t-It,zt=bo[It][1],pr=bo[It+1][1],wr=bo[o(19,It+2)][1],wt-=(Pn=(it>=0?a:-a)*(pr+rn*(wr-zt)/2+rn*rn*(wr-2*pr+zt)/2)-it)*S;while(P(Pn)>w&&--bn>0);break}}while(--It>=0);var In=bo[It][0],Kn=bo[It+1][0],La=bo[o(19,It+2)][0];return[Je/(Kn+rn*(La-In)/2+rn*rn*(La-2*Kn+In)/2),wt*A]};function Gs(){return(0,b.c)(Qo).scale(152.63)}function Bl(Je){function it(yt,wt){var _t=M(wt),It=(Je-1)/(Je-_t*M(yt));return[It*_t*f(yt),It*f(wt)]}return it.invert=function(yt,wt){var _t=yt*yt+wt*wt,It=k(_t),zt=(Je-k(1-_t*(Je+1)/(Je-1)))/((Je-1)/It+It/(Je-1));return[L(yt*zt,It*k(1-zt*zt)),It?E(wt*zt/It):0]},it}function Yu(Je,it){var yt=Bl(Je);if(!it)return yt;var wt=M(it),_t=f(it);function It(zt,pr){var wr=yt(zt,pr),sr=wr[1],Sr=sr*_t/(Je-1)+wt;return[wr[0]*wt/Sr,sr/Sr]}return It.invert=function(zt,pr){var wr=(Je-1)/(Je-1-pr*_t);return yt.invert(wr*zt,wr*pr*wt)},It}function ul(){var Je=2,it=0,yt=(0,b.U)(Yu),wt=yt(Je,it);return wt.distance=function(_t){return arguments.length?yt(Je=+_t,it):Je},wt.tilt=function(_t){return arguments.length?yt(Je,it=_t*A):it*S},wt.scale(432.147).clipAngle(m(1/Je)*S-1e-6)}var fl=1e-4,ac=1e4,Ls=-180,Nl=Ls+fl,Ws=180,Ps=Ws-fl,fu=-90,Ul=fu+fl,ci=90,Vl=ci-fl;function Xu(Je){return Je.length>0}function ic(Je){return Math.floor(Je*ac)/ac}function Hl(Je){return Je===fu||Je===ci?[0,Je]:[Ls,ic(Je)]}function cu(Je){var it=Je[0],yt=Je[1],wt=!1;return it<=Nl?(it=Ls,wt=!0):it>=Ps&&(it=Ws,wt=!0),yt<=Ul?(yt=fu,wt=!0):yt>=Vl&&(yt=ci,wt=!0),wt?[it,yt]:Je}function ju(Je){return Je.map(cu)}function xf(Je,it,yt){for(var wt=0,_t=Je.length;wt<_t;++wt){var It=Je[wt].slice();yt.push({index:-1,polygon:it,ring:It});for(var zt=0,pr=It.length;zt<pr;++zt){var wr=It[zt],sr=wr[0],Sr=wr[1];if(sr<=Nl||sr>=Ps||Sr<=Ul||Sr>=Vl){It[zt]=cu(wr);for(var zr=zt+1;zr<pr;++zr){var Vr=It[zr],rn=Vr[0],bn=Vr[1];if(rn>Nl&&rn<Ps&&bn>Ul&&bn<Vl)break}if(zr===zt+1)continue;if(zt){var Pn={index:-1,polygon:it,ring:It.slice(0,zt+1)};Pn.ring[Pn.ring.length-1]=Hl(Sr),yt[yt.length-1]=Pn}else yt.pop();if(zr>=pr)break;yt.push({index:-1,polygon:it,ring:It=It.slice(zr-1)}),It[0]=Hl(It[0][1]),zt=-1,pr=It.length}}}}function hu(Je){var it,yt=Je.length,wt={},_t={},It,zt,pr,wr,sr;for(it=0;it<yt;++it){if(It=Je[it],zt=It.ring[0],wr=It.ring[It.ring.length-1],zt[0]===wr[0]&&zt[1]===wr[1]){It.polygon.push(It.ring),Je[it]=null;continue}It.index=it,wt[zt]=_t[wr]=It}for(it=0;it<yt;++it)if(It=Je[it],It){if(zt=It.ring[0],wr=It.ring[It.ring.length-1],pr=_t[zt],sr=wt[wr],delete wt[zt],delete _t[wr],zt[0]===wr[0]&&zt[1]===wr[1]){It.polygon.push(It.ring);continue}pr?(delete _t[zt],delete wt[pr.ring[0]],pr.ring.pop(),Je[pr.index]=null,It={index:-1,polygon:pr.polygon,ring:pr.ring.concat(It.ring)},pr===sr?It.polygon.push(It.ring):(It.index=yt++,Je.push(wt[It.ring[0]]=_t[It.ring[It.ring.length-1]]=It))):sr?(delete wt[wr],delete _t[sr.ring[sr.ring.length-1]],It.ring.pop(),It={index:yt++,polygon:sr.polygon,ring:It.ring.concat(sr.ring)},Je[sr.index]=null,Je.push(wt[It.ring[0]]=_t[It.ring[It.ring.length-1]]=It)):(It.ring.push(It.ring[0]),It.polygon.push(It.ring))}}function vu(Je){var it={type:"Feature",geometry:Ys(Je.geometry)};return Je.id!=null&&(it.id=Je.id),Je.bbox!=null&&(it.bbox=Je.bbox),Je.properties!=null&&(it.properties=Je.properties),it}function Ys(Je){if(Je==null)return Je;var it,yt,wt,_t;switch(Je.type){case"GeometryCollection":it={type:"GeometryCollection",geometries:Je.geometries.map(Ys)};break;case"Point":it={type:"Point",coordinates:cu(Je.coordinates)};break;case"MultiPoint":case"LineString":it={type:Je.type,coordinates:ju(Je.coordinates)};break;case"MultiLineString":it={type:"MultiLineString",coordinates:Je.coordinates.map(ju)};break;case"Polygon":{var It=[];xf(Je.coordinates,It,yt=[]),hu(yt),it={type:"Polygon",coordinates:It};break}case"MultiPolygon":{yt=[],wt=-1,_t=Je.coordinates.length;for(var zt=new Array(_t);++wt<_t;)xf(Je.coordinates[wt],zt[wt]=[],yt);hu(yt),it={type:"MultiPolygon",coordinates:zt.filter(Xu)};break}default:return Je}return Je.bbox!=null&&(it.bbox=Je.bbox),it}function du(Je){if(Je==null)return Je;switch(Je.type){case"Feature":return vu(Je);case"FeatureCollection":{var it={type:"FeatureCollection",features:Je.features.map(vu)};return Je.bbox!=null&&(it.bbox=Je.bbox),it}default:return Ys(Je)}}function Xs(Je,it){var yt=g(it/2),wt=f(d*yt);return[Je*(.74482-.34588*wt*wt),1.70711*yt]}Xs.invert=function(Je,it){var yt=it/1.70711,wt=f(d*yt);return[Je/(.74482-.34588*wt*wt),2*s(yt)]};function Vi(){return(0,b.c)(Xs).scale(146.153)}function hs(Je,it,yt){var wt=(0,vf.c)(it,yt),_t=wt(.5),It=(0,Ve.c)([-_t[0],-_t[1]])(it),zt=wt.distance/2,pr=-E(f(It[1]*A)/f(zt)),wr=[-_t[0],-_t[1],-(It[0]>0?c-pr:pr)*S],sr=(0,b.c)(Je(zt)).rotate(wr),Sr=(0,Ve.c)(wr),zr=sr.center;return delete sr.rotate,sr.center=function(Vr){return arguments.length?zr(Sr(Vr)):Sr.invert(zr())},sr.clipAngle(90)}function bf(Je){var it=M(Je);function yt(wt,_t){var It=(0,Vs.Y)(wt,_t);return It[0]*=it,It}return yt.invert=function(wt,_t){return Vs.Y.invert(wt/it,_t)},yt}function cl(){return Zu([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Zu(Je,it){return hs(bf,Je,it)}function pu(Je){if(!(Je*=2))return se.O;var it=-Je/2,yt=-it,wt=Je*Je,_t=g(yt),It=.5/f(yt);function zt(pr,wr){var sr=m(M(wr)*M(pr-it)),Sr=m(M(wr)*M(pr-yt)),zr=wr<0?-1:1;return sr*=sr,Sr*=Sr,[(sr-Sr)/(2*Je),zr*k(4*wt*Sr-(wt-sr+Sr)*(wt-sr+Sr))/(2*Je)]}return zt.invert=function(pr,wr){var sr=wr*wr,Sr=M(k(sr+(Vr=pr+it)*Vr)),zr=M(k(sr+(Vr=pr+yt)*Vr)),Vr,rn;return[L(rn=Sr-zr,Vr=(Sr+zr)*_t),(wr<0?-1:1)*m(k(Vr*Vr+rn*rn)*It)]},zt}function oh(){return oc([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function oc(Je,it){return hs(pu,Je,it)}function vo(Je,it){if(P(it)<h)return[Je,0];var yt=P(it/a),wt=E(yt);if(P(Je)<h||P(P(it)-a)<h)return[0,u(it)*c*g(wt/2)];var _t=M(wt),It=P(c/Je-Je/c)/2,zt=It*It,pr=_t/(yt+_t-1),wr=pr*(2/yt-1),sr=wr*wr,Sr=sr+zt,zr=pr-sr,Vr=zt+pr;return[u(Je)*c*(It*zr+k(zt*zr*zr-Sr*(pr*pr-sr)))/Sr,u(it)*c*(wr*Vr-It*k((zt+1)*Sr-Vr*Vr))/Sr]}vo.invert=function(Je,it){if(P(it)<h)return[Je,0];if(P(Je)<h)return[0,a*f(2*s(it/c))];var yt=(Je/=c)*Je,wt=(it/=c)*it,_t=yt+wt,It=_t*_t,zt=-P(it)*(1+_t),pr=zt-2*wt+yt,wr=-2*zt+1+2*wt+It,sr=wt/wr+(2*pr*pr*pr/(wr*wr*wr)-9*zt*pr/(wr*wr))/27,Sr=(zt-pr*pr/(3*wr))/wr,zr=2*k(-Sr/3),Vr=m(3*sr/(Sr*zr))/3;return[c*(_t-1+k(1+2*(yt-wt)+It))/(2*Je),u(it)*c*(-zr*M(Vr+c/3)-pr/(3*wr))]};function gu(){return(0,b.c)(vo).scale(79.4183)}function Gl(Je,it){if(P(it)<h)return[Je,0];var yt=P(it/a),wt=E(yt);if(P(Je)<h||P(P(it)-a)<h)return[0,u(it)*c*g(wt/2)];var _t=M(wt),It=P(c/Je-Je/c)/2,zt=It*It,pr=_t*(k(1+zt)-It*_t)/(1+zt*yt*yt);return[u(Je)*c*pr,u(it)*c*k(1-pr*(2*It+pr))]}Gl.invert=function(Je,it){if(!Je)return[0,a*f(2*s(it/c))];var yt=P(Je/c),wt=(1-yt*yt-(it/=c)*it)/(2*yt),_t=wt*wt,It=k(_t+1);return[u(Je)*c*(It-wt),u(it)*a*f(2*L(k((1-2*wt*yt)*(wt+It)-yt),k(It+wt+yt)))]};function sc(){return(0,b.c)(Gl).scale(79.4183)}function js(Je,it){if(P(it)<h)return[Je,0];var yt=it/a,wt=E(yt);if(P(Je)<h||P(P(it)-a)<h)return[0,c*g(wt/2)];var _t=(c/Je-Je/c)/2,It=yt/(1+M(wt));return[c*(u(Je)*k(_t*_t+1-It*It)-_t),c*It]}js.invert=function(Je,it){if(!it)return[Je,0];var yt=it/c,wt=(c*c*(1-yt*yt)-Je*Je)/(2*c*Je);return[Je?c*(u(Je)*k(wt*wt+1)-wt):0,a*f(2*s(yt))]};function sh(){return(0,b.c)(js).scale(79.4183)}function Po(Je,it){if(!it)return[Je,0];var yt=P(it);if(!Je||yt===a)return[0,it];var wt=yt/a,_t=wt*wt,It=(8*wt-_t*(_t+2)-5)/(2*_t*(wt-1)),zt=It*It,pr=wt*It,wr=_t+zt+2*pr,sr=wt+3*It,Sr=Je/a,zr=Sr+1/Sr,Vr=u(P(Je)-a)*k(zr*zr-4),rn=Vr*Vr,bn=wr*(_t+zt*rn-1)+(1-_t)*(_t*(sr*sr+4*zt)+12*pr*zt+4*zt*zt),Pn=(Vr*(wr+zt-1)+2*k(bn))/(4*wr+rn);return[u(Je)*a*Pn,u(it)*a*k(1+Vr*P(Pn)-Pn*Pn)]}Po.invert=function(Je,it){var yt;if(!Je||!it)return[Je,it];it/=c;var wt=u(Je)*Je/a,_t=(wt*wt-1+4*it*it)/P(wt),It=_t*_t,zt=2*it,pr=50;do{var wr=zt*zt,sr=(8*zt-wr*(wr+2)-5)/(2*wr*(zt-1)),Sr=(3*zt-wr*zt-10)/(2*wr*zt),zr=sr*sr,Vr=zt*sr,rn=zt+sr,bn=rn*rn,Pn=zt+3*sr,In=bn*(wr+zr*It-1)+(1-wr)*(wr*(Pn*Pn+4*zr)+zr*(12*Vr+4*zr)),Kn=-2*rn*(4*Vr*zr+(1-4*wr+3*wr*wr)*(1+Sr)+zr*(-6+14*wr-It+(-8+8*wr-2*It)*Sr)+Vr*(-8+12*wr+(-10+10*wr-It)*Sr)),La=k(In),Pa=_t*(bn+zr-1)+2*La-wt*(4*bn+It),Da=_t*(2*sr*Sr+2*rn*(1+Sr))+Kn/La-8*rn*(_t*(-1+zr+bn)+2*La)*(1+Sr)/(It+4*bn);zt-=yt=Pa/Da}while(yt>h&&--pr>0);return[u(Je)*(k(_t*_t+4)+_t)*c/4,a*zt]};function yu(){return(0,b.c)(Po).scale(127.16)}function Ku(Je,it,yt,wt,_t){function It(zt,pr){var wr=yt*f(wt*pr),sr=k(1-wr*wr),Sr=k(2/(1+sr*M(zt*=_t)));return[Je*sr*Sr*f(zt),it*wr*Sr]}return It.invert=function(zt,pr){var wr=zt/Je,sr=pr/it,Sr=k(wr*wr+sr*sr),zr=2*E(Sr/2);return[L(zt*g(zr),Je*Sr)/_t,Sr&&E(pr*f(zr)/(it*yt*Sr))/wt]},It}function Rs(Je,it,yt,wt){var _t=c/3;Je=t(Je,h),it=t(it,h),Je=o(Je,a),it=o(it,c-h),yt=t(yt,0),yt=o(yt,100-h),wt=t(wt,h);var It=yt/100+1,zt=wt/100,pr=m(It*M(_t))/_t,wr=f(Je)/f(pr*a),sr=it/c,Sr=k(zt*f(Je/2)/f(it/2)),zr=Sr/k(sr*wr*pr),Vr=1/(Sr*k(sr*wr*pr));return Ku(zr,Vr,wr,pr,sr)}function Zs(){var Je=65*A,it=60*A,yt=20,wt=200,_t=(0,b.U)(Rs),It=_t(Je,it,yt,wt);return It.poleline=function(zt){return arguments.length?_t(Je=+zt*A,it,yt,wt):Je*S},It.parallels=function(zt){return arguments.length?_t(Je,it=+zt*A,yt,wt):it*S},It.inflation=function(zt){return arguments.length?_t(Je,it,yt=+zt,wt):yt},It.ratio=function(zt){return arguments.length?_t(Je,it,yt,wt=+zt):wt},It.scale(163.775)}function wf(){return Zs().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var mu=4*c+3*k(3),xu=2*k(2*c*k(3)/mu),Ju=Te(xu*k(3)/c,xu,mu/6);function lc(){return(0,b.c)(Ju).scale(176.84)}function bu(Je,it){return[Je*k(1-3*it*it/(c*c)),it]}bu.invert=function(Je,it){return[Je/k(1-3*it*it/(c*c)),it]};function Tf(){return(0,b.c)(bu).scale(152.63)}function hl(Je,it){var yt=M(it),wt=M(Je)*yt,_t=1-wt,It=M(Je=L(f(Je)*yt,-f(it))),zt=f(Je);return yt=k(1-wt*wt),[zt*yt-It*_t,-It*yt-zt*_t]}hl.invert=function(Je,it){var yt=(Je*Je+it*it)/-2,wt=k(-yt*(2+yt)),_t=it*yt+Je*wt,It=Je*yt-it*wt,zt=k(It*It+_t*_t);return[L(wt*_t,zt*(1+yt)),zt?-E(wt*It/zt):0]};function Af(){return(0,b.c)(hl).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function wu(Je,it){var yt=W(Je,it);return[(yt[0]+Je/a)/2,(yt[1]+it)/2]}wu.invert=function(Je,it){var yt=Je,wt=it,_t=25;do{var It=M(wt),zt=f(wt),pr=f(2*wt),wr=zt*zt,sr=It*It,Sr=f(yt),zr=M(yt/2),Vr=f(yt/2),rn=Vr*Vr,bn=1-sr*zr*zr,Pn=bn?m(It*zr)*k(In=1/bn):In=0,In,Kn=.5*(2*Pn*It*Vr+yt/a)-Je,La=.5*(Pn*zt+wt)-it,Pa=.5*In*(sr*rn+Pn*It*zr*wr)+.5/a,Da=In*(Sr*pr/4-Pn*zt*Vr),za=.125*In*(pr*Vr-Pn*zt*sr*Sr),ja=.5*In*(wr*zr+Pn*rn*It)+.5,hi=Da*za-ja*Pa,ki=(La*Da-Kn*ja)/hi,ue=(Kn*za-La*Pa)/hi;yt-=ki,wt-=ue}while((P(ki)>h||P(ue)>h)&&--_t>0);return[yt,wt]};function uc(){return(0,b.c)(wu).scale(158.837)}},88728:function(Y,V,e){e.d(V,{c:function(){return b}});function b(){return new P}function P(){this.reset()}P.prototype={constructor:P,reset:function(){this.s=this.t=0},add:function(M){L(s,M,this.t),L(this,s.s,this.s),this.s?this.t+=s.t:this.s=s.t},valueOf:function(){return this.s}};var s=new P;function L(M,v,p){var r=M.s=v+p,t=r-v,o=r-t;M.t=v-o+(p-t)}},95384:function(Y,V,e){e.d(V,{cp:function(){return w},mQ:function(){return M},oB:function(){return l}});var b=e(88728),P=e(64528),s=e(70932),L=e(16016),M=(0,b.c)(),v=(0,b.c)(),p,r,t,o,n,l={point:s.c,lineStart:s.c,lineEnd:s.c,polygonStart:function(){M.reset(),l.lineStart=u,l.lineEnd=f},polygonEnd:function(){var c=+M;v.add(c<0?P.kD+c:c),this.lineStart=this.lineEnd=this.point=s.c},sphere:function(){v.add(P.kD)}};function u(){l.point=g}function f(){h(p,r)}function g(c,a){l.point=h,p=c,r=a,c*=P.qw,a*=P.qw,t=c,o=(0,P.W8)(a=a/2+P.wL),n=(0,P.g$)(a)}function h(c,a){c*=P.qw,a*=P.qw,a=a/2+P.wL;var d=c-t,x=d>=0?1:-1,T=x*d,C=(0,P.W8)(a),y=(0,P.g$)(a),S=n*y,A=o*C+S*(0,P.W8)(T),i=S*x*(0,P.g$)(T);M.add((0,P.WE)(i,A)),t=c,o=C,n=y}function w(c){return v.reset(),(0,L.c)(c,l),v*2}},13696:function(Y,V,e){e.d(V,{c:function(){return E}});var b=e(88728),P=e(95384),s=e(84220),L=e(64528),M=e(16016),v,p,r,t,o,n,l,u,f=(0,b.c)(),g,h,w={point:c,lineStart:d,lineEnd:x,polygonStart:function(){w.point=T,w.lineStart=C,w.lineEnd=y,f.reset(),P.oB.polygonStart()},polygonEnd:function(){P.oB.polygonEnd(),w.point=c,w.lineStart=d,w.lineEnd=x,P.mQ<0?(v=-(r=180),p=-(t=90)):f>L.Gg?t=90:f<-L.Gg&&(p=-90),h[0]=v,h[1]=r},sphere:function(){v=-(r=180),p=-(t=90)}};function c(m,k){g.push(h=[v=m,r=m]),k<p&&(p=k),k>t&&(t=k)}function a(m,k){var I=(0,s.ux)([m*L.qw,k*L.qw]);if(u){var O=(0,s.CW)(u,I),_=[O[1],-O[0],0],B=(0,s.CW)(_,O);(0,s.cJ)(B),B=(0,s.G)(B);var F=m-o,z=F>0?1:-1,N=B[0]*L.oh*z,W,Z=(0,L.a2)(F)>180;Z^(z*o<N&&N<z*m)?(W=B[1]*L.oh,W>t&&(t=W)):(N=(N+360)%360-180,Z^(z*o<N&&N<z*m)?(W=-B[1]*L.oh,W<p&&(p=W)):(k<p&&(p=k),k>t&&(t=k))),Z?m<o?S(v,m)>S(v,r)&&(r=m):S(m,r)>S(v,r)&&(v=m):r>=v?(m<v&&(v=m),m>r&&(r=m)):m>o?S(v,m)>S(v,r)&&(r=m):S(m,r)>S(v,r)&&(v=m)}else g.push(h=[v=m,r=m]);k<p&&(p=k),k>t&&(t=k),u=I,o=m}function d(){w.point=a}function x(){h[0]=v,h[1]=r,w.point=c,u=null}function T(m,k){if(u){var I=m-o;f.add((0,L.a2)(I)>180?I+(I>0?360:-360):I)}else n=m,l=k;P.oB.point(m,k),a(m,k)}function C(){P.oB.lineStart()}function y(){T(n,l),P.oB.lineEnd(),(0,L.a2)(f)>L.Gg&&(v=-(r=180)),h[0]=v,h[1]=r,u=null}function S(m,k){return(k-=m)<0?k+360:k}function A(m,k){return m[0]-k[0]}function i(m,k){return m[0]<=m[1]?m[0]<=k&&k<=m[1]:k<m[0]||m[1]<k}function E(m){var k,I,O,_,B,F,z;if(t=r=-(v=p=1/0),g=[],(0,M.c)(m,w),I=g.length){for(g.sort(A),k=1,O=g[0],B=[O];k<I;++k)_=g[k],i(O,_[0])||i(O,_[1])?(S(O[0],_[1])>S(O[0],O[1])&&(O[1]=_[1]),S(_[0],O[1])>S(O[0],O[1])&&(O[0]=_[0])):B.push(O=_);for(F=-1/0,I=B.length-1,k=0,O=B[I];k<=I;O=_,++k)_=B[k],(z=S(O[1],_[0]))>F&&(F=z,v=_[0],r=O[1])}return g=h=null,v===1/0||p===1/0?[[NaN,NaN],[NaN,NaN]]:[[v,p],[r,t]]}},84220:function(Y,V,e){e.d(V,{CW:function(){return M},Ez:function(){return L},G:function(){return P},cJ:function(){return r},mg:function(){return v},ux:function(){return s},wx:function(){return p}});var b=e(64528);function P(t){return[(0,b.WE)(t[1],t[0]),(0,b.qR)(t[2])]}function s(t){var o=t[0],n=t[1],l=(0,b.W8)(n);return[l*(0,b.W8)(o),l*(0,b.g$)(o),(0,b.g$)(n)]}function L(t,o){return t[0]*o[0]+t[1]*o[1]+t[2]*o[2]}function M(t,o){return[t[1]*o[2]-t[2]*o[1],t[2]*o[0]-t[0]*o[2],t[0]*o[1]-t[1]*o[0]]}function v(t,o){t[0]+=o[0],t[1]+=o[1],t[2]+=o[2]}function p(t,o){return[t[0]*o,t[1]*o,t[2]*o]}function r(t){var o=(0,b._I)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=o,t[1]/=o,t[2]/=o}},24052:function(Y,V,e){e.d(V,{c:function(){return I}});var b=e(64528),P=e(70932),s=e(16016),L,M,v,p,r,t,o,n,l,u,f,g,h,w,c,a,d={sphere:P.c,point:x,lineStart:C,lineEnd:A,polygonStart:function(){d.lineStart=i,d.lineEnd=E},polygonEnd:function(){d.lineStart=C,d.lineEnd=A}};function x(O,_){O*=b.qw,_*=b.qw;var B=(0,b.W8)(_);T(B*(0,b.W8)(O),B*(0,b.g$)(O),(0,b.g$)(_))}function T(O,_,B){++L,v+=(O-v)/L,p+=(_-p)/L,r+=(B-r)/L}function C(){d.point=y}function y(O,_){O*=b.qw,_*=b.qw;var B=(0,b.W8)(_);w=B*(0,b.W8)(O),c=B*(0,b.g$)(O),a=(0,b.g$)(_),d.point=S,T(w,c,a)}function S(O,_){O*=b.qw,_*=b.qw;var B=(0,b.W8)(_),F=B*(0,b.W8)(O),z=B*(0,b.g$)(O),N=(0,b.g$)(_),W=(0,b.WE)((0,b._I)((W=c*N-a*z)*W+(W=a*F-w*N)*W+(W=w*z-c*F)*W),w*F+c*z+a*N);M+=W,t+=W*(w+(w=F)),o+=W*(c+(c=z)),n+=W*(a+(a=N)),T(w,c,a)}function A(){d.point=x}function i(){d.point=m}function E(){k(g,h),d.point=x}function m(O,_){g=O,h=_,O*=b.qw,_*=b.qw,d.point=k;var B=(0,b.W8)(_);w=B*(0,b.W8)(O),c=B*(0,b.g$)(O),a=(0,b.g$)(_),T(w,c,a)}function k(O,_){O*=b.qw,_*=b.qw;var B=(0,b.W8)(_),F=B*(0,b.W8)(O),z=B*(0,b.g$)(O),N=(0,b.g$)(_),W=c*N-a*z,Z=a*F-w*N,q=w*z-c*F,re=(0,b._I)(W*W+Z*Z+q*q),le=(0,b.qR)(re),ie=re&&-le/re;l+=ie*W,u+=ie*Z,f+=ie*q,M+=le,t+=le*(w+(w=F)),o+=le*(c+(c=z)),n+=le*(a+(a=N)),T(w,c,a)}function I(O){L=M=v=p=r=t=o=n=l=u=f=0,(0,s.c)(O,d);var _=l,B=u,F=f,z=_*_+B*B+F*F;return z<b.a8&&(_=t,B=o,F=n,M<b.Gg&&(_=v,B=p,F=r),z=_*_+B*B+F*F,z<b.a8)?[NaN,NaN]:[(0,b.WE)(B,_)*b.oh,(0,b.qR)(F/(0,b._I)(z))*b.oh]}},61780:function(Y,V,e){e.d(V,{Q:function(){return M},c:function(){return p}});var b=e(84220);function P(r){return function(){return r}}var s=e(64528),L=e(92992);function M(r,t,o,n,l,u){if(o){var f=(0,s.W8)(t),g=(0,s.g$)(t),h=n*o;l==null?(l=t+n*s.kD,u=t-h/2):(l=v(f,l),u=v(f,u),(n>0?l<u:l>u)&&(l+=n*s.kD));for(var w,c=l;n>0?c>u:c<u;c-=h)w=(0,b.G)([f,-g*(0,s.W8)(c),-g*(0,s.g$)(c)]),r.point(w[0],w[1])}}function v(r,t){t=(0,b.ux)(t),t[0]-=r,(0,b.cJ)(t);var o=(0,s.mE)(-t[1]);return((-t[2]<0?-o:o)+s.kD-s.Gg)%s.kD}function p(){var r=P([0,0]),t=P(90),o=P(6),n,l,u={point:f};function f(h,w){n.push(h=l(h,w)),h[0]*=s.oh,h[1]*=s.oh}function g(){var h=r.apply(this,arguments),w=t.apply(this,arguments)*s.qw,c=o.apply(this,arguments)*s.qw;return n=[],l=(0,L.O)(-h[0]*s.qw,-h[1]*s.qw,0).invert,M(u,w,c,1),h={type:"Polygon",coordinates:[n]},n=l=null,h}return g.center=function(h){return arguments.length?(r=typeof h=="function"?h:P([+h[0],+h[1]]),g):r},g.radius=function(h){return arguments.length?(t=typeof h=="function"?h:P(+h),g):t},g.precision=function(h){return arguments.length?(o=typeof h=="function"?h:P(+h),g):o},g}},78284:function(Y,V,e){var b=e(14229),P=e(64528);V.c=(0,b.c)(function(){return!0},s,M,[-P.pi,-P.or]);function s(v){var p=NaN,r=NaN,t=NaN,o;return{lineStart:function(){v.lineStart(),o=1},point:function(n,l){var u=n>0?P.pi:-P.pi,f=(0,P.a2)(n-p);(0,P.a2)(f-P.pi)<P.Gg?(v.point(p,r=(r+l)/2>0?P.or:-P.or),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(u,r),v.point(n,r),o=0):t!==u&&f>=P.pi&&((0,P.a2)(p-t)<P.Gg&&(p-=t*P.Gg),(0,P.a2)(n-u)<P.Gg&&(n-=u*P.Gg),r=L(p,r,n,l),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(u,r),o=0),v.point(p=n,r=l),t=u},lineEnd:function(){v.lineEnd(),p=r=NaN},clean:function(){return 2-o}}}function L(v,p,r,t){var o,n,l=(0,P.g$)(v-r);return(0,P.a2)(l)>P.Gg?(0,P.MQ)(((0,P.g$)(p)*(n=(0,P.W8)(t))*(0,P.g$)(r)-(0,P.g$)(t)*(o=(0,P.W8)(p))*(0,P.g$)(v))/(o*n*l)):(p+t)/2}function M(v,p,r,t){var o;if(v==null)o=r*P.or,t.point(-P.pi,o),t.point(0,o),t.point(P.pi,o),t.point(P.pi,0),t.point(P.pi,-o),t.point(0,-o),t.point(-P.pi,-o),t.point(-P.pi,0),t.point(-P.pi,o);else if((0,P.a2)(v[0]-p[0])>P.Gg){var n=v[0]<p[0]?P.pi:-P.pi;o=r*n/2,t.point(-n,o),t.point(0,o),t.point(n,o)}else t.point(p[0],p[1])}},97208:function(Y,V,e){e.d(V,{c:function(){return P}});var b=e(70932);function P(){var s=[],L;return{point:function(M,v,p){L.push([M,v,p])},lineStart:function(){s.push(L=[])},lineEnd:b.c,rejoin:function(){s.length>1&&s.push(s.pop().concat(s.shift()))},result:function(){var M=s;return s=[],L=null,M}}}},2728:function(Y,V,e){e.d(V,{c:function(){return v}});var b=e(84220),P=e(61780),s=e(64528),L=e(41860),M=e(14229);function v(p){var r=(0,s.W8)(p),t=6*s.qw,o=r>0,n=(0,s.a2)(r)>s.Gg;function l(w,c,a,d){(0,P.Q)(d,p,t,a,w,c)}function u(w,c){return(0,s.W8)(w)*(0,s.W8)(c)>r}function f(w){var c,a,d,x,T;return{lineStart:function(){x=d=!1,T=1},point:function(C,y){var S=[C,y],A,i=u(C,y),E=o?i?0:h(C,y):i?h(C+(C<0?s.pi:-s.pi),y):0;if(!c&&(x=d=i)&&w.lineStart(),i!==d&&(A=g(c,S),(!A||(0,L.c)(c,A)||(0,L.c)(S,A))&&(S[2]=1)),i!==d)T=0,i?(w.lineStart(),A=g(S,c),w.point(A[0],A[1])):(A=g(c,S),w.point(A[0],A[1],2),w.lineEnd()),c=A;else if(n&&c&&o^i){var m;!(E&a)&&(m=g(S,c,!0))&&(T=0,o?(w.lineStart(),w.point(m[0][0],m[0][1]),w.point(m[1][0],m[1][1]),w.lineEnd()):(w.point(m[1][0],m[1][1]),w.lineEnd(),w.lineStart(),w.point(m[0][0],m[0][1],3)))}i&&(!c||!(0,L.c)(c,S))&&w.point(S[0],S[1]),c=S,d=i,a=E},lineEnd:function(){d&&w.lineEnd(),c=null},clean:function(){return T|(x&&d)<<1}}}function g(w,c,a){var d=(0,b.ux)(w),x=(0,b.ux)(c),T=[1,0,0],C=(0,b.CW)(d,x),y=(0,b.Ez)(C,C),S=C[0],A=y-S*S;if(!A)return!a&&w;var i=r*y/A,E=-r*S/A,m=(0,b.CW)(T,C),k=(0,b.wx)(T,i),I=(0,b.wx)(C,E);(0,b.mg)(k,I);var O=m,_=(0,b.Ez)(k,O),B=(0,b.Ez)(O,O),F=_*_-B*((0,b.Ez)(k,k)-1);if(!(F<0)){var z=(0,s._I)(F),N=(0,b.wx)(O,(-_-z)/B);if((0,b.mg)(N,k),N=(0,b.G)(N),!a)return N;var W=w[0],Z=c[0],q=w[1],re=c[1],le;Z<W&&(le=W,W=Z,Z=le);var ie=Z-W,K=(0,s.a2)(ie-s.pi)<s.Gg,$=K||ie<s.Gg;if(!K&&re<q&&(le=q,q=re,re=le),$?K?q+re>0^N[1]<((0,s.a2)(N[0]-W)<s.Gg?q:re):q<=N[1]&&N[1]<=re:ie>s.pi^(W<=N[0]&&N[0]<=Z)){var X=(0,b.wx)(O,(-_+z)/B);return(0,b.mg)(X,k),[N,(0,b.G)(X)]}}}function h(w,c){var a=o?p:s.pi-p,d=0;return w<-a?d|=1:w>a&&(d|=2),c<-a?d|=4:c>a&&(d|=8),d}return(0,M.c)(u,f,l,o?[0,-p]:[-s.pi,p-s.pi])}},14229:function(Y,V,e){e.d(V,{c:function(){return v}});var b=e(97208),P=e(32232),s=e(64528),L=e(58196),M=e(84706);function v(t,o,n,l){return function(u){var f=o(u),g=(0,b.c)(),h=o(g),w=!1,c,a,d,x={point:T,lineStart:y,lineEnd:S,polygonStart:function(){x.point=A,x.lineStart=i,x.lineEnd=E,a=[],c=[]},polygonEnd:function(){x.point=T,x.lineStart=y,x.lineEnd=S,a=(0,M.Uf)(a);var m=(0,L.c)(c,l);a.length?(w||(u.polygonStart(),w=!0),(0,P.c)(a,r,m,n,u)):m&&(w||(u.polygonStart(),w=!0),u.lineStart(),n(null,null,1,u),u.lineEnd()),w&&(u.polygonEnd(),w=!1),a=c=null},sphere:function(){u.polygonStart(),u.lineStart(),n(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function T(m,k){t(m,k)&&u.point(m,k)}function C(m,k){f.point(m,k)}function y(){x.point=C,f.lineStart()}function S(){x.point=T,f.lineEnd()}function A(m,k){d.push([m,k]),h.point(m,k)}function i(){h.lineStart(),d=[]}function E(){A(d[0][0],d[0][1]),h.lineEnd();var m=h.clean(),k=g.result(),I,O=k.length,_,B,F;if(d.pop(),c.push(d),d=null,!!O){if(m&1){if(B=k[0],(_=B.length-1)>0){for(w||(u.polygonStart(),w=!0),u.lineStart(),I=0;I<_;++I)u.point((F=B[I])[0],F[1]);u.lineEnd()}return}O>1&&m&2&&k.push(k.pop().concat(k.shift())),a.push(k.filter(p))}}return x}}function p(t){return t.length>1}function r(t,o){return((t=t.x)[0]<0?t[1]-s.or-s.Gg:s.or-t[1])-((o=o.x)[0]<0?o[1]-s.or-s.Gg:s.or-o[1])}},21676:function(Y,V,e){e.d(V,{c:function(){return r}});var b=e(64528),P=e(97208);function s(t,o,n,l,u,f){var g=t[0],h=t[1],w=o[0],c=o[1],a=0,d=1,x=w-g,T=c-h,C;if(C=n-g,!(!x&&C>0)){if(C/=x,x<0){if(C<a)return;C<d&&(d=C)}else if(x>0){if(C>d)return;C>a&&(a=C)}if(C=u-g,!(!x&&C<0)){if(C/=x,x<0){if(C>d)return;C>a&&(a=C)}else if(x>0){if(C<a)return;C<d&&(d=C)}if(C=l-h,!(!T&&C>0)){if(C/=T,T<0){if(C<a)return;C<d&&(d=C)}else if(T>0){if(C>d)return;C>a&&(a=C)}if(C=f-h,!(!T&&C<0)){if(C/=T,T<0){if(C>d)return;C>a&&(a=C)}else if(T>0){if(C<a)return;C<d&&(d=C)}return a>0&&(t[0]=g+a*x,t[1]=h+a*T),d<1&&(o[0]=g+d*x,o[1]=h+d*T),!0}}}}}var L=e(32232),M=e(84706),v=1e9,p=-v;function r(t,o,n,l){function u(c,a){return t<=c&&c<=n&&o<=a&&a<=l}function f(c,a,d,x){var T=0,C=0;if(c==null||(T=g(c,d))!==(C=g(a,d))||w(c,a)<0^d>0)do x.point(T===0||T===3?t:n,T>1?l:o);while((T=(T+d+4)%4)!==C);else x.point(a[0],a[1])}function g(c,a){return(0,b.a2)(c[0]-t)<b.Gg?a>0?0:3:(0,b.a2)(c[0]-n)<b.Gg?a>0?2:1:(0,b.a2)(c[1]-o)<b.Gg?a>0?1:0:a>0?3:2}function h(c,a){return w(c.x,a.x)}function w(c,a){var d=g(c,1),x=g(a,1);return d!==x?d-x:d===0?a[1]-c[1]:d===1?c[0]-a[0]:d===2?c[1]-a[1]:a[0]-c[0]}return function(c){var a=c,d=(0,P.c)(),x,T,C,y,S,A,i,E,m,k,I,O={point:_,lineStart:N,lineEnd:W,polygonStart:F,polygonEnd:z};function _(q,re){u(q,re)&&a.point(q,re)}function B(){for(var q=0,re=0,le=T.length;re<le;++re)for(var ie=T[re],K=1,$=ie.length,X=ie[0],Q,se,J=X[0],G=X[1];K<$;++K)Q=J,se=G,X=ie[K],J=X[0],G=X[1],se<=l?G>l&&(J-Q)*(l-se)>(G-se)*(t-Q)&&++q:G<=l&&(J-Q)*(l-se)<(G-se)*(t-Q)&&--q;return q}function F(){a=d,x=[],T=[],I=!0}function z(){var q=B(),re=I&&q,le=(x=(0,M.Uf)(x)).length;(re||le)&&(c.polygonStart(),re&&(c.lineStart(),f(null,null,1,c),c.lineEnd()),le&&(0,L.c)(x,h,q,f,c),c.polygonEnd()),a=c,x=T=C=null}function N(){O.point=Z,T&&T.push(C=[]),k=!0,m=!1,i=E=NaN}function W(){x&&(Z(y,S),A&&m&&d.rejoin(),x.push(d.result())),O.point=_,m&&a.lineEnd()}function Z(q,re){var le=u(q,re);if(T&&C.push([q,re]),k)y=q,S=re,A=le,k=!1,le&&(a.lineStart(),a.point(q,re));else if(le&&m)a.point(q,re);else{var ie=[i=Math.max(p,Math.min(v,i)),E=Math.max(p,Math.min(v,E))],K=[q=Math.max(p,Math.min(v,q)),re=Math.max(p,Math.min(v,re))];s(ie,K,t,o,n,l)?(m||(a.lineStart(),a.point(ie[0],ie[1])),a.point(K[0],K[1]),le||a.lineEnd(),I=!1):le&&(a.lineStart(),a.point(q,re),I=!1)}i=q,E=re,m=le}return O}}},32232:function(Y,V,e){e.d(V,{c:function(){return L}});var b=e(41860),P=e(64528);function s(v,p,r,t){this.x=v,this.z=p,this.o=r,this.e=t,this.v=!1,this.n=this.p=null}function L(v,p,r,t,o){var n=[],l=[],u,f;if(v.forEach(function(d){if(!((x=d.length-1)<=0)){var x,T=d[0],C=d[x],y;if((0,b.c)(T,C)){if(!T[2]&&!C[2]){for(o.lineStart(),u=0;u<x;++u)o.point((T=d[u])[0],T[1]);o.lineEnd();return}C[0]+=2*P.Gg}n.push(y=new s(T,d,null,!0)),l.push(y.o=new s(T,null,y,!1)),n.push(y=new s(C,d,null,!1)),l.push(y.o=new s(C,null,y,!0))}}),!!n.length){for(l.sort(p),M(n),M(l),u=0,f=l.length;u<f;++u)l[u].e=r=!r;for(var g=n[0],h,w;;){for(var c=g,a=!0;c.v;)if((c=c.n)===g)return;h=c.z,o.lineStart();do{if(c.v=c.o.v=!0,c.e){if(a)for(u=0,f=h.length;u<f;++u)o.point((w=h[u])[0],w[1]);else t(c.x,c.n.x,1,o);c=c.n}else{if(a)for(h=c.p.z,u=h.length-1;u>=0;--u)o.point((w=h[u])[0],w[1]);else t(c.x,c.p.x,-1,o);c=c.p}c=c.o,h=c.z,a=!a}while(!c.v);o.lineEnd()}}}function M(v){if(p=v.length){for(var p,r=0,t=v[0],o;++r<p;)t.n=o=v[r],o.p=t,t=o;t.n=o=v[0],o.p=t}}},68120:function(Y,V,e){e.d(V,{c:function(){return b}});function b(P,s){function L(M,v){return M=P(M,v),s(M[0],M[1])}return P.invert&&s.invert&&(L.invert=function(M,v){return M=s.invert(M,v),M&&P.invert(M[0],M[1])}),L}},7376:function(Y,V,e){e.d(V,{c:function(){return b}});function b(P){return P}},83356:function(Y,V,e){e.r(V),e.d(V,{geoAlbers:function(){return mr},geoAlbersUsa:function(){return lt},geoArea:function(){return b.cp},geoAzimuthalEqualArea:function(){return bt.c},geoAzimuthalEqualAreaRaw:function(){return bt.y},geoAzimuthalEquidistant:function(){return Et.c},geoAzimuthalEquidistantRaw:function(){return Et.O},geoBounds:function(){return P.c},geoCentroid:function(){return s.c},geoCircle:function(){return L.c},geoClipAntimeridian:function(){return M.c},geoClipCircle:function(){return v.c},geoClipExtent:function(){return r},geoClipRectangle:function(){return p.c},geoConicConformal:function(){return cr},geoConicConformalRaw:function(){return hr},geoConicEqualArea:function(){return $t},geoConicEqualAreaRaw:function(){return jt},geoConicEquidistant:function(){return Lr},geoConicEquidistantRaw:function(){return fr},geoContains:function(){return F},geoDistance:function(){return A},geoEqualEarth:function(){return Zt},geoEqualEarthRaw:function(){return Pt},geoEquirectangular:function(){return dr.c},geoEquirectangularRaw:function(){return dr.u},geoGnomonic:function(){return nr.c},geoGnomonicRaw:function(){return nr.Y},geoGraticule:function(){return Z},geoGraticule10:function(){return q},geoIdentity:function(){return Wt},geoInterpolate:function(){return re.c},geoLength:function(){return C},geoMercator:function(){return Ft},geoMercatorRaw:function(){return Ot},geoNaturalEarth1:function(){return yr.c},geoNaturalEarth1Raw:function(){return yr.g},geoOrthographic:function(){return Ir.c},geoOrthographicRaw:function(){return Ir.t},geoPath:function(){return Lt},geoProjection:function(){return Kt.c},geoProjectionMutator:function(){return Kt.U},geoRotation:function(){return kt.c},geoStereographic:function(){return Or},geoStereographicRaw:function(){return vn},geoStream:function(){return u.c},geoTransform:function(){return Qt.c},geoTransverseMercator:function(){return nn},geoTransverseMercatorRaw:function(){return En}});var b=e(95384),P=e(13696),s=e(24052),L=e(61780),M=e(78284),v=e(2728),p=e(21676);function r(){var gr=0,Pr=0,Xr=960,kr=500,pn,tn,Tn;return Tn={stream:function(Ln){return pn&&tn===Ln?pn:pn=(0,p.c)(gr,Pr,Xr,kr)(tn=Ln)},extent:function(Ln){return arguments.length?(gr=+Ln[0][0],Pr=+Ln[0][1],Xr=+Ln[1][0],kr=+Ln[1][1],pn=tn=null,Tn):[[gr,Pr],[Xr,kr]]}}}var t=e(58196),o=e(88728),n=e(64528),l=e(70932),u=e(16016),f=(0,o.c)(),g,h,w,c={sphere:l.c,point:l.c,lineStart:a,lineEnd:l.c,polygonStart:l.c,polygonEnd:l.c};function a(){c.point=x,c.lineEnd=d}function d(){c.point=c.lineEnd=l.c}function x(gr,Pr){gr*=n.qw,Pr*=n.qw,g=gr,h=(0,n.g$)(Pr),w=(0,n.W8)(Pr),c.point=T}function T(gr,Pr){gr*=n.qw,Pr*=n.qw;var Xr=(0,n.g$)(Pr),kr=(0,n.W8)(Pr),pn=(0,n.a2)(gr-g),tn=(0,n.W8)(pn),Tn=(0,n.g$)(pn),Ln=kr*Tn,Hn=w*Xr-h*kr*tn,pa=h*Xr+w*kr*tn;f.add((0,n.WE)((0,n._I)(Ln*Ln+Hn*Hn),pa)),g=gr,h=Xr,w=kr}function C(gr){return f.reset(),(0,u.c)(gr,c),+f}var y=[null,null],S={type:"LineString",coordinates:y};function A(gr,Pr){return y[0]=gr,y[1]=Pr,C(S)}var i={Feature:function(gr,Pr){return m(gr.geometry,Pr)},FeatureCollection:function(gr,Pr){for(var Xr=gr.features,kr=-1,pn=Xr.length;++kr<pn;)if(m(Xr[kr].geometry,Pr))return!0;return!1}},E={Sphere:function(){return!0},Point:function(gr,Pr){return k(gr.coordinates,Pr)},MultiPoint:function(gr,Pr){for(var Xr=gr.coordinates,kr=-1,pn=Xr.length;++kr<pn;)if(k(Xr[kr],Pr))return!0;return!1},LineString:function(gr,Pr){return I(gr.coordinates,Pr)},MultiLineString:function(gr,Pr){for(var Xr=gr.coordinates,kr=-1,pn=Xr.length;++kr<pn;)if(I(Xr[kr],Pr))return!0;return!1},Polygon:function(gr,Pr){return O(gr.coordinates,Pr)},MultiPolygon:function(gr,Pr){for(var Xr=gr.coordinates,kr=-1,pn=Xr.length;++kr<pn;)if(O(Xr[kr],Pr))return!0;return!1},GeometryCollection:function(gr,Pr){for(var Xr=gr.geometries,kr=-1,pn=Xr.length;++kr<pn;)if(m(Xr[kr],Pr))return!0;return!1}};function m(gr,Pr){return gr&&E.hasOwnProperty(gr.type)?E[gr.type](gr,Pr):!1}function k(gr,Pr){return A(gr,Pr)===0}function I(gr,Pr){for(var Xr,kr,pn,tn=0,Tn=gr.length;tn<Tn;tn++){if(kr=A(gr[tn],Pr),kr===0||tn>0&&(pn=A(gr[tn],gr[tn-1]),pn>0&&Xr<=pn&&kr<=pn&&(Xr+kr-pn)*(1-Math.pow((Xr-kr)/pn,2))<n.a8*pn))return!0;Xr=kr}return!1}function O(gr,Pr){return!!(0,t.c)(gr.map(_),B(Pr))}function _(gr){return gr=gr.map(B),gr.pop(),gr}function B(gr){return[gr[0]*n.qw,gr[1]*n.qw]}function F(gr,Pr){return(gr&&i.hasOwnProperty(gr.type)?i[gr.type]:m)(gr,Pr)}var z=e(84706);function N(gr,Pr,Xr){var kr=(0,z.ik)(gr,Pr-n.Gg,Xr).concat(Pr);return function(pn){return kr.map(function(tn){return[pn,tn]})}}function W(gr,Pr,Xr){var kr=(0,z.ik)(gr,Pr-n.Gg,Xr).concat(Pr);return function(pn){return kr.map(function(tn){return[tn,pn]})}}function Z(){var gr,Pr,Xr,kr,pn,tn,Tn,Ln,Hn=10,pa=Hn,xa=90,ia=360,ra,Rn,Cr,an,on=2.5;function ln(){return{type:"MultiLineString",coordinates:On()}}function On(){return(0,z.ik)((0,n.Km)(kr/xa)*xa,Xr,xa).map(Cr).concat((0,z.ik)((0,n.Km)(Ln/ia)*ia,Tn,ia).map(an)).concat((0,z.ik)((0,n.Km)(Pr/Hn)*Hn,gr,Hn).filter(function(gn){return(0,n.a2)(gn%xa)>n.Gg}).map(ra)).concat((0,z.ik)((0,n.Km)(tn/pa)*pa,pn,pa).filter(function(gn){return(0,n.a2)(gn%ia)>n.Gg}).map(Rn))}return ln.lines=function(){return On().map(function(gn){return{type:"LineString",coordinates:gn}})},ln.outline=function(){return{type:"Polygon",coordinates:[Cr(kr).concat(an(Tn).slice(1),Cr(Xr).reverse().slice(1),an(Ln).reverse().slice(1))]}},ln.extent=function(gn){return arguments.length?ln.extentMajor(gn).extentMinor(gn):ln.extentMinor()},ln.extentMajor=function(gn){return arguments.length?(kr=+gn[0][0],Xr=+gn[1][0],Ln=+gn[0][1],Tn=+gn[1][1],kr>Xr&&(gn=kr,kr=Xr,Xr=gn),Ln>Tn&&(gn=Ln,Ln=Tn,Tn=gn),ln.precision(on)):[[kr,Ln],[Xr,Tn]]},ln.extentMinor=function(gn){return arguments.length?(Pr=+gn[0][0],gr=+gn[1][0],tn=+gn[0][1],pn=+gn[1][1],Pr>gr&&(gn=Pr,Pr=gr,gr=gn),tn>pn&&(gn=tn,tn=pn,pn=gn),ln.precision(on)):[[Pr,tn],[gr,pn]]},ln.step=function(gn){return arguments.length?ln.stepMajor(gn).stepMinor(gn):ln.stepMinor()},ln.stepMajor=function(gn){return arguments.length?(xa=+gn[0],ia=+gn[1],ln):[xa,ia]},ln.stepMinor=function(gn){return arguments.length?(Hn=+gn[0],pa=+gn[1],ln):[Hn,pa]},ln.precision=function(gn){return arguments.length?(on=+gn,ra=N(tn,pn,90),Rn=W(Pr,gr,on),Cr=N(Ln,Tn,90),an=W(kr,Xr,on),ln):on},ln.extentMajor([[-180,-90+n.Gg],[180,90-n.Gg]]).extentMinor([[-180,-80-n.Gg],[180,80+n.Gg]])}function q(){return Z()()}var re=e(27284),le=e(7376),ie=(0,o.c)(),K=(0,o.c)(),$,X,Q,se,J={point:l.c,lineStart:l.c,lineEnd:l.c,polygonStart:function(){J.lineStart=G,J.lineEnd=fe},polygonEnd:function(){J.lineStart=J.lineEnd=J.point=l.c,ie.add((0,n.a2)(K)),K.reset()},result:function(){var gr=ie/2;return ie.reset(),gr}};function G(){J.point=oe}function oe(gr,Pr){J.point=te,$=Q=gr,X=se=Pr}function te(gr,Pr){K.add(se*gr-Q*Pr),Q=gr,se=Pr}function fe(){te($,X)}var ge=J,we=e(73784),xe=0,Ce=0,De=0,Oe=0,Te=0,Re=0,Me=0,ke=0,Se=0,He,je,at,Ze,$e={point:ut,lineStart:ht,lineEnd:St,polygonStart:function(){$e.lineStart=tt,$e.lineEnd=Ie},polygonEnd:function(){$e.point=ut,$e.lineStart=ht,$e.lineEnd=St},result:function(){var gr=Se?[Me/Se,ke/Se]:Re?[Oe/Re,Te/Re]:De?[xe/De,Ce/De]:[NaN,NaN];return xe=Ce=De=Oe=Te=Re=Me=ke=Se=0,gr}};function ut(gr,Pr){xe+=gr,Ce+=Pr,++De}function ht(){$e.point=vt}function vt(gr,Pr){$e.point=xt,ut(at=gr,Ze=Pr)}function xt(gr,Pr){var Xr=gr-at,kr=Pr-Ze,pn=(0,n._I)(Xr*Xr+kr*kr);Oe+=pn*(at+gr)/2,Te+=pn*(Ze+Pr)/2,Re+=pn,ut(at=gr,Ze=Pr)}function St(){$e.point=ut}function tt(){$e.point=Ve}function Ie(){Ge(He,je)}function Ve(gr,Pr){$e.point=Ge,ut(He=at=gr,je=Ze=Pr)}function Ge(gr,Pr){var Xr=gr-at,kr=Pr-Ze,pn=(0,n._I)(Xr*Xr+kr*kr);Oe+=pn*(at+gr)/2,Te+=pn*(Ze+Pr)/2,Re+=pn,pn=Ze*gr-at*Pr,Me+=pn*(at+gr),ke+=pn*(Ze+Pr),Se+=pn*3,ut(at=gr,Ze=Pr)}var Xe=$e;function Le(gr){this._context=gr}Le.prototype={_radius:4.5,pointRadius:function(gr){return this._radius=gr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(gr,Pr){switch(this._point){case 0:{this._context.moveTo(gr,Pr),this._point=1;break}case 1:{this._context.lineTo(gr,Pr);break}default:{this._context.moveTo(gr+this._radius,Pr),this._context.arc(gr,Pr,this._radius,0,n.kD);break}}},result:l.c};var Fe=(0,o.c)(),Ue,Ee,he,ye,_e,We={point:l.c,lineStart:function(){We.point=rt},lineEnd:function(){Ue&&st(Ee,he),We.point=l.c},polygonStart:function(){Ue=!0},polygonEnd:function(){Ue=null},result:function(){var gr=+Fe;return Fe.reset(),gr}};function rt(gr,Pr){We.point=st,Ee=ye=gr,he=_e=Pr}function st(gr,Pr){ye-=gr,_e-=Pr,Fe.add((0,n._I)(ye*ye+_e*_e)),ye=gr,_e=Pr}var Vt=We;function Xt(){this._string=[]}Xt.prototype={_radius:4.5,_circle:Tt(4.5),pointRadius:function(gr){return(gr=+gr)!==this._radius&&(this._radius=gr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(gr,Pr){switch(this._point){case 0:{this._string.push("M",gr,",",Pr),this._point=1;break}case 1:{this._string.push("L",gr,",",Pr);break}default:{this._circle==null&&(this._circle=Tt(this._radius)),this._string.push("M",gr,",",Pr,this._circle);break}}},result:function(){if(this._string.length){var gr=this._string.join("");return this._string=[],gr}else return null}};function Tt(gr){return"m0,"+gr+"a"+gr+","+gr+" 0 1,1 0,"+-2*gr+"a"+gr+","+gr+" 0 1,1 0,"+2*gr+"z"}function Lt(gr,Pr){var Xr=4.5,kr,pn;function tn(Tn){return Tn&&(typeof Xr=="function"&&pn.pointRadius(+Xr.apply(this,arguments)),(0,u.c)(Tn,kr(pn))),pn.result()}return tn.area=function(Tn){return(0,u.c)(Tn,kr(ge)),ge.result()},tn.measure=function(Tn){return(0,u.c)(Tn,kr(Vt)),Vt.result()},tn.bounds=function(Tn){return(0,u.c)(Tn,kr(we.c)),we.c.result()},tn.centroid=function(Tn){return(0,u.c)(Tn,kr(Xe)),Xe.result()},tn.projection=function(Tn){return arguments.length?(kr=Tn==null?(gr=null,le.c):(gr=Tn).stream,tn):gr},tn.context=function(Tn){return arguments.length?(pn=Tn==null?(Pr=null,new Xt):new Le(Pr=Tn),typeof Xr!="function"&&pn.pointRadius(Xr),tn):Pr},tn.pointRadius=function(Tn){return arguments.length?(Xr=typeof Tn=="function"?Tn:(pn.pointRadius(+Tn),+Tn),tn):Xr},tn.projection(gr).context(Pr)}var Kt=e(87952);function vr(gr){var Pr=0,Xr=n.pi/3,kr=(0,Kt.U)(gr),pn=kr(Pr,Xr);return pn.parallels=function(tn){return arguments.length?kr(Pr=tn[0]*n.qw,Xr=tn[1]*n.qw):[Pr*n.oh,Xr*n.oh]},pn}function pt(gr){var Pr=(0,n.W8)(gr);function Xr(kr,pn){return[kr*Pr,(0,n.g$)(pn)/Pr]}return Xr.invert=function(kr,pn){return[kr/Pr,(0,n.qR)(pn*Pr)]},Xr}function jt(gr,Pr){var Xr=(0,n.g$)(gr),kr=(Xr+(0,n.g$)(Pr))/2;if((0,n.a2)(kr)<n.Gg)return pt(gr);var pn=1+Xr*(2*kr-Xr),tn=(0,n._I)(pn)/kr;function Tn(Ln,Hn){var pa=(0,n._I)(pn-2*kr*(0,n.g$)(Hn))/kr;return[pa*(0,n.g$)(Ln*=kr),tn-pa*(0,n.W8)(Ln)]}return Tn.invert=function(Ln,Hn){var pa=tn-Hn,xa=(0,n.WE)(Ln,(0,n.a2)(pa))*(0,n.kq)(pa);return pa*kr<0&&(xa-=n.pi*(0,n.kq)(Ln)*(0,n.kq)(pa)),[xa/kr,(0,n.qR)((pn-(Ln*Ln+pa*pa)*kr*kr)/(2*kr))]},Tn}function $t(){return vr(jt).scale(155.424).center([0,33.6442])}function mr(){return $t().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var or=e(86420);function gt(gr){var Pr=gr.length;return{point:function(Xr,kr){for(var pn=-1;++pn<Pr;)gr[pn].point(Xr,kr)},sphere:function(){for(var Xr=-1;++Xr<Pr;)gr[Xr].sphere()},lineStart:function(){for(var Xr=-1;++Xr<Pr;)gr[Xr].lineStart()},lineEnd:function(){for(var Xr=-1;++Xr<Pr;)gr[Xr].lineEnd()},polygonStart:function(){for(var Xr=-1;++Xr<Pr;)gr[Xr].polygonStart()},polygonEnd:function(){for(var Xr=-1;++Xr<Pr;)gr[Xr].polygonEnd()}}}function lt(){var gr,Pr,Xr=mr(),kr,pn=$t().rotate([154,0]).center([-2,58.5]).parallels([55,65]),tn,Tn=$t().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Ln,Hn,pa={point:function(ra,Rn){Hn=[ra,Rn]}};function xa(ra){var Rn=ra[0],Cr=ra[1];return Hn=null,kr.point(Rn,Cr),Hn||(tn.point(Rn,Cr),Hn)||(Ln.point(Rn,Cr),Hn)}xa.invert=function(ra){var Rn=Xr.scale(),Cr=Xr.translate(),an=(ra[0]-Cr[0])/Rn,on=(ra[1]-Cr[1])/Rn;return(on>=.12&&on<.234&&an>=-.425&&an<-.214?pn:on>=.166&&on<.234&&an>=-.214&&an<-.115?Tn:Xr).invert(ra)},xa.stream=function(ra){return gr&&Pr===ra?gr:gr=gt([Xr.stream(Pr=ra),pn.stream(ra),Tn.stream(ra)])},xa.precision=function(ra){return arguments.length?(Xr.precision(ra),pn.precision(ra),Tn.precision(ra),ia()):Xr.precision()},xa.scale=function(ra){return arguments.length?(Xr.scale(ra),pn.scale(ra*.35),Tn.scale(ra),xa.translate(Xr.translate())):Xr.scale()},xa.translate=function(ra){if(!arguments.length)return Xr.translate();var Rn=Xr.scale(),Cr=+ra[0],an=+ra[1];return kr=Xr.translate(ra).clipExtent([[Cr-.455*Rn,an-.238*Rn],[Cr+.455*Rn,an+.238*Rn]]).stream(pa),tn=pn.translate([Cr-.307*Rn,an+.201*Rn]).clipExtent([[Cr-.425*Rn+n.Gg,an+.12*Rn+n.Gg],[Cr-.214*Rn-n.Gg,an+.234*Rn-n.Gg]]).stream(pa),Ln=Tn.translate([Cr-.205*Rn,an+.212*Rn]).clipExtent([[Cr-.214*Rn+n.Gg,an+.166*Rn+n.Gg],[Cr-.115*Rn-n.Gg,an+.234*Rn-n.Gg]]).stream(pa),ia()},xa.fitExtent=function(ra,Rn){return(0,or.QX)(xa,ra,Rn)},xa.fitSize=function(ra,Rn){return(0,or.UV)(xa,ra,Rn)},xa.fitWidth=function(ra,Rn){return(0,or.Qx)(xa,ra,Rn)},xa.fitHeight=function(ra,Rn){return(0,or.OW)(xa,ra,Rn)};function ia(){return gr=Pr=null,xa}return xa.scale(1070)}var bt=e(54724),Et=e(69020),kt=e(92992);function Ot(gr,Pr){return[gr,(0,n.Yz)((0,n.a6)((n.or+Pr)/2))]}Ot.invert=function(gr,Pr){return[gr,2*(0,n.MQ)((0,n.oN)(Pr))-n.or]};function Ft(){return Bt(Ot).scale(961/n.kD)}function Bt(gr){var Pr=(0,Kt.c)(gr),Xr=Pr.center,kr=Pr.scale,pn=Pr.translate,tn=Pr.clipExtent,Tn=null,Ln,Hn,pa;Pr.scale=function(ia){return arguments.length?(kr(ia),xa()):kr()},Pr.translate=function(ia){return arguments.length?(pn(ia),xa()):pn()},Pr.center=function(ia){return arguments.length?(Xr(ia),xa()):Xr()},Pr.clipExtent=function(ia){return arguments.length?(ia==null?Tn=Ln=Hn=pa=null:(Tn=+ia[0][0],Ln=+ia[0][1],Hn=+ia[1][0],pa=+ia[1][1]),xa()):Tn==null?null:[[Tn,Ln],[Hn,pa]]};function xa(){var ia=n.pi*kr(),ra=Pr((0,kt.c)(Pr.rotate()).invert([0,0]));return tn(Tn==null?[[ra[0]-ia,ra[1]-ia],[ra[0]+ia,ra[1]+ia]]:gr===Ot?[[Math.max(ra[0]-ia,Tn),Ln],[Math.min(ra[0]+ia,Hn),pa]]:[[Tn,Math.max(ra[1]-ia,Ln)],[Hn,Math.min(ra[1]+ia,pa)]])}return xa()}function Jt(gr){return(0,n.a6)((n.or+gr)/2)}function hr(gr,Pr){var Xr=(0,n.W8)(gr),kr=gr===Pr?(0,n.g$)(gr):(0,n.Yz)(Xr/(0,n.W8)(Pr))/(0,n.Yz)(Jt(Pr)/Jt(gr)),pn=Xr*(0,n.g3)(Jt(gr),kr)/kr;if(!kr)return Ot;function tn(Tn,Ln){pn>0?Ln<-n.or+n.Gg&&(Ln=-n.or+n.Gg):Ln>n.or-n.Gg&&(Ln=n.or-n.Gg);var Hn=pn/(0,n.g3)(Jt(Ln),kr);return[Hn*(0,n.g$)(kr*Tn),pn-Hn*(0,n.W8)(kr*Tn)]}return tn.invert=function(Tn,Ln){var Hn=pn-Ln,pa=(0,n.kq)(kr)*(0,n._I)(Tn*Tn+Hn*Hn),xa=(0,n.WE)(Tn,(0,n.a2)(Hn))*(0,n.kq)(Hn);return Hn*kr<0&&(xa-=n.pi*(0,n.kq)(Tn)*(0,n.kq)(Hn)),[xa/kr,2*(0,n.MQ)((0,n.g3)(pn/pa,1/kr))-n.or]},tn}function cr(){return vr(hr).scale(109.5).parallels([30,30])}var dr=e(69604);function fr(gr,Pr){var Xr=(0,n.W8)(gr),kr=gr===Pr?(0,n.g$)(gr):(Xr-(0,n.W8)(Pr))/(Pr-gr),pn=Xr/kr+gr;if((0,n.a2)(kr)<n.Gg)return dr.u;function tn(Tn,Ln){var Hn=pn-Ln,pa=kr*Tn;return[Hn*(0,n.g$)(pa),pn-Hn*(0,n.W8)(pa)]}return tn.invert=function(Tn,Ln){var Hn=pn-Ln,pa=(0,n.WE)(Tn,(0,n.a2)(Hn))*(0,n.kq)(Hn);return Hn*kr<0&&(pa-=n.pi*(0,n.kq)(Tn)*(0,n.kq)(Hn)),[pa/kr,pn-(0,n.kq)(kr)*(0,n._I)(Tn*Tn+Hn*Hn)]},tn}function Lr(){return vr(fr).scale(131.154).center([0,13.9389])}var xr=1.340264,Ke=-.081106,et=893e-6,er=.003796,tr=(0,n._I)(3)/2,Yt=12;function Pt(gr,Pr){var Xr=(0,n.qR)(tr*(0,n.g$)(Pr)),kr=Xr*Xr,pn=kr*kr*kr;return[gr*(0,n.W8)(Xr)/(tr*(xr+3*Ke*kr+pn*(7*et+9*er*kr))),Xr*(xr+Ke*kr+pn*(et+er*kr))]}Pt.invert=function(gr,Pr){for(var Xr=Pr,kr=Xr*Xr,pn=kr*kr*kr,tn=0,Tn,Ln,Hn;tn<Yt&&(Ln=Xr*(xr+Ke*kr+pn*(et+er*kr))-Pr,Hn=xr+3*Ke*kr+pn*(7*et+9*er*kr),Xr-=Tn=Ln/Hn,kr=Xr*Xr,pn=kr*kr*kr,!((0,n.a2)(Tn)<n.a8));++tn);return[tr*gr*(xr+3*Ke*kr+pn*(7*et+9*er*kr))/(0,n.W8)(Xr),(0,n.qR)((0,n.g$)(Xr)/tr)]};function Zt(){return(0,Kt.c)(Pt).scale(177.158)}var nr=e(53285),Qt=e(15196);function Wt(){var gr=1,Pr=0,Xr=0,kr=1,pn=1,tn=0,Tn,Ln,Hn=null,pa,xa,ia,ra=1,Rn=1,Cr=(0,Qt.s)({point:function(Cn,Bn){var Qn=gn([Cn,Bn]);this.stream.point(Qn[0],Qn[1])}}),an=le.c,on,ln;function On(){return ra=gr*kr,Rn=gr*pn,on=ln=null,gn}function gn(Cn){var Bn=Cn[0]*ra,Qn=Cn[1]*Rn;if(tn){var ha=Qn*Tn-Bn*Ln;Bn=Bn*Tn+Qn*Ln,Qn=ha}return[Bn+Pr,Qn+Xr]}return gn.invert=function(Cn){var Bn=Cn[0]-Pr,Qn=Cn[1]-Xr;if(tn){var ha=Qn*Tn+Bn*Ln;Bn=Bn*Tn-Qn*Ln,Qn=ha}return[Bn/ra,Qn/Rn]},gn.stream=function(Cn){return on&&ln===Cn?on:on=Cr(an(ln=Cn))},gn.postclip=function(Cn){return arguments.length?(an=Cn,Hn=pa=xa=ia=null,On()):an},gn.clipExtent=function(Cn){return arguments.length?(an=Cn==null?(Hn=pa=xa=ia=null,le.c):(0,p.c)(Hn=+Cn[0][0],pa=+Cn[0][1],xa=+Cn[1][0],ia=+Cn[1][1]),On()):Hn==null?null:[[Hn,pa],[xa,ia]]},gn.scale=function(Cn){return arguments.length?(gr=+Cn,On()):gr},gn.translate=function(Cn){return arguments.length?(Pr=+Cn[0],Xr=+Cn[1],On()):[Pr,Xr]},gn.angle=function(Cn){return arguments.length?(tn=Cn%360*n.qw,Ln=(0,n.g$)(tn),Tn=(0,n.W8)(tn),On()):tn*n.oh},gn.reflectX=function(Cn){return arguments.length?(kr=Cn?-1:1,On()):kr<0},gn.reflectY=function(Cn){return arguments.length?(pn=Cn?-1:1,On()):pn<0},gn.fitExtent=function(Cn,Bn){return(0,or.QX)(gn,Cn,Bn)},gn.fitSize=function(Cn,Bn){return(0,or.UV)(gn,Cn,Bn)},gn.fitWidth=function(Cn,Bn){return(0,or.Qx)(gn,Cn,Bn)},gn.fitHeight=function(Cn,Bn){return(0,or.OW)(gn,Cn,Bn)},gn}var yr=e(47984),Ir=e(4888),Tr=e(62280);function vn(gr,Pr){var Xr=(0,n.W8)(Pr),kr=1+(0,n.W8)(gr)*Xr;return[Xr*(0,n.g$)(gr)/kr,(0,n.g$)(Pr)/kr]}vn.invert=(0,Tr.g)(function(gr){return 2*(0,n.MQ)(gr)});function Or(){return(0,Kt.c)(vn).scale(250).clipAngle(142)}function En(gr,Pr){return[(0,n.Yz)((0,n.a6)((n.or+Pr)/2)),-gr]}En.invert=function(gr,Pr){return[-Pr,2*(0,n.MQ)((0,n.oN)(gr))-n.or]};function nn(){var gr=Bt(En),Pr=gr.center,Xr=gr.rotate;return gr.center=function(kr){return arguments.length?Pr([-kr[1],kr[0]]):(kr=Pr(),[kr[1],-kr[0]])},gr.rotate=function(kr){return arguments.length?Xr([kr[0],kr[1],kr.length>2?kr[2]+90:90]):(kr=Xr(),[kr[0],kr[1],kr[2]-90])},Xr([0,0,90]).scale(159.155)}},27284:function(Y,V,e){e.d(V,{c:function(){return P}});var b=e(64528);function P(s,L){var M=s[0]*b.qw,v=s[1]*b.qw,p=L[0]*b.qw,r=L[1]*b.qw,t=(0,b.W8)(v),o=(0,b.g$)(v),n=(0,b.W8)(r),l=(0,b.g$)(r),u=t*(0,b.W8)(M),f=t*(0,b.g$)(M),g=n*(0,b.W8)(p),h=n*(0,b.g$)(p),w=2*(0,b.qR)((0,b._I)((0,b.SD)(r-v)+t*n*(0,b.SD)(p-M))),c=(0,b.g$)(w),a=w?function(d){var x=(0,b.g$)(d*=w)/c,T=(0,b.g$)(w-d)/c,C=T*u+x*g,y=T*f+x*h,S=T*o+x*l;return[(0,b.WE)(y,C)*b.oh,(0,b.WE)(S,(0,b._I)(C*C+y*y))*b.oh]}:function(){return[M*b.oh,v*b.oh]};return a.distance=w,a}},64528:function(Y,V,e){e.d(V,{Gg:function(){return b},Km:function(){return u},MQ:function(){return o},SD:function(){return C},W8:function(){return l},WE:function(){return n},Yz:function(){return g},_I:function(){return a},a2:function(){return t},a6:function(){return d},a8:function(){return P},g$:function(){return w},g3:function(){return h},kD:function(){return v},kq:function(){return c},mE:function(){return x},oN:function(){return f},oh:function(){return p},or:function(){return L},pi:function(){return s},qR:function(){return T},qw:function(){return r},wL:function(){return M}});var b=1e-6,P=1e-12,s=Math.PI,L=s/2,M=s/4,v=s*2,p=180/s,r=s/180,t=Math.abs,o=Math.atan,n=Math.atan2,l=Math.cos,u=Math.ceil,f=Math.exp,g=Math.log,h=Math.pow,w=Math.sin,c=Math.sign||function(y){return y>0?1:y<0?-1:0},a=Math.sqrt,d=Math.tan;function x(y){return y>1?0:y<-1?s:Math.acos(y)}function T(y){return y>1?L:y<-1?-L:Math.asin(y)}function C(y){return(y=w(y/2))*y}},70932:function(Y,V,e){e.d(V,{c:function(){return b}});function b(){}},73784:function(Y,V,e){var b=e(70932),P=1/0,s=P,L=-P,M=L,v={point:p,lineStart:b.c,lineEnd:b.c,polygonStart:b.c,polygonEnd:b.c,result:function(){var r=[[P,s],[L,M]];return L=M=-(s=P=1/0),r}};function p(r,t){r<P&&(P=r),r>L&&(L=r),t<s&&(s=t),t>M&&(M=t)}V.c=v},41860:function(Y,V,e){e.d(V,{c:function(){return P}});var b=e(64528);function P(s,L){return(0,b.a2)(s[0]-L[0])<b.Gg&&(0,b.a2)(s[1]-L[1])<b.Gg}},58196:function(Y,V,e){e.d(V,{c:function(){return v}});var b=e(88728),P=e(84220),s=e(64528),L=(0,b.c)();function M(p){return(0,s.a2)(p[0])<=s.pi?p[0]:(0,s.kq)(p[0])*(((0,s.a2)(p[0])+s.pi)%s.kD-s.pi)}function v(p,r){var t=M(r),o=r[1],n=(0,s.g$)(o),l=[(0,s.g$)(t),-(0,s.W8)(t),0],u=0,f=0;L.reset(),n===1?o=s.or+s.Gg:n===-1&&(o=-s.or-s.Gg);for(var g=0,h=p.length;g<h;++g)if(c=(w=p[g]).length)for(var w,c,a=w[c-1],d=M(a),x=a[1]/2+s.wL,T=(0,s.g$)(x),C=(0,s.W8)(x),y=0;y<c;++y,d=A,T=E,C=m,a=S){var S=w[y],A=M(S),i=S[1]/2+s.wL,E=(0,s.g$)(i),m=(0,s.W8)(i),k=A-d,I=k>=0?1:-1,O=I*k,_=O>s.pi,B=T*E;if(L.add((0,s.WE)(B*I*(0,s.g$)(O),C*m+B*(0,s.W8)(O))),u+=_?k+I*s.kD:k,_^d>=t^A>=t){var F=(0,P.CW)((0,P.ux)(a),(0,P.ux)(S));(0,P.cJ)(F);var z=(0,P.CW)(l,F);(0,P.cJ)(z);var N=(_^k>=0?-1:1)*(0,s.qR)(z[2]);(o>N||o===N&&(F[0]||F[1]))&&(f+=_^k>=0?1:-1)}}return(u<-s.Gg||u<s.Gg&&L<-s.Gg)^f&1}},62280:function(Y,V,e){e.d(V,{a:function(){return P},g:function(){return s}});var b=e(64528);function P(L){return function(M,v){var p=(0,b.W8)(M),r=(0,b.W8)(v),t=L(p*r);return[t*r*(0,b.g$)(M),t*(0,b.g$)(v)]}}function s(L){return function(M,v){var p=(0,b._I)(M*M+v*v),r=L(p),t=(0,b.g$)(r),o=(0,b.W8)(r);return[(0,b.WE)(M*t,p*o),(0,b.qR)(p&&v*t/p)]}}},54724:function(Y,V,e){e.d(V,{c:function(){return M},y:function(){return L}});var b=e(64528),P=e(62280),s=e(87952),L=(0,P.a)(function(v){return(0,b._I)(2/(1+v))});L.invert=(0,P.g)(function(v){return 2*(0,b.qR)(v/2)});function M(){return(0,s.c)(L).scale(124.75).clipAngle(179.999)}},69020:function(Y,V,e){e.d(V,{O:function(){return L},c:function(){return M}});var b=e(64528),P=e(62280),s=e(87952),L=(0,P.a)(function(v){return(v=(0,b.mE)(v))&&v/(0,b.g$)(v)});L.invert=(0,P.g)(function(v){return v});function M(){return(0,s.c)(L).scale(79.4188).clipAngle(179.999)}},69604:function(Y,V,e){e.d(V,{c:function(){return s},u:function(){return P}});var b=e(87952);function P(L,M){return[L,M]}P.invert=P;function s(){return(0,b.c)(P).scale(152.63)}},86420:function(Y,V,e){e.d(V,{OW:function(){return p},QX:function(){return L},Qx:function(){return v},UV:function(){return M}});var b=e(16016),P=e(73784);function s(r,t,o){var n=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),n!=null&&r.clipExtent(null),(0,b.c)(o,r.stream(P.c)),t(P.c.result()),n!=null&&r.clipExtent(n),r}function L(r,t,o){return s(r,function(n){var l=t[1][0]-t[0][0],u=t[1][1]-t[0][1],f=Math.min(l/(n[1][0]-n[0][0]),u/(n[1][1]-n[0][1])),g=+t[0][0]+(l-f*(n[1][0]+n[0][0]))/2,h=+t[0][1]+(u-f*(n[1][1]+n[0][1]))/2;r.scale(150*f).translate([g,h])},o)}function M(r,t,o){return L(r,[[0,0],t],o)}function v(r,t,o){return s(r,function(n){var l=+t,u=l/(n[1][0]-n[0][0]),f=(l-u*(n[1][0]+n[0][0]))/2,g=-u*n[0][1];r.scale(150*u).translate([f,g])},o)}function p(r,t,o){return s(r,function(n){var l=+t,u=l/(n[1][1]-n[0][1]),f=-u*n[0][0],g=(l-u*(n[1][1]+n[0][1]))/2;r.scale(150*u).translate([f,g])},o)}},53285:function(Y,V,e){e.d(V,{Y:function(){return L},c:function(){return M}});var b=e(64528),P=e(62280),s=e(87952);function L(v,p){var r=(0,b.W8)(p),t=(0,b.W8)(v)*r;return[r*(0,b.g$)(v)/t,(0,b.g$)(p)/t]}L.invert=(0,P.g)(b.MQ);function M(){return(0,s.c)(L).scale(144.049).clipAngle(60)}},87952:function(Y,V,e){e.d(V,{c:function(){return d},U:function(){return x}});var b=e(78284),P=e(2728),s=e(21676),L=e(68120),M=e(7376),v=e(64528),p=e(92992),r=e(15196),t=e(86420),o=e(84220),n=16,l=(0,v.W8)(30*v.qw);function u(T,C){return+C?g(T,C):f(T)}function f(T){return(0,r.s)({point:function(C,y){C=T(C,y),this.stream.point(C[0],C[1])}})}function g(T,C){function y(S,A,i,E,m,k,I,O,_,B,F,z,N,W){var Z=I-S,q=O-A,re=Z*Z+q*q;if(re>4*C&&N--){var le=E+B,ie=m+F,K=k+z,$=(0,v._I)(le*le+ie*ie+K*K),X=(0,v.qR)(K/=$),Q=(0,v.a2)((0,v.a2)(K)-1)<v.Gg||(0,v.a2)(i-_)<v.Gg?(i+_)/2:(0,v.WE)(ie,le),se=T(Q,X),J=se[0],G=se[1],oe=J-S,te=G-A,fe=q*oe-Z*te;(fe*fe/re>C||(0,v.a2)((Z*oe+q*te)/re-.5)>.3||E*B+m*F+k*z<l)&&(y(S,A,i,E,m,k,J,G,Q,le/=$,ie/=$,K,N,W),W.point(J,G),y(J,G,Q,le,ie,K,I,O,_,B,F,z,N,W))}}return function(S){var A,i,E,m,k,I,O,_,B,F,z,N,W={point:Z,lineStart:q,lineEnd:le,polygonStart:function(){S.polygonStart(),W.lineStart=ie},polygonEnd:function(){S.polygonEnd(),W.lineStart=q}};function Z(X,Q){X=T(X,Q),S.point(X[0],X[1])}function q(){_=NaN,W.point=re,S.lineStart()}function re(X,Q){var se=(0,o.ux)([X,Q]),J=T(X,Q);y(_,B,O,F,z,N,_=J[0],B=J[1],O=X,F=se[0],z=se[1],N=se[2],n,S),S.point(_,B)}function le(){W.point=Z,S.lineEnd()}function ie(){q(),W.point=K,W.lineEnd=$}function K(X,Q){re(A=X,Q),i=_,E=B,m=F,k=z,I=N,W.point=re}function $(){y(_,B,O,F,z,N,i,E,A,m,k,I,n,S),W.lineEnd=le,le()}return W}}var h=(0,r.s)({point:function(T,C){this.stream.point(T*v.qw,C*v.qw)}});function w(T){return(0,r.s)({point:function(C,y){var S=T(C,y);return this.stream.point(S[0],S[1])}})}function c(T,C,y,S,A){function i(E,m){return E*=S,m*=A,[C+T*E,y-T*m]}return i.invert=function(E,m){return[(E-C)/T*S,(y-m)/T*A]},i}function a(T,C,y,S,A,i){var E=(0,v.W8)(i),m=(0,v.g$)(i),k=E*T,I=m*T,O=E/T,_=m/T,B=(m*y-E*C)/T,F=(m*C+E*y)/T;function z(N,W){return N*=S,W*=A,[k*N-I*W+C,y-I*N-k*W]}return z.invert=function(N,W){return[S*(O*N-_*W+B),A*(F-_*N-O*W)]},z}function d(T){return x(function(){return T})()}function x(T){var C,y=150,S=480,A=250,i=0,E=0,m=0,k=0,I=0,O,_=0,B=1,F=1,z=null,N=b.c,W=null,Z,q,re,le=M.c,ie=.5,K,$,X,Q,se;function J(fe){return X(fe[0]*v.qw,fe[1]*v.qw)}function G(fe){return fe=X.invert(fe[0],fe[1]),fe&&[fe[0]*v.oh,fe[1]*v.oh]}J.stream=function(fe){return Q&&se===fe?Q:Q=h(w(O)(N(K(le(se=fe)))))},J.preclip=function(fe){return arguments.length?(N=fe,z=void 0,te()):N},J.postclip=function(fe){return arguments.length?(le=fe,W=Z=q=re=null,te()):le},J.clipAngle=function(fe){return arguments.length?(N=+fe?(0,P.c)(z=fe*v.qw):(z=null,b.c),te()):z*v.oh},J.clipExtent=function(fe){return arguments.length?(le=fe==null?(W=Z=q=re=null,M.c):(0,s.c)(W=+fe[0][0],Z=+fe[0][1],q=+fe[1][0],re=+fe[1][1]),te()):W==null?null:[[W,Z],[q,re]]},J.scale=function(fe){return arguments.length?(y=+fe,oe()):y},J.translate=function(fe){return arguments.length?(S=+fe[0],A=+fe[1],oe()):[S,A]},J.center=function(fe){return arguments.length?(i=fe[0]%360*v.qw,E=fe[1]%360*v.qw,oe()):[i*v.oh,E*v.oh]},J.rotate=function(fe){return arguments.length?(m=fe[0]%360*v.qw,k=fe[1]%360*v.qw,I=fe.length>2?fe[2]%360*v.qw:0,oe()):[m*v.oh,k*v.oh,I*v.oh]},J.angle=function(fe){return arguments.length?(_=fe%360*v.qw,oe()):_*v.oh},J.reflectX=function(fe){return arguments.length?(B=fe?-1:1,oe()):B<0},J.reflectY=function(fe){return arguments.length?(F=fe?-1:1,oe()):F<0},J.precision=function(fe){return arguments.length?(K=u($,ie=fe*fe),te()):(0,v._I)(ie)},J.fitExtent=function(fe,ge){return(0,t.QX)(J,fe,ge)},J.fitSize=function(fe,ge){return(0,t.UV)(J,fe,ge)},J.fitWidth=function(fe,ge){return(0,t.Qx)(J,fe,ge)},J.fitHeight=function(fe,ge){return(0,t.OW)(J,fe,ge)};function oe(){var fe=a(y,0,0,B,F,_).apply(null,C(i,E)),ge=(_?a:c)(y,S-fe[0],A-fe[1],B,F,_);return O=(0,p.O)(m,k,I),$=(0,L.c)(C,ge),X=(0,L.c)(O,$),K=u($,ie),te()}function te(){return Q=se=null,J}return function(){return C=T.apply(this,arguments),J.invert=C.invert&&G,oe()}}},47984:function(Y,V,e){e.d(V,{c:function(){return L},g:function(){return s}});var b=e(87952),P=e(64528);function s(M,v){var p=v*v,r=p*p;return[M*(.8707-.131979*p+r*(-.013791+r*(.003971*p-.001529*r))),v*(1.007226+p*(.015085+r*(-.044475+.028874*p-.005916*r)))]}s.invert=function(M,v){var p=v,r=25,t;do{var o=p*p,n=o*o;p-=t=(p*(1.007226+o*(.015085+n*(-.044475+.028874*o-.005916*n)))-v)/(1.007226+o*(.045255+n*(-.311325+.259866*o-.06507600000000001*n)))}while((0,P.a2)(t)>P.Gg&&--r>0);return[M/(.8707+(o=p*p)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),p]};function L(){return(0,b.c)(s).scale(175.295)}},4888:function(Y,V,e){e.d(V,{c:function(){return M},t:function(){return L}});var b=e(64528),P=e(62280),s=e(87952);function L(v,p){return[(0,b.W8)(p)*(0,b.g$)(v),(0,b.g$)(p)]}L.invert=(0,P.g)(b.qR);function M(){return(0,s.c)(L).scale(249.5).clipAngle(90+b.Gg)}},92992:function(Y,V,e){e.d(V,{O:function(){return L},c:function(){return r}});var b=e(68120),P=e(64528);function s(t,o){return[(0,P.a2)(t)>P.pi?t+Math.round(-t/P.kD)*P.kD:t,o]}s.invert=s;function L(t,o,n){return(t%=P.kD)?o||n?(0,b.c)(v(t),p(o,n)):v(t):o||n?p(o,n):s}function M(t){return function(o,n){return o+=t,[o>P.pi?o-P.kD:o<-P.pi?o+P.kD:o,n]}}function v(t){var o=M(t);return o.invert=M(-t),o}function p(t,o){var n=(0,P.W8)(t),l=(0,P.g$)(t),u=(0,P.W8)(o),f=(0,P.g$)(o);function g(h,w){var c=(0,P.W8)(w),a=(0,P.W8)(h)*c,d=(0,P.g$)(h)*c,x=(0,P.g$)(w),T=x*n+a*l;return[(0,P.WE)(d*u-T*f,a*n-x*l),(0,P.qR)(T*u+d*f)]}return g.invert=function(h,w){var c=(0,P.W8)(w),a=(0,P.W8)(h)*c,d=(0,P.g$)(h)*c,x=(0,P.g$)(w),T=x*u-d*f;return[(0,P.WE)(d*u+x*f,a*n+T*l),(0,P.qR)(T*n-a*l)]},g}function r(t){t=L(t[0]*P.qw,t[1]*P.qw,t.length>2?t[2]*P.qw:0);function o(n){return n=t(n[0]*P.qw,n[1]*P.qw),n[0]*=P.oh,n[1]*=P.oh,n}return o.invert=function(n){return n=t.invert(n[0]*P.qw,n[1]*P.qw),n[0]*=P.oh,n[1]*=P.oh,n},o}},16016:function(Y,V,e){e.d(V,{c:function(){return v}});function b(p,r){p&&s.hasOwnProperty(p.type)&&s[p.type](p,r)}var P={Feature:function(p,r){b(p.geometry,r)},FeatureCollection:function(p,r){for(var t=p.features,o=-1,n=t.length;++o<n;)b(t[o].geometry,r)}},s={Sphere:function(p,r){r.sphere()},Point:function(p,r){p=p.coordinates,r.point(p[0],p[1],p[2])},MultiPoint:function(p,r){for(var t=p.coordinates,o=-1,n=t.length;++o<n;)p=t[o],r.point(p[0],p[1],p[2])},LineString:function(p,r){L(p.coordinates,r,0)},MultiLineString:function(p,r){for(var t=p.coordinates,o=-1,n=t.length;++o<n;)L(t[o],r,0)},Polygon:function(p,r){M(p.coordinates,r)},MultiPolygon:function(p,r){for(var t=p.coordinates,o=-1,n=t.length;++o<n;)M(t[o],r)},GeometryCollection:function(p,r){for(var t=p.geometries,o=-1,n=t.length;++o<n;)b(t[o],r)}};function L(p,r,t){var o=-1,n=p.length-t,l;for(r.lineStart();++o<n;)l=p[o],r.point(l[0],l[1],l[2]);r.lineEnd()}function M(p,r){var t=-1,o=p.length;for(r.polygonStart();++t<o;)L(p[t],r,1);r.polygonEnd()}function v(p,r){p&&P.hasOwnProperty(p.type)?P[p.type](p,r):b(p,r)}},15196:function(Y,V,e){e.d(V,{c:function(){return b},s:function(){return P}});function b(L){return{stream:P(L)}}function P(L){return function(M){var v=new s;for(var p in L)v[p]=L[p];return v.stream=M,v}}function s(){}s.prototype={constructor:s,point:function(L,M){this.stream.point(L,M)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},74148:function(Y,V,e){e.r(V),e.d(V,{cluster:function(){return r},hierarchy:function(){return T},pack:function(){return G},packEnclose:function(){return k},packSiblings:function(){return K},partition:function(){return xe},stratify:function(){return Me},tree:function(){return ht},treemap:function(){return Ie},treemapBinary:function(){return Ve},treemapDice:function(){return we},treemapResquarify:function(){return Xe},treemapSlice:function(){return vt},treemapSliceDice:function(){return Ge},treemapSquarify:function(){return tt}});function b(Le,Fe){return Le.parent===Fe.parent?1:2}function P(Le){return Le.reduce(s,0)/Le.length}function s(Le,Fe){return Le+Fe.x}function L(Le){return 1+Le.reduce(M,0)}function M(Le,Fe){return Math.max(Le,Fe.y)}function v(Le){for(var Fe;Fe=Le.children;)Le=Fe[0];return Le}function p(Le){for(var Fe;Fe=Le.children;)Le=Fe[Fe.length-1];return Le}function r(){var Le=b,Fe=1,Ue=1,Ee=!1;function he(ye){var _e,We=0;ye.eachAfter(function(Tt){var Lt=Tt.children;Lt?(Tt.x=P(Lt),Tt.y=L(Lt)):(Tt.x=_e?We+=Le(Tt,_e):0,Tt.y=0,_e=Tt)});var rt=v(ye),st=p(ye),Vt=rt.x-Le(rt,st)/2,Xt=st.x+Le(st,rt)/2;return ye.eachAfter(Ee?function(Tt){Tt.x=(Tt.x-ye.x)*Fe,Tt.y=(ye.y-Tt.y)*Ue}:function(Tt){Tt.x=(Tt.x-Vt)/(Xt-Vt)*Fe,Tt.y=(1-(ye.y?Tt.y/ye.y:1))*Ue})}return he.separation=function(ye){return arguments.length?(Le=ye,he):Le},he.size=function(ye){return arguments.length?(Ee=!1,Fe=+ye[0],Ue=+ye[1],he):Ee?null:[Fe,Ue]},he.nodeSize=function(ye){return arguments.length?(Ee=!0,Fe=+ye[0],Ue=+ye[1],he):Ee?[Fe,Ue]:null},he}function t(Le){var Fe=0,Ue=Le.children,Ee=Ue&&Ue.length;if(!Ee)Fe=1;else for(;--Ee>=0;)Fe+=Ue[Ee].value;Le.value=Fe}function o(){return this.eachAfter(t)}function n(Le){var Fe=this,Ue,Ee=[Fe],he,ye,_e;do for(Ue=Ee.reverse(),Ee=[];Fe=Ue.pop();)if(Le(Fe),he=Fe.children,he)for(ye=0,_e=he.length;ye<_e;++ye)Ee.push(he[ye]);while(Ee.length);return this}function l(Le){for(var Fe=this,Ue=[Fe],Ee,he;Fe=Ue.pop();)if(Le(Fe),Ee=Fe.children,Ee)for(he=Ee.length-1;he>=0;--he)Ue.push(Ee[he]);return this}function u(Le){for(var Fe=this,Ue=[Fe],Ee=[],he,ye,_e;Fe=Ue.pop();)if(Ee.push(Fe),he=Fe.children,he)for(ye=0,_e=he.length;ye<_e;++ye)Ue.push(he[ye]);for(;Fe=Ee.pop();)Le(Fe);return this}function f(Le){return this.eachAfter(function(Fe){for(var Ue=+Le(Fe.data)||0,Ee=Fe.children,he=Ee&&Ee.length;--he>=0;)Ue+=Ee[he].value;Fe.value=Ue})}function g(Le){return this.eachBefore(function(Fe){Fe.children&&Fe.children.sort(Le)})}function h(Le){for(var Fe=this,Ue=w(Fe,Le),Ee=[Fe];Fe!==Ue;)Fe=Fe.parent,Ee.push(Fe);for(var he=Ee.length;Le!==Ue;)Ee.splice(he,0,Le),Le=Le.parent;return Ee}function w(Le,Fe){if(Le===Fe)return Le;var Ue=Le.ancestors(),Ee=Fe.ancestors(),he=null;for(Le=Ue.pop(),Fe=Ee.pop();Le===Fe;)he=Le,Le=Ue.pop(),Fe=Ee.pop();return he}function c(){for(var Le=this,Fe=[Le];Le=Le.parent;)Fe.push(Le);return Fe}function a(){var Le=[];return this.each(function(Fe){Le.push(Fe)}),Le}function d(){var Le=[];return this.eachBefore(function(Fe){Fe.children||Le.push(Fe)}),Le}function x(){var Le=this,Fe=[];return Le.each(function(Ue){Ue!==Le&&Fe.push({source:Ue.parent,target:Ue})}),Fe}function T(Le,Fe){var Ue=new i(Le),Ee=+Le.value&&(Ue.value=Le.value),he,ye=[Ue],_e,We,rt,st;for(Fe==null&&(Fe=y);he=ye.pop();)if(Ee&&(he.value=+he.data.value),(We=Fe(he.data))&&(st=We.length))for(he.children=new Array(st),rt=st-1;rt>=0;--rt)ye.push(_e=he.children[rt]=new i(We[rt])),_e.parent=he,_e.depth=he.depth+1;return Ue.eachBefore(A)}function C(){return T(this).eachBefore(S)}function y(Le){return Le.children}function S(Le){Le.data=Le.data.data}function A(Le){var Fe=0;do Le.height=Fe;while((Le=Le.parent)&&Le.height<++Fe)}function i(Le){this.data=Le,this.depth=this.height=0,this.parent=null}i.prototype=T.prototype={constructor:i,count:o,each:n,eachAfter:u,eachBefore:l,sum:f,sort:g,path:h,ancestors:c,descendants:a,leaves:d,links:x,copy:C};var E=Array.prototype.slice;function m(Le){for(var Fe=Le.length,Ue,Ee;Fe;)Ee=Math.random()*Fe--|0,Ue=Le[Fe],Le[Fe]=Le[Ee],Le[Ee]=Ue;return Le}function k(Le){for(var Fe=0,Ue=(Le=m(E.call(Le))).length,Ee=[],he,ye;Fe<Ue;)he=Le[Fe],ye&&_(ye,he)?++Fe:(ye=F(Ee=I(Ee,he)),Fe=0);return ye}function I(Le,Fe){var Ue,Ee;if(B(Fe,Le))return[Fe];for(Ue=0;Ue<Le.length;++Ue)if(O(Fe,Le[Ue])&&B(N(Le[Ue],Fe),Le))return[Le[Ue],Fe];for(Ue=0;Ue<Le.length-1;++Ue)for(Ee=Ue+1;Ee<Le.length;++Ee)if(O(N(Le[Ue],Le[Ee]),Fe)&&O(N(Le[Ue],Fe),Le[Ee])&&O(N(Le[Ee],Fe),Le[Ue])&&B(W(Le[Ue],Le[Ee],Fe),Le))return[Le[Ue],Le[Ee],Fe];throw new Error}function O(Le,Fe){var Ue=Le.r-Fe.r,Ee=Fe.x-Le.x,he=Fe.y-Le.y;return Ue<0||Ue*Ue<Ee*Ee+he*he}function _(Le,Fe){var Ue=Le.r-Fe.r+1e-6,Ee=Fe.x-Le.x,he=Fe.y-Le.y;return Ue>0&&Ue*Ue>Ee*Ee+he*he}function B(Le,Fe){for(var Ue=0;Ue<Fe.length;++Ue)if(!_(Le,Fe[Ue]))return!1;return!0}function F(Le){switch(Le.length){case 1:return z(Le[0]);case 2:return N(Le[0],Le[1]);case 3:return W(Le[0],Le[1],Le[2])}}function z(Le){return{x:Le.x,y:Le.y,r:Le.r}}function N(Le,Fe){var Ue=Le.x,Ee=Le.y,he=Le.r,ye=Fe.x,_e=Fe.y,We=Fe.r,rt=ye-Ue,st=_e-Ee,Vt=We-he,Xt=Math.sqrt(rt*rt+st*st);return{x:(Ue+ye+rt/Xt*Vt)/2,y:(Ee+_e+st/Xt*Vt)/2,r:(Xt+he+We)/2}}function W(Le,Fe,Ue){var Ee=Le.x,he=Le.y,ye=Le.r,_e=Fe.x,We=Fe.y,rt=Fe.r,st=Ue.x,Vt=Ue.y,Xt=Ue.r,Tt=Ee-_e,Lt=Ee-st,Kt=he-We,vr=he-Vt,pt=rt-ye,jt=Xt-ye,$t=Ee*Ee+he*he-ye*ye,mr=$t-_e*_e-We*We+rt*rt,or=$t-st*st-Vt*Vt+Xt*Xt,gt=Lt*Kt-Tt*vr,lt=(Kt*or-vr*mr)/(gt*2)-Ee,bt=(vr*pt-Kt*jt)/gt,Et=(Lt*mr-Tt*or)/(gt*2)-he,kt=(Tt*jt-Lt*pt)/gt,Ot=bt*bt+kt*kt-1,Ft=2*(ye+lt*bt+Et*kt),Bt=lt*lt+Et*Et-ye*ye,Jt=-(Ot?(Ft+Math.sqrt(Ft*Ft-4*Ot*Bt))/(2*Ot):Bt/Ft);return{x:Ee+lt+bt*Jt,y:he+Et+kt*Jt,r:Jt}}function Z(Le,Fe,Ue){var Ee=Le.x-Fe.x,he,ye,_e=Le.y-Fe.y,We,rt,st=Ee*Ee+_e*_e;st?(ye=Fe.r+Ue.r,ye*=ye,rt=Le.r+Ue.r,rt*=rt,ye>rt?(he=(st+rt-ye)/(2*st),We=Math.sqrt(Math.max(0,rt/st-he*he)),Ue.x=Le.x-he*Ee-We*_e,Ue.y=Le.y-he*_e+We*Ee):(he=(st+ye-rt)/(2*st),We=Math.sqrt(Math.max(0,ye/st-he*he)),Ue.x=Fe.x+he*Ee-We*_e,Ue.y=Fe.y+he*_e+We*Ee)):(Ue.x=Fe.x+Ue.r,Ue.y=Fe.y)}function q(Le,Fe){var Ue=Le.r+Fe.r-1e-6,Ee=Fe.x-Le.x,he=Fe.y-Le.y;return Ue>0&&Ue*Ue>Ee*Ee+he*he}function re(Le){var Fe=Le._,Ue=Le.next._,Ee=Fe.r+Ue.r,he=(Fe.x*Ue.r+Ue.x*Fe.r)/Ee,ye=(Fe.y*Ue.r+Ue.y*Fe.r)/Ee;return he*he+ye*ye}function le(Le){this._=Le,this.next=null,this.previous=null}function ie(Le){if(!(he=Le.length))return 0;var Fe,Ue,Ee,he,ye,_e,We,rt,st,Vt,Xt;if(Fe=Le[0],Fe.x=0,Fe.y=0,!(he>1))return Fe.r;if(Ue=Le[1],Fe.x=-Ue.r,Ue.x=Fe.r,Ue.y=0,!(he>2))return Fe.r+Ue.r;Z(Ue,Fe,Ee=Le[2]),Fe=new le(Fe),Ue=new le(Ue),Ee=new le(Ee),Fe.next=Ee.previous=Ue,Ue.next=Fe.previous=Ee,Ee.next=Ue.previous=Fe;e:for(We=3;We<he;++We){Z(Fe._,Ue._,Ee=Le[We]),Ee=new le(Ee),rt=Ue.next,st=Fe.previous,Vt=Ue._.r,Xt=Fe._.r;do if(Vt<=Xt){if(q(rt._,Ee._)){Ue=rt,Fe.next=Ue,Ue.previous=Fe,--We;continue e}Vt+=rt._.r,rt=rt.next}else{if(q(st._,Ee._)){Fe=st,Fe.next=Ue,Ue.previous=Fe,--We;continue e}Xt+=st._.r,st=st.previous}while(rt!==st.next);for(Ee.previous=Fe,Ee.next=Ue,Fe.next=Ue.previous=Ue=Ee,ye=re(Fe);(Ee=Ee.next)!==Ue;)(_e=re(Ee))<ye&&(Fe=Ee,ye=_e);Ue=Fe.next}for(Fe=[Ue._],Ee=Ue;(Ee=Ee.next)!==Ue;)Fe.push(Ee._);for(Ee=k(Fe),We=0;We<he;++We)Fe=Le[We],Fe.x-=Ee.x,Fe.y-=Ee.y;return Ee.r}function K(Le){return ie(Le),Le}function $(Le){return Le==null?null:X(Le)}function X(Le){if(typeof Le!="function")throw new Error;return Le}function Q(){return 0}function se(Le){return function(){return Le}}function J(Le){return Math.sqrt(Le.value)}function G(){var Le=null,Fe=1,Ue=1,Ee=Q;function he(ye){return ye.x=Fe/2,ye.y=Ue/2,Le?ye.eachBefore(oe(Le)).eachAfter(te(Ee,.5)).eachBefore(fe(1)):ye.eachBefore(oe(J)).eachAfter(te(Q,1)).eachAfter(te(Ee,ye.r/Math.min(Fe,Ue))).eachBefore(fe(Math.min(Fe,Ue)/(2*ye.r))),ye}return he.radius=function(ye){return arguments.length?(Le=$(ye),he):Le},he.size=function(ye){return arguments.length?(Fe=+ye[0],Ue=+ye[1],he):[Fe,Ue]},he.padding=function(ye){return arguments.length?(Ee=typeof ye=="function"?ye:se(+ye),he):Ee},he}function oe(Le){return function(Fe){Fe.children||(Fe.r=Math.max(0,+Le(Fe)||0))}}function te(Le,Fe){return function(Ue){if(Ee=Ue.children){var Ee,he,ye=Ee.length,_e=Le(Ue)*Fe||0,We;if(_e)for(he=0;he<ye;++he)Ee[he].r+=_e;if(We=ie(Ee),_e)for(he=0;he<ye;++he)Ee[he].r-=_e;Ue.r=We+_e}}}function fe(Le){return function(Fe){var Ue=Fe.parent;Fe.r*=Le,Ue&&(Fe.x=Ue.x+Le*Fe.x,Fe.y=Ue.y+Le*Fe.y)}}function ge(Le){Le.x0=Math.round(Le.x0),Le.y0=Math.round(Le.y0),Le.x1=Math.round(Le.x1),Le.y1=Math.round(Le.y1)}function we(Le,Fe,Ue,Ee,he){for(var ye=Le.children,_e,We=-1,rt=ye.length,st=Le.value&&(Ee-Fe)/Le.value;++We<rt;)_e=ye[We],_e.y0=Ue,_e.y1=he,_e.x0=Fe,_e.x1=Fe+=_e.value*st}function xe(){var Le=1,Fe=1,Ue=0,Ee=!1;function he(_e){var We=_e.height+1;return _e.x0=_e.y0=Ue,_e.x1=Le,_e.y1=Fe/We,_e.eachBefore(ye(Fe,We)),Ee&&_e.eachBefore(ge),_e}function ye(_e,We){return function(rt){rt.children&&we(rt,rt.x0,_e*(rt.depth+1)/We,rt.x1,_e*(rt.depth+2)/We);var st=rt.x0,Vt=rt.y0,Xt=rt.x1-Ue,Tt=rt.y1-Ue;Xt<st&&(st=Xt=(st+Xt)/2),Tt<Vt&&(Vt=Tt=(Vt+Tt)/2),rt.x0=st,rt.y0=Vt,rt.x1=Xt,rt.y1=Tt}}return he.round=function(_e){return arguments.length?(Ee=!!_e,he):Ee},he.size=function(_e){return arguments.length?(Le=+_e[0],Fe=+_e[1],he):[Le,Fe]},he.padding=function(_e){return arguments.length?(Ue=+_e,he):Ue},he}var Ce="$",De={depth:-1},Oe={};function Te(Le){return Le.id}function Re(Le){return Le.parentId}function Me(){var Le=Te,Fe=Re;function Ue(Ee){var he,ye,_e=Ee.length,We,rt,st,Vt=new Array(_e),Xt,Tt,Lt={};for(ye=0;ye<_e;++ye)he=Ee[ye],st=Vt[ye]=new i(he),(Xt=Le(he,ye,Ee))!=null&&(Xt+="")&&(Tt=Ce+(st.id=Xt),Lt[Tt]=Tt in Lt?Oe:st);for(ye=0;ye<_e;++ye)if(st=Vt[ye],Xt=Fe(Ee[ye],ye,Ee),Xt==null||!(Xt+="")){if(We)throw new Error("multiple roots");We=st}else{if(rt=Lt[Ce+Xt],!rt)throw new Error("missing: "+Xt);if(rt===Oe)throw new Error("ambiguous: "+Xt);rt.children?rt.children.push(st):rt.children=[st],st.parent=rt}if(!We)throw new Error("no root");if(We.parent=De,We.eachBefore(function(Kt){Kt.depth=Kt.parent.depth+1,--_e}).eachBefore(A),We.parent=null,_e>0)throw new Error("cycle");return We}return Ue.id=function(Ee){return arguments.length?(Le=X(Ee),Ue):Le},Ue.parentId=function(Ee){return arguments.length?(Fe=X(Ee),Ue):Fe},Ue}function ke(Le,Fe){return Le.parent===Fe.parent?1:2}function Se(Le){var Fe=Le.children;return Fe?Fe[0]:Le.t}function He(Le){var Fe=Le.children;return Fe?Fe[Fe.length-1]:Le.t}function je(Le,Fe,Ue){var Ee=Ue/(Fe.i-Le.i);Fe.c-=Ee,Fe.s+=Ue,Le.c+=Ee,Fe.z+=Ue,Fe.m+=Ue}function at(Le){for(var Fe=0,Ue=0,Ee=Le.children,he=Ee.length,ye;--he>=0;)ye=Ee[he],ye.z+=Fe,ye.m+=Fe,Fe+=ye.s+(Ue+=ye.c)}function Ze(Le,Fe,Ue){return Le.a.parent===Fe.parent?Le.a:Ue}function $e(Le,Fe){this._=Le,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=Fe}$e.prototype=Object.create(i.prototype);function ut(Le){for(var Fe=new $e(Le,0),Ue,Ee=[Fe],he,ye,_e,We;Ue=Ee.pop();)if(ye=Ue._.children)for(Ue.children=new Array(We=ye.length),_e=We-1;_e>=0;--_e)Ee.push(he=Ue.children[_e]=new $e(ye[_e],_e)),he.parent=Ue;return(Fe.parent=new $e(null,0)).children=[Fe],Fe}function ht(){var Le=ke,Fe=1,Ue=1,Ee=null;function he(st){var Vt=ut(st);if(Vt.eachAfter(ye),Vt.parent.m=-Vt.z,Vt.eachBefore(_e),Ee)st.eachBefore(rt);else{var Xt=st,Tt=st,Lt=st;st.eachBefore(function($t){$t.x<Xt.x&&(Xt=$t),$t.x>Tt.x&&(Tt=$t),$t.depth>Lt.depth&&(Lt=$t)});var Kt=Xt===Tt?1:Le(Xt,Tt)/2,vr=Kt-Xt.x,pt=Fe/(Tt.x+Kt+vr),jt=Ue/(Lt.depth||1);st.eachBefore(function($t){$t.x=($t.x+vr)*pt,$t.y=$t.depth*jt})}return st}function ye(st){var Vt=st.children,Xt=st.parent.children,Tt=st.i?Xt[st.i-1]:null;if(Vt){at(st);var Lt=(Vt[0].z+Vt[Vt.length-1].z)/2;Tt?(st.z=Tt.z+Le(st._,Tt._),st.m=st.z-Lt):st.z=Lt}else Tt&&(st.z=Tt.z+Le(st._,Tt._));st.parent.A=We(st,Tt,st.parent.A||Xt[0])}function _e(st){st._.x=st.z+st.parent.m,st.m+=st.parent.m}function We(st,Vt,Xt){if(Vt){for(var Tt=st,Lt=st,Kt=Vt,vr=Tt.parent.children[0],pt=Tt.m,jt=Lt.m,$t=Kt.m,mr=vr.m,or;Kt=He(Kt),Tt=Se(Tt),Kt&&Tt;)vr=Se(vr),Lt=He(Lt),Lt.a=st,or=Kt.z+$t-Tt.z-pt+Le(Kt._,Tt._),or>0&&(je(Ze(Kt,st,Xt),st,or),pt+=or,jt+=or),$t+=Kt.m,pt+=Tt.m,mr+=vr.m,jt+=Lt.m;Kt&&!He(Lt)&&(Lt.t=Kt,Lt.m+=$t-jt),Tt&&!Se(vr)&&(vr.t=Tt,vr.m+=pt-mr,Xt=st)}return Xt}function rt(st){st.x*=Fe,st.y=st.depth*Ue}return he.separation=function(st){return arguments.length?(Le=st,he):Le},he.size=function(st){return arguments.length?(Ee=!1,Fe=+st[0],Ue=+st[1],he):Ee?null:[Fe,Ue]},he.nodeSize=function(st){return arguments.length?(Ee=!0,Fe=+st[0],Ue=+st[1],he):Ee?[Fe,Ue]:null},he}function vt(Le,Fe,Ue,Ee,he){for(var ye=Le.children,_e,We=-1,rt=ye.length,st=Le.value&&(he-Ue)/Le.value;++We<rt;)_e=ye[We],_e.x0=Fe,_e.x1=Ee,_e.y0=Ue,_e.y1=Ue+=_e.value*st}var xt=(1+Math.sqrt(5))/2;function St(Le,Fe,Ue,Ee,he,ye){for(var _e=[],We=Fe.children,rt,st,Vt=0,Xt=0,Tt=We.length,Lt,Kt,vr=Fe.value,pt,jt,$t,mr,or,gt,lt;Vt<Tt;){Lt=he-Ue,Kt=ye-Ee;do pt=We[Xt++].value;while(!pt&&Xt<Tt);for(jt=$t=pt,gt=Math.max(Kt/Lt,Lt/Kt)/(vr*Le),lt=pt*pt*gt,or=Math.max($t/lt,lt/jt);Xt<Tt;++Xt){if(pt+=st=We[Xt].value,st<jt&&(jt=st),st>$t&&($t=st),lt=pt*pt*gt,mr=Math.max($t/lt,lt/jt),mr>or){pt-=st;break}or=mr}_e.push(rt={value:pt,dice:Lt<Kt,children:We.slice(Vt,Xt)}),rt.dice?we(rt,Ue,Ee,he,vr?Ee+=Kt*pt/vr:ye):vt(rt,Ue,Ee,vr?Ue+=Lt*pt/vr:he,ye),vr-=pt,Vt=Xt}return _e}var tt=function Le(Fe){function Ue(Ee,he,ye,_e,We){St(Fe,Ee,he,ye,_e,We)}return Ue.ratio=function(Ee){return Le((Ee=+Ee)>1?Ee:1)},Ue}(xt);function Ie(){var Le=tt,Fe=!1,Ue=1,Ee=1,he=[0],ye=Q,_e=Q,We=Q,rt=Q,st=Q;function Vt(Tt){return Tt.x0=Tt.y0=0,Tt.x1=Ue,Tt.y1=Ee,Tt.eachBefore(Xt),he=[0],Fe&&Tt.eachBefore(ge),Tt}function Xt(Tt){var Lt=he[Tt.depth],Kt=Tt.x0+Lt,vr=Tt.y0+Lt,pt=Tt.x1-Lt,jt=Tt.y1-Lt;pt<Kt&&(Kt=pt=(Kt+pt)/2),jt<vr&&(vr=jt=(vr+jt)/2),Tt.x0=Kt,Tt.y0=vr,Tt.x1=pt,Tt.y1=jt,Tt.children&&(Lt=he[Tt.depth+1]=ye(Tt)/2,Kt+=st(Tt)-Lt,vr+=_e(Tt)-Lt,pt-=We(Tt)-Lt,jt-=rt(Tt)-Lt,pt<Kt&&(Kt=pt=(Kt+pt)/2),jt<vr&&(vr=jt=(vr+jt)/2),Le(Tt,Kt,vr,pt,jt))}return Vt.round=function(Tt){return arguments.length?(Fe=!!Tt,Vt):Fe},Vt.size=function(Tt){return arguments.length?(Ue=+Tt[0],Ee=+Tt[1],Vt):[Ue,Ee]},Vt.tile=function(Tt){return arguments.length?(Le=X(Tt),Vt):Le},Vt.padding=function(Tt){return arguments.length?Vt.paddingInner(Tt).paddingOuter(Tt):Vt.paddingInner()},Vt.paddingInner=function(Tt){return arguments.length?(ye=typeof Tt=="function"?Tt:se(+Tt),Vt):ye},Vt.paddingOuter=function(Tt){return arguments.length?Vt.paddingTop(Tt).paddingRight(Tt).paddingBottom(Tt).paddingLeft(Tt):Vt.paddingTop()},Vt.paddingTop=function(Tt){return arguments.length?(_e=typeof Tt=="function"?Tt:se(+Tt),Vt):_e},Vt.paddingRight=function(Tt){return arguments.length?(We=typeof Tt=="function"?Tt:se(+Tt),Vt):We},Vt.paddingBottom=function(Tt){return arguments.length?(rt=typeof Tt=="function"?Tt:se(+Tt),Vt):rt},Vt.paddingLeft=function(Tt){return arguments.length?(st=typeof Tt=="function"?Tt:se(+Tt),Vt):st},Vt}function Ve(Le,Fe,Ue,Ee,he){var ye=Le.children,_e,We=ye.length,rt,st=new Array(We+1);for(st[0]=rt=_e=0;_e<We;++_e)st[_e+1]=rt+=ye[_e].value;Vt(0,We,Le.value,Fe,Ue,Ee,he);function Vt(Xt,Tt,Lt,Kt,vr,pt,jt){if(Xt>=Tt-1){var $t=ye[Xt];$t.x0=Kt,$t.y0=vr,$t.x1=pt,$t.y1=jt;return}for(var mr=st[Xt],or=Lt/2+mr,gt=Xt+1,lt=Tt-1;gt<lt;){var bt=gt+lt>>>1;st[bt]<or?gt=bt+1:lt=bt}or-st[gt-1]<st[gt]-or&&Xt+1<gt&&--gt;var Et=st[gt]-mr,kt=Lt-Et;if(pt-Kt>jt-vr){var Ot=(Kt*kt+pt*Et)/Lt;Vt(Xt,gt,Et,Kt,vr,Ot,jt),Vt(gt,Tt,kt,Ot,vr,pt,jt)}else{var Ft=(vr*kt+jt*Et)/Lt;Vt(Xt,gt,Et,Kt,vr,pt,Ft),Vt(gt,Tt,kt,Kt,Ft,pt,jt)}}}function Ge(Le,Fe,Ue,Ee,he){(Le.depth&1?vt:we)(Le,Fe,Ue,Ee,he)}var Xe=function Le(Fe){function Ue(Ee,he,ye,_e,We){if((rt=Ee._squarify)&&rt.ratio===Fe)for(var rt,st,Vt,Xt,Tt=-1,Lt,Kt=rt.length,vr=Ee.value;++Tt<Kt;){for(st=rt[Tt],Vt=st.children,Xt=st.value=0,Lt=Vt.length;Xt<Lt;++Xt)st.value+=Vt[Xt].value;st.dice?we(st,he,ye,_e,ye+=(We-ye)*st.value/vr):vt(st,he,ye,he+=(_e-he)*st.value/vr,We),vr-=st.value}else Ee._squarify=rt=St(Fe,Ee,he,ye,_e,We),rt.ratio=Fe}return Ue.ratio=function(Ee){return Le((Ee=+Ee)>1?Ee:1)},Ue}(xt)},10132:function(Y,V,e){e.d(V,{ak:function(){return h}});var b=Math.PI,P=2*b,s=1e-6,L=P-s;function M(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new M}M.prototype=v.prototype={constructor:M,moveTo:function(w,c){this._+="M"+(this._x0=this._x1=+w)+","+(this._y0=this._y1=+c)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(w,c){this._+="L"+(this._x1=+w)+","+(this._y1=+c)},quadraticCurveTo:function(w,c,a,d){this._+="Q"+ +w+","+ +c+","+(this._x1=+a)+","+(this._y1=+d)},bezierCurveTo:function(w,c,a,d,x,T){this._+="C"+ +w+","+ +c+","+ +a+","+ +d+","+(this._x1=+x)+","+(this._y1=+T)},arcTo:function(w,c,a,d,x){w=+w,c=+c,a=+a,d=+d,x=+x;var T=this._x1,C=this._y1,y=a-w,S=d-c,A=T-w,i=C-c,E=A*A+i*i;if(x<0)throw new Error("negative radius: "+x);if(this._x1===null)this._+="M"+(this._x1=w)+","+(this._y1=c);else if(E>s)if(!(Math.abs(i*y-S*A)>s)||!x)this._+="L"+(this._x1=w)+","+(this._y1=c);else{var m=a-T,k=d-C,I=y*y+S*S,O=m*m+k*k,_=Math.sqrt(I),B=Math.sqrt(E),F=x*Math.tan((b-Math.acos((I+E-O)/(2*_*B)))/2),z=F/B,N=F/_;Math.abs(z-1)>s&&(this._+="L"+(w+z*A)+","+(c+z*i)),this._+="A"+x+","+x+",0,0,"+ +(i*m>A*k)+","+(this._x1=w+N*y)+","+(this._y1=c+N*S)}},arc:function(w,c,a,d,x,T){w=+w,c=+c,a=+a,T=!!T;var C=a*Math.cos(d),y=a*Math.sin(d),S=w+C,A=c+y,i=1^T,E=T?d-x:x-d;if(a<0)throw new Error("negative radius: "+a);this._x1===null?this._+="M"+S+","+A:(Math.abs(this._x1-S)>s||Math.abs(this._y1-A)>s)&&(this._+="L"+S+","+A),a&&(E<0&&(E=E%P+P),E>L?this._+="A"+a+","+a+",0,1,"+i+","+(w-C)+","+(c-y)+"A"+a+","+a+",0,1,"+i+","+(this._x1=S)+","+(this._y1=A):E>s&&(this._+="A"+a+","+a+",0,"+ +(E>=b)+","+i+","+(this._x1=w+a*Math.cos(x))+","+(this._y1=c+a*Math.sin(x))))},rect:function(w,c,a,d){this._+="M"+(this._x0=this._x1=+w)+","+(this._y0=this._y1=+c)+"h"+ +a+"v"+ +d+"h"+-a+"Z"},toString:function(){return this._}};var p=v,r=Array.prototype.slice;function t(w){return function(){return w}}function o(w){return w[0]}function n(w){return w[1]}function l(w){return w.source}function u(w){return w.target}function f(w){var c=l,a=u,d=o,x=n,T=null;function C(){var y,S=r.call(arguments),A=c.apply(this,S),i=a.apply(this,S);if(T||(T=y=p()),w(T,+d.apply(this,(S[0]=A,S)),+x.apply(this,S),+d.apply(this,(S[0]=i,S)),+x.apply(this,S)),y)return T=null,y+""||null}return C.source=function(y){return arguments.length?(c=y,C):c},C.target=function(y){return arguments.length?(a=y,C):a},C.x=function(y){return arguments.length?(d=typeof y=="function"?y:t(+y),C):d},C.y=function(y){return arguments.length?(x=typeof y=="function"?y:t(+y),C):x},C.context=function(y){return arguments.length?(T=y??null,C):T},C}function g(w,c,a,d,x){w.moveTo(c,a),w.bezierCurveTo(c=(c+d)/2,a,c,x,d,x)}function h(){return f(g)}},94336:function(Y,V,e){e.d(V,{Yn:function(){return Ve},m_:function(){return o},E9:function(){return Ge}});var b=e(8208),P=e(58931),s=e(46192),L=e(68936),M=e(32171),v=e(53528);function p(Le){if(0<=Le.y&&Le.y<100){var Fe=new Date(-1,Le.m,Le.d,Le.H,Le.M,Le.S,Le.L);return Fe.setFullYear(Le.y),Fe}return new Date(Le.y,Le.m,Le.d,Le.H,Le.M,Le.S,Le.L)}function r(Le){if(0<=Le.y&&Le.y<100){var Fe=new Date(Date.UTC(-1,Le.m,Le.d,Le.H,Le.M,Le.S,Le.L));return Fe.setUTCFullYear(Le.y),Fe}return new Date(Date.UTC(Le.y,Le.m,Le.d,Le.H,Le.M,Le.S,Le.L))}function t(Le,Fe,Ue){return{y:Le,m:Fe,d:Ue,H:0,M:0,S:0,L:0}}function o(Le){var Fe=Le.dateTime,Ue=Le.date,Ee=Le.time,he=Le.periods,ye=Le.days,_e=Le.shortDays,We=Le.months,rt=Le.shortMonths,st=w(he),Vt=c(he),Xt=w(ye),Tt=c(ye),Lt=w(_e),Kt=c(_e),vr=w(We),pt=c(We),jt=w(rt),$t=c(rt),mr={a:fr,A:Lr,b:xr,B:Ke,c:null,d:Z,e:Z,f:K,H:q,I:re,j:le,L:ie,m:$,M:X,p:et,q:er,Q:St,s:tt,S:Q,u:se,U:J,V:G,w:oe,W:te,x:null,X:null,y:fe,Y:ge,Z:we,"%":xt},or={a:tr,A:Yt,b:Pt,B:Zt,c:null,d:xe,e:xe,f:Re,H:Ce,I:De,j:Oe,L:Te,m:Me,M:ke,p:nr,q:Qt,Q:St,s:tt,S:Se,u:He,U:je,V:at,w:Ze,W:$e,x:null,X:null,y:ut,Y:ht,Z:vt,"%":xt},gt={a:Ot,A:Ft,b:Bt,B:Jt,c:hr,d:m,e:m,f:F,H:I,I,j:k,L:B,m:E,M:O,p:kt,q:i,Q:N,s:W,S:_,u:d,U:x,V:T,w:a,W:C,x:cr,X:dr,y:S,Y:y,Z:A,"%":z};mr.x=lt(Ue,mr),mr.X=lt(Ee,mr),mr.c=lt(Fe,mr),or.x=lt(Ue,or),or.X=lt(Ee,or),or.c=lt(Fe,or);function lt(Wt,yr){return function(Ir){var Tr=[],vn=-1,Or=0,En=Wt.length,nn,gr,Pr;for(Ir instanceof Date||(Ir=new Date(+Ir));++vn<En;)Wt.charCodeAt(vn)===37&&(Tr.push(Wt.slice(Or,vn)),(gr=n[nn=Wt.charAt(++vn)])!=null?nn=Wt.charAt(++vn):gr=nn==="e"?" ":"0",(Pr=yr[nn])&&(nn=Pr(Ir,gr)),Tr.push(nn),Or=vn+1);return Tr.push(Wt.slice(Or,vn)),Tr.join("")}}function bt(Wt,yr){return function(Ir){var Tr=t(1900,void 0,1),vn=Et(Tr,Wt,Ir+="",0),Or,En;if(vn!=Ir.length)return null;if("Q"in Tr)return new Date(Tr.Q);if("s"in Tr)return new Date(Tr.s*1e3+("L"in Tr?Tr.L:0));if(yr&&!("Z"in Tr)&&(Tr.Z=0),"p"in Tr&&(Tr.H=Tr.H%12+Tr.p*12),Tr.m===void 0&&(Tr.m="q"in Tr?Tr.q:0),"V"in Tr){if(Tr.V<1||Tr.V>53)return null;"w"in Tr||(Tr.w=1),"Z"in Tr?(Or=r(t(Tr.y,0,1)),En=Or.getUTCDay(),Or=En>4||En===0?b.ot.ceil(Or):(0,b.ot)(Or),Or=P.c.offset(Or,(Tr.V-1)*7),Tr.y=Or.getUTCFullYear(),Tr.m=Or.getUTCMonth(),Tr.d=Or.getUTCDate()+(Tr.w+6)%7):(Or=p(t(Tr.y,0,1)),En=Or.getDay(),Or=En>4||En===0?s.qT.ceil(Or):(0,s.qT)(Or),Or=L.c.offset(Or,(Tr.V-1)*7),Tr.y=Or.getFullYear(),Tr.m=Or.getMonth(),Tr.d=Or.getDate()+(Tr.w+6)%7)}else("W"in Tr||"U"in Tr)&&("w"in Tr||(Tr.w="u"in Tr?Tr.u%7:"W"in Tr?1:0),En="Z"in Tr?r(t(Tr.y,0,1)).getUTCDay():p(t(Tr.y,0,1)).getDay(),Tr.m=0,Tr.d="W"in Tr?(Tr.w+6)%7+Tr.W*7-(En+5)%7:Tr.w+Tr.U*7-(En+6)%7);return"Z"in Tr?(Tr.H+=Tr.Z/100|0,Tr.M+=Tr.Z%100,r(Tr)):p(Tr)}}function Et(Wt,yr,Ir,Tr){for(var vn=0,Or=yr.length,En=Ir.length,nn,gr;vn<Or;){if(Tr>=En)return-1;if(nn=yr.charCodeAt(vn++),nn===37){if(nn=yr.charAt(vn++),gr=gt[nn in n?yr.charAt(vn++):nn],!gr||(Tr=gr(Wt,Ir,Tr))<0)return-1}else if(nn!=Ir.charCodeAt(Tr++))return-1}return Tr}function kt(Wt,yr,Ir){var Tr=st.exec(yr.slice(Ir));return Tr?(Wt.p=Vt[Tr[0].toLowerCase()],Ir+Tr[0].length):-1}function Ot(Wt,yr,Ir){var Tr=Lt.exec(yr.slice(Ir));return Tr?(Wt.w=Kt[Tr[0].toLowerCase()],Ir+Tr[0].length):-1}function Ft(Wt,yr,Ir){var Tr=Xt.exec(yr.slice(Ir));return Tr?(Wt.w=Tt[Tr[0].toLowerCase()],Ir+Tr[0].length):-1}function Bt(Wt,yr,Ir){var Tr=jt.exec(yr.slice(Ir));return Tr?(Wt.m=$t[Tr[0].toLowerCase()],Ir+Tr[0].length):-1}function Jt(Wt,yr,Ir){var Tr=vr.exec(yr.slice(Ir));return Tr?(Wt.m=pt[Tr[0].toLowerCase()],Ir+Tr[0].length):-1}function hr(Wt,yr,Ir){return Et(Wt,Fe,yr,Ir)}function cr(Wt,yr,Ir){return Et(Wt,Ue,yr,Ir)}function dr(Wt,yr,Ir){return Et(Wt,Ee,yr,Ir)}function fr(Wt){return _e[Wt.getDay()]}function Lr(Wt){return ye[Wt.getDay()]}function xr(Wt){return rt[Wt.getMonth()]}function Ke(Wt){return We[Wt.getMonth()]}function et(Wt){return he[+(Wt.getHours()>=12)]}function er(Wt){return 1+~~(Wt.getMonth()/3)}function tr(Wt){return _e[Wt.getUTCDay()]}function Yt(Wt){return ye[Wt.getUTCDay()]}function Pt(Wt){return rt[Wt.getUTCMonth()]}function Zt(Wt){return We[Wt.getUTCMonth()]}function nr(Wt){return he[+(Wt.getUTCHours()>=12)]}function Qt(Wt){return 1+~~(Wt.getUTCMonth()/3)}return{format:function(Wt){var yr=lt(Wt+="",mr);return yr.toString=function(){return Wt},yr},parse:function(Wt){var yr=bt(Wt+="",!1);return yr.toString=function(){return Wt},yr},utcFormat:function(Wt){var yr=lt(Wt+="",or);return yr.toString=function(){return Wt},yr},utcParse:function(Wt){var yr=bt(Wt+="",!0);return yr.toString=function(){return Wt},yr}}}var n={"-":"",_:" ",0:"0"},l=/^\s*\d+/,u=/^%/,f=/[\\^$*+?|[\]().{}]/g;function g(Le,Fe,Ue){var Ee=Le<0?"-":"",he=(Ee?-Le:Le)+"",ye=he.length;return Ee+(ye<Ue?new Array(Ue-ye+1).join(Fe)+he:he)}function h(Le){return Le.replace(f,"\\$&")}function w(Le){return new RegExp("^(?:"+Le.map(h).join("|")+")","i")}function c(Le){for(var Fe={},Ue=-1,Ee=Le.length;++Ue<Ee;)Fe[Le[Ue].toLowerCase()]=Ue;return Fe}function a(Le,Fe,Ue){var Ee=l.exec(Fe.slice(Ue,Ue+1));return Ee?(Le.w=+Ee[0],Ue+Ee[0].length):-1}function d(Le,Fe,Ue){var Ee=l.exec(Fe.slice(Ue,Ue+1));return Ee?(Le.u=+Ee[0],Ue+Ee[0].length):-1}function x(Le,Fe,Ue){var Ee=l.exec(Fe.slice(Ue,Ue+2));return Ee?(Le.U=+Ee[0],Ue+Ee[0].length):-1}function T(Le,Fe,Ue){var Ee=l.exec(Fe.slice(Ue,Ue+2));return Ee?(Le.V=+Ee[0],Ue+Ee[0].length):-1}function C(Le,Fe,Ue){var Ee=l.exec(Fe.slice(Ue,Ue+2));return Ee?(Le.W=+Ee[0],Ue+Ee[0].length):-1}function y(Le,Fe,Ue){var Ee=l.exec(Fe.slice(Ue,Ue+4));return Ee?(Le.y=+Ee[0],Ue+Ee[0].length):-1}function S(Le,Fe,Ue){var Ee=l.exec(Fe.slice(Ue,Ue+2));return Ee?(Le.y=+Ee[0]+(+Ee[0]>68?1900:2e3),Ue+Ee[0].length):-1}function A(Le,Fe,Ue){var Ee=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Fe.slice(Ue,Ue+6));return Ee?(Le.Z=Ee[1]?0:-(Ee[2]+(Ee[3]||"00")),Ue+Ee[0].length):-1}function i(Le,Fe,Ue){var Ee=l.exec(Fe.slice(Ue,Ue+1));return Ee?(Le.q=Ee[0]*3-3,Ue+Ee[0].length):-1}function E(Le,Fe,Ue){var Ee=l.exec(Fe.slice(Ue,Ue+2));return Ee?(Le.m=Ee[0]-1,Ue+Ee[0].length):-1}function m(Le,Fe,Ue){var Ee=l.exec(Fe.slice(Ue,Ue+2));return Ee?(Le.d=+Ee[0],Ue+Ee[0].length):-1}function k(Le,Fe,Ue){var Ee=l.exec(Fe.slice(Ue,Ue+3));return Ee?(Le.m=0,Le.d=+Ee[0],Ue+Ee[0].length):-1}function I(Le,Fe,Ue){var Ee=l.exec(Fe.slice(Ue,Ue+2));return Ee?(Le.H=+Ee[0],Ue+Ee[0].length):-1}function O(Le,Fe,Ue){var Ee=l.exec(Fe.slice(Ue,Ue+2));return Ee?(Le.M=+Ee[0],Ue+Ee[0].length):-1}function _(Le,Fe,Ue){var Ee=l.exec(Fe.slice(Ue,Ue+2));return Ee?(Le.S=+Ee[0],Ue+Ee[0].length):-1}function B(Le,Fe,Ue){var Ee=l.exec(Fe.slice(Ue,Ue+3));return Ee?(Le.L=+Ee[0],Ue+Ee[0].length):-1}function F(Le,Fe,Ue){var Ee=l.exec(Fe.slice(Ue,Ue+6));return Ee?(Le.L=Math.floor(Ee[0]/1e3),Ue+Ee[0].length):-1}function z(Le,Fe,Ue){var Ee=u.exec(Fe.slice(Ue,Ue+1));return Ee?Ue+Ee[0].length:-1}function N(Le,Fe,Ue){var Ee=l.exec(Fe.slice(Ue));return Ee?(Le.Q=+Ee[0],Ue+Ee[0].length):-1}function W(Le,Fe,Ue){var Ee=l.exec(Fe.slice(Ue));return Ee?(Le.s=+Ee[0],Ue+Ee[0].length):-1}function Z(Le,Fe){return g(Le.getDate(),Fe,2)}function q(Le,Fe){return g(Le.getHours(),Fe,2)}function re(Le,Fe){return g(Le.getHours()%12||12,Fe,2)}function le(Le,Fe){return g(1+L.c.count((0,M.c)(Le),Le),Fe,3)}function ie(Le,Fe){return g(Le.getMilliseconds(),Fe,3)}function K(Le,Fe){return ie(Le,Fe)+"000"}function $(Le,Fe){return g(Le.getMonth()+1,Fe,2)}function X(Le,Fe){return g(Le.getMinutes(),Fe,2)}function Q(Le,Fe){return g(Le.getSeconds(),Fe,2)}function se(Le){var Fe=Le.getDay();return Fe===0?7:Fe}function J(Le,Fe){return g(s.uU.count((0,M.c)(Le)-1,Le),Fe,2)}function G(Le,Fe){var Ue=Le.getDay();return Le=Ue>=4||Ue===0?(0,s.kD)(Le):s.kD.ceil(Le),g(s.kD.count((0,M.c)(Le),Le)+((0,M.c)(Le).getDay()===4),Fe,2)}function oe(Le){return Le.getDay()}function te(Le,Fe){return g(s.qT.count((0,M.c)(Le)-1,Le),Fe,2)}function fe(Le,Fe){return g(Le.getFullYear()%100,Fe,2)}function ge(Le,Fe){return g(Le.getFullYear()%1e4,Fe,4)}function we(Le){var Fe=Le.getTimezoneOffset();return(Fe>0?"-":(Fe*=-1,"+"))+g(Fe/60|0,"0",2)+g(Fe%60,"0",2)}function xe(Le,Fe){return g(Le.getUTCDate(),Fe,2)}function Ce(Le,Fe){return g(Le.getUTCHours(),Fe,2)}function De(Le,Fe){return g(Le.getUTCHours()%12||12,Fe,2)}function Oe(Le,Fe){return g(1+P.c.count((0,v.c)(Le),Le),Fe,3)}function Te(Le,Fe){return g(Le.getUTCMilliseconds(),Fe,3)}function Re(Le,Fe){return Te(Le,Fe)+"000"}function Me(Le,Fe){return g(Le.getUTCMonth()+1,Fe,2)}function ke(Le,Fe){return g(Le.getUTCMinutes(),Fe,2)}function Se(Le,Fe){return g(Le.getUTCSeconds(),Fe,2)}function He(Le){var Fe=Le.getUTCDay();return Fe===0?7:Fe}function je(Le,Fe){return g(b.EV.count((0,v.c)(Le)-1,Le),Fe,2)}function at(Le,Fe){var Ue=Le.getUTCDay();return Le=Ue>=4||Ue===0?(0,b.yA)(Le):b.yA.ceil(Le),g(b.yA.count((0,v.c)(Le),Le)+((0,v.c)(Le).getUTCDay()===4),Fe,2)}function Ze(Le){return Le.getUTCDay()}function $e(Le,Fe){return g(b.ot.count((0,v.c)(Le)-1,Le),Fe,2)}function ut(Le,Fe){return g(Le.getUTCFullYear()%100,Fe,2)}function ht(Le,Fe){return g(Le.getUTCFullYear()%1e4,Fe,4)}function vt(){return"+0000"}function xt(){return"%"}function St(Le){return+Le}function tt(Le){return Math.floor(+Le/1e3)}var Ie,Ve,Ge;Xe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Xe(Le){return Ie=o(Le),Ve=Ie.format,Ie.parse,Ge=Ie.utcFormat,Ie.utcParse,Ie}},68936:function(Y,V,e){e.d(V,{m:function(){return L}});var b=e(81628),P=e(69792),s=(0,b.c)(function(M){M.setHours(0,0,0,0)},function(M,v){M.setDate(M.getDate()+v)},function(M,v){return(v-M-(v.getTimezoneOffset()-M.getTimezoneOffset())*P.iy)/P.SK},function(M){return M.getDate()-1});V.c=s;var L=s.range},69792:function(Y,V,e){e.d(V,{KK:function(){return M},SK:function(){return L},cg:function(){return s},iy:function(){return P},yc:function(){return b}});var b=1e3,P=6e4,s=36e5,L=864e5,M=6048e5},73220:function(Y,V,e){e.r(V),e.d(V,{timeDay:function(){return g.c},timeDays:function(){return g.m},timeFriday:function(){return h.iB},timeFridays:function(){return h.sJ},timeHour:function(){return u},timeHours:function(){return f},timeInterval:function(){return b.c},timeMillisecond:function(){return s},timeMilliseconds:function(){return L},timeMinute:function(){return o},timeMinutes:function(){return n},timeMonday:function(){return h.qT},timeMondays:function(){return h.QP},timeMonth:function(){return c},timeMonths:function(){return a},timeSaturday:function(){return h.Wc},timeSaturdays:function(){return h.aI},timeSecond:function(){return p},timeSeconds:function(){return r},timeSunday:function(){return h.uU},timeSundays:function(){return h.Ab},timeThursday:function(){return h.kD},timeThursdays:function(){return h.eC},timeTuesday:function(){return h.Mf},timeTuesdays:function(){return h.Oc},timeWednesday:function(){return h.eg},timeWednesdays:function(){return h.sn},timeWeek:function(){return h.uU},timeWeeks:function(){return h.Ab},timeYear:function(){return d.c},timeYears:function(){return d.Q},utcDay:function(){return i.c},utcDays:function(){return i.o},utcFriday:function(){return E.od},utcFridays:function(){return E.iG},utcHour:function(){return S},utcHours:function(){return A},utcMillisecond:function(){return s},utcMilliseconds:function(){return L},utcMinute:function(){return T},utcMinutes:function(){return C},utcMonday:function(){return E.ot},utcMondays:function(){return E.iO},utcMonth:function(){return k},utcMonths:function(){return I},utcSaturday:function(){return E.Ad},utcSaturdays:function(){return E.K8},utcSecond:function(){return p},utcSeconds:function(){return r},utcSunday:function(){return E.EV},utcSundays:function(){return E.Wq},utcThursday:function(){return E.yA},utcThursdays:function(){return E.ob},utcTuesday:function(){return E.sG},utcTuesdays:function(){return E.kl},utcWednesday:function(){return E._6},utcWednesdays:function(){return E.W_},utcWeek:function(){return E.EV},utcWeeks:function(){return E.Wq},utcYear:function(){return O.c},utcYears:function(){return O.i}});var b=e(81628),P=(0,b.c)(function(){},function(_,B){_.setTime(+_+B)},function(_,B){return B-_});P.every=function(_){return _=Math.floor(_),!isFinite(_)||!(_>0)?null:_>1?(0,b.c)(function(B){B.setTime(Math.floor(B/_)*_)},function(B,F){B.setTime(+B+F*_)},function(B,F){return(F-B)/_}):P};var s=P,L=P.range,M=e(69792),v=(0,b.c)(function(_){_.setTime(_-_.getMilliseconds())},function(_,B){_.setTime(+_+B*M.yc)},function(_,B){return(B-_)/M.yc},function(_){return _.getUTCSeconds()}),p=v,r=v.range,t=(0,b.c)(function(_){_.setTime(_-_.getMilliseconds()-_.getSeconds()*M.yc)},function(_,B){_.setTime(+_+B*M.iy)},function(_,B){return(B-_)/M.iy},function(_){return _.getMinutes()}),o=t,n=t.range,l=(0,b.c)(function(_){_.setTime(_-_.getMilliseconds()-_.getSeconds()*M.yc-_.getMinutes()*M.iy)},function(_,B){_.setTime(+_+B*M.cg)},function(_,B){return(B-_)/M.cg},function(_){return _.getHours()}),u=l,f=l.range,g=e(68936),h=e(46192),w=(0,b.c)(function(_){_.setDate(1),_.setHours(0,0,0,0)},function(_,B){_.setMonth(_.getMonth()+B)},function(_,B){return B.getMonth()-_.getMonth()+(B.getFullYear()-_.getFullYear())*12},function(_){return _.getMonth()}),c=w,a=w.range,d=e(32171),x=(0,b.c)(function(_){_.setUTCSeconds(0,0)},function(_,B){_.setTime(+_+B*M.iy)},function(_,B){return(B-_)/M.iy},function(_){return _.getUTCMinutes()}),T=x,C=x.range,y=(0,b.c)(function(_){_.setUTCMinutes(0,0,0)},function(_,B){_.setTime(+_+B*M.cg)},function(_,B){return(B-_)/M.cg},function(_){return _.getUTCHours()}),S=y,A=y.range,i=e(58931),E=e(8208),m=(0,b.c)(function(_){_.setUTCDate(1),_.setUTCHours(0,0,0,0)},function(_,B){_.setUTCMonth(_.getUTCMonth()+B)},function(_,B){return B.getUTCMonth()-_.getUTCMonth()+(B.getUTCFullYear()-_.getUTCFullYear())*12},function(_){return _.getUTCMonth()}),k=m,I=m.range,O=e(53528)},81628:function(Y,V,e){e.d(V,{c:function(){return s}});var b=new Date,P=new Date;function s(L,M,v,p){function r(t){return L(t=arguments.length===0?new Date:new Date(+t)),t}return r.floor=function(t){return L(t=new Date(+t)),t},r.ceil=function(t){return L(t=new Date(t-1)),M(t,1),L(t),t},r.round=function(t){var o=r(t),n=r.ceil(t);return t-o<n-t?o:n},r.offset=function(t,o){return M(t=new Date(+t),o==null?1:Math.floor(o)),t},r.range=function(t,o,n){var l=[],u;if(t=r.ceil(t),n=n==null?1:Math.floor(n),!(t<o)||!(n>0))return l;do l.push(u=new Date(+t)),M(t,n),L(t);while(u<t&&t<o);return l},r.filter=function(t){return s(function(o){if(o>=o)for(;L(o),!t(o);)o.setTime(o-1)},function(o,n){if(o>=o)if(n<0)for(;++n<=0;)for(;M(o,-1),!t(o););else for(;--n>=0;)for(;M(o,1),!t(o););})},v&&(r.count=function(t,o){return b.setTime(+t),P.setTime(+o),L(b),L(P),Math.floor(v(b,P))},r.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?r.filter(p?function(o){return p(o)%t===0}:function(o){return r.count(0,o)%t===0}):r}),r}},58931:function(Y,V,e){e.d(V,{o:function(){return L}});var b=e(81628),P=e(69792),s=(0,b.c)(function(M){M.setUTCHours(0,0,0,0)},function(M,v){M.setUTCDate(M.getUTCDate()+v)},function(M,v){return(v-M)/P.SK},function(M){return M.getUTCDate()-1});V.c=s;var L=s.range},8208:function(Y,V,e){e.d(V,{Ad:function(){return o},EV:function(){return L},K8:function(){return w},W_:function(){return f},Wq:function(){return n},_6:function(){return p},iG:function(){return h},iO:function(){return l},kl:function(){return u},ob:function(){return g},od:function(){return t},ot:function(){return M},sG:function(){return v},yA:function(){return r}});var b=e(81628),P=e(69792);function s(c){return(0,b.c)(function(a){a.setUTCDate(a.getUTCDate()-(a.getUTCDay()+7-c)%7),a.setUTCHours(0,0,0,0)},function(a,d){a.setUTCDate(a.getUTCDate()+d*7)},function(a,d){return(d-a)/P.KK})}var L=s(0),M=s(1),v=s(2),p=s(3),r=s(4),t=s(5),o=s(6),n=L.range,l=M.range,u=v.range,f=p.range,g=r.range,h=t.range,w=o.range},53528:function(Y,V,e){e.d(V,{i:function(){return s}});var b=e(81628),P=(0,b.c)(function(L){L.setUTCMonth(0,1),L.setUTCHours(0,0,0,0)},function(L,M){L.setUTCFullYear(L.getUTCFullYear()+M)},function(L,M){return M.getUTCFullYear()-L.getUTCFullYear()},function(L){return L.getUTCFullYear()});P.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:(0,b.c)(function(M){M.setUTCFullYear(Math.floor(M.getUTCFullYear()/L)*L),M.setUTCMonth(0,1),M.setUTCHours(0,0,0,0)},function(M,v){M.setUTCFullYear(M.getUTCFullYear()+v*L)})},V.c=P;var s=P.range},46192:function(Y,V,e){e.d(V,{Ab:function(){return n},Mf:function(){return v},Oc:function(){return u},QP:function(){return l},Wc:function(){return o},aI:function(){return w},eC:function(){return g},eg:function(){return p},iB:function(){return t},kD:function(){return r},qT:function(){return M},sJ:function(){return h},sn:function(){return f},uU:function(){return L}});var b=e(81628),P=e(69792);function s(c){return(0,b.c)(function(a){a.setDate(a.getDate()-(a.getDay()+7-c)%7),a.setHours(0,0,0,0)},function(a,d){a.setDate(a.getDate()+d*7)},function(a,d){return(d-a-(d.getTimezoneOffset()-a.getTimezoneOffset())*P.iy)/P.KK})}var L=s(0),M=s(1),v=s(2),p=s(3),r=s(4),t=s(5),o=s(6),n=L.range,l=M.range,u=v.range,f=p.range,g=r.range,h=t.range,w=o.range},32171:function(Y,V,e){e.d(V,{Q:function(){return s}});var b=e(81628),P=(0,b.c)(function(L){L.setMonth(0,1),L.setHours(0,0,0,0)},function(L,M){L.setFullYear(L.getFullYear()+M)},function(L,M){return M.getFullYear()-L.getFullYear()},function(L){return L.getFullYear()});P.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:(0,b.c)(function(M){M.setFullYear(Math.floor(M.getFullYear()/L)*L),M.setMonth(0,1),M.setHours(0,0,0,0)},function(M,v){M.setFullYear(M.getFullYear()+v*L)})},V.c=P;var s=P.range},64348:function(Y,V,e){var b=e(39640)(),P=e(53664),s=b&&P("%Object.defineProperty%",!0);if(s)try{s({},"a",{value:1})}catch{s=!1}var L=P("%SyntaxError%"),M=P("%TypeError%"),v=e(2304);Y.exports=function(r,t,o){if(!r||typeof r!="object"&&typeof r!="function")throw new M("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new M("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new M("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new M("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new M("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new M("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,g=!!v&&v(r,t);if(s)s(r,t,{configurable:u===null&&g?g.configurable:!u,enumerable:n===null&&g?g.enumerable:!n,value:o,writable:l===null&&g?g.writable:!l});else if(f||!n&&!l&&!u)r[t]=o;else throw new L("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}},81288:function(Y,V,e){var b=e(41820),P=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",s=Object.prototype.toString,L=Array.prototype.concat,M=Object.defineProperty,v=function(n){return typeof n=="function"&&s.call(n)==="[object Function]"},p=e(39640)(),r=M&&p,t=function(n,l,u,f){if(l in n){if(f===!0){if(n[l]===u)return}else if(!v(f)||!f())return}r?M(n,l,{configurable:!0,enumerable:!1,value:u,writable:!0}):n[l]=u},o=function(n,l){var u=arguments.length>2?arguments[2]:{},f=b(l);P&&(f=L.call(f,Object.getOwnPropertySymbols(l)));for(var g=0;g<f.length;g+=1)t(n,f[g],l[f[g]],u[f[g]])};o.supportsDescriptors=!!r,Y.exports=o},31264:function(Y){Y.exports=function(){for(var V=0;V<arguments.length;V++)if(arguments[V]!==void 0)return arguments[V]}},63768:function(Y){Y.exports=P;var V=P.canvas=document.createElement("canvas"),e=V.getContext("2d"),b=s([32,126]);P.createPairs=s,P.ascii=b;function P(L,M){Array.isArray(L)&&(L=L.join(", "));var v={},p,r=16,t=.05;M&&(M.length===2&&typeof M[0]=="number"?p=s(M):Array.isArray(M)?p=M:(M.o?p=s(M.o):M.pairs&&(p=M.pairs),M.fontSize&&(r=M.fontSize),M.threshold!=null&&(t=M.threshold))),p||(p=b),e.font=r+"px "+L;for(var o=0;o<p.length;o++){var n=p[o],l=e.measureText(n[0]).width+e.measureText(n[1]).width,u=e.measureText(n).width;if(Math.abs(l-u)>r*t){var f=(u-l)/r;v[n]=f*1e3}}return v}function s(L){for(var M=[],v=L[0];v<=L[1];v++)for(var p=String.fromCharCode(v),r=L[0];r<L[1];r++){var t=String.fromCharCode(r),o=p+t;M.push(o)}return M}},22235:function(Y,V,e){var b=e(49972),P=e(48816),s={M:"moveTo",C:"bezierCurveTo"};Y.exports=function(L,M){L.beginPath(),P(b(M)).forEach(function(v){var p=v[0],r=v.slice(1);L[s[p]].apply(L,r)}),L.closePath()}},72512:function(Y){Y.exports=function(V){switch(V){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},10352:function(Y){function V(P,s,L){var M=P[L]|0;if(M<=0)return[];var v=new Array(M),p;if(L===P.length-1)for(p=0;p<M;++p)v[p]=s;else for(p=0;p<M;++p)v[p]=V(P,s,L+1);return v}function e(P,s){var L,M;for(L=new Array(P),M=0;M<P;++M)L[M]=s;return L}function b(P,s){switch(typeof s>"u"&&(s=0),typeof P){case"number":if(P>0)return e(P|0,s);break;case"object":if(typeof P.length=="number")return V(P,s,0);break}return[]}Y.exports=b},28912:function(Y){Y.exports=V,Y.exports.default=V;function V(I,O,_){_=_||2;var B=O&&O.length,F=B?O[0]*_:I.length,z=e(I,0,F,_,!0),N=[];if(!z||z.next===z.prev)return N;var W,Z,q,re,le,ie,K;if(B&&(z=p(I,O,z,_)),I.length>80*_){W=q=I[0],Z=re=I[1];for(var $=_;$<F;$+=_)le=I[$],ie=I[$+1],le<W&&(W=le),ie<Z&&(Z=ie),le>q&&(q=le),ie>re&&(re=ie);K=Math.max(q-W,re-Z),K=K!==0?1/K:0}return P(z,N,_,W,Z,K),N}function e(I,O,_,B,F){var z,N;if(F===k(I,O,_,B)>0)for(z=O;z<_;z+=B)N=i(z,I[z],I[z+1],N);else for(z=_-B;z>=O;z-=B)N=i(z,I[z],I[z+1],N);return N&&a(N,N.next)&&(E(N),N=N.next),N}function b(I,O){if(!I)return I;O||(O=I);var _=I,B;do if(B=!1,!_.steiner&&(a(_,_.next)||c(_.prev,_,_.next)===0)){if(E(_),_=O=_.prev,_===_.next)break;B=!0}else _=_.next;while(B||_!==O);return O}function P(I,O,_,B,F,z,N){if(I){!N&&z&&l(I,B,F,z);for(var W=I,Z,q;I.prev!==I.next;){if(Z=I.prev,q=I.next,z?L(I,B,F,z):s(I)){O.push(Z.i/_),O.push(I.i/_),O.push(q.i/_),E(I),I=q.next,W=q.next;continue}if(I=q,I===W){N?N===1?(I=M(b(I),O,_),P(I,O,_,B,F,z,2)):N===2&&v(I,O,_,B,F,z):P(b(I),O,_,B,F,z,1);break}}}}function s(I){var O=I.prev,_=I,B=I.next;if(c(O,_,B)>=0)return!1;for(var F=I.next.next;F!==I.prev;){if(h(O.x,O.y,_.x,_.y,B.x,B.y,F.x,F.y)&&c(F.prev,F,F.next)>=0)return!1;F=F.next}return!0}function L(I,O,_,B){var F=I.prev,z=I,N=I.next;if(c(F,z,N)>=0)return!1;for(var W=F.x<z.x?F.x<N.x?F.x:N.x:z.x<N.x?z.x:N.x,Z=F.y<z.y?F.y<N.y?F.y:N.y:z.y<N.y?z.y:N.y,q=F.x>z.x?F.x>N.x?F.x:N.x:z.x>N.x?z.x:N.x,re=F.y>z.y?F.y>N.y?F.y:N.y:z.y>N.y?z.y:N.y,le=f(W,Z,O,_,B),ie=f(q,re,O,_,B),K=I.prevZ,$=I.nextZ;K&&K.z>=le&&$&&$.z<=ie;){if(K!==I.prev&&K!==I.next&&h(F.x,F.y,z.x,z.y,N.x,N.y,K.x,K.y)&&c(K.prev,K,K.next)>=0||(K=K.prevZ,$!==I.prev&&$!==I.next&&h(F.x,F.y,z.x,z.y,N.x,N.y,$.x,$.y)&&c($.prev,$,$.next)>=0))return!1;$=$.nextZ}for(;K&&K.z>=le;){if(K!==I.prev&&K!==I.next&&h(F.x,F.y,z.x,z.y,N.x,N.y,K.x,K.y)&&c(K.prev,K,K.next)>=0)return!1;K=K.prevZ}for(;$&&$.z<=ie;){if($!==I.prev&&$!==I.next&&h(F.x,F.y,z.x,z.y,N.x,N.y,$.x,$.y)&&c($.prev,$,$.next)>=0)return!1;$=$.nextZ}return!0}function M(I,O,_){var B=I;do{var F=B.prev,z=B.next.next;!a(F,z)&&d(F,B,B.next,z)&&y(F,z)&&y(z,F)&&(O.push(F.i/_),O.push(B.i/_),O.push(z.i/_),E(B),E(B.next),B=I=z),B=B.next}while(B!==I);return b(B)}function v(I,O,_,B,F,z){var N=I;do{for(var W=N.next.next;W!==N.prev;){if(N.i!==W.i&&w(N,W)){var Z=A(N,W);N=b(N,N.next),Z=b(Z,Z.next),P(N,O,_,B,F,z),P(Z,O,_,B,F,z);return}W=W.next}N=N.next}while(N!==I)}function p(I,O,_,B){var F=[],z,N,W,Z,q;for(z=0,N=O.length;z<N;z++)W=O[z]*B,Z=z<N-1?O[z+1]*B:I.length,q=e(I,W,Z,B,!1),q===q.next&&(q.steiner=!0),F.push(g(q));for(F.sort(r),z=0;z<F.length;z++)t(F[z],_),_=b(_,_.next);return _}function r(I,O){return I.x-O.x}function t(I,O){if(O=o(I,O),O){var _=A(O,I);b(O,O.next),b(_,_.next)}}function o(I,O){var _=O,B=I.x,F=I.y,z=-1/0,N;do{if(F<=_.y&&F>=_.next.y&&_.next.y!==_.y){var W=_.x+(F-_.y)*(_.next.x-_.x)/(_.next.y-_.y);if(W<=B&&W>z){if(z=W,W===B){if(F===_.y)return _;if(F===_.next.y)return _.next}N=_.x<_.next.x?_:_.next}}_=_.next}while(_!==O);if(!N)return null;if(B===z)return N;var Z=N,q=N.x,re=N.y,le=1/0,ie;_=N;do B>=_.x&&_.x>=q&&B!==_.x&&h(F<re?B:z,F,q,re,F<re?z:B,F,_.x,_.y)&&(ie=Math.abs(F-_.y)/(B-_.x),y(_,I)&&(ie<le||ie===le&&(_.x>N.x||_.x===N.x&&n(N,_)))&&(N=_,le=ie)),_=_.next;while(_!==Z);return N}function n(I,O){return c(I.prev,I,O.prev)<0&&c(O.next,I,I.next)<0}function l(I,O,_,B){var F=I;do F.z===null&&(F.z=f(F.x,F.y,O,_,B)),F.prevZ=F.prev,F.nextZ=F.next,F=F.next;while(F!==I);F.prevZ.nextZ=null,F.prevZ=null,u(F)}function u(I){var O,_,B,F,z,N,W,Z,q=1;do{for(_=I,I=null,z=null,N=0;_;){for(N++,B=_,W=0,O=0;O<q&&(W++,B=B.nextZ,!!B);O++);for(Z=q;W>0||Z>0&&B;)W!==0&&(Z===0||!B||_.z<=B.z)?(F=_,_=_.nextZ,W--):(F=B,B=B.nextZ,Z--),z?z.nextZ=F:I=F,F.prevZ=z,z=F;_=B}z.nextZ=null,q*=2}while(N>1);return I}function f(I,O,_,B,F){return I=32767*(I-_)*F,O=32767*(O-B)*F,I=(I|I<<8)&16711935,I=(I|I<<4)&252645135,I=(I|I<<2)&858993459,I=(I|I<<1)&1431655765,O=(O|O<<8)&16711935,O=(O|O<<4)&252645135,O=(O|O<<2)&858993459,O=(O|O<<1)&1431655765,I|O<<1}function g(I){var O=I,_=I;do(O.x<_.x||O.x===_.x&&O.y<_.y)&&(_=O),O=O.next;while(O!==I);return _}function h(I,O,_,B,F,z,N,W){return(F-N)*(O-W)-(I-N)*(z-W)>=0&&(I-N)*(B-W)-(_-N)*(O-W)>=0&&(_-N)*(z-W)-(F-N)*(B-W)>=0}function w(I,O){return I.next.i!==O.i&&I.prev.i!==O.i&&!C(I,O)&&(y(I,O)&&y(O,I)&&S(I,O)&&(c(I.prev,I,O.prev)||c(I,O.prev,O))||a(I,O)&&c(I.prev,I,I.next)>0&&c(O.prev,O,O.next)>0)}function c(I,O,_){return(O.y-I.y)*(_.x-O.x)-(O.x-I.x)*(_.y-O.y)}function a(I,O){return I.x===O.x&&I.y===O.y}function d(I,O,_,B){var F=T(c(I,O,_)),z=T(c(I,O,B)),N=T(c(_,B,I)),W=T(c(_,B,O));return!!(F!==z&&N!==W||F===0&&x(I,_,O)||z===0&&x(I,B,O)||N===0&&x(_,I,B)||W===0&&x(_,O,B))}function x(I,O,_){return O.x<=Math.max(I.x,_.x)&&O.x>=Math.min(I.x,_.x)&&O.y<=Math.max(I.y,_.y)&&O.y>=Math.min(I.y,_.y)}function T(I){return I>0?1:I<0?-1:0}function C(I,O){var _=I;do{if(_.i!==I.i&&_.next.i!==I.i&&_.i!==O.i&&_.next.i!==O.i&&d(_,_.next,I,O))return!0;_=_.next}while(_!==I);return!1}function y(I,O){return c(I.prev,I,I.next)<0?c(I,O,I.next)>=0&&c(I,I.prev,O)>=0:c(I,O,I.prev)<0||c(I,I.next,O)<0}function S(I,O){var _=I,B=!1,F=(I.x+O.x)/2,z=(I.y+O.y)/2;do _.y>z!=_.next.y>z&&_.next.y!==_.y&&F<(_.next.x-_.x)*(z-_.y)/(_.next.y-_.y)+_.x&&(B=!B),_=_.next;while(_!==I);return B}function A(I,O){var _=new m(I.i,I.x,I.y),B=new m(O.i,O.x,O.y),F=I.next,z=O.prev;return I.next=O,O.prev=I,_.next=F,F.prev=_,B.next=_,_.prev=B,z.next=B,B.prev=z,B}function i(I,O,_,B){var F=new m(I,O,_);return B?(F.next=B.next,F.prev=B,B.next.prev=F,B.next=F):(F.prev=F,F.next=F),F}function E(I){I.next.prev=I.prev,I.prev.next=I.next,I.prevZ&&(I.prevZ.nextZ=I.nextZ),I.nextZ&&(I.nextZ.prevZ=I.prevZ)}function m(I,O,_){this.i=I,this.x=O,this.y=_,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}V.deviation=function(I,O,_,B){var F=O&&O.length,z=F?O[0]*_:I.length,N=Math.abs(k(I,0,z,_));if(F)for(var W=0,Z=O.length;W<Z;W++){var q=O[W]*_,re=W<Z-1?O[W+1]*_:I.length;N-=Math.abs(k(I,q,re,_))}var le=0;for(W=0;W<B.length;W+=3){var ie=B[W]*_,K=B[W+1]*_,$=B[W+2]*_;le+=Math.abs((I[ie]-I[$])*(I[K+1]-I[ie+1])-(I[ie]-I[K])*(I[$+1]-I[ie+1]))}return N===0&&le===0?0:Math.abs((le-N)/N)};function k(I,O,_,B){for(var F=0,z=O,N=_-B;z<_;z+=B)F+=(I[N]-I[z])*(I[z+1]+I[N+1]),N=z;return F}V.flatten=function(I){for(var O=I[0][0].length,_={vertices:[],holes:[],dimensions:O},B=0,F=0;F<I.length;F++){for(var z=0;z<I[F].length;z++)for(var N=0;N<O;N++)_.vertices.push(I[F][z][N]);F>0&&(B+=I[F-1].length,_.holes.push(B))}return _}},6688:function(Y,V,e){var b=e(78484);Y.exports=function(s,L){var M=[],v=[],p=[],r={},t=[],o;function n(x){p[x]=!1,r.hasOwnProperty(x)&&Object.keys(r[x]).forEach(function(T){delete r[x][T],p[T]&&n(T)})}function l(x){var T=!1;v.push(x),p[x]=!0;var C,y;for(C=0;C<t[x].length;C++)y=t[x][C],y===o?(u(o,v),T=!0):p[y]||(T=l(y));if(T)n(x);else for(C=0;C<t[x].length;C++){y=t[x][C];var S=r[y];S||(S={},r[y]=S),S[y]=!0}return v.pop(),T}function u(x,T){var C=[].concat(T).concat(x);L?L(l):M.push(C)}function f(x){for(var T=0;T<s.length;T++)T<x&&(s[T]=[]),s[T]=s[T].filter(function(C){return C>=x})}function g(x){f(x);for(var T=s,C=b(T),y=C.components.filter(function(I){return I.length>1}),S=1/0,A,i=0;i<y.length;i++)for(var E=0;E<y[i].length;E++)y[i][E]<S&&(S=y[i][E],A=i);var m=y[A];if(!m)return!1;var k=s.map(function(I,O){return m.indexOf(O)===-1?[]:I.filter(function(_){return m.indexOf(_)!==-1})});return{leastVertex:S,adjList:k}}o=0;for(var h=s.length;o<h;){var w=g(o);if(o=w.leastVertex,t=w.adjList,t){for(var c=0;c<t.length;c++)for(var a=0;a<t[c].length;a++){var d=t[c][a];p[+d]=!1,r[d]={}}l(o),o=o+1}else o=h}if(!L)return M}},41476:function(Y,V,e){var b=e(9252);Y.exports=function(){return b(this).length=0,this}},74772:function(Y,V,e){Y.exports=e(44716)()?Array.from:e(80816)},44716:function(Y){Y.exports=function(){var V=Array.from,e,b;return typeof V!="function"?!1:(e=["raz","dwa"],b=V(e),!!(b&&b!==e&&b[1]==="dwa"))}},80816:function(Y,V,e){var b=e(92664).iterator,P=e(60948),s=e(17024),L=e(81304),M=e(34044),v=e(9252),p=e(42584),r=e(29768),t=Array.isArray,o=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},l=Object.defineProperty;Y.exports=function(u){var f=arguments[1],g=arguments[2],h,w,c,a,d,x,T,C,y,S;if(u=Object(v(u)),p(f)&&M(f),!this||this===Array||!s(this)){if(!f){if(P(u))return d=u.length,d!==1?Array.apply(null,u):(a=new Array(1),a[0]=u[0],a);if(t(u)){for(a=new Array(d=u.length),w=0;w<d;++w)a[w]=u[w];return a}}a=[]}else h=this;if(!t(u)){if((y=u[b])!==void 0){for(T=M(y).call(u),h&&(a=new h),C=T.next(),w=0;!C.done;)S=f?o.call(f,g,C.value,w):C.value,h?(n.value=S,l(a,w,n)):a[w]=S,C=T.next(),++w;d=w}else if(r(u)){for(d=u.length,h&&(a=new h),w=0,c=0;w<d;++w)S=u[w],w+1<d&&(x=S.charCodeAt(0),x>=55296&&x<=56319&&(S+=u[++w])),S=f?o.call(f,g,S,c):S,h?(n.value=S,l(a,c,n)):a[c]=S,++c;d=c}}if(d===void 0)for(d=L(u.length),h&&(a=new h(d)),w=0;w<d;++w)S=f?o.call(f,g,u[w],w):u[w],h?(n.value=S,l(a,w,n)):a[w]=S;return h&&(n.value=null,a.length=d),a}},60948:function(Y){var V=Object.prototype.toString,e=V.call(function(){return arguments}());Y.exports=function(b){return V.call(b)===e}},17024:function(Y){var V=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);Y.exports=function(b){return typeof b=="function"&&e(V.call(b))}},33208:function(Y){Y.exports=function(){}},85608:function(Y,V,e){Y.exports=e(37328)()?Math.sign:e(92928)},37328:function(Y){Y.exports=function(){var V=Math.sign;return typeof V!="function"?!1:V(10)===1&&V(-20)===-1}},92928:function(Y){Y.exports=function(V){return V=Number(V),isNaN(V)||V===0?V:V>0?1:-1}},96936:function(Y,V,e){var b=e(85608),P=Math.abs,s=Math.floor;Y.exports=function(L){return isNaN(L)?0:(L=Number(L),L===0||!isFinite(L)?L:b(L)*s(P(L)))}},81304:function(Y,V,e){var b=e(96936),P=Math.max;Y.exports=function(s){return P(0,b(s))}},14428:function(Y,V,e){var b=e(34044),P=e(9252),s=Function.prototype.bind,L=Function.prototype.call,M=Object.keys,v=Object.prototype.propertyIsEnumerable;Y.exports=function(p,r){return function(t,o){var n,l=arguments[2],u=arguments[3];return t=Object(P(t)),b(o),n=M(t),u&&n.sort(typeof u=="function"?s.call(u,t):void 0),typeof p!="function"&&(p=n[p]),L.call(p,n,function(f,g){return v.call(t,f)?L.call(o,l,t[f],f,t,g):r})}}},38452:function(Y,V,e){Y.exports=e(96276)()?Object.assign:e(81892)},96276:function(Y){Y.exports=function(){var V=Object.assign,e;return typeof V!="function"?!1:(e={foo:"raz"},V(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},81892:function(Y,V,e){var b=e(54768),P=e(9252),s=Math.max;Y.exports=function(L,M){var v,p,r=s(arguments.length,2),t;for(L=Object(P(L)),t=function(o){try{L[o]=M[o]}catch(n){v||(v=n)}},p=1;p<r;++p)M=arguments[p],b(M).forEach(t);if(v!==void 0)throw v;return L}},95920:function(Y,V,e){var b=e(74772),P=e(38452),s=e(9252);Y.exports=function(L){var M=Object(s(L)),v=arguments[1],p=Object(arguments[2]);if(M!==L&&!v)return M;var r={};return v?b(v,function(t){(p.ensure||t in L)&&(r[t]=L[t])}):P(r,L),r}},14452:function(Y,V,e){var b=Object.create,P;e(63092)()||(P=e(8672)),Y.exports=function(){var s,L,M;return!P||P.level!==1?b:(s={},L={},M={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){if(v==="__proto__"){L[v]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}L[v]=M}),Object.defineProperties(s,L),Object.defineProperty(P,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:s}),function(v,p){return b(v===null?s:v,p)})}()},42748:function(Y,V,e){Y.exports=e(14428)("forEach")},69127:function(Y,V,e){var b=e(42584),P={function:!0,object:!0};Y.exports=function(s){return b(s)&&P[typeof s]||!1}},42584:function(Y,V,e){var b=e(33208)();Y.exports=function(P){return P!==b&&P!==null}},54768:function(Y,V,e){Y.exports=e(87888)()?Object.keys:e(89592)},87888:function(Y){Y.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},89592:function(Y,V,e){var b=e(42584),P=Object.keys;Y.exports=function(s){return P(b(s)?Object(s):s)}},84323:function(Y,V,e){var b=e(34044),P=e(42748),s=Function.prototype.call;Y.exports=function(L,M){var v={},p=arguments[2];return b(M),P(L,function(r,t,o,n){v[t]=s.call(M,p,r,t,o,n)}),v}},50868:function(Y,V,e){var b=e(42584),P=Array.prototype.forEach,s=Object.create,L=function(M,v){var p;for(p in M)v[p]=M[p]};Y.exports=function(M){var v=s(null);return P.call(arguments,function(p){b(p)&&L(Object(p),v)}),v}},69932:function(Y,V,e){Y.exports=e(63092)()?Object.setPrototypeOf:e(8672)},63092:function(Y){var V=Object.create,e=Object.getPrototypeOf,b={};Y.exports=function(){var P=Object.setPrototypeOf,s=arguments[0]||V;return typeof P!="function"?!1:e(P(s(null),b))===b}},8672:function(Y,V,e){var b=e(69127),P=e(9252),s=Object.prototype.isPrototypeOf,L=Object.defineProperty,M={configurable:!0,enumerable:!1,writable:!0,value:void 0},v;v=function(p,r){if(P(p),r===null||b(r))return p;throw new TypeError("Prototype must be null or an object")},Y.exports=function(p){var r,t;return p?(p.level===2?p.set?(t=p.set,r=function(o,n){return t.call(v(o,n),n),o}):r=function(o,n){return v(o,n).__proto__=n,o}:r=function o(n,l){var u;return v(n,l),u=s.call(o.nullPolyfill,n),u&&delete o.nullPolyfill.__proto__,l===null&&(l=o.nullPolyfill),n.__proto__=l,u&&L(o.nullPolyfill,"__proto__",M),n},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:p.level})):null}(function(){var p=Object.create(null),r={},t,o=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(o){try{t=o.set,t.call(p,r)}catch{}if(Object.getPrototypeOf(p)===r)return{set:t,level:2}}return p.__proto__=r,Object.getPrototypeOf(p)===r?{level:2}:(p={},p.__proto__=r,Object.getPrototypeOf(p)===r?{level:1}:!1)}()),e(14452)},34044:function(Y){Y.exports=function(V){if(typeof V!="function")throw new TypeError(V+" is not a function");return V}},92584:function(Y,V,e){var b=e(69127);Y.exports=function(P){if(!b(P))throw new TypeError(P+" is not an Object");return P}},9252:function(Y,V,e){var b=e(42584);Y.exports=function(P){if(!b(P))throw new TypeError("Cannot use null or undefined");return P}},71056:function(Y,V,e){Y.exports=e(42976)()?String.prototype.contains:e(93040)},42976:function(Y){var V="razdwatrzy";Y.exports=function(){return typeof V.contains!="function"?!1:V.contains("dwa")===!0&&V.contains("foo")===!1}},93040:function(Y){var V=String.prototype.indexOf;Y.exports=function(e){return V.call(this,e,arguments[1])>-1}},29768:function(Y){var V=Object.prototype.toString,e=V.call("");Y.exports=function(b){return typeof b=="string"||b&&typeof b=="object"&&(b instanceof String||V.call(b)===e)||!1}},82252:function(Y){var V=Object.create(null),e=Math.random;Y.exports=function(){var b;do b=e().toString(36).slice(2);while(V[b]);return b}},52104:function(Y,V,e){var b=e(69932),P=e(71056),s=e(21092),L=e(92664),M=e(85512),v=Object.defineProperty,p;p=Y.exports=function(r,t){if(!(this instanceof p))throw new TypeError("Constructor requires 'new'");M.call(this,r),t?P.call(t,"key+value")?t="key+value":P.call(t,"key")?t="key":t="value":t="value",v(this,"__kind__",s("",t))},b&&b(p,M),delete p.prototype.constructor,p.prototype=Object.create(M.prototype,{_resolve:s(function(r){return this.__kind__==="value"?this.__list__[r]:this.__kind__==="key+value"?[r,this.__list__[r]]:r})}),v(p.prototype,L.toStringTag,s("c","Array Iterator"))},76024:function(Y,V,e){var b=e(60948),P=e(34044),s=e(29768),L=e(76252),M=Array.isArray,v=Function.prototype.call,p=Array.prototype.some;Y.exports=function(r,t){var o,n=arguments[2],l,u,f,g,h,w,c;if(M(r)||b(r)?o="array":s(r)?o="string":r=L(r),P(t),u=function(){f=!0},o==="array"){p.call(r,function(a){return v.call(t,n,a,u),f});return}if(o==="string"){for(h=r.length,g=0;g<h&&(w=r[g],g+1<h&&(c=w.charCodeAt(0),c>=55296&&c<=56319&&(w+=r[++g])),v.call(t,n,w,u),!f);++g);return}for(l=r.next();!l.done;){if(v.call(t,n,l.value,u),f)return;l=r.next()}}},76252:function(Y,V,e){var b=e(60948),P=e(29768),s=e(52104),L=e(80940),M=e(52891),v=e(92664).iterator;Y.exports=function(p){return typeof M(p)[v]=="function"?p[v]():b(p)?new s(p):P(p)?new L(p):new s(p)}},85512:function(Y,V,e){var b=e(41476),P=e(38452),s=e(34044),L=e(9252),M=e(21092),v=e(27940),p=e(92664),r=Object.defineProperty,t=Object.defineProperties,o;Y.exports=o=function(n,l){if(!(this instanceof o))throw new TypeError("Constructor requires 'new'");t(this,{__list__:M("w",L(n)),__context__:M("w",l),__nextIndex__:M("w",0)}),l&&(s(l.on),l.on("_add",this._onAdd),l.on("_delete",this._onDelete),l.on("_clear",this._onClear))},delete o.prototype.constructor,t(o.prototype,P({_next:M(function(){var n;if(this.__list__){if(this.__redo__&&(n=this.__redo__.shift(),n!==void 0))return n;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:M(function(){return this._createResult(this._next())}),_createResult:M(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:M(function(n){return this.__list__[n]}),_unBind:M(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:M(function(){return"[object "+(this[p.toStringTag]||"Object")+"]"})},v({_onAdd:M(function(n){if(!(n>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){r(this,"__redo__",M("c",[n]));return}this.__redo__.forEach(function(l,u){l>=n&&(this.__redo__[u]=++l)},this),this.__redo__.push(n)}}),_onDelete:M(function(n){var l;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(l=this.__redo__.indexOf(n),l!==-1&&this.__redo__.splice(l,1),this.__redo__.forEach(function(u,f){u>n&&(this.__redo__[f]=--u)},this)))}),_onClear:M(function(){this.__redo__&&b.call(this.__redo__),this.__nextIndex__=0})}))),r(o.prototype,p.iterator,M(function(){return this}))},76368:function(Y,V,e){var b=e(60948),P=e(42584),s=e(29768),L=e(92664).iterator,M=Array.isArray;Y.exports=function(v){return P(v)?M(v)||s(v)||b(v)?!0:typeof v[L]=="function":!1}},80940:function(Y,V,e){var b=e(69932),P=e(21092),s=e(92664),L=e(85512),M=Object.defineProperty,v;v=Y.exports=function(p){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");p=String(p),L.call(this,p),M(this,"__length__",P("",p.length))},b&&b(v,L),delete v.prototype.constructor,v.prototype=Object.create(L.prototype,{_next:P(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:P(function(p){var r=this.__list__[p],t;return this.__nextIndex__===this.__length__?r:(t=r.charCodeAt(0),t>=55296&&t<=56319?r+this.__list__[this.__nextIndex__++]:r)})}),M(v.prototype,s.toStringTag,P("c","String Iterator"))},52891:function(Y,V,e){var b=e(76368);Y.exports=function(P){if(!b(P))throw new TypeError(P+" is not iterable");return P}},60964:function(Y){function V(b,P){if(b==null)throw new TypeError("Cannot convert first argument to object");for(var s=Object(b),L=1;L<arguments.length;L++){var M=arguments[L];if(M!=null)for(var v=Object.keys(Object(M)),p=0,r=v.length;p<r;p++){var t=v[p],o=Object.getOwnPropertyDescriptor(M,t);o!==void 0&&o.enumerable&&(s[t]=M[t])}}return s}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:V})}Y.exports={assign:V,polyfill:e}},92664:function(Y,V,e){Y.exports=e(43580)()?e(12296).Symbol:e(18376)},43580:function(Y,V,e){var b=e(12296),P={object:!0,symbol:!0};Y.exports=function(){var s=b.Symbol,L;if(typeof s!="function")return!1;L=s("test symbol");try{String(L)}catch{return!1}return!(!P[typeof s.iterator]||!P[typeof s.toPrimitive]||!P[typeof s.toStringTag])}},53908:function(Y){Y.exports=function(V){return V?typeof V=="symbol"?!0:!V.constructor||V.constructor.name!=="Symbol"?!1:V[V.constructor.toStringTag]==="Symbol":!1}},96863:function(Y,V,e){var b=e(21092),P=Object.create,s=Object.defineProperty,L=Object.prototype,M=P(null);Y.exports=function(v){for(var p=0,r,t;M[v+(p||"")];)++p;return v+=p||"",M[v]=!0,r="@@"+v,s(L,r,b.gs(null,function(o){t||(t=!0,s(this,r,b(o)),t=!1)})),r}},53540:function(Y,V,e){var b=e(21092),P=e(12296).Symbol;Y.exports=function(s){return Object.defineProperties(s,{hasInstance:b("",P&&P.hasInstance||s("hasInstance")),isConcatSpreadable:b("",P&&P.isConcatSpreadable||s("isConcatSpreadable")),iterator:b("",P&&P.iterator||s("iterator")),match:b("",P&&P.match||s("match")),replace:b("",P&&P.replace||s("replace")),search:b("",P&&P.search||s("search")),species:b("",P&&P.species||s("species")),split:b("",P&&P.split||s("split")),toPrimitive:b("",P&&P.toPrimitive||s("toPrimitive")),toStringTag:b("",P&&P.toStringTag||s("toStringTag")),unscopables:b("",P&&P.unscopables||s("unscopables"))})}},73852:function(Y,V,e){var b=e(21092),P=e(63948),s=Object.create(null);Y.exports=function(L){return Object.defineProperties(L,{for:b(function(M){return s[M]?s[M]:s[M]=L(String(M))}),keyFor:b(function(M){var v;P(M);for(v in s)if(s[v]===M)return v})})}},18376:function(Y,V,e){var b=e(21092),P=e(63948),s=e(12296).Symbol,L=e(96863),M=e(53540),v=e(73852),p=Object.create,r=Object.defineProperties,t=Object.defineProperty,o,n,l;if(typeof s=="function")try{String(s()),l=!0}catch{}else s=null;n=function(f){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return o(f)},Y.exports=o=function u(f){var g;if(this instanceof u)throw new TypeError("Symbol is not a constructor");return l?s(f):(g=p(n.prototype),f=f===void 0?"":String(f),r(g,{__description__:b("",f),__name__:b("",L(f))}))},M(o),v(o),r(n.prototype,{constructor:b(o),toString:b("",function(){return this.__name__})}),r(o.prototype,{toString:b(function(){return"Symbol ("+P(this).__description__+")"}),valueOf:b(function(){return P(this)})}),t(o.prototype,o.toPrimitive,b("",function(){var u=P(this);return typeof u=="symbol"?u:u.toString()})),t(o.prototype,o.toStringTag,b("c","Symbol")),t(n.prototype,o.toStringTag,b("c",o.prototype[o.toStringTag])),t(n.prototype,o.toPrimitive,b("c",o.prototype[o.toPrimitive]))},63948:function(Y,V,e){var b=e(53908);Y.exports=function(P){if(!b(P))throw new TypeError(P+" is not a symbol");return P}},60463:function(Y,V,e){Y.exports=e(96979)()?WeakMap:e(64864)},96979:function(Y){Y.exports=function(){var V,e;if(typeof WeakMap!="function")return!1;try{V=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(V)!=="[object WeakMap]"||typeof V.set!="function"||V.set({},1)!==V||typeof V.delete!="function"||typeof V.has!="function"||V.get(e)!=="one")}},69876:function(Y){Y.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},64864:function(Y,V,e){var b=e(42584),P=e(69932),s=e(92584),L=e(9252),M=e(82252),v=e(21092),p=e(76252),r=e(76024),t=e(92664).toStringTag,o=e(69876),n=Array.isArray,l=Object.defineProperty,u=Object.prototype.hasOwnProperty,f=Object.getPrototypeOf,g;Y.exports=g=function(){var h=arguments[0],w;if(!(this instanceof g))throw new TypeError("Constructor requires 'new'");return w=o&&P&&WeakMap!==g?P(new WeakMap,f(this)):this,b(h)&&(n(h)||(h=p(h))),l(w,"__weakMapData__",v("c","$weakMap$"+M())),h&&r(h,function(c){L(c),w.set(c[0],c[1])}),w},o&&(P&&P(g,WeakMap),g.prototype=Object.create(WeakMap.prototype,{constructor:v(g)})),Object.defineProperties(g.prototype,{delete:v(function(h){return u.call(s(h),this.__weakMapData__)?(delete h[this.__weakMapData__],!0):!1}),get:v(function(h){if(u.call(s(h),this.__weakMapData__))return h[this.__weakMapData__]}),has:v(function(h){return u.call(s(h),this.__weakMapData__)}),set:v(function(h,w){return l(s(h),this.__weakMapData__,v("c",w)),this}),toString:v(function(){return"[object WeakMap]"})}),l(g.prototype,t,v("c","WeakMap"))},61252:function(Y){var V=typeof Reflect=="object"?Reflect:null,e=V&&typeof V.apply=="function"?V.apply:function(d,x,T){return Function.prototype.apply.call(d,x,T)},b;V&&typeof V.ownKeys=="function"?b=V.ownKeys:Object.getOwnPropertySymbols?b=function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:b=function(d){return Object.getOwnPropertyNames(d)};function P(a){console&&console.warn&&console.warn(a)}var s=Number.isNaN||function(d){return d!==d};function L(){L.init.call(this)}Y.exports=L,Y.exports.once=h,L.EventEmitter=L,L.prototype._events=void 0,L.prototype._eventsCount=0,L.prototype._maxListeners=void 0;var M=10;function v(a){if(typeof a!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof a)}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return M},set:function(a){if(typeof a!="number"||a<0||s(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");M=a}}),L.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(d){if(typeof d!="number"||d<0||s(d))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+d+".");return this._maxListeners=d,this};function p(a){return a._maxListeners===void 0?L.defaultMaxListeners:a._maxListeners}L.prototype.getMaxListeners=function(){return p(this)},L.prototype.emit=function(d){for(var x=[],T=1;T<arguments.length;T++)x.push(arguments[T]);var C=d==="error",y=this._events;if(y!==void 0)C=C&&y.error===void 0;else if(!C)return!1;if(C){var S;if(x.length>0&&(S=x[0]),S instanceof Error)throw S;var A=new Error("Unhandled error."+(S?" ("+S.message+")":""));throw A.context=S,A}var i=y[d];if(i===void 0)return!1;if(typeof i=="function")e(i,this,x);else for(var E=i.length,m=u(i,E),T=0;T<E;++T)e(m[T],this,x);return!0};function r(a,d,x,T){var C,y,S;if(v(x),y=a._events,y===void 0?(y=a._events=Object.create(null),a._eventsCount=0):(y.newListener!==void 0&&(a.emit("newListener",d,x.listener?x.listener:x),y=a._events),S=y[d]),S===void 0)S=y[d]=x,++a._eventsCount;else if(typeof S=="function"?S=y[d]=T?[x,S]:[S,x]:T?S.unshift(x):S.push(x),C=p(a),C>0&&S.length>C&&!S.warned){S.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+S.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=a,A.type=d,A.count=S.length,P(A)}return a}L.prototype.addListener=function(d,x){return r(this,d,x,!1)},L.prototype.on=L.prototype.addListener,L.prototype.prependListener=function(d,x){return r(this,d,x,!0)};function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function o(a,d,x){var T={fired:!1,wrapFn:void 0,target:a,type:d,listener:x},C=t.bind(T);return C.listener=x,T.wrapFn=C,C}L.prototype.once=function(d,x){return v(x),this.on(d,o(this,d,x)),this},L.prototype.prependOnceListener=function(d,x){return v(x),this.prependListener(d,o(this,d,x)),this},L.prototype.removeListener=function(d,x){var T,C,y,S,A;if(v(x),C=this._events,C===void 0)return this;if(T=C[d],T===void 0)return this;if(T===x||T.listener===x)--this._eventsCount===0?this._events=Object.create(null):(delete C[d],C.removeListener&&this.emit("removeListener",d,T.listener||x));else if(typeof T!="function"){for(y=-1,S=T.length-1;S>=0;S--)if(T[S]===x||T[S].listener===x){A=T[S].listener,y=S;break}if(y<0)return this;y===0?T.shift():f(T,y),T.length===1&&(C[d]=T[0]),C.removeListener!==void 0&&this.emit("removeListener",d,A||x)}return this},L.prototype.off=L.prototype.removeListener,L.prototype.removeAllListeners=function(d){var x,T,C;if(T=this._events,T===void 0)return this;if(T.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):T[d]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete T[d]),this;if(arguments.length===0){var y=Object.keys(T),S;for(C=0;C<y.length;++C)S=y[C],S!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(x=T[d],typeof x=="function")this.removeListener(d,x);else if(x!==void 0)for(C=x.length-1;C>=0;C--)this.removeListener(d,x[C]);return this};function n(a,d,x){var T=a._events;if(T===void 0)return[];var C=T[d];return C===void 0?[]:typeof C=="function"?x?[C.listener||C]:[C]:x?g(C):u(C,C.length)}L.prototype.listeners=function(d){return n(this,d,!0)},L.prototype.rawListeners=function(d){return n(this,d,!1)},L.listenerCount=function(a,d){return typeof a.listenerCount=="function"?a.listenerCount(d):l.call(a,d)},L.prototype.listenerCount=l;function l(a){var d=this._events;if(d!==void 0){var x=d[a];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}L.prototype.eventNames=function(){return this._eventsCount>0?b(this._events):[]};function u(a,d){for(var x=new Array(d),T=0;T<d;++T)x[T]=a[T];return x}function f(a,d){for(;d+1<a.length;d++)a[d]=a[d+1];a.pop()}function g(a){for(var d=new Array(a.length),x=0;x<d.length;++x)d[x]=a[x].listener||a[x];return d}function h(a,d){return new Promise(function(x,T){function C(S){a.removeListener(d,y),T(S)}function y(){typeof a.removeListener=="function"&&a.removeListener("error",C),x([].slice.call(arguments))}c(a,d,y,{once:!0}),d!=="error"&&w(a,C,{once:!0})})}function w(a,d,x){typeof a.on=="function"&&c(a,"error",d,x)}function c(a,d,x,T){if(typeof a.on=="function")T.once?a.once(d,x):a.on(d,x);else if(typeof a.addEventListener=="function")a.addEventListener(d,function C(y){T.once&&a.removeEventListener(d,C),x(y)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof a)}},39072:function(Y){var V=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};Y.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return V()}try{return __global__||V()}finally{delete Object.prototype.__global__}}()},12296:function(Y,V,e){Y.exports=e(45072)()?globalThis:e(39072)},45072:function(Y){Y.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},38248:function(Y,V,e){var b=e(94576);Y.exports=function(P){var s=typeof P;if(s==="string"){var L=P;if(P=+P,P===0&&b(L))return!1}else if(s!=="number")return!1;return P-P<1}},47520:function(Y,V,e){var b=e(72512);Y.exports=P;function P(s,L,M){if(!s)throw new TypeError("must specify data as first parameter");if(M=+(M||0)|0,Array.isArray(s)&&s[0]&&typeof s[0][0]=="number"){var v=s[0].length,p=s.length*v,r,t,o,n;(!L||typeof L=="string")&&(L=new(b(L||"float32"))(p+M));var l=L.length-M;if(p!==l)throw new Error("source length "+p+" ("+v+"x"+s.length+") does not match destination length "+l);for(r=0,o=M;r<s.length;r++)for(t=0;t<v;t++)L[o++]=s[r][t]===null?NaN:s[r][t]}else if(!L||typeof L=="string"){var u=b(L||"float32");if(Array.isArray(s)||L==="array")for(L=new u(s.length+M),r=0,o=M,n=L.length;o<n;o++,r++)L[o]=s[r]===null?NaN:s[r];else M===0?L=new u(s):(L=new u(s.length+M),L.set(s,M))}else L.set(s,M);return L}},33888:function(Y,V,e){var b=e(49395),P=[32,126];Y.exports=s;function s(L){L=L||{};var M=L.shape?L.shape:L.canvas?[L.canvas.width,L.canvas.height]:[512,512],v=L.canvas||document.createElement("canvas"),p=L.font,r=typeof L.step=="number"?[L.step,L.step]:L.step||[32,32],t=L.chars||P;if(p&&typeof p!="string"&&(p=b(p)),!Array.isArray(t))t=String(t).split("");else if(t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"){for(var o=[],n=t[0],l=0;n<=t[1];n++)o[l++]=String.fromCharCode(n);t=o}M=M.slice(),v.width=M[0],v.height=M[1];var u=v.getContext("2d");u.fillStyle="#000",u.fillRect(0,0,v.width,v.height),u.font=p,u.textAlign="center",u.textBaseline="middle",u.fillStyle="#fff";for(var f=r[0]/2,g=r[1]/2,n=0;n<t.length;n++)u.fillText(t[n],f,g),(f+=r[0])>M[0]-r[0]/2&&(f=r[0]/2,g+=r[1]);return v}},71920:function(Y){Y.exports=V,V.canvas=document.createElement("canvas"),V.cache={};function V(t,L){L||(L={}),(typeof t=="string"||Array.isArray(t))&&(L.family=t);var M=Array.isArray(L.family)?L.family.join(", "):L.family;if(!M)throw Error("`family` must be defined");var v=L.size||L.fontSize||L.em||48,p=L.weight||L.fontWeight||"",r=L.style||L.fontStyle||"",t=[r,p,v].join(" ")+"px "+M,o=L.origin||"top";if(V.cache[M]&&v<=V.cache[M].em)return e(V.cache[M],o);var n=L.canvas||V.canvas,l=n.getContext("2d"),u={upper:L.upper!==void 0?L.upper:"H",lower:L.lower!==void 0?L.lower:"x",descent:L.descent!==void 0?L.descent:"p",ascent:L.ascent!==void 0?L.ascent:"h",tittle:L.tittle!==void 0?L.tittle:"i",overshoot:L.overshoot!==void 0?L.overshoot:"O"},f=Math.ceil(v*1.5);n.height=f,n.width=f*.5,l.font=t;var g="H",h={top:0};l.clearRect(0,0,f,f),l.textBaseline="top",l.fillStyle="black",l.fillText(g,0,0);var w=b(l.getImageData(0,0,f,f));l.clearRect(0,0,f,f),l.textBaseline="bottom",l.fillText(g,0,f);var c=b(l.getImageData(0,0,f,f));h.lineHeight=h.bottom=f-c+w,l.clearRect(0,0,f,f),l.textBaseline="alphabetic",l.fillText(g,0,f);var a=b(l.getImageData(0,0,f,f)),d=f-a-1+w;h.baseline=h.alphabetic=d,l.clearRect(0,0,f,f),l.textBaseline="middle",l.fillText(g,0,f*.5);var x=b(l.getImageData(0,0,f,f));h.median=h.middle=f-x-1+w-f*.5,l.clearRect(0,0,f,f),l.textBaseline="hanging",l.fillText(g,0,f*.5);var T=b(l.getImageData(0,0,f,f));h.hanging=f-T-1+w-f*.5,l.clearRect(0,0,f,f),l.textBaseline="ideographic",l.fillText(g,0,f);var C=b(l.getImageData(0,0,f,f));if(h.ideographic=f-C-1+w,u.upper&&(l.clearRect(0,0,f,f),l.textBaseline="top",l.fillText(u.upper,0,0),h.upper=b(l.getImageData(0,0,f,f)),h.capHeight=h.baseline-h.upper),u.lower&&(l.clearRect(0,0,f,f),l.textBaseline="top",l.fillText(u.lower,0,0),h.lower=b(l.getImageData(0,0,f,f)),h.xHeight=h.baseline-h.lower),u.tittle&&(l.clearRect(0,0,f,f),l.textBaseline="top",l.fillText(u.tittle,0,0),h.tittle=b(l.getImageData(0,0,f,f))),u.ascent&&(l.clearRect(0,0,f,f),l.textBaseline="top",l.fillText(u.ascent,0,0),h.ascent=b(l.getImageData(0,0,f,f))),u.descent&&(l.clearRect(0,0,f,f),l.textBaseline="top",l.fillText(u.descent,0,0),h.descent=P(l.getImageData(0,0,f,f))),u.overshoot){l.clearRect(0,0,f,f),l.textBaseline="top",l.fillText(u.overshoot,0,0);var y=P(l.getImageData(0,0,f,f));h.overshoot=y-d}for(var S in h)h[S]/=v;return h.em=v,V.cache[M]=h,e(h,o)}function e(s,L){var M={};typeof L=="string"&&(L=s[L]);for(var v in s)v!=="em"&&(M[v]=s[v]-L);return M}function b(s){for(var L=s.height,M=s.data,v=3;v<M.length;v+=4)if(M[v]!==0)return Math.floor((v-3)*.25/L)}function P(s){for(var L=s.height,M=s.data,v=M.length-1;v>0;v-=4)if(M[v]!==0)return Math.floor((v-3)*.25/L)}},46492:function(Y,V,e){var b=e(90720),P=Object.prototype.toString,s=Object.prototype.hasOwnProperty,L=function(t,o,n){for(var l=0,u=t.length;l<u;l++)s.call(t,l)&&(n==null?o(t[l],l,t):o.call(n,t[l],l,t))},M=function(t,o,n){for(var l=0,u=t.length;l<u;l++)n==null?o(t.charAt(l),l,t):o.call(n,t.charAt(l),l,t)},v=function(t,o,n){for(var l in t)s.call(t,l)&&(n==null?o(t[l],l,t):o.call(n,t[l],l,t))},p=function(t,o,n){if(!b(o))throw new TypeError("iterator must be a function");var l;arguments.length>=3&&(l=n),P.call(t)==="[object Array]"?L(t,o,l):typeof t=="string"?M(t,o,l):v(t,o,l)};Y.exports=p},74336:function(Y){var V="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,b=Math.max,P="[object Function]",s=function(p,r){for(var t=[],o=0;o<p.length;o+=1)t[o]=p[o];for(var n=0;n<r.length;n+=1)t[n+p.length]=r[n];return t},L=function(p,r){for(var t=[],o=r,n=0;o<p.length;o+=1,n+=1)t[n]=p[o];return t},M=function(v,p){for(var r="",t=0;t<v.length;t+=1)r+=v[t],t+1<v.length&&(r+=p);return r};Y.exports=function(p){var r=this;if(typeof r!="function"||e.apply(r)!==P)throw new TypeError(V+r);for(var t=L(arguments,1),o,n=function(){if(this instanceof o){var h=r.apply(this,s(t,arguments));return Object(h)===h?h:this}return r.apply(p,s(t,arguments))},l=b(0,r.length-t.length),u=[],f=0;f<l;f++)u[f]="$"+f;if(o=Function("binder","return function ("+M(u,",")+"){ return binder.apply(this,arguments); }")(n),r.prototype){var g=function(){};g.prototype=r.prototype,o.prototype=new g,g.prototype=null}return o}},8844:function(Y,V,e){var b=e(74336);Y.exports=Function.prototype.bind||b},13380:function(Y){Y.exports=V;function V(e,b){if(typeof e!="string")throw new TypeError("must specify type string");if(b=b||{},typeof document>"u"&&!b.canvas)return null;var P=b.canvas||document.createElement("canvas");typeof b.width=="number"&&(P.width=b.width),typeof b.height=="number"&&(P.height=b.height);var s=b,L;try{var M=[e];e.indexOf("webgl")===0&&M.push("experimental-"+e);for(var v=0;v<M.length;v++)if(L=P.getContext(M[v],s),L)return L}catch{L=null}return L||null}},53664:function(Y,V,e){var b,P=SyntaxError,s=Function,L=TypeError,M=function(m){try{return s('"use strict"; return ('+m+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var p=function(){throw new L},r=v?function(){try{return arguments.callee,p}catch{try{return v(arguments,"callee").get}catch{return p}}}():p,t=e(71080)(),o=e(69572)(),n=Object.getPrototypeOf||(o?function(m){return m.__proto__}:null),l={},u=typeof Uint8Array>"u"||!n?b:n(Uint8Array),f={"%AggregateError%":typeof AggregateError>"u"?b:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?b:ArrayBuffer,"%ArrayIteratorPrototype%":t&&n?n([][Symbol.iterator]()):b,"%AsyncFromSyncIteratorPrototype%":b,"%AsyncFunction%":l,"%AsyncGenerator%":l,"%AsyncGeneratorFunction%":l,"%AsyncIteratorPrototype%":l,"%Atomics%":typeof Atomics>"u"?b:Atomics,"%BigInt%":typeof BigInt>"u"?b:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?b:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?b:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?b:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?b:Float32Array,"%Float64Array%":typeof Float64Array>"u"?b:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?b:FinalizationRegistry,"%Function%":s,"%GeneratorFunction%":l,"%Int8Array%":typeof Int8Array>"u"?b:Int8Array,"%Int16Array%":typeof Int16Array>"u"?b:Int16Array,"%Int32Array%":typeof Int32Array>"u"?b:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":t&&n?n(n([][Symbol.iterator]())):b,"%JSON%":typeof JSON=="object"?JSON:b,"%Map%":typeof Map>"u"?b:Map,"%MapIteratorPrototype%":typeof Map>"u"||!t||!n?b:n(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?b:Promise,"%Proxy%":typeof Proxy>"u"?b:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?b:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?b:Set,"%SetIteratorPrototype%":typeof Set>"u"||!t||!n?b:n(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?b:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":t&&n?n(""[Symbol.iterator]()):b,"%Symbol%":t?Symbol:b,"%SyntaxError%":P,"%ThrowTypeError%":r,"%TypedArray%":u,"%TypeError%":L,"%Uint8Array%":typeof Uint8Array>"u"?b:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?b:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?b:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?b:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?b:WeakMap,"%WeakRef%":typeof WeakRef>"u"?b:WeakRef,"%WeakSet%":typeof WeakSet>"u"?b:WeakSet};if(n)try{null.error}catch(m){var g=n(n(m));f["%Error.prototype%"]=g}var h=function m(k){var I;if(k==="%AsyncFunction%")I=M("async function () {}");else if(k==="%GeneratorFunction%")I=M("function* () {}");else if(k==="%AsyncGeneratorFunction%")I=M("async function* () {}");else if(k==="%AsyncGenerator%"){var O=m("%AsyncGeneratorFunction%");O&&(I=O.prototype)}else if(k==="%AsyncIteratorPrototype%"){var _=m("%AsyncGenerator%");_&&n&&(I=n(_.prototype))}return f[k]=I,I},w={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},c=e(8844),a=e(92064),d=c.call(Function.call,Array.prototype.concat),x=c.call(Function.apply,Array.prototype.splice),T=c.call(Function.call,String.prototype.replace),C=c.call(Function.call,String.prototype.slice),y=c.call(Function.call,RegExp.prototype.exec),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,i=function(k){var I=C(k,0,1),O=C(k,-1);if(I==="%"&&O!=="%")throw new P("invalid intrinsic syntax, expected closing `%`");if(O==="%"&&I!=="%")throw new P("invalid intrinsic syntax, expected opening `%`");var _=[];return T(k,S,function(B,F,z,N){_[_.length]=z?T(N,A,"$1"):F||B}),_},E=function(k,I){var O=k,_;if(a(w,O)&&(_=w[O],O="%"+_[0]+"%"),a(f,O)){var B=f[O];if(B===l&&(B=h(O)),typeof B>"u"&&!I)throw new L("intrinsic "+k+" exists, but is not available. Please file an issue!");return{alias:_,name:O,value:B}}throw new P("intrinsic "+k+" does not exist!")};Y.exports=function(k,I){if(typeof k!="string"||k.length===0)throw new L("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof I!="boolean")throw new L('"allowMissing" argument must be a boolean');if(y(/^%?[^%]*%?$/,k)===null)throw new P("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var O=i(k),_=O.length>0?O[0]:"",B=E("%"+_+"%",I),F=B.name,z=B.value,N=!1,W=B.alias;W&&(_=W[0],x(O,d([0,1],W)));for(var Z=1,q=!0;Z<O.length;Z+=1){var re=O[Z],le=C(re,0,1),ie=C(re,-1);if((le==='"'||le==="'"||le==="`"||ie==='"'||ie==="'"||ie==="`")&&le!==ie)throw new P("property names with quotes must have matching quotes");if((re==="constructor"||!q)&&(N=!0),_+="."+re,F="%"+_+"%",a(f,F))z=f[F];else if(z!=null){if(!(re in z)){if(!I)throw new L("base intrinsic for "+k+" exists, but the property is not available.");return}if(v&&Z+1>=O.length){var K=v(z,re);q=!!K,q&&"get"in K&&!("originalValue"in K.get)?z=K.get:z=z[re]}else q=a(z,re),z=z[re];q&&!N&&(f[F]=z)}}return z}},12408:function(Y){Y.exports=V;function V(e,b){var P=b[0],s=b[1],L=b[2],M=b[3],v=b[4],p=b[5],r=b[6],t=b[7],o=b[8],n=b[9],l=b[10],u=b[11],f=b[12],g=b[13],h=b[14],w=b[15];return e[0]=p*(l*w-u*h)-n*(r*w-t*h)+g*(r*u-t*l),e[1]=-(s*(l*w-u*h)-n*(L*w-M*h)+g*(L*u-M*l)),e[2]=s*(r*w-t*h)-p*(L*w-M*h)+g*(L*t-M*r),e[3]=-(s*(r*u-t*l)-p*(L*u-M*l)+n*(L*t-M*r)),e[4]=-(v*(l*w-u*h)-o*(r*w-t*h)+f*(r*u-t*l)),e[5]=P*(l*w-u*h)-o*(L*w-M*h)+f*(L*u-M*l),e[6]=-(P*(r*w-t*h)-v*(L*w-M*h)+f*(L*t-M*r)),e[7]=P*(r*u-t*l)-v*(L*u-M*l)+o*(L*t-M*r),e[8]=v*(n*w-u*g)-o*(p*w-t*g)+f*(p*u-t*n),e[9]=-(P*(n*w-u*g)-o*(s*w-M*g)+f*(s*u-M*n)),e[10]=P*(p*w-t*g)-v*(s*w-M*g)+f*(s*t-M*p),e[11]=-(P*(p*u-t*n)-v*(s*u-M*n)+o*(s*t-M*p)),e[12]=-(v*(n*h-l*g)-o*(p*h-r*g)+f*(p*l-r*n)),e[13]=P*(n*h-l*g)-o*(s*h-L*g)+f*(s*l-L*n),e[14]=-(P*(p*h-r*g)-v*(s*h-L*g)+f*(s*r-L*p)),e[15]=P*(p*l-r*n)-v*(s*l-L*n)+o*(s*r-L*p),e}},76860:function(Y){Y.exports=V;function V(e){var b=new Float32Array(16);return b[0]=e[0],b[1]=e[1],b[2]=e[2],b[3]=e[3],b[4]=e[4],b[5]=e[5],b[6]=e[6],b[7]=e[7],b[8]=e[8],b[9]=e[9],b[10]=e[10],b[11]=e[11],b[12]=e[12],b[13]=e[13],b[14]=e[14],b[15]=e[15],b}},64492:function(Y){Y.exports=V;function V(e,b){return e[0]=b[0],e[1]=b[1],e[2]=b[2],e[3]=b[3],e[4]=b[4],e[5]=b[5],e[6]=b[6],e[7]=b[7],e[8]=b[8],e[9]=b[9],e[10]=b[10],e[11]=b[11],e[12]=b[12],e[13]=b[13],e[14]=b[14],e[15]=b[15],e}},54212:function(Y){Y.exports=V;function V(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},70800:function(Y){Y.exports=V;function V(e){var b=e[0],P=e[1],s=e[2],L=e[3],M=e[4],v=e[5],p=e[6],r=e[7],t=e[8],o=e[9],n=e[10],l=e[11],u=e[12],f=e[13],g=e[14],h=e[15],w=b*v-P*M,c=b*p-s*M,a=b*r-L*M,d=P*p-s*v,x=P*r-L*v,T=s*r-L*p,C=t*f-o*u,y=t*g-n*u,S=t*h-l*u,A=o*g-n*f,i=o*h-l*f,E=n*h-l*g;return w*E-c*i+a*A+d*S-x*y+T*C}},61784:function(Y){Y.exports=V;function V(e,b){var P=b[0],s=b[1],L=b[2],M=b[3],v=P+P,p=s+s,r=L+L,t=P*v,o=s*v,n=s*p,l=L*v,u=L*p,f=L*r,g=M*v,h=M*p,w=M*r;return e[0]=1-n-f,e[1]=o+w,e[2]=l-h,e[3]=0,e[4]=o-w,e[5]=1-t-f,e[6]=u+g,e[7]=0,e[8]=l+h,e[9]=u-g,e[10]=1-t-n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},91616:function(Y){Y.exports=V;function V(e,b,P){var s,L,M,v=P[0],p=P[1],r=P[2],t=Math.sqrt(v*v+p*p+r*r);return Math.abs(t)<1e-6?null:(t=1/t,v*=t,p*=t,r*=t,s=Math.sin(b),L=Math.cos(b),M=1-L,e[0]=v*v*M+L,e[1]=p*v*M+r*s,e[2]=r*v*M-p*s,e[3]=0,e[4]=v*p*M-r*s,e[5]=p*p*M+L,e[6]=r*p*M+v*s,e[7]=0,e[8]=v*r*M+p*s,e[9]=p*r*M-v*s,e[10]=r*r*M+L,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},51944:function(Y){Y.exports=V;function V(e,b,P){var s=b[0],L=b[1],M=b[2],v=b[3],p=s+s,r=L+L,t=M+M,o=s*p,n=s*r,l=s*t,u=L*r,f=L*t,g=M*t,h=v*p,w=v*r,c=v*t;return e[0]=1-(u+g),e[1]=n+c,e[2]=l-w,e[3]=0,e[4]=n-c,e[5]=1-(o+g),e[6]=f+h,e[7]=0,e[8]=l+w,e[9]=f-h,e[10]=1-(o+u),e[11]=0,e[12]=P[0],e[13]=P[1],e[14]=P[2],e[15]=1,e}},69444:function(Y){Y.exports=V;function V(e,b){return e[0]=b[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=b[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=b[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},48268:function(Y){Y.exports=V;function V(e,b){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=b[0],e[13]=b[1],e[14]=b[2],e[15]=1,e}},21856:function(Y){Y.exports=V;function V(e,b){var P=Math.sin(b),s=Math.cos(b);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=P,e[7]=0,e[8]=0,e[9]=-P,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79216:function(Y){Y.exports=V;function V(e,b){var P=Math.sin(b),s=Math.cos(b);return e[0]=s,e[1]=0,e[2]=-P,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=P,e[9]=0,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},57736:function(Y){Y.exports=V;function V(e,b){var P=Math.sin(b),s=Math.cos(b);return e[0]=s,e[1]=P,e[2]=0,e[3]=0,e[4]=-P,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},38848:function(Y){Y.exports=V;function V(e,b,P,s,L,M,v){var p=1/(P-b),r=1/(L-s),t=1/(M-v);return e[0]=M*2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=M*2*r,e[6]=0,e[7]=0,e[8]=(P+b)*p,e[9]=(L+s)*r,e[10]=(v+M)*t,e[11]=-1,e[12]=0,e[13]=0,e[14]=v*M*2*t,e[15]=0,e}},36635:function(Y){Y.exports=V;function V(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},36524:function(Y,V,e){Y.exports={create:e(54212),clone:e(76860),copy:e(64492),identity:e(36635),transpose:e(86520),invert:e(4308),adjoint:e(12408),determinant:e(70800),multiply:e(80944),translate:e(35176),scale:e(68152),rotate:e(30016),rotateX:e(15456),rotateY:e(64840),rotateZ:e(4192),fromRotation:e(91616),fromRotationTranslation:e(51944),fromScaling:e(69444),fromTranslation:e(48268),fromXRotation:e(21856),fromYRotation:e(79216),fromZRotation:e(57736),fromQuat:e(61784),frustum:e(38848),perspective:e(51296),perspectiveFromFieldOfView:e(63688),ortho:e(97688),lookAt:e(56508),str:e(89412)}},4308:function(Y){Y.exports=V;function V(e,b){var P=b[0],s=b[1],L=b[2],M=b[3],v=b[4],p=b[5],r=b[6],t=b[7],o=b[8],n=b[9],l=b[10],u=b[11],f=b[12],g=b[13],h=b[14],w=b[15],c=P*p-s*v,a=P*r-L*v,d=P*t-M*v,x=s*r-L*p,T=s*t-M*p,C=L*t-M*r,y=o*g-n*f,S=o*h-l*f,A=o*w-u*f,i=n*h-l*g,E=n*w-u*g,m=l*w-u*h,k=c*m-a*E+d*i+x*A-T*S+C*y;return k?(k=1/k,e[0]=(p*m-r*E+t*i)*k,e[1]=(L*E-s*m-M*i)*k,e[2]=(g*C-h*T+w*x)*k,e[3]=(l*T-n*C-u*x)*k,e[4]=(r*A-v*m-t*S)*k,e[5]=(P*m-L*A+M*S)*k,e[6]=(h*d-f*C-w*a)*k,e[7]=(o*C-l*d+u*a)*k,e[8]=(v*E-p*A+t*y)*k,e[9]=(s*A-P*E-M*y)*k,e[10]=(f*T-g*d+w*c)*k,e[11]=(n*d-o*T-u*c)*k,e[12]=(p*S-v*i-r*y)*k,e[13]=(P*i-s*S+L*y)*k,e[14]=(g*a-f*x-h*c)*k,e[15]=(o*x-n*a+l*c)*k,e):null}},56508:function(Y,V,e){var b=e(36635);Y.exports=P;function P(s,L,M,v){var p,r,t,o,n,l,u,f,g,h,w=L[0],c=L[1],a=L[2],d=v[0],x=v[1],T=v[2],C=M[0],y=M[1],S=M[2];return Math.abs(w-C)<1e-6&&Math.abs(c-y)<1e-6&&Math.abs(a-S)<1e-6?b(s):(u=w-C,f=c-y,g=a-S,h=1/Math.sqrt(u*u+f*f+g*g),u*=h,f*=h,g*=h,p=x*g-T*f,r=T*u-d*g,t=d*f-x*u,h=Math.sqrt(p*p+r*r+t*t),h?(h=1/h,p*=h,r*=h,t*=h):(p=0,r=0,t=0),o=f*t-g*r,n=g*p-u*t,l=u*r-f*p,h=Math.sqrt(o*o+n*n+l*l),h?(h=1/h,o*=h,n*=h,l*=h):(o=0,n=0,l=0),s[0]=p,s[1]=o,s[2]=u,s[3]=0,s[4]=r,s[5]=n,s[6]=f,s[7]=0,s[8]=t,s[9]=l,s[10]=g,s[11]=0,s[12]=-(p*w+r*c+t*a),s[13]=-(o*w+n*c+l*a),s[14]=-(u*w+f*c+g*a),s[15]=1,s)}},80944:function(Y){Y.exports=V;function V(e,b,P){var s=b[0],L=b[1],M=b[2],v=b[3],p=b[4],r=b[5],t=b[6],o=b[7],n=b[8],l=b[9],u=b[10],f=b[11],g=b[12],h=b[13],w=b[14],c=b[15],a=P[0],d=P[1],x=P[2],T=P[3];return e[0]=a*s+d*p+x*n+T*g,e[1]=a*L+d*r+x*l+T*h,e[2]=a*M+d*t+x*u+T*w,e[3]=a*v+d*o+x*f+T*c,a=P[4],d=P[5],x=P[6],T=P[7],e[4]=a*s+d*p+x*n+T*g,e[5]=a*L+d*r+x*l+T*h,e[6]=a*M+d*t+x*u+T*w,e[7]=a*v+d*o+x*f+T*c,a=P[8],d=P[9],x=P[10],T=P[11],e[8]=a*s+d*p+x*n+T*g,e[9]=a*L+d*r+x*l+T*h,e[10]=a*M+d*t+x*u+T*w,e[11]=a*v+d*o+x*f+T*c,a=P[12],d=P[13],x=P[14],T=P[15],e[12]=a*s+d*p+x*n+T*g,e[13]=a*L+d*r+x*l+T*h,e[14]=a*M+d*t+x*u+T*w,e[15]=a*v+d*o+x*f+T*c,e}},97688:function(Y){Y.exports=V;function V(e,b,P,s,L,M,v){var p=1/(b-P),r=1/(s-L),t=1/(M-v);return e[0]=-2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*t,e[11]=0,e[12]=(b+P)*p,e[13]=(L+s)*r,e[14]=(v+M)*t,e[15]=1,e}},51296:function(Y){Y.exports=V;function V(e,b,P,s,L){var M=1/Math.tan(b/2),v=1/(s-L);return e[0]=M/P,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=M,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(L+s)*v,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*L*s*v,e[15]=0,e}},63688:function(Y){Y.exports=V;function V(e,b,P,s){var L=Math.tan(b.upDegrees*Math.PI/180),M=Math.tan(b.downDegrees*Math.PI/180),v=Math.tan(b.leftDegrees*Math.PI/180),p=Math.tan(b.rightDegrees*Math.PI/180),r=2/(v+p),t=2/(L+M);return e[0]=r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=-((v-p)*r*.5),e[9]=(L-M)*t*.5,e[10]=s/(P-s),e[11]=-1,e[12]=0,e[13]=0,e[14]=s*P/(P-s),e[15]=0,e}},30016:function(Y){Y.exports=V;function V(e,b,P,s){var L=s[0],M=s[1],v=s[2],p=Math.sqrt(L*L+M*M+v*v),r,t,o,n,l,u,f,g,h,w,c,a,d,x,T,C,y,S,A,i,E,m,k,I;return Math.abs(p)<1e-6?null:(p=1/p,L*=p,M*=p,v*=p,r=Math.sin(P),t=Math.cos(P),o=1-t,n=b[0],l=b[1],u=b[2],f=b[3],g=b[4],h=b[5],w=b[6],c=b[7],a=b[8],d=b[9],x=b[10],T=b[11],C=L*L*o+t,y=M*L*o+v*r,S=v*L*o-M*r,A=L*M*o-v*r,i=M*M*o+t,E=v*M*o+L*r,m=L*v*o+M*r,k=M*v*o-L*r,I=v*v*o+t,e[0]=n*C+g*y+a*S,e[1]=l*C+h*y+d*S,e[2]=u*C+w*y+x*S,e[3]=f*C+c*y+T*S,e[4]=n*A+g*i+a*E,e[5]=l*A+h*i+d*E,e[6]=u*A+w*i+x*E,e[7]=f*A+c*i+T*E,e[8]=n*m+g*k+a*I,e[9]=l*m+h*k+d*I,e[10]=u*m+w*k+x*I,e[11]=f*m+c*k+T*I,b!==e&&(e[12]=b[12],e[13]=b[13],e[14]=b[14],e[15]=b[15]),e)}},15456:function(Y){Y.exports=V;function V(e,b,P){var s=Math.sin(P),L=Math.cos(P),M=b[4],v=b[5],p=b[6],r=b[7],t=b[8],o=b[9],n=b[10],l=b[11];return b!==e&&(e[0]=b[0],e[1]=b[1],e[2]=b[2],e[3]=b[3],e[12]=b[12],e[13]=b[13],e[14]=b[14],e[15]=b[15]),e[4]=M*L+t*s,e[5]=v*L+o*s,e[6]=p*L+n*s,e[7]=r*L+l*s,e[8]=t*L-M*s,e[9]=o*L-v*s,e[10]=n*L-p*s,e[11]=l*L-r*s,e}},64840:function(Y){Y.exports=V;function V(e,b,P){var s=Math.sin(P),L=Math.cos(P),M=b[0],v=b[1],p=b[2],r=b[3],t=b[8],o=b[9],n=b[10],l=b[11];return b!==e&&(e[4]=b[4],e[5]=b[5],e[6]=b[6],e[7]=b[7],e[12]=b[12],e[13]=b[13],e[14]=b[14],e[15]=b[15]),e[0]=M*L-t*s,e[1]=v*L-o*s,e[2]=p*L-n*s,e[3]=r*L-l*s,e[8]=M*s+t*L,e[9]=v*s+o*L,e[10]=p*s+n*L,e[11]=r*s+l*L,e}},4192:function(Y){Y.exports=V;function V(e,b,P){var s=Math.sin(P),L=Math.cos(P),M=b[0],v=b[1],p=b[2],r=b[3],t=b[4],o=b[5],n=b[6],l=b[7];return b!==e&&(e[8]=b[8],e[9]=b[9],e[10]=b[10],e[11]=b[11],e[12]=b[12],e[13]=b[13],e[14]=b[14],e[15]=b[15]),e[0]=M*L+t*s,e[1]=v*L+o*s,e[2]=p*L+n*s,e[3]=r*L+l*s,e[4]=t*L-M*s,e[5]=o*L-v*s,e[6]=n*L-p*s,e[7]=l*L-r*s,e}},68152:function(Y){Y.exports=V;function V(e,b,P){var s=P[0],L=P[1],M=P[2];return e[0]=b[0]*s,e[1]=b[1]*s,e[2]=b[2]*s,e[3]=b[3]*s,e[4]=b[4]*L,e[5]=b[5]*L,e[6]=b[6]*L,e[7]=b[7]*L,e[8]=b[8]*M,e[9]=b[9]*M,e[10]=b[10]*M,e[11]=b[11]*M,e[12]=b[12],e[13]=b[13],e[14]=b[14],e[15]=b[15],e}},89412:function(Y){Y.exports=V;function V(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},35176:function(Y){Y.exports=V;function V(e,b,P){var s=P[0],L=P[1],M=P[2],v,p,r,t,o,n,l,u,f,g,h,w;return b===e?(e[12]=b[0]*s+b[4]*L+b[8]*M+b[12],e[13]=b[1]*s+b[5]*L+b[9]*M+b[13],e[14]=b[2]*s+b[6]*L+b[10]*M+b[14],e[15]=b[3]*s+b[7]*L+b[11]*M+b[15]):(v=b[0],p=b[1],r=b[2],t=b[3],o=b[4],n=b[5],l=b[6],u=b[7],f=b[8],g=b[9],h=b[10],w=b[11],e[0]=v,e[1]=p,e[2]=r,e[3]=t,e[4]=o,e[5]=n,e[6]=l,e[7]=u,e[8]=f,e[9]=g,e[10]=h,e[11]=w,e[12]=v*s+o*L+f*M+b[12],e[13]=p*s+n*L+g*M+b[13],e[14]=r*s+l*L+h*M+b[14],e[15]=t*s+u*L+w*M+b[15]),e}},86520:function(Y){Y.exports=V;function V(e,b){if(e===b){var P=b[1],s=b[2],L=b[3],M=b[6],v=b[7],p=b[11];e[1]=b[4],e[2]=b[8],e[3]=b[12],e[4]=P,e[6]=b[9],e[7]=b[13],e[8]=s,e[9]=M,e[11]=b[14],e[12]=L,e[13]=v,e[14]=p}else e[0]=b[0],e[1]=b[4],e[2]=b[8],e[3]=b[12],e[4]=b[1],e[5]=b[5],e[6]=b[9],e[7]=b[13],e[8]=b[2],e[9]=b[6],e[10]=b[10],e[11]=b[14],e[12]=b[3],e[13]=b[7],e[14]=b[11],e[15]=b[15];return e}},23352:function(Y,V,e){var b=e(42771),P=e(55616),s=e(28624),L=e(55212),M=e(60463),v=e(72160),p=e(33888),r=e(14144),t=e(51160),o=e(58908),n=e(65819),l=e(23464),u=e(63768),f=e(50896),g=e(71920),h=e(47520),w=e(308),c=w.nextPow2,a=new M,d=!1;if(document.body){var x=document.body.appendChild(document.createElement("div"));x.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(x).fontStretch&&(d=!0),document.body.removeChild(x)}var T=function(S){C(S)?(S={regl:S},this.gl=S.regl._gl):this.gl=L(S),this.shader=a.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=S.regl||s({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),a.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(o(S)?S:{})};T.prototype.createShader=function(){var S=this.regl,A=S({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:S.prop("count"),offset:S.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:S.this("sizeBuffer")},width:{offset:0,stride:8,buffer:S.this("sizeBuffer")},char:S.this("charBuffer"),position:S.this("position")},uniforms:{atlasSize:function(E,m){return[m.atlas.width,m.atlas.height]},atlasDim:function(E,m){return[m.atlas.cols,m.atlas.rows]},atlas:function(E,m){return m.atlas.texture},charStep:function(E,m){return m.atlas.step},em:function(E,m){return m.atlas.em},color:S.prop("color"),opacity:S.prop("opacity"),viewport:S.this("viewportArray"),scale:S.this("scale"),align:S.prop("align"),baseline:S.prop("baseline"),translate:S.this("translate"),positionOffset:S.prop("positionOffset")},primitive:"points",viewport:S.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),i={};return{regl:S,draw:A,atlas:i}},T.prototype.update=function(S){var A=this;if(typeof S=="string")S={text:S};else if(!S)return;S=P(S,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),S.opacity!=null&&(Array.isArray(S.opacity)?this.opacity=S.opacity.map(function(Se){return parseFloat(Se)}):this.opacity=parseFloat(S.opacity)),S.viewport!=null&&(this.viewport=t(S.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),S.kerning!=null&&(this.kerning=S.kerning),S.offset!=null&&(typeof S.offset=="number"&&(S.offset=[S.offset,0]),this.positionOffset=h(S.offset)),S.direction&&(this.direction=S.direction),S.range&&(this.range=S.range,this.scale=[1/(S.range[2]-S.range[0]),1/(S.range[3]-S.range[1])],this.translate=[-S.range[0],-S.range[1]]),S.scale&&(this.scale=S.scale),S.translate&&(this.translate=S.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!S.font&&(S.font=T.baseFontSize+"px sans-serif");var i=!1,E=!1;if(S.font&&(Array.isArray(S.font)?S.font:[S.font]).forEach(function(Se,He){if(typeof Se=="string")try{Se=b.parse(Se)}catch{Se=b.parse(T.baseFontSize+"px "+Se)}else{var je=Se.style,at=Se.weight,Ze=Se.stretch,$e=Se.variant;Se=b.parse(b.stringify(Se)),je&&(Se.style=je),at&&(Se.weight=at),Ze&&(Se.stretch=Ze),$e&&(Se.variant=$e)}var ut=b.stringify({size:T.baseFontSize,family:Se.family,stretch:d?Se.stretch:void 0,variant:Se.variant,weight:Se.weight,style:Se.style}),ht=n(Se.size),vt=Math.round(ht[0]*l(ht[1]));if(vt!==A.fontSize[He]&&(E=!0,A.fontSize[He]=vt),(!A.font[He]||ut!=A.font[He].baseString)&&(i=!0,A.font[He]=T.fonts[ut],!A.font[He])){var xt=Se.family.join(", "),St=[Se.style];Se.style!=Se.variant&&St.push(Se.variant),Se.variant!=Se.weight&&St.push(Se.weight),d&&Se.weight!=Se.stretch&&St.push(Se.stretch),A.font[He]={baseString:ut,family:xt,weight:Se.weight,stretch:Se.stretch,style:Se.style,variant:Se.variant,width:{},kerning:{},metrics:g(xt,{origin:"top",fontSize:T.baseFontSize,fontStyle:St.join(" ")})},T.fonts[ut]=A.font[He]}}),(i||E)&&this.font.forEach(function(Se,He){var je=b.stringify({size:A.fontSize[He],family:Se.family,stretch:d?Se.stretch:void 0,variant:Se.variant,weight:Se.weight,style:Se.style});if(A.fontAtlas[He]=A.shader.atlas[je],!A.fontAtlas[He]){var at=Se.metrics;A.shader.atlas[je]=A.fontAtlas[He]={fontString:je,step:Math.ceil(A.fontSize[He]*at.bottom*.5)*2,em:A.fontSize[He],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:A.regl.texture()}}S.text==null&&(S.text=A.text)}),typeof S.text=="string"&&S.position&&S.position.length>2){for(var m=Array(S.position.length*.5),k=0;k<m.length;k++)m[k]=S.text;S.text=m}var I;if(S.text!=null||i){if(this.textOffsets=[0],Array.isArray(S.text)){this.count=S.text[0].length,this.counts=[this.count];for(var O=1;O<S.text.length;O++)this.textOffsets[O]=this.textOffsets[O-1]+S.text[O-1].length,this.count+=S.text[O].length,this.counts.push(S.text[O].length);this.text=S.text.join("")}else this.text=S.text,this.count=this.text.length,this.counts=[this.count];I=[],this.font.forEach(function(Se,He){T.atlasContext.font=Se.baseString;for(var je=A.fontAtlas[He],at=0;at<A.text.length;at++){var Ze=A.text.charAt(at);if(je.ids[Ze]==null&&(je.ids[Ze]=je.chars.length,je.chars.push(Ze),I.push(Ze)),Se.width[Ze]==null&&(Se.width[Ze]=T.atlasContext.measureText(Ze).width/T.baseFontSize,A.kerning)){var $e=[];for(var ut in Se.width)$e.push(ut+Ze,Ze+ut);f(Se.kerning,u(Se.family,{pairs:$e}))}}})}if(S.position)if(S.position.length>2){for(var _=!S.position[0].length,B=r.mallocFloat(this.count*2),F=0,z=0;F<this.counts.length;F++){var N=this.counts[F];if(_)for(var W=0;W<N;W++)B[z++]=S.position[F*2],B[z++]=S.position[F*2+1];else for(var Z=0;Z<N;Z++)B[z++]=S.position[F][0],B[z++]=S.position[F][1]}this.position.call?this.position({type:"float",data:B}):this.position=this.regl.buffer({type:"float",data:B}),r.freeFloat(B)}else this.position.destroy&&this.position.destroy(),this.position={constant:S.position};if(S.text||i){var q=r.mallocUint8(this.count),re=r.mallocFloat(this.count*2);this.textWidth=[];for(var le=0,ie=0;le<this.counts.length;le++){for(var K=this.counts[le],$=this.font[le]||this.font[0],X=this.fontAtlas[le]||this.fontAtlas[0],Q=0;Q<K;Q++){var se=this.text.charAt(ie),J=this.text.charAt(ie-1);if(q[ie]=X.ids[se],re[ie*2]=$.width[se],Q){var G=re[ie*2-2],oe=re[ie*2],te=re[ie*2-1],fe=te+G*.5+oe*.5;if(this.kerning){var ge=$.kerning[J+se];ge&&(fe+=ge*.001)}re[ie*2+1]=fe}else re[ie*2+1]=re[ie*2]*.5;ie++}this.textWidth.push(re.length?re[ie*2-2]*.5+re[ie*2-1]:0)}S.align||(S.align=this.align),this.charBuffer({data:q,type:"uint8",usage:"stream"}),this.sizeBuffer({data:re,type:"float",usage:"stream"}),r.freeUint8(q),r.freeFloat(re),I.length&&this.font.forEach(function(Se,He){var je=A.fontAtlas[He],at=je.step,Ze=Math.floor(T.maxAtlasSize/at),$e=Math.min(Ze,je.chars.length),ut=Math.ceil(je.chars.length/$e),ht=c($e*at),vt=c(ut*at);je.width=ht,je.height=vt,je.rows=ut,je.cols=$e,je.em&&je.texture({data:p({canvas:T.atlasCanvas,font:je.fontString,chars:je.chars,shape:[ht,vt],step:[at,at]})})})}if(S.align&&(this.align=S.align,this.alignOffset=this.textWidth.map(function(Se,He){var je=Array.isArray(A.align)?A.align.length>1?A.align[He]:A.align[0]:A.align;if(typeof je=="number")return je;switch(je){case"right":case"end":return-Se;case"center":case"centre":case"middle":return-Se*.5}return 0})),this.baseline==null&&S.baseline==null&&(S.baseline=0),S.baseline!=null&&(this.baseline=S.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(Se,He){var je=(A.font[He]||A.font[0]).metrics,at=0;return at+=je.bottom*.5,typeof Se=="number"?at+=Se-je.baseline:at+=-je[Se],at*=-1,at})),S.color!=null)if(S.color||(S.color="transparent"),typeof S.color=="string"||!isNaN(S.color))this.color=v(S.color,"uint8");else{var we;if(typeof S.color[0]=="number"&&S.color.length>this.counts.length){var xe=S.color.length;we=r.mallocUint8(xe);for(var Ce=(S.color.subarray||S.color.slice).bind(S.color),De=0;De<xe;De+=4)we.set(v(Ce(De,De+4),"uint8"),De)}else{var Oe=S.color.length;we=r.mallocUint8(Oe*4);for(var Te=0;Te<Oe;Te++)we.set(v(S.color[Te]||0,"uint8"),Te*4)}this.color=we}if(S.position||S.text||S.color||S.baseline||S.align||S.font||S.offset||S.opacity){var Re=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(Re){var Me=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(Me);for(var ke=0;ke<this.batch.length;ke++)this.batch[ke]={count:this.counts.length>1?this.counts[ke]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[ke]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(ke*4,ke*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[ke]:this.opacity,baseline:this.baselineOffset[ke]!=null?this.baselineOffset[ke]:this.baselineOffset[0],align:this.align?this.alignOffset[ke]!=null?this.alignOffset[ke]:this.alignOffset[0]:0,atlas:this.fontAtlas[ke]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(ke*2,ke*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},T.prototype.destroy=function(){},T.prototype.kerning=!0,T.prototype.position={constant:new Float32Array(2)},T.prototype.translate=null,T.prototype.scale=null,T.prototype.font=null,T.prototype.text="",T.prototype.positionOffset=[0,0],T.prototype.opacity=1,T.prototype.color=new Uint8Array([0,0,0,255]),T.prototype.alignOffset=[0,0],T.maxAtlasSize=1024,T.atlasCanvas=document.createElement("canvas"),T.atlasContext=T.atlasCanvas.getContext("2d",{alpha:!1}),T.baseFontSize=64,T.fonts={};function C(y){return typeof y=="function"&&y._gl&&y.prop&&y.texture&&y.buffer}Y.exports=T},55212:function(Y,V,e){var b=e(55616);Y.exports=function(r){if(r?typeof r=="string"&&(r={container:r}):r={},s(r)?r={container:r}:L(r)?r={container:r}:M(r)?r={gl:r}:r=b(r,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),r.pixelRatio||(r.pixelRatio=e.g.pixelRatio||1),r.gl)return r.gl;if(r.canvas&&(r.container=r.canvas.parentNode),r.container){if(typeof r.container=="string"){var t=document.querySelector(r.container);if(!t)throw Error("Element "+r.container+" is not found");r.container=t}s(r.container)?(r.canvas=r.container,r.container=r.canvas.parentNode):r.canvas||(r.canvas=v(),r.container.appendChild(r.canvas),P(r))}else if(!r.canvas)if(typeof document<"u")r.container=document.body||document.documentElement,r.canvas=v(),r.container.appendChild(r.canvas),P(r);else throw Error("Not DOM environment. Use headless-gl.");return r.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(o){try{r.gl=r.canvas.getContext(o,r.attrs)}catch{}return r.gl}),r.gl};function P(p){if(p.container)if(p.container==document.body)document.body.style.width||(p.canvas.width=p.width||p.pixelRatio*e.g.innerWidth),document.body.style.height||(p.canvas.height=p.height||p.pixelRatio*e.g.innerHeight);else{var r=p.container.getBoundingClientRect();p.canvas.width=p.width||r.right-r.left,p.canvas.height=p.height||r.bottom-r.top}}function s(p){return typeof p.getContext=="function"&&"width"in p&&"height"in p}function L(p){return typeof p.nodeName=="string"&&typeof p.appendChild=="function"&&typeof p.getBoundingClientRect=="function"}function M(p){return typeof p.drawArrays=="function"||typeof p.drawElements=="function"}function v(){var p=document.createElement("canvas");return p.style.position="absolute",p.style.top=0,p.style.left=0,p}},26444:function(Y){Y.exports=function(V){typeof V=="string"&&(V=[V]);for(var e=[].slice.call(arguments,1),b=[],P=0;P<V.length-1;P++)b.push(V[P],e[P]||"");return b.push(V[P]),b.join("")}},2304:function(Y,V,e){var b=e(53664),P=b("%Object.getOwnPropertyDescriptor%",!0);if(P)try{P([],"length")}catch{P=null}Y.exports=P},52264:function(Y,V,e){var b=e(24200),P;typeof e.g.matchMedia=="function"?P=!e.g.matchMedia("(hover: none)").matches:P=b,Y.exports=P},89184:function(Y,V,e){var b=e(24200);function P(){var s=!1;try{var L=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("test",null,L),window.removeEventListener("test",null,L)}catch{s=!1}return s}Y.exports=b&&P()},39640:function(Y,V,e){var b=e(53664),P=b("%Object.defineProperty%",!0),s=function(){if(P)try{return P({},"a",{value:1}),!0}catch{return!1}return!1};s.hasArrayLengthDefineBug=function(){if(!s())return null;try{return P([],"length",{value:1}).length!==1}catch{return!0}},Y.exports=s},69572:function(Y){var V={foo:{}},e=Object;Y.exports=function(){return{__proto__:V}.foo===V.foo&&!({__proto__:null}instanceof e)}},71080:function(Y,V,e){var b=typeof Symbol<"u"&&Symbol,P=e(89320);Y.exports=function(){return typeof b!="function"||typeof Symbol!="function"||typeof b("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:P()}},89320:function(Y){Y.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},b=Symbol("test"),P=Object(b);if(typeof b=="string"||Object.prototype.toString.call(b)!=="[object Symbol]"||Object.prototype.toString.call(P)!=="[object Symbol]")return!1;var s=42;e[b]=s;for(b in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var L=Object.getOwnPropertySymbols(e);if(L.length!==1||L[0]!==b||!Object.prototype.propertyIsEnumerable.call(e,b))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var M=Object.getOwnPropertyDescriptor(e,b);if(M.value!==s||M.enumerable!==!0)return!1}return!0}},46672:function(Y,V,e){var b=e(89320);Y.exports=function(){return b()&&!!Symbol.toStringTag}},92064:function(Y,V,e){var b=Function.prototype.call,P=Object.prototype.hasOwnProperty,s=e(8844);Y.exports=s.call(b,P)},35984:function(Y,V){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */V.read=function(e,b,P,s,L){var M,v,p=L*8-s-1,r=(1<<p)-1,t=r>>1,o=-7,n=P?L-1:0,l=P?-1:1,u=e[b+n];for(n+=l,M=u&(1<<-o)-1,u>>=-o,o+=p;o>0;M=M*256+e[b+n],n+=l,o-=8);for(v=M&(1<<-o)-1,M>>=-o,o+=s;o>0;v=v*256+e[b+n],n+=l,o-=8);if(M===0)M=1-t;else{if(M===r)return v?NaN:(u?-1:1)*(1/0);v=v+Math.pow(2,s),M=M-t}return(u?-1:1)*v*Math.pow(2,M-s)},V.write=function(e,b,P,s,L,M){var v,p,r,t=M*8-L-1,o=(1<<t)-1,n=o>>1,l=L===23?Math.pow(2,-24)-Math.pow(2,-77):0,u=s?0:M-1,f=s?1:-1,g=b<0||b===0&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(p=isNaN(b)?1:0,v=o):(v=Math.floor(Math.log(b)/Math.LN2),b*(r=Math.pow(2,-v))<1&&(v--,r*=2),v+n>=1?b+=l/r:b+=l*Math.pow(2,1-n),b*r>=2&&(v++,r/=2),v+n>=o?(p=0,v=o):v+n>=1?(p=(b*r-1)*Math.pow(2,L),v=v+n):(p=b*Math.pow(2,n-1)*Math.pow(2,L),v=0));L>=8;e[P+u]=p&255,u+=f,p/=256,L-=8);for(v=v<<L|p,t+=L;t>0;e[P+u]=v&255,u+=f,v/=256,t-=8);e[P+u-f]|=g*128}},6768:function(Y){typeof Object.create=="function"?Y.exports=function(e,b){b&&(e.super_=b,e.prototype=Object.create(b.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Y.exports=function(e,b){if(b){e.super_=b;var P=function(){};P.prototype=b.prototype,e.prototype=new P,e.prototype.constructor=e}}},91148:function(Y,V,e){var b=e(46672)(),P=e(99676),s=P("Object.prototype.toString"),L=function(r){return b&&r&&typeof r=="object"&&Symbol.toStringTag in r?!1:s(r)==="[object Arguments]"},M=function(r){return L(r)?!0:r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&s(r)!=="[object Array]"&&s(r.callee)==="[object Function]"},v=function(){return L(arguments)}();L.isLegacyArguments=M,Y.exports=v?L:M},24200:function(Y){Y.exports=!0},90720:function(Y){var V=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,b,P;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{b=Object.defineProperty({},"length",{get:function(){throw P}}),P={},e(function(){throw 42},null,b)}catch(w){w!==P&&(e=null)}else e=null;var s=/^\s*class\b/,L=function(c){try{var a=V.call(c);return s.test(a)}catch{return!1}},M=function(c){try{return L(c)?!1:(V.call(c),!0)}catch{return!1}},v=Object.prototype.toString,p="[object Object]",r="[object Function]",t="[object GeneratorFunction]",o="[object HTMLAllCollection]",n="[object HTML document.all class]",l="[object HTMLCollection]",u=typeof Symbol=="function"&&!!Symbol.toStringTag,f=!(0 in[,]),g=function(){return!1};if(typeof document=="object"){var h=document.all;v.call(h)===v.call(document.all)&&(g=function(c){if((f||!c)&&(typeof c>"u"||typeof c=="object"))try{var a=v.call(c);return(a===o||a===n||a===l||a===p)&&c("")==null}catch{}return!1})}Y.exports=e?function(c){if(g(c))return!0;if(!c||typeof c!="function"&&typeof c!="object")return!1;try{e(c,null,b)}catch(a){if(a!==P)return!1}return!L(c)&&M(c)}:function(c){if(g(c))return!0;if(!c||typeof c!="function"&&typeof c!="object")return!1;if(u)return M(c);if(L(c))return!1;var a=v.call(c);return a!==r&&a!==t&&!/^\[object HTML/.test(a)?!1:M(c)}},84420:function(Y,V,e){var b=Object.prototype.toString,P=Function.prototype.toString,s=/^\s*(?:function)?\*/,L=e(46672)(),M=Object.getPrototypeOf,v=function(){if(!L)return!1;try{return Function("return function*() {}")()}catch{}},p;Y.exports=function(t){if(typeof t!="function")return!1;if(s.test(P.call(t)))return!0;if(!L){var o=b.call(t);return o==="[object GeneratorFunction]"}if(!M)return!1;if(typeof p>"u"){var n=v();p=n?M(n):!1}return M(t)===p}},96604:function(Y){Y.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},85992:function(Y){Y.exports=function(e){return e!==e}},1560:function(Y,V,e){var b=e(57916),P=e(81288),s=e(85992),L=e(57740),M=e(59736),v=b(L(),Number);P(v,{getPolyfill:L,implementation:s,shim:M}),Y.exports=v},57740:function(Y,V,e){var b=e(85992);Y.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:b}},59736:function(Y,V,e){var b=e(81288),P=e(57740);Y.exports=function(){var L=P();return b(Number,{isNaN:L},{isNaN:function(){return Number.isNaN!==L}}),L}},18400:function(Y){Y.exports=function(V){var e=typeof V;return V!==null&&(e==="object"||e==="function")}},58908:function(Y){var V=Object.prototype.toString;Y.exports=function(e){var b;return V.call(e)==="[object Object]"&&(b=Object.getPrototypeOf(e),b===null||b===Object.getPrototypeOf({}))}},94576:function(Y){Y.exports=function(V){for(var e=V.length,b,P=0;P<e;P++)if(b=V.charCodeAt(P),(b<9||b>13)&&b!==32&&b!==133&&b!==160&&b!==5760&&b!==6158&&(b<8192||b>8205)&&b!==8232&&b!==8233&&b!==8239&&b!==8287&&b!==8288&&b!==12288&&b!==65279)return!1;return!0}},53520:function(Y){Y.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},7728:function(Y,V,e){var b=e(46492),P=e(63436),s=e(99676),L=s("Object.prototype.toString"),M=e(46672)(),v=e(2304),p=typeof globalThis>"u"?e.g:globalThis,r=P(),t=s("Array.prototype.indexOf",!0)||function(g,h){for(var w=0;w<g.length;w+=1)if(g[w]===h)return w;return-1},o=s("String.prototype.slice"),n={},l=Object.getPrototypeOf;M&&v&&l&&b(r,function(f){var g=new p[f];if(Symbol.toStringTag in g){var h=l(g),w=v(h,Symbol.toStringTag);if(!w){var c=l(h);w=v(c,Symbol.toStringTag)}n[f]=w.get}});var u=function(g){var h=!1;return b(n,function(w,c){if(!h)try{h=w.call(g)===c}catch{}}),h};Y.exports=function(g){if(!g||typeof g!="object")return!1;if(!M||!(Symbol.toStringTag in g)){var h=o(L(g),8,-1);return t(r,h)>-1}return v?u(g):!1}},76244:function(Y){Y.exports=Math.log2||function(V){return Math.log(V)*Math.LOG2E}},62644:function(Y,V,e){Y.exports=P;var b=e(93784);function P(s,L){L||(L=s,s=window);var M=0,v=0,p=0,r={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function o(x){var T=!1;return"altKey"in x&&(T=T||x.altKey!==r.alt,r.alt=!!x.altKey),"shiftKey"in x&&(T=T||x.shiftKey!==r.shift,r.shift=!!x.shiftKey),"ctrlKey"in x&&(T=T||x.ctrlKey!==r.control,r.control=!!x.ctrlKey),"metaKey"in x&&(T=T||x.metaKey!==r.meta,r.meta=!!x.metaKey),T}function n(x,T){var C=b.x(T),y=b.y(T);"buttons"in T&&(x=T.buttons|0),(x!==M||C!==v||y!==p||o(T))&&(M=x|0,v=C||0,p=y||0,L&&L(M,v,p,r))}function l(x){n(0,x)}function u(){(M||v||p||r.shift||r.alt||r.meta||r.control)&&(v=p=0,M=0,r.shift=r.alt=r.control=r.meta=!1,L&&L(0,0,0,r))}function f(x){o(x)&&L&&L(M,v,p,r)}function g(x){b.buttons(x)===0?n(0,x):n(M,x)}function h(x){n(M|b.buttons(x),x)}function w(x){n(M&~b.buttons(x),x)}function c(){t||(t=!0,s.addEventListener("mousemove",g),s.addEventListener("mousedown",h),s.addEventListener("mouseup",w),s.addEventListener("mouseleave",l),s.addEventListener("mouseenter",l),s.addEventListener("mouseout",l),s.addEventListener("mouseover",l),s.addEventListener("blur",u),s.addEventListener("keyup",f),s.addEventListener("keydown",f),s.addEventListener("keypress",f),s!==window&&(window.addEventListener("blur",u),window.addEventListener("keyup",f),window.addEventListener("keydown",f),window.addEventListener("keypress",f)))}function a(){t&&(t=!1,s.removeEventListener("mousemove",g),s.removeEventListener("mousedown",h),s.removeEventListener("mouseup",w),s.removeEventListener("mouseleave",l),s.removeEventListener("mouseenter",l),s.removeEventListener("mouseout",l),s.removeEventListener("mouseover",l),s.removeEventListener("blur",u),s.removeEventListener("keyup",f),s.removeEventListener("keydown",f),s.removeEventListener("keypress",f),s!==window&&(window.removeEventListener("blur",u),window.removeEventListener("keyup",f),window.removeEventListener("keydown",f),window.removeEventListener("keypress",f)))}c();var d={element:s};return Object.defineProperties(d,{enabled:{get:function(){return t},set:function(x){x?c():a()},enumerable:!0},buttons:{get:function(){return M},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return p},enumerable:!0},mods:{get:function(){return r},enumerable:!0}}),d}},29128:function(Y){var V={left:0,top:0};Y.exports=e;function e(P,s,L){s=s||P.currentTarget||P.srcElement,Array.isArray(L)||(L=[0,0]);var M=P.clientX||0,v=P.clientY||0,p=b(s);return L[0]=M-p.left,L[1]=v-p.top,L}function b(P){return P===window||P===document||P===document.body?V:P.getBoundingClientRect()}},93784:function(Y,V){function e(L){if(typeof L=="object"){if("buttons"in L)return L.buttons;if("which"in L){var M=L.which;if(M===2)return 4;if(M===3)return 2;if(M>0)return 1<<M-1}else if("button"in L){var M=L.button;if(M===1)return 4;if(M===2)return 2;if(M>=0)return 1<<M}}return 0}V.buttons=e;function b(L){return L.target||L.srcElement||window}V.element=b;function P(L){if(typeof L=="object"){if("offsetX"in L)return L.offsetX;var M=b(L),v=M.getBoundingClientRect();return L.clientX-v.left}return 0}V.x=P;function s(L){if(typeof L=="object"){if("offsetY"in L)return L.offsetY;var M=b(L),v=M.getBoundingClientRect();return L.clientY-v.top}return 0}V.y=s},97264:function(Y,V,e){var b=e(23464);Y.exports=P;function P(s,L,M){typeof s=="function"&&(M=!!L,L=s,s=window);var v=b("ex",s),p=function(r){M&&r.preventDefault();var t=r.deltaX||0,o=r.deltaY||0,n=r.deltaZ||0,l=r.deltaMode,u=1;switch(l){case 1:u=v;break;case 2:u=window.innerHeight;break}if(t*=u,o*=u,n*=u,t||o||n)return L(t,o,n,r)};return s.addEventListener("wheel",p),p}},88324:function(Y,V,e){var b;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(s,L,M){L[s]=L[s]||M(),Y.exports?Y.exports=L[s]:(b=(function(){return L[s]}).call(V,e,V,Y),b!==void 0&&(Y.exports=b))})("Promise",typeof e.g<"u"?e.g:this,function(){var s,L,M,v=Object.prototype.toString,p=typeof setImmediate<"u"?function(d){return setImmediate(d)}:setTimeout;try{Object.defineProperty({},"x",{}),s=function(d,x,T,C){return Object.defineProperty(d,x,{value:T,writable:!0,configurable:C!==!1})}}catch{s=function(x,T,C){return x[T]=C,x}}M=function(){var d,x,T;function C(y,S){this.fn=y,this.self=S,this.next=void 0}return{add:function(S,A){T=new C(S,A),x?x.next=T:d=T,x=T,T=void 0},drain:function(){var S=d;for(d=x=L=void 0;S;)S.fn.call(S.self),S=S.next}}}();function r(a,d){M.add(a,d),L||(L=p(M.drain))}function t(a){var d,x=typeof a;return a!=null&&(x=="object"||x=="function")&&(d=a.then),typeof d=="function"?d:!1}function o(){for(var a=0;a<this.chain.length;a++)n(this,this.state===1?this.chain[a].success:this.chain[a].failure,this.chain[a]);this.chain.length=0}function n(a,d,x){var T,C;try{d===!1?x.reject(a.msg):(d===!0?T=a.msg:T=d.call(void 0,a.msg),T===x.promise?x.reject(TypeError("Promise-chain cycle")):(C=t(T))?C.call(T,x.resolve,x.reject):x.resolve(T))}catch(y){x.reject(y)}}function l(a){var d,x=this;if(!x.triggered){x.triggered=!0,x.def&&(x=x.def);try{(d=t(a))?r(function(){var T=new g(x);try{d.call(a,function(){l.apply(T,arguments)},function(){u.apply(T,arguments)})}catch(C){u.call(T,C)}}):(x.msg=a,x.state=1,x.chain.length>0&&r(o,x))}catch(T){u.call(new g(x),T)}}}function u(a){var d=this;d.triggered||(d.triggered=!0,d.def&&(d=d.def),d.msg=a,d.state=2,d.chain.length>0&&r(o,d))}function f(a,d,x,T){for(var C=0;C<d.length;C++)(function(S){a.resolve(d[S]).then(function(i){x(S,i)},T)})(C)}function g(a){this.def=a,this.triggered=!1}function h(a){this.promise=a,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function w(a){if(typeof a!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var d=new h(this);this.then=function(T,C){var y={success:typeof T=="function"?T:!0,failure:typeof C=="function"?C:!1};return y.promise=new this.constructor(function(A,i){if(typeof A!="function"||typeof i!="function")throw TypeError("Not a function");y.resolve=A,y.reject=i}),d.chain.push(y),d.state!==0&&r(o,d),y.promise},this.catch=function(T){return this.then(void 0,T)};try{a.call(void 0,function(T){l.call(d,T)},function(T){u.call(d,T)})}catch(x){u.call(d,x)}}var c=s({},"constructor",w,!1);return w.prototype=c,s(c,"__NPO__",0,!1),s(w,"resolve",function(d){var x=this;return d&&typeof d=="object"&&d.__NPO__===1?d:new x(function(C,y){if(typeof C!="function"||typeof y!="function")throw TypeError("Not a function");C(d)})}),s(w,"reject",function(d){return new this(function(T,C){if(typeof T!="function"||typeof C!="function")throw TypeError("Not a function");C(d)})}),s(w,"all",function(d){var x=this;return v.call(d)!="[object Array]"?x.reject(TypeError("Not an array")):d.length===0?x.resolve([]):new x(function(C,y){if(typeof C!="function"||typeof y!="function")throw TypeError("Not a function");var S=d.length,A=Array(S),i=0;f(x,d,function(m,k){A[m]=k,++i===S&&C(A)},y)})}),s(w,"race",function(d){var x=this;return v.call(d)!="[object Array]"?x.reject(TypeError("Not an array")):new x(function(C,y){if(typeof C!="function"||typeof y!="function")throw TypeError("Not a function");f(x,d,function(A,i){C(i)},y)})}),w})},48816:function(Y){var V=Math.PI,e=v(120);Y.exports=b;function b(p){for(var r,t=[],o=0,n=0,l=0,u=0,f=null,g=null,h=0,w=0,c=0,a=p.length;c<a;c++){var d=p[c],x=d[0];switch(x){case"M":l=d[1],u=d[2];break;case"A":d=L(h,w,d[1],d[2],v(d[3]),d[4],d[5],d[6],d[7]),d.unshift("C"),d.length>7&&(t.push(d.splice(0,7)),d.unshift("C"));break;case"S":var T=h,C=w;(r=="C"||r=="S")&&(T+=T-o,C+=C-n),d=["C",T,C,d[1],d[2],d[3],d[4]];break;case"T":r=="Q"||r=="T"?(f=h*2-f,g=w*2-g):(f=h,g=w),d=s(h,w,f,g,d[1],d[2]);break;case"Q":f=d[1],g=d[2],d=s(h,w,d[1],d[2],d[3],d[4]);break;case"L":d=P(h,w,d[1],d[2]);break;case"H":d=P(h,w,d[1],w);break;case"V":d=P(h,w,h,d[1]);break;case"Z":d=P(h,w,l,u);break}r=x,h=d[d.length-2],w=d[d.length-1],d.length>4?(o=d[d.length-4],n=d[d.length-3]):(o=h,n=w),t.push(d)}return t}function P(p,r,t,o){return["C",p,r,t,o,t,o]}function s(p,r,t,o,n,l){return["C",p/3+.6666666666666666*t,r/3+.6666666666666666*o,n/3+.6666666666666666*t,l/3+.6666666666666666*o,n,l]}function L(p,r,t,o,n,l,u,f,g,h){if(h)A=h[0],i=h[1],y=h[2],S=h[3];else{var w=M(p,r,-n);p=w.x,r=w.y,w=M(f,g,-n),f=w.x,g=w.y;var c=(p-f)/2,a=(r-g)/2,d=c*c/(t*t)+a*a/(o*o);d>1&&(d=Math.sqrt(d),t=d*t,o=d*o);var x=t*t,T=o*o,C=(l==u?-1:1)*Math.sqrt(Math.abs((x*T-x*a*a-T*c*c)/(x*a*a+T*c*c)));C==1/0&&(C=1);var y=C*t*a/o+(p+f)/2,S=C*-o*c/t+(r+g)/2,A=Math.asin(((r-S)/o).toFixed(9)),i=Math.asin(((g-S)/o).toFixed(9));A=p<y?V-A:A,i=f<y?V-i:i,A<0&&(A=V*2+A),i<0&&(i=V*2+i),u&&A>i&&(A=A-V*2),!u&&i>A&&(i=i-V*2)}if(Math.abs(i-A)>e){var E=i,m=f,k=g;i=A+e*(u&&i>A?1:-1),f=y+t*Math.cos(i),g=S+o*Math.sin(i);var I=L(f,g,t,o,n,0,u,m,k,[i,E,y,S])}var O=Math.tan((i-A)/4),_=4/3*t*O,B=4/3*o*O,F=[2*p-(p+_*Math.sin(A)),2*r-(r-B*Math.cos(A)),f+_*Math.sin(i),g-B*Math.cos(i),f,g];if(h)return F;I&&(F=F.concat(I));for(var z=0;z<F.length;){var N=M(F[z],F[z+1],n);F[z++]=N.x,F[z++]=N.y}return F}function M(p,r,t){return{x:p*Math.cos(t)-r*Math.sin(t),y:p*Math.sin(t)+r*Math.cos(t)}}function v(p){return p*(V/180)}},50896:function(Y){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var V=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;function P(L){if(L==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(L)}function s(){try{if(!Object.assign)return!1;var L=new String("abc");if(L[5]="de",Object.getOwnPropertyNames(L)[0]==="5")return!1;for(var M={},v=0;v<10;v++)M["_"+String.fromCharCode(v)]=v;var p=Object.getOwnPropertyNames(M).map(function(t){return M[t]});if(p.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}Y.exports=s()?Object.assign:function(L,M){for(var v,p=P(L),r,t=1;t<arguments.length;t++){v=Object(arguments[t]);for(var o in v)e.call(v,o)&&(p[o]=v[o]);if(V){r=V(v);for(var n=0;n<r.length;n++)b.call(v,r[n])&&(p[r[n]]=v[r[n]])}}return p}},76835:function(Y){var V=function(e){return e!==e};Y.exports=function(b,P){return b===0&&P===0?1/b===1/P:!!(b===P||V(b)&&V(P))}},39896:function(Y,V,e){var b=e(81288),P=e(57916),s=e(76835),L=e(66148),M=e(16408),v=P(L(),Object);b(v,{getPolyfill:L,implementation:s,shim:M}),Y.exports=v},66148:function(Y,V,e){var b=e(76835);Y.exports=function(){return typeof Object.is=="function"?Object.is:b}},16408:function(Y,V,e){var b=e(66148),P=e(81288);Y.exports=function(){var L=b();return P(Object,{is:L},{is:function(){return Object.is!==L}}),L}},32764:function(Y,V,e){var b;if(!Object.keys){var P=Object.prototype.hasOwnProperty,s=Object.prototype.toString,L=e(97344),M=Object.prototype.propertyIsEnumerable,v=!M.call({toString:null},"toString"),p=M.call(function(){},"prototype"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],t=function(u){var f=u.constructor;return f&&f.prototype===u},o={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var u in window)try{if(!o["$"+u]&&P.call(window,u)&&window[u]!==null&&typeof window[u]=="object")try{t(window[u])}catch{return!0}}catch{return!0}return!1}(),l=function(u){if(typeof window>"u"||!n)return t(u);try{return t(u)}catch{return!1}};b=function(f){var g=f!==null&&typeof f=="object",h=s.call(f)==="[object Function]",w=L(f),c=g&&s.call(f)==="[object String]",a=[];if(!g&&!h&&!w)throw new TypeError("Object.keys called on a non-object");var d=p&&h;if(c&&f.length>0&&!P.call(f,0))for(var x=0;x<f.length;++x)a.push(String(x));if(w&&f.length>0)for(var T=0;T<f.length;++T)a.push(String(T));else for(var C in f)!(d&&C==="prototype")&&P.call(f,C)&&a.push(String(C));if(v)for(var y=l(f),S=0;S<r.length;++S)!(y&&r[S]==="constructor")&&P.call(f,r[S])&&a.push(r[S]);return a}}Y.exports=b},41820:function(Y,V,e){var b=Array.prototype.slice,P=e(97344),s=Object.keys,L=s?function(p){return s(p)}:e(32764),M=Object.keys;L.shim=function(){if(Object.keys){var p=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);p||(Object.keys=function(t){return P(t)?M(b.call(t)):M(t)})}else Object.keys=L;return Object.keys||L},Y.exports=L},97344:function(Y){var V=Object.prototype.toString;Y.exports=function(b){var P=V.call(b),s=P==="[object Arguments]";return s||(s=P!=="[object Array]"&&b!==null&&typeof b=="object"&&typeof b.length=="number"&&b.length>=0&&V.call(b.callee)==="[object Function]"),s}},32868:function(Y){function V(P,s){if(typeof P!="string")return[P];var L=[P];typeof s=="string"||Array.isArray(s)?s={brackets:s}:s||(s={});var M=s.brackets?Array.isArray(s.brackets)?s.brackets:[s.brackets]:["{}","[]","()"],v=s.escape||"___",p=!!s.flat;M.forEach(function(o){var n=new RegExp(["\\",o[0],"[^\\",o[0],"\\",o[1],"]*\\",o[1]].join("")),l=[];function u(f,g,h){var w=L.push(f.slice(o[0].length,-o[1].length))-1;return l.push(w),v+w+v}L.forEach(function(f,g){for(var h,w=0;f!=h;)if(h=f,f=f.replace(n,u),w++>1e4)throw Error("References have circular dependency. Please, check them.");L[g]=f}),l=l.reverse(),L=L.map(function(f){return l.forEach(function(g){f=f.replace(new RegExp("(\\"+v+g+"\\"+v+")","g"),o[0]+"$1"+o[1])}),f})});var r=new RegExp("\\"+v+"([0-9]+)\\"+v);function t(o,n,l){for(var u=[],f,g=0;f=r.exec(o);){if(g++>1e4)throw Error("Circular references in parenthesis");u.push(o.slice(0,f.index)),u.push(t(n[f[1]],n)),o=o.slice(f.index+f[0].length)}return u.push(o),u}return p?L:t(L[0],L)}function e(P,s){if(s&&s.flat){var L=s&&s.escape||"___",M=P[0],v;if(!M)return"";for(var p=new RegExp("\\"+L+"([0-9]+)\\"+L),r=0;M!=v;){if(r++>1e4)throw Error("Circular references in "+P);v=M,M=M.replace(p,t)}return M}return P.reduce(function o(n,l){return Array.isArray(l)&&(l=l.reduce(o,"")),n+l},"");function t(o,n){if(P[n]==null)throw Error("Reference "+n+"is undefined");return P[n]}}function b(P,s){return Array.isArray(P)?e(P,s):V(P,s)}b.parse=V,b.stringify=e,Y.exports=b},51160:function(Y,V,e){var b=e(55616);Y.exports=P;function P(s){var L;return arguments.length>1&&(s=arguments),typeof s=="string"?s=s.split(/\s/).map(parseFloat):typeof s=="number"&&(s=[s]),s.length&&typeof s[0]=="number"?s.length===1?L={width:s[0],height:s[0],x:0,y:0}:s.length===2?L={width:s[0],height:s[1],x:0,y:0}:L={x:s[0],y:s[1],width:s[2]-s[0]||0,height:s[3]-s[1]||0}:s&&(s=b(s,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),L={x:s.left||0,y:s.top||0},s.width==null?s.right?L.width=s.right-L.x:L.width=0:L.width=s.width,s.height==null?s.bottom?L.height=s.bottom-L.y:L.height=0:L.height=s.height),L}},21984:function(Y){Y.exports=b;var V={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function b(L){var M=[];return L.replace(e,function(v,p,r){var t=p.toLowerCase();for(r=s(r),t=="m"&&r.length>2&&(M.push([p].concat(r.splice(0,2))),t="l",p=p=="m"?"l":"L");;){if(r.length==V[t])return r.unshift(p),M.push(r);if(r.length<V[t])throw new Error("malformed path data");M.push([p].concat(r.splice(0,V[t])))}}),M}var P=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function s(L){var M=L.match(P);return M?M.map(Number):[]}},65819:function(Y){Y.exports=function(e,b){b||(b=[0,""]),e=String(e);var P=parseFloat(e,10);return b[0]=P,b[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",b}},41984:function(Y,V,e){var b=e(4168);(function(){var P,s,L,M,v,p;typeof performance<"u"&&performance!==null&&performance.now?Y.exports=function(){return performance.now()}:typeof b<"u"&&b!==null&&b.hrtime?(Y.exports=function(){return(P()-v)/1e6},s=b.hrtime,P=function(){var r;return r=s(),r[0]*1e9+r[1]},M=P(),p=b.uptime()*1e9,v=M-p):Date.now?(Y.exports=function(){return Date.now()-L},L=Date.now()):(Y.exports=function(){return new Date().getTime()-L},L=new Date().getTime())}).call(this)},55616:function(Y){Y.exports=function(P,s,L){var M={},v,p;if(typeof s=="string"&&(s=e(s)),Array.isArray(s)){var r={};for(p=0;p<s.length;p++)r[s[p]]=!0;s=r}for(v in s)s[v]=e(s[v]);var t={};for(v in s){var o=s[v];if(Array.isArray(o))for(p=0;p<o.length;p++){var n=o[p];if(L&&(t[n]=!0),n in P){if(M[v]=P[n],L)for(var l=p;l<o.length;l++)t[o[l]]=!0;break}}else v in P&&(s[v]&&(M[v]=P[v]),L&&(t[v]=!0))}if(L)for(v in P)t[v]||(M[v]=P[v]);return M};var V={};function e(b){return V[b]?V[b]:(typeof b=="string"&&(b=V[b]=b.split(/\s*,\s*|\s+/)),b)}},61456:function(Y){Y.exports=function(e,b,P,s){var L=e[0],M=e[1],v=!1;P===void 0&&(P=0),s===void 0&&(s=b.length);for(var p=s-P,r=0,t=p-1;r<p;t=r++){var o=b[r+P][0],n=b[r+P][1],l=b[t+P][0],u=b[t+P][1],f=n>M!=u>M&&L<(l-o)*(M-n)/(u-n)+o;f&&(v=!v)}return v}},14756:function(Y,V,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var b=e(7688),P=e(28648),s=e(72200),L=e(11403),M=e(82368),v=e(17792),p=!1,r=P(),t;t={buildLog:function(n){return n===!0?p=b():n===!1&&(p=!1),p===!1?!1:p.list},epsilon:function(n){return r.epsilon(n)},segments:function(n){var l=s(!0,r,p);return n.regions.forEach(l.addRegion),{segments:l.calculate(n.inverted),inverted:n.inverted}},combine:function(n,l){var u=s(!1,r,p);return{combined:u.calculate(n.segments,n.inverted,l.segments,l.inverted),inverted1:n.inverted,inverted2:l.inverted}},selectUnion:function(n){return{segments:M.union(n.combined,p),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:M.intersect(n.combined,p),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:M.difference(n.combined,p),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:M.differenceRev(n.combined,p),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:M.xor(n.combined,p),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:L(n.segments,r,p),inverted:n.inverted}},polygonFromGeoJSON:function(n){return v.toPolygon(t,n)},polygonToGeoJSON:function(n){return v.fromPolygon(t,r,n)},union:function(n,l){return o(n,l,t.selectUnion)},intersect:function(n,l){return o(n,l,t.selectIntersect)},difference:function(n,l){return o(n,l,t.selectDifference)},differenceRev:function(n,l){return o(n,l,t.selectDifferenceRev)},xor:function(n,l){return o(n,l,t.selectXor)}};function o(n,l,u){var f=t.segments(n),g=t.segments(l),h=t.combine(f,g),w=u(h);return t.polygon(w)}typeof window=="object"&&(window.PolyBool=t),Y.exports=t},7688:function(Y){function V(){var e,b=0,P=!1;function s(L,M){return e.list.push({type:L,data:M?JSON.parse(JSON.stringify(M)):void 0}),e}return e={list:[],segmentId:function(){return b++},checkIntersection:function(L,M){return s("check",{seg1:L,seg2:M})},segmentChop:function(L,M){return s("div_seg",{seg:L,pt:M}),s("chop",{seg:L,pt:M})},statusRemove:function(L){return s("pop_seg",{seg:L})},segmentUpdate:function(L){return s("seg_update",{seg:L})},segmentNew:function(L,M){return s("new_seg",{seg:L,primary:M})},segmentRemove:function(L){return s("rem_seg",{seg:L})},tempStatus:function(L,M,v){return s("temp_status",{seg:L,above:M,below:v})},rewind:function(L){return s("rewind",{seg:L})},status:function(L,M,v){return s("status",{seg:L,above:M,below:v})},vert:function(L){return L===P?e:(P=L,s("vert",{x:L}))},log:function(L){return typeof L!="string"&&(L=JSON.stringify(L,!1,"  ")),s("log",{txt:L})},reset:function(){return s("reset")},selected:function(L){return s("selected",{segs:L})},chainStart:function(L){return s("chain_start",{seg:L})},chainRemoveHead:function(L,M){return s("chain_rem_head",{index:L,pt:M})},chainRemoveTail:function(L,M){return s("chain_rem_tail",{index:L,pt:M})},chainNew:function(L,M){return s("chain_new",{pt1:L,pt2:M})},chainMatch:function(L){return s("chain_match",{index:L})},chainClose:function(L){return s("chain_close",{index:L})},chainAddHead:function(L,M){return s("chain_add_head",{index:L,pt:M})},chainAddTail:function(L,M){return s("chain_add_tail",{index:L,pt:M})},chainConnect:function(L,M){return s("chain_con",{index1:L,index2:M})},chainReverse:function(L){return s("chain_rev",{index:L})},chainJoin:function(L,M){return s("chain_join",{index1:L,index2:M})},done:function(){return s("done")}},e}Y.exports=V},28648:function(Y){function V(e){typeof e!="number"&&(e=1e-10);var b={epsilon:function(P){return typeof P=="number"&&(e=P),e},pointAboveOrOnLine:function(P,s,L){var M=s[0],v=s[1],p=L[0],r=L[1],t=P[0],o=P[1];return(p-M)*(o-v)-(r-v)*(t-M)>=-e},pointBetween:function(P,s,L){var M=P[1]-s[1],v=L[0]-s[0],p=P[0]-s[0],r=L[1]-s[1],t=p*v+M*r;if(t<e)return!1;var o=v*v+r*r;return!(t-o>-e)},pointsSameX:function(P,s){return Math.abs(P[0]-s[0])<e},pointsSameY:function(P,s){return Math.abs(P[1]-s[1])<e},pointsSame:function(P,s){return b.pointsSameX(P,s)&&b.pointsSameY(P,s)},pointsCompare:function(P,s){return b.pointsSameX(P,s)?b.pointsSameY(P,s)?0:P[1]<s[1]?-1:1:P[0]<s[0]?-1:1},pointsCollinear:function(P,s,L){var M=P[0]-s[0],v=P[1]-s[1],p=s[0]-L[0],r=s[1]-L[1];return Math.abs(M*r-p*v)<e},linesIntersect:function(P,s,L,M){var v=s[0]-P[0],p=s[1]-P[1],r=M[0]-L[0],t=M[1]-L[1],o=v*t-p*r;if(Math.abs(o)<e)return!1;var n=P[0]-L[0],l=P[1]-L[1],u=(r*l-t*n)/o,f=(v*l-p*n)/o,g={alongA:0,alongB:0,pt:[P[0]+u*v,P[1]+u*p]};return u<=-e?g.alongA=-2:u<e?g.alongA=-1:u-1<=-e?g.alongA=0:u-1<e?g.alongA=1:g.alongA=2,f<=-e?g.alongB=-2:f<e?g.alongB=-1:f-1<=-e?g.alongB=0:f-1<e?g.alongB=1:g.alongB=2,g},pointInsideRegion:function(P,s){for(var L=P[0],M=P[1],v=s[s.length-1][0],p=s[s.length-1][1],r=!1,t=0;t<s.length;t++){var o=s[t][0],n=s[t][1];n-M>e!=p-M>e&&(v-o)*(M-n)/(p-n)+o-L>e&&(r=!r),v=o,p=n}return r}};return b}Y.exports=V},17792:function(Y){var V={toPolygon:function(e,b){function P(M){if(M.length<=0)return e.segments({inverted:!1,regions:[]});function v(t){var o=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[o]})}for(var p=v(M[0]),r=1;r<M.length;r++)p=e.selectDifference(e.combine(p,v(M[r])));return p}if(b.type==="Polygon")return e.polygon(P(b.coordinates));if(b.type==="MultiPolygon"){for(var s=e.segments({inverted:!1,regions:[]}),L=0;L<b.coordinates.length;L++)s=e.selectUnion(e.combine(s,P(b.coordinates[L])));return e.polygon(s)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,b,P){P=e.polygon(e.segments(P));function s(u,f){return b.pointInsideRegion([(u[0][0]+u[1][0])*.5,(u[0][1]+u[1][1])*.5],f)}function L(u){return{region:u,children:[]}}var M=L(null);function v(u,f){for(var g=0;g<u.children.length;g++){var h=u.children[g];if(s(f,h.region)){v(h,f);return}}for(var w=L(f),g=0;g<u.children.length;g++){var h=u.children[g];s(h.region,f)&&(w.children.push(h),u.children.splice(g,1),g--)}u.children.push(w)}for(var p=0;p<P.regions.length;p++){var r=P.regions[p];r.length<3||v(M,r)}function t(u,f){for(var g=0,h=u[u.length-1][0],w=u[u.length-1][1],c=[],a=0;a<u.length;a++){var d=u[a][0],x=u[a][1];c.push([d,x]),g+=x*h-d*w,h=d,w=x}var T=g<0;return T!==f&&c.reverse(),c.push([c[0][0],c[0][1]]),c}var o=[];function n(u){var f=[t(u.region,!1)];o.push(f);for(var g=0;g<u.children.length;g++)f.push(l(u.children[g]))}function l(u){for(var f=0;f<u.children.length;f++)n(u.children[f]);return t(u.region,!0)}for(var p=0;p<M.children.length;p++)n(M.children[p]);return o.length<=0?{type:"Polygon",coordinates:[]}:o.length==1?{type:"Polygon",coordinates:o[0]}:{type:"MultiPolygon",coordinates:o}}};Y.exports=V},72200:function(Y,V,e){var b=e(48088);function P(s,L,M){function v(w,c){return{id:M?M.segmentId():-1,start:w,end:c,myFill:{above:null,below:null},otherFill:null}}function p(w,c,a){return{id:M?M.segmentId():-1,start:w,end:c,myFill:{above:a.myFill.above,below:a.myFill.below},otherFill:null}}var r=b.create();function t(w,c,a,d,x,T){var C=L.pointsCompare(c,x);return C!==0?C:L.pointsSame(a,T)?0:w!==d?w?1:-1:L.pointAboveOrOnLine(a,d?x:T,d?T:x)?1:-1}function o(w,c){r.insertBefore(w,function(a){var d=t(w.isStart,w.pt,c,a.isStart,a.pt,a.other.pt);return d<0})}function n(w,c){var a=b.node({isStart:!0,pt:w.start,seg:w,primary:c,other:null,status:null});return o(a,w.end),a}function l(w,c,a){var d=b.node({isStart:!1,pt:c.end,seg:c,primary:a,other:w,status:null});w.other=d,o(d,w.pt)}function u(w,c){var a=n(w,c);return l(a,w,c),a}function f(w,c){M&&M.segmentChop(w.seg,c),w.other.remove(),w.seg.end=c,w.other.pt=c,o(w.other,w.pt)}function g(w,c){var a=p(c,w.seg.end,w.seg);return f(w,c),u(a,w.primary)}function h(w,c){var a=b.create();function d(_,B){var F=_.seg.start,z=_.seg.end,N=B.seg.start,W=B.seg.end;return L.pointsCollinear(F,N,W)?L.pointsCollinear(z,N,W)||L.pointAboveOrOnLine(z,N,W)?1:-1:L.pointAboveOrOnLine(F,N,W)?1:-1}function x(_){return a.findTransition(function(B){var F=d(_,B.ev);return F>0})}function T(_,B){var F=_.seg,z=B.seg,N=F.start,W=F.end,Z=z.start,q=z.end;M&&M.checkIntersection(F,z);var re=L.linesIntersect(N,W,Z,q);if(re===!1){if(!L.pointsCollinear(N,W,Z)||L.pointsSame(N,q)||L.pointsSame(W,Z))return!1;var le=L.pointsSame(N,Z),ie=L.pointsSame(W,q);if(le&&ie)return B;var K=!le&&L.pointBetween(N,Z,q),$=!ie&&L.pointBetween(W,Z,q);if(le)return $?g(B,W):g(_,q),B;K&&(ie||($?g(B,W):g(_,q)),g(B,N))}else re.alongA===0&&(re.alongB===-1?g(_,Z):re.alongB===0?g(_,re.pt):re.alongB===1&&g(_,q)),re.alongB===0&&(re.alongA===-1?g(B,N):re.alongA===0?g(B,re.pt):re.alongA===1&&g(B,W));return!1}for(var C=[];!r.isEmpty();){var y=r.getHead();if(M&&M.vert(y.pt[0]),y.isStart){let _=function(){if(A){var B=T(y,A);if(B)return B}return i?T(y,i):!1};M&&M.segmentNew(y.seg,y.primary);var S=x(y),A=S.before?S.before.ev:null,i=S.after?S.after.ev:null;M&&M.tempStatus(y.seg,A?A.seg:!1,i?i.seg:!1);var E=_();if(E){if(s){var m;y.seg.myFill.below===null?m=!0:m=y.seg.myFill.above!==y.seg.myFill.below,m&&(E.seg.myFill.above=!E.seg.myFill.above)}else E.seg.otherFill=y.seg.myFill;M&&M.segmentUpdate(E.seg),y.other.remove(),y.remove()}if(r.getHead()!==y){M&&M.rewind(y.seg);continue}if(s){var m;y.seg.myFill.below===null?m=!0:m=y.seg.myFill.above!==y.seg.myFill.below,i?y.seg.myFill.below=i.seg.myFill.above:y.seg.myFill.below=w,m?y.seg.myFill.above=!y.seg.myFill.below:y.seg.myFill.above=y.seg.myFill.below}else if(y.seg.otherFill===null){var k;i?y.primary===i.primary?k=i.seg.otherFill.above:k=i.seg.myFill.above:k=y.primary?c:w,y.seg.otherFill={above:k,below:k}}M&&M.status(y.seg,A?A.seg:!1,i?i.seg:!1),y.other.status=S.insert(b.node({ev:y}))}else{var I=y.status;if(I===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(a.exists(I.prev)&&a.exists(I.next)&&T(I.prev.ev,I.next.ev),M&&M.statusRemove(I.ev.seg),I.remove(),!y.primary){var O=y.seg.myFill;y.seg.myFill=y.seg.otherFill,y.seg.otherFill=O}C.push(y.seg)}r.getHead().remove()}return M&&M.done(),C}return s?{addRegion:function(w){for(var c,a=w[w.length-1],d=0;d<w.length;d++){c=a,a=w[d];var x=L.pointsCompare(c,a);x!==0&&u(v(x<0?c:a,x<0?a:c),!0)}},calculate:function(w){return h(w,!1)}}:{calculate:function(w,c,a,d){return w.forEach(function(x){u(p(x.start,x.end,x),!0)}),a.forEach(function(x){u(p(x.start,x.end,x),!1)}),h(c,d)}}}Y.exports=P},48088:function(Y){var V={create:function(){var e={root:{root:!0,next:null},exists:function(b){return!(b===null||b===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(b,P){for(var s=e.root,L=e.root.next;L!==null;){if(P(L)){b.prev=L.prev,b.next=L,L.prev.next=b,L.prev=b;return}s=L,L=L.next}s.next=b,b.prev=s,b.next=null},findTransition:function(b){for(var P=e.root,s=e.root.next;s!==null&&!b(s);)P=s,s=s.next;return{before:P===e.root?null:P,after:s,insert:function(L){return L.prev=P,L.next=s,P.next=L,s!==null&&(s.prev=L),L}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};Y.exports=V},11403:function(Y){function V(e,b,P){var s=[],L=[];return e.forEach(function(M){var v=M.start,p=M.end;if(b.pointsSame(v,p)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}P&&P.chainStart(M);var r={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},o=r;function n(E,m,k){return o.index=E,o.matches_head=m,o.matches_pt1=k,o===r?(o=t,!1):(o=null,!0)}for(var l=0;l<s.length;l++){var u=s[l],f=u[0];u[1];var g=u[u.length-1];if(u[u.length-2],b.pointsSame(f,v)){if(n(l,!0,!0))break}else if(b.pointsSame(f,p)){if(n(l,!0,!1))break}else if(b.pointsSame(g,v)){if(n(l,!1,!0))break}else if(b.pointsSame(g,p)&&n(l,!1,!1))break}if(o===r){s.push([v,p]),P&&P.chainNew(v,p);return}if(o===t){P&&P.chainMatch(r.index);var h=r.index,w=r.matches_pt1?p:v,c=r.matches_head,u=s[h],a=c?u[0]:u[u.length-1],d=c?u[1]:u[u.length-2],x=c?u[u.length-1]:u[0],T=c?u[u.length-2]:u[1];if(b.pointsCollinear(d,a,w)&&(c?(P&&P.chainRemoveHead(r.index,w),u.shift()):(P&&P.chainRemoveTail(r.index,w),u.pop()),a=d),b.pointsSame(x,w)){s.splice(h,1),b.pointsCollinear(T,x,a)&&(c?(P&&P.chainRemoveTail(r.index,a),u.pop()):(P&&P.chainRemoveHead(r.index,a),u.shift())),P&&P.chainClose(r.index),L.push(u);return}c?(P&&P.chainAddHead(r.index,w),u.unshift(w)):(P&&P.chainAddTail(r.index,w),u.push(w));return}function C(E){P&&P.chainReverse(E),s[E].reverse()}function y(E,m){var k=s[E],I=s[m],O=k[k.length-1],_=k[k.length-2],B=I[0],F=I[1];b.pointsCollinear(_,O,B)&&(P&&P.chainRemoveTail(E,O),k.pop(),O=_),b.pointsCollinear(O,B,F)&&(P&&P.chainRemoveHead(m,B),I.shift()),P&&P.chainJoin(E,m),s[E]=k.concat(I),s.splice(m,1)}var S=r.index,A=t.index;P&&P.chainConnect(S,A);var i=s[S].length<s[A].length;r.matches_head?t.matches_head?i?(C(S),y(S,A)):(C(A),y(A,S)):y(A,S):t.matches_head?y(S,A):i?(C(S),y(A,S)):(C(A),y(S,A))}),L}Y.exports=V},82368:function(Y){function V(b,P,s){var L=[];return b.forEach(function(M){var v=(M.myFill.above?8:0)+(M.myFill.below?4:0)+(M.otherFill&&M.otherFill.above?2:0)+(M.otherFill&&M.otherFill.below?1:0);P[v]!==0&&L.push({id:s?s.segmentId():-1,start:M.start,end:M.end,myFill:{above:P[v]===1,below:P[v]===2},otherFill:null})}),s&&s.selected(L),L}var e={union:function(b,P){return V(b,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],P)},intersect:function(b,P){return V(b,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],P)},difference:function(b,P){return V(b,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],P)},differenceRev:function(b,P){return V(b,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],P)},xor:function(b,P){return V(b,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],P)}};Y.exports=e},9696:function(Y,V,e){var b=e(29936).Transform,P=e(55619);function s(){b.call(this,{readableObjectMode:!0})}s.prototype=Object.create(b.prototype),s.prototype.constructor=s,P(s.prototype),V.gS=function(M,v,p){for(var r=v,t=0;t<p.length;)if(M[r++]!==p[t++])return!1;return!0},V.wR=function(M,v){var p=[],r=0;if(v&&v==="hex")for(;r<M.length;)p.push(parseInt(M.slice(r,r+2),16)),r+=2;else for(;r<M.length;r++)p.push(M.charCodeAt(r)&255);return p},V.Bz=function(M,v){return M[v]|M[v+1]<<8},V.eW=function(M,v){return M[v+1]|M[v]<<8},V.st=function(M,v){return M[v]|M[v+1]<<8|M[v+2]<<16|M[v+3]*16777216},V.eI=function(M,v){return M[v+3]|M[v+2]<<8|M[v+1]<<16|M[v]*16777216};function L(M,v,p){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=M,v&&(this.code=v),p&&(this.statusCode=p)}L.prototype=Object.create(Error.prototype),L.prototype.constructor=L},11688:function(Y){function V(P,s){var L=new Error(P);return L.code=s,L}function e(P){try{return decodeURIComponent(escape(P))}catch{return P}}function b(P,s,L){this.input=P.subarray(s,L),this.start=s;var M=String.fromCharCode.apply(null,this.input.subarray(0,4));if(M!=="II*\0"&&M!=="MM\0*")throw V("invalid TIFF signature","EBADDATA");this.big_endian=M[0]==="M"}b.prototype.each=function(P){this.aborted=!1;var s=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:s}];this.ifds_to_read.length>0&&!this.aborted;){var L=this.ifds_to_read.shift();L.offset&&this.scan_ifd(L.id,L.offset,P)}},b.prototype.read_uint16=function(P){var s=this.input;if(P+2>s.length)throw V("unexpected EOF","EBADDATA");return this.big_endian?s[P]*256+s[P+1]:s[P]+s[P+1]*256},b.prototype.read_uint32=function(P){var s=this.input;if(P+4>s.length)throw V("unexpected EOF","EBADDATA");return this.big_endian?s[P]*16777216+s[P+1]*65536+s[P+2]*256+s[P+3]:s[P]+s[P+1]*256+s[P+2]*65536+s[P+3]*16777216},b.prototype.is_subifd_link=function(P,s){return P===0&&s===34665||P===0&&s===34853||P===34665&&s===40965},b.prototype.exif_format_length=function(P){switch(P){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},b.prototype.exif_format_read=function(P,s){var L;switch(P){case 1:case 2:return L=this.input[s],L;case 6:return L=this.input[s],L|(L&128)*33554430;case 3:return L=this.read_uint16(s),L;case 8:return L=this.read_uint16(s),L|(L&32768)*131070;case 4:return L=this.read_uint32(s),L;case 9:return L=this.read_uint32(s),L|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},b.prototype.scan_ifd=function(P,s,L){var M=this.read_uint16(s);s+=2;for(var v=0;v<M;v++){var p=this.read_uint16(s),r=this.read_uint16(s+2),t=this.read_uint32(s+4),o=this.exif_format_length(r),n=t*o,l=n<=4?s+8:this.read_uint32(s+8),u=!1;if(l+n>this.input.length)throw V("unexpected EOF","EBADDATA");for(var f=[],g=l,h=0;h<t;h++,g+=o){var w=this.exif_format_read(r,g);if(w===null){f=null;break}f.push(w)}Array.isArray(f)&&r===2&&(f=e(String.fromCharCode.apply(null,f)),f&&f[f.length-1]==="\0"&&(f=f.slice(0,-1))),this.is_subifd_link(P,p)&&Array.isArray(f)&&Number.isInteger(f[0])&&f[0]>0&&(this.ifds_to_read.push({id:p,offset:f[0]}),u=!0);var c={is_big_endian:this.big_endian,ifd:P,tag:p,format:r,count:t,entry_offset:s+this.start,data_length:n,data_offset:l+this.start,value:f,is_subifd_link:u};if(L(c)===!1){this.aborted=!0;return}s+=12}P===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(s)})},Y.exports.ExifParser=b,Y.exports.get_orientation=function(P){var s=0;try{return new b(P,0,P.length).each(function(L){if(L.ifd===0&&L.tag===274&&Array.isArray(L.value))return s=L.value[0],!1}),s}catch{return-1}}},44600:function(Y,V,e){var b=e(9696).eW,P=e(9696).eI;function s(n,l){if(n.length<4+l)return null;var u=P(n,l);return n.length<u+l||u<8?null:{boxtype:String.fromCharCode.apply(null,n.slice(l+4,l+8)),data:n.slice(l+8,l+u),end:l+u}}Y.exports.unbox=s;function L(n,l){for(var u=0;;){var f=s(n,u);if(!f)break;switch(f.boxtype){case"ispe":l.sizes.push({width:P(f.data,4),height:P(f.data,8)});break;case"irot":l.transforms.push({type:"irot",value:f.data[0]&3});break;case"imir":l.transforms.push({type:"imir",value:f.data[0]&1});break}u=f.end}}function M(n,l,u){for(var f=0,g=0;g<u;g++)f=f*256+(n[l+g]||0);return f}function v(n,l){for(var u=n[4]>>4&15,f=n[4]&15,g=n[5]>>4&15,h=b(n,6),w=8,c=0;c<h;c++){var a=b(n,w);w+=2;var d=b(n,w);w+=2;var x=M(n,w,g);w+=g;var T=b(n,w);if(w+=2,d===0&&T===1){var C=M(n,w,u),y=M(n,w+u,f);l.item_loc[a]={length:y,offset:C+x}}w+=T*(u+f)}}function p(n,l){for(var u=b(n,4),f=6,g=0;g<u;g++){var h=s(n,f);if(!h)break;if(h.boxtype==="infe"){for(var w=b(h.data,4),c="",a=8;a<h.data.length&&h.data[a];a++)c+=String.fromCharCode(h.data[a]);l.item_inf[c]=w}f=h.end}}function r(n,l){for(var u=0;;){var f=s(n,u);if(!f)break;f.boxtype==="ipco"&&L(f.data,l),u=f.end}}function t(n,l){for(var u=4;;){var f=s(n,u);if(!f)break;f.boxtype==="iprp"&&r(f.data,l),f.boxtype==="iloc"&&v(f.data,l),f.boxtype==="iinf"&&p(f.data,l),u=f.end}}function o(n){var l=n.reduce(function(g,h){return g.width>h.width||g.width===h.width&&g.height>h.height?g:h}),u=n.reduce(function(g,h){return g.height>h.height||g.height===h.height&&g.width>h.width?g:h}),f;return l.width>u.height||l.width===u.height&&l.height>u.width?f=l:f=u,f}Y.exports.readSizeFromMeta=function(n){var l={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(t(n,l),!!l.sizes.length){var u=o(l.sizes),f=1;l.transforms.forEach(function(h){var w={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},c={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(h.type==="imir"&&(h.value===0?f=c[f]:(f=c[f],f=w[f],f=w[f])),h.type==="irot")for(var a=0;a<h.value;a++)f=w[f]});var g=null;return l.item_inf.Exif&&(g=l.item_loc[l.item_inf.Exif]),{width:u.width,height:u.height,orientation:l.transforms.length?f:null,variants:l.sizes,exif_location:g}}},Y.exports.getMimeType=function(n){var l=String.fromCharCode.apply(null,n.slice(0,4)),u={};u[l]=!0;for(var f=8;f<n.length;f+=4)u[String.fromCharCode.apply(null,n.slice(f,f+4))]=!0;if(!(!u.mif1&&!u.msf1&&!u.miaf))return l==="avif"||l==="avis"||l==="avio"?{type:"avif",mime:"image/avif"}:l==="heic"||l==="heix"?{type:"heic",mime:"image/heic"}:l==="hevc"||l==="hevx"?{type:"heic",mime:"image/heic-sequence"}:u.avif||u.avis?{type:"avif",mime:"image/avif"}:u.heic||u.heix||u.hevc||u.hevx||u.heis?u.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},40528:function(Y,V,e){var b=e(9696).wR,P=e(9696).gS,s=e(9696).eI,L=e(44600),M=e(11688),v=b("ftyp");Y.exports=function(p){if(P(p,4,v)){var r=L.unbox(p,0);if(r){var t=L.getMimeType(r.data);if(t){for(var o,n=r.end;;){var l=L.unbox(p,n);if(!l)break;if(n=l.end,l.boxtype==="mdat")return;if(l.boxtype==="meta"){o=l.data;break}}if(o){var u=L.readSizeFromMeta(o);if(u){var f={width:u.width,height:u.height,type:t.type,mime:t.mime,wUnits:"px",hUnits:"px"};if(u.variants.length>1&&(f.variants=u.variants),u.orientation&&(f.orientation=u.orientation),u.exif_location&&u.exif_location.offset+u.exif_location.length<=p.length){var g=s(p,u.exif_location.offset),h=p.slice(u.exif_location.offset+g+4,u.exif_location.offset+u.exif_location.length),w=M.get_orientation(h);w>0&&(f.orientation=w)}return f}}}}}}},38728:function(Y,V,e){var b=e(9696).wR,P=e(9696).gS,s=e(9696).Bz,L=b("BM");Y.exports=function(M){if(!(M.length<26)&&P(M,0,L))return{width:s(M,18),height:s(M,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},5588:function(Y,V,e){var b=e(9696).wR,P=e(9696).gS,s=e(9696).Bz,L=b("GIF87a"),M=b("GIF89a");Y.exports=function(v){if(!(v.length<10)&&!(!P(v,0,L)&&!P(v,0,M)))return{width:s(v,6),height:s(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},41924:function(Y,V,e){var b=e(9696).Bz,P=0,s=1,L=16;Y.exports=function(M){var v=b(M,0),p=b(M,2),r=b(M,4);if(!(v!==P||p!==s||!r)){for(var t=[],o={width:0,height:0},n=0;n<r;n++){var l=M[6+L*n]||256,u=M[6+L*n+1]||256,f={width:l,height:u};t.push(f),(l>o.width||u>o.height)&&(o=f)}return{width:o.width,height:o.height,variants:t,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},87968:function(Y,V,e){var b=e(9696).eW,P=e(9696).wR,s=e(9696).gS,L=e(11688),M=P("Exif\0\0");Y.exports=function(v){if(!(v.length<2)&&!(v[0]!==255||v[1]!==216||v[2]!==255))for(var p=2;;){for(;;){if(v.length-p<2)return;if(v[p++]===255)break}for(var r=v[p++],t;r===255;)r=v[p++];if(208<=r&&r<=217||r===1)t=0;else if(192<=r&&r<=254){if(v.length-p<2)return;t=b(v,p)-2,p+=2}else return;if(r===217||r===218)return;var o;if(r===225&&t>=10&&s(v,p,M)&&(o=L.get_orientation(v.slice(p+6,p+t))),t>=5&&192<=r&&r<=207&&r!==196&&r!==200&&r!==204){if(v.length-p<t)return;var n={width:b(v,p+3),height:b(v,p+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return o>0&&(n.orientation=o),n}p+=t}}},37276:function(Y,V,e){var b=e(9696).wR,P=e(9696).gS,s=e(9696).eI,L=b(`PNG\r

`),M=b("IHDR");Y.exports=function(v){if(!(v.length<24)&&P(v,0,L)&&P(v,12,M))return{width:s(v,16),height:s(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},90328:function(Y,V,e){var b=e(9696).wR,P=e(9696).gS,s=e(9696).eI,L=b("8BPS\0");Y.exports=function(M){if(!(M.length<22)&&P(M,0,L))return{width:s(M,18),height:s(M,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},16024:function(Y){function V(o){return o===32||o===9||o===13||o===10}function e(o){return typeof o=="number"&&isFinite(o)&&o>0}function b(o){var n=0,l=o.length;for(o[0]===239&&o[1]===187&&o[2]===191&&(n=3);n<l&&V(o[n]);)n++;return n===l?!1:o[n]===60}var P=/<[-_.:a-zA-Z0-9][^>]*>/,s=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,L=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,M=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,v=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,p=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function r(o){var n=o.match(L),l=o.match(M),u=o.match(v);return{width:n&&(n[1]||n[2]),height:l&&(l[1]||l[2]),viewbox:u&&(u[1]||u[2])}}function t(o){return p.test(o)?o.match(p)[0]:"px"}Y.exports=function(o){if(b(o)){for(var n="",l=0;l<o.length;l++)n+=String.fromCharCode(o[l]);var u=(n.match(P)||[""])[0];if(s.test(u)){var f=r(u),g=parseFloat(f.width),h=parseFloat(f.height);if(f.width&&f.height)return!e(g)||!e(h)?void 0:{width:g,height:h,type:"svg",mime:"image/svg+xml",wUnits:t(f.width),hUnits:t(f.height)};var w=(f.viewbox||"").split(" "),c={width:w[2],height:w[3]},a=parseFloat(c.width),d=parseFloat(c.height);if(!(!e(a)||!e(d))&&t(c.width)===t(c.height)){var x=a/d;return f.width?e(g)?{width:g,height:g/x,type:"svg",mime:"image/svg+xml",wUnits:t(f.width),hUnits:t(f.width)}:void 0:f.height?e(h)?{width:h*x,height:h,type:"svg",mime:"image/svg+xml",wUnits:t(f.height),hUnits:t(f.height)}:void 0:{width:a,height:d,type:"svg",mime:"image/svg+xml",wUnits:t(c.width),hUnits:t(c.height)}}}}}},98792:function(Y,V,e){var b=e(9696).wR,P=e(9696).gS,s=e(9696).Bz,L=e(9696).eW,M=e(9696).st,v=e(9696).eI,p=b("II*\0"),r=b("MM\0*");function t(l,u,f){return f?L(l,u):s(l,u)}function o(l,u,f){return f?v(l,u):M(l,u)}function n(l,u,f){var g=t(l,u+2,f),h=o(l,u+4,f);return h!==1||g!==3&&g!==4?null:g===3?t(l,u+8,f):o(l,u+8,f)}Y.exports=function(l){if(!(l.length<8)&&!(!P(l,0,p)&&!P(l,0,r))){var u=l[0]===77,f=o(l,4,u)-8;if(!(f<0)){var g=f+8;if(!(l.length-g<2)){var h=t(l,g+0,u)*12;if(!(h<=0)&&(g+=2,!(l.length-g<h))){var w,c,a,d;for(w=0;w<h;w+=12)d=t(l,g+w,u),d===256?c=n(l,g+w,u):d===257&&(a=n(l,g+w,u));if(c&&a)return{width:c,height:a,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},20704:function(Y,V,e){var b=e(9696).wR,P=e(9696).gS,s=e(9696).Bz,L=e(9696).st,M=e(11688),v=b("RIFF"),p=b("WEBP");function r(n,l){if(!(n[l+3]!==157||n[l+4]!==1||n[l+5]!==42))return{width:s(n,l+6)&16383,height:s(n,l+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function t(n,l){if(n[l]===47){var u=L(n,l+1);return{width:(u&16383)+1,height:(u>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function o(n,l){return{width:(n[l+6]<<16|n[l+5]<<8|n[l+4])+1,height:(n[l+9]<<l|n[l+8]<<8|n[l+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}Y.exports=function(n){if(!(n.length<16)&&!(!P(n,0,v)&&!P(n,8,p))){var l=12,u=null,f=0,g=L(n,4)+8;if(!(g>n.length)){for(;l+8<g;){if(n[l]===0){l++;continue}var h=String.fromCharCode.apply(null,n.slice(l,l+4)),w=L(n,l+4);h==="VP8 "&&w>=10?u=u||r(n,l+8):h==="VP8L"&&w>=9?u=u||t(n,l+8):h==="VP8X"&&w>=10?u=u||o(n,l+8):h==="EXIF"&&(f=M.get_orientation(n.slice(l+8,l+8+w)),l=1/0),l+=8+w}if(u)return f>0&&(u.orientation=f),u}}}},87480:function(Y,V,e){Y.exports={avif:e(40528),bmp:e(38728),gif:e(5588),ico:e(41924),jpeg:e(87968),png:e(37276),psd:e(90328),svg:e(16024),tiff:e(98792),webp:e(20704)}},19480:function(Y,V,e){var b=e(87480);function P(s){for(var L=Object.keys(b),M=0;M<L.length;M++){var v=b[L[M]](s);if(v)return v}return null}Y.exports=function(L){return P(L)},Y.exports.parsers=b},4168:function(Y){var V=Y.exports={},e,b;function P(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=P}catch{e=P}try{typeof clearTimeout=="function"?b=clearTimeout:b=s}catch{b=s}})();function L(f){if(e===setTimeout)return setTimeout(f,0);if((e===P||!e)&&setTimeout)return e=setTimeout,setTimeout(f,0);try{return e(f,0)}catch{try{return e.call(null,f,0)}catch{return e.call(this,f,0)}}}function M(f){if(b===clearTimeout)return clearTimeout(f);if((b===s||!b)&&clearTimeout)return b=clearTimeout,clearTimeout(f);try{return b(f)}catch{try{return b.call(null,f)}catch{return b.call(this,f)}}}var v=[],p=!1,r,t=-1;function o(){!p||!r||(p=!1,r.length?v=r.concat(v):t=-1,v.length&&n())}function n(){if(!p){var f=L(o);p=!0;for(var g=v.length;g;){for(r=v,v=[];++t<g;)r&&r[t].run();t=-1,g=v.length}r=null,p=!1,M(f)}}V.nextTick=function(f){var g=new Array(arguments.length-1);if(arguments.length>1)for(var h=1;h<arguments.length;h++)g[h-1]=arguments[h];v.push(new l(f,g)),v.length===1&&!p&&L(n)};function l(f,g){this.fun=f,this.array=g}l.prototype.run=function(){this.fun.apply(null,this.array)},V.title="browser",V.browser=!0,V.env={},V.argv=[],V.version="",V.versions={};function u(){}V.on=u,V.addListener=u,V.once=u,V.off=u,V.removeListener=u,V.removeAllListeners=u,V.emit=u,V.prependListener=u,V.prependOnceListener=u,V.listeners=function(f){return[]},V.binding=function(f){throw new Error("process.binding is not supported")},V.cwd=function(){return"/"},V.chdir=function(f){throw new Error("process.chdir is not supported")},V.umask=function(){return 0}},3951:function(Y,V,e){for(var b=e(41984),P=typeof window>"u"?e.g:window,s=["moz","webkit"],L="AnimationFrame",M=P["request"+L],v=P["cancel"+L]||P["cancelRequest"+L],p=0;!M&&p<s.length;p++)M=P[s[p]+"Request"+L],v=P[s[p]+"Cancel"+L]||P[s[p]+"CancelRequest"+L];if(!M||!v){var r=0,t=0,o=[],n=1e3/60;M=function(l){if(o.length===0){var u=b(),f=Math.max(0,n-(u-r));r=f+u,setTimeout(function(){var g=o.slice(0);o.length=0;for(var h=0;h<g.length;h++)if(!g[h].cancelled)try{g[h].callback(r)}catch(w){setTimeout(function(){throw w},0)}},Math.round(f))}return o.push({handle:++t,callback:l,cancelled:!1}),t},v=function(l){for(var u=0;u<o.length;u++)o[u].handle===l&&(o[u].cancelled=!0)}}Y.exports=function(l){return M.call(P,l)},Y.exports.cancel=function(){v.apply(P,arguments)},Y.exports.polyfill=function(l){l||(l=P),l.requestAnimationFrame=M,l.cancelAnimationFrame=v}},24544:function(Y,V,e){var b=e(76752),P=e(72160),s=e(45223),L=e(55616),M=e(50896),v=e(47520),p=e(37816),r=p.float32,t=p.fract32;Y.exports=n;var o=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function n(l,u){if(typeof l=="function"?(u||(u={}),u.regl=l):u=l,u.length&&(u.positions=u),l=u.regl,!l.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var f=l._gl,g,h,w,c,a,d,x={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},T=[];return c=l.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),h=l.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),w=l.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),a=l.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),d=l.buffer({usage:"static",type:"float",data:o}),A(u),g=l({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:l.prop("range"),lineWidth:l.prop("lineWidth"),capSize:l.prop("capSize"),opacity:l.prop("opacity"),scale:l.prop("scale"),translate:l.prop("translate"),scaleFract:l.prop("scaleFract"),translateFract:l.prop("translateFract"),viewport:function(E,m){return[m.viewport.x,m.viewport.y,E.viewportWidth,E.viewportHeight]}},attributes:{color:{buffer:c,offset:function(E,m){return m.offset*4},divisor:1},position:{buffer:h,offset:function(E,m){return m.offset*8},divisor:1},positionFract:{buffer:w,offset:function(E,m){return m.offset*8},divisor:1},error:{buffer:a,offset:function(E,m){return m.offset*16},divisor:1},direction:{buffer:d,stride:24,offset:0},lineOffset:{buffer:d,stride:24,offset:8},capOffset:{buffer:d,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:l.prop("viewport")},viewport:l.prop("viewport"),stencil:!1,instances:l.prop("count"),count:o.length}),M(C,{update:A,draw:y,destroy:i,regl:l,gl:f,canvas:f.canvas,groups:T}),C;function C(E){E?A(E):E===null&&i(),y()}function y(E){if(typeof E=="number")return S(E);E&&!Array.isArray(E)&&(E=[E]),l._refresh(),T.forEach(function(m,k){if(m){if(E&&(E[k]?m.draw=!0:m.draw=!1),!m.draw){m.draw=!0;return}S(k)}})}function S(E){typeof E=="number"&&(E=T[E]),E!=null&&E&&E.count&&E.color&&E.opacity&&E.positions&&E.positions.length>1&&(E.scaleRatio=[E.scale[0]*E.viewport.width,E.scale[1]*E.viewport.height],g(E),E.after&&E.after(E))}function A(E){if(E){E.length!=null?typeof E[0]=="number"&&(E=[{positions:E}]):Array.isArray(E)||(E=[E]);var m=0,k=0;if(C.groups=T=E.map(function(N,W){var Z=T[W];if(N)typeof N=="function"?N={after:N}:typeof N[0]=="number"&&(N={positions:N});else return Z;return N=L(N,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),Z||(T[W]=Z={id:W,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},N=M({},x,N)),s(Z,N,[{lineWidth:function(q){return+q*.5},capSize:function(q){return+q*.5},opacity:parseFloat,errors:function(q){return q=v(q),k+=q.length,q},positions:function(q,re){return q=v(q,"float64"),re.count=Math.floor(q.length/2),re.bounds=b(q,2),re.offset=m,m+=re.count,q}},{color:function(q,re){var le=re.count;if(q||(q="transparent"),!Array.isArray(q)||typeof q[0]=="number"){var ie=q;q=Array(le);for(var K=0;K<le;K++)q[K]=ie}if(q.length<le)throw Error("Not enough colors");for(var $=new Uint8Array(le*4),X=0;X<le;X++){var Q=P(q[X],"uint8");$.set(Q,X*4)}return $},range:function(q,re,le){var ie=re.bounds;return q||(q=ie),re.scale=[1/(q[2]-q[0]),1/(q[3]-q[1])],re.translate=[-q[0],-q[1]],re.scaleFract=t(re.scale),re.translateFract=t(re.translate),q},viewport:function(q){var re;return Array.isArray(q)?re={x:q[0],y:q[1],width:q[2]-q[0],height:q[3]-q[1]}:q?(re={x:q.x||q.left||0,y:q.y||q.top||0},q.right?re.width=q.right-re.x:re.width=q.w||q.width||0,q.bottom?re.height=q.bottom-re.y:re.height=q.h||q.height||0):re={x:0,y:0,width:f.drawingBufferWidth,height:f.drawingBufferHeight},re}}]),Z}),m||k){var I=T.reduce(function(N,W,Z){return N+(W?W.count:0)},0),O=new Float64Array(I*2),_=new Uint8Array(I*4),B=new Float32Array(I*4);T.forEach(function(N,W){if(N){var Z=N.positions,q=N.count,re=N.offset,le=N.color,ie=N.errors;q&&(_.set(le,re*4),B.set(ie,re*4),O.set(Z,re*2))}});var F=r(O);h(F);var z=t(O,F);w(z),c(_),a(B)}}}function i(){h.destroy(),w.destroy(),c.destroy(),a.destroy(),d.destroy()}}},13472:function(Y,V,e){var b=e(72160),P=e(76752),s=e(50896),L=e(55616),M=e(47520),v=e(28912),p=e(71152),r=e(37816),t=r.float32,o=r.fract32,n=e(60463),l=e(51160),u=e(10272),f=`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,g=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,h=`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,w=`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,c=`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,a=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`;Y.exports=d;function d(x,T){if(!(this instanceof d))return new d(x,T);if(typeof x=="function"?(T||(T={}),T.regl=x):T=x,T.length&&(T.positions=T),x=T.regl,!x.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=x._gl,this.regl=x,this.passes=[],this.shaders=d.shaders.has(x)?d.shaders.get(x):d.shaders.set(x,d.createShaders(x)).get(x),this.update(T)}d.dashMult=2,d.maxPatternLength=256,d.precisionThreshold=3e6,d.maxPoints=1e4,d.maxLines=2048,d.shaders=new n,d.createShaders=function(x){var T=x.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),C={primitive:"triangle strip",instances:x.prop("count"),count:4,offset:0,uniforms:{miterMode:function(i,E){return E.join==="round"?2:1},miterLimit:x.prop("miterLimit"),scale:x.prop("scale"),scaleFract:x.prop("scaleFract"),translateFract:x.prop("translateFract"),translate:x.prop("translate"),thickness:x.prop("thickness"),dashTexture:x.prop("dashTexture"),opacity:x.prop("opacity"),pixelRatio:x.context("pixelRatio"),id:x.prop("id"),dashLength:x.prop("dashLength"),viewport:function(i,E){return[E.viewport.x,E.viewport.y,i.viewportWidth,i.viewportHeight]},depth:x.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(i,E){return!E.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:x.prop("viewport")},viewport:x.prop("viewport")},y=x(s({vert:f,frag:g,attributes:{lineEnd:{buffer:T,divisor:0,stride:8,offset:0},lineTop:{buffer:T,divisor:0,stride:8,offset:4},aCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:x.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:x.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:x.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},C)),S;try{S=x(s({cull:{enable:!0,face:"back"},vert:c,frag:a,attributes:{lineEnd:{buffer:T,divisor:0,stride:8,offset:0},lineTop:{buffer:T,divisor:0,stride:8,offset:4},aColor:{buffer:x.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:x.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},C))}catch{S=y}var A=x({primitive:"triangle",elements:function(i,E){return E.triangles},offset:0,vert:h,frag:w,uniforms:{scale:x.prop("scale"),color:x.prop("fill"),scaleFract:x.prop("scaleFract"),translateFract:x.prop("translateFract"),translate:x.prop("translate"),opacity:x.prop("opacity"),pixelRatio:x.context("pixelRatio"),id:x.prop("id"),viewport:function(i,E){return[E.viewport.x,E.viewport.y,i.viewportWidth,i.viewportHeight]}},attributes:{position:{buffer:x.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:x.prop("positionFractBuffer"),stride:8,offset:8}},blend:C.blend,depth:{enable:!1},scissor:C.scissor,stencil:C.stencil,viewport:C.viewport});return{fill:A,rect:y,miter:S}},d.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},d.prototype.render=function(){for(var x,T=[],C=arguments.length;C--;)T[C]=arguments[C];T.length&&(x=this).update.apply(x,T),this.draw()},d.prototype.draw=function(){for(var x=this,T=[],C=arguments.length;C--;)T[C]=arguments[C];return(T.length?T:this.passes).forEach(function(y,S){var A;if(y&&Array.isArray(y))return(A=x).draw.apply(A,y);typeof y=="number"&&(y=x.passes[y]),y&&y.count>1&&y.opacity&&(x.regl._refresh(),y.fill&&y.triangles&&y.triangles.length>2&&x.shaders.fill(y),y.thickness&&(y.scale[0]*y.viewport.width>d.precisionThreshold||y.scale[1]*y.viewport.height>d.precisionThreshold||y.join==="rect"||!y.join&&(y.thickness<=2||y.count>=d.maxPoints)?x.shaders.rect(y):x.shaders.miter(y)))}),this},d.prototype.update=function(x){var T=this;if(x){x.length!=null?typeof x[0]=="number"&&(x=[{positions:x}]):Array.isArray(x)||(x=[x]);var C=this,y=C.regl,S=C.gl;if(x.forEach(function(k,I){var O=T.passes[I];if(k!==void 0){if(k===null){T.passes[I]=null;return}if(typeof k[0]=="number"&&(k={positions:k}),k=L(k,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),O||(T.passes[I]=O={id:I,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:y.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:y.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:y.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:y.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},k=s({},d.defaults,k)),k.thickness!=null&&(O.thickness=parseFloat(k.thickness)),k.opacity!=null&&(O.opacity=parseFloat(k.opacity)),k.miterLimit!=null&&(O.miterLimit=parseFloat(k.miterLimit)),k.overlay!=null&&(O.overlay=!!k.overlay,I<d.maxLines&&(O.depth=2*(d.maxLines-1-I%d.maxLines)/d.maxLines-1)),k.join!=null&&(O.join=k.join),k.hole!=null&&(O.hole=k.hole),k.fill!=null&&(O.fill=k.fill?b(k.fill,"uint8"):null),k.viewport!=null&&(O.viewport=l(k.viewport)),O.viewport||(O.viewport=l([S.drawingBufferWidth,S.drawingBufferHeight])),k.close!=null&&(O.close=k.close),k.positions===null&&(k.positions=[]),k.positions){var _,B;if(k.positions.x&&k.positions.y){var F=k.positions.x,z=k.positions.y;B=O.count=Math.max(F.length,z.length),_=new Float64Array(B*2);for(var N=0;N<B;N++)_[N*2]=F[N],_[N*2+1]=z[N]}else _=M(k.positions,"float64"),B=O.count=Math.floor(_.length/2);var W=O.bounds=P(_,2);if(O.fill){for(var Z=[],q={},re=0,le=0,ie=0,K=O.count;le<K;le++){var $=_[le*2],X=_[le*2+1];isNaN($)||isNaN(X)||$==null||X==null?($=_[re*2],X=_[re*2+1],q[le]=re):re=le,Z[ie++]=$,Z[ie++]=X}if(k.splitNull){O.count-1 in q||(q[O.count]=O.count-1);var Q=Object.keys(q).map(Number).sort(function(he,ye){return he-ye}),se=[],J=0,G=O.hole!=null?O.hole[0]:null;if(G!=null){var oe=u(Q,function(he){return he>=G});Q=Q.slice(0,oe),Q.push(G)}for(var te=function(he){var ye=Z.slice(J*2,Q[he]*2).concat(G?Z.slice(G*2):[]),_e=(O.hole||[]).map(function(rt){return rt-G+(Q[he]-J)}),We=v(ye,_e);We=We.map(function(rt){return rt+J+(rt+J<Q[he]?0:G-Q[he])}),se.push.apply(se,We),J=Q[he]+1},fe=0;fe<Q.length;fe++)te(fe);for(var ge=0,we=se.length;ge<we;ge++)q[se[ge]]!=null&&(se[ge]=q[se[ge]]);O.triangles=se}else{for(var xe=v(Z,O.hole||[]),Ce=0,De=xe.length;Ce<De;Ce++)q[xe[Ce]]!=null&&(xe[Ce]=q[xe[Ce]]);O.triangles=xe}}var Oe=new Float64Array(_);p(Oe,2,W);var Te=new Float64Array(B*2+6);O.close?_[0]===_[B*2-2]&&_[1]===_[B*2-1]?(Te[0]=Oe[B*2-4],Te[1]=Oe[B*2-3]):(Te[0]=Oe[B*2-2],Te[1]=Oe[B*2-1]):(Te[0]=Oe[0],Te[1]=Oe[1]),Te.set(Oe,2),O.close?_[0]===_[B*2-2]&&_[1]===_[B*2-1]?(Te[B*2+2]=Oe[2],Te[B*2+3]=Oe[3],O.count-=1):(Te[B*2+2]=Oe[0],Te[B*2+3]=Oe[1],Te[B*2+4]=Oe[2],Te[B*2+5]=Oe[3]):(Te[B*2+2]=Oe[B*2-2],Te[B*2+3]=Oe[B*2-1],Te[B*2+4]=Oe[B*2-2],Te[B*2+5]=Oe[B*2-1]);var Re=t(Te);O.positionBuffer(Re);var Me=o(Te,Re);O.positionFractBuffer(Me)}if(k.range?O.range=k.range:O.range||(O.range=O.bounds),(k.range||k.positions)&&O.count){var ke=O.bounds,Se=ke[2]-ke[0],He=ke[3]-ke[1],je=O.range[2]-O.range[0],at=O.range[3]-O.range[1];O.scale=[Se/je,He/at],O.translate=[-O.range[0]/je+ke[0]/je||0,-O.range[1]/at+ke[1]/at||0],O.scaleFract=o(O.scale),O.translateFract=o(O.translate)}if(k.dashes){var Ze=0,$e;if(!k.dashes||k.dashes.length<2)Ze=1,$e=new Uint8Array([255,255,255,255,255,255,255,255]);else{Ze=0;for(var ut=0;ut<k.dashes.length;++ut)Ze+=k.dashes[ut];$e=new Uint8Array(Ze*d.dashMult);for(var ht=0,vt=255,xt=0;xt<2;xt++)for(var St=0;St<k.dashes.length;++St){for(var tt=0,Ie=k.dashes[St]*d.dashMult*.5;tt<Ie;++tt)$e[ht++]=vt;vt^=255}}O.dashLength=Ze,O.dashTexture({channels:1,data:$e,width:$e.length,height:1,mag:"linear",min:"linear"},0,0)}if(k.color){var Ve=O.count,Ge=k.color;Ge||(Ge="transparent");var Xe=new Uint8Array(Ve*4+4);if(!Array.isArray(Ge)||typeof Ge[0]=="number")for(var Le=b(Ge,"uint8"),Fe=0;Fe<Ve+1;Fe++)Xe.set(Le,Fe*4);else{for(var Ue=0;Ue<Ve;Ue++){var Ee=b(Ge[Ue],"uint8");Xe.set(Ee,Ue*4)}Xe.set(b(Ge[0],"uint8"),Ve*4)}O.colorBuffer({usage:"dynamic",type:"uint8",data:Xe})}}}),x.length<this.passes.length){for(var A=x.length;A<this.passes.length;A++){var i=this.passes[A];i&&(i.colorBuffer.destroy(),i.positionBuffer.destroy(),i.dashTexture.destroy())}this.passes.length=x.length}for(var E=[],m=0;m<this.passes.length;m++)this.passes[m]!==null&&E.push(this.passes[m]);return this.passes=E,this}},d.prototype.destroy=function(){return this.passes.forEach(function(x){x.colorBuffer.destroy(),x.positionBuffer.destroy(),x.dashTexture.destroy()}),this.passes.length=0,this}},38540:function(Y,V,e){function b(i,E){var m=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(m!=null){var k,I,O,_,B=[],F=!0,z=!1;try{if(O=(m=m.call(i)).next,E!==0)for(;!(F=(k=O.call(m)).done)&&(B.push(k.value),B.length!==E);F=!0);}catch(N){z=!0,I=N}finally{try{if(!F&&m.return!=null&&(_=m.return(),Object(_)!==_))return}finally{if(z)throw I}}return B}}function P(i,E){return M(i)||b(i,E)||p(i,E)||o()}function s(i){return L(i)||v(i)||p(i)||t()}function L(i){if(Array.isArray(i))return r(i)}function M(i){if(Array.isArray(i))return i}function v(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function p(i,E){if(i){if(typeof i=="string")return r(i,E);var m=Object.prototype.toString.call(i).slice(8,-1);if(m==="Object"&&i.constructor&&(m=i.constructor.name),m==="Map"||m==="Set")return Array.from(i);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return r(i,E)}}function r(i,E){(E==null||E>i.length)&&(E=i.length);for(var m=0,k=new Array(E);m<E;m++)k[m]=i[m];return k}function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=e(72160),l=e(76752),u=e(3808),f=e(3108),g=e(50896),h=e(26444),w=e(55616),c=e(45223),a=e(47520),d=e(96604),x=e(37816),T=e(51160),C=y;function y(i,E){var m=this;if(!(this instanceof y))return new y(i,E);typeof i=="function"?(E||(E={}),E.regl=i):(E=i,i=null),E&&E.length&&(E.positions=E),i=E.regl;var k=i._gl,I,O=[],_={},B=[],F=[null],z=[null],N=255,W=100;this.tooManyColors=d,I=i.texture({data:new Uint8Array(N*4),width:N,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),g(this,{regl:i,gl:k,groups:B,markerCache:z,markerTextures:F,palette:O,paletteIds:_,paletteTexture:I,maxColors:N,maxSize:W,canvas:k.canvas}),this.update(E);var Z={uniforms:{constPointSize:!!E.constPointSize,opacity:i.prop("opacity"),paletteSize:function(ie,K){return[m.tooManyColors?0:N,I.height]},pixelRatio:i.context("pixelRatio"),scale:i.prop("scale"),scaleFract:i.prop("scaleFract"),translate:i.prop("translate"),translateFract:i.prop("translateFract"),markerTexture:i.prop("markerTexture"),paletteTexture:I},attributes:{x:function(ie,K){return K.xAttr||{buffer:K.positionBuffer,stride:8,offset:0}},y:function(ie,K){return K.yAttr||{buffer:K.positionBuffer,stride:8,offset:4}},xFract:function(ie,K){return K.xAttr?{constant:[0,0]}:{buffer:K.positionFractBuffer,stride:8,offset:0}},yFract:function(ie,K){return K.yAttr?{constant:[0,0]}:{buffer:K.positionFractBuffer,stride:8,offset:4}},size:function(ie,K){return K.size.length?{buffer:K.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(K.size*255/m.maxSize)]}},borderSize:function(ie,K){return K.borderSize.length?{buffer:K.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(K.borderSize*255/m.maxSize)]}},colorId:function(ie,K){return K.color.length?{buffer:K.colorBuffer,stride:m.tooManyColors?8:4,offset:0}:{constant:m.tooManyColors?O.slice(K.color*4,K.color*4+4):[K.color]}},borderColorId:function(ie,K){return K.borderColor.length?{buffer:K.colorBuffer,stride:m.tooManyColors?8:4,offset:m.tooManyColors?4:2}:{constant:m.tooManyColors?O.slice(K.borderColor*4,K.borderColor*4+4):[K.borderColor]}},isActive:function(ie,K){return K.activation===!0?{constant:[1]}:K.activation?K.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:i.prop("viewport")},viewport:i.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:i.prop("elements"),count:i.prop("count"),offset:i.prop("offset"),primitive:"points"},q=g({},Z);q.frag=h([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),q.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=i(q);var re=g({},Z);re.frag=h([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),re.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),d&&(re.frag=re.frag.replace("smoothstep","smoothStep"),q.frag=q.frag.replace("smoothstep","smoothStep")),this.drawCircle=i(re)}y.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},y.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},y.prototype.draw=function(){for(var i=this,E=arguments.length,m=new Array(E),k=0;k<E;k++)m[k]=arguments[k];var I=this.groups;if(m.length===1&&Array.isArray(m[0])&&(m[0][0]===null||Array.isArray(m[0][0]))&&(m=m[0]),this.regl._refresh(),m.length)for(var O=0;O<m.length;O++)this.drawItem(O,m[O]);else I.forEach(function(_,B){i.drawItem(B)});return this},y.prototype.drawItem=function(i,E){var m=this.groups,k=m[i];if(typeof E=="number"&&(i=E,k=m[E],E=null),!!(k&&k.count&&k.opacity)){k.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,k,E));for(var I=[],O=1;O<k.activation.length;O++)!k.activation[O]||k.activation[O]!==!0&&!k.activation[O].data.length||I.push.apply(I,s(this.getMarkerDrawOptions(O,k,E)));I.length&&this.drawMarker(I)}},y.prototype.getMarkerDrawOptions=function(i,E,m){var k=E.range,I=E.tree,O=E.viewport,_=E.activation,B=E.selectionBuffer,F=E.count;if(this.regl,!I)return m?[g({},E,{markerTexture:this.markerTextures[i],activation:_[i],count:m.length,elements:m,offset:0})]:[g({},E,{markerTexture:this.markerTextures[i],activation:_[i],offset:0})];var z=[],N=I.range(k,{lod:!0,px:[(k[2]-k[0])/O.width,(k[3]-k[1])/O.height]});if(m){for(var W=_[i],Z=W.data,q=new Uint8Array(F),re=0;re<m.length;re++){var le=m[re];q[le]=Z?Z[le]:1}B.subdata(q)}for(var ie=N.length;ie--;){var K=P(N[ie],2),$=K[0],X=K[1];z.push(g({},E,{markerTexture:this.markerTextures[i],activation:m?B:_[i],offset:$,count:X-$}))}return z},y.prototype.update=function(){for(var i=this,E=arguments.length,m=new Array(E),k=0;k<E;k++)m[k]=arguments[k];if(m.length){m.length===1&&Array.isArray(m[0])&&(m=m[0]);var I=this.groups,O=this.gl,_=this.regl,B=this.maxSize,F=this.maxColors,z=this.palette;this.groups=I=m.map(function(N,W){var Z=I[W];if(N===void 0)return Z;N===null?N={positions:null}:typeof N=="function"?N={ondraw:N}:typeof N[0]=="number"&&(N={positions:N}),N=w(N,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),N.positions===null&&(N.positions=[]),N.tooManyColors!=null&&(i.tooManyColors=N.tooManyColors),Z||(I[W]=Z={id:W,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:_.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:_.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:_.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:_.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:_.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},N=g({},y.defaults,N)),N.positions&&!("marker"in N)&&(N.marker=Z.marker,delete Z.marker),N.marker&&!("positions"in N)&&(N.positions=Z.positions,delete Z.positions);var q=0,re=0;if(c(Z,N,[{snap:!0,size:function(Te,Re){return Te==null&&(Te=y.defaults.size),q+=Te&&Te.length?1:0,Te},borderSize:function(Te,Re){return Te==null&&(Te=y.defaults.borderSize),q+=Te&&Te.length?1:0,Te},opacity:parseFloat,color:function(Te,Re){return Te==null&&(Te=y.defaults.color),Te=i.updateColor(Te),re++,Te},borderColor:function(Te,Re){return Te==null&&(Te=y.defaults.borderColor),Te=i.updateColor(Te),re++,Te},bounds:function(Te,Re,Me){return"range"in Me||(Me.range=null),Te},positions:function(Te,Re,Me){var ke=Re.snap,Se=Re.positionBuffer,He=Re.positionFractBuffer,je=Re.selectionBuffer;if(Te.x||Te.y)return Te.x.length?Re.xAttr={buffer:_.buffer(Te.x),offset:0,stride:4,count:Te.x.length}:Re.xAttr={buffer:Te.x.buffer,offset:Te.x.offset*4||0,stride:(Te.x.stride||1)*4,count:Te.x.count},Te.y.length?Re.yAttr={buffer:_.buffer(Te.y),offset:0,stride:4,count:Te.y.length}:Re.yAttr={buffer:Te.y.buffer,offset:Te.y.offset*4||0,stride:(Te.y.stride||1)*4,count:Te.y.count},Re.count=Math.max(Re.xAttr.count,Re.yAttr.count),Te;Te=a(Te,"float64");var at=Re.count=Math.floor(Te.length/2),Ze=Re.bounds=at?l(Te,2):null;if(!Me.range&&!Re.range&&(delete Re.range,Me.range=Ze),!Me.marker&&!Re.marker&&(delete Re.marker,Me.marker=null),ke&&(ke===!0||at>ke)?Re.tree=f(Te,{bounds:Ze}):ke&&ke.length&&(Re.tree=ke),Re.tree){var $e={primitive:"points",usage:"static",data:Re.tree,type:"uint32"};Re.elements?Re.elements($e):Re.elements=_.elements($e)}var ut=x.float32(Te);Se({data:ut,usage:"dynamic"});var ht=x.fract32(Te,ut);return He({data:ht,usage:"dynamic"}),je({data:new Uint8Array(at),type:"uint8",usage:"stream"}),Te}},{marker:function(Te,Re,Me){var ke=Re.activation;if(ke.forEach(function(ht){return ht&&ht.destroy&&ht.destroy()}),ke.length=0,!Te||typeof Te[0]=="number"){var Se=i.addMarker(Te);ke[Se]=!0}else{for(var He=[],je=0,at=Math.min(Te.length,Re.count);je<at;je++){var Ze=i.addMarker(Te[je]);He[Ze]||(He[Ze]=new Uint8Array(Re.count)),He[Ze][je]=1}for(var $e=0;$e<He.length;$e++)if(He[$e]){var ut={data:He[$e],type:"uint8",usage:"static"};ke[$e]?ke[$e](ut):ke[$e]=_.buffer(ut),ke[$e].data=He[$e]}}return Te},range:function(Te,Re,Me){var ke=Re.bounds;if(ke)return Te||(Te=ke),Re.scale=[1/(Te[2]-Te[0]),1/(Te[3]-Te[1])],Re.translate=[-Te[0],-Te[1]],Re.scaleFract=x.fract(Re.scale),Re.translateFract=x.fract(Re.translate),Te},viewport:function(Te){var Re=T(Te||[O.drawingBufferWidth,O.drawingBufferHeight]);return Re}}]),q){var le=Z,ie=le.count,K=le.size,$=le.borderSize,X=le.sizeBuffer,Q=new Uint8Array(ie*2);if(K.length||$.length)for(var se=0;se<ie;se++)Q[se*2]=Math.round((K[se]==null?K:K[se])*255/B),Q[se*2+1]=Math.round(($[se]==null?$:$[se])*255/B);X({data:Q,usage:"dynamic"})}if(re){var J=Z,G=J.count,oe=J.color,te=J.borderColor,fe=J.colorBuffer,ge;if(i.tooManyColors){if(oe.length||te.length){ge=new Uint8Array(G*8);for(var we=0;we<G;we++){var xe=oe[we];ge[we*8]=z[xe*4],ge[we*8+1]=z[xe*4+1],ge[we*8+2]=z[xe*4+2],ge[we*8+3]=z[xe*4+3];var Ce=te[we];ge[we*8+4]=z[Ce*4],ge[we*8+5]=z[Ce*4+1],ge[we*8+6]=z[Ce*4+2],ge[we*8+7]=z[Ce*4+3]}}}else if(oe.length||te.length){ge=new Uint8Array(G*4+2);for(var De=0;De<G;De++)oe[De]!=null&&(ge[De*4]=oe[De]%F,ge[De*4+1]=Math.floor(oe[De]/F)),te[De]!=null&&(ge[De*4+2]=te[De]%F,ge[De*4+3]=Math.floor(te[De]/F))}fe({data:ge||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return Z})}},y.prototype.addMarker=function(i){var E=this.markerTextures,m=this.regl,k=this.markerCache,I=i==null?0:k.indexOf(i);if(I>=0)return I;var O;if(i instanceof Uint8Array||i instanceof Uint8ClampedArray)O=i;else{O=new Uint8Array(i.length);for(var _=0,B=i.length;_<B;_++)O[_]=i[_]*255}var F=Math.floor(Math.sqrt(O.length));return I=E.length,k.push(i),E.push(m.texture({channels:1,data:O,radius:F,mag:"linear",min:"linear"})),I},y.prototype.updateColor=function(i){var E=this.paletteIds,m=this.palette,k=this.maxColors;Array.isArray(i)||(i=[i]);var I=[];if(typeof i[0]=="number"){var O=[];if(Array.isArray(i))for(var _=0;_<i.length;_+=4)O.push(i.slice(_,_+4));else for(var B=0;B<i.length;B+=4)O.push(i.subarray(B,B+4));i=O}for(var F=0;F<i.length;F++){var z=i[F];z=n(z,"uint8");var N=u(z,!1);if(E[N]==null){var W=m.length;E[N]=Math.floor(W/4),m[W]=z[0],m[W+1]=z[1],m[W+2]=z[2],m[W+3]=z[3]}I[F]=E[N]}return!this.tooManyColors&&m.length>k*4&&(this.tooManyColors=!0),this.updatePalette(m),I.length===1?I[0]:I},y.prototype.updatePalette=function(i){if(!this.tooManyColors){var E=this.maxColors,m=this.paletteTexture,k=Math.ceil(i.length*.25/E);if(k>1){i=i.slice();for(var I=i.length*.25%E;I<k*E;I++)i.push(0,0,0,0)}m.height<k&&m.resize(E,k),m.subimage({width:Math.min(i.length*.25,E),height:k,data:i},0,0)}},y.prototype.destroy=function(){return this.groups.forEach(function(i){i.sizeBuffer.destroy(),i.positionBuffer.destroy(),i.positionFractBuffer.destroy(),i.colorBuffer.destroy(),i.activation.forEach(function(E){return E&&E.destroy&&E.destroy()}),i.selectionBuffer.destroy(),i.elements&&i.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(i){return i&&i.destroy&&i.destroy()}),this};var S=e(50896),A=function(E,m){var k=new C(E,m),I=k.render.bind(k);return S(I,{render:I,update:k.update.bind(k),draw:k.draw.bind(k),destroy:k.destroy.bind(k),regl:k.regl,gl:k.gl,canvas:k.gl.canvas,groups:k.groups,markers:k.markerCache,palette:k.palette}),I};Y.exports=A},55795:function(Y,V,e){var b=e(38540),P=e(55616),s=e(76752),L=e(3951),M=e(67752),v=e(51160),p=e(47520);Y.exports=r;function r(l,u){if(!(this instanceof r))return new r(l);this.traces=[],this.passes={},this.regl=l,this.scatter=b(l),this.canvas=this.scatter.canvas}r.prototype.render=function(){for(var l=this,u,f=[],g=arguments.length;g--;)f[g]=arguments[g];return f.length&&(u=this).update.apply(u,f),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=L(function(){l.draw(),l.dirty=!0,l.planned=null})):(this.draw(),this.dirty=!0,L(function(){l.dirty=!1})),this)},r.prototype.update=function(){for(var l,u=[],f=arguments.length;f--;)u[f]=arguments[f];if(u.length){for(var g=0;g<u.length;g++)this.updateItem(g,u[g]);this.traces=this.traces.filter(Boolean);for(var h=[],w=0,c=0;c<this.traces.length;c++){for(var a=this.traces[c],d=this.traces[c].passes,x=0;x<d.length;x++)h.push(this.passes[d[x]]);a.passOffset=w,w+=a.passes.length}return(l=this.scatter).update.apply(l,h),this}},r.prototype.updateItem=function(l,u){var f=this,g=f.regl;if(u===null)return this.traces[l]=null,this;if(!u)return this;var h=P(u,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),w=this.traces[l]||(this.traces[l]={id:l,buffer:g.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([g._gl.drawingBufferWidth,g._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(h.color!=null&&(w.color=h.color),h.size!=null&&(w.size=h.size),h.marker!=null&&(w.marker=h.marker),h.borderColor!=null&&(w.borderColor=h.borderColor),h.borderSize!=null&&(w.borderSize=h.borderSize),h.opacity!=null&&(w.opacity=h.opacity),h.viewport&&(w.viewport=v(h.viewport)),h.diagonal!=null&&(w.diagonal=h.diagonal),h.upper!=null&&(w.upper=h.upper),h.lower!=null&&(w.lower=h.lower),h.data){w.buffer(p(h.data)),w.columns=h.data.length,w.count=h.data[0].length,w.bounds=[];for(var c=0;c<w.columns;c++)w.bounds[c]=s(h.data[c],1)}var a;h.range&&(w.range=h.range,a=w.range&&typeof w.range[0]!="number"),h.domain&&(w.domain=h.domain);var d=!1;h.padding!=null&&(Array.isArray(h.padding)&&h.padding.length===w.columns&&typeof h.padding[h.padding.length-1]=="number"?(w.padding=h.padding.map(n),d=!0):w.padding=n(h.padding));var x=w.columns,T=w.count,C=w.viewport.width,y=w.viewport.height,S=w.viewport.x,A=w.viewport.y,i=C/x,E=y/x;w.passes=[];for(var m=0;m<x;m++)for(var k=0;k<x;k++)if(!(!w.diagonal&&k===m)&&!(!w.upper&&m>k)&&!(!w.lower&&m<k)){var I=t(w.id,m,k),O=this.passes[I]||(this.passes[I]={});if(h.data&&(h.transpose?O.positions={x:{buffer:w.buffer,offset:k,count:T,stride:x},y:{buffer:w.buffer,offset:m,count:T,stride:x}}:O.positions={x:{buffer:w.buffer,offset:k*T,count:T},y:{buffer:w.buffer,offset:m*T,count:T}},O.bounds=o(w.bounds,m,k)),h.domain||h.viewport||h.data){var _=d?o(w.padding,m,k):w.padding;if(w.domain){var B=o(w.domain,m,k),F=B[0],z=B[1],N=B[2],W=B[3];O.viewport=[S+F*C+_[0],A+z*y+_[1],S+N*C-_[2],A+W*y-_[3]]}else O.viewport=[S+k*i+i*_[0],A+m*E+E*_[1],S+(k+1)*i-i*_[2],A+(m+1)*E-E*_[3]]}h.color&&(O.color=w.color),h.size&&(O.size=w.size),h.marker&&(O.marker=w.marker),h.borderSize&&(O.borderSize=w.borderSize),h.borderColor&&(O.borderColor=w.borderColor),h.opacity&&(O.opacity=w.opacity),h.range&&(O.range=a?o(w.range,m,k):w.range||O.bounds),w.passes.push(I)}return this},r.prototype.draw=function(){for(var l,u=[],f=arguments.length;f--;)u[f]=arguments[f];if(!u.length)this.scatter.draw();else{for(var g=[],h=0;h<u.length;h++)if(typeof u[h]=="number"){var w=this.traces[u[h]],c=w.passes,a=w.passOffset;g.push.apply(g,M(a,a+c.length))}else if(u[h].length){var d=u[h],x=this.traces[h],T=x.passes,C=x.passOffset;T=T.map(function(y,S){g[C+S]=d})}(l=this.scatter).draw.apply(l,g)}return this},r.prototype.destroy=function(){return this.traces.forEach(function(l){l.buffer&&l.buffer.destroy&&l.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function t(l,u,f){var g=l.id!=null?l.id:l,h=u,w=f,c=g<<16|(h&255)<<8|w&255;return c}function o(l,u,f){var g,h,w,c,a=l[u],d=l[f];return a.length>2?(a[0],a[2],g=a[1],h=a[3]):a.length?(g=a[0],h=a[1]):(a.x,g=a.y,a.x+a.width,h=a.y+a.height),d.length>2?(w=d[0],c=d[2],d[1],d[3]):d.length?(w=d[0],c=d[1]):(w=d.x,d.y,c=d.x+d.width,d.y+d.height),[w,g,c,h]}function n(l){if(typeof l=="number")return[l,l,l,l];if(l.length===2)return[l[0],l[1],l[0],l[1]];var u=v(l);return[u.x,u.y,u.x+u.width,u.y+u.height]}},28624:function(Y){(function(V,e){Y.exports=e()})(this,function(){function V(pt,jt){this.id=fe++,this.type=pt,this.data=jt}function e(pt){if(pt.length===0)return[];var jt=pt.charAt(0),$t=pt.charAt(pt.length-1);if(1<pt.length&&jt===$t&&(jt==='"'||jt==="'"))return['"'+pt.substr(1,pt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(jt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(pt))return e(pt.substr(0,jt.index)).concat(e(jt[1])).concat(e(pt.substr(jt.index+jt[0].length)));if(jt=pt.split("."),jt.length===1)return['"'+pt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(pt=[],$t=0;$t<jt.length;++$t)pt=pt.concat(e(jt[$t]));return pt}function b(pt){return"["+e(pt).join("][")+"]"}function P(pt,jt){if(typeof pt=="function")return new V(0,pt);if(typeof pt=="number"||typeof pt=="boolean")return new V(5,pt);if(Array.isArray(pt))return new V(6,pt.map(function($t,mr){return P($t)}));if(pt instanceof V)return pt}function s(){var pt={"":0},jt=[""];return{id:function($t){var mr=pt[$t];return mr||(mr=pt[$t]=jt.length,jt.push($t),mr)},str:function($t){return jt[$t]}}}function L(pt,jt,$t){function mr(){var lt=window.innerWidth,bt=window.innerHeight;pt!==document.body&&(bt=or.getBoundingClientRect(),lt=bt.right-bt.left,bt=bt.bottom-bt.top),or.width=$t*lt,or.height=$t*bt}var or=document.createElement("canvas");te(or.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),pt.appendChild(or),pt===document.body&&(or.style.position="absolute",te(pt.style,{margin:0,padding:0}));var gt;return pt!==document.body&&typeof ResizeObserver=="function"?(gt=new ResizeObserver(function(){setTimeout(mr)}),gt.observe(pt)):window.addEventListener("resize",mr,!1),mr(),{canvas:or,onDestroy:function(){gt?gt.disconnect():window.removeEventListener("resize",mr),pt.removeChild(or)}}}function M(pt,jt){function $t(mr){try{return pt.getContext(mr,jt)}catch{return null}}return $t("webgl")||$t("experimental-webgl")||$t("webgl-experimental")}function v(pt){return typeof pt=="string"?pt.split():pt}function p(pt){return typeof pt=="string"?document.querySelector(pt):pt}function r(pt){var jt=pt||{},$t,mr,or,gt;pt={};var lt=[],bt=[],Et=typeof window>"u"?1:window.devicePixelRatio,kt=!1,Ot={},Ft=function(Jt){},Bt=function(){};if(typeof jt=="string"?$t=document.querySelector(jt):typeof jt=="object"&&(typeof jt.nodeName=="string"&&typeof jt.appendChild=="function"&&typeof jt.getBoundingClientRect=="function"?$t=jt:typeof jt.drawArrays=="function"||typeof jt.drawElements=="function"?(gt=jt,or=gt.canvas):("gl"in jt?gt=jt.gl:"canvas"in jt?or=p(jt.canvas):"container"in jt&&(mr=p(jt.container)),"attributes"in jt&&(pt=jt.attributes),"extensions"in jt&&(lt=v(jt.extensions)),"optionalExtensions"in jt&&(bt=v(jt.optionalExtensions)),"onDone"in jt&&(Ft=jt.onDone),"profile"in jt&&(kt=!!jt.profile),"pixelRatio"in jt&&(Et=+jt.pixelRatio),"cachedCode"in jt&&(Ot=jt.cachedCode))),$t&&($t.nodeName.toLowerCase()==="canvas"?or=$t:mr=$t),!gt){if(!or){if($t=L(mr||document.body,Ft,Et),!$t)return null;or=$t.canvas,Bt=$t.onDestroy}pt.premultipliedAlpha===void 0&&(pt.premultipliedAlpha=!0),gt=M(or,pt)}return gt?{gl:gt,canvas:or,container:mr,extensions:lt,optionalExtensions:bt,pixelRatio:Et,profile:kt,cachedCode:Ot,onDone:Ft,onDestroy:Bt}:(Bt(),Ft("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function t(pt,jt){function $t(lt){lt=lt.toLowerCase();var bt;try{bt=mr[lt]=pt.getExtension(lt)}catch{}return!!bt}for(var mr={},or=0;or<jt.extensions.length;++or){var gt=jt.extensions[or];if(!$t(gt))return jt.onDestroy(),jt.onDone('"'+gt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return jt.optionalExtensions.forEach($t),{extensions:mr,restore:function(){Object.keys(mr).forEach(function(lt){if(mr[lt]&&!$t(lt))throw Error("(regl): error restoring extension "+lt)})}}}function o(pt,jt){for(var $t=Array(pt),mr=0;mr<pt;++mr)$t[mr]=jt(mr);return $t}function n(pt){var jt,$t;return jt=(65535<pt)<<4,pt>>>=jt,$t=(255<pt)<<3,pt>>>=$t,jt|=$t,$t=(15<pt)<<2,pt>>>=$t,jt|=$t,$t=(3<pt)<<1,jt|$t|pt>>>$t>>1}function l(){function pt(mr){e:{for(var or=16;268435456>=or;or*=16)if(mr<=or){mr=or;break e}mr=0}return or=$t[n(mr)>>2],0<or.length?or.pop():new ArrayBuffer(mr)}function jt(mr){$t[n(mr.byteLength)>>2].push(mr)}var $t=o(8,function(){return[]});return{alloc:pt,free:jt,allocType:function(mr,or){var gt=null;switch(mr){case 5120:gt=new Int8Array(pt(or),0,or);break;case 5121:gt=new Uint8Array(pt(or),0,or);break;case 5122:gt=new Int16Array(pt(2*or),0,or);break;case 5123:gt=new Uint16Array(pt(2*or),0,or);break;case 5124:gt=new Int32Array(pt(4*or),0,or);break;case 5125:gt=new Uint32Array(pt(4*or),0,or);break;case 5126:gt=new Float32Array(pt(4*or),0,or);break;default:return null}return gt.length!==or?gt.subarray(0,or):gt},freeType:function(mr){jt(mr.buffer)}}}function u(pt){return!!pt&&typeof pt=="object"&&Array.isArray(pt.shape)&&Array.isArray(pt.stride)&&typeof pt.offset=="number"&&pt.shape.length===pt.stride.length&&(Array.isArray(pt.data)||Oe(pt.data))}function f(pt,jt,$t,mr,or,gt){for(var lt=0;lt<jt;++lt)for(var bt=pt[lt],Et=0;Et<$t;++Et)for(var kt=bt[Et],Ot=0;Ot<mr;++Ot)or[gt++]=kt[Ot]}function g(pt,jt,$t,mr,or){for(var gt=1,lt=$t+1;lt<jt.length;++lt)gt*=jt[lt];var bt=jt[$t];if(jt.length-$t===4){var Et=jt[$t+1],kt=jt[$t+2];for(jt=jt[$t+3],lt=0;lt<bt;++lt)f(pt[lt],Et,kt,jt,mr,or),or+=gt}else for(lt=0;lt<bt;++lt)g(pt[lt],jt,$t+1,mr,or),or+=gt}function h(pt){return Me[Object.prototype.toString.call(pt)]|0}function w(pt,jt){for(var $t=0;$t<jt.length;++$t)pt[$t]=jt[$t]}function c(pt,jt,$t,mr,or,gt,lt){for(var bt=0,Et=0;Et<$t;++Et)for(var kt=0;kt<mr;++kt)pt[bt++]=jt[or*Et+gt*kt+lt]}function a(pt,jt,$t,mr){function or(Ft){this.id=Et++,this.buffer=pt.createBuffer(),this.type=Ft,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,$t.profile&&(this.stats={size:0})}function gt(Ft,Bt,Jt){Ft.byteLength=Bt.byteLength,pt.bufferData(Ft.type,Bt,Jt)}function lt(Ft,Bt,Jt,hr,cr,dr){if(Ft.usage=Jt,Array.isArray(Bt)){if(Ft.dtype=hr||5126,0<Bt.length)if(Array.isArray(Bt[0])){cr=je(Bt);for(var fr=hr=1;fr<cr.length;++fr)hr*=cr[fr];Ft.dimension=hr,Bt=He(Bt,cr,Ft.dtype),gt(Ft,Bt,Jt),dr?Ft.persistentData=Bt:Ce.freeType(Bt)}else typeof Bt[0]=="number"?(Ft.dimension=cr,cr=Ce.allocType(Ft.dtype,Bt.length),w(cr,Bt),gt(Ft,cr,Jt),dr?Ft.persistentData=cr:Ce.freeType(cr)):Oe(Bt[0])&&(Ft.dimension=Bt[0].length,Ft.dtype=hr||h(Bt[0])||5126,Bt=He(Bt,[Bt.length,Bt[0].length],Ft.dtype),gt(Ft,Bt,Jt),dr?Ft.persistentData=Bt:Ce.freeType(Bt))}else if(Oe(Bt))Ft.dtype=hr||h(Bt),Ft.dimension=cr,gt(Ft,Bt,Jt),dr&&(Ft.persistentData=new Uint8Array(new Uint8Array(Bt.buffer)));else if(u(Bt)){cr=Bt.shape;var Lr=Bt.stride,fr=Bt.offset,xr=0,Ke=0,et=0,er=0;cr.length===1?(xr=cr[0],Ke=1,et=Lr[0],er=0):cr.length===2&&(xr=cr[0],Ke=cr[1],et=Lr[0],er=Lr[1]),Ft.dtype=hr||h(Bt.data)||5126,Ft.dimension=Ke,cr=Ce.allocType(Ft.dtype,xr*Ke),c(cr,Bt.data,xr,Ke,et,er,fr),gt(Ft,cr,Jt),dr?Ft.persistentData=cr:Ce.freeType(cr)}else Bt instanceof ArrayBuffer&&(Ft.dtype=5121,Ft.dimension=cr,gt(Ft,Bt,Jt),dr&&(Ft.persistentData=new Uint8Array(new Uint8Array(Bt))))}function bt(Ft){jt.bufferCount--,mr(Ft),pt.deleteBuffer(Ft.buffer),Ft.buffer=null,delete kt[Ft.id]}var Et=0,kt={};or.prototype.bind=function(){pt.bindBuffer(this.type,this.buffer)},or.prototype.destroy=function(){bt(this)};var Ot=[];return $t.profile&&(jt.getTotalBufferSize=function(){var Ft=0;return Object.keys(kt).forEach(function(Bt){Ft+=kt[Bt].stats.size}),Ft}),{create:function(Ft,Bt,Jt,hr){function cr(fr){var Lr=35044,xr=null,Ke=0,et=0,er=1;return Array.isArray(fr)||Oe(fr)||u(fr)||fr instanceof ArrayBuffer?xr=fr:typeof fr=="number"?Ke=fr|0:fr&&("data"in fr&&(xr=fr.data),"usage"in fr&&(Lr=Se[fr.usage]),"type"in fr&&(et=ke[fr.type]),"dimension"in fr&&(er=fr.dimension|0),"length"in fr&&(Ke=fr.length|0)),dr.bind(),xr?lt(dr,xr,Lr,et,er,hr):(Ke&&pt.bufferData(dr.type,Ke,Lr),dr.dtype=et||5121,dr.usage=Lr,dr.dimension=er,dr.byteLength=Ke),$t.profile&&(dr.stats.size=dr.byteLength*at[dr.dtype]),cr}jt.bufferCount++;var dr=new or(Bt);return kt[dr.id]=dr,Jt||cr(Ft),cr._reglType="buffer",cr._buffer=dr,cr.subdata=function(fr,Lr){var xr=(Lr||0)|0,Ke;if(dr.bind(),Oe(fr)||fr instanceof ArrayBuffer)pt.bufferSubData(dr.type,xr,fr);else if(Array.isArray(fr)){if(0<fr.length)if(typeof fr[0]=="number"){var et=Ce.allocType(dr.dtype,fr.length);w(et,fr),pt.bufferSubData(dr.type,xr,et),Ce.freeType(et)}else(Array.isArray(fr[0])||Oe(fr[0]))&&(Ke=je(fr),et=He(fr,Ke,dr.dtype),pt.bufferSubData(dr.type,xr,et),Ce.freeType(et))}else if(u(fr)){Ke=fr.shape;var er=fr.stride,tr=et=0,Yt=0,Pt=0;Ke.length===1?(et=Ke[0],tr=1,Yt=er[0],Pt=0):Ke.length===2&&(et=Ke[0],tr=Ke[1],Yt=er[0],Pt=er[1]),Ke=Array.isArray(fr.data)?dr.dtype:h(fr.data),Ke=Ce.allocType(Ke,et*tr),c(Ke,fr.data,et,tr,Yt,Pt,fr.offset),pt.bufferSubData(dr.type,xr,Ke),Ce.freeType(Ke)}return cr},$t.profile&&(cr.stats=dr.stats),cr.destroy=function(){bt(dr)},cr},createStream:function(Ft,Bt){var Jt=Ot.pop();return Jt||(Jt=new or(Ft)),Jt.bind(),lt(Jt,Bt,35040,0,1,!1),Jt},destroyStream:function(Ft){Ot.push(Ft)},clear:function(){Te(kt).forEach(bt),Ot.forEach(bt)},getBuffer:function(Ft){return Ft&&Ft._buffer instanceof or?Ft._buffer:null},restore:function(){Te(kt).forEach(function(Ft){Ft.buffer=pt.createBuffer(),pt.bindBuffer(Ft.type,Ft.buffer),pt.bufferData(Ft.type,Ft.persistentData||Ft.byteLength,Ft.usage)})},_initBuffer:lt}}function d(pt,jt,$t,mr){function or(Ft){this.id=Et++,bt[this.id]=this,this.buffer=Ft,this.primType=4,this.type=this.vertCount=0}function gt(Ft,Bt,Jt,hr,cr,dr,fr){Ft.buffer.bind();var Lr;if(Bt?((Lr=fr)||Oe(Bt)&&(!u(Bt)||Oe(Bt.data))||(Lr=jt.oes_element_index_uint?5125:5123),$t._initBuffer(Ft.buffer,Bt,Jt,Lr,3)):(pt.bufferData(34963,dr,Jt),Ft.buffer.dtype=Lr||5121,Ft.buffer.usage=Jt,Ft.buffer.dimension=3,Ft.buffer.byteLength=dr),Lr=fr,!fr){switch(Ft.buffer.dtype){case 5121:case 5120:Lr=5121;break;case 5123:case 5122:Lr=5123;break;case 5125:case 5124:Lr=5125}Ft.buffer.dtype=Lr}Ft.type=Lr,Bt=cr,0>Bt&&(Bt=Ft.buffer.byteLength,Lr===5123?Bt>>=1:Lr===5125&&(Bt>>=2)),Ft.vertCount=Bt,Bt=hr,0>hr&&(Bt=4,hr=Ft.buffer.dimension,hr===1&&(Bt=0),hr===2&&(Bt=1),hr===3&&(Bt=4)),Ft.primType=Bt}function lt(Ft){mr.elementsCount--,delete bt[Ft.id],Ft.buffer.destroy(),Ft.buffer=null}var bt={},Et=0,kt={uint8:5121,uint16:5123};jt.oes_element_index_uint&&(kt.uint32=5125),or.prototype.bind=function(){this.buffer.bind()};var Ot=[];return{create:function(Ft,Bt){function Jt(dr){if(dr)if(typeof dr=="number")hr(dr),cr.primType=4,cr.vertCount=dr|0,cr.type=5121;else{var fr=null,Lr=35044,xr=-1,Ke=-1,et=0,er=0;Array.isArray(dr)||Oe(dr)||u(dr)?fr=dr:("data"in dr&&(fr=dr.data),"usage"in dr&&(Lr=Se[dr.usage]),"primitive"in dr&&(xr=Ze[dr.primitive]),"count"in dr&&(Ke=dr.count|0),"type"in dr&&(er=kt[dr.type]),"length"in dr?et=dr.length|0:(et=Ke,er===5123||er===5122?et*=2:(er===5125||er===5124)&&(et*=4))),gt(cr,fr,Lr,xr,Ke,et,er)}else hr(),cr.primType=4,cr.vertCount=0,cr.type=5121;return Jt}var hr=$t.create(null,34963,!0),cr=new or(hr._buffer);return mr.elementsCount++,Jt(Ft),Jt._reglType="elements",Jt._elements=cr,Jt.subdata=function(dr,fr){return hr.subdata(dr,fr),Jt},Jt.destroy=function(){lt(cr)},Jt},createStream:function(Ft){var Bt=Ot.pop();return Bt||(Bt=new or($t.create(null,34963,!0,!1)._buffer)),gt(Bt,Ft,35040,-1,-1,0,0),Bt},destroyStream:function(Ft){Ot.push(Ft)},getElements:function(Ft){return typeof Ft=="function"&&Ft._elements instanceof or?Ft._elements:null},clear:function(){Te(bt).forEach(lt)}}}function x(pt){for(var jt=Ce.allocType(5123,pt.length),$t=0;$t<pt.length;++$t)if(isNaN(pt[$t]))jt[$t]=65535;else if(pt[$t]===1/0)jt[$t]=31744;else if(pt[$t]===-1/0)jt[$t]=64512;else{$e[0]=pt[$t];var gt=ut[0],mr=gt>>>31<<15,or=(gt<<1>>>24)-127,gt=gt>>13&1023;jt[$t]=-24>or?mr:-14>or?mr+(gt+1024>>-14-or):15<or?mr+31744:mr+(or+15<<10)+gt}return jt}function T(pt){return Array.isArray(pt)||Oe(pt)}function C(pt){return"[object "+pt+"]"}function y(pt){return Array.isArray(pt)&&(pt.length===0||typeof pt[0]=="number")}function S(pt){return!!(Array.isArray(pt)&&pt.length!==0&&T(pt[0]))}function A(pt){return Object.prototype.toString.call(pt)}function i(pt){if(!pt)return!1;var jt=A(pt);return 0<=Le.indexOf(jt)?!0:y(pt)||S(pt)||u(pt)}function E(pt,jt){pt.type===36193?(pt.data=x(jt),Ce.freeType(jt)):pt.data=jt}function m(pt,jt,$t,mr,or,gt){if(pt=typeof Ue[pt]<"u"?Ue[pt]:xt[pt]*Fe[jt],gt&&(pt*=6),or){for(mr=0;1<=$t;)mr+=pt*$t*$t,$t/=2;return mr}return pt*$t*mr}function k(pt,jt,$t,mr,or,gt,lt){function bt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function Et(Cr,an){Cr.internalformat=an.internalformat,Cr.format=an.format,Cr.type=an.type,Cr.compressed=an.compressed,Cr.premultiplyAlpha=an.premultiplyAlpha,Cr.flipY=an.flipY,Cr.unpackAlignment=an.unpackAlignment,Cr.colorSpace=an.colorSpace,Cr.width=an.width,Cr.height=an.height,Cr.channels=an.channels}function kt(Cr,an){if(typeof an=="object"&&an){"premultiplyAlpha"in an&&(Cr.premultiplyAlpha=an.premultiplyAlpha),"flipY"in an&&(Cr.flipY=an.flipY),"alignment"in an&&(Cr.unpackAlignment=an.alignment),"colorSpace"in an&&(Cr.colorSpace=vn[an.colorSpace]),"type"in an&&(Cr.type=Or[an.type]);var on=Cr.width,ln=Cr.height,On=Cr.channels,gn=!1;"shape"in an?(on=an.shape[0],ln=an.shape[1],an.shape.length===3&&(On=an.shape[2],gn=!0)):("radius"in an&&(on=ln=an.radius),"width"in an&&(on=an.width),"height"in an&&(ln=an.height),"channels"in an&&(On=an.channels,gn=!0)),Cr.width=on|0,Cr.height=ln|0,Cr.channels=On|0,on=!1,"format"in an&&(on=an.format,ln=Cr.internalformat=En[on],Cr.format=Ln[ln],on in Or&&!("type"in an)&&(Cr.type=Or[on]),on in nn&&(Cr.compressed=!0),on=!0),!gn&&on?Cr.channels=xt[Cr.format]:gn&&!on&&Cr.channels!==vt[Cr.format]&&(Cr.format=Cr.internalformat=vt[Cr.channels])}}function Ot(Cr){pt.pixelStorei(37440,Cr.flipY),pt.pixelStorei(37441,Cr.premultiplyAlpha),pt.pixelStorei(37443,Cr.colorSpace),pt.pixelStorei(3317,Cr.unpackAlignment)}function Ft(){bt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Bt(Cr,an){var on=null;if(i(an)?on=an:an&&(kt(Cr,an),"x"in an&&(Cr.xOffset=an.x|0),"y"in an&&(Cr.yOffset=an.y|0),i(an.data)&&(on=an.data)),an.copy){var ln=or.viewportWidth,On=or.viewportHeight;Cr.width=Cr.width||ln-Cr.xOffset,Cr.height=Cr.height||On-Cr.yOffset,Cr.needsCopy=!0}else if(!on)Cr.width=Cr.width||1,Cr.height=Cr.height||1,Cr.channels=Cr.channels||4;else if(Oe(on))Cr.channels=Cr.channels||4,Cr.data=on,"type"in an||Cr.type!==5121||(Cr.type=Me[Object.prototype.toString.call(on)]|0);else if(y(on)){switch(Cr.channels=Cr.channels||4,ln=on,On=ln.length,Cr.type){case 5121:case 5123:case 5125:case 5126:On=Ce.allocType(Cr.type,On),On.set(ln),Cr.data=On;break;case 36193:Cr.data=x(ln)}Cr.alignment=1,Cr.needsFree=!0}else if(u(on)){ln=on.data,Array.isArray(ln)||Cr.type!==5121||(Cr.type=Me[Object.prototype.toString.call(ln)]|0);var On=on.shape,gn=on.stride,Cn,Bn,Qn,ha;On.length===3?(Qn=On[2],ha=gn[2]):ha=Qn=1,Cn=On[0],Bn=On[1],On=gn[0],gn=gn[1],Cr.alignment=1,Cr.width=Cn,Cr.height=Bn,Cr.channels=Qn,Cr.format=Cr.internalformat=vt[Qn],Cr.needsFree=!0,Cn=ha,on=on.offset,Qn=Cr.width,ha=Cr.height,Bn=Cr.channels;for(var Ra=Ce.allocType(Cr.type===36193?5126:Cr.type,Qn*ha*Bn),Ar=0,Br=0;Br<ha;++Br)for(var Mr=0;Mr<Qn;++Mr)for(var Nr=0;Nr<Bn;++Nr)Ra[Ar++]=ln[On*Mr+gn*Br+Cn*Nr+on];E(Cr,Ra)}else if(A(on)===St||A(on)===tt||A(on)===Ie)A(on)===St||A(on)===tt?Cr.element=on:Cr.element=on.canvas,Cr.width=Cr.element.width,Cr.height=Cr.element.height,Cr.channels=4;else if(A(on)===Ve)Cr.element=on,Cr.width=on.width,Cr.height=on.height,Cr.channels=4;else if(A(on)===Ge)Cr.element=on,Cr.width=on.naturalWidth,Cr.height=on.naturalHeight,Cr.channels=4;else if(A(on)===Xe)Cr.element=on,Cr.width=on.videoWidth,Cr.height=on.videoHeight,Cr.channels=4;else if(S(on)){for(ln=Cr.width||on[0].length,On=Cr.height||on.length,gn=Cr.channels,gn=T(on[0][0])?gn||on[0][0].length:gn||1,Cn=Re.shape(on),Qn=1,ha=0;ha<Cn.length;++ha)Qn*=Cn[ha];Qn=Ce.allocType(Cr.type===36193?5126:Cr.type,Qn),Re.flatten(on,Cn,"",Qn),E(Cr,Qn),Cr.alignment=1,Cr.width=ln,Cr.height=On,Cr.channels=gn,Cr.format=Cr.internalformat=vt[gn],Cr.needsFree=!0}}function Jt(Cr,an,on,ln,On){var gn=Cr.element,Cn=Cr.data,Bn=Cr.internalformat,Qn=Cr.format,ha=Cr.type,Ra=Cr.width,Ar=Cr.height;Ot(Cr),gn?pt.texSubImage2D(an,On,on,ln,Qn,ha,gn):Cr.compressed?pt.compressedTexSubImage2D(an,On,on,ln,Bn,Ra,Ar,Cn):Cr.needsCopy?(mr(),pt.copyTexSubImage2D(an,On,on,ln,Cr.xOffset,Cr.yOffset,Ra,Ar)):pt.texSubImage2D(an,On,on,ln,Ra,Ar,Qn,ha,Cn)}function hr(){return Hn.pop()||new Ft}function cr(Cr){Cr.needsFree&&Ce.freeType(Cr.data),Ft.call(Cr),Hn.push(Cr)}function dr(){bt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function fr(Cr,an,on){var ln=Cr.images[0]=hr();Cr.mipmask=1,ln.width=Cr.width=an,ln.height=Cr.height=on,ln.channels=Cr.channels=4}function Lr(Cr,an){var on=null;if(i(an))on=Cr.images[0]=hr(),Et(on,Cr),Bt(on,an),Cr.mipmask=1;else if(kt(Cr,an),Array.isArray(an.mipmap))for(var ln=an.mipmap,On=0;On<ln.length;++On)on=Cr.images[On]=hr(),Et(on,Cr),on.width>>=On,on.height>>=On,Bt(on,ln[On]),Cr.mipmask|=1<<On;else on=Cr.images[0]=hr(),Et(on,Cr),Bt(on,an),Cr.mipmask=1;Et(Cr,Cr.images[0])}function xr(Cr,an){for(var on=Cr.images,ln=0;ln<on.length&&on[ln];++ln){var On=on[ln],gn=an,Cn=ln,Bn=On.element,Qn=On.data,ha=On.internalformat,Ra=On.format,Ar=On.type,Br=On.width,Mr=On.height;Ot(On),Bn?pt.texImage2D(gn,Cn,Ra,Ra,Ar,Bn):On.compressed?pt.compressedTexImage2D(gn,Cn,ha,Br,Mr,0,Qn):On.needsCopy?(mr(),pt.copyTexImage2D(gn,Cn,Ra,On.xOffset,On.yOffset,Br,Mr,0)):pt.texImage2D(gn,Cn,Ra,Br,Mr,0,Ra,Ar,Qn||null)}}function Ke(){var Cr=pa.pop()||new dr;bt.call(Cr);for(var an=Cr.mipmask=0;16>an;++an)Cr.images[an]=null;return Cr}function et(Cr){for(var an=Cr.images,on=0;on<an.length;++on)an[on]&&cr(an[on]),an[on]=null;pa.push(Cr)}function er(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function tr(Cr,an){"min"in an&&(Cr.minFilter=Tr[an.min],0<=ht.indexOf(Cr.minFilter)&&!("faces"in an)&&(Cr.genMipmaps=!0)),"mag"in an&&(Cr.magFilter=Ir[an.mag]);var on=Cr.wrapS,ln=Cr.wrapT;if("wrap"in an){var On=an.wrap;typeof On=="string"?on=ln=yr[On]:Array.isArray(On)&&(on=yr[On[0]],ln=yr[On[1]])}else"wrapS"in an&&(on=yr[an.wrapS]),"wrapT"in an&&(ln=yr[an.wrapT]);if(Cr.wrapS=on,Cr.wrapT=ln,"anisotropic"in an&&(Cr.anisotropic=an.anisotropic),"mipmap"in an){switch(on=!1,typeof an.mipmap){case"string":Cr.mipmapHint=Wt[an.mipmap],on=Cr.genMipmaps=!0;break;case"boolean":on=Cr.genMipmaps=an.mipmap;break;case"object":Cr.genMipmaps=!1,on=!0}!on||"min"in an||(Cr.minFilter=9984)}}function Yt(Cr,an){pt.texParameteri(an,10241,Cr.minFilter),pt.texParameteri(an,10240,Cr.magFilter),pt.texParameteri(an,10242,Cr.wrapS),pt.texParameteri(an,10243,Cr.wrapT),jt.ext_texture_filter_anisotropic&&pt.texParameteri(an,34046,Cr.anisotropic),Cr.genMipmaps&&(pt.hint(33170,Cr.mipmapHint),pt.generateMipmap(an))}function Pt(Cr){bt.call(this),this.mipmask=0,this.internalformat=6408,this.id=xa++,this.refCount=1,this.target=Cr,this.texture=pt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new er,lt.profile&&(this.stats={size:0})}function Zt(Cr){pt.activeTexture(33984),pt.bindTexture(Cr.target,Cr.texture)}function nr(){var Cr=Rn[0];Cr?pt.bindTexture(Cr.target,Cr.texture):pt.bindTexture(3553,null)}function Qt(Cr){var an=Cr.texture,on=Cr.unit,ln=Cr.target;0<=on&&(pt.activeTexture(33984+on),pt.bindTexture(ln,null),Rn[on]=null),pt.deleteTexture(an),Cr.texture=null,Cr.params=null,Cr.pixels=null,Cr.refCount=0,delete ia[Cr.id],gt.textureCount--}var Wt={"don't care":4352,"dont care":4352,nice:4354,fast:4353},yr={repeat:10497,clamp:33071,mirror:33648},Ir={nearest:9728,linear:9729},Tr=te({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Ir),vn={none:0,browser:37444},Or={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},En={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},nn={};jt.ext_srgb&&(En.srgb=35904,En.srgba=35906),jt.oes_texture_float&&(Or.float32=Or.float=5126),jt.oes_texture_half_float&&(Or.float16=Or["half float"]=36193),jt.webgl_depth_texture&&(te(En,{depth:6402,"depth stencil":34041}),te(Or,{uint16:5123,uint32:5125,"depth stencil":34042})),jt.webgl_compressed_texture_s3tc&&te(nn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),jt.webgl_compressed_texture_atc&&te(nn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),jt.webgl_compressed_texture_pvrtc&&te(nn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),jt.webgl_compressed_texture_etc1&&(nn["rgb etc1"]=36196);var gr=Array.prototype.slice.call(pt.getParameter(34467));Object.keys(nn).forEach(function(Cr){var an=nn[Cr];0<=gr.indexOf(an)&&(En[Cr]=an)});var Pr=Object.keys(En);$t.textureFormats=Pr;var Xr=[];Object.keys(En).forEach(function(Cr){Xr[En[Cr]]=Cr});var kr=[];Object.keys(Or).forEach(function(Cr){kr[Or[Cr]]=Cr});var pn=[];Object.keys(Ir).forEach(function(Cr){pn[Ir[Cr]]=Cr});var tn=[];Object.keys(Tr).forEach(function(Cr){tn[Tr[Cr]]=Cr});var Tn=[];Object.keys(yr).forEach(function(Cr){Tn[yr[Cr]]=Cr});var Ln=Pr.reduce(function(Cr,an){var on=En[an];return on===6409||on===6406||on===6409||on===6410||on===6402||on===34041||jt.ext_srgb&&(on===35904||on===35906)?Cr[on]=on:on===32855||0<=an.indexOf("rgba")?Cr[on]=6408:Cr[on]=6407,Cr},{}),Hn=[],pa=[],xa=0,ia={},ra=$t.maxTextureUnits,Rn=Array(ra).map(function(){return null});return te(Pt.prototype,{bind:function(){this.bindCount+=1;var Cr=this.unit;if(0>Cr){for(var an=0;an<ra;++an){var on=Rn[an];if(on){if(0<on.bindCount)continue;on.unit=-1}Rn[an]=this,Cr=an;break}lt.profile&&gt.maxTextureUnits<Cr+1&&(gt.maxTextureUnits=Cr+1),this.unit=Cr,pt.activeTexture(33984+Cr),pt.bindTexture(this.target,this.texture)}return Cr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&Qt(this)}}),lt.profile&&(gt.getTotalTextureSize=function(){var Cr=0;return Object.keys(ia).forEach(function(an){Cr+=ia[an].stats.size}),Cr}),{create2D:function(Cr,an){function on(On,gn){var Cn=ln.texInfo;er.call(Cn);var Bn=Ke();return typeof On=="number"?typeof gn=="number"?fr(Bn,On|0,gn|0):fr(Bn,On|0,On|0):On?(tr(Cn,On),Lr(Bn,On)):fr(Bn,1,1),Cn.genMipmaps&&(Bn.mipmask=(Bn.width<<1)-1),ln.mipmask=Bn.mipmask,Et(ln,Bn),ln.internalformat=Bn.internalformat,on.width=Bn.width,on.height=Bn.height,Zt(ln),xr(Bn,3553),Yt(Cn,3553),nr(),et(Bn),lt.profile&&(ln.stats.size=m(ln.internalformat,ln.type,Bn.width,Bn.height,Cn.genMipmaps,!1)),on.format=Xr[ln.internalformat],on.type=kr[ln.type],on.mag=pn[Cn.magFilter],on.min=tn[Cn.minFilter],on.wrapS=Tn[Cn.wrapS],on.wrapT=Tn[Cn.wrapT],on}var ln=new Pt(3553);return ia[ln.id]=ln,gt.textureCount++,on(Cr,an),on.subimage=function(On,gn,Cn,Bn){gn|=0,Cn|=0,Bn|=0;var Qn=hr();return Et(Qn,ln),Qn.width=0,Qn.height=0,Bt(Qn,On),Qn.width=Qn.width||(ln.width>>Bn)-gn,Qn.height=Qn.height||(ln.height>>Bn)-Cn,Zt(ln),Jt(Qn,3553,gn,Cn,Bn),nr(),cr(Qn),on},on.resize=function(On,gn){var Cn=On|0,Bn=gn|0||Cn;if(Cn===ln.width&&Bn===ln.height)return on;on.width=ln.width=Cn,on.height=ln.height=Bn,Zt(ln);for(var Qn=0;ln.mipmask>>Qn;++Qn){var ha=Cn>>Qn,Ra=Bn>>Qn;if(!ha||!Ra)break;pt.texImage2D(3553,Qn,ln.format,ha,Ra,0,ln.format,ln.type,null)}return nr(),lt.profile&&(ln.stats.size=m(ln.internalformat,ln.type,Cn,Bn,!1,!1)),on},on._reglType="texture2d",on._texture=ln,lt.profile&&(on.stats=ln.stats),on.destroy=function(){ln.decRef()},on},createCube:function(Cr,an,on,ln,On,gn){function Cn(ha,Ra,Ar,Br,Mr,Nr){var un,Dn=Bn.texInfo;for(er.call(Dn),un=0;6>un;++un)Qn[un]=Ke();if(typeof ha=="number"||!ha)for(ha=ha|0||1,un=0;6>un;++un)fr(Qn[un],ha,ha);else if(typeof ha=="object")if(Ra)Lr(Qn[0],ha),Lr(Qn[1],Ra),Lr(Qn[2],Ar),Lr(Qn[3],Br),Lr(Qn[4],Mr),Lr(Qn[5],Nr);else if(tr(Dn,ha),kt(Bn,ha),"faces"in ha)for(ha=ha.faces,un=0;6>un;++un)Et(Qn[un],Bn),Lr(Qn[un],ha[un]);else for(un=0;6>un;++un)Lr(Qn[un],ha);for(Et(Bn,Qn[0]),Bn.mipmask=Dn.genMipmaps?(Qn[0].width<<1)-1:Qn[0].mipmask,Bn.internalformat=Qn[0].internalformat,Cn.width=Qn[0].width,Cn.height=Qn[0].height,Zt(Bn),un=0;6>un;++un)xr(Qn[un],34069+un);for(Yt(Dn,34067),nr(),lt.profile&&(Bn.stats.size=m(Bn.internalformat,Bn.type,Cn.width,Cn.height,Dn.genMipmaps,!0)),Cn.format=Xr[Bn.internalformat],Cn.type=kr[Bn.type],Cn.mag=pn[Dn.magFilter],Cn.min=tn[Dn.minFilter],Cn.wrapS=Tn[Dn.wrapS],Cn.wrapT=Tn[Dn.wrapT],un=0;6>un;++un)et(Qn[un]);return Cn}var Bn=new Pt(34067);ia[Bn.id]=Bn,gt.cubeCount++;var Qn=Array(6);return Cn(Cr,an,on,ln,On,gn),Cn.subimage=function(ha,Ra,Ar,Br,Mr){Ar|=0,Br|=0,Mr|=0;var Nr=hr();return Et(Nr,Bn),Nr.width=0,Nr.height=0,Bt(Nr,Ra),Nr.width=Nr.width||(Bn.width>>Mr)-Ar,Nr.height=Nr.height||(Bn.height>>Mr)-Br,Zt(Bn),Jt(Nr,34069+ha,Ar,Br,Mr),nr(),cr(Nr),Cn},Cn.resize=function(ha){if(ha|=0,ha!==Bn.width){Cn.width=Bn.width=ha,Cn.height=Bn.height=ha,Zt(Bn);for(var Ra=0;6>Ra;++Ra)for(var Ar=0;Bn.mipmask>>Ar;++Ar)pt.texImage2D(34069+Ra,Ar,Bn.format,ha>>Ar,ha>>Ar,0,Bn.format,Bn.type,null);return nr(),lt.profile&&(Bn.stats.size=m(Bn.internalformat,Bn.type,Cn.width,Cn.height,!1,!0)),Cn}},Cn._reglType="textureCube",Cn._texture=Bn,lt.profile&&(Cn.stats=Bn.stats),Cn.destroy=function(){Bn.decRef()},Cn},clear:function(){for(var Cr=0;Cr<ra;++Cr)pt.activeTexture(33984+Cr),pt.bindTexture(3553,null),Rn[Cr]=null;Te(ia).forEach(Qt),gt.cubeCount=0,gt.textureCount=0},getTexture:function(Cr){return null},restore:function(){for(var Cr=0;Cr<ra;++Cr){var an=Rn[Cr];an&&(an.bindCount=0,an.unit=-1,Rn[Cr]=null)}Te(ia).forEach(function(on){on.texture=pt.createTexture(),pt.bindTexture(on.target,on.texture);for(var ln=0;32>ln;++ln)if(on.mipmask&1<<ln)if(on.target===3553)pt.texImage2D(3553,ln,on.internalformat,on.width>>ln,on.height>>ln,0,on.internalformat,on.type,null);else for(var On=0;6>On;++On)pt.texImage2D(34069+On,ln,on.internalformat,on.width>>ln,on.height>>ln,0,on.internalformat,on.type,null);Yt(on.texInfo,on.target)})},refresh:function(){for(var Cr=0;Cr<ra;++Cr){var an=Rn[Cr];an&&(an.bindCount=0,an.unit=-1,Rn[Cr]=null),pt.activeTexture(33984+Cr),pt.bindTexture(3553,null),pt.bindTexture(34067,null)}}}}function I(pt,jt,$t,mr,or,gt){function lt(Pt,Zt,nr){this.target=Pt,this.texture=Zt,this.renderbuffer=nr;var Qt=Pt=0;Zt?(Pt=Zt.width,Qt=Zt.height):nr&&(Pt=nr.width,Qt=nr.height),this.width=Pt,this.height=Qt}function bt(Pt){Pt&&(Pt.texture&&Pt.texture._texture.decRef(),Pt.renderbuffer&&Pt.renderbuffer._renderbuffer.decRef())}function Et(Pt,Zt,nr){Pt&&(Pt.texture?Pt.texture._texture.refCount+=1:Pt.renderbuffer._renderbuffer.refCount+=1)}function kt(Pt,Zt){Zt&&(Zt.texture?pt.framebufferTexture2D(36160,Pt,Zt.target,Zt.texture._texture.texture,0):pt.framebufferRenderbuffer(36160,Pt,36161,Zt.renderbuffer._renderbuffer.renderbuffer))}function Ot(Pt){var Zt=3553,nr=null,Qt=null,Wt=Pt;return typeof Pt=="object"&&(Wt=Pt.data,"target"in Pt&&(Zt=Pt.target|0)),Pt=Wt._reglType,Pt==="texture2d"||Pt==="textureCube"?nr=Wt:Pt==="renderbuffer"&&(Qt=Wt,Zt=36161),new lt(Zt,nr,Qt)}function Ft(Pt,Zt,nr,Qt,Wt){return nr?(Pt=mr.create2D({width:Pt,height:Zt,format:Qt,type:Wt}),Pt._texture.refCount=0,new lt(3553,Pt,null)):(Pt=or.create({width:Pt,height:Zt,format:Qt}),Pt._renderbuffer.refCount=0,new lt(36161,null,Pt))}function Bt(Pt){return Pt&&(Pt.texture||Pt.renderbuffer)}function Jt(Pt,Zt,nr){Pt&&(Pt.texture?Pt.texture.resize(Zt,nr):Pt.renderbuffer&&Pt.renderbuffer.resize(Zt,nr),Pt.width=Zt,Pt.height=nr)}function hr(){this.id=tr++,Yt[this.id]=this,this.framebuffer=pt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function cr(Pt){Pt.colorAttachments.forEach(bt),bt(Pt.depthAttachment),bt(Pt.stencilAttachment),bt(Pt.depthStencilAttachment)}function dr(Pt){pt.deleteFramebuffer(Pt.framebuffer),Pt.framebuffer=null,gt.framebufferCount--,delete Yt[Pt.id]}function fr(Pt){var Zt;pt.bindFramebuffer(36160,Pt.framebuffer);var nr=Pt.colorAttachments;for(Zt=0;Zt<nr.length;++Zt)kt(36064+Zt,nr[Zt]);for(Zt=nr.length;Zt<$t.maxColorAttachments;++Zt)pt.framebufferTexture2D(36160,36064+Zt,3553,null,0);pt.framebufferTexture2D(36160,33306,3553,null,0),pt.framebufferTexture2D(36160,36096,3553,null,0),pt.framebufferTexture2D(36160,36128,3553,null,0),kt(36096,Pt.depthAttachment),kt(36128,Pt.stencilAttachment),kt(33306,Pt.depthStencilAttachment),pt.checkFramebufferStatus(36160),pt.isContextLost(),pt.bindFramebuffer(36160,xr.next?xr.next.framebuffer:null),xr.cur=xr.next,pt.getError()}function Lr(Pt,Zt){function nr(Wt,yr){var Ir,Tr=0,vn=0,Or=!0,En=!0;Ir=null;var nn=!0,gr="rgba",Pr="uint8",Xr=1,kr=null,pn=null,tn=null,Tn=!1;typeof Wt=="number"?(Tr=Wt|0,vn=yr|0||Tr):Wt?("shape"in Wt?(vn=Wt.shape,Tr=vn[0],vn=vn[1]):("radius"in Wt&&(Tr=vn=Wt.radius),"width"in Wt&&(Tr=Wt.width),"height"in Wt&&(vn=Wt.height)),("color"in Wt||"colors"in Wt)&&(Ir=Wt.color||Wt.colors),Ir||("colorCount"in Wt&&(Xr=Wt.colorCount|0),"colorTexture"in Wt&&(nn=!!Wt.colorTexture,gr="rgba4"),"colorType"in Wt&&(Pr=Wt.colorType,!nn)&&(Pr==="half float"||Pr==="float16"?gr="rgba16f":(Pr==="float"||Pr==="float32")&&(gr="rgba32f")),"colorFormat"in Wt&&(gr=Wt.colorFormat,0<=Ke.indexOf(gr)?nn=!0:0<=et.indexOf(gr)&&(nn=!1))),("depthTexture"in Wt||"depthStencilTexture"in Wt)&&(Tn=!(!Wt.depthTexture&&!Wt.depthStencilTexture)),"depth"in Wt&&(typeof Wt.depth=="boolean"?Or=Wt.depth:(kr=Wt.depth,En=!1)),"stencil"in Wt&&(typeof Wt.stencil=="boolean"?En=Wt.stencil:(pn=Wt.stencil,Or=!1)),"depthStencil"in Wt&&(typeof Wt.depthStencil=="boolean"?Or=En=Wt.depthStencil:(tn=Wt.depthStencil,En=Or=!1))):Tr=vn=1;var Ln=null,Hn=null,pa=null,xa=null;if(Array.isArray(Ir))Ln=Ir.map(Ot);else if(Ir)Ln=[Ot(Ir)];else for(Ln=Array(Xr),Ir=0;Ir<Xr;++Ir)Ln[Ir]=Ft(Tr,vn,nn,gr,Pr);for(Tr=Tr||Ln[0].width,vn=vn||Ln[0].height,kr?Hn=Ot(kr):Or&&!En&&(Hn=Ft(Tr,vn,Tn,"depth","uint32")),pn?pa=Ot(pn):En&&!Or&&(pa=Ft(Tr,vn,!1,"stencil","uint8")),tn?xa=Ot(tn):!kr&&!pn&&En&&Or&&(xa=Ft(Tr,vn,Tn,"depth stencil","depth stencil")),Or=null,Ir=0;Ir<Ln.length;++Ir)Et(Ln[Ir]),Ln[Ir]&&Ln[Ir].texture&&(En=ye[Ln[Ir].texture._texture.format]*_e[Ln[Ir].texture._texture.type],Or===null&&(Or=En));return Et(Hn),Et(pa),Et(xa),cr(Qt),Qt.width=Tr,Qt.height=vn,Qt.colorAttachments=Ln,Qt.depthAttachment=Hn,Qt.stencilAttachment=pa,Qt.depthStencilAttachment=xa,nr.color=Ln.map(Bt),nr.depth=Bt(Hn),nr.stencil=Bt(pa),nr.depthStencil=Bt(xa),nr.width=Qt.width,nr.height=Qt.height,fr(Qt),nr}var Qt=new hr;return gt.framebufferCount++,nr(Pt,Zt),te(nr,{resize:function(Wt,yr){var Ir=Math.max(Wt|0,1),Tr=Math.max(yr|0||Ir,1);if(Ir===Qt.width&&Tr===Qt.height)return nr;for(var vn=Qt.colorAttachments,Or=0;Or<vn.length;++Or)Jt(vn[Or],Ir,Tr);return Jt(Qt.depthAttachment,Ir,Tr),Jt(Qt.stencilAttachment,Ir,Tr),Jt(Qt.depthStencilAttachment,Ir,Tr),Qt.width=nr.width=Ir,Qt.height=nr.height=Tr,fr(Qt),nr},_reglType:"framebuffer",_framebuffer:Qt,destroy:function(){dr(Qt),cr(Qt)},use:function(Wt){xr.setFBO({framebuffer:nr},Wt)}})}var xr={cur:null,next:null,dirty:!1,setFBO:null},Ke=["rgba"],et=["rgba4","rgb565","rgb5 a1"];jt.ext_srgb&&et.push("srgba"),jt.ext_color_buffer_half_float&&et.push("rgba16f","rgb16f"),jt.webgl_color_buffer_float&&et.push("rgba32f");var er=["uint8"];jt.oes_texture_half_float&&er.push("half float","float16"),jt.oes_texture_float&&er.push("float","float32");var tr=0,Yt={};return te(xr,{getFramebuffer:function(Pt){return typeof Pt=="function"&&Pt._reglType==="framebuffer"&&(Pt=Pt._framebuffer,Pt instanceof hr)?Pt:null},create:Lr,createCube:function(Pt){function Zt(Qt){var Wt,yr={color:null},Ir=0,Tr=null;Wt="rgba";var vn="uint8",Or=1;if(typeof Qt=="number"?Ir=Qt|0:Qt?("shape"in Qt?Ir=Qt.shape[0]:("radius"in Qt&&(Ir=Qt.radius|0),"width"in Qt?Ir=Qt.width|0:"height"in Qt&&(Ir=Qt.height|0)),("color"in Qt||"colors"in Qt)&&(Tr=Qt.color||Qt.colors),Tr||("colorCount"in Qt&&(Or=Qt.colorCount|0),"colorType"in Qt&&(vn=Qt.colorType),"colorFormat"in Qt&&(Wt=Qt.colorFormat)),"depth"in Qt&&(yr.depth=Qt.depth),"stencil"in Qt&&(yr.stencil=Qt.stencil),"depthStencil"in Qt&&(yr.depthStencil=Qt.depthStencil)):Ir=1,Tr)if(Array.isArray(Tr))for(Qt=[],Wt=0;Wt<Tr.length;++Wt)Qt[Wt]=Tr[Wt];else Qt=[Tr];else for(Qt=Array(Or),Tr={radius:Ir,format:Wt,type:vn},Wt=0;Wt<Or;++Wt)Qt[Wt]=mr.createCube(Tr);for(yr.color=Array(Qt.length),Wt=0;Wt<Qt.length;++Wt)Or=Qt[Wt],Ir=Ir||Or.width,yr.color[Wt]={target:34069,data:Qt[Wt]};for(Wt=0;6>Wt;++Wt){for(Or=0;Or<Qt.length;++Or)yr.color[Or].target=34069+Wt;0<Wt&&(yr.depth=nr[0].depth,yr.stencil=nr[0].stencil,yr.depthStencil=nr[0].depthStencil),nr[Wt]?nr[Wt](yr):nr[Wt]=Lr(yr)}return te(Zt,{width:Ir,height:Ir,color:Qt})}var nr=Array(6);return Zt(Pt),te(Zt,{faces:nr,resize:function(Qt){var Wt=Qt|0;if(Wt===Zt.width)return Zt;var yr=Zt.color;for(Qt=0;Qt<yr.length;++Qt)yr[Qt].resize(Wt);for(Qt=0;6>Qt;++Qt)nr[Qt].resize(Wt);return Zt.width=Zt.height=Wt,Zt},_reglType:"framebufferCube",destroy:function(){nr.forEach(function(Qt){Qt.destroy()})}})},clear:function(){Te(Yt).forEach(dr)},restore:function(){xr.cur=null,xr.next=null,xr.dirty=!0,Te(Yt).forEach(function(Pt){Pt.framebuffer=pt.createFramebuffer(),fr(Pt)})}})}function O(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function _(pt,jt,$t,mr,or,gt,lt){function bt(fr){if(fr!==dr.currentVAO){var Lr=jt.oes_vertex_array_object;fr?Lr.bindVertexArrayOES(fr.vao):Lr.bindVertexArrayOES(null),dr.currentVAO=fr}}function Et(fr){if(fr!==dr.currentVAO){if(fr)fr.bindAttrs();else{for(var Lr=jt.angle_instanced_arrays,xr=0;xr<Jt.length;++xr){var Ke=Jt[xr];Ke.buffer?(pt.enableVertexAttribArray(xr),Ke.buffer.bind(),pt.vertexAttribPointer(xr,Ke.size,Ke.type,Ke.normalized,Ke.stride,Ke.offfset),Lr&&Ke.divisor&&Lr.vertexAttribDivisorANGLE(xr,Ke.divisor)):(pt.disableVertexAttribArray(xr),pt.vertexAttrib4f(xr,Ke.x,Ke.y,Ke.z,Ke.w))}lt.elements?pt.bindBuffer(34963,lt.elements.buffer.buffer):pt.bindBuffer(34963,null)}dr.currentVAO=fr}}function kt(){Te(cr).forEach(function(fr){fr.destroy()})}function Ot(){this.id=++hr,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var fr=jt.oes_vertex_array_object;this.vao=fr?fr.createVertexArrayOES():null,cr[this.id]=this,this.buffers=[]}function Ft(){jt.oes_vertex_array_object&&Te(cr).forEach(function(fr){fr.refresh()})}var Bt=$t.maxAttributes,Jt=Array(Bt);for($t=0;$t<Bt;++$t)Jt[$t]=new O;var hr=0,cr={},dr={Record:O,scope:{},state:Jt,currentVAO:null,targetVAO:null,restore:jt.oes_vertex_array_object?Ft:function(){},createVAO:function(fr){function Lr(Ke){var et;Array.isArray(Ke)?(et=Ke,xr.elements&&xr.ownsElements&&xr.elements.destroy(),xr.elements=null,xr.ownsElements=!1,xr.offset=0,xr.count=0,xr.instances=-1,xr.primitive=4):(Ke.elements?(et=Ke.elements,xr.ownsElements?(typeof et=="function"&&et._reglType==="elements"?xr.elements.destroy():xr.elements(et),xr.ownsElements=!1):gt.getElements(Ke.elements)?(xr.elements=Ke.elements,xr.ownsElements=!1):(xr.elements=gt.create(Ke.elements),xr.ownsElements=!0)):(xr.elements=null,xr.ownsElements=!1),et=Ke.attributes,xr.offset=0,xr.count=-1,xr.instances=-1,xr.primitive=4,xr.elements&&(xr.count=xr.elements._elements.vertCount,xr.primitive=xr.elements._elements.primType),"offset"in Ke&&(xr.offset=Ke.offset|0),"count"in Ke&&(xr.count=Ke.count|0),"instances"in Ke&&(xr.instances=Ke.instances|0),"primitive"in Ke&&(xr.primitive=Ze[Ke.primitive])),Ke={};var er=xr.attributes;er.length=et.length;for(var tr=0;tr<et.length;++tr){var Yt=et[tr],Pt=er[tr]=new O,Zt=Yt.data||Yt;if(Array.isArray(Zt)||Oe(Zt)||u(Zt)){var nr;xr.buffers[tr]&&(nr=xr.buffers[tr],Oe(Zt)&&nr._buffer.byteLength>=Zt.byteLength?nr.subdata(Zt):(nr.destroy(),xr.buffers[tr]=null)),xr.buffers[tr]||(nr=xr.buffers[tr]=or.create(Yt,34962,!1,!0)),Pt.buffer=or.getBuffer(nr),Pt.size=Pt.buffer.dimension|0,Pt.normalized=!1,Pt.type=Pt.buffer.dtype,Pt.offset=0,Pt.stride=0,Pt.divisor=0,Pt.state=1,Ke[tr]=1}else or.getBuffer(Yt)?(Pt.buffer=or.getBuffer(Yt),Pt.size=Pt.buffer.dimension|0,Pt.normalized=!1,Pt.type=Pt.buffer.dtype,Pt.offset=0,Pt.stride=0,Pt.divisor=0,Pt.state=1):or.getBuffer(Yt.buffer)?(Pt.buffer=or.getBuffer(Yt.buffer),Pt.size=(+Yt.size||Pt.buffer.dimension)|0,Pt.normalized=!!Yt.normalized||!1,Pt.type="type"in Yt?ke[Yt.type]:Pt.buffer.dtype,Pt.offset=(Yt.offset||0)|0,Pt.stride=(Yt.stride||0)|0,Pt.divisor=(Yt.divisor||0)|0,Pt.state=1):"x"in Yt&&(Pt.x=+Yt.x||0,Pt.y=+Yt.y||0,Pt.z=+Yt.z||0,Pt.w=+Yt.w||0,Pt.state=2)}for(nr=0;nr<xr.buffers.length;++nr)!Ke[nr]&&xr.buffers[nr]&&(xr.buffers[nr].destroy(),xr.buffers[nr]=null);return xr.refresh(),Lr}var xr=new Ot;return mr.vaoCount+=1,Lr.destroy=function(){for(var Ke=0;Ke<xr.buffers.length;++Ke)xr.buffers[Ke]&&xr.buffers[Ke].destroy();xr.buffers.length=0,xr.ownsElements&&(xr.elements.destroy(),xr.elements=null,xr.ownsElements=!1),xr.destroy()},Lr._vao=xr,Lr._reglType="vao",Lr(fr)},getVAO:function(fr){return typeof fr=="function"&&fr._vao?fr._vao:null},destroyBuffer:function(fr){for(var Lr=0;Lr<Jt.length;++Lr){var xr=Jt[Lr];xr.buffer===fr&&(pt.disableVertexAttribArray(Lr),xr.buffer=null)}},setVAO:jt.oes_vertex_array_object?bt:Et,clear:jt.oes_vertex_array_object?kt:function(){}};return Ot.prototype.bindAttrs=function(){for(var fr=jt.angle_instanced_arrays,Lr=this.attributes,xr=0;xr<Lr.length;++xr){var Ke=Lr[xr];Ke.buffer?(pt.enableVertexAttribArray(xr),pt.bindBuffer(34962,Ke.buffer.buffer),pt.vertexAttribPointer(xr,Ke.size,Ke.type,Ke.normalized,Ke.stride,Ke.offset),fr&&Ke.divisor&&fr.vertexAttribDivisorANGLE(xr,Ke.divisor)):(pt.disableVertexAttribArray(xr),pt.vertexAttrib4f(xr,Ke.x,Ke.y,Ke.z,Ke.w))}for(fr=Lr.length;fr<Bt;++fr)pt.disableVertexAttribArray(fr);(fr=gt.getElements(this.elements))?pt.bindBuffer(34963,fr.buffer.buffer):pt.bindBuffer(34963,null)},Ot.prototype.refresh=function(){var fr=jt.oes_vertex_array_object;fr&&(fr.bindVertexArrayOES(this.vao),this.bindAttrs(),dr.currentVAO=null,fr.bindVertexArrayOES(null))},Ot.prototype.destroy=function(){if(this.vao){var fr=jt.oes_vertex_array_object;this===dr.currentVAO&&(dr.currentVAO=null,fr.bindVertexArrayOES(null)),fr.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),cr[this.id]&&(delete cr[this.id],--mr.vaoCount)},dr}function B(pt,jt,$t,mr){function or(hr,cr,dr,fr){this.name=hr,this.id=cr,this.location=dr,this.info=fr}function gt(hr,cr){for(var dr=0;dr<hr.length;++dr)if(hr[dr].id===cr.id){hr[dr].location=cr.location;return}hr.push(cr)}function lt(hr,cr,dr){dr=hr===35632?kt:Ot;var fr=dr[cr];if(!fr){var Lr=jt.str(cr),fr=pt.createShader(hr);pt.shaderSource(fr,Lr),pt.compileShader(fr),dr[cr]=fr}return fr}function bt(hr,cr){this.id=Jt++,this.fragId=hr,this.vertId=cr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,mr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Et(hr,cr,dr){var fr;fr=lt(35632,hr.fragId);var Lr=lt(35633,hr.vertId);if(cr=hr.program=pt.createProgram(),pt.attachShader(cr,fr),pt.attachShader(cr,Lr),dr)for(fr=0;fr<dr.length;++fr)Lr=dr[fr],pt.bindAttribLocation(cr,Lr[0],Lr[1]);pt.linkProgram(cr),Lr=pt.getProgramParameter(cr,35718),mr.profile&&(hr.stats.uniformsCount=Lr);var xr=hr.uniforms;for(fr=0;fr<Lr;++fr)if(dr=pt.getActiveUniform(cr,fr))if(1<dr.size)for(var Ke=0;Ke<dr.size;++Ke){var et=dr.name.replace("[0]","["+Ke+"]");gt(xr,new or(et,jt.id(et),pt.getUniformLocation(cr,et),dr))}else gt(xr,new or(dr.name,jt.id(dr.name),pt.getUniformLocation(cr,dr.name),dr));for(Lr=pt.getProgramParameter(cr,35721),mr.profile&&(hr.stats.attributesCount=Lr),hr=hr.attributes,fr=0;fr<Lr;++fr)(dr=pt.getActiveAttrib(cr,fr))&&gt(hr,new or(dr.name,jt.id(dr.name),pt.getAttribLocation(cr,dr.name),dr))}var kt={},Ot={},Ft={},Bt=[],Jt=0;return mr.profile&&($t.getMaxUniformsCount=function(){var hr=0;return Bt.forEach(function(cr){cr.stats.uniformsCount>hr&&(hr=cr.stats.uniformsCount)}),hr},$t.getMaxAttributesCount=function(){var hr=0;return Bt.forEach(function(cr){cr.stats.attributesCount>hr&&(hr=cr.stats.attributesCount)}),hr}),{clear:function(){var hr=pt.deleteShader.bind(pt);Te(kt).forEach(hr),kt={},Te(Ot).forEach(hr),Ot={},Bt.forEach(function(cr){pt.deleteProgram(cr.program)}),Bt.length=0,Ft={},$t.shaderCount=0},program:function(hr,cr,dr,fr){var Lr=Ft[cr];Lr||(Lr=Ft[cr]={});var xr=Lr[hr];if(xr&&(xr.refCount++,!fr))return xr;var Ke=new bt(cr,hr);return $t.shaderCount++,Et(Ke,dr,fr),xr||(Lr[hr]=Ke),Bt.push(Ke),te(Ke,{destroy:function(){if(Ke.refCount--,0>=Ke.refCount){pt.deleteProgram(Ke.program);var et=Bt.indexOf(Ke);Bt.splice(et,1),$t.shaderCount--}0>=Lr[Ke.vertId].refCount&&(pt.deleteShader(Ot[Ke.vertId]),delete Ot[Ke.vertId],delete Ft[Ke.fragId][Ke.vertId]),Object.keys(Ft[Ke.fragId]).length||(pt.deleteShader(kt[Ke.fragId]),delete kt[Ke.fragId],delete Ft[Ke.fragId])}})},restore:function(){kt={},Ot={};for(var hr=0;hr<Bt.length;++hr)Et(Bt[hr],null,Bt[hr].attributes.map(function(cr){return[cr.location,cr.name]}))},shader:lt,frag:-1,vert:-1}}function F(pt,jt,$t,mr,or,gt,lt){function bt(kt){var Ot;Ot=jt.next===null?5121:jt.next.colorAttachments[0].texture._texture.type;var Ft=0,Bt=0,Jt=mr.framebufferWidth,hr=mr.framebufferHeight,cr=null;return Oe(kt)?cr=kt:kt&&(Ft=kt.x|0,Bt=kt.y|0,Jt=(kt.width||mr.framebufferWidth-Ft)|0,hr=(kt.height||mr.framebufferHeight-Bt)|0,cr=kt.data||null),$t(),kt=Jt*hr*4,cr||(Ot===5121?cr=new Uint8Array(kt):Ot===5126&&(cr=cr||new Float32Array(kt))),pt.pixelStorei(3333,4),pt.readPixels(Ft,Bt,Jt,hr,6408,Ot,cr),cr}function Et(kt){var Ot;return jt.setFBO({framebuffer:kt.framebuffer},function(){Ot=bt(kt)}),Ot}return function(kt){return kt&&"framebuffer"in kt?Et(kt):bt(kt)}}function z(pt){for(var jt=Array(pt.length>>2),mr=0;mr<jt.length;mr++)jt[mr]=0;for(mr=0;mr<8*pt.length;mr+=8)jt[mr>>5]|=(pt.charCodeAt(mr/8)&255)<<24-mr%32;var $t=8*pt.length;pt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var mr=Array(64),or,gt,lt,bt,Et,kt,Ot,Ft,Bt,Jt,hr;for(jt[$t>>5]|=128<<24-$t%32,jt[($t+64>>9<<4)+15]=$t,Ft=0;Ft<jt.length;Ft+=16){for($t=pt[0],or=pt[1],gt=pt[2],lt=pt[3],bt=pt[4],Et=pt[5],kt=pt[6],Ot=pt[7],Bt=0;64>Bt;Bt++){if(16>Bt)mr[Bt]=jt[Bt+Ft];else{Jt=Bt,hr=mr[Bt-2],hr=Z(hr,17)^Z(hr,19)^hr>>>10,hr=q(hr,mr[Bt-7]);var cr;cr=mr[Bt-15],cr=Z(cr,7)^Z(cr,18)^cr>>>3,mr[Jt]=q(q(hr,cr),mr[Bt-16])}Jt=bt,Jt=Z(Jt,6)^Z(Jt,11)^Z(Jt,25),Jt=q(q(q(q(Ot,Jt),bt&Et^~bt&kt),We[Bt]),mr[Bt]),Ot=$t,Ot=Z(Ot,2)^Z(Ot,13)^Z(Ot,22),hr=q(Ot,$t&or^$t&gt^or&gt),Ot=kt,kt=Et,Et=bt,bt=q(lt,Jt),lt=gt,gt=or,or=$t,$t=q(Jt,hr)}pt[0]=q($t,pt[0]),pt[1]=q(or,pt[1]),pt[2]=q(gt,pt[2]),pt[3]=q(lt,pt[3]),pt[4]=q(bt,pt[4]),pt[5]=q(Et,pt[5]),pt[6]=q(kt,pt[6]),pt[7]=q(Ot,pt[7])}for(jt="",mr=0;mr<32*pt.length;mr+=8)jt+=String.fromCharCode(pt[mr>>5]>>>24-mr%32&255);return jt}function N(pt){for(var jt="",$t,mr=0;mr<pt.length;mr++)$t=pt.charCodeAt(mr),jt+="0123456789abcdef".charAt($t>>>4&15)+"0123456789abcdef".charAt($t&15);return jt}function W(pt){for(var jt="",$t=-1,mr,or;++$t<pt.length;)mr=pt.charCodeAt($t),or=$t+1<pt.length?pt.charCodeAt($t+1):0,55296<=mr&&56319>=mr&&56320<=or&&57343>=or&&(mr=65536+((mr&1023)<<10)+(or&1023),$t++),127>=mr?jt+=String.fromCharCode(mr):2047>=mr?jt+=String.fromCharCode(192|mr>>>6&31,128|mr&63):65535>=mr?jt+=String.fromCharCode(224|mr>>>12&15,128|mr>>>6&63,128|mr&63):2097151>=mr&&(jt+=String.fromCharCode(240|mr>>>18&7,128|mr>>>12&63,128|mr>>>6&63,128|mr&63));return jt}function Z(pt,jt){return pt>>>jt|pt<<32-jt}function q(pt,jt){var $t=(pt&65535)+(jt&65535);return(pt>>16)+(jt>>16)+($t>>16)<<16|$t&65535}function re(pt){return Array.prototype.slice.call(pt)}function le(pt){return re(pt).join("")}function ie(pt){function jt(){var Ot=[],Ft=[];return te(function(){Ot.push.apply(Ot,re(arguments))},{def:function(){var Bt="v"+or++;return Ft.push(Bt),0<arguments.length&&(Ot.push(Bt,"="),Ot.push.apply(Ot,re(arguments)),Ot.push(";")),Bt},toString:function(){return le([0<Ft.length?"var "+Ft.join(",")+";":"",le(Ot)])}})}function $t(){function Ot(cr,dr){Bt(cr,dr,"=",Ft.def(cr,dr),";")}var Ft=jt(),Bt=jt(),Jt=Ft.toString,hr=Bt.toString;return te(function(){Ft.apply(Ft,re(arguments))},{def:Ft.def,entry:Ft,exit:Bt,save:Ot,set:function(cr,dr,fr){Ot(cr,dr),Ft(cr,dr,"=",fr,";")},toString:function(){return Jt()+hr()}})}var mr=pt&&pt.cache,or=0,gt=[],lt=[],bt=[],Et=jt(),kt={};return{global:Et,link:function(Ot,Ft){var Bt=Ft&&Ft.stable;if(!Bt){for(var Jt=0;Jt<lt.length;++Jt)if(lt[Jt]===Ot&&!bt[Jt])return gt[Jt]}return Jt="g"+or++,gt.push(Jt),lt.push(Ot),bt.push(Bt),Jt},block:jt,proc:function(Ot,Ft){function Bt(){var dr="a"+Jt.length;return Jt.push(dr),dr}var Jt=[];Ft=Ft||0;for(var hr=0;hr<Ft;++hr)Bt();var hr=$t(),cr=hr.toString;return kt[Ot]=te(hr,{arg:Bt,toString:function(){return le(["function(",Jt.join(),"){",cr(),"}"])}})},scope:$t,cond:function(){var Ot=le(arguments),Ft=$t(),Bt=$t(),Jt=Ft.toString,hr=Bt.toString;return te(Ft,{then:function(){return Ft.apply(Ft,re(arguments)),this},else:function(){return Bt.apply(Bt,re(arguments)),this},toString:function(){var cr=hr();return cr&&(cr="else{"+cr+"}"),le(["if(",Ot,"){",Jt(),"}",cr])}})},compile:function(){var Ot=['"use strict";',Et,"return {"];Object.keys(kt).forEach(function(Jt){Ot.push('"',Jt,'":',kt[Jt].toString(),",")}),Ot.push("}");var Ft=le(Ot).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Bt;return mr&&(Bt=N(z(W(Ft))),mr[Bt])?mr[Bt].apply(null,lt):(Ft=Function.apply(null,gt.concat(Ft)),mr&&(mr[Bt]=Ft),Ft.apply(null,lt))}}}function K(pt){return Array.isArray(pt)||Oe(pt)||u(pt)}function $(pt){return pt.sort(function(jt,$t){return jt==="viewport"?-1:$t==="viewport"?1:jt<$t?-1:1})}function X(pt,jt,$t,mr){this.thisDep=pt,this.contextDep=jt,this.propDep=$t,this.append=mr}function Q(pt){return pt&&!(pt.thisDep||pt.contextDep||pt.propDep)}function se(pt){return new X(!1,!1,!1,pt)}function J(pt,jt){var $t=pt.type;if($t===0)return $t=pt.data.length,new X(!0,1<=$t,2<=$t,jt);if($t===4)return $t=pt.data,new X($t.thisDep,$t.contextDep,$t.propDep,jt);if($t===5)return new X(!1,!1,!1,jt);if($t===6){for(var mr=$t=!1,or=!1,gt=0;gt<pt.data.length;++gt){var lt=pt.data[gt];lt.type===1?or=!0:lt.type===2?mr=!0:lt.type===3?$t=!0:lt.type===0?($t=!0,lt=lt.data,1<=lt&&(mr=!0),2<=lt&&(or=!0)):lt.type===4&&($t=$t||lt.data.thisDep,mr=mr||lt.data.contextDep,or=or||lt.data.propDep)}return new X($t,mr,or,jt)}return new X($t===3,$t===2,$t===1,jt)}function G(pt,jt,$t,mr,or,gt,lt,bt,Et,kt,Ot,Ft,Bt,Jt,hr,cr){function dr(Ar){return Ar.replace(".","_")}function fr(Ar,Br,Mr){var Nr=dr(Ar);gn.push(Ar),On[Nr]=ln[Nr]=!!Mr,Cn[Nr]=Br}function Lr(Ar,Br,Mr){var Nr=dr(Ar);gn.push(Ar),Array.isArray(Mr)?(ln[Nr]=Mr.slice(),On[Nr]=Mr.slice()):ln[Nr]=On[Nr]=Mr,Bn[Nr]=Br}function xr(){var Ar=ie({cache:hr}),Br=Ar.link,Mr=Ar.global;Ar.id=Ra++,Ar.batchId="0";var Nr=Br(Qn),un=Ar.shared={props:"a0"};Object.keys(Qn).forEach(function(Yr){un[Yr]=Mr.def(Nr,".",Yr)});var Dn=Ar.next={},mn=Ar.current={};Object.keys(Bn).forEach(function(Yr){Array.isArray(ln[Yr])&&(Dn[Yr]=Mr.def(un.next,".",Yr),mn[Yr]=Mr.def(un.current,".",Yr))});var cn=Ar.constants={};Object.keys(ha).forEach(function(Yr){cn[Yr]=Mr.def(JSON.stringify(ha[Yr]))}),Ar.invoke=function(Yr,Gr){switch(Gr.type){case 0:var $r=["this",un.context,un.props,Ar.batchId];return Yr.def(Br(Gr.data),".call(",$r.slice(0,Math.max(Gr.data.length+1,4)),")");case 1:return Yr.def(un.props,Gr.data);case 2:return Yr.def(un.context,Gr.data);case 3:return Yr.def("this",Gr.data);case 4:return Gr.data.append(Ar,Yr),Gr.data.ref;case 5:return Gr.data.toString();case 6:return Gr.data.map(function(wn){return Ar.invoke(Yr,wn)})}},Ar.attribCache={};var Er={};return Ar.scopeAttrib=function(Yr){if(Yr=jt.id(Yr),Yr in Er)return Er[Yr];var Gr=kt.scope[Yr];return Gr||(Gr=kt.scope[Yr]=new ra),Er[Yr]=Br(Gr)},Ar}function Ke(Ar){var Br=Ar.static;Ar=Ar.dynamic;var Mr;if("profile"in Br){var Nr=!!Br.profile;Mr=se(function(Dn,mn){return Nr}),Mr.enable=Nr}else if("profile"in Ar){var un=Ar.profile;Mr=J(un,function(Dn,mn){return Dn.invoke(mn,un)})}return Mr}function et(Ar,Br){var Mr=Ar.static,Nr=Ar.dynamic;if("framebuffer"in Mr){var un=Mr.framebuffer;return un?(un=bt.getFramebuffer(un),se(function(mn,cn){var Er=mn.link(un),Yr=mn.shared;return cn.set(Yr.framebuffer,".next",Er),Yr=Yr.context,cn.set(Yr,".framebufferWidth",Er+".width"),cn.set(Yr,".framebufferHeight",Er+".height"),Er})):se(function(mn,cn){var Er=mn.shared;return cn.set(Er.framebuffer,".next","null"),Er=Er.context,cn.set(Er,".framebufferWidth",Er+".drawingBufferWidth"),cn.set(Er,".framebufferHeight",Er+".drawingBufferHeight"),"null"})}if("framebuffer"in Nr){var Dn=Nr.framebuffer;return J(Dn,function(mn,cn){var Gr=mn.invoke(cn,Dn),Er=mn.shared,Yr=Er.framebuffer,Gr=cn.def(Yr,".getFramebuffer(",Gr,")");return cn.set(Yr,".next",Gr),Er=Er.context,cn.set(Er,".framebufferWidth",Gr+"?"+Gr+".width:"+Er+".drawingBufferWidth"),cn.set(Er,".framebufferHeight",Gr+"?"+Gr+".height:"+Er+".drawingBufferHeight"),Gr})}return null}function er(Ar,Br,Mr){function Nr(cn){if(cn in un){var Er=un[cn];cn=!0;var Yr=Er.x|0,Gr=Er.y|0,$r,wn;return"width"in Er?$r=Er.width|0:cn=!1,"height"in Er?wn=Er.height|0:cn=!1,new X(!cn&&Br&&Br.thisDep,!cn&&Br&&Br.contextDep,!cn&&Br&&Br.propDep,function(Fn,Nn){var _n=Fn.shared.context,Wn=$r;"width"in Er||(Wn=Nn.def(_n,".","framebufferWidth","-",Yr));var jn=wn;return"height"in Er||(jn=Nn.def(_n,".","framebufferHeight","-",Gr)),[Yr,Gr,Wn,jn]})}if(cn in Dn){var An=Dn[cn];return cn=J(An,function(Fn,Nn){var Ca=Fn.invoke(Nn,An),_n=Fn.shared.context,Wn=Nn.def(Ca,".x|0"),jn=Nn.def(Ca,".y|0"),oa=Nn.def('"width" in ',Ca,"?",Ca,".width|0:","(",_n,".","framebufferWidth","-",Wn,")"),Ca=Nn.def('"height" in ',Ca,"?",Ca,".height|0:","(",_n,".","framebufferHeight","-",jn,")");return[Wn,jn,oa,Ca]}),Br&&(cn.thisDep=cn.thisDep||Br.thisDep,cn.contextDep=cn.contextDep||Br.contextDep,cn.propDep=cn.propDep||Br.propDep),cn}return Br?new X(Br.thisDep,Br.contextDep,Br.propDep,function(Fn,Nn){var _n=Fn.shared.context;return[0,0,Nn.def(_n,".","framebufferWidth"),Nn.def(_n,".","framebufferHeight")]}):null}var un=Ar.static,Dn=Ar.dynamic;if(Ar=Nr("viewport")){var mn=Ar;Ar=new X(Ar.thisDep,Ar.contextDep,Ar.propDep,function(cn,Er){var Yr=mn.append(cn,Er),Gr=cn.shared.context;return Er.set(Gr,".viewportWidth",Yr[2]),Er.set(Gr,".viewportHeight",Yr[3]),Yr})}return{viewport:Ar,scissor_box:Nr("scissor.box")}}function tr(Ar,Br){var Mr=Ar.static;if(typeof Mr.frag=="string"&&typeof Mr.vert=="string"){if(0<Object.keys(Br.dynamic).length)return null;var Mr=Br.static,Nr=Object.keys(Mr);if(0<Nr.length&&typeof Mr[Nr[0]]=="number"){for(var un=[],Dn=0;Dn<Nr.length;++Dn)un.push([Mr[Nr[Dn]]|0,Nr[Dn]]);return un}}return null}function Yt(Ar,Br,Mr){function Nr(Yr){if(Yr in un){var Gr=jt.id(un[Yr]);return Yr=se(function(){return Gr}),Yr.id=Gr,Yr}if(Yr in Dn){var $r=Dn[Yr];return J($r,function(wn,An){var Fn=wn.invoke(An,$r);return An.def(wn.shared.strings,".id(",Fn,")")})}return null}var un=Ar.static,Dn=Ar.dynamic,mn=Nr("frag"),cn=Nr("vert"),Er=null;return Q(mn)&&Q(cn)?(Er=Ot.program(cn.id,mn.id,null,Mr),Ar=se(function(Yr,Gr){return Yr.link(Er)})):Ar=new X(mn&&mn.thisDep||cn&&cn.thisDep,mn&&mn.contextDep||cn&&cn.contextDep,mn&&mn.propDep||cn&&cn.propDep,function(Yr,Gr){var $r=Yr.shared.shader,wn;wn=mn?mn.append(Yr,Gr):Gr.def($r,".","frag");var An;return An=cn?cn.append(Yr,Gr):Gr.def($r,".","vert"),Gr.def($r+".program("+An+","+wn+")")}),{frag:mn,vert:cn,progVar:Ar,program:Er}}function Pt(Ar,Br){function Mr(Fn,Nn){if(Fn in Nr){var _n=Nr[Fn]|0;return Nn?Dn.offset=_n:Dn.instances=_n,se(function(jn,oa){return Nn&&(jn.OFFSET=_n),_n})}if(Fn in un){var Wn=un[Fn];return J(Wn,function(jn,oa){var Ca=jn.invoke(oa,Wn);return Nn&&(jn.OFFSET=Ca),Ca})}if(Nn){if(Er)return se(function(jn,oa){return jn.OFFSET=0});if(mn)return new X(cn.thisDep,cn.contextDep,cn.propDep,function(jn,oa){return oa.def(jn.shared.vao+".currentVAO?"+jn.shared.vao+".currentVAO.offset:0")})}else if(mn)return new X(cn.thisDep,cn.contextDep,cn.propDep,function(jn,oa){return oa.def(jn.shared.vao+".currentVAO?"+jn.shared.vao+".currentVAO.instances:-1")});return null}var Nr=Ar.static,un=Ar.dynamic,Dn={},mn=!1,cn=function(){if("vao"in Nr){var Fn=Nr.vao;return Fn!==null&&kt.getVAO(Fn)===null&&(Fn=kt.createVAO(Fn)),mn=!0,Dn.vao=Fn,se(function(_n){var Wn=kt.getVAO(Fn);return Wn?_n.link(Wn):"null"})}if("vao"in un){mn=!0;var Nn=un.vao;return J(Nn,function(_n,Wn){var jn=_n.invoke(Wn,Nn);return Wn.def(_n.shared.vao+".getVAO("+jn+")")})}return null}(),Er=!1,Yr=function(){if("elements"in Nr){var Fn=Nr.elements;if(Dn.elements=Fn,K(Fn)){var Nn=Dn.elements=gt.create(Fn,!0),Fn=gt.getElements(Nn);Er=!0}else Fn&&(Fn=gt.getElements(Fn),Er=!0);return Nn=se(function(Wn,jn){if(Fn){var oa=Wn.link(Fn);return Wn.ELEMENTS=oa}return Wn.ELEMENTS=null}),Nn.value=Fn,Nn}if("elements"in un){Er=!0;var _n=un.elements;return J(_n,function(Wn,jn){var oa=Wn.shared,di=oa.isBufferArgs,oa=oa.elements,qa=Wn.invoke(jn,_n),Ca=jn.def("null"),di=jn.def(di,"(",qa,")"),qa=Wn.cond(di).then(Ca,"=",oa,".createStream(",qa,");").else(Ca,"=",oa,".getElements(",qa,");");return jn.entry(qa),jn.exit(Wn.cond(di).then(oa,".destroyStream(",Ca,");")),Wn.ELEMENTS=Ca})}return mn?new X(cn.thisDep,cn.contextDep,cn.propDep,function(Wn,jn){return jn.def(Wn.shared.vao+".currentVAO?"+Wn.shared.elements+".getElements("+Wn.shared.vao+".currentVAO.elements):null")}):null}(),Gr=Mr("offset",!0),$r=function(){if("primitive"in Nr){var Fn=Nr.primitive;return Dn.primitive=Fn,se(function(_n,Wn){return Ze[Fn]})}if("primitive"in un){var Nn=un.primitive;return J(Nn,function(_n,Wn){var jn=_n.constants.primTypes,oa=_n.invoke(Wn,Nn);return Wn.def(jn,"[",oa,"]")})}return Er?Q(Yr)?Yr.value?se(function(_n,Wn){return Wn.def(_n.ELEMENTS,".primType")}):se(function(){return 4}):new X(Yr.thisDep,Yr.contextDep,Yr.propDep,function(_n,Wn){var jn=_n.ELEMENTS;return Wn.def(jn,"?",jn,".primType:",4)}):mn?new X(cn.thisDep,cn.contextDep,cn.propDep,function(_n,Wn){return Wn.def(_n.shared.vao+".currentVAO?"+_n.shared.vao+".currentVAO.primitive:4")}):null}(),wn=function(){if("count"in Nr){var Fn=Nr.count|0;return Dn.count=Fn,se(function(){return Fn})}if("count"in un){var Nn=un.count;return J(Nn,function(_n,Wn){return _n.invoke(Wn,Nn)})}return Er?Q(Yr)?Yr?Gr?new X(Gr.thisDep,Gr.contextDep,Gr.propDep,function(_n,Wn){return Wn.def(_n.ELEMENTS,".vertCount-",_n.OFFSET)}):se(function(_n,Wn){return Wn.def(_n.ELEMENTS,".vertCount")}):se(function(){return-1}):new X(Yr.thisDep||Gr.thisDep,Yr.contextDep||Gr.contextDep,Yr.propDep||Gr.propDep,function(_n,Wn){var jn=_n.ELEMENTS;return _n.OFFSET?Wn.def(jn,"?",jn,".vertCount-",_n.OFFSET,":-1"):Wn.def(jn,"?",jn,".vertCount:-1")}):mn?new X(cn.thisDep,cn.contextDep,cn.propDep,function(_n,Wn){return Wn.def(_n.shared.vao,".currentVAO?",_n.shared.vao,".currentVAO.count:-1")}):null}(),An=Mr("instances",!1);return{elements:Yr,primitive:$r,count:wn,instances:An,offset:Gr,vao:cn,vaoActive:mn,elementsActive:Er,static:Dn}}function Zt(Ar,Br){var Mr=Ar.static,Nr=Ar.dynamic,un={};return gn.forEach(function(Dn){function mn(Er,Yr){if(Dn in Mr){var Gr=Er(Mr[Dn]);un[cn]=se(function(){return Gr})}else if(Dn in Nr){var $r=Nr[Dn];un[cn]=J($r,function(wn,An){return Yr(wn,An,wn.invoke(An,$r))})}}var cn=dr(Dn);switch(Dn){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return mn(function(Er){return Er},function(Er,Yr,Gr){return Gr});case"depth.func":return mn(function(Er){return Xt[Er]},function(Er,Yr,Gr){return Yr.def(Er.constants.compareFuncs,"[",Gr,"]")});case"depth.range":return mn(function(Er){return Er},function(Er,Yr,Gr){return Er=Yr.def("+",Gr,"[0]"),Yr=Yr.def("+",Gr,"[1]"),[Er,Yr]});case"blend.func":return mn(function(Er){return[Vt["srcRGB"in Er?Er.srcRGB:Er.src],Vt["dstRGB"in Er?Er.dstRGB:Er.dst],Vt["srcAlpha"in Er?Er.srcAlpha:Er.src],Vt["dstAlpha"in Er?Er.dstAlpha:Er.dst]]},function(Er,Yr,Gr){function $r(Nn,_n){return Yr.def('"',Nn,_n,'" in ',Gr,"?",Gr,".",Nn,_n,":",Gr,".",Nn)}Er=Er.constants.blendFuncs;var wn=$r("src","RGB"),Fn=$r("dst","RGB"),wn=Yr.def(Er,"[",wn,"]"),An=Yr.def(Er,"[",$r("src","Alpha"),"]"),Fn=Yr.def(Er,"[",Fn,"]");return Er=Yr.def(Er,"[",$r("dst","Alpha"),"]"),[wn,Fn,An,Er]});case"blend.equation":return mn(function(Er){if(typeof Er=="string")return[Rn[Er],Rn[Er]];if(typeof Er=="object")return[Rn[Er.rgb],Rn[Er.alpha]]},function(Er,Yr,Gr){var $r=Er.constants.blendEquations,wn=Yr.def(),An=Yr.def();return Er=Er.cond("typeof ",Gr,'==="string"'),Er.then(wn,"=",An,"=",$r,"[",Gr,"];"),Er.else(wn,"=",$r,"[",Gr,".rgb];",An,"=",$r,"[",Gr,".alpha];"),Yr(Er),[wn,An]});case"blend.color":return mn(function(Er){return o(4,function(Yr){return+Er[Yr]})},function(Er,Yr,Gr){return o(4,function($r){return Yr.def("+",Gr,"[",$r,"]")})});case"stencil.mask":return mn(function(Er){return Er|0},function(Er,Yr,Gr){return Yr.def(Gr,"|0")});case"stencil.func":return mn(function(Er){return[Xt[Er.cmp||"keep"],Er.ref||0,"mask"in Er?Er.mask:-1]},function(Er,Yr,Gr){Er=Yr.def('"cmp" in ',Gr,"?",Er.constants.compareFuncs,"[",Gr,".cmp]",":",7680);var $r=Yr.def(Gr,".ref|0");return Yr=Yr.def('"mask" in ',Gr,"?",Gr,".mask|0:-1"),[Er,$r,Yr]});case"stencil.opFront":case"stencil.opBack":return mn(function(Er){return[Dn==="stencil.opBack"?1029:1028,Tt[Er.fail||"keep"],Tt[Er.zfail||"keep"],Tt[Er.zpass||"keep"]]},function(Er,Yr,Gr){function $r(An){return Yr.def('"',An,'" in ',Gr,"?",wn,"[",Gr,".",An,"]:",7680)}var wn=Er.constants.stencilOps;return[Dn==="stencil.opBack"?1029:1028,$r("fail"),$r("zfail"),$r("zpass")]});case"polygonOffset.offset":return mn(function(Er){return[Er.factor|0,Er.units|0]},function(Er,Yr,Gr){return Er=Yr.def(Gr,".factor|0"),Yr=Yr.def(Gr,".units|0"),[Er,Yr]});case"cull.face":return mn(function(Er){var Yr=0;return Er==="front"?Yr=1028:Er==="back"&&(Yr=1029),Yr},function(Er,Yr,Gr){return Yr.def(Gr,'==="front"?',1028,":",1029)});case"lineWidth":return mn(function(Er){return Er},function(Er,Yr,Gr){return Gr});case"frontFace":return mn(function(Er){return Lt[Er]},function(Er,Yr,Gr){return Yr.def(Gr+'==="cw"?2304:2305')});case"colorMask":return mn(function(Er){return Er.map(function(Yr){return!!Yr})},function(Er,Yr,Gr){return o(4,function($r){return"!!"+Gr+"["+$r+"]"})});case"sample.coverage":return mn(function(Er){return["value"in Er?Er.value:1,!!Er.invert]},function(Er,Yr,Gr){return Er=Yr.def('"value" in ',Gr,"?+",Gr,".value:1"),Yr=Yr.def("!!",Gr,".invert"),[Er,Yr]})}}),un}function nr(Ar,Br){var Mr=Ar.static,Nr=Ar.dynamic,un={};return Object.keys(Mr).forEach(function(Dn){var mn=Mr[Dn],cn;if(typeof mn=="number"||typeof mn=="boolean")cn=se(function(){return mn});else if(typeof mn=="function"){var Er=mn._reglType;Er==="texture2d"||Er==="textureCube"?cn=se(function(Yr){return Yr.link(mn)}):(Er==="framebuffer"||Er==="framebufferCube")&&(cn=se(function(Yr){return Yr.link(mn.color[0])}))}else T(mn)&&(cn=se(function(Yr){return Yr.global.def("[",o(mn.length,function(Gr){return mn[Gr]}),"]")}));cn.value=mn,un[Dn]=cn}),Object.keys(Nr).forEach(function(Dn){var mn=Nr[Dn];un[Dn]=J(mn,function(cn,Er){return cn.invoke(Er,mn)})}),un}function Qt(Ar,Br){var Mr=Ar.static,Nr=Ar.dynamic,un={};return Object.keys(Mr).forEach(function(Dn){var mn=Mr[Dn],cn=jt.id(Dn),Er=new ra;if(K(mn))Er.state=1,Er.buffer=or.getBuffer(or.create(mn,34962,!1,!0)),Er.type=0;else{var Yr=or.getBuffer(mn);if(Yr)Er.state=1,Er.buffer=Yr,Er.type=0;else if("constant"in mn){var Gr=mn.constant;Er.buffer="null",Er.state=2,typeof Gr=="number"?Er.x=Gr:rt.forEach(function(_n,Wn){Wn<Gr.length&&(Er[_n]=Gr[Wn])})}else{var Yr=K(mn.buffer)?or.getBuffer(or.create(mn.buffer,34962,!1,!0)):or.getBuffer(mn.buffer),$r=mn.offset|0,wn=mn.stride|0,An=mn.size|0,Fn=!!mn.normalized,Nn=0;"type"in mn&&(Nn=ke[mn.type]),mn=mn.divisor|0,Er.buffer=Yr,Er.state=1,Er.size=An,Er.normalized=Fn,Er.type=Nn||Yr.dtype,Er.offset=$r,Er.stride=wn,Er.divisor=mn}}un[Dn]=se(function(_n,Wn){var jn=_n.attribCache;if(cn in jn)return jn[cn];var oa={isStream:!1};return Object.keys(Er).forEach(function(Ca){oa[Ca]=Er[Ca]}),Er.buffer&&(oa.buffer=_n.link(Er.buffer),oa.type=oa.type||oa.buffer+".dtype"),jn[cn]=oa})}),Object.keys(Nr).forEach(function(Dn){var mn=Nr[Dn];un[Dn]=J(mn,function(cn,Er){function Yr(jn){Er(Fn[jn],"=",Gr,".",jn,"|0;")}var Gr=cn.invoke(Er,mn),An=cn.shared,$r=cn.constants,wn=An.isBufferArgs,An=An.buffer,Fn={isStream:Er.def(!1)},Nn=new ra;Nn.state=1,Object.keys(Nn).forEach(function(jn){Fn[jn]=Er.def(""+Nn[jn])});var _n=Fn.buffer,Wn=Fn.type;return Er("if(",wn,"(",Gr,")){",Fn.isStream,"=true;",_n,"=",An,".createStream(",34962,",",Gr,");",Wn,"=",_n,".dtype;","}else{",_n,"=",An,".getBuffer(",Gr,");","if(",_n,"){",Wn,"=",_n,".dtype;",'}else if("constant" in ',Gr,"){",Fn.state,"=",2,";","if(typeof "+Gr+'.constant === "number"){',Fn[rt[0]],"=",Gr,".constant;",rt.slice(1).map(function(jn){return Fn[jn]}).join("="),"=0;","}else{",rt.map(function(jn,oa){return Fn[jn]+"="+Gr+".constant.length>"+oa+"?"+Gr+".constant["+oa+"]:0;"}).join(""),"}}else{","if(",wn,"(",Gr,".buffer)){",_n,"=",An,".createStream(",34962,",",Gr,".buffer);","}else{",_n,"=",An,".getBuffer(",Gr,".buffer);","}",Wn,'="type" in ',Gr,"?",$r.glTypes,"[",Gr,".type]:",_n,".dtype;",Fn.normalized,"=!!",Gr,".normalized;"),Yr("size"),Yr("offset"),Yr("stride"),Yr("divisor"),Er("}}"),Er.exit("if(",Fn.isStream,"){",An,".destroyStream(",_n,");","}"),Fn})}),un}function Wt(Ar){var Br=Ar.static,Mr=Ar.dynamic,Nr={};return Object.keys(Br).forEach(function(un){var Dn=Br[un];Nr[un]=se(function(mn,cn){return typeof Dn=="number"||typeof Dn=="boolean"?""+Dn:mn.link(Dn)})}),Object.keys(Mr).forEach(function(un){var Dn=Mr[un];Nr[un]=J(Dn,function(mn,cn){return mn.invoke(cn,Dn)})}),Nr}function yr(Ar,Br,Mr,Nr,un){function Dn(Nn){var _n=cn[Nn];_n&&(Yr[Nn]=_n)}var mn=tr(Ar,Br),wn=et(Ar),cn=er(Ar,wn),Er=Pt(Ar),Yr=Zt(Ar),Gr=Yt(Ar,un,mn);Dn("viewport"),Dn(dr("scissor.box"));var $r=0<Object.keys(Yr).length,wn={framebuffer:wn,draw:Er,shader:Gr,state:Yr,dirty:$r,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(wn.profile=Ke(Ar),wn.uniforms=nr(Mr),wn.drawVAO=wn.scopeVAO=Er.vao,!wn.drawVAO&&Gr.program&&!mn&&$t.angle_instanced_arrays&&Er.static.elements){var An=!0;if(Ar=Gr.program.attributes.map(function(Nn){return Nn=Br.static[Nn],An=An&&!!Nn,Nn}),An&&0<Ar.length){var Fn=kt.getVAO(kt.createVAO({attributes:Ar,elements:Er.static.elements}));wn.drawVAO=new X(null,null,null,function(Nn,_n){return Nn.link(Fn)}),wn.useVAO=!0}}return mn?wn.useVAO=!0:wn.attributes=Qt(Br),wn.context=Wt(Nr),wn}function Ir(Ar,Br,Mr){var Nr=Ar.shared.context,un=Ar.scope();Object.keys(Mr).forEach(function(Dn){Br.save(Nr,"."+Dn);var mn=Mr[Dn].append(Ar,Br);Array.isArray(mn)?un(Nr,".",Dn,"=[",mn.join(),"];"):un(Nr,".",Dn,"=",mn,";")}),Br(un)}function Tr(Ar,Br,Mr,Nr){var cn=Ar.shared,un=cn.gl,Dn=cn.framebuffer,mn;an&&(mn=Br.def(cn.extensions,".webgl_draw_buffers"));var Er=Ar.constants,cn=Er.drawBuffer,Er=Er.backBuffer;Ar=Mr?Mr.append(Ar,Br):Br.def(Dn,".next"),Nr||Br("if(",Ar,"!==",Dn,".cur){"),Br("if(",Ar,"){",un,".bindFramebuffer(",36160,",",Ar,".framebuffer);"),an&&Br(mn,".drawBuffersWEBGL(",cn,"[",Ar,".colorAttachments.length]);"),Br("}else{",un,".bindFramebuffer(",36160,",null);"),an&&Br(mn,".drawBuffersWEBGL(",Er,");"),Br("}",Dn,".cur=",Ar,";"),Nr||Br("}")}function vn(Ar,Br,Mr){var Nr=Ar.shared,un=Nr.gl,Dn=Ar.current,mn=Ar.next,cn=Nr.current,Er=Nr.next,Yr=Ar.cond(cn,".dirty");gn.forEach(function(Gr){if(Gr=dr(Gr),!(Gr in Mr.state)){var $r,wn;if(Gr in mn){$r=mn[Gr],wn=Dn[Gr];var An=o(ln[Gr].length,function(Fn){return Yr.def($r,"[",Fn,"]")});Yr(Ar.cond(An.map(function(Fn,Nn){return Fn+"!=="+wn+"["+Nn+"]"}).join("||")).then(un,".",Bn[Gr],"(",An,");",An.map(function(Fn,Nn){return wn+"["+Nn+"]="+Fn}).join(";"),";"))}else $r=Yr.def(Er,".",Gr),An=Ar.cond($r,"!==",cn,".",Gr),Yr(An),Gr in Cn?An(Ar.cond($r).then(un,".enable(",Cn[Gr],");").else(un,".disable(",Cn[Gr],");"),cn,".",Gr,"=",$r,";"):An(un,".",Bn[Gr],"(",$r,");",cn,".",Gr,"=",$r,";")}}),Object.keys(Mr.state).length===0&&Yr(cn,".dirty=false;"),Br(Yr)}function Or(Ar,Br,Mr,Nr){var un=Ar.shared,Dn=Ar.current,mn=un.current,cn=un.gl,Er;$(Object.keys(Mr)).forEach(function(Yr){var Gr=Mr[Yr];if(!Nr||Nr(Gr)){var $r=Gr.append(Ar,Br);if(Cn[Yr]){var wn=Cn[Yr];Q(Gr)?(Er=Ar.link($r,{stable:!0}),Br(Ar.cond(Er).then(cn,".enable(",wn,");").else(cn,".disable(",wn,");")),Br(mn,".",Yr,"=",Er,";")):(Br(Ar.cond($r).then(cn,".enable(",wn,");").else(cn,".disable(",wn,");")),Br(mn,".",Yr,"=",$r,";"))}else if(T($r)){var An=Dn[Yr];Br(cn,".",Bn[Yr],"(",$r,");",$r.map(function(Fn,Nn){return An+"["+Nn+"]="+Fn}).join(";"),";")}else Q(Gr)?(Er=Ar.link($r,{stable:!0}),Br(cn,".",Bn[Yr],"(",Er,");",mn,".",Yr,"=",Er,";")):Br(cn,".",Bn[Yr],"(",$r,");",mn,".",Yr,"=",$r,";")}})}function En(Ar,Br){Cr&&(Ar.instancing=Br.def(Ar.shared.extensions,".angle_instanced_arrays"))}function nn(Ar,Br,Mr,Nr,un){function Dn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function mn(Nn){An=Br.def(),Nn(An,"=",Dn(),";"),typeof un=="string"?Nn(Gr,".count+=",un,";"):Nn(Gr,".count++;"),Jt&&(Nr?(Fn=Br.def(),Nn(Fn,"=",wn,".getNumPendingQueries();")):Nn(wn,".beginQuery(",Gr,");"))}function cn(Nn){Nn(Gr,".cpuTime+=",Dn(),"-",An,";"),Jt&&(Nr?Nn(wn,".pushScopeStats(",Fn,",",wn,".getNumPendingQueries(),",Gr,");"):Nn(wn,".endQuery();"))}function Er(Nn){var _n=Br.def($r,".profile");Br($r,".profile=",Nn,";"),Br.exit($r,".profile=",_n,";")}var Yr=Ar.shared,Gr=Ar.stats,$r=Yr.current,wn=Yr.timer;Mr=Mr.profile;var An,Fn;if(Mr){if(Q(Mr)){Mr.enable?(mn(Br),cn(Br.exit),Er("true")):Er("false");return}Mr=Mr.append(Ar,Br),Er(Mr)}else Mr=Br.def($r,".profile");Yr=Ar.block(),mn(Yr),Br("if(",Mr,"){",Yr,"}"),Ar=Ar.block(),cn(Ar),Br.exit("if(",Mr,"){",Ar,"}")}function gr(Ar,Br,Mr,Nr,un){function Dn(Er){switch(Er){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function mn(Er,Yr,Gr){function $r(){Br("if(!",Nn,".buffer){",An,".enableVertexAttribArray(",Fn,");}");var oa=Gr.type,Ca;Ca=Gr.size?Br.def(Gr.size,"||",Yr):Yr,Br("if(",Nn,".type!==",oa,"||",Nn,".size!==",Ca,"||",jn.map(function(di){return Nn+"."+di+"!=="+Gr[di]}).join("||"),"){",An,".bindBuffer(",34962,",",_n,".buffer);",An,".vertexAttribPointer(",[Fn,Ca,oa,Gr.normalized,Gr.stride,Gr.offset],");",Nn,".type=",oa,";",Nn,".size=",Ca,";",jn.map(function(di){return Nn+"."+di+"="+Gr[di]+";"}).join(""),"}"),Cr&&(oa=Gr.divisor,Br("if(",Nn,".divisor!==",oa,"){",Ar.instancing,".vertexAttribDivisorANGLE(",[Fn,oa],");",Nn,".divisor=",oa,";}"))}function wn(){Br("if(",Nn,".buffer){",An,".disableVertexAttribArray(",Fn,");",Nn,".buffer=null;","}if(",rt.map(function(oa,Ca){return Nn+"."+oa+"!=="+Wn[Ca]}).join("||"),"){",An,".vertexAttrib4f(",Fn,",",Wn,");",rt.map(function(oa,Ca){return Nn+"."+oa+"="+Wn[Ca]+";"}).join(""),"}")}var An=cn.gl,Fn=Br.def(Er,".location"),Nn=Br.def(cn.attributes,"[",Fn,"]");Er=Gr.state;var _n=Gr.buffer,Wn=[Gr.x,Gr.y,Gr.z,Gr.w],jn=["buffer","normalized","offset","stride"];Er===1?$r():Er===2?wn():(Br("if(",Er,"===",1,"){"),$r(),Br("}else{"),wn(),Br("}"))}var cn=Ar.shared;Nr.forEach(function(Er){var Yr=Er.name,Gr=Mr.attributes[Yr],$r;if(Gr){if(!un(Gr))return;$r=Gr.append(Ar,Br)}else{if(!un(Kt))return;var wn=Ar.scopeAttrib(Yr);$r={},Object.keys(new ra).forEach(function(An){$r[An]=Br.def(wn,".",An)})}mn(Ar.link(Er),Dn(Er.info.type),$r)})}function Pr(Ar,Br,Mr,Nr,un,Dn){for(var mn=Ar.shared,cn=mn.gl,Er,Yr=0;Yr<Nr.length;++Yr){var An=Nr[Yr],Gr=An.name,$r=An.info.type,wn=Mr.uniforms[Gr],An=Ar.link(An)+".location",Fn;if(wn){if(!un(wn))continue;if(Q(wn)){if(Gr=wn.value,$r===35678||$r===35680)$r=Ar.link(Gr._texture||Gr.color[0]._texture),Br(cn,".uniform1i(",An,",",$r+".bind());"),Br.exit($r,".unbind();");else if($r===35674||$r===35675||$r===35676)Gr=Ar.global.def("new Float32Array(["+Array.prototype.slice.call(Gr)+"])"),wn=2,$r===35675?wn=3:$r===35676&&(wn=4),Br(cn,".uniformMatrix",wn,"fv(",An,",false,",Gr,");");else{switch($r){case 5126:Er="1f";break;case 35664:Er="2f";break;case 35665:Er="3f";break;case 35666:Er="4f";break;case 35670:Er="1i";break;case 5124:Er="1i";break;case 35671:Er="2i";break;case 35667:Er="2i";break;case 35672:Er="3i";break;case 35668:Er="3i";break;case 35673:Er="4i";break;case 35669:Er="4i"}Br(cn,".uniform",Er,"(",An,",",T(Gr)?Array.prototype.slice.call(Gr):Gr,");")}continue}else Fn=wn.append(Ar,Br)}else{if(!un(Kt))continue;Fn=Br.def(mn.uniforms,"[",jt.id(Gr),"]")}switch($r===35678?Br("if(",Fn,"&&",Fn,'._reglType==="framebuffer"){',Fn,"=",Fn,".color[0];","}"):$r===35680&&Br("if(",Fn,"&&",Fn,'._reglType==="framebufferCube"){',Fn,"=",Fn,".color[0];","}"),Gr=1,$r){case 35678:case 35680:$r=Br.def(Fn,"._texture"),Br(cn,".uniform1i(",An,",",$r,".bind());"),Br.exit($r,".unbind();");continue;case 5124:case 35670:Er="1i";break;case 35667:case 35671:Er="2i",Gr=2;break;case 35668:case 35672:Er="3i",Gr=3;break;case 35669:case 35673:Er="4i",Gr=4;break;case 5126:Er="1f";break;case 35664:Er="2f",Gr=2;break;case 35665:Er="3f",Gr=3;break;case 35666:Er="4f",Gr=4;break;case 35674:Er="Matrix2fv";break;case 35675:Er="Matrix3fv";break;case 35676:Er="Matrix4fv"}if(Er.charAt(0)==="M"){Br(cn,".uniform",Er,"(",An,",");var An=Math.pow($r-35674+2,2),Nn=Ar.global.def("new Float32Array(",An,")");Array.isArray(Fn)?Br("false,(",o(An,function(jn){return Nn+"["+jn+"]="+Fn[jn]}),",",Nn,")"):Br("false,(Array.isArray(",Fn,")||",Fn," instanceof Float32Array)?",Fn,":(",o(An,function(jn){return Nn+"["+jn+"]="+Fn+"["+jn+"]"}),",",Nn,")"),Br(");")}else{if(1<Gr){for(var $r=[],_n=[],wn=0;wn<Gr;++wn)Array.isArray(Fn)?_n.push(Fn[wn]):_n.push(Br.def(Fn+"["+wn+"]")),Dn&&$r.push(Br.def());Dn&&Br("if(!",Ar.batchId,"||",$r.map(function(Wn,jn){return Wn+"!=="+_n[jn]}).join("||"),"){",$r.map(function(Wn,jn){return Wn+"="+_n[jn]+";"}).join("")),Br(cn,".uniform",Er,"(",An,",",_n.join(","),");")}else Dn&&($r=Br.def(),Br("if(!",Ar.batchId,"||",$r,"!==",Fn,"){",$r,"=",Fn,";")),Br(cn,".uniform",Er,"(",An,",",Fn,");");Dn&&Br("}")}}}function Xr(Ar,Br,Mr,Nr){function un(oa){var Ca=Gr[oa];return Ca?Ca.contextDep&&Nr.contextDynamic||Ca.propDep?Ca.append(Ar,Mr):Ca.append(Ar,Br):Br.def(Yr,".",oa)}function Dn(){function oa(){Mr(_n,".drawElementsInstancedANGLE(",[wn,Fn,Wn,An+"<<(("+Wn+"-5121)>>1)",Nn],");")}function Ca(){Mr(_n,".drawArraysInstancedANGLE(",[wn,An,Fn,Nn],");")}$r&&$r!=="null"?jn?oa():(Mr("if(",$r,"){"),oa(),Mr("}else{"),Ca(),Mr("}")):Ca()}function mn(){function oa(){Mr(Er+".drawElements("+[wn,Fn,Wn,An+"<<(("+Wn+"-5121)>>1)"]+");")}function Ca(){Mr(Er+".drawArrays("+[wn,An,Fn]+");")}$r&&$r!=="null"?jn?oa():(Mr("if(",$r,"){"),oa(),Mr("}else{"),Ca(),Mr("}")):Ca()}var cn=Ar.shared,Er=cn.gl,Yr=cn.draw,Gr=Nr.draw,$r=function(){var oa=Gr.elements,Ca=Br;return oa?((oa.contextDep&&Nr.contextDynamic||oa.propDep)&&(Ca=Mr),oa=oa.append(Ar,Ca),Gr.elementsActive&&Ca("if("+oa+")"+Er+".bindBuffer(34963,"+oa+".buffer.buffer);")):(oa=Ca.def(),Ca(oa,"=",Yr,".","elements",";","if(",oa,"){",Er,".bindBuffer(",34963,",",oa,".buffer.buffer);}","else if(",cn.vao,".currentVAO){",oa,"=",Ar.shared.elements+".getElements("+cn.vao,".currentVAO.elements);",on?"":"if("+oa+")"+Er+".bindBuffer(34963,"+oa+".buffer.buffer);","}")),oa}(),wn=un("primitive"),An=un("offset"),Fn=function(){var oa=Gr.count,Ca=Br;return oa?((oa.contextDep&&Nr.contextDynamic||oa.propDep)&&(Ca=Mr),oa=oa.append(Ar,Ca)):oa=Ca.def(Yr,".","count"),oa}();if(typeof Fn=="number"){if(Fn===0)return}else Mr("if(",Fn,"){"),Mr.exit("}");var Nn,_n;Cr&&(Nn=un("instances"),_n=Ar.instancing);var Wn=$r+".type",jn=Gr.elements&&Q(Gr.elements)&&!Gr.vaoActive;Cr&&(typeof Nn!="number"||0<=Nn)?typeof Nn=="string"?(Mr("if(",Nn,">0){"),Dn(),Mr("}else if(",Nn,"<0){"),mn(),Mr("}")):Dn():mn()}function kr(Ar,Br,Mr,Nr,un){return Br=xr(),un=Br.proc("body",un),Cr&&(Br.instancing=un.def(Br.shared.extensions,".angle_instanced_arrays")),Ar(Br,un,Mr,Nr),Br.compile().body}function pn(Ar,Br,Mr,Nr){En(Ar,Br),Mr.useVAO?Mr.drawVAO?Br(Ar.shared.vao,".setVAO(",Mr.drawVAO.append(Ar,Br),");"):Br(Ar.shared.vao,".setVAO(",Ar.shared.vao,".targetVAO);"):(Br(Ar.shared.vao,".setVAO(null);"),gr(Ar,Br,Mr,Nr.attributes,function(){return!0})),Pr(Ar,Br,Mr,Nr.uniforms,function(){return!0},!1),Xr(Ar,Br,Br,Mr)}function tn(Ar,Br){var Mr=Ar.proc("draw",1);En(Ar,Mr),Ir(Ar,Mr,Br.context),Tr(Ar,Mr,Br.framebuffer),vn(Ar,Mr,Br),Or(Ar,Mr,Br.state),nn(Ar,Mr,Br,!1,!0);var Nr=Br.shader.progVar.append(Ar,Mr);if(Mr(Ar.shared.gl,".useProgram(",Nr,".program);"),Br.shader.program)pn(Ar,Mr,Br,Br.shader.program);else{Mr(Ar.shared.vao,".setVAO(null);");var un=Ar.global.def("{}"),Dn=Mr.def(Nr,".id"),mn=Mr.def(un,"[",Dn,"]");Mr(Ar.cond(mn).then(mn,".call(this,a0);").else(mn,"=",un,"[",Dn,"]=",Ar.link(function(cn){return kr(pn,Ar,Br,cn,1)}),"(",Nr,");",mn,".call(this,a0);"))}0<Object.keys(Br.state).length&&Mr(Ar.shared.current,".dirty=true;"),Ar.shared.vao&&Mr(Ar.shared.vao,".setVAO(null);")}function Tn(Ar,Br,Mr,Nr){function un(){return!0}Ar.batchId="a1",En(Ar,Br),gr(Ar,Br,Mr,Nr.attributes,un),Pr(Ar,Br,Mr,Nr.uniforms,un,!1),Xr(Ar,Br,Br,Mr)}function Ln(Ar,Br,Mr,Nr){function un($r){return $r.contextDep&&mn||$r.propDep}function Dn($r){return!un($r)}En(Ar,Br);var mn=Mr.contextDep,cn=Br.def(),Er=Br.def();Ar.shared.props=Er,Ar.batchId=cn;var Yr=Ar.scope(),Gr=Ar.scope();Br(Yr.entry,"for(",cn,"=0;",cn,"<","a1",";++",cn,"){",Er,"=","a0","[",cn,"];",Gr,"}",Yr.exit),Mr.needsContext&&Ir(Ar,Gr,Mr.context),Mr.needsFramebuffer&&Tr(Ar,Gr,Mr.framebuffer),Or(Ar,Gr,Mr.state,un),Mr.profile&&un(Mr.profile)&&nn(Ar,Gr,Mr,!1,!0),Nr?(Mr.useVAO?Mr.drawVAO?un(Mr.drawVAO)?Gr(Ar.shared.vao,".setVAO(",Mr.drawVAO.append(Ar,Gr),");"):Yr(Ar.shared.vao,".setVAO(",Mr.drawVAO.append(Ar,Yr),");"):Yr(Ar.shared.vao,".setVAO(",Ar.shared.vao,".targetVAO);"):(Yr(Ar.shared.vao,".setVAO(null);"),gr(Ar,Yr,Mr,Nr.attributes,Dn),gr(Ar,Gr,Mr,Nr.attributes,un)),Pr(Ar,Yr,Mr,Nr.uniforms,Dn,!1),Pr(Ar,Gr,Mr,Nr.uniforms,un,!0),Xr(Ar,Yr,Gr,Mr)):(Br=Ar.global.def("{}"),Nr=Mr.shader.progVar.append(Ar,Gr),Er=Gr.def(Nr,".id"),Yr=Gr.def(Br,"[",Er,"]"),Gr(Ar.shared.gl,".useProgram(",Nr,".program);","if(!",Yr,"){",Yr,"=",Br,"[",Er,"]=",Ar.link(function($r){return kr(Tn,Ar,Mr,$r,2)}),"(",Nr,");}",Yr,".call(this,a0[",cn,"],",cn,");"))}function Hn(Ar,Br){function Mr(Yr){return Yr.contextDep&&un||Yr.propDep}var Nr=Ar.proc("batch",2);Ar.batchId="0",En(Ar,Nr);var un=!1,Dn=!0;Object.keys(Br.context).forEach(function(Yr){un=un||Br.context[Yr].propDep}),un||(Ir(Ar,Nr,Br.context),Dn=!1);var mn=Br.framebuffer,cn=!1;if(mn?(mn.propDep?un=cn=!0:mn.contextDep&&un&&(cn=!0),cn||Tr(Ar,Nr,mn)):Tr(Ar,Nr,null),Br.state.viewport&&Br.state.viewport.propDep&&(un=!0),vn(Ar,Nr,Br),Or(Ar,Nr,Br.state,function(Yr){return!Mr(Yr)}),Br.profile&&Mr(Br.profile)||nn(Ar,Nr,Br,!1,"a1"),Br.contextDep=un,Br.needsContext=Dn,Br.needsFramebuffer=cn,Dn=Br.shader.progVar,Dn.contextDep&&un||Dn.propDep)Ln(Ar,Nr,Br,null);else if(Dn=Dn.append(Ar,Nr),Nr(Ar.shared.gl,".useProgram(",Dn,".program);"),Br.shader.program)Ln(Ar,Nr,Br,Br.shader.program);else{Nr(Ar.shared.vao,".setVAO(null);");var mn=Ar.global.def("{}"),cn=Nr.def(Dn,".id"),Er=Nr.def(mn,"[",cn,"]");Nr(Ar.cond(Er).then(Er,".call(this,a0,a1);").else(Er,"=",mn,"[",cn,"]=",Ar.link(function($r){return kr(Ln,Ar,Br,$r,2)}),"(",Dn,");",Er,".call(this,a0,a1);"))}0<Object.keys(Br.state).length&&Nr(Ar.shared.current,".dirty=true;"),Ar.shared.vao&&Nr(Ar.shared.vao,".setVAO(null);")}function pa(Ar,Br){function Mr(cn){var Er=Br.shader[cn];Er&&(Er=Er.append(Ar,Nr),isNaN(Er)?Nr.set(un.shader,"."+cn,Er):Nr.set(un.shader,"."+cn,Ar.link(Er,{stable:!0})))}var Nr=Ar.proc("scope",3);Ar.batchId="a2";var un=Ar.shared,Dn=un.current;if(Ir(Ar,Nr,Br.context),Br.framebuffer&&Br.framebuffer.append(Ar,Nr),$(Object.keys(Br.state)).forEach(function(cn){var Er=Br.state[cn],Yr=Er.append(Ar,Nr);T(Yr)?Yr.forEach(function(Gr,$r){isNaN(Gr)?Nr.set(Ar.next[cn],"["+$r+"]",Gr):Nr.set(Ar.next[cn],"["+$r+"]",Ar.link(Gr,{stable:!0}))}):Q(Er)?Nr.set(un.next,"."+cn,Ar.link(Yr,{stable:!0})):Nr.set(un.next,"."+cn,Yr)}),nn(Ar,Nr,Br,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(cn){var Er=Br.draw[cn];Er&&(Er=Er.append(Ar,Nr),isNaN(Er)?Nr.set(un.draw,"."+cn,Er):Nr.set(un.draw,"."+cn,Ar.link(Er),{stable:!0}))}),Object.keys(Br.uniforms).forEach(function(cn){var Er=Br.uniforms[cn].append(Ar,Nr);Array.isArray(Er)&&(Er="["+Er.map(function(Yr){return isNaN(Yr)?Yr:Ar.link(Yr,{stable:!0})})+"]"),Nr.set(un.uniforms,"["+Ar.link(jt.id(cn),{stable:!0})+"]",Er)}),Object.keys(Br.attributes).forEach(function(cn){var Er=Br.attributes[cn].append(Ar,Nr),Yr=Ar.scopeAttrib(cn);Object.keys(new ra).forEach(function(Gr){Nr.set(Yr,"."+Gr,Er[Gr])})}),Br.scopeVAO){var mn=Br.scopeVAO.append(Ar,Nr);isNaN(mn)?Nr.set(un.vao,".targetVAO",mn):Nr.set(un.vao,".targetVAO",Ar.link(mn,{stable:!0}))}Mr("vert"),Mr("frag"),0<Object.keys(Br.state).length&&(Nr(Dn,".dirty=true;"),Nr.exit(Dn,".dirty=true;")),Nr("a1(",Ar.shared.context,",a0,",Ar.batchId,");")}function xa(Ar){if(typeof Ar=="object"&&!T(Ar)){for(var Br=Object.keys(Ar),Mr=0;Mr<Br.length;++Mr)if(ge.isDynamic(Ar[Br[Mr]]))return!0;return!1}}function ia(Ar,Br,Mr){function Nr($r,wn){mn.forEach(function(An){var Fn=un[An];ge.isDynamic(Fn)&&(Fn=$r.invoke(wn,Fn),wn(Gr,".",An,"=",Fn,";"))})}var un=Br.static[Mr];if(un&&xa(un)){var Dn=Ar.global,mn=Object.keys(un),cn=!1,Er=!1,Yr=!1,Gr=Ar.global.def("{}");mn.forEach(function($r){var wn=un[$r];if(ge.isDynamic(wn))typeof wn=="function"&&(wn=un[$r]=ge.unbox(wn)),$r=J(wn,null),cn=cn||$r.thisDep,Yr=Yr||$r.propDep,Er=Er||$r.contextDep;else{switch(Dn(Gr,".",$r,"="),typeof wn){case"number":Dn(wn);break;case"string":Dn('"',wn,'"');break;case"object":Array.isArray(wn)&&Dn("[",wn.join(),"]");break;default:Dn(Ar.link(wn))}Dn(";")}}),Br.dynamic[Mr]=new ge.DynamicVariable(4,{thisDep:cn,contextDep:Er,propDep:Yr,ref:Gr,append:Nr}),delete Br.static[Mr]}}var ra=kt.Record,Rn={add:32774,subtract:32778,"reverse subtract":32779};$t.ext_blend_minmax&&(Rn.min=32775,Rn.max=32776);var Cr=$t.angle_instanced_arrays,an=$t.webgl_draw_buffers,on=$t.oes_vertex_array_object,ln={dirty:!0,profile:cr.profile},On={},gn=[],Cn={},Bn={};fr("dither",3024),fr("blend.enable",3042),Lr("blend.color","blendColor",[0,0,0,0]),Lr("blend.equation","blendEquationSeparate",[32774,32774]),Lr("blend.func","blendFuncSeparate",[1,0,1,0]),fr("depth.enable",2929,!0),Lr("depth.func","depthFunc",513),Lr("depth.range","depthRange",[0,1]),Lr("depth.mask","depthMask",!0),Lr("colorMask","colorMask",[!0,!0,!0,!0]),fr("cull.enable",2884),Lr("cull.face","cullFace",1029),Lr("frontFace","frontFace",2305),Lr("lineWidth","lineWidth",1),fr("polygonOffset.enable",32823),Lr("polygonOffset.offset","polygonOffset",[0,0]),fr("sample.alpha",32926),fr("sample.enable",32928),Lr("sample.coverage","sampleCoverage",[1,!1]),fr("stencil.enable",2960),Lr("stencil.mask","stencilMask",-1),Lr("stencil.func","stencilFunc",[519,0,-1]),Lr("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Lr("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),fr("scissor.enable",3089),Lr("scissor.box","scissor",[0,0,pt.drawingBufferWidth,pt.drawingBufferHeight]),Lr("viewport","viewport",[0,0,pt.drawingBufferWidth,pt.drawingBufferHeight]);var Qn={gl:pt,context:Bt,strings:jt,next:On,current:ln,draw:Ft,elements:gt,buffer:or,shader:Ot,attributes:kt.state,vao:kt,uniforms:Et,framebuffer:bt,extensions:$t,timer:Jt,isBufferArgs:K},ha={primTypes:Ze,compareFuncs:Xt,blendFuncs:Vt,blendEquations:Rn,stencilOps:Tt,glTypes:ke,orientationType:Lt};an&&(ha.backBuffer=[1029],ha.drawBuffer=o(mr.maxDrawbuffers,function(Ar){return Ar===0?[0]:o(Ar,function(Br){return 36064+Br})}));var Ra=0;return{next:On,current:ln,procs:function(){var Ar=xr(),Br=Ar.proc("poll"),Mr=Ar.proc("refresh"),Nr=Ar.block();Br(Nr),Mr(Nr);var Er=Ar.shared,un=Er.gl,Dn=Er.next,mn=Er.current;Nr(mn,".dirty=false;"),Tr(Ar,Br),Tr(Ar,Mr,null,!0);var cn;Cr&&(cn=Ar.link(Cr)),$t.oes_vertex_array_object&&Mr(Ar.link($t.oes_vertex_array_object),".bindVertexArrayOES(null);");var Er=Mr.def(Er.attributes),Yr=Mr.def(0),Gr=Ar.cond(Yr,".buffer");Gr.then(un,".enableVertexAttribArray(i);",un,".bindBuffer(",34962,",",Yr,".buffer.buffer);",un,".vertexAttribPointer(i,",Yr,".size,",Yr,".type,",Yr,".normalized,",Yr,".stride,",Yr,".offset);").else(un,".disableVertexAttribArray(i);",un,".vertexAttrib4f(i,",Yr,".x,",Yr,".y,",Yr,".z,",Yr,".w);",Yr,".buffer=null;");var $r=Ar.link(mr.maxAttributes,{stable:!0});return Mr("for(var i=0;i<",$r,";++i){",Yr,"=",Er,"[i];",Gr,"}"),Cr&&Mr("for(var i=0;i<",$r,";++i){",cn,".vertexAttribDivisorANGLE(i,",Er,"[i].divisor);","}"),Mr(Ar.shared.vao,".currentVAO=null;",Ar.shared.vao,".setVAO(",Ar.shared.vao,".targetVAO);"),Object.keys(Cn).forEach(function(wn){var An=Cn[wn],Fn=Nr.def(Dn,".",wn),Nn=Ar.block();Nn("if(",Fn,"){",un,".enable(",An,")}else{",un,".disable(",An,")}",mn,".",wn,"=",Fn,";"),Mr(Nn),Br("if(",Fn,"!==",mn,".",wn,"){",Nn,"}")}),Object.keys(Bn).forEach(function(wn){var An=Bn[wn],Fn=ln[wn],Nn,_n,Wn=Ar.block();Wn(un,".",An,"("),T(Fn)?(An=Fn.length,Nn=Ar.global.def(Dn,".",wn),_n=Ar.global.def(mn,".",wn),Wn(o(An,function(jn){return Nn+"["+jn+"]"}),");",o(An,function(jn){return _n+"["+jn+"]="+Nn+"["+jn+"];"}).join("")),Br("if(",o(An,function(jn){return Nn+"["+jn+"]!=="+_n+"["+jn+"]"}).join("||"),"){",Wn,"}")):(Nn=Nr.def(Dn,".",wn),_n=Nr.def(mn,".",wn),Wn(Nn,");",mn,".",wn,"=",Nn,";"),Br("if(",Nn,"!==",_n,"){",Wn,"}")),Mr(Wn)}),Ar.compile()}(),compile:function(Ar,Br,Mr,Nr,un){var Dn=xr();Dn.stats=Dn.link(un),Object.keys(Br.static).forEach(function(cn){ia(Dn,Br,cn)}),st.forEach(function(cn){ia(Dn,Ar,cn)});var mn=yr(Ar,Br,Mr,Nr,Dn);return mn.shader.program&&(mn.shader.program.attributes.sort(function(cn,Er){return cn.name<Er.name?-1:1}),mn.shader.program.uniforms.sort(function(cn,Er){return cn.name<Er.name?-1:1})),tn(Dn,mn),pa(Dn,mn),Hn(Dn,mn),te(Dn.compile(),{destroy:function(){mn.shader.program.destroy()}})}}}function oe(pt,jt){for(var $t=0;$t<pt.length;++$t)if(pt[$t]===jt)return $t;return-1}var te=function(pt,jt){for(var $t=Object.keys(jt),mr=0;mr<$t.length;++mr)pt[$t[mr]]=jt[$t[mr]];return pt},fe=0,ge={DynamicVariable:V,define:function(pt,jt){return new V(pt,b(jt+""))},isDynamic:function(pt){return typeof pt=="function"&&!pt._reglType||pt instanceof V},unbox:P,accessor:b},we={next:typeof requestAnimationFrame=="function"?function(pt){return requestAnimationFrame(pt)}:function(pt){return setTimeout(pt,16)},cancel:typeof cancelAnimationFrame=="function"?function(pt){return cancelAnimationFrame(pt)}:clearTimeout},xe=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},Ce=l();Ce.zero=l();var De=function(pt,jt){var $t=1;jt.ext_texture_filter_anisotropic&&($t=pt.getParameter(34047));var mr=1,or=1;jt.webgl_draw_buffers&&(mr=pt.getParameter(34852),or=pt.getParameter(36063));var gt=!!jt.oes_texture_float;if(gt){gt=pt.createTexture(),pt.bindTexture(3553,gt),pt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var lt=pt.createFramebuffer();if(pt.bindFramebuffer(36160,lt),pt.framebufferTexture2D(36160,36064,3553,gt,0),pt.bindTexture(3553,null),pt.checkFramebufferStatus(36160)!==36053)gt=!1;else{pt.viewport(0,0,1,1),pt.clearColor(1,0,0,1),pt.clear(16384);var bt=Ce.allocType(5126,4);pt.readPixels(0,0,1,1,6408,5126,bt),pt.getError()?gt=!1:(pt.deleteFramebuffer(lt),pt.deleteTexture(gt),gt=bt[0]===1),Ce.freeType(bt)}}return bt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(bt=pt.createTexture(),lt=Ce.allocType(5121,36),pt.activeTexture(33984),pt.bindTexture(34067,bt),pt.texImage2D(34069,0,6408,3,3,0,6408,5121,lt),Ce.freeType(lt),pt.bindTexture(34067,null),pt.deleteTexture(bt),bt=!pt.getError()),{colorBits:[pt.getParameter(3410),pt.getParameter(3411),pt.getParameter(3412),pt.getParameter(3413)],depthBits:pt.getParameter(3414),stencilBits:pt.getParameter(3415),subpixelBits:pt.getParameter(3408),extensions:Object.keys(jt).filter(function(Et){return!!jt[Et]}),maxAnisotropic:$t,maxDrawbuffers:mr,maxColorAttachments:or,pointSizeDims:pt.getParameter(33901),lineWidthDims:pt.getParameter(33902),maxViewportDims:pt.getParameter(3386),maxCombinedTextureUnits:pt.getParameter(35661),maxCubeMapSize:pt.getParameter(34076),maxRenderbufferSize:pt.getParameter(34024),maxTextureUnits:pt.getParameter(34930),maxTextureSize:pt.getParameter(3379),maxAttributes:pt.getParameter(34921),maxVertexUniforms:pt.getParameter(36347),maxVertexTextureUnits:pt.getParameter(35660),maxVaryingVectors:pt.getParameter(36348),maxFragmentUniforms:pt.getParameter(36349),glsl:pt.getParameter(35724),renderer:pt.getParameter(7937),vendor:pt.getParameter(7936),version:pt.getParameter(7938),readFloat:gt,npotTextureCube:bt}},Oe=function(pt){return pt instanceof Uint8Array||pt instanceof Uint16Array||pt instanceof Uint32Array||pt instanceof Int8Array||pt instanceof Int16Array||pt instanceof Int32Array||pt instanceof Float32Array||pt instanceof Float64Array||pt instanceof Uint8ClampedArray},Te=function(pt){return Object.keys(pt).map(function(jt){return pt[jt]})},Re={shape:function(pt){for(var jt=[];pt.length;pt=pt[0])jt.push(pt.length);return jt},flatten:function(pt,jt,$t,mr){var or=1;if(jt.length)for(var gt=0;gt<jt.length;++gt)or*=jt[gt];else or=0;switch($t=mr||Ce.allocType($t,or),jt.length){case 0:break;case 1:for(mr=jt[0],jt=0;jt<mr;++jt)$t[jt]=pt[jt];break;case 2:for(mr=jt[0],jt=jt[1],gt=or=0;gt<mr;++gt)for(var lt=pt[gt],bt=0;bt<jt;++bt)$t[or++]=lt[bt];break;case 3:f(pt,jt[0],jt[1],jt[2],$t,0);break;default:g(pt,jt,0,$t,0)}return $t}},Me={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},ke={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Se={dynamic:35048,stream:35040,static:35044},He=Re.flatten,je=Re.shape,at=[];at[5120]=1,at[5122]=2,at[5124]=4,at[5121]=1,at[5123]=2,at[5125]=4,at[5126]=4;var Ze={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},$e=new Float32Array(1),ut=new Uint32Array($e.buffer),ht=[9984,9986,9985,9987],vt=[0,6409,6410,6407,6408],xt={};xt[6409]=xt[6406]=xt[6402]=1,xt[34041]=xt[6410]=2,xt[6407]=xt[35904]=3,xt[6408]=xt[35906]=4;var St=C("HTMLCanvasElement"),tt=C("OffscreenCanvas"),Ie=C("CanvasRenderingContext2D"),Ve=C("ImageBitmap"),Ge=C("HTMLImageElement"),Xe=C("HTMLVideoElement"),Le=Object.keys(Me).concat([St,tt,Ie,Ve,Ge,Xe]),Fe=[];Fe[5121]=1,Fe[5126]=4,Fe[36193]=2,Fe[5123]=2,Fe[5125]=4;var Ue=[];Ue[32854]=2,Ue[32855]=2,Ue[36194]=2,Ue[34041]=4,Ue[33776]=.5,Ue[33777]=.5,Ue[33778]=1,Ue[33779]=1,Ue[35986]=.5,Ue[35987]=1,Ue[34798]=1,Ue[35840]=.5,Ue[35841]=.25,Ue[35842]=.5,Ue[35843]=.25,Ue[36196]=.5;var Ee=[];Ee[32854]=2,Ee[32855]=2,Ee[36194]=2,Ee[33189]=2,Ee[36168]=1,Ee[34041]=4,Ee[35907]=4,Ee[34836]=16,Ee[34842]=8,Ee[34843]=6;var he=function(pt,jt,$t,mr,or){function gt(Ft){this.id=kt++,this.refCount=1,this.renderbuffer=Ft,this.format=32854,this.height=this.width=0,or.profile&&(this.stats={size:0})}function lt(Ft){var Bt=Ft.renderbuffer;pt.bindRenderbuffer(36161,null),pt.deleteRenderbuffer(Bt),Ft.renderbuffer=null,Ft.refCount=0,delete Ot[Ft.id],mr.renderbufferCount--}var bt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};jt.ext_srgb&&(bt.srgba=35907),jt.ext_color_buffer_half_float&&(bt.rgba16f=34842,bt.rgb16f=34843),jt.webgl_color_buffer_float&&(bt.rgba32f=34836);var Et=[];Object.keys(bt).forEach(function(Ft){Et[bt[Ft]]=Ft});var kt=0,Ot={};return gt.prototype.decRef=function(){0>=--this.refCount&&lt(this)},or.profile&&(mr.getTotalRenderbufferSize=function(){var Ft=0;return Object.keys(Ot).forEach(function(Bt){Ft+=Ot[Bt].stats.size}),Ft}),{create:function(Ft,Bt){function Jt(cr,dr){var fr=0,Lr=0,xr=32854;if(typeof cr=="object"&&cr?("shape"in cr?(Lr=cr.shape,fr=Lr[0]|0,Lr=Lr[1]|0):("radius"in cr&&(fr=Lr=cr.radius|0),"width"in cr&&(fr=cr.width|0),"height"in cr&&(Lr=cr.height|0)),"format"in cr&&(xr=bt[cr.format])):typeof cr=="number"?(fr=cr|0,Lr=typeof dr=="number"?dr|0:fr):cr||(fr=Lr=1),fr!==hr.width||Lr!==hr.height||xr!==hr.format)return Jt.width=hr.width=fr,Jt.height=hr.height=Lr,hr.format=xr,pt.bindRenderbuffer(36161,hr.renderbuffer),pt.renderbufferStorage(36161,xr,fr,Lr),or.profile&&(hr.stats.size=Ee[hr.format]*hr.width*hr.height),Jt.format=Et[hr.format],Jt}var hr=new gt(pt.createRenderbuffer());return Ot[hr.id]=hr,mr.renderbufferCount++,Jt(Ft,Bt),Jt.resize=function(cr,dr){var fr=cr|0,Lr=dr|0||fr;return fr===hr.width&&Lr===hr.height||(Jt.width=hr.width=fr,Jt.height=hr.height=Lr,pt.bindRenderbuffer(36161,hr.renderbuffer),pt.renderbufferStorage(36161,hr.format,fr,Lr),or.profile&&(hr.stats.size=Ee[hr.format]*hr.width*hr.height)),Jt},Jt._reglType="renderbuffer",Jt._renderbuffer=hr,or.profile&&(Jt.stats=hr.stats),Jt.destroy=function(){hr.decRef()},Jt},clear:function(){Te(Ot).forEach(lt)},restore:function(){Te(Ot).forEach(function(Ft){Ft.renderbuffer=pt.createRenderbuffer(),pt.bindRenderbuffer(36161,Ft.renderbuffer),pt.renderbufferStorage(36161,Ft.format,Ft.width,Ft.height)}),pt.bindRenderbuffer(36161,null)}}},ye=[];ye[6408]=4,ye[6407]=3;var _e=[];_e[5121]=1,_e[5126]=4,_e[36193]=2;var We=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],rt=["x","y","z","w"],st="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Vt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Xt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Tt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Lt={cw:2304,ccw:2305},Kt=new X(!1,!1,!1,function(){}),vr=function(pt,jt){function $t(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function mr(Ot,Ft,Bt){var Jt=lt.pop()||new $t;Jt.startQueryIndex=Ot,Jt.endQueryIndex=Ft,Jt.sum=0,Jt.stats=Bt,bt.push(Jt)}if(!jt.ext_disjoint_timer_query)return null;var or=[],gt=[],lt=[],bt=[],Et=[],kt=[];return{beginQuery:function(Ot){var Ft=or.pop()||jt.ext_disjoint_timer_query.createQueryEXT();jt.ext_disjoint_timer_query.beginQueryEXT(35007,Ft),gt.push(Ft),mr(gt.length-1,gt.length,Ot)},endQuery:function(){jt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:mr,update:function(){var Ot,Ft;if(Ot=gt.length,Ot!==0){kt.length=Math.max(kt.length,Ot+1),Et.length=Math.max(Et.length,Ot+1),Et[0]=0;var Bt=kt[0]=0;for(Ft=Ot=0;Ft<gt.length;++Ft){var Jt=gt[Ft];jt.ext_disjoint_timer_query.getQueryObjectEXT(Jt,34919)?(Bt+=jt.ext_disjoint_timer_query.getQueryObjectEXT(Jt,34918),or.push(Jt)):gt[Ot++]=Jt,Et[Ft+1]=Bt,kt[Ft+1]=Ot}for(gt.length=Ot,Ft=Ot=0;Ft<bt.length;++Ft){var Bt=bt[Ft],hr=Bt.startQueryIndex,Jt=Bt.endQueryIndex;Bt.sum+=Et[Jt]-Et[hr],hr=kt[hr],Jt=kt[Jt],Jt===hr?(Bt.stats.gpuTime+=Bt.sum/1e6,lt.push(Bt)):(Bt.startQueryIndex=hr,Bt.endQueryIndex=Jt,bt[Ot++]=Bt)}bt.length=Ot}},getNumPendingQueries:function(){return gt.length},clear:function(){or.push.apply(or,gt);for(var Ot=0;Ot<or.length;Ot++)jt.ext_disjoint_timer_query.deleteQueryEXT(or[Ot]);gt.length=0,or.length=0},restore:function(){gt.length=0,or.length=0}}};return function(pt){function jt(){if(nn.length===0)xr&&xr.update(),kr=null;else{kr=we.next(jt),Ot();for(var tn=nn.length-1;0<=tn;--tn){var Tn=nn[tn];Tn&&Tn(er,null,0)}Jt.flush(),xr&&xr.update()}}function $t(){!kr&&0<nn.length&&(kr=we.next(jt))}function mr(){kr&&(we.cancel(jt),kr=null)}function or(tn){tn.preventDefault(),mr(),gr.forEach(function(Tn){Tn()})}function gt(tn){Jt.getError(),cr.restore(),Qt.restore(),Pt.restore(),Wt.restore(),yr.restore(),Ir.restore(),nr.restore(),xr&&xr.restore(),Tr.procs.refresh(),$t(),Pr.forEach(function(Tn){Tn()})}function lt(tn){function Tn(ln,On){var gn={},Cn={};return Object.keys(ln).forEach(function(Bn){var Qn=ln[Bn];if(ge.isDynamic(Qn))Cn[Bn]=ge.unbox(Qn,Bn);else{if(On&&Array.isArray(Qn)){for(var ha=0;ha<Qn.length;++ha)if(ge.isDynamic(Qn[ha])){Cn[Bn]=ge.unbox(Qn,Bn);return}}gn[Bn]=Qn}}),{dynamic:Cn,static:gn}}function Ln(ln){for(;on.length<ln;)on.push(null);return on}var Hn=Tn(tn.context||{},!0),pa=Tn(tn.uniforms||{},!0),xa=Tn(tn.attributes||{},!1);tn=Tn(function(ln){function On(Cn){if(Cn in gn){var Bn=gn[Cn];delete gn[Cn],Object.keys(Bn).forEach(function(Qn){gn[Cn+"."+Qn]=Bn[Qn]})}}var gn=te({},ln);return delete gn.uniforms,delete gn.attributes,delete gn.context,delete gn.vao,"stencil"in gn&&gn.stencil.op&&(gn.stencil.opBack=gn.stencil.opFront=gn.stencil.op,delete gn.stencil.op),On("blend"),On("depth"),On("cull"),On("stencil"),On("polygonOffset"),On("scissor"),On("sample"),"vao"in ln&&(gn.vao=ln.vao),gn}(tn),!1);var ia={gpuTime:0,cpuTime:0,count:0},ra=Tr.compile(tn,xa,pa,Hn,ia),Rn=ra.draw,Cr=ra.batch,an=ra.scope,on=[];return te(function(ln,On){var gn;if(typeof ln=="function")return an.call(this,null,ln,0);if(typeof On=="function")if(typeof ln=="number")for(gn=0;gn<ln;++gn)an.call(this,null,On,gn);else if(Array.isArray(ln))for(gn=0;gn<ln.length;++gn)an.call(this,ln[gn],On,gn);else return an.call(this,ln,On,0);else if(typeof ln=="number"){if(0<ln)return Cr.call(this,Ln(ln|0),ln|0)}else if(Array.isArray(ln)){if(ln.length)return Cr.call(this,ln,ln.length)}else return Rn.call(this,ln)},{stats:ia,destroy:function(){ra.destroy()}})}function bt(tn,Tn){var Ln=0;Tr.procs.poll();var Hn=Tn.color;Hn&&(Jt.clearColor(+Hn[0]||0,+Hn[1]||0,+Hn[2]||0,+Hn[3]||0),Ln|=16384),"depth"in Tn&&(Jt.clearDepth(+Tn.depth),Ln|=256),"stencil"in Tn&&(Jt.clearStencil(Tn.stencil|0),Ln|=1024),Jt.clear(Ln)}function Et(tn){return nn.push(tn),$t(),{cancel:function(){function Tn(){var Hn=oe(nn,Tn);nn[Hn]=nn[nn.length-1],--nn.length,0>=nn.length&&mr()}var Ln=oe(nn,tn);nn[Ln]=Tn}}}function kt(){var tn=Or.viewport,Tn=Or.scissor_box;tn[0]=tn[1]=Tn[0]=Tn[1]=0,er.viewportWidth=er.framebufferWidth=er.drawingBufferWidth=tn[2]=Tn[2]=Jt.drawingBufferWidth,er.viewportHeight=er.framebufferHeight=er.drawingBufferHeight=tn[3]=Tn[3]=Jt.drawingBufferHeight}function Ot(){er.tick+=1,er.time=Bt(),kt(),Tr.procs.poll()}function Ft(){Wt.refresh(),kt(),Tr.procs.refresh(),xr&&xr.update()}function Bt(){return(xe()-Ke)/1e3}if(pt=r(pt),!pt)return null;var Jt=pt.gl,hr=Jt.getContextAttributes();Jt.isContextLost();var cr=t(Jt,pt);if(!cr)return null;var vn=s(),dr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},fr=pt.cachedCode||{},Lr=cr.extensions,xr=vr(Jt,Lr),Ke=xe(),tr=Jt.drawingBufferWidth,et=Jt.drawingBufferHeight,er={tick:0,time:0,viewportWidth:tr,viewportHeight:et,framebufferWidth:tr,framebufferHeight:et,drawingBufferWidth:tr,drawingBufferHeight:et,pixelRatio:pt.pixelRatio},tr={elements:null,primitive:4,count:-1,offset:0,instances:-1},Yt=De(Jt,Lr),Pt=a(Jt,dr,pt,function(tn){return nr.destroyBuffer(tn)}),Zt=d(Jt,Lr,Pt,dr),nr=_(Jt,Lr,Yt,dr,Pt,Zt,tr),Qt=B(Jt,vn,dr,pt),Wt=k(Jt,Lr,Yt,function(){Tr.procs.poll()},er,dr,pt),yr=he(Jt,Lr,Yt,dr,pt),Ir=I(Jt,Lr,Yt,Wt,yr,dr),Tr=G(Jt,vn,Lr,Yt,Pt,Zt,Wt,Ir,{},nr,Qt,tr,er,xr,fr,pt),vn=F(Jt,Ir,Tr.procs.poll,er),Or=Tr.next,En=Jt.canvas,nn=[],gr=[],Pr=[],Xr=[pt.onDestroy],kr=null;En&&(En.addEventListener("webglcontextlost",or,!1),En.addEventListener("webglcontextrestored",gt,!1));var pn=Ir.setFBO=lt({framebuffer:ge.define.call(null,1,"framebuffer")});return Ft(),hr=te(lt,{clear:function(tn){if("framebuffer"in tn)if(tn.framebuffer&&tn.framebuffer_reglType==="framebufferCube")for(var Tn=0;6>Tn;++Tn)pn(te({framebuffer:tn.framebuffer.faces[Tn]},tn),bt);else pn(tn,bt);else bt(null,tn)},prop:ge.define.bind(null,1),context:ge.define.bind(null,2),this:ge.define.bind(null,3),draw:lt({}),buffer:function(tn){return Pt.create(tn,34962,!1,!1)},elements:function(tn){return Zt.create(tn,!1)},texture:Wt.create2D,cube:Wt.createCube,renderbuffer:yr.create,framebuffer:Ir.create,framebufferCube:Ir.createCube,vao:nr.createVAO,attributes:hr,frame:Et,on:function(tn,Tn){var Ln;switch(tn){case"frame":return Et(Tn);case"lost":Ln=gr;break;case"restore":Ln=Pr;break;case"destroy":Ln=Xr}return Ln.push(Tn),{cancel:function(){for(var Hn=0;Hn<Ln.length;++Hn)if(Ln[Hn]===Tn){Ln[Hn]=Ln[Ln.length-1],Ln.pop();break}}}},limits:Yt,hasExtension:function(tn){return 0<=Yt.extensions.indexOf(tn.toLowerCase())},read:vn,destroy:function(){nn.length=0,mr(),En&&(En.removeEventListener("webglcontextlost",or),En.removeEventListener("webglcontextrestored",gt)),Qt.clear(),Ir.clear(),yr.clear(),nr.clear(),Wt.clear(),Zt.clear(),Pt.clear(),xr&&xr.clear(),Xr.forEach(function(tn){tn()})},_gl:Jt,_refresh:Ft,poll:function(){Ot(),xr&&xr.update()},now:Bt,stats:dr,getCachedCode:function(){return fr},preloadCachedCode:function(tn){Object.entries(tn).forEach(function(Tn){fr[Tn[0]]=Tn[1]})}}),pt.onDone(null,hr),hr}})},30456:function(Y,V,e){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var b=e(33576),P=b.Buffer;function s(M,v){for(var p in M)v[p]=M[p]}P.from&&P.alloc&&P.allocUnsafe&&P.allocUnsafeSlow?Y.exports=b:(s(b,V),V.Buffer=L);function L(M,v,p){return P(M,v,p)}L.prototype=Object.create(P.prototype),s(P,L),L.from=function(M,v,p){if(typeof M=="number")throw new TypeError("Argument must not be a number");return P(M,v,p)},L.alloc=function(M,v,p){if(typeof M!="number")throw new TypeError("Argument must be a number");var r=P(M);return v!==void 0?typeof p=="string"?r.fill(v,p):r.fill(v):r.fill(0),r},L.allocUnsafe=function(M){if(typeof M!="number")throw new TypeError("Argument must be a number");return P(M)},L.allocUnsafeSlow=function(M){if(typeof M!="number")throw new TypeError("Argument must be a number");return b.SlowBuffer(M)}},14500:function(Y,V,e){var b=e(53664),P=e(64348),s=e(39640)(),L=e(2304),M=b("%TypeError%"),v=b("%Math.floor%");Y.exports=function(r,t){if(typeof r!="function")throw new M("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||v(t)!==t)throw new M("`length` must be a positive 32-bit integer");var o=arguments.length>2&&!!arguments[2],n=!0,l=!0;if("length"in r&&L){var u=L(r,"length");u&&!u.configurable&&(n=!1),u&&!u.writable&&(l=!1)}return(n||l||!o)&&(s?P(r,"length",t,!0,!0):P(r,"length",t)),r}},29936:function(Y,V,e){Y.exports=s;var b=e(61252).EventEmitter,P=e(6768);P(s,b),s.Readable=e(12348),s.Writable=e(11288),s.Duplex=e(15316),s.Transform=e(22477),s.PassThrough=e(27136),s.finished=e(15932),s.pipeline=e(38180),s.Stream=s;function s(){b.call(this)}s.prototype.pipe=function(L,M){var v=this;function p(f){L.writable&&L.write(f)===!1&&v.pause&&v.pause()}v.on("data",p);function r(){v.readable&&v.resume&&v.resume()}L.on("drain",r),!L._isStdio&&(!M||M.end!==!1)&&(v.on("end",o),v.on("close",n));var t=!1;function o(){t||(t=!0,L.end())}function n(){t||(t=!0,typeof L.destroy=="function"&&L.destroy())}function l(f){if(u(),b.listenerCount(this,"error")===0)throw f}v.on("error",l),L.on("error",l);function u(){v.removeListener("data",p),L.removeListener("drain",r),v.removeListener("end",o),v.removeListener("close",n),v.removeListener("error",l),L.removeListener("error",l),v.removeListener("end",u),v.removeListener("close",u),L.removeListener("close",u)}return v.on("end",u),v.on("close",u),L.on("close",u),L.emit("pipe",v),L}},92784:function(Y){function V(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}var e={};function b(v,p,r){r||(r=Error);function t(n,l,u){return typeof p=="string"?p:p(n,l,u)}var o=function(n){V(l,n);function l(u,f,g){return n.call(this,t(u,f,g))||this}return l}(r);o.prototype.name=r.name,o.prototype.code=v,e[v]=o}function P(v,p){if(Array.isArray(v)){var r=v.length;return v=v.map(function(t){return String(t)}),r>2?"one of ".concat(p," ").concat(v.slice(0,r-1).join(", "),", or ")+v[r-1]:r===2?"one of ".concat(p," ").concat(v[0]," or ").concat(v[1]):"of ".concat(p," ").concat(v[0])}else return"of ".concat(p," ").concat(String(v))}function s(v,p,r){return v.substr(0,p.length)===p}function L(v,p,r){return(r===void 0||r>v.length)&&(r=v.length),v.substring(r-p.length,r)===p}function M(v,p,r){return typeof r!="number"&&(r=0),r+p.length>v.length?!1:v.indexOf(p,r)!==-1}b("ERR_INVALID_OPT_VALUE",function(v,p){return'The value "'+p+'" is invalid for option "'+v+'"'},TypeError),b("ERR_INVALID_ARG_TYPE",function(v,p,r){var t;typeof p=="string"&&s(p,"not ")?(t="must not be",p=p.replace(/^not /,"")):t="must be";var o;if(L(v," argument"))o="The ".concat(v," ").concat(t," ").concat(P(p,"type"));else{var n=M(v,".")?"property":"argument";o='The "'.concat(v,'" ').concat(n," ").concat(t," ").concat(P(p,"type"))}return o+=". Received type ".concat(typeof r),o},TypeError),b("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),b("ERR_METHOD_NOT_IMPLEMENTED",function(v){return"The "+v+" method is not implemented"}),b("ERR_STREAM_PREMATURE_CLOSE","Premature close"),b("ERR_STREAM_DESTROYED",function(v){return"Cannot call "+v+" after a stream was destroyed"}),b("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),b("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),b("ERR_STREAM_WRITE_AFTER_END","write after end"),b("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),b("ERR_UNKNOWN_ENCODING",function(v){return"Unknown encoding: "+v},TypeError),b("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Y.exports.i=e},15316:function(Y,V,e){var b=e(4168),P=Object.keys||function(n){var l=[];for(var u in n)l.push(u);return l};Y.exports=r;var s=e(12348),L=e(11288);e(6768)(r,s);for(var M=P(L.prototype),v=0;v<M.length;v++){var p=M[v];r.prototype[p]||(r.prototype[p]=L.prototype[p])}function r(n){if(!(this instanceof r))return new r(n);s.call(this,n),L.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",t)))}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function t(){this._writableState.ended||b.nextTick(o,this)}function o(n){n.end()}Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}})},27136:function(Y,V,e){Y.exports=P;var b=e(22477);e(6768)(P,b);function P(s){if(!(this instanceof P))return new P(s);b.call(this,s)}P.prototype._transform=function(s,L,M){M(null,s)}},12348:function(Y,V,e){var b=e(4168);Y.exports=i;var P;i.ReadableState=A,e(61252).EventEmitter;var s=function(G,oe){return G.listeners(oe).length},L=e(4776),M=e(33576).Buffer,v=e.g.Uint8Array||function(){};function p(J){return M.from(J)}function r(J){return M.isBuffer(J)||J instanceof v}var t=e(19768),o;t&&t.debuglog?o=t.debuglog("stream"):o=function(){};var n=e(47264),l=e(55324),u=e(24888),f=u.getHighWaterMark,g=e(92784).i,h=g.ERR_INVALID_ARG_TYPE,w=g.ERR_STREAM_PUSH_AFTER_EOF,c=g.ERR_METHOD_NOT_IMPLEMENTED,a=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,d,x,T;e(6768)(i,L);var C=l.errorOrDestroy,y=["error","close","destroy","pause","resume"];function S(J,G,oe){if(typeof J.prependListener=="function")return J.prependListener(G,oe);!J._events||!J._events[G]?J.on(G,oe):Array.isArray(J._events[G])?J._events[G].unshift(oe):J._events[G]=[oe,J._events[G]]}function A(J,G,oe){P=P||e(15316),J=J||{},typeof oe!="boolean"&&(oe=G instanceof P),this.objectMode=!!J.objectMode,oe&&(this.objectMode=this.objectMode||!!J.readableObjectMode),this.highWaterMark=f(this,J,"readableHighWaterMark",oe),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.destroyed=!1,this.defaultEncoding=J.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,J.encoding&&(d||(d=e(86032).o),this.decoder=new d(J.encoding),this.encoding=J.encoding)}function i(J){if(P=P||e(15316),!(this instanceof i))return new i(J);var G=this instanceof P;this._readableState=new A(J,this,G),this.readable=!0,J&&(typeof J.read=="function"&&(this._read=J.read),typeof J.destroy=="function"&&(this._destroy=J.destroy)),L.call(this)}Object.defineProperty(i.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(G){this._readableState&&(this._readableState.destroyed=G)}}),i.prototype.destroy=l.destroy,i.prototype._undestroy=l.undestroy,i.prototype._destroy=function(J,G){G(J)},i.prototype.push=function(J,G){var oe=this._readableState,te;return oe.objectMode?te=!0:typeof J=="string"&&(G=G||oe.defaultEncoding,G!==oe.encoding&&(J=M.from(J,G),G=""),te=!0),E(this,J,G,!1,te)},i.prototype.unshift=function(J){return E(this,J,null,!0,!1)};function E(J,G,oe,te,fe){o("readableAddChunk",G);var ge=J._readableState;if(G===null)ge.reading=!1,B(J,ge);else{var we;if(fe||(we=k(ge,G)),we)C(J,we);else if(ge.objectMode||G&&G.length>0)if(typeof G!="string"&&!ge.objectMode&&Object.getPrototypeOf(G)!==M.prototype&&(G=p(G)),te)ge.endEmitted?C(J,new a):m(J,ge,G,!0);else if(ge.ended)C(J,new w);else{if(ge.destroyed)return!1;ge.reading=!1,ge.decoder&&!oe?(G=ge.decoder.write(G),ge.objectMode||G.length!==0?m(J,ge,G,!1):N(J,ge)):m(J,ge,G,!1)}else te||(ge.reading=!1,N(J,ge))}return!ge.ended&&(ge.length<ge.highWaterMark||ge.length===0)}function m(J,G,oe,te){G.flowing&&G.length===0&&!G.sync?(G.awaitDrain=0,J.emit("data",oe)):(G.length+=G.objectMode?1:oe.length,te?G.buffer.unshift(oe):G.buffer.push(oe),G.needReadable&&F(J)),N(J,G)}function k(J,G){var oe;return!r(G)&&typeof G!="string"&&G!==void 0&&!J.objectMode&&(oe=new h("chunk",["string","Buffer","Uint8Array"],G)),oe}i.prototype.isPaused=function(){return this._readableState.flowing===!1},i.prototype.setEncoding=function(J){d||(d=e(86032).o);var G=new d(J);this._readableState.decoder=G,this._readableState.encoding=this._readableState.decoder.encoding;for(var oe=this._readableState.buffer.head,te="";oe!==null;)te+=G.write(oe.data),oe=oe.next;return this._readableState.buffer.clear(),te!==""&&this._readableState.buffer.push(te),this._readableState.length=te.length,this};var I=1073741824;function O(J){return J>=I?J=I:(J--,J|=J>>>1,J|=J>>>2,J|=J>>>4,J|=J>>>8,J|=J>>>16,J++),J}function _(J,G){return J<=0||G.length===0&&G.ended?0:G.objectMode?1:J!==J?G.flowing&&G.length?G.buffer.head.data.length:G.length:(J>G.highWaterMark&&(G.highWaterMark=O(J)),J<=G.length?J:G.ended?G.length:(G.needReadable=!0,0))}i.prototype.read=function(J){o("read",J),J=parseInt(J,10);var G=this._readableState,oe=J;if(J!==0&&(G.emittedReadable=!1),J===0&&G.needReadable&&((G.highWaterMark!==0?G.length>=G.highWaterMark:G.length>0)||G.ended))return o("read: emitReadable",G.length,G.ended),G.length===0&&G.ended?X(this):F(this),null;if(J=_(J,G),J===0&&G.ended)return G.length===0&&X(this),null;var te=G.needReadable;o("need readable",te),(G.length===0||G.length-J<G.highWaterMark)&&(te=!0,o("length less than watermark",te)),G.ended||G.reading?(te=!1,o("reading or ended",te)):te&&(o("do read"),G.reading=!0,G.sync=!0,G.length===0&&(G.needReadable=!0),this._read(G.highWaterMark),G.sync=!1,G.reading||(J=_(oe,G)));var fe;return J>0?fe=$(J,G):fe=null,fe===null?(G.needReadable=G.length<=G.highWaterMark,J=0):(G.length-=J,G.awaitDrain=0),G.length===0&&(G.ended||(G.needReadable=!0),oe!==J&&G.ended&&X(this)),fe!==null&&this.emit("data",fe),fe};function B(J,G){if(o("onEofChunk"),!G.ended){if(G.decoder){var oe=G.decoder.end();oe&&oe.length&&(G.buffer.push(oe),G.length+=G.objectMode?1:oe.length)}G.ended=!0,G.sync?F(J):(G.needReadable=!1,G.emittedReadable||(G.emittedReadable=!0,z(J)))}}function F(J){var G=J._readableState;o("emitReadable",G.needReadable,G.emittedReadable),G.needReadable=!1,G.emittedReadable||(o("emitReadable",G.flowing),G.emittedReadable=!0,b.nextTick(z,J))}function z(J){var G=J._readableState;o("emitReadable_",G.destroyed,G.length,G.ended),!G.destroyed&&(G.length||G.ended)&&(J.emit("readable"),G.emittedReadable=!1),G.needReadable=!G.flowing&&!G.ended&&G.length<=G.highWaterMark,K(J)}function N(J,G){G.readingMore||(G.readingMore=!0,b.nextTick(W,J,G))}function W(J,G){for(;!G.reading&&!G.ended&&(G.length<G.highWaterMark||G.flowing&&G.length===0);){var oe=G.length;if(o("maybeReadMore read 0"),J.read(0),oe===G.length)break}G.readingMore=!1}i.prototype._read=function(J){C(this,new c("_read()"))},i.prototype.pipe=function(J,G){var oe=this,te=this._readableState;switch(te.pipesCount){case 0:te.pipes=J;break;case 1:te.pipes=[te.pipes,J];break;default:te.pipes.push(J);break}te.pipesCount+=1,o("pipe count=%d opts=%j",te.pipesCount,G);var fe=(!G||G.end!==!1)&&J!==b.stdout&&J!==b.stderr,ge=fe?xe:Se;te.endEmitted?b.nextTick(ge):oe.once("end",ge),J.on("unpipe",we);function we(He,je){o("onunpipe"),He===oe&&je&&je.hasUnpiped===!1&&(je.hasUnpiped=!0,Oe())}function xe(){o("onend"),J.end()}var Ce=Z(oe);J.on("drain",Ce);var De=!1;function Oe(){o("cleanup"),J.removeListener("close",Me),J.removeListener("finish",ke),J.removeListener("drain",Ce),J.removeListener("error",Re),J.removeListener("unpipe",we),oe.removeListener("end",xe),oe.removeListener("end",Se),oe.removeListener("data",Te),De=!0,te.awaitDrain&&(!J._writableState||J._writableState.needDrain)&&Ce()}oe.on("data",Te);function Te(He){o("ondata");var je=J.write(He);o("dest.write",je),je===!1&&((te.pipesCount===1&&te.pipes===J||te.pipesCount>1&&se(te.pipes,J)!==-1)&&!De&&(o("false write response, pause",te.awaitDrain),te.awaitDrain++),oe.pause())}function Re(He){o("onerror",He),Se(),J.removeListener("error",Re),s(J,"error")===0&&C(J,He)}S(J,"error",Re);function Me(){J.removeListener("finish",ke),Se()}J.once("close",Me);function ke(){o("onfinish"),J.removeListener("close",Me),Se()}J.once("finish",ke);function Se(){o("unpipe"),oe.unpipe(J)}return J.emit("pipe",oe),te.flowing||(o("pipe resume"),oe.resume()),J};function Z(J){return function(){var oe=J._readableState;o("pipeOnDrain",oe.awaitDrain),oe.awaitDrain&&oe.awaitDrain--,oe.awaitDrain===0&&s(J,"data")&&(oe.flowing=!0,K(J))}}i.prototype.unpipe=function(J){var G=this._readableState,oe={hasUnpiped:!1};if(G.pipesCount===0)return this;if(G.pipesCount===1)return J&&J!==G.pipes?this:(J||(J=G.pipes),G.pipes=null,G.pipesCount=0,G.flowing=!1,J&&J.emit("unpipe",this,oe),this);if(!J){var te=G.pipes,fe=G.pipesCount;G.pipes=null,G.pipesCount=0,G.flowing=!1;for(var ge=0;ge<fe;ge++)te[ge].emit("unpipe",this,{hasUnpiped:!1});return this}var we=se(G.pipes,J);return we===-1?this:(G.pipes.splice(we,1),G.pipesCount-=1,G.pipesCount===1&&(G.pipes=G.pipes[0]),J.emit("unpipe",this,oe),this)},i.prototype.on=function(J,G){var oe=L.prototype.on.call(this,J,G),te=this._readableState;return J==="data"?(te.readableListening=this.listenerCount("readable")>0,te.flowing!==!1&&this.resume()):J==="readable"&&!te.endEmitted&&!te.readableListening&&(te.readableListening=te.needReadable=!0,te.flowing=!1,te.emittedReadable=!1,o("on readable",te.length,te.reading),te.length?F(this):te.reading||b.nextTick(re,this)),oe},i.prototype.addListener=i.prototype.on,i.prototype.removeListener=function(J,G){var oe=L.prototype.removeListener.call(this,J,G);return J==="readable"&&b.nextTick(q,this),oe},i.prototype.removeAllListeners=function(J){var G=L.prototype.removeAllListeners.apply(this,arguments);return(J==="readable"||J===void 0)&&b.nextTick(q,this),G};function q(J){var G=J._readableState;G.readableListening=J.listenerCount("readable")>0,G.resumeScheduled&&!G.paused?G.flowing=!0:J.listenerCount("data")>0&&J.resume()}function re(J){o("readable nexttick read 0"),J.read(0)}i.prototype.resume=function(){var J=this._readableState;return J.flowing||(o("resume"),J.flowing=!J.readableListening,le(this,J)),J.paused=!1,this};function le(J,G){G.resumeScheduled||(G.resumeScheduled=!0,b.nextTick(ie,J,G))}function ie(J,G){o("resume",G.reading),G.reading||J.read(0),G.resumeScheduled=!1,J.emit("resume"),K(J),G.flowing&&!G.reading&&J.read(0)}i.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function K(J){var G=J._readableState;for(o("flow",G.flowing);G.flowing&&J.read()!==null;);}i.prototype.wrap=function(J){var G=this,oe=this._readableState,te=!1;J.on("end",function(){if(o("wrapped end"),oe.decoder&&!oe.ended){var we=oe.decoder.end();we&&we.length&&G.push(we)}G.push(null)}),J.on("data",function(we){if(o("wrapped data"),oe.decoder&&(we=oe.decoder.write(we)),!(oe.objectMode&&we==null)&&!(!oe.objectMode&&(!we||!we.length))){var xe=G.push(we);xe||(te=!0,J.pause())}});for(var fe in J)this[fe]===void 0&&typeof J[fe]=="function"&&(this[fe]=function(xe){return function(){return J[xe].apply(J,arguments)}}(fe));for(var ge=0;ge<y.length;ge++)J.on(y[ge],this.emit.bind(this,y[ge]));return this._read=function(we){o("wrapped _read",we),te&&(te=!1,J.resume())},this},typeof Symbol=="function"&&(i.prototype[Symbol.asyncIterator]=function(){return x===void 0&&(x=e(60328)),x(this)}),Object.defineProperty(i.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(i.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(i.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(G){this._readableState&&(this._readableState.flowing=G)}}),i._fromList=$,Object.defineProperty(i.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function $(J,G){if(G.length===0)return null;var oe;return G.objectMode?oe=G.buffer.shift():!J||J>=G.length?(G.decoder?oe=G.buffer.join(""):G.buffer.length===1?oe=G.buffer.first():oe=G.buffer.concat(G.length),G.buffer.clear()):oe=G.buffer.consume(J,G.decoder),oe}function X(J){var G=J._readableState;o("endReadable",G.endEmitted),G.endEmitted||(G.ended=!0,b.nextTick(Q,G,J))}function Q(J,G){if(o("endReadableNT",J.endEmitted,J.length),!J.endEmitted&&J.length===0&&(J.endEmitted=!0,G.readable=!1,G.emit("end"),J.autoDestroy)){var oe=G._writableState;(!oe||oe.autoDestroy&&oe.finished)&&G.destroy()}}typeof Symbol=="function"&&(i.from=function(J,G){return T===void 0&&(T=e(90555)),T(i,J,G)});function se(J,G){for(var oe=0,te=J.length;oe<te;oe++)if(J[oe]===G)return oe;return-1}},22477:function(Y,V,e){Y.exports=r;var b=e(92784).i,P=b.ERR_METHOD_NOT_IMPLEMENTED,s=b.ERR_MULTIPLE_CALLBACK,L=b.ERR_TRANSFORM_ALREADY_TRANSFORMING,M=b.ERR_TRANSFORM_WITH_LENGTH_0,v=e(15316);e(6768)(r,v);function p(n,l){var u=this._transformState;u.transforming=!1;var f=u.writecb;if(f===null)return this.emit("error",new s);u.writechunk=null,u.writecb=null,l!=null&&this.push(l),f(n);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function r(n){if(!(this instanceof r))return new r(n);v.call(this,n),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",t)}function t(){var n=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(l,u){o(n,l,u)}):o(this,null,null)}r.prototype.push=function(n,l){return this._transformState.needTransform=!1,v.prototype.push.call(this,n,l)},r.prototype._transform=function(n,l,u){u(new P("_transform()"))},r.prototype._write=function(n,l,u){var f=this._transformState;if(f.writecb=u,f.writechunk=n,f.writeencoding=l,!f.transforming){var g=this._readableState;(f.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},r.prototype._read=function(n){var l=this._transformState;l.writechunk!==null&&!l.transforming?(l.transforming=!0,this._transform(l.writechunk,l.writeencoding,l.afterTransform)):l.needTransform=!0},r.prototype._destroy=function(n,l){v.prototype._destroy.call(this,n,function(u){l(u)})};function o(n,l,u){if(l)return n.emit("error",l);if(u!=null&&n.push(u),n._writableState.length)throw new M;if(n._transformState.transforming)throw new L;return n.push(null)}},11288:function(Y,V,e){var b=e(4168);Y.exports=A;function P(K){var $=this;this.next=null,this.entry=null,this.finish=function(){ie($,K)}}var s;A.WritableState=y;var L={deprecate:e(96656)},M=e(4776),v=e(33576).Buffer,p=e.g.Uint8Array||function(){};function r(K){return v.from(K)}function t(K){return v.isBuffer(K)||K instanceof p}var o=e(55324),n=e(24888),l=n.getHighWaterMark,u=e(92784).i,f=u.ERR_INVALID_ARG_TYPE,g=u.ERR_METHOD_NOT_IMPLEMENTED,h=u.ERR_MULTIPLE_CALLBACK,w=u.ERR_STREAM_CANNOT_PIPE,c=u.ERR_STREAM_DESTROYED,a=u.ERR_STREAM_NULL_VALUES,d=u.ERR_STREAM_WRITE_AFTER_END,x=u.ERR_UNKNOWN_ENCODING,T=o.errorOrDestroy;e(6768)(A,M);function C(){}function y(K,$,X){s=s||e(15316),K=K||{},typeof X!="boolean"&&(X=$ instanceof s),this.objectMode=!!K.objectMode,X&&(this.objectMode=this.objectMode||!!K.writableObjectMode),this.highWaterMark=l(this,K,"writableHighWaterMark",X),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Q=K.decodeStrings===!1;this.decodeStrings=!Q,this.defaultEncoding=K.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(se){B($,se)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=K.emitClose!==!1,this.autoDestroy=!!K.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new P(this)}y.prototype.getBuffer=function(){for(var $=this.bufferedRequest,X=[];$;)X.push($),$=$.next;return X},function(){try{Object.defineProperty(y.prototype,"buffer",{get:L.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var S;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(S=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function($){return S.call(this,$)?!0:this!==A?!1:$&&$._writableState instanceof y}})):S=function($){return $ instanceof this};function A(K){s=s||e(15316);var $=this instanceof s;if(!$&&!S.call(A,this))return new A(K);this._writableState=new y(K,this,$),this.writable=!0,K&&(typeof K.write=="function"&&(this._write=K.write),typeof K.writev=="function"&&(this._writev=K.writev),typeof K.destroy=="function"&&(this._destroy=K.destroy),typeof K.final=="function"&&(this._final=K.final)),M.call(this)}A.prototype.pipe=function(){T(this,new w)};function i(K,$){var X=new d;T(K,X),b.nextTick($,X)}function E(K,$,X,Q){var se;return X===null?se=new a:typeof X!="string"&&!$.objectMode&&(se=new f("chunk",["string","Buffer"],X)),se?(T(K,se),b.nextTick(Q,se),!1):!0}A.prototype.write=function(K,$,X){var Q=this._writableState,se=!1,J=!Q.objectMode&&t(K);return J&&!v.isBuffer(K)&&(K=r(K)),typeof $=="function"&&(X=$,$=null),J?$="buffer":$||($=Q.defaultEncoding),typeof X!="function"&&(X=C),Q.ending?i(this,X):(J||E(this,Q,K,X))&&(Q.pendingcb++,se=k(this,Q,J,K,$,X)),se},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var K=this._writableState;K.corked&&(K.corked--,!K.writing&&!K.corked&&!K.bufferProcessing&&K.bufferedRequest&&N(this,K))},A.prototype.setDefaultEncoding=function($){if(typeof $=="string"&&($=$.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf(($+"").toLowerCase())>-1))throw new x($);return this._writableState.defaultEncoding=$,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function m(K,$,X){return!K.objectMode&&K.decodeStrings!==!1&&typeof $=="string"&&($=v.from($,X)),$}Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function k(K,$,X,Q,se,J){if(!X){var G=m($,Q,se);Q!==G&&(X=!0,se="buffer",Q=G)}var oe=$.objectMode?1:Q.length;$.length+=oe;var te=$.length<$.highWaterMark;if(te||($.needDrain=!0),$.writing||$.corked){var fe=$.lastBufferedRequest;$.lastBufferedRequest={chunk:Q,encoding:se,isBuf:X,callback:J,next:null},fe?fe.next=$.lastBufferedRequest:$.bufferedRequest=$.lastBufferedRequest,$.bufferedRequestCount+=1}else I(K,$,!1,oe,Q,se,J);return te}function I(K,$,X,Q,se,J,G){$.writelen=Q,$.writecb=G,$.writing=!0,$.sync=!0,$.destroyed?$.onwrite(new c("write")):X?K._writev(se,$.onwrite):K._write(se,J,$.onwrite),$.sync=!1}function O(K,$,X,Q,se){--$.pendingcb,X?(b.nextTick(se,Q),b.nextTick(re,K,$),K._writableState.errorEmitted=!0,T(K,Q)):(se(Q),K._writableState.errorEmitted=!0,T(K,Q),re(K,$))}function _(K){K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0}function B(K,$){var X=K._writableState,Q=X.sync,se=X.writecb;if(typeof se!="function")throw new h;if(_(X),$)O(K,X,Q,$,se);else{var J=W(X)||K.destroyed;!J&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&N(K,X),Q?b.nextTick(F,K,X,J,se):F(K,X,J,se)}}function F(K,$,X,Q){X||z(K,$),$.pendingcb--,Q(),re(K,$)}function z(K,$){$.length===0&&$.needDrain&&($.needDrain=!1,K.emit("drain"))}function N(K,$){$.bufferProcessing=!0;var X=$.bufferedRequest;if(K._writev&&X&&X.next){var Q=$.bufferedRequestCount,se=new Array(Q),J=$.corkedRequestsFree;J.entry=X;for(var G=0,oe=!0;X;)se[G]=X,X.isBuf||(oe=!1),X=X.next,G+=1;se.allBuffers=oe,I(K,$,!0,$.length,se,"",J.finish),$.pendingcb++,$.lastBufferedRequest=null,J.next?($.corkedRequestsFree=J.next,J.next=null):$.corkedRequestsFree=new P($),$.bufferedRequestCount=0}else{for(;X;){var te=X.chunk,fe=X.encoding,ge=X.callback,we=$.objectMode?1:te.length;if(I(K,$,!1,we,te,fe,ge),X=X.next,$.bufferedRequestCount--,$.writing)break}X===null&&($.lastBufferedRequest=null)}$.bufferedRequest=X,$.bufferProcessing=!1}A.prototype._write=function(K,$,X){X(new g("_write()"))},A.prototype._writev=null,A.prototype.end=function(K,$,X){var Q=this._writableState;return typeof K=="function"?(X=K,K=null,$=null):typeof $=="function"&&(X=$,$=null),K!=null&&this.write(K,$),Q.corked&&(Q.corked=1,this.uncork()),Q.ending||le(this,Q,X),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function W(K){return K.ending&&K.length===0&&K.bufferedRequest===null&&!K.finished&&!K.writing}function Z(K,$){K._final(function(X){$.pendingcb--,X&&T(K,X),$.prefinished=!0,K.emit("prefinish"),re(K,$)})}function q(K,$){!$.prefinished&&!$.finalCalled&&(typeof K._final=="function"&&!$.destroyed?($.pendingcb++,$.finalCalled=!0,b.nextTick(Z,K,$)):($.prefinished=!0,K.emit("prefinish")))}function re(K,$){var X=W($);if(X&&(q(K,$),$.pendingcb===0&&($.finished=!0,K.emit("finish"),$.autoDestroy))){var Q=K._readableState;(!Q||Q.autoDestroy&&Q.endEmitted)&&K.destroy()}return X}function le(K,$,X){$.ending=!0,re(K,$),X&&($.finished?b.nextTick(X):K.once("finish",X)),$.ended=!0,K.writable=!1}function ie(K,$,X){var Q=K.entry;for(K.entry=null;Q;){var se=Q.callback;$.pendingcb--,se(X),Q=Q.next}$.corkedRequestsFree.next=K}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function($){this._writableState&&(this._writableState.destroyed=$)}}),A.prototype.destroy=o.destroy,A.prototype._undestroy=o.undestroy,A.prototype._destroy=function(K,$){$(K)}},60328:function(Y,V,e){var b=e(4168),P;function s(a,d,x){return d in a?Object.defineProperty(a,d,{value:x,enumerable:!0,configurable:!0,writable:!0}):a[d]=x,a}var L=e(15932),M=Symbol("lastResolve"),v=Symbol("lastReject"),p=Symbol("error"),r=Symbol("ended"),t=Symbol("lastPromise"),o=Symbol("handlePromise"),n=Symbol("stream");function l(a,d){return{value:a,done:d}}function u(a){var d=a[M];if(d!==null){var x=a[n].read();x!==null&&(a[t]=null,a[M]=null,a[v]=null,d(l(x,!1)))}}function f(a){b.nextTick(u,a)}function g(a,d){return function(x,T){a.then(function(){if(d[r]){x(l(void 0,!0));return}d[o](x,T)},T)}}var h=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((P={get stream(){return this[n]},next:function(){var d=this,x=this[p];if(x!==null)return Promise.reject(x);if(this[r])return Promise.resolve(l(void 0,!0));if(this[n].destroyed)return new Promise(function(S,A){b.nextTick(function(){d[p]?A(d[p]):S(l(void 0,!0))})});var T=this[t],C;if(T)C=new Promise(g(T,this));else{var y=this[n].read();if(y!==null)return Promise.resolve(l(y,!1));C=new Promise(this[o])}return this[t]=C,C}},s(P,Symbol.asyncIterator,function(){return this}),s(P,"return",function(){var d=this;return new Promise(function(x,T){d[n].destroy(null,function(C){if(C){T(C);return}x(l(void 0,!0))})})}),P),h),c=function(d){var x,T=Object.create(w,(x={},s(x,n,{value:d,writable:!0}),s(x,M,{value:null,writable:!0}),s(x,v,{value:null,writable:!0}),s(x,p,{value:null,writable:!0}),s(x,r,{value:d._readableState.endEmitted,writable:!0}),s(x,o,{value:function(y,S){var A=T[n].read();A?(T[t]=null,T[M]=null,T[v]=null,y(l(A,!1))):(T[M]=y,T[v]=S)},writable:!0}),x));return T[t]=null,L(d,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var y=T[v];y!==null&&(T[t]=null,T[M]=null,T[v]=null,y(C)),T[p]=C;return}var S=T[M];S!==null&&(T[t]=null,T[M]=null,T[v]=null,S(l(void 0,!0))),T[r]=!0}),d.on("readable",f.bind(null,T)),T};Y.exports=c},47264:function(Y,V,e){function b(u,f){var g=Object.keys(u);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(u);f&&(h=h.filter(function(w){return Object.getOwnPropertyDescriptor(u,w).enumerable})),g.push.apply(g,h)}return g}function P(u){for(var f=1;f<arguments.length;f++){var g=arguments[f]!=null?arguments[f]:{};f%2?b(Object(g),!0).forEach(function(h){s(u,h,g[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(g)):b(Object(g)).forEach(function(h){Object.defineProperty(u,h,Object.getOwnPropertyDescriptor(g,h))})}return u}function s(u,f,g){return f in u?Object.defineProperty(u,f,{value:g,enumerable:!0,configurable:!0,writable:!0}):u[f]=g,u}function L(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}function M(u,f){for(var g=0;g<f.length;g++){var h=f[g];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}function v(u,f,g){return f&&M(u.prototype,f),u}var p=e(33576),r=p.Buffer,t=e(21576),o=t.inspect,n=o&&o.custom||"inspect";function l(u,f,g){r.prototype.copy.call(u,f,g)}Y.exports=function(){function u(){L(this,u),this.head=null,this.tail=null,this.length=0}return v(u,[{key:"push",value:function(g){var h={data:g,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}},{key:"unshift",value:function(g){var h={data:g,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var h=this.head,w=""+h.data;h=h.next;)w+=g+h.data;return w}},{key:"concat",value:function(g){if(this.length===0)return r.alloc(0);for(var h=r.allocUnsafe(g>>>0),w=this.head,c=0;w;)l(w.data,h,c),c+=w.data.length,w=w.next;return h}},{key:"consume",value:function(g,h){var w;return g<this.head.data.length?(w=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):g===this.head.data.length?w=this.shift():w=h?this._getString(g):this._getBuffer(g),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var h=this.head,w=1,c=h.data;for(g-=c.length;h=h.next;){var a=h.data,d=g>a.length?a.length:g;if(d===a.length?c+=a:c+=a.slice(0,g),g-=d,g===0){d===a.length?(++w,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=a.slice(d));break}++w}return this.length-=w,c}},{key:"_getBuffer",value:function(g){var h=r.allocUnsafe(g),w=this.head,c=1;for(w.data.copy(h),g-=w.data.length;w=w.next;){var a=w.data,d=g>a.length?a.length:g;if(a.copy(h,h.length-g,0,d),g-=d,g===0){d===a.length?(++c,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=a.slice(d));break}++c}return this.length-=c,h}},{key:n,value:function(g,h){return o(this,P({},h,{depth:0,customInspect:!1}))}}]),u}()},55324:function(Y,V,e){var b=e(4168);function P(r,t){var o=this,n=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return n||l?(t?t(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,b.nextTick(v,this,r)):b.nextTick(v,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(u){!t&&u?o._writableState?o._writableState.errorEmitted?b.nextTick(L,o):(o._writableState.errorEmitted=!0,b.nextTick(s,o,u)):b.nextTick(s,o,u):t?(b.nextTick(L,o),t(u)):b.nextTick(L,o)}),this)}function s(r,t){v(r,t),L(r)}function L(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function M(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(r,t){r.emit("error",t)}function p(r,t){var o=r._readableState,n=r._writableState;o&&o.autoDestroy||n&&n.autoDestroy?r.destroy(t):r.emit("error",t)}Y.exports={destroy:P,undestroy:M,errorOrDestroy:p}},15932:function(Y,V,e){var b=e(92784).i.ERR_STREAM_PREMATURE_CLOSE;function P(v){var p=!1;return function(){if(!p){p=!0;for(var r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];v.apply(this,t)}}}function s(){}function L(v){return v.setHeader&&typeof v.abort=="function"}function M(v,p,r){if(typeof p=="function")return M(v,null,p);p||(p={}),r=P(r||s);var t=p.readable||p.readable!==!1&&v.readable,o=p.writable||p.writable!==!1&&v.writable,n=function(){v.writable||u()},l=v._writableState&&v._writableState.finished,u=function(){o=!1,l=!0,t||r.call(v)},f=v._readableState&&v._readableState.endEmitted,g=function(){t=!1,f=!0,o||r.call(v)},h=function(d){r.call(v,d)},w=function(){var d;if(t&&!f)return(!v._readableState||!v._readableState.ended)&&(d=new b),r.call(v,d);if(o&&!l)return(!v._writableState||!v._writableState.ended)&&(d=new b),r.call(v,d)},c=function(){v.req.on("finish",u)};return L(v)?(v.on("complete",u),v.on("abort",w),v.req?c():v.on("request",c)):o&&!v._writableState&&(v.on("end",n),v.on("close",n)),v.on("end",g),v.on("finish",u),p.error!==!1&&v.on("error",h),v.on("close",w),function(){v.removeListener("complete",u),v.removeListener("abort",w),v.removeListener("request",c),v.req&&v.req.removeListener("finish",u),v.removeListener("end",n),v.removeListener("close",n),v.removeListener("finish",u),v.removeListener("end",g),v.removeListener("error",h),v.removeListener("close",w)}}Y.exports=M},90555:function(Y){Y.exports=function(){throw new Error("Readable.from is not available in the browser")}},38180:function(Y,V,e){var b;function P(u){var f=!1;return function(){f||(f=!0,u.apply(void 0,arguments))}}var s=e(92784).i,L=s.ERR_MISSING_ARGS,M=s.ERR_STREAM_DESTROYED;function v(u){if(u)throw u}function p(u){return u.setHeader&&typeof u.abort=="function"}function r(u,f,g,h){h=P(h);var w=!1;u.on("close",function(){w=!0}),b===void 0&&(b=e(15932)),b(u,{readable:f,writable:g},function(a){if(a)return h(a);w=!0,h()});var c=!1;return function(a){if(!w&&!c){if(c=!0,p(u))return u.abort();if(typeof u.destroy=="function")return u.destroy();h(a||new M("pipe"))}}}function t(u){u()}function o(u,f){return u.pipe(f)}function n(u){return!u.length||typeof u[u.length-1]!="function"?v:u.pop()}function l(){for(var u=arguments.length,f=new Array(u),g=0;g<u;g++)f[g]=arguments[g];var h=n(f);if(Array.isArray(f[0])&&(f=f[0]),f.length<2)throw new L("streams");var w,c=f.map(function(a,d){var x=d<f.length-1,T=d>0;return r(a,x,T,function(C){w||(w=C),C&&c.forEach(t),!x&&(c.forEach(t),h(w))})});return f.reduce(o)}Y.exports=l},24888:function(Y,V,e){var b=e(92784).i.ERR_INVALID_OPT_VALUE;function P(L,M,v){return L.highWaterMark!=null?L.highWaterMark:M?L[v]:null}function s(L,M,v,p){var r=P(M,p,v);if(r!=null){if(!(isFinite(r)&&Math.floor(r)===r)||r<0){var t=p?v:"highWaterMark";throw new b(t,r)}return Math.floor(r)}return L.objectMode?16:16384}Y.exports={getHighWaterMark:s}},4776:function(Y,V,e){Y.exports=e(61252).EventEmitter},86032:function(Y,V,e){var b=e(30456).Buffer,P=b.isEncoding||function(c){switch(c=""+c,c&&c.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(c){if(!c)return"utf8";for(var a;;)switch(c){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return c;default:if(a)return;c=(""+c).toLowerCase(),a=!0}}function L(c){var a=s(c);if(typeof a!="string"&&(b.isEncoding===P||!P(c)))throw new Error("Unknown encoding: "+c);return a||c}V.o=M;function M(c){this.encoding=L(c);var a;switch(this.encoding){case"utf16le":this.text=l,this.end=u,a=4;break;case"utf8":this.fillLast=t,a=4;break;case"base64":this.text=f,this.end=g,a=3;break;default:this.write=h,this.end=w;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=b.allocUnsafe(a)}M.prototype.write=function(c){if(c.length===0)return"";var a,d;if(this.lastNeed){if(a=this.fillLast(c),a===void 0)return"";d=this.lastNeed,this.lastNeed=0}else d=0;return d<c.length?a?a+this.text(c,d):this.text(c,d):a||""},M.prototype.end=n,M.prototype.text=o,M.prototype.fillLast=function(c){if(this.lastNeed<=c.length)return c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,c.length),this.lastNeed-=c.length};function v(c){return c<=127?0:c>>5===6?2:c>>4===14?3:c>>3===30?4:c>>6===2?-1:-2}function p(c,a,d){var x=a.length-1;if(x<d)return 0;var T=v(a[x]);return T>=0?(T>0&&(c.lastNeed=T-1),T):--x<d||T===-2?0:(T=v(a[x]),T>=0?(T>0&&(c.lastNeed=T-2),T):--x<d||T===-2?0:(T=v(a[x]),T>=0?(T>0&&(T===2?T=0:c.lastNeed=T-3),T):0))}function r(c,a,d){if((a[0]&192)!==128)return c.lastNeed=0,"�";if(c.lastNeed>1&&a.length>1){if((a[1]&192)!==128)return c.lastNeed=1,"�";if(c.lastNeed>2&&a.length>2&&(a[2]&192)!==128)return c.lastNeed=2,"�"}}function t(c){var a=this.lastTotal-this.lastNeed,d=r(this,c);if(d!==void 0)return d;if(this.lastNeed<=c.length)return c.copy(this.lastChar,a,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,a,0,c.length),this.lastNeed-=c.length}function o(c,a){var d=p(this,c,a);if(!this.lastNeed)return c.toString("utf8",a);this.lastTotal=d;var x=c.length-(d-this.lastNeed);return c.copy(this.lastChar,0,x),c.toString("utf8",a,x)}function n(c){var a=c&&c.length?this.write(c):"";return this.lastNeed?a+"�":a}function l(c,a){if((c.length-a)%2===0){var d=c.toString("utf16le",a);if(d){var x=d.charCodeAt(d.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1],d.slice(0,-1)}return d}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=c[c.length-1],c.toString("utf16le",a,c.length-1)}function u(c){var a=c&&c.length?this.write(c):"";if(this.lastNeed){var d=this.lastTotal-this.lastNeed;return a+this.lastChar.toString("utf16le",0,d)}return a}function f(c,a){var d=(c.length-a)%3;return d===0?c.toString("base64",a):(this.lastNeed=3-d,this.lastTotal=3,d===1?this.lastChar[0]=c[c.length-1]:(this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1]),c.toString("base64",a,c.length-d))}function g(c){var a=c&&c.length?this.write(c):"";return this.lastNeed?a+this.lastChar.toString("base64",0,3-this.lastNeed):a}function h(c){return c.toString(this.encoding)}function w(c){return c&&c.length?this.write(c):""}},55619:function(Y,V,e){var b=e(45408),P=e(86844)("stream-parser");Y.exports=p;var s=-1,L=0,M=1,v=2;function p(c){var a=c&&typeof c._transform=="function",d=c&&typeof c._write=="function";if(!a&&!d)throw new Error("must pass a Writable or Transform stream in");P("extending Parser into stream"),c._bytes=t,c._skipBytes=o,a&&(c._passthrough=n),a?c._transform=u:c._write=l}function r(c){P("initializing parser stream"),c._parserBytesLeft=0,c._parserBuffers=[],c._parserBuffered=0,c._parserState=s,c._parserCallback=null,typeof c.push=="function"&&(c._parserOutput=c.push.bind(c)),c._parserInit=!0}function t(c,a){b(!this._parserCallback,'there is already a "callback" set!'),b(isFinite(c)&&c>0,'can only buffer a finite number of bytes > 0, got "'+c+'"'),this._parserInit||r(this),P("buffering %o bytes",c),this._parserBytesLeft=c,this._parserCallback=a,this._parserState=L}function o(c,a){b(!this._parserCallback,'there is already a "callback" set!'),b(c>0,'can only skip > 0 bytes, got "'+c+'"'),this._parserInit||r(this),P("skipping %o bytes",c),this._parserBytesLeft=c,this._parserCallback=a,this._parserState=M}function n(c,a){b(!this._parserCallback,'There is already a "callback" set!'),b(c>0,'can only pass through > 0 bytes, got "'+c+'"'),this._parserInit||r(this),P("passing through %o bytes",c),this._parserBytesLeft=c,this._parserCallback=a,this._parserState=v}function l(c,a,d){this._parserInit||r(this),P("write(%o bytes)",c.length),typeof a=="function"&&(d=a),h(this,c,null,d)}function u(c,a,d){this._parserInit||r(this),P("transform(%o bytes)",c.length),typeof a!="function"&&(a=this._parserOutput),h(this,c,a,d)}function f(c,a,d,x){return c._parserBytesLeft<=0?x(new Error("got data but not currently parsing anything")):a.length<=c._parserBytesLeft?function(){return g(c,a,d,x)}:function(){var T=a.slice(0,c._parserBytesLeft);return g(c,T,d,function(C){if(C)return x(C);if(a.length>T.length)return function(){return f(c,a.slice(T.length),d,x)}})}}function g(c,a,d,x){if(c._parserBytesLeft-=a.length,P("%o bytes left for stream piece",c._parserBytesLeft),c._parserState===L?(c._parserBuffers.push(a),c._parserBuffered+=a.length):c._parserState===v&&d(a),c._parserBytesLeft===0){var T=c._parserCallback;if(T&&c._parserState===L&&c._parserBuffers.length>1&&(a=Buffer.concat(c._parserBuffers,c._parserBuffered)),c._parserState!==L&&(a=null),c._parserCallback=null,c._parserBuffered=0,c._parserState=s,c._parserBuffers.splice(0),T){var C=[];a&&C.push(a),d&&C.push(d);var y=T.length>C.length;y&&C.push(w(x));var S=T.apply(c,C);if(!y||x===S)return x}}else return x}var h=w(f);function w(c){return function(){for(var a=c.apply(this,arguments);typeof a=="function";)a=a();return a}}},86844:function(Y,V,e){var b=e(4168);V=Y.exports=e(89416),V.log=L,V.formatArgs=s,V.save=M,V.load=v,V.useColors=P,V.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:p(),V.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function P(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}V.formatters.j=function(r){try{return JSON.stringify(r)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}};function s(r){var t=this.useColors;if(r[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+r[0]+(t?"%c ":" ")+"+"+V.humanize(this.diff),!!t){var o="color: "+this.color;r.splice(1,0,o,"color: inherit");var n=0,l=0;r[0].replace(/%[a-zA-Z%]/g,function(u){u!=="%%"&&(n++,u==="%c"&&(l=n))}),r.splice(l,0,o)}}function L(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function M(r){try{r==null?V.storage.removeItem("debug"):V.storage.debug=r}catch{}}function v(){var r;try{r=V.storage.debug}catch{}return!r&&typeof b<"u"&&"env"in b&&(r=b.env.DEBUG),r}V.enable(v());function p(){try{return window.localStorage}catch{}}},89416:function(Y,V,e){V=Y.exports=s.debug=s.default=s,V.coerce=p,V.disable=M,V.enable=L,V.enabled=v,V.humanize=e(93744),V.names=[],V.skips=[],V.formatters={};var b;function P(r){var t=0,o;for(o in r)t=(t<<5)-t+r.charCodeAt(o),t|=0;return V.colors[Math.abs(t)%V.colors.length]}function s(r){function t(){if(t.enabled){var o=t,n=+new Date,l=n-(b||n);o.diff=l,o.prev=b,o.curr=n,b=n;for(var u=new Array(arguments.length),f=0;f<u.length;f++)u[f]=arguments[f];u[0]=V.coerce(u[0]),typeof u[0]!="string"&&u.unshift("%O");var g=0;u[0]=u[0].replace(/%([a-zA-Z%])/g,function(w,c){if(w==="%%")return w;g++;var a=V.formatters[c];if(typeof a=="function"){var d=u[g];w=a.call(o,d),u.splice(g,1),g--}return w}),V.formatArgs.call(o,u);var h=t.log||V.log||console.log.bind(console);h.apply(o,u)}}return t.namespace=r,t.enabled=V.enabled(r),t.useColors=V.useColors(),t.color=P(r),typeof V.init=="function"&&V.init(t),t}function L(r){V.save(r),V.names=[],V.skips=[];for(var t=(typeof r=="string"?r:"").split(/[\s,]+/),o=t.length,n=0;n<o;n++)t[n]&&(r=t[n].replace(/\*/g,".*?"),r[0]==="-"?V.skips.push(new RegExp("^"+r.substr(1)+"$")):V.names.push(new RegExp("^"+r+"$")))}function M(){V.enable("")}function v(r){var t,o;for(t=0,o=V.skips.length;t<o;t++)if(V.skips[t].test(r))return!1;for(t=0,o=V.names.length;t<o;t++)if(V.names[t].test(r))return!0;return!1}function p(r){return r instanceof Error?r.stack||r.message:r}},93744:function(Y){var V=1e3,e=V*60,b=e*60,P=b*24,s=P*365.25;Y.exports=function(r,t){t=t||{};var o=typeof r;if(o==="string"&&r.length>0)return L(r);if(o==="number"&&isNaN(r)===!1)return t.long?v(r):M(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function L(r){if(r=String(r),!(r.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(t){var o=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return o*s;case"days":case"day":case"d":return o*P;case"hours":case"hour":case"hrs":case"hr":case"h":return o*b;case"minutes":case"minute":case"mins":case"min":case"m":return o*e;case"seconds":case"second":case"secs":case"sec":case"s":return o*V;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}function M(r){return r>=P?Math.round(r/P)+"d":r>=b?Math.round(r/b)+"h":r>=e?Math.round(r/e)+"m":r>=V?Math.round(r/V)+"s":r+"ms"}function v(r){return p(r,P,"day")||p(r,b,"hour")||p(r,e,"minute")||p(r,V,"second")||r+" ms"}function p(r,t,o){if(!(r<t))return r<t*1.5?Math.floor(r/t)+" "+o:Math.ceil(r/t)+" "+o+"s"}},39956:function(Y,V,e){var b=e(32868);Y.exports=function(s,L,M){if(s==null)throw Error("First argument should be a string");if(L==null)throw Error("Separator should be a string or a RegExp");M?(typeof M=="string"||Array.isArray(M))&&(M={ignore:M}):M={},M.escape==null&&(M.escape=!0),M.ignore==null?M.ignore=["[]","()","{}","<>",'""',"''","``","“”","«»"]:(typeof M.ignore=="string"&&(M.ignore=[M.ignore]),M.ignore=M.ignore.map(function(u){return u.length===1&&(u=u+u),u}));var v=b.parse(s,{flat:!0,brackets:M.ignore}),p=v[0],r=p.split(L);if(M.escape){for(var t=[],o=0;o<r.length;o++){var n=r[o],l=r[o+1];n[n.length-1]==="\\"&&n[n.length-2]!=="\\"?(t.push(n+L+l),o++):t.push(n)}r=t}for(var o=0;o<r.length;o++)v[0]=r[o],r[o]=b.stringify(v,{flat:!0});return r}},78484:function(Y){Y.exports=V;function V(e){for(var b=e.length,P=new Array(b),s=new Array(b),L=new Array(b),M=new Array(b),v=new Array(b),p=new Array(b),r=0;r<b;++r)P[r]=-1,s[r]=0,L[r]=!1,M[r]=0,v[r]=-1,p[r]=[];var t=0,o=[],n=[];function l(h){var w=[h],c=[h];for(P[h]=s[h]=t,L[h]=!0,t+=1;c.length>0;){h=c[c.length-1];var a=e[h];if(M[h]<a.length){for(var d=M[h];d<a.length;++d){var x=a[d];if(P[x]<0){P[x]=s[x]=t,L[x]=!0,t+=1,w.push(x),c.push(x);break}else L[x]&&(s[h]=Math.min(s[h],s[x])|0);v[x]>=0&&p[h].push(v[x])}M[h]=d}else{if(s[h]===P[h]){for(var T=[],C=[],y=0,d=w.length-1;d>=0;--d){var S=w[d];if(L[S]=!1,T.push(S),C.push(p[S]),y+=p[S].length,v[S]=o.length,S===h){w.length=d;break}}o.push(T);for(var A=new Array(y),d=0;d<C.length;d++)for(var i=0;i<C[d].length;i++)A[--y]=C[d][i];n.push(A)}c.pop()}}}for(var r=0;r<b;++r)P[r]<0&&l(r);for(var u,r=0;r<n.length;r++){var f=n[r];if(f.length!==0){f.sort(function(w,c){return w-c}),u=[f[0]];for(var g=1;g<f.length;g++)f[g]!==f[g-1]&&u.push(f[g]);n[r]=u}}return{components:o,adjacencyList:n}}},92848:function(Y,V,e){e.r(V);var b=function(){function r(t,o){var n=[],l=!0,u=!1,f=void 0;try{for(var g=t[Symbol.iterator](),h;!(l=(h=g.next()).done)&&(n.push(h.value),!(o&&n.length===o));l=!0);}catch(w){u=!0,f=w}finally{try{!l&&g.return&&g.return()}finally{if(u)throw f}}return n}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,o);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),P=Math.PI*2,s=function(t,o,n,l,u,f,g){var h=t.x,w=t.y;h*=o,w*=n;var c=l*h-u*w,a=u*h+l*w;return{x:c+f,y:a+g}},L=function(t,o){var n=o===1.5707963267948966?.551915024494:o===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(o/4),l=Math.cos(t),u=Math.sin(t),f=Math.cos(t+o),g=Math.sin(t+o);return[{x:l-u*n,y:u+l*n},{x:f+g*n,y:g-f*n},{x:f,y:g}]},M=function(t,o,n,l){var u=t*l-o*n<0?-1:1,f=t*n+o*l;return f>1&&(f=1),f<-1&&(f=-1),u*Math.acos(f)},v=function(t,o,n,l,u,f,g,h,w,c,a,d){var x=Math.pow(u,2),T=Math.pow(f,2),C=Math.pow(a,2),y=Math.pow(d,2),S=x*T-x*y-T*C;S<0&&(S=0),S/=x*y+T*C,S=Math.sqrt(S)*(g===h?-1:1);var A=S*u/f*d,i=S*-f/u*a,E=c*A-w*i+(t+n)/2,m=w*A+c*i+(o+l)/2,k=(a-A)/u,I=(d-i)/f,O=(-a-A)/u,_=(-d-i)/f,B=M(1,0,k,I),F=M(k,I,O,_);return h===0&&F>0&&(F-=P),h===1&&F<0&&(F+=P),[E,m,B,F]},p=function(t){var o=t.px,n=t.py,l=t.cx,u=t.cy,f=t.rx,g=t.ry,h=t.xAxisRotation,w=h===void 0?0:h,c=t.largeArcFlag,a=c===void 0?0:c,d=t.sweepFlag,x=d===void 0?0:d,T=[];if(f===0||g===0)return[];var C=Math.sin(w*P/360),y=Math.cos(w*P/360),S=y*(o-l)/2+C*(n-u)/2,A=-C*(o-l)/2+y*(n-u)/2;if(S===0&&A===0)return[];f=Math.abs(f),g=Math.abs(g);var i=Math.pow(S,2)/Math.pow(f,2)+Math.pow(A,2)/Math.pow(g,2);i>1&&(f*=Math.sqrt(i),g*=Math.sqrt(i));var E=v(o,n,l,u,f,g,a,x,C,y,S,A),m=b(E,4),k=m[0],I=m[1],O=m[2],_=m[3],B=Math.abs(_)/(P/4);Math.abs(1-B)<1e-7&&(B=1);var F=Math.max(Math.ceil(B),1);_/=F;for(var z=0;z<F;z++)T.push(L(O,_)),O+=_;return T.map(function(N){var W=s(N[0],f,g,y,C,k,I),Z=W.x,q=W.y,re=s(N[1],f,g,y,C,k,I),le=re.x,ie=re.y,K=s(N[2],f,g,y,C,k,I),$=K.x,X=K.y;return{x1:Z,y1:q,x2:le,y2:ie,x:$,y:X}})};V.default=p},74840:function(Y,V,e){var b=e(21984),P=e(49972),s=e(41976),L=e(53520),M=e(45408);Y.exports=v;function v(p){if(Array.isArray(p)&&p.length===1&&typeof p[0]=="string"&&(p=p[0]),typeof p=="string"&&(M(L(p),"String is not an SVG path."),p=b(p)),M(Array.isArray(p),"Argument should be a string or an array of path segments."),p=P(p),p=s(p),!p.length)return[0,0,0,0];for(var r=[1/0,1/0,-1/0,-1/0],t=0,o=p.length;t<o;t++)for(var n=p[t].slice(1),l=0;l<n.length;l+=2)n[l+0]<r[0]&&(r[0]=n[l+0]),n[l+1]<r[1]&&(r[1]=n[l+1]),n[l+0]>r[2]&&(r[2]=n[l+0]),n[l+1]>r[3]&&(r[3]=n[l+1]);return r}},41976:function(Y,V,e){Y.exports=P;var b=e(92848);function P(M){for(var v,p=[],r=0,t=0,o=0,n=0,l=null,u=null,f=0,g=0,h=0,w=M.length;h<w;h++){var c=M[h],a=c[0];switch(a){case"M":o=c[1],n=c[2];break;case"A":var d=b({px:f,py:g,cx:c[6],cy:c[7],rx:c[1],ry:c[2],xAxisRotation:c[3],largeArcFlag:c[4],sweepFlag:c[5]});if(!d.length)continue;for(var x=0,T;x<d.length;x++)T=d[x],c=["C",T.x1,T.y1,T.x2,T.y2,T.x,T.y],x<d.length-1&&p.push(c);break;case"S":var C=f,y=g;(v=="C"||v=="S")&&(C+=C-r,y+=y-t),c=["C",C,y,c[1],c[2],c[3],c[4]];break;case"T":v=="Q"||v=="T"?(l=f*2-l,u=g*2-u):(l=f,u=g),c=L(f,g,l,u,c[1],c[2]);break;case"Q":l=c[1],u=c[2],c=L(f,g,c[1],c[2],c[3],c[4]);break;case"L":c=s(f,g,c[1],c[2]);break;case"H":c=s(f,g,c[1],g);break;case"V":c=s(f,g,f,c[1]);break;case"Z":c=s(f,g,o,n);break}v=a,f=c[c.length-2],g=c[c.length-1],c.length>4?(r=c[c.length-4],t=c[c.length-3]):(r=f,t=g),p.push(c)}return p}function s(M,v,p,r){return["C",M,v,p,r,p,r]}function L(M,v,p,r,t,o){return["C",M/3+.6666666666666666*p,v/3+.6666666666666666*r,t/3+.6666666666666666*p,o/3+.6666666666666666*r,t,o]}},20472:function(Y,V,e){var b=e(74840),P=e(21984),s=e(22235),L=e(53520),M=e(29620),v=document.createElement("canvas"),p=v.getContext("2d");Y.exports=r;function r(n,l){if(!L(n))throw Error("Argument should be valid svg path string");l||(l={});var u,f;l.shape?(u=l.shape[0],f=l.shape[1]):(u=v.width=l.w||l.width||200,f=v.height=l.h||l.height||200);var g=Math.min(u,f),h=l.stroke||0,w=l.viewbox||l.viewBox||b(n),c=[u/(w[2]-w[0]),f/(w[3]-w[1])],a=Math.min(c[0]||0,c[1]||0)/2;if(p.fillStyle="black",p.fillRect(0,0,u,f),p.fillStyle="white",h&&(typeof h!="number"&&(h=1),h>0?p.strokeStyle="white":p.strokeStyle="black",p.lineWidth=Math.abs(h)),p.translate(u*.5,f*.5),p.scale(a,a),o()){var d=new Path2D(n);p.fill(d),h&&p.stroke(d)}else{var x=P(n);s(p,x),p.fill(),h&&p.stroke()}p.setTransform(1,0,0,1,0,0);var T=M(p,{cutoff:l.cutoff!=null?l.cutoff:.5,radius:l.radius!=null?l.radius:g*.5});return T}var t;function o(){if(t!=null)return t;var n=document.createElement("canvas").getContext("2d");if(n.canvas.width=n.canvas.height=1,!window.Path2D)return t=!1;var l=new Path2D("M0,0h1v1h-1v-1Z");n.fillStyle="black",n.fill(l);var u=n.getImageData(0,0,1,1);return t=u&&u.data&&u.data[3]===255}},49760:function(Y,V,e){var b;(function(P){var s=/^\s+/,L=/\s+$/,M=0,v=P.round,p=P.min,r=P.max,t=P.random;function o(G,oe){if(G=G||"",oe=oe||{},G instanceof o)return G;if(!(this instanceof o))return new o(G,oe);var te=n(G);this._originalInput=G,this._r=te.r,this._g=te.g,this._b=te.b,this._a=te.a,this._roundA=v(100*this._a)/100,this._format=oe.format||te.format,this._gradientType=oe.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=te.ok,this._tc_id=M++}o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var G=this.toRgb();return(G.r*299+G.g*587+G.b*114)/1e3},getLuminance:function(){var G=this.toRgb(),oe,te,fe,ge,we,xe;return oe=G.r/255,te=G.g/255,fe=G.b/255,oe<=.03928?ge=oe/12.92:ge=P.pow((oe+.055)/1.055,2.4),te<=.03928?we=te/12.92:we=P.pow((te+.055)/1.055,2.4),fe<=.03928?xe=fe/12.92:xe=P.pow((fe+.055)/1.055,2.4),.2126*ge+.7152*we+.0722*xe},setAlpha:function(G){return this._a=z(G),this._roundA=v(100*this._a)/100,this},toHsv:function(){var G=g(this._r,this._g,this._b);return{h:G.h*360,s:G.s,v:G.v,a:this._a}},toHsvString:function(){var G=g(this._r,this._g,this._b),oe=v(G.h*360),te=v(G.s*100),fe=v(G.v*100);return this._a==1?"hsv("+oe+", "+te+"%, "+fe+"%)":"hsva("+oe+", "+te+"%, "+fe+"%, "+this._roundA+")"},toHsl:function(){var G=u(this._r,this._g,this._b);return{h:G.h*360,s:G.s,l:G.l,a:this._a}},toHslString:function(){var G=u(this._r,this._g,this._b),oe=v(G.h*360),te=v(G.s*100),fe=v(G.l*100);return this._a==1?"hsl("+oe+", "+te+"%, "+fe+"%)":"hsla("+oe+", "+te+"%, "+fe+"%, "+this._roundA+")"},toHex:function(G){return w(this._r,this._g,this._b,G)},toHexString:function(G){return"#"+this.toHex(G)},toHex8:function(G){return c(this._r,this._g,this._b,this._a,G)},toHex8String:function(G){return"#"+this.toHex8(G)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(N(this._r,255)*100)+"%",g:v(N(this._g,255)*100)+"%",b:v(N(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+v(N(this._r,255)*100)+"%, "+v(N(this._g,255)*100)+"%, "+v(N(this._b,255)*100)+"%)":"rgba("+v(N(this._r,255)*100)+"%, "+v(N(this._g,255)*100)+"%, "+v(N(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:B[w(this._r,this._g,this._b,!0)]||!1},toFilter:function(G){var oe="#"+a(this._r,this._g,this._b,this._a),te=oe,fe=this._gradientType?"GradientType = 1, ":"";if(G){var ge=o(G);te="#"+a(ge._r,ge._g,ge._b,ge._a)}return"progid:DXImageTransform.Microsoft.gradient("+fe+"startColorstr="+oe+",endColorstr="+te+")"},toString:function(G){var oe=!!G;G=G||this._format;var te=!1,fe=this._a<1&&this._a>=0,ge=!oe&&fe&&(G==="hex"||G==="hex6"||G==="hex3"||G==="hex4"||G==="hex8"||G==="name");return ge?G==="name"&&this._a===0?this.toName():this.toRgbString():(G==="rgb"&&(te=this.toRgbString()),G==="prgb"&&(te=this.toPercentageRgbString()),(G==="hex"||G==="hex6")&&(te=this.toHexString()),G==="hex3"&&(te=this.toHexString(!0)),G==="hex4"&&(te=this.toHex8String(!0)),G==="hex8"&&(te=this.toHex8String()),G==="name"&&(te=this.toName()),G==="hsl"&&(te=this.toHslString()),G==="hsv"&&(te=this.toHsvString()),te||this.toHexString())},clone:function(){return o(this.toString())},_applyModification:function(G,oe){var te=G.apply(null,[this].concat([].slice.call(oe)));return this._r=te._r,this._g=te._g,this._b=te._b,this.setAlpha(te._a),this},lighten:function(){return this._applyModification(C,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(S,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(x,arguments)},greyscale:function(){return this._applyModification(T,arguments)},spin:function(){return this._applyModification(A,arguments)},_applyCombination:function(G,oe){return G.apply(null,[this].concat([].slice.call(oe)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(i,arguments)},monochromatic:function(){return this._applyCombination(O,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(E,arguments)},tetrad:function(){return this._applyCombination(m,arguments)}},o.fromRatio=function(G,oe){if(typeof G=="object"){var te={};for(var fe in G)G.hasOwnProperty(fe)&&(fe==="a"?te[fe]=G[fe]:te[fe]=ie(G[fe]));G=te}return o(G,oe)};function n(G){var oe={r:0,g:0,b:0},te=1,fe=null,ge=null,we=null,xe=!1,Ce=!1;return typeof G=="string"&&(G=se(G)),typeof G=="object"&&(Q(G.r)&&Q(G.g)&&Q(G.b)?(oe=l(G.r,G.g,G.b),xe=!0,Ce=String(G.r).substr(-1)==="%"?"prgb":"rgb"):Q(G.h)&&Q(G.s)&&Q(G.v)?(fe=ie(G.s),ge=ie(G.v),oe=h(G.h,fe,ge),xe=!0,Ce="hsv"):Q(G.h)&&Q(G.s)&&Q(G.l)&&(fe=ie(G.s),we=ie(G.l),oe=f(G.h,fe,we),xe=!0,Ce="hsl"),G.hasOwnProperty("a")&&(te=G.a)),te=z(te),{ok:xe,format:G.format||Ce,r:p(255,r(oe.r,0)),g:p(255,r(oe.g,0)),b:p(255,r(oe.b,0)),a:te}}function l(G,oe,te){return{r:N(G,255)*255,g:N(oe,255)*255,b:N(te,255)*255}}function u(G,oe,te){G=N(G,255),oe=N(oe,255),te=N(te,255);var fe=r(G,oe,te),ge=p(G,oe,te),we,xe,Ce=(fe+ge)/2;if(fe==ge)we=xe=0;else{var De=fe-ge;switch(xe=Ce>.5?De/(2-fe-ge):De/(fe+ge),fe){case G:we=(oe-te)/De+(oe<te?6:0);break;case oe:we=(te-G)/De+2;break;case te:we=(G-oe)/De+4;break}we/=6}return{h:we,s:xe,l:Ce}}function f(G,oe,te){var fe,ge,we;G=N(G,360),oe=N(oe,100),te=N(te,100);function xe(Oe,Te,Re){return Re<0&&(Re+=1),Re>1&&(Re-=1),Re<.16666666666666666?Oe+(Te-Oe)*6*Re:Re<.5?Te:Re<.6666666666666666?Oe+(Te-Oe)*(.6666666666666666-Re)*6:Oe}if(oe===0)fe=ge=we=te;else{var Ce=te<.5?te*(1+oe):te+oe-te*oe,De=2*te-Ce;fe=xe(De,Ce,G+.3333333333333333),ge=xe(De,Ce,G),we=xe(De,Ce,G-.3333333333333333)}return{r:fe*255,g:ge*255,b:we*255}}function g(G,oe,te){G=N(G,255),oe=N(oe,255),te=N(te,255);var fe=r(G,oe,te),ge=p(G,oe,te),we,xe,Ce=fe,De=fe-ge;if(xe=fe===0?0:De/fe,fe==ge)we=0;else{switch(fe){case G:we=(oe-te)/De+(oe<te?6:0);break;case oe:we=(te-G)/De+2;break;case te:we=(G-oe)/De+4;break}we/=6}return{h:we,s:xe,v:Ce}}function h(G,oe,te){G=N(G,360)*6,oe=N(oe,100),te=N(te,100);var fe=P.floor(G),ge=G-fe,we=te*(1-oe),xe=te*(1-ge*oe),Ce=te*(1-(1-ge)*oe),De=fe%6,Oe=[te,xe,we,we,Ce,te][De],Te=[Ce,te,te,xe,we,we][De],Re=[we,we,Ce,te,te,xe][De];return{r:Oe*255,g:Te*255,b:Re*255}}function w(G,oe,te,fe){var ge=[le(v(G).toString(16)),le(v(oe).toString(16)),le(v(te).toString(16))];return fe&&ge[0].charAt(0)==ge[0].charAt(1)&&ge[1].charAt(0)==ge[1].charAt(1)&&ge[2].charAt(0)==ge[2].charAt(1)?ge[0].charAt(0)+ge[1].charAt(0)+ge[2].charAt(0):ge.join("")}function c(G,oe,te,fe,ge){var we=[le(v(G).toString(16)),le(v(oe).toString(16)),le(v(te).toString(16)),le(K(fe))];return ge&&we[0].charAt(0)==we[0].charAt(1)&&we[1].charAt(0)==we[1].charAt(1)&&we[2].charAt(0)==we[2].charAt(1)&&we[3].charAt(0)==we[3].charAt(1)?we[0].charAt(0)+we[1].charAt(0)+we[2].charAt(0)+we[3].charAt(0):we.join("")}function a(G,oe,te,fe){var ge=[le(K(fe)),le(v(G).toString(16)),le(v(oe).toString(16)),le(v(te).toString(16))];return ge.join("")}o.equals=function(G,oe){return!G||!oe?!1:o(G).toRgbString()==o(oe).toRgbString()},o.random=function(){return o.fromRatio({r:t(),g:t(),b:t()})};function d(G,oe){oe=oe===0?0:oe||10;var te=o(G).toHsl();return te.s-=oe/100,te.s=W(te.s),o(te)}function x(G,oe){oe=oe===0?0:oe||10;var te=o(G).toHsl();return te.s+=oe/100,te.s=W(te.s),o(te)}function T(G){return o(G).desaturate(100)}function C(G,oe){oe=oe===0?0:oe||10;var te=o(G).toHsl();return te.l+=oe/100,te.l=W(te.l),o(te)}function y(G,oe){oe=oe===0?0:oe||10;var te=o(G).toRgb();return te.r=r(0,p(255,te.r-v(255*-(oe/100)))),te.g=r(0,p(255,te.g-v(255*-(oe/100)))),te.b=r(0,p(255,te.b-v(255*-(oe/100)))),o(te)}function S(G,oe){oe=oe===0?0:oe||10;var te=o(G).toHsl();return te.l-=oe/100,te.l=W(te.l),o(te)}function A(G,oe){var te=o(G).toHsl(),fe=(te.h+oe)%360;return te.h=fe<0?360+fe:fe,o(te)}function i(G){var oe=o(G).toHsl();return oe.h=(oe.h+180)%360,o(oe)}function E(G){var oe=o(G).toHsl(),te=oe.h;return[o(G),o({h:(te+120)%360,s:oe.s,l:oe.l}),o({h:(te+240)%360,s:oe.s,l:oe.l})]}function m(G){var oe=o(G).toHsl(),te=oe.h;return[o(G),o({h:(te+90)%360,s:oe.s,l:oe.l}),o({h:(te+180)%360,s:oe.s,l:oe.l}),o({h:(te+270)%360,s:oe.s,l:oe.l})]}function k(G){var oe=o(G).toHsl(),te=oe.h;return[o(G),o({h:(te+72)%360,s:oe.s,l:oe.l}),o({h:(te+216)%360,s:oe.s,l:oe.l})]}function I(G,oe,te){oe=oe||6,te=te||30;var fe=o(G).toHsl(),ge=360/te,we=[o(G)];for(fe.h=(fe.h-(ge*oe>>1)+720)%360;--oe;)fe.h=(fe.h+ge)%360,we.push(o(fe));return we}function O(G,oe){oe=oe||6;for(var te=o(G).toHsv(),fe=te.h,ge=te.s,we=te.v,xe=[],Ce=1/oe;oe--;)xe.push(o({h:fe,s:ge,v:we})),we=(we+Ce)%1;return xe}o.mix=function(G,oe,te){te=te===0?0:te||50;var fe=o(G).toRgb(),ge=o(oe).toRgb(),we=te/100,xe={r:(ge.r-fe.r)*we+fe.r,g:(ge.g-fe.g)*we+fe.g,b:(ge.b-fe.b)*we+fe.b,a:(ge.a-fe.a)*we+fe.a};return o(xe)},o.readability=function(G,oe){var te=o(G),fe=o(oe);return(P.max(te.getLuminance(),fe.getLuminance())+.05)/(P.min(te.getLuminance(),fe.getLuminance())+.05)},o.isReadable=function(G,oe,te){var fe=o.readability(G,oe),ge,we;switch(we=!1,ge=J(te),ge.level+ge.size){case"AAsmall":case"AAAlarge":we=fe>=4.5;break;case"AAlarge":we=fe>=3;break;case"AAAsmall":we=fe>=7;break}return we},o.mostReadable=function(G,oe,te){var fe=null,ge=0,we,xe,Ce,De;te=te||{},xe=te.includeFallbackColors,Ce=te.level,De=te.size;for(var Oe=0;Oe<oe.length;Oe++)we=o.readability(G,oe[Oe]),we>ge&&(ge=we,fe=o(oe[Oe]));return o.isReadable(G,fe,{level:Ce,size:De})||!xe?fe:(te.includeFallbackColors=!1,o.mostReadable(G,["#fff","#000"],te))};var _=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},B=o.hexNames=F(_);function F(G){var oe={};for(var te in G)G.hasOwnProperty(te)&&(oe[G[te]]=te);return oe}function z(G){return G=parseFloat(G),(isNaN(G)||G<0||G>1)&&(G=1),G}function N(G,oe){q(G)&&(G="100%");var te=re(G);return G=p(oe,r(0,parseFloat(G))),te&&(G=parseInt(G*oe,10)/100),P.abs(G-oe)<1e-6?1:G%oe/parseFloat(oe)}function W(G){return p(1,r(0,G))}function Z(G){return parseInt(G,16)}function q(G){return typeof G=="string"&&G.indexOf(".")!=-1&&parseFloat(G)===1}function re(G){return typeof G=="string"&&G.indexOf("%")!=-1}function le(G){return G.length==1?"0"+G:""+G}function ie(G){return G<=1&&(G=G*100+"%"),G}function K(G){return P.round(parseFloat(G)*255).toString(16)}function $(G){return Z(G)/255}var X=function(){var G="[-\\+]?\\d+%?",oe="[-\\+]?\\d*\\.\\d+%?",te="(?:"+oe+")|(?:"+G+")",fe="[\\s|\\(]+("+te+")[,|\\s]+("+te+")[,|\\s]+("+te+")\\s*\\)?",ge="[\\s|\\(]+("+te+")[,|\\s]+("+te+")[,|\\s]+("+te+")[,|\\s]+("+te+")\\s*\\)?";return{CSS_UNIT:new RegExp(te),rgb:new RegExp("rgb"+fe),rgba:new RegExp("rgba"+ge),hsl:new RegExp("hsl"+fe),hsla:new RegExp("hsla"+ge),hsv:new RegExp("hsv"+fe),hsva:new RegExp("hsva"+ge),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Q(G){return!!X.CSS_UNIT.exec(G)}function se(G){G=G.replace(s,"").replace(L,"").toLowerCase();var oe=!1;if(_[G])G=_[G],oe=!0;else if(G=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var te;return(te=X.rgb.exec(G))?{r:te[1],g:te[2],b:te[3]}:(te=X.rgba.exec(G))?{r:te[1],g:te[2],b:te[3],a:te[4]}:(te=X.hsl.exec(G))?{h:te[1],s:te[2],l:te[3]}:(te=X.hsla.exec(G))?{h:te[1],s:te[2],l:te[3],a:te[4]}:(te=X.hsv.exec(G))?{h:te[1],s:te[2],v:te[3]}:(te=X.hsva.exec(G))?{h:te[1],s:te[2],v:te[3],a:te[4]}:(te=X.hex8.exec(G))?{r:Z(te[1]),g:Z(te[2]),b:Z(te[3]),a:$(te[4]),format:oe?"name":"hex8"}:(te=X.hex6.exec(G))?{r:Z(te[1]),g:Z(te[2]),b:Z(te[3]),format:oe?"name":"hex"}:(te=X.hex4.exec(G))?{r:Z(te[1]+""+te[1]),g:Z(te[2]+""+te[2]),b:Z(te[3]+""+te[3]),a:$(te[4]+""+te[4]),format:oe?"name":"hex8"}:(te=X.hex3.exec(G))?{r:Z(te[1]+""+te[1]),g:Z(te[2]+""+te[2]),b:Z(te[3]+""+te[3]),format:oe?"name":"hex"}:!1}function J(G){var oe,te;return G=G||{level:"AA",size:"small"},oe=(G.level||"AA").toUpperCase(),te=(G.size||"small").toLowerCase(),oe!=="AA"&&oe!=="AAA"&&(oe="AA"),te!=="small"&&te!=="large"&&(te="small"),{level:oe,size:te}}Y.exports?Y.exports=o:(b=(function(){return o}).call(V,e,V,Y),b!==void 0&&(Y.exports=b))})(Math)},37816:function(Y){Y.exports=b,Y.exports.float32=Y.exports.float=b,Y.exports.fract32=Y.exports.fract=e;var V=new Float32Array(1);function e(P,s){if(P.length){if(P instanceof Float32Array)return new Float32Array(P.length);s instanceof Float32Array||(s=b(P));for(var L=0,M=s.length;L<M;L++)s[L]=P[L]-s[L];return s}return b(P-b(P))}function b(P){return P.length?P instanceof Float32Array?P:new Float32Array(P):(V[0]=P,V[0])}},23464:function(Y,V,e){var b=e(65819);Y.exports=M;var P=96;function s(v,p){var r=b(getComputedStyle(v).getPropertyValue(p));return r[0]*M(r[1],v)}function L(v,p){var r=document.createElement("div");r.style["font-size"]="128"+v,p.appendChild(r);var t=s(r,"font-size")/128;return p.removeChild(r),t}function M(v,p){switch(p=p||document.body,v=(v||"px").trim().toLowerCase(),(p===window||p===document)&&(p=document.body),v){case"%":return p.clientHeight/100;case"ch":case"ex":return L(v,p);case"em":return s(p,"font-size");case"rem":return s(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return P;case"cm":return P/2.54;case"mm":return P/25.4;case"pt":return P/72;case"pc":return P/6}return 1}},55712:function(Y,V,e){e.d(V,{NO:function(){return L}});function b(p,r){for(var t,o=p.length,n=o-r;n<--o;)t=p[n],p[n++]=p[o],p[o]=t}function P(p){return p}function s(p){if(p==null)return P;var r,t,o=p.scale[0],n=p.scale[1],l=p.translate[0],u=p.translate[1];return function(f,g){g||(r=t=0);var h=2,w=f.length,c=new Array(w);for(c[0]=(r+=f[0])*o+l,c[1]=(t+=f[1])*n+u;h<w;)c[h]=f[h],++h;return c}}function L(p,r){return typeof r=="string"&&(r=p.objects[r]),r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(t){return M(p,t)})}:M(p,r)}function M(p,r){var t=r.id,o=r.bbox,n=r.properties==null?{}:r.properties,l=v(p,r);return t==null&&o==null?{type:"Feature",properties:n,geometry:l}:o==null?{type:"Feature",id:t,properties:n,geometry:l}:{type:"Feature",id:t,bbox:o,properties:n,geometry:l}}function v(p,r){var t=s(p.transform),o=p.arcs;function n(w,c){c.length&&c.pop();for(var a=o[w<0?~w:w],d=0,x=a.length;d<x;++d)c.push(t(a[d],d));w<0&&b(c,x)}function l(w){return t(w)}function u(w){for(var c=[],a=0,d=w.length;a<d;++a)n(w[a],c);return c.length<2&&c.push(c[0]),c}function f(w){for(var c=u(w);c.length<4;)c.push(c[0]);return c}function g(w){return w.map(f)}function h(w){var c=w.type,a;switch(c){case"GeometryCollection":return{type:c,geometries:w.geometries.map(h)};case"Point":a=l(w.coordinates);break;case"MultiPoint":a=w.coordinates.map(l);break;case"LineString":a=u(w.arcs);break;case"MultiLineString":a=w.arcs.map(u);break;case"Polygon":a=g(w.arcs);break;case"MultiPolygon":a=w.arcs.map(g);break;default:return null}return{type:c,coordinates:a}}return h(r)}},73384:function(Y,V,e){var b=e(54612);Y.exports=function(P){if(typeof P!="function"||!hasOwnProperty.call(P,"length"))return!1;try{if(typeof P.length!="number"||typeof P.call!="function"||typeof P.apply!="function")return!1}catch{return!1}return!b(P)}},57980:function(Y,V,e){var b=e(81680),P=e(7328),s=e(33940),L=e(18856),M=function(v,p){return v.replace("%v",L(p))};Y.exports=function(v,p,r){if(!P(r))throw new TypeError(M(p,v));if(!b(v)){if("default"in r)return r.default;if(r.isOptional)return null}var t=s(r.errorMessage);throw b(t)||(t=p),new TypeError(M(t,v))}},32336:function(Y){Y.exports=function(V){try{return V.toString()}catch{try{return String(V)}catch{return null}}}},18856:function(Y,V,e){var b=e(32336),P=/[\n\r\u2028\u2029]/g;Y.exports=function(s){var L=b(s);return L===null?"<Non-coercible to string value>":(L.length>100&&(L=L.slice(0,99)+"…"),L=L.replace(P,function(M){switch(M){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),L)}},7328:function(Y,V,e){var b=e(81680),P={object:!0,function:!0,undefined:!0};Y.exports=function(s){return b(s)?hasOwnProperty.call(P,typeof s):!1}},87396:function(Y,V,e){var b=e(57980),P=e(85488);Y.exports=function(s){return P(s)?s:b(s,"%v is not a plain function",arguments[1])}},85488:function(Y,V,e){var b=e(73384),P=/^\s*class[\s{/}]/,s=Function.prototype.toString;Y.exports=function(L){return!(!b(L)||P.test(s.call(L)))}},54612:function(Y,V,e){var b=e(7328);Y.exports=function(P){if(!b(P))return!1;try{return P.constructor?P.constructor.prototype===P:!1}catch{return!1}}},33940:function(Y,V,e){var b=e(81680),P=e(7328),s=Object.prototype.toString;Y.exports=function(L){if(!b(L))return null;if(P(L)){var M=L.toString;if(typeof M!="function"||M===s)return null}try{return""+L}catch{return null}}},18496:function(Y,V,e){var b=e(57980),P=e(81680);Y.exports=function(s){return P(s)?s:b(s,"Cannot use %v",arguments[1])}},81680:function(Y){var V=void 0;Y.exports=function(e){return e!==V&&e!==null}},14144:function(Y,V,e){var b=e(308),P=e(10352),s=e(33576).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:P([32,0]),UINT16:P([32,0]),UINT32:P([32,0]),BIGUINT64:P([32,0]),INT8:P([32,0]),INT16:P([32,0]),INT32:P([32,0]),BIGINT64:P([32,0]),FLOAT:P([32,0]),DOUBLE:P([32,0]),DATA:P([32,0]),UINT8C:P([32,0]),BUFFER:P([32,0])});var L=typeof Uint8ClampedArray<"u",M=typeof BigUint64Array<"u",v=typeof BigInt64Array<"u",p=e.g.__TYPEDARRAY_POOL;p.UINT8C||(p.UINT8C=P([32,0])),p.BIGUINT64||(p.BIGUINT64=P([32,0])),p.BIGINT64||(p.BIGINT64=P([32,0])),p.BUFFER||(p.BUFFER=P([32,0]));var r=p.DATA,t=p.BUFFER;V.free=function(i){if(s.isBuffer(i))t[b.log2(i.length)].push(i);else{if(Object.prototype.toString.call(i)!=="[object ArrayBuffer]"&&(i=i.buffer),!i)return;var E=i.length||i.byteLength,m=b.log2(E)|0;r[m].push(i)}};function o(A){if(A){var i=A.length||A.byteLength,E=b.log2(i);r[E].push(A)}}function n(A){o(A.buffer)}V.freeUint8=V.freeUint16=V.freeUint32=V.freeBigUint64=V.freeInt8=V.freeInt16=V.freeInt32=V.freeBigInt64=V.freeFloat32=V.freeFloat=V.freeFloat64=V.freeDouble=V.freeUint8Clamped=V.freeDataView=n,V.freeArrayBuffer=o,V.freeBuffer=function(i){t[b.log2(i.length)].push(i)},V.malloc=function(i,E){if(E===void 0||E==="arraybuffer")return l(i);switch(E){case"uint8":return u(i);case"uint16":return f(i);case"uint32":return g(i);case"int8":return h(i);case"int16":return w(i);case"int32":return c(i);case"float":case"float32":return a(i);case"double":case"float64":return d(i);case"uint8_clamped":return x(i);case"bigint64":return C(i);case"biguint64":return T(i);case"buffer":return S(i);case"data":case"dataview":return y(i);default:return null}return null};function l(i){var i=b.nextPow2(i),E=b.log2(i),m=r[E];return m.length>0?m.pop():new ArrayBuffer(i)}V.mallocArrayBuffer=l;function u(A){return new Uint8Array(l(A),0,A)}V.mallocUint8=u;function f(A){return new Uint16Array(l(2*A),0,A)}V.mallocUint16=f;function g(A){return new Uint32Array(l(4*A),0,A)}V.mallocUint32=g;function h(A){return new Int8Array(l(A),0,A)}V.mallocInt8=h;function w(A){return new Int16Array(l(2*A),0,A)}V.mallocInt16=w;function c(A){return new Int32Array(l(4*A),0,A)}V.mallocInt32=c;function a(A){return new Float32Array(l(4*A),0,A)}V.mallocFloat32=V.mallocFloat=a;function d(A){return new Float64Array(l(8*A),0,A)}V.mallocFloat64=V.mallocDouble=d;function x(A){return L?new Uint8ClampedArray(l(A),0,A):u(A)}V.mallocUint8Clamped=x;function T(A){return M?new BigUint64Array(l(8*A),0,A):null}V.mallocBigUint64=T;function C(A){return v?new BigInt64Array(l(8*A),0,A):null}V.mallocBigInt64=C;function y(A){return new DataView(l(A),0,A)}V.mallocDataView=y;function S(A){A=b.nextPow2(A);var i=b.log2(A),E=t[i];return E.length>0?E.pop():new s(A)}V.mallocBuffer=S,V.clearCache=function(){for(var i=0;i<32;++i)p.UINT8[i].length=0,p.UINT16[i].length=0,p.UINT32[i].length=0,p.INT8[i].length=0,p.INT16[i].length=0,p.INT32[i].length=0,p.FLOAT[i].length=0,p.DOUBLE[i].length=0,p.BIGUINT64[i].length=0,p.BIGINT64[i].length=0,p.UINT8C[i].length=0,r[i].length=0,t[i].length=0}},92384:function(Y){var V=/[\'\"]/;Y.exports=function(b){return b?(V.test(b.charAt(0))&&(b=b.substr(1)),V.test(b.charAt(b.length-1))&&(b=b.substr(0,b.length-1)),b):""}},45223:function(Y){Y.exports=function(e,b,P){Array.isArray(P)||(P=[].slice.call(arguments,2));for(var s=0,L=P.length;s<L;s++){var M=P[s];for(var v in M)if(!(b[v]!==void 0&&!Array.isArray(b[v])&&e[v]===b[v])&&v in b){var p;if(M[v]===!0)p=b[v];else{if(M[v]===!1)continue;if(typeof M[v]=="function"&&(p=M[v](b[v],e,b),p===void 0))continue}e[v]=p}}return e}},96656:function(Y,V,e){Y.exports=b;function b(s,L){if(P("noDeprecation"))return s;var M=!1;function v(){if(!M){if(P("throwDeprecation"))throw new Error(L);P("traceDeprecation")?console.trace(L):console.warn(L),M=!0}return s.apply(this,arguments)}return v}function P(s){try{if(!e.g.localStorage)return!1}catch{return!1}var L=e.g.localStorage[s];return L==null?!1:String(L).toLowerCase()==="true"}},75272:function(Y){Y.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},41088:function(Y,V,e){var b=e(91148),P=e(84420),s=e(96632),L=e(7728);function M(we){return we.call.bind(we)}var v=typeof BigInt<"u",p=typeof Symbol<"u",r=M(Object.prototype.toString),t=M(Number.prototype.valueOf),o=M(String.prototype.valueOf),n=M(Boolean.prototype.valueOf);if(v)var l=M(BigInt.prototype.valueOf);if(p)var u=M(Symbol.prototype.valueOf);function f(we,xe){if(typeof we!="object")return!1;try{return xe(we),!0}catch{return!1}}V.isArgumentsObject=b,V.isGeneratorFunction=P,V.isTypedArray=L;function g(we){return typeof Promise<"u"&&we instanceof Promise||we!==null&&typeof we=="object"&&typeof we.then=="function"&&typeof we.catch=="function"}V.isPromise=g;function h(we){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(we):L(we)||Z(we)}V.isArrayBufferView=h;function w(we){return s(we)==="Uint8Array"}V.isUint8Array=w;function c(we){return s(we)==="Uint8ClampedArray"}V.isUint8ClampedArray=c;function a(we){return s(we)==="Uint16Array"}V.isUint16Array=a;function d(we){return s(we)==="Uint32Array"}V.isUint32Array=d;function x(we){return s(we)==="Int8Array"}V.isInt8Array=x;function T(we){return s(we)==="Int16Array"}V.isInt16Array=T;function C(we){return s(we)==="Int32Array"}V.isInt32Array=C;function y(we){return s(we)==="Float32Array"}V.isFloat32Array=y;function S(we){return s(we)==="Float64Array"}V.isFloat64Array=S;function A(we){return s(we)==="BigInt64Array"}V.isBigInt64Array=A;function i(we){return s(we)==="BigUint64Array"}V.isBigUint64Array=i;function E(we){return r(we)==="[object Map]"}E.working=typeof Map<"u"&&E(new Map);function m(we){return typeof Map>"u"?!1:E.working?E(we):we instanceof Map}V.isMap=m;function k(we){return r(we)==="[object Set]"}k.working=typeof Set<"u"&&k(new Set);function I(we){return typeof Set>"u"?!1:k.working?k(we):we instanceof Set}V.isSet=I;function O(we){return r(we)==="[object WeakMap]"}O.working=typeof WeakMap<"u"&&O(new WeakMap);function _(we){return typeof WeakMap>"u"?!1:O.working?O(we):we instanceof WeakMap}V.isWeakMap=_;function B(we){return r(we)==="[object WeakSet]"}B.working=typeof WeakSet<"u"&&B(new WeakSet);function F(we){return B(we)}V.isWeakSet=F;function z(we){return r(we)==="[object ArrayBuffer]"}z.working=typeof ArrayBuffer<"u"&&z(new ArrayBuffer);function N(we){return typeof ArrayBuffer>"u"?!1:z.working?z(we):we instanceof ArrayBuffer}V.isArrayBuffer=N;function W(we){return r(we)==="[object DataView]"}W.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&W(new DataView(new ArrayBuffer(1),0,1));function Z(we){return typeof DataView>"u"?!1:W.working?W(we):we instanceof DataView}V.isDataView=Z;var q=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function re(we){return r(we)==="[object SharedArrayBuffer]"}function le(we){return typeof q>"u"?!1:(typeof re.working>"u"&&(re.working=re(new q)),re.working?re(we):we instanceof q)}V.isSharedArrayBuffer=le;function ie(we){return r(we)==="[object AsyncFunction]"}V.isAsyncFunction=ie;function K(we){return r(we)==="[object Map Iterator]"}V.isMapIterator=K;function $(we){return r(we)==="[object Set Iterator]"}V.isSetIterator=$;function X(we){return r(we)==="[object Generator]"}V.isGeneratorObject=X;function Q(we){return r(we)==="[object WebAssembly.Module]"}V.isWebAssemblyCompiledModule=Q;function se(we){return f(we,t)}V.isNumberObject=se;function J(we){return f(we,o)}V.isStringObject=J;function G(we){return f(we,n)}V.isBooleanObject=G;function oe(we){return v&&f(we,l)}V.isBigIntObject=oe;function te(we){return p&&f(we,u)}V.isSymbolObject=te;function fe(we){return se(we)||J(we)||G(we)||oe(we)||te(we)}V.isBoxedPrimitive=fe;function ge(we){return typeof Uint8Array<"u"&&(N(we)||le(we))}V.isAnyArrayBuffer=ge,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(we){Object.defineProperty(V,we,{enumerable:!1,value:function(){throw new Error(we+" is not supported in userland")}})})},35840:function(Y,V,e){var b=e(4168),P=Object.getOwnPropertyDescriptors||function(q){for(var re=Object.keys(q),le={},ie=0;ie<re.length;ie++)le[re[ie]]=Object.getOwnPropertyDescriptor(q,re[ie]);return le},s=/%[sdj%]/g;V.format=function(Z){if(!T(Z)){for(var q=[],re=0;re<arguments.length;re++)q.push(p(arguments[re]));return q.join(" ")}for(var re=1,le=arguments,ie=le.length,K=String(Z).replace(s,function(X){if(X==="%%")return"%";if(re>=ie)return X;switch(X){case"%s":return String(le[re++]);case"%d":return Number(le[re++]);case"%j":try{return JSON.stringify(le[re++])}catch{return"[Circular]"}default:return X}}),$=le[re];re<ie;$=le[++re])a($)||!A($)?K+=" "+$:K+=" "+p($);return K},V.deprecate=function(Z,q){if(typeof b<"u"&&b.noDeprecation===!0)return Z;if(typeof b>"u")return function(){return V.deprecate(Z,q).apply(this,arguments)};var re=!1;function le(){if(!re){if(b.throwDeprecation)throw new Error(q);b.traceDeprecation?console.trace(q):console.error(q),re=!0}return Z.apply(this,arguments)}return le};var L={},M=/^$/;if(b.env.NODE_DEBUG){var v=b.env.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),M=new RegExp("^"+v+"$","i")}V.debuglog=function(Z){if(Z=Z.toUpperCase(),!L[Z])if(M.test(Z)){var q=b.pid;L[Z]=function(){var re=V.format.apply(V,arguments);console.error("%s %d: %s",Z,q,re)}}else L[Z]=function(){};return L[Z]};function p(Z,q){var re={seen:[],stylize:t};return arguments.length>=3&&(re.depth=arguments[2]),arguments.length>=4&&(re.colors=arguments[3]),c(q)?re.showHidden=q:q&&V._extend(re,q),y(re.showHidden)&&(re.showHidden=!1),y(re.depth)&&(re.depth=2),y(re.colors)&&(re.colors=!1),y(re.customInspect)&&(re.customInspect=!0),re.colors&&(re.stylize=r),n(re,Z,re.depth)}V.inspect=p,p.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},p.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function r(Z,q){var re=p.styles[q];return re?"\x1B["+p.colors[re][0]+"m"+Z+"\x1B["+p.colors[re][1]+"m":Z}function t(Z,q){return Z}function o(Z){var q={};return Z.forEach(function(re,le){q[re]=!0}),q}function n(Z,q,re){if(Z.customInspect&&q&&m(q.inspect)&&q.inspect!==V.inspect&&!(q.constructor&&q.constructor.prototype===q)){var le=q.inspect(re,Z);return T(le)||(le=n(Z,le,re)),le}var ie=l(Z,q);if(ie)return ie;var K=Object.keys(q),$=o(K);if(Z.showHidden&&(K=Object.getOwnPropertyNames(q)),E(q)&&(K.indexOf("message")>=0||K.indexOf("description")>=0))return u(q);if(K.length===0){if(m(q)){var X=q.name?": "+q.name:"";return Z.stylize("[Function"+X+"]","special")}if(S(q))return Z.stylize(RegExp.prototype.toString.call(q),"regexp");if(i(q))return Z.stylize(Date.prototype.toString.call(q),"date");if(E(q))return u(q)}var Q="",se=!1,J=["{","}"];if(w(q)&&(se=!0,J=["[","]"]),m(q)){var G=q.name?": "+q.name:"";Q=" [Function"+G+"]"}if(S(q)&&(Q=" "+RegExp.prototype.toString.call(q)),i(q)&&(Q=" "+Date.prototype.toUTCString.call(q)),E(q)&&(Q=" "+u(q)),K.length===0&&(!se||q.length==0))return J[0]+Q+J[1];if(re<0)return S(q)?Z.stylize(RegExp.prototype.toString.call(q),"regexp"):Z.stylize("[Object]","special");Z.seen.push(q);var oe;return se?oe=f(Z,q,re,$,K):oe=K.map(function(te){return g(Z,q,re,$,te,se)}),Z.seen.pop(),h(oe,Q,J)}function l(Z,q){if(y(q))return Z.stylize("undefined","undefined");if(T(q)){var re="'"+JSON.stringify(q).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Z.stylize(re,"string")}if(x(q))return Z.stylize(""+q,"number");if(c(q))return Z.stylize(""+q,"boolean");if(a(q))return Z.stylize("null","null")}function u(Z){return"["+Error.prototype.toString.call(Z)+"]"}function f(Z,q,re,le,ie){for(var K=[],$=0,X=q.length;$<X;++$)F(q,String($))?K.push(g(Z,q,re,le,String($),!0)):K.push("");return ie.forEach(function(Q){Q.match(/^\d+$/)||K.push(g(Z,q,re,le,Q,!0))}),K}function g(Z,q,re,le,ie,K){var $,X,Q;if(Q=Object.getOwnPropertyDescriptor(q,ie)||{value:q[ie]},Q.get?Q.set?X=Z.stylize("[Getter/Setter]","special"):X=Z.stylize("[Getter]","special"):Q.set&&(X=Z.stylize("[Setter]","special")),F(le,ie)||($="["+ie+"]"),X||(Z.seen.indexOf(Q.value)<0?(a(re)?X=n(Z,Q.value,null):X=n(Z,Q.value,re-1),X.indexOf(`
`)>-1&&(K?X=X.split(`
`).map(function(se){return"  "+se}).join(`
`).slice(2):X=`
`+X.split(`
`).map(function(se){return"   "+se}).join(`
`))):X=Z.stylize("[Circular]","special")),y($)){if(K&&ie.match(/^\d+$/))return X;$=JSON.stringify(""+ie),$.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?($=$.slice(1,-1),$=Z.stylize($,"name")):($=$.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),$=Z.stylize($,"string"))}return $+": "+X}function h(Z,q,re){var le=Z.reduce(function(ie,K){return K.indexOf(`
`)>=0,ie+K.replace(/\u001b\[\d\d?m/g,"").length+1},0);return le>60?re[0]+(q===""?"":q+`
 `)+" "+Z.join(`,
  `)+" "+re[1]:re[0]+q+" "+Z.join(", ")+" "+re[1]}V.types=e(41088);function w(Z){return Array.isArray(Z)}V.isArray=w;function c(Z){return typeof Z=="boolean"}V.isBoolean=c;function a(Z){return Z===null}V.isNull=a;function d(Z){return Z==null}V.isNullOrUndefined=d;function x(Z){return typeof Z=="number"}V.isNumber=x;function T(Z){return typeof Z=="string"}V.isString=T;function C(Z){return typeof Z=="symbol"}V.isSymbol=C;function y(Z){return Z===void 0}V.isUndefined=y;function S(Z){return A(Z)&&I(Z)==="[object RegExp]"}V.isRegExp=S,V.types.isRegExp=S;function A(Z){return typeof Z=="object"&&Z!==null}V.isObject=A;function i(Z){return A(Z)&&I(Z)==="[object Date]"}V.isDate=i,V.types.isDate=i;function E(Z){return A(Z)&&(I(Z)==="[object Error]"||Z instanceof Error)}V.isError=E,V.types.isNativeError=E;function m(Z){return typeof Z=="function"}V.isFunction=m;function k(Z){return Z===null||typeof Z=="boolean"||typeof Z=="number"||typeof Z=="string"||typeof Z=="symbol"||typeof Z>"u"}V.isPrimitive=k,V.isBuffer=e(75272);function I(Z){return Object.prototype.toString.call(Z)}function O(Z){return Z<10?"0"+Z.toString(10):Z.toString(10)}var _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function B(){var Z=new Date,q=[O(Z.getHours()),O(Z.getMinutes()),O(Z.getSeconds())].join(":");return[Z.getDate(),_[Z.getMonth()],q].join(" ")}V.log=function(){console.log("%s - %s",B(),V.format.apply(V,arguments))},V.inherits=e(6768),V._extend=function(Z,q){if(!q||!A(q))return Z;for(var re=Object.keys(q),le=re.length;le--;)Z[re[le]]=q[re[le]];return Z};function F(Z,q){return Object.prototype.hasOwnProperty.call(Z,q)}var z=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;V.promisify=function(q){if(typeof q!="function")throw new TypeError('The "original" argument must be of type Function');if(z&&q[z]){var re=q[z];if(typeof re!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(re,z,{value:re,enumerable:!1,writable:!1,configurable:!0}),re}function re(){for(var le,ie,K=new Promise(function(Q,se){le=Q,ie=se}),$=[],X=0;X<arguments.length;X++)$.push(arguments[X]);$.push(function(Q,se){Q?ie(Q):le(se)});try{q.apply(this,$)}catch(Q){ie(Q)}return K}return Object.setPrototypeOf(re,Object.getPrototypeOf(q)),z&&Object.defineProperty(re,z,{value:re,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(re,P(q))},V.promisify.custom=z;function N(Z,q){if(!Z){var re=new Error("Promise was rejected with a falsy value");re.reason=Z,Z=re}return q(Z)}function W(Z){if(typeof Z!="function")throw new TypeError('The "original" argument must be of type Function');function q(){for(var re=[],le=0;le<arguments.length;le++)re.push(arguments[le]);var ie=re.pop();if(typeof ie!="function")throw new TypeError("The last argument must be of type Function");var K=this,$=function(){return ie.apply(K,arguments)};Z.apply(this,re).then(function(X){b.nextTick($.bind(null,null,X))},function(X){b.nextTick(N.bind(null,X,$))})}return Object.setPrototypeOf(q,Object.getPrototypeOf(Z)),Object.defineProperties(q,P(Z)),q}V.callbackify=W},5408:function(Y,V,e){var b=e(13380);Y.exports=function(s){return b("webgl",s)}},96632:function(Y,V,e){var b=e(46492),P=e(63436),s=e(57916),L=e(99676),M=e(2304),v=L("Object.prototype.toString"),p=e(46672)(),r=typeof globalThis>"u"?e.g:globalThis,t=P(),o=L("String.prototype.slice"),n=Object.getPrototypeOf,l=L("Array.prototype.indexOf",!0)||function(w,c){for(var a=0;a<w.length;a+=1)if(w[a]===c)return a;return-1},u={__proto__:null};p&&M&&n?b(t,function(h){var w=new r[h];if(Symbol.toStringTag in w){var c=n(w),a=M(c,Symbol.toStringTag);if(!a){var d=n(c);a=M(d,Symbol.toStringTag)}u["$"+h]=s(a.get)}}):b(t,function(h){var w=new r[h],c=w.slice||w.set;c&&(u["$"+h]=s(c))});var f=function(w){var c=!1;return b(u,function(a,d){if(!c)try{"$"+a(w)===d&&(c=o(d,1))}catch{}}),c},g=function(w){var c=!1;return b(u,function(a,d){if(!c)try{a(w),c=o(d,1)}catch{}}),c};Y.exports=function(w){if(!w||typeof w!="object")return!1;if(!p){var c=o(v(w),8,-1);return l(t,c)>-1?c:c!=="Object"?!1:g(w)}return M?f(w):null}},67020:function(Y,V,e){var b=e(38700),P=e(50896),s=b.instance();function L(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}L.prototype=new b.baseCalendar,P(L.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(u,f){if(typeof u=="string"){var g=u.match(v);return g?g[0]:""}var h=this._validateYear(u),w=u.month(),c=""+this.toChineseMonth(h,w);return f&&c.length<2&&(c="0"+c),this.isIntercalaryMonth(h,w)&&(c+="i"),c},monthNames:function(u){if(typeof u=="string"){var f=u.match(p);return f?f[0]:""}var g=this._validateYear(u),h=u.month(),w=this.toChineseMonth(g,h),c=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][w-1];return this.isIntercalaryMonth(g,h)&&(c="闰"+c),c},monthNamesShort:function(u){if(typeof u=="string"){var f=u.match(r);return f?f[0]:""}var g=this._validateYear(u),h=u.month(),w=this.toChineseMonth(g,h),c=["一","二","三","四","五","六","七","八","九","十","十一","十二"][w-1];return this.isIntercalaryMonth(g,h)&&(c="闰"+c),c},parseMonth:function(u,f){u=this._validateYear(u);var g=parseInt(f),h;if(isNaN(g))f[0]==="闰"&&(h=!0,f=f.substring(1)),f[f.length-1]==="月"&&(f=f.substring(0,f.length-1)),g=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(f);else{var w=f[f.length-1];h=w==="i"||w==="I"}var c=this.toMonthIndex(u,g,h);return c},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(u,f){if(u.year&&(u=u.year()),typeof u!="number"||u<1888||u>2111)throw f.replace(/\{0\}/,this.local.name);return u},toMonthIndex:function(u,f,g){var h=this.intercalaryMonth(u),w=g&&f!==h;if(w||f<1||f>12)throw b.local.invalidMonth.replace(/\{0\}/,this.local.name);var c;return h?!g&&f<=h?c=f-1:c=f:c=f-1,c},toChineseMonth:function(u,f){u.year&&(u=u.year(),f=u.month());var g=this.intercalaryMonth(u),h=g?12:11;if(f<0||f>h)throw b.local.invalidMonth.replace(/\{0\}/,this.local.name);var w;return g?f<g?w=f+1:w=f:w=f+1,w},intercalaryMonth:function(u){u=this._validateYear(u);var f=t[u-t[0]],g=f>>13;return g},isIntercalaryMonth:function(u,f){u.year&&(u=u.year(),f=u.month());var g=this.intercalaryMonth(u);return!!g&&g===f},leapYear:function(u){return this.intercalaryMonth(u)!==0},weekOfYear:function(u,f,g){var h=this._validateYear(u,b.local.invalidyear),w=o[h-o[0]],c=w>>9&4095,a=w>>5&15,d=w&31,x;x=s.newDate(c,a,d),x.add(4-(x.dayOfWeek()||7),"d");var T=this.toJD(u,f,g)-x.toJD();return 1+Math.floor(T/7)},monthsInYear:function(u){return this.leapYear(u)?13:12},daysInMonth:function(u,f){u.year&&(f=u.month(),u=u.year()),u=this._validateYear(u);var g=t[u-t[0]],h=g>>13,w=h?12:11;if(f>w)throw b.local.invalidMonth.replace(/\{0\}/,this.local.name);var c=g&1<<12-f?30:29;return c},weekDay:function(u,f,g){return(this.dayOfWeek(u,f,g)||7)<6},toJD:function(u,f,g){var h=this._validate(u,c,g,b.local.invalidDate);u=this._validateYear(h.year()),f=h.month(),g=h.day();var w=this.isIntercalaryMonth(u,f),c=this.toChineseMonth(u,f),a=l(u,c,g,w);return s.toJD(a.year,a.month,a.day)},fromJD:function(u){var f=s.fromJD(u),g=n(f.year(),f.month(),f.day()),h=this.toMonthIndex(g.year,g.month,g.isIntercalary);return this.newDate(g.year,h,g.day)},fromString:function(u){var f=u.match(M),g=this._validateYear(+f[1]),h=+f[2],w=!!f[3],c=this.toMonthIndex(g,h,w),a=+f[4];return this.newDate(g,c,a)},add:function(u,f,g){var h=u.year(),w=u.month(),c=this.isIntercalaryMonth(h,w),a=this.toChineseMonth(h,w),d=Object.getPrototypeOf(L.prototype).add.call(this,u,f,g);if(g==="y"){var x=d.year(),T=d.month(),C=this.isIntercalaryMonth(x,a),y=c&&C?this.toMonthIndex(x,a,!0):this.toMonthIndex(x,a,!1);y!==T&&d.month(y)}return d}});var M=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,p=/^闰?十?[一二三四五六七八九]?月/m,r=/^闰?十?[一二三四五六七八九]?/m;b.calendars.chinese=L;var t=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],o=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function n(u,f,g,h){var w,c;if(typeof u=="object")w=u,c=f||{};else{var a=typeof u=="number"&&u>=1888&&u<=2111;if(!a)throw new Error("Solar year outside range 1888-2111");var d=typeof f=="number"&&f>=1&&f<=12;if(!d)throw new Error("Solar month outside range 1 - 12");var x=typeof g=="number"&&g>=1&&g<=31;if(!x)throw new Error("Solar day outside range 1 - 31");w={year:u,month:f,day:g},c={}}var T=o[w.year-o[0]],C=w.year<<9|w.month<<5|w.day;c.year=C>=T?w.year:w.year-1,T=o[c.year-o[0]];var y=T>>9&4095,S=T>>5&15,A=T&31,i,E=new Date(y,S-1,A),m=new Date(w.year,w.month-1,w.day);i=Math.round((m-E)/864e5);var k=t[c.year-t[0]],I;for(I=0;I<13;I++){var O=k&1<<12-I?30:29;if(i<O)break;i-=O}var _=k>>13;return!_||I<_?(c.isIntercalary=!1,c.month=1+I):I===_?(c.isIntercalary=!0,c.month=I):(c.isIntercalary=!1,c.month=I),c.day=1+i,c}function l(u,f,g,h,w){var c,a;if(typeof u=="object")a=u,c=f||{};else{var d=typeof u=="number"&&u>=1888&&u<=2111;if(!d)throw new Error("Lunar year outside range 1888-2111");var x=typeof f=="number"&&f>=1&&f<=12;if(!x)throw new Error("Lunar month outside range 1 - 12");var T=typeof g=="number"&&g>=1&&g<=30;if(!T)throw new Error("Lunar day outside range 1 - 30");var C;typeof h=="object"?(C=!1,c=h):(C=!!h,c={}),a={year:u,month:f,day:g,isIntercalary:C}}var y;y=a.day-1;var S=t[a.year-t[0]],A=S>>13,i;A&&(a.month>A||a.isIntercalary)?i=a.month:i=a.month-1;for(var E=0;E<i;E++){var m=S&1<<12-E?30:29;y+=m}var k=o[a.year-o[0]],I=k>>9&4095,O=k>>5&15,_=k&31,B=new Date(I,O-1,_+y);return c.year=B.getFullYear(),c.month=1+B.getMonth(),c.day=B.getDate(),c}},89792:function(Y,V,e){var b=e(38700),P=e(50896);function s(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}s.prototype=new b.baseCalendar,P(s.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var M=this._validate(v,this.minMonth,this.minDay,b.local.invalidYear),v=M.year()+(M.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,b.local.invalidYear||b.regionalOptions[""].invalidYear),13},weekOfYear:function(L,M,v){var p=this.newDate(L,M,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(L,M){var v=this._validate(L,M,this.minDay,b.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(L,M,v){return(this.dayOfWeek(L,M,v)||7)<6},toJD:function(L,M,v){var p=this._validate(L,M,v,b.local.invalidDate);return L=p.year(),L<0&&L++,p.day()+(p.month()-1)*30+(L-1)*365+Math.floor(L/4)+this.jdEpoch-1},fromJD:function(L){var M=Math.floor(L)+.5-this.jdEpoch,v=Math.floor((M-Math.floor((M+366)/1461))/365)+1;v<=0&&v--,M=Math.floor(L)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(M/30)+1,r=M-(p-1)*30+1;return this.newDate(v,p,r)}}),b.calendars.coptic=s},55668:function(Y,V,e){var b=e(38700),P=e(50896);function s(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}s.prototype=new b.baseCalendar,P(s.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(M){return this._validate(M,this.minMonth,this.minDay,b.local.invalidYear),!1},monthsInYear:function(M){return this._validate(M,this.minMonth,this.minDay,b.local.invalidYear),13},daysInYear:function(M){return this._validate(M,this.minMonth,this.minDay,b.local.invalidYear),400},weekOfYear:function(M,v,p){var r=this.newDate(M,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(M,v){var p=this._validate(M,v,this.minDay,b.local.invalidMonth);return this.daysPerMonth[p.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(M,v,p){var r=this._validate(M,v,p,b.local.invalidDate);return(r.day()+1)%8},weekDay:function(M,v,p){var r=this.dayOfWeek(M,v,p);return r>=2&&r<=6},extraInfo:function(M,v,p){var r=this._validate(M,v,p,b.local.invalidDate);return{century:L[Math.floor((r.year()-1)/100)+1]||""}},toJD:function(M,v,p){var r=this._validate(M,v,p,b.local.invalidDate);return M=r.year()+(r.year()<0?1:0),v=r.month(),p=r.day(),p+(v>1?16:0)+(v>2?(v-2)*32:0)+(M-1)*400+this.jdEpoch-1},fromJD:function(M){M=Math.floor(M+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(M/400)+1;M-=(v-1)*400,M+=M>15?16:0;var p=Math.floor(M/32)+1,r=M-(p-1)*32+1;return this.newDate(v<=0?v-1:v,p,r)}});var L={20:"Fruitbat",21:"Anchovy"};b.calendars.discworld=s},65168:function(Y,V,e){var b=e(38700),P=e(50896);function s(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}s.prototype=new b.baseCalendar,P(s.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var M=this._validate(v,this.minMonth,this.minDay,b.local.invalidYear),v=M.year()+(M.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,b.local.invalidYear||b.regionalOptions[""].invalidYear),13},weekOfYear:function(L,M,v){var p=this.newDate(L,M,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(L,M){var v=this._validate(L,M,this.minDay,b.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(L,M,v){return(this.dayOfWeek(L,M,v)||7)<6},toJD:function(L,M,v){var p=this._validate(L,M,v,b.local.invalidDate);return L=p.year(),L<0&&L++,p.day()+(p.month()-1)*30+(L-1)*365+Math.floor(L/4)+this.jdEpoch-1},fromJD:function(L){var M=Math.floor(L)+.5-this.jdEpoch,v=Math.floor((M-Math.floor((M+366)/1461))/365)+1;v<=0&&v--,M=Math.floor(L)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(M/30)+1,r=M-(p-1)*30+1;return this.newDate(v,p,r)}}),b.calendars.ethiopian=s},2084:function(Y,V,e){var b=e(38700),P=e(50896);function s(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}s.prototype=new b.baseCalendar,P(s.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,b.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(M){return M=M<0?M+1:M,L(M*7+1,19)<7},monthsInYear:function(M){return this._validate(M,this.minMonth,this.minDay,b.local.invalidYear),this._leapYear(M.year?M.year():M)?13:12},weekOfYear:function(M,v,p){var r=this.newDate(M,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,b.local.invalidYear);return M=v.year(),this.toJD(M===-1?1:M+1,7,1)-this.toJD(M,7,1)},daysInMonth:function(M,v){return M.year&&(v=M.month(),M=M.year()),this._validate(M,v,this.minDay,b.local.invalidMonth),v===12&&this.leapYear(M)||v===8&&L(this.daysInYear(M),10)===5?30:v===9&&L(this.daysInYear(M),10)===3?29:this.daysPerMonth[v-1]},weekDay:function(M,v,p){return this.dayOfWeek(M,v,p)!==6},extraInfo:function(M,v,p){var r=this._validate(M,v,p,b.local.invalidDate);return{yearType:(this.leapYear(r)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(r)%10-3]}},toJD:function(M,v,p){var r=this._validate(M,v,p,b.local.invalidDate);M=r.year(),v=r.month(),p=r.day();var t=M<=0?M+1:M,o=this.jdEpoch+this._delay1(t)+this._delay2(t)+p+1;if(v<7){for(var n=7;n<=this.monthsInYear(M);n++)o+=this.daysInMonth(M,n);for(var n=1;n<v;n++)o+=this.daysInMonth(M,n)}else for(var n=7;n<v;n++)o+=this.daysInMonth(M,n);return o},_delay1:function(M){var v=Math.floor((235*M-234)/19),p=12084+13753*v,r=v*29+Math.floor(p/25920);return L(3*(r+1),7)<3&&r++,r},_delay2:function(M){var v=this._delay1(M-1),p=this._delay1(M),r=this._delay1(M+1);return r-p===356?2:p-v===382?1:0},fromJD:function(M){M=Math.floor(M)+.5;for(var v=Math.floor((M-this.jdEpoch)*98496/35975351)-1;M>=this.toJD(v===-1?1:v+1,7,1);)v++;for(var p=M<this.toJD(v,1,1)?7:1;M>this.toJD(v,p,this.daysInMonth(v,p));)p++;var r=M-this.toJD(v,p,1)+1;return this.newDate(v,p,r)}});function L(M,v){return M-v*Math.floor(M/v)}b.calendars.hebrew=s},26368:function(Y,V,e){var b=e(38700),P=e(50896);function s(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}s.prototype=new b.baseCalendar,P(s.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(L){var M=this._validate(L,this.minMonth,this.minDay,b.local.invalidYear);return(M.year()*11+14)%30<11},weekOfYear:function(L,M,v){var p=this.newDate(L,M,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(L){return this.leapYear(L)?355:354},daysInMonth:function(L,M){var v=this._validate(L,M,this.minDay,b.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===12&&this.leapYear(v.year())?1:0)},weekDay:function(L,M,v){return this.dayOfWeek(L,M,v)!==5},toJD:function(L,M,v){var p=this._validate(L,M,v,b.local.invalidDate);return L=p.year(),M=p.month(),v=p.day(),L=L<=0?L+1:L,v+Math.ceil(29.5*(M-1))+(L-1)*354+Math.floor((3+11*L)/30)+this.jdEpoch-1},fromJD:function(L){L=Math.floor(L)+.5;var M=Math.floor((30*(L-this.jdEpoch)+10646)/10631);M=M<=0?M-1:M;var v=Math.min(12,Math.ceil((L-29-this.toJD(M,1,1))/29.5)+1),p=L-this.toJD(M,v,1)+1;return this.newDate(M,v,p)}}),b.calendars.islamic=s},24747:function(Y,V,e){var b=e(38700),P=e(50896);function s(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}s.prototype=new b.baseCalendar,P(s.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var M=this._validate(v,this.minMonth,this.minDay,b.local.invalidYear),v=M.year()<0?M.year()+1:M.year();return v%4===0},weekOfYear:function(L,M,v){var p=this.newDate(L,M,v);return p.add(4-(p.dayOfWeek()||7),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(L,M){var v=this._validate(L,M,this.minDay,b.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(L,M,v){return(this.dayOfWeek(L,M,v)||7)<6},toJD:function(L,M,v){var p=this._validate(L,M,v,b.local.invalidDate);return L=p.year(),M=p.month(),v=p.day(),L<0&&L++,M<=2&&(L--,M+=12),Math.floor(365.25*(L+4716))+Math.floor(30.6001*(M+1))+v-1524.5},fromJD:function(L){var M=Math.floor(L+.5),v=M+1524,p=Math.floor((v-122.1)/365.25),r=Math.floor(365.25*p),t=Math.floor((v-r)/30.6001),o=t-Math.floor(t<14?1:13),n=p-Math.floor(o>2?4716:4715),l=v-r-Math.floor(30.6001*t);return n<=0&&n--,this.newDate(n,o,l)}}),b.calendars.julian=s},65616:function(Y,V,e){var b=e(38700),P=e(50896);function s(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}s.prototype=new b.baseCalendar,P(s.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,b.local.invalidYear),!1},formatYear:function(v){var p=this._validate(v,this.minMonth,this.minDay,b.local.invalidYear);v=p.year();var r=Math.floor(v/400);v=v%400,v+=v<0?400:0;var t=Math.floor(v/20);return r+"."+t+"."+v%20},forYear:function(v){if(v=v.split("."),v.length<3)throw"Invalid Mayan year";for(var p=0,r=0;r<v.length;r++){var t=parseInt(v[r],10);if(Math.abs(t)>19||r>0&&t<0)throw"Invalid Mayan year";p=p*20+t}return p},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,b.local.invalidYear),18},weekOfYear:function(v,p,r){return this._validate(v,p,r,b.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,b.local.invalidYear),360},daysInMonth:function(v,p){return this._validate(v,p,this.minDay,b.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,p,r){var t=this._validate(v,p,r,b.local.invalidDate);return t.day()},weekDay:function(v,p,r){return this._validate(v,p,r,b.local.invalidDate),!0},extraInfo:function(v,p,r){var t=this._validate(v,p,r,b.local.invalidDate),o=t.toJD(),n=this._toHaab(o),l=this._toTzolkin(o);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[l[0]-1],tzolkinDay:l[0],tzolkinTrecena:l[1]}},_toHaab:function(v){v-=this.jdEpoch;var p=L(v+8+17*20,365);return[Math.floor(p/20)+1,L(p,20)]},_toTzolkin:function(v){return v-=this.jdEpoch,[M(v+20,20),M(v+4,13)]},toJD:function(v,p,r){var t=this._validate(v,p,r,b.local.invalidDate);return t.day()+t.month()*20+t.year()*360+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var p=Math.floor(v/360);v=v%360,v+=v<0?360:0;var r=Math.floor(v/20),t=v%20;return this.newDate(p,r,t)}});function L(v,p){return v-p*Math.floor(v/p)}function M(v,p){return L(v-1,p)+1}b.calendars.mayan=s},30632:function(Y,V,e){var b=e(38700),P=e(50896);function s(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}s.prototype=new b.baseCalendar;var L=b.instance("gregorian");P(s.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,b.local.invalidYear||b.regionalOptions[""].invalidYear);return L.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(M,v,p){var r=this.newDate(M,v,p);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(M,v){var p=this._validate(M,v,this.minDay,b.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(M,v,p){return(this.dayOfWeek(M,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,b.local.invalidMonth),t=r.year();t<0&&t++;for(var o=r.day(),n=1;n<r.month();n++)o+=this.daysPerMonth[n-1];return o+L.toJD(t+1468,3,13)},fromJD:function(M){M=Math.floor(M+.5);for(var v=Math.floor((M-(this.jdEpoch-1))/366);M>=this.toJD(v+1,1,1);)v++;for(var p=M-Math.floor(this.toJD(v,1,1)+.5)+1,r=1;p>this.daysInMonth(v,r);)p-=this.daysInMonth(v,r),r++;return this.newDate(v,r,p)}}),b.calendars.nanakshahi=s},73040:function(Y,V,e){var b=e(38700),P=e(50896);function s(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}s.prototype=new b.baseCalendar,P(s.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(L){return this.daysInYear(L)!==this.daysPerYear},weekOfYear:function(L,M,v){var p=this.newDate(L,M,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(L){var M=this._validate(L,this.minMonth,this.minDay,b.local.invalidYear);if(L=M.year(),typeof this.NEPALI_CALENDAR_DATA[L]>"u")return this.daysPerYear;for(var v=0,p=this.minMonth;p<=12;p++)v+=this.NEPALI_CALENDAR_DATA[L][p];return v},daysInMonth:function(L,M){return L.year&&(M=L.month(),L=L.year()),this._validate(L,M,this.minDay,b.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[L]>"u"?this.daysPerMonth[M-1]:this.NEPALI_CALENDAR_DATA[L][M]},weekDay:function(L,M,v){return this.dayOfWeek(L,M,v)!==6},toJD:function(L,M,v){var p=this._validate(L,M,v,b.local.invalidDate);L=p.year(),M=p.month(),v=p.day();var r=b.instance(),t=0,o=M,n=L;this._createMissingCalendarData(L);var l=L-(o>9||o===9&&v>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(M!==9&&(t=v,o--);o!==9;)o<=0&&(o=12,n--),t+=this.NEPALI_CALENDAR_DATA[n][o],o--;return M===9?(t+=v-this.NEPALI_CALENDAR_DATA[n][0],t<0&&(t+=r.daysInYear(l))):t+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],r.newDate(l,1,1).add(t,"d").toJD()},fromJD:function(L){var M=b.instance(),v=M.fromJD(L),p=v.year(),r=v.dayOfYear(),t=p+56;this._createMissingCalendarData(t);for(var o=9,n=this.NEPALI_CALENDAR_DATA[t][0],l=this.NEPALI_CALENDAR_DATA[t][o]-n+1;r>l;)o++,o>12&&(o=1,t++),l+=this.NEPALI_CALENDAR_DATA[t][o];var u=this.NEPALI_CALENDAR_DATA[t][o]-(l-r);return this.newDate(t,o,u)},_createMissingCalendarData:function(L){var M=this.daysPerMonth.slice(0);M.unshift(17);for(var v=L-1;v<L+2;v++)typeof this.NEPALI_CALENDAR_DATA[v]>"u"&&(this.NEPALI_CALENDAR_DATA[v]=M)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),b.calendars.nepali=s},1104:function(Y,V,e){var b=e(38700),P=e(50896);function s(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}s.prototype=new b.baseCalendar,P(s.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,b.local.invalidYear);return((v.year()-(v.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(M,v,p){var r=this.newDate(M,v,p);return r.add(-((r.dayOfWeek()+1)%7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(M,v){var p=this._validate(M,v,this.minDay,b.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(M,v,p){return this.dayOfWeek(M,v,p)!==5},toJD:function(M,v,p){var r=this._validate(M,v,p,b.local.invalidDate);M=r.year(),v=r.month(),p=r.day();var t=M-(M>=0?474:473),o=474+L(t,2820);return p+(v<=7?(v-1)*31:(v-1)*30+6)+Math.floor((o*682-110)/2816)+(o-1)*365+Math.floor(t/2820)*1029983+this.jdEpoch-1},fromJD:function(M){M=Math.floor(M)+.5;var v=M-this.toJD(475,1,1),p=Math.floor(v/1029983),r=L(v,1029983),t=2820;if(r!==1029982){var o=Math.floor(r/366),n=L(r,366);t=Math.floor((2134*o+2816*n+2815)/1028522)+o+1}var l=t+2820*p+474;l=l<=0?l-1:l;var u=M-this.toJD(l,1,1)+1,f=u<=186?Math.ceil(u/31):Math.ceil((u-6)/30),g=M-this.toJD(l,f,1)+1;return this.newDate(l,f,g)}});function L(M,v){return M-v*Math.floor(M/v)}b.calendars.persian=s,b.calendars.jalali=s},51456:function(Y,V,e){var b=e(38700),P=e(50896),s=b.instance();function L(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}L.prototype=new b.baseCalendar,P(L.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,b.local.invalidYear),p=this._t2gYear(v.year());return s.leapYear(p)},weekOfYear:function(t,v,p){var r=this._validate(t,this.minMonth,this.minDay,b.local.invalidYear),t=this._t2gYear(r.year());return s.weekOfYear(t,r.month(),r.day())},daysInMonth:function(M,v){var p=this._validate(M,v,this.minDay,b.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(M,v,p){return(this.dayOfWeek(M,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,b.local.invalidDate),t=this._t2gYear(r.year());return s.toJD(t,r.month(),r.day())},fromJD:function(M){var v=s.fromJD(M),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(M){return M+this.yearsOffset+(M>=-this.yearsOffset&&M<=-1?1:0)},_g2tYear:function(M){return M-this.yearsOffset-(M>=1&&M<=this.yearsOffset?1:0)}}),b.calendars.taiwan=L},4592:function(Y,V,e){var b=e(38700),P=e(50896),s=b.instance();function L(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}L.prototype=new b.baseCalendar,P(L.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,b.local.invalidYear),p=this._t2gYear(v.year());return s.leapYear(p)},weekOfYear:function(t,v,p){var r=this._validate(t,this.minMonth,this.minDay,b.local.invalidYear),t=this._t2gYear(r.year());return s.weekOfYear(t,r.month(),r.day())},daysInMonth:function(M,v){var p=this._validate(M,v,this.minDay,b.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(M,v,p){return(this.dayOfWeek(M,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,b.local.invalidDate),t=this._t2gYear(r.year());return s.toJD(t,r.month(),r.day())},fromJD:function(M){var v=s.fromJD(M),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(M){return M-this.yearsOffset-(M>=1&&M<=this.yearsOffset?1:0)},_g2tYear:function(M){return M+this.yearsOffset+(M>=-this.yearsOffset&&M<=-1?1:0)}}),b.calendars.thai=L},45348:function(Y,V,e){var b=e(38700),P=e(50896);function s(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}s.prototype=new b.baseCalendar,P(s.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,b.local.invalidYear);return this.daysInYear(v.year())===355},weekOfYear:function(M,v,p){var r=this.newDate(M,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(M){for(var v=0,p=1;p<=12;p++)v+=this.daysInMonth(M,p);return v},daysInMonth:function(M,v){for(var p=this._validate(M,v,this.minDay,b.local.invalidMonth),r=p.toJD()-24e5+.5,t=0,o=0;o<L.length;o++){if(L[o]>r)return L[t]-L[t-1];t++}return 30},weekDay:function(M,v,p){return this.dayOfWeek(M,v,p)!==5},toJD:function(M,v,p){var r=this._validate(M,v,p,b.local.invalidDate),t=12*(r.year()-1)+r.month()-15292,o=r.day()+L[t-1]-1;return o+24e5-.5},fromJD:function(M){for(var v=M-24e5+.5,p=0,r=0;r<L.length&&!(L[r]>v);r++)p++;var t=p+15292,o=Math.floor((t-1)/12),n=o+1,l=t-12*o,u=v-L[p-1]+1;return this.newDate(n,l,u)},isValid:function(M,v,p){var r=b.baseCalendar.prototype.isValid.apply(this,arguments);return r&&(M=M.year!=null?M.year:M,r=M>=1276&&M<=1500),r},_validate:function(M,v,p,r){var t=b.baseCalendar.prototype._validate.apply(this,arguments);if(t.year<1276||t.year>1500)throw r.replace(/\{0\}/,this.local.name);return t}}),b.calendars.ummalqura=s;var L=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},38700:function(Y,V,e){var b=e(50896);function P(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}b(P.prototype,{instance:function(r,t){r=(r||"gregorian").toLowerCase(),t=t||"";var o=this._localCals[r+"-"+t];if(!o&&this.calendars[r]&&(o=new this.calendars[r](t),this._localCals[r+"-"+t]=o),!o)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,r);return o},newDate:function(r,t,o,n,l){return n=(r!=null&&r.year?r.calendar():typeof n=="string"?this.instance(n,l):n)||this.instance(),n.newDate(r,t,o)},substituteDigits:function(r){return function(t){return(t+"").replace(/[0-9]/g,function(o){return r[o]})}},substituteChineseDigits:function(r,t){return function(o){for(var n="",l=0;o>0;){var u=o%10;n=(u===0?"":r[u]+t[l])+n,l++,o=Math.floor(o/10)}return n.indexOf(r[1]+t[1])===0&&(n=n.substr(1)),n||r[0]}}});function s(r,t,o,n){if(this._calendar=r,this._year=t,this._month=o,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function L(r,t){return r=""+r,"000000".substring(0,t-r.length)+r}b(s.prototype,{newDate:function(r,t,o){return this._calendar.newDate(r??this,t,o)},year:function(r){return arguments.length===0?this._year:this.set(r,"y")},month:function(r){return arguments.length===0?this._month:this.set(r,"m")},day:function(r){return arguments.length===0?this._day:this.set(r,"d")},date:function(r,t,o){if(!this._calendar.isValid(r,t,o))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=r,this._month=t,this._day=o,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(r,t){return this._calendar.add(this,r,t)},set:function(r,t){return this._calendar.set(this,r,t)},compareTo:function(r){if(this._calendar.name!==r._calendar.name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,r._calendar.local.name);var t=this._year!==r._year?this._year-r._year:this._month!==r._month?this.monthOfYear()-r.monthOfYear():this._day-r._day;return t===0?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(r){return this._calendar.fromJD(r)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(r){return this._calendar.fromJSDate(r)},toString:function(){return(this.year()<0?"-":"")+L(Math.abs(this.year()),4)+"-"+L(this.month(),2)+"-"+L(this.day(),2)}});function M(){this.shortYearCutoff="+10"}b(M.prototype,{_validateLevel:0,newDate:function(r,t,o){return r==null?this.today():(r.year&&(this._validate(r,t,o,p.local.invalidDate||p.regionalOptions[""].invalidDate),o=r.day(),t=r.month(),r=r.year()),new s(this,r,t,o))},today:function(){return this.fromJSDate(new Date)},epoch:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return t.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+L(Math.abs(t.year()),4)},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),12},monthOfYear:function(r,t){var o=this._validate(r,t,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return(o.month()+this.monthsInYear(o)-this.firstMonth)%this.monthsInYear(o)+this.minMonth},fromMonthOfYear:function(r,t){var o=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(r)+this.minMonth;return this._validate(r,o,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth),o},daysInYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(r,t,o){var n=this._validate(r,t,o,p.local.invalidDate||p.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(r,t,o){var n=this._validate(r,t,o,p.local.invalidDate||p.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(r,t,o){return this._validate(r,t,o,p.local.invalidDate||p.regionalOptions[""].invalidDate),{}},add:function(r,t,o){return this._validate(r,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate),this._correctAdd(r,this._add(r,t,o),t,o)},_add:function(r,t,o){if(this._validateLevel++,o==="d"||o==="w"){var n=r.toJD()+t*(o==="w"?this.daysInWeek():1),l=r.calendar().fromJD(n);return this._validateLevel--,[l.year(),l.month(),l.day()]}try{var u=r.year()+(o==="y"?t:0),f=r.monthOfYear()+(o==="m"?t:0),l=r.day(),g=function(c){for(;f<c.minMonth;)u--,f+=c.monthsInYear(u);for(var a=c.monthsInYear(u);f>a-1+c.minMonth;)u++,f-=a,a=c.monthsInYear(u)};o==="y"?(r.month()!==this.fromMonthOfYear(u,f)&&(f=this.newDate(u,r.month(),this.minDay).monthOfYear()),f=Math.min(f,this.monthsInYear(u)),l=Math.min(l,this.daysInMonth(u,this.fromMonthOfYear(u,f)))):o==="m"&&(g(this),l=Math.min(l,this.daysInMonth(u,this.fromMonthOfYear(u,f))));var h=[u,this.fromMonthOfYear(u,f),l];return this._validateLevel--,h}catch(w){throw this._validateLevel--,w}},_correctAdd:function(r,t,o,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(t[0]===0||r.year()>0!=t[0]>0)){var l={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],u=o<0?-1:1;t=this._add(r,o*l[0]+u*l[1],l[2])}return r.date(t[0],t[1],t[2])},set:function(r,t,o){this._validate(r,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate);var n=o==="y"?t:r.year(),l=o==="m"?t:r.month(),u=o==="d"?t:r.day();return(o==="y"||o==="m")&&(u=Math.min(u,this.daysInMonth(n,l))),r.date(n,l,u)},isValid:function(r,t,o){this._validateLevel++;var n=this.hasYearZero||r!==0;if(n){var l=this.newDate(r,t,this.minDay);n=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(l)&&o>=this.minDay&&o-this.minDay<this.daysInMonth(l)}return this._validateLevel--,n},toJSDate:function(r,t,o){var n=this._validate(r,t,o,p.local.invalidDate||p.regionalOptions[""].invalidDate);return p.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(r){return this.fromJD(p.instance().fromJSDate(r).toJD())},_validate:function(r,t,o,n){if(r.year){if(this._validateLevel===0&&this.name!==r.calendar().name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,r.calendar().local.name);return r}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(r,t,o))throw n.replace(/\{0\}/,this.local.name);var l=this.newDate(r,t,o);return this._validateLevel--,l}catch(u){throw this._validateLevel--,u}}});function v(r){this.local=this.regionalOptions[r]||this.regionalOptions[""]}v.prototype=new M,b(v.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(o){var t=this._validate(o,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),o=t.year()+(t.year()<0?1:0);return o%4===0&&(o%100!==0||o%400===0)},weekOfYear:function(r,t,o){var n=this.newDate(r,t,o);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(r,t){var o=this._validate(r,t,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===2&&this.leapYear(o.year())?1:0)},weekDay:function(r,t,o){return(this.dayOfWeek(r,t,o)||7)<6},toJD:function(r,t,o){var n=this._validate(r,t,o,p.local.invalidDate||p.regionalOptions[""].invalidDate);r=n.year(),t=n.month(),o=n.day(),r<0&&r++,t<3&&(t+=12,r--);var l=Math.floor(r/100),u=2-l+Math.floor(l/4);return Math.floor(365.25*(r+4716))+Math.floor(30.6001*(t+1))+o+u-1524.5},fromJD:function(r){var t=Math.floor(r+.5),o=Math.floor((t-186721625e-2)/36524.25);o=t+1+o-Math.floor(o/4);var n=o+1524,l=Math.floor((n-122.1)/365.25),u=Math.floor(365.25*l),f=Math.floor((n-u)/30.6001),g=n-u-Math.floor(f*30.6001),h=f-(f>13.5?13:1),w=l-(h>2.5?4716:4715);return w<=0&&w--,this.newDate(w,h,g)},toJSDate:function(r,t,o){var n=this._validate(r,t,o,p.local.invalidDate||p.regionalOptions[""].invalidDate),l=new Date(n.year(),n.month()-1,n.day());return l.setHours(0),l.setMinutes(0),l.setSeconds(0),l.setMilliseconds(0),l.setHours(l.getHours()>12?l.getHours()+2:0),l},fromJSDate:function(r){return this.newDate(r.getFullYear(),r.getMonth()+1,r.getDate())}});var p=Y.exports=new P;p.cdate=s,p.baseCalendar=M,p.calendars.gregorian=v},15168:function(Y,V,e){var b=e(50896),P=e(38700);b(P.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),P.local=P.regionalOptions[""],b(P.cdate.prototype,{formatDate:function(s,L){return typeof s!="string"&&(L=s,s=""),this._calendar.formatDate(s||"",this,L)}}),b(P.baseCalendar.prototype,{UNIX_EPOCH:P.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:P.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(s,L,M){if(typeof s!="string"&&(M=L,L=s,s=""),!L)return"";if(L.calendar()!==this)throw P.local.invalidFormat||P.regionalOptions[""].invalidFormat;s=s||this.local.dateFormat,M=M||{};var v=M.dayNamesShort||this.local.dayNamesShort,p=M.dayNames||this.local.dayNames,r=M.monthNumbers||this.local.monthNumbers,t=M.monthNamesShort||this.local.monthNamesShort,o=M.monthNames||this.local.monthNames;M.calculateWeek||this.local.calculateWeek;for(var n=function(T,C){for(var y=1;x+y<s.length&&s.charAt(x+y)===T;)y++;return x+=y-1,Math.floor(y/(C||1))>1},l=function(T,C,y,S){var A=""+C;if(n(T,S))for(;A.length<y;)A="0"+A;return A},u=function(T,C,y,S){return n(T)?S[C]:y[C]},f=this,g=function(T){return typeof r=="function"?r.call(f,T,n("m")):c(l("m",T.month(),2))},h=function(T,C){return C?typeof o=="function"?o.call(f,T):o[T.month()-f.minMonth]:typeof t=="function"?t.call(f,T):t[T.month()-f.minMonth]},w=this.local.digits,c=function(T){return M.localNumbers&&w?w(T):T},a="",d=!1,x=0;x<s.length;x++)if(d)s.charAt(x)==="'"&&!n("'")?d=!1:a+=s.charAt(x);else switch(s.charAt(x)){case"d":a+=c(l("d",L.day(),2));break;case"D":a+=u("D",L.dayOfWeek(),v,p);break;case"o":a+=l("o",L.dayOfYear(),3);break;case"w":a+=l("w",L.weekOfYear(),2);break;case"m":a+=g(L);break;case"M":a+=h(L,n("M"));break;case"y":a+=n("y",2)?L.year():(L.year()%100<10?"0":"")+L.year()%100;break;case"Y":n("Y",2),a+=L.formatYear();break;case"J":a+=L.toJD();break;case"@":a+=(L.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":a+=(L.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":n("'")?a+="'":d=!0;break;default:a+=s.charAt(x)}return a},parseDate:function(s,L,M){if(L==null)throw P.local.invalidArguments||P.regionalOptions[""].invalidArguments;if(L=typeof L=="object"?L.toString():L+"",L==="")return null;s=s||this.local.dateFormat,M=M||{};var v=M.shortYearCutoff||this.shortYearCutoff;v=typeof v!="string"?v:this.today().year()%100+parseInt(v,10);for(var p=M.dayNamesShort||this.local.dayNamesShort,r=M.dayNames||this.local.dayNames,t=M.parseMonth||this.local.parseMonth,o=M.monthNumbers||this.local.monthNumbers,n=M.monthNamesShort||this.local.monthNamesShort,l=M.monthNames||this.local.monthNames,u=-1,f=-1,g=-1,h=-1,w=-1,c=!1,a=!1,d=function(I,O){for(var _=1;E+_<s.length&&s.charAt(E+_)===I;)_++;return E+=_-1,Math.floor(_/(O||1))>1},x=function(I,O){var _=d(I,O),B=[2,3,_?4:2,_?4:2,10,11,20]["oyYJ@!".indexOf(I)+1],F=new RegExp("^-?\\d{1,"+B+"}"),z=L.substring(i).match(F);if(!z)throw(P.local.missingNumberAt||P.regionalOptions[""].missingNumberAt).replace(/\{0\}/,i);return i+=z[0].length,parseInt(z[0],10)},T=this,C=function(){if(typeof o=="function"){d("m");var I=o.call(T,L.substring(i));return i+=I.length,I}return x("m")},y=function(I,O,_,B){for(var F=d(I,B)?_:O,z=0;z<F.length;z++)if(L.substr(i,F[z].length).toLowerCase()===F[z].toLowerCase())return i+=F[z].length,z+T.minMonth;throw(P.local.unknownNameAt||P.regionalOptions[""].unknownNameAt).replace(/\{0\}/,i)},S=function(){if(typeof l=="function"){var I=d("M")?l.call(T,L.substring(i)):n.call(T,L.substring(i));return i+=I.length,I}return y("M",n,l)},A=function(){if(L.charAt(i)!==s.charAt(E))throw(P.local.unexpectedLiteralAt||P.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,i);i++},i=0,E=0;E<s.length;E++)if(a)s.charAt(E)==="'"&&!d("'")?a=!1:A();else switch(s.charAt(E)){case"d":h=x("d");break;case"D":y("D",p,r);break;case"o":w=x("o");break;case"w":x("w");break;case"m":g=C();break;case"M":g=S();break;case"y":var m=E;c=!d("y",2),E=m,f=x("y",2);break;case"Y":f=x("Y",2);break;case"J":u=x("J")+.5,L.charAt(i)==="."&&(i++,x("J"));break;case"@":u=x("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":u=x("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":i=L.length;break;case"'":d("'")?A():a=!0;break;default:A()}if(i<L.length)throw P.local.unexpectedText||P.regionalOptions[""].unexpectedText;if(f===-1?f=this.today().year():f<100&&c&&(f+=v===-1?1900:this.today().year()-this.today().year()%100-(f<=v?0:100)),typeof g=="string"&&(g=t.call(this,f,g)),w>-1){g=1,h=w;for(var k=this.daysInMonth(f,g);h>k;k=this.daysInMonth(f,g))g++,h-=k}return u>-1?this.fromJD(u):this.newDate(f,g,h)},determineDate:function(s,L,M,v,p){M&&typeof M!="object"&&(p=v,v=M,M=null),typeof v!="string"&&(p=v,v="");var r=this,t=function(o){try{return r.parseDate(v,o,p)}catch{}o=o.toLowerCase();for(var n=(o.match(/^c/)&&M?M.newDate():null)||r.today(),l=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,u=l.exec(o);u;)n.add(parseInt(u[1],10),u[2]||"d"),u=l.exec(o);return n};return L=L?L.newDate():null,s=s==null?L:typeof s=="string"?t(s):typeof s=="number"?isNaN(s)||s===1/0||s===-1/0?L:r.today().add(s,"d"):r.newDate(s),s}})},21576:function(){},19768:function(){},63436:function(Y,V,e){var b=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],P=typeof globalThis>"u"?e.g:globalThis;Y.exports=function(){for(var L=[],M=0;M<b.length;M++)typeof P[b[M]]=="function"&&(L[L.length]=b[M]);return L}},67756:function(Y,V,e){e.d(V,{qy:function(){return Oe},Gz:function(){return se}});function b(Te,Re,Me){Te.prototype=Re.prototype=Me,Me.constructor=Te}function P(Te,Re){var Me=Object.create(Te.prototype);for(var ke in Re)Me[ke]=Re[ke];return Me}function s(){}var L=.7,M=1/L,v="\\s*([+-]?\\d+)\\s*",p="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t=/^#([0-9a-f]{3,8})$/,o=new RegExp("^rgb\\(".concat(v,",").concat(v,",").concat(v,"\\)$")),n=new RegExp("^rgb\\(".concat(r,",").concat(r,",").concat(r,"\\)$")),l=new RegExp("^rgba\\(".concat(v,",").concat(v,",").concat(v,",").concat(p,"\\)$")),u=new RegExp("^rgba\\(".concat(r,",").concat(r,",").concat(r,",").concat(p,"\\)$")),f=new RegExp("^hsl\\(".concat(p,",").concat(r,",").concat(r,"\\)$")),g=new RegExp("^hsla\\(".concat(p,",").concat(r,",").concat(r,",").concat(p,"\\)$")),h={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};b(s,x,{copy:function(Re){return Object.assign(new this.constructor,this,Re)},displayable:function(){return this.rgb().displayable()},hex:w,formatHex:w,formatHex8:c,formatHsl:a,formatRgb:d,toString:d});function w(){return this.rgb().formatHex()}function c(){return this.rgb().formatHex8()}function a(){return B(this).formatHsl()}function d(){return this.rgb().formatRgb()}function x(Te){var Re,Me;return Te=(Te+"").trim().toLowerCase(),(Re=t.exec(Te))?(Me=Re[1].length,Re=parseInt(Re[1],16),Me===6?T(Re):Me===3?new A(Re>>8&15|Re>>4&240,Re>>4&15|Re&240,(Re&15)<<4|Re&15,1):Me===8?C(Re>>24&255,Re>>16&255,Re>>8&255,(Re&255)/255):Me===4?C(Re>>12&15|Re>>8&240,Re>>8&15|Re>>4&240,Re>>4&15|Re&240,((Re&15)<<4|Re&15)/255):null):(Re=o.exec(Te))?new A(Re[1],Re[2],Re[3],1):(Re=n.exec(Te))?new A(Re[1]*255/100,Re[2]*255/100,Re[3]*255/100,1):(Re=l.exec(Te))?C(Re[1],Re[2],Re[3],Re[4]):(Re=u.exec(Te))?C(Re[1]*255/100,Re[2]*255/100,Re[3]*255/100,Re[4]):(Re=f.exec(Te))?_(Re[1],Re[2]/100,Re[3]/100,1):(Re=g.exec(Te))?_(Re[1],Re[2]/100,Re[3]/100,Re[4]):h.hasOwnProperty(Te)?T(h[Te]):Te==="transparent"?new A(NaN,NaN,NaN,0):null}function T(Te){return new A(Te>>16&255,Te>>8&255,Te&255,1)}function C(Te,Re,Me,ke){return ke<=0&&(Te=Re=Me=NaN),new A(Te,Re,Me,ke)}function y(Te){return Te instanceof s||(Te=x(Te)),Te?(Te=Te.rgb(),new A(Te.r,Te.g,Te.b,Te.opacity)):new A}function S(Te,Re,Me,ke){return arguments.length===1?y(Te):new A(Te,Re,Me,ke??1)}function A(Te,Re,Me,ke){this.r=+Te,this.g=+Re,this.b=+Me,this.opacity=+ke}b(A,S,P(s,{brighter:function(Re){return Re=Re==null?M:Math.pow(M,Re),new A(this.r*Re,this.g*Re,this.b*Re,this.opacity)},darker:function(Re){return Re=Re==null?L:Math.pow(L,Re),new A(this.r*Re,this.g*Re,this.b*Re,this.opacity)},rgb:function(){return this},clamp:function(){return new A(I(this.r),I(this.g),I(this.b),k(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:i,formatHex:i,formatHex8:E,formatRgb:m,toString:m}));function i(){return"#".concat(O(this.r)).concat(O(this.g)).concat(O(this.b))}function E(){return"#".concat(O(this.r)).concat(O(this.g)).concat(O(this.b)).concat(O((isNaN(this.opacity)?1:this.opacity)*255))}function m(){var Te=k(this.opacity);return"".concat(Te===1?"rgb(":"rgba(").concat(I(this.r),", ").concat(I(this.g),", ").concat(I(this.b)).concat(Te===1?")":", ".concat(Te,")"))}function k(Te){return isNaN(Te)?1:Math.max(0,Math.min(1,Te))}function I(Te){return Math.max(0,Math.min(255,Math.round(Te)||0))}function O(Te){return Te=I(Te),(Te<16?"0":"")+Te.toString(16)}function _(Te,Re,Me,ke){return ke<=0?Te=Re=Me=NaN:Me<=0||Me>=1?Te=Re=NaN:Re<=0&&(Te=NaN),new z(Te,Re,Me,ke)}function B(Te){if(Te instanceof z)return new z(Te.h,Te.s,Te.l,Te.opacity);if(Te instanceof s||(Te=x(Te)),!Te)return new z;if(Te instanceof z)return Te;Te=Te.rgb();var Re=Te.r/255,Me=Te.g/255,ke=Te.b/255,Se=Math.min(Re,Me,ke),He=Math.max(Re,Me,ke),je=NaN,at=He-Se,Ze=(He+Se)/2;return at?(Re===He?je=(Me-ke)/at+(Me<ke)*6:Me===He?je=(ke-Re)/at+2:je=(Re-Me)/at+4,at/=Ze<.5?He+Se:2-He-Se,je*=60):at=Ze>0&&Ze<1?0:je,new z(je,at,Ze,Te.opacity)}function F(Te,Re,Me,ke){return arguments.length===1?B(Te):new z(Te,Re,Me,ke??1)}function z(Te,Re,Me,ke){this.h=+Te,this.s=+Re,this.l=+Me,this.opacity=+ke}b(z,F,P(s,{brighter:function(Re){return Re=Re==null?M:Math.pow(M,Re),new z(this.h,this.s,this.l*Re,this.opacity)},darker:function(Re){return Re=Re==null?L:Math.pow(L,Re),new z(this.h,this.s,this.l*Re,this.opacity)},rgb:function(){var Re=this.h%360+(this.h<0)*360,Me=isNaN(Re)||isNaN(this.s)?0:this.s,ke=this.l,Se=ke+(ke<.5?ke:1-ke)*Me,He=2*ke-Se;return new A(Z(Re>=240?Re-240:Re+120,He,Se),Z(Re,He,Se),Z(Re<120?Re+240:Re-120,He,Se),this.opacity)},clamp:function(){return new z(N(this.h),W(this.s),W(this.l),k(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Re=k(this.opacity);return"".concat(Re===1?"hsl(":"hsla(").concat(N(this.h),", ").concat(W(this.s)*100,"%, ").concat(W(this.l)*100,"%").concat(Re===1?")":", ".concat(Re,")"))}}));function N(Te){return Te=(Te||0)%360,Te<0?Te+360:Te}function W(Te){return Math.max(0,Math.min(1,Te||0))}function Z(Te,Re,Me){return(Te<60?Re+(Me-Re)*Te/60:Te<180?Me:Te<240?Re+(Me-Re)*(240-Te)/60:Re)*255}var q=function(Te){return function(){return Te}};function re(Te,Re){return function(Me){return Te+Me*Re}}function le(Te,Re,Me){return Te=Math.pow(Te,Me),Re=Math.pow(Re,Me)-Te,Me=1/Me,function(ke){return Math.pow(Te+ke*Re,Me)}}function ie(Te){return(Te=+Te)==1?K:function(Re,Me){return Me-Re?le(Re,Me,Te):q(isNaN(Re)?Me:Re)}}function K(Te,Re){var Me=Re-Te;return Me?re(Te,Me):q(isNaN(Te)?Re:Te)}var $=function Te(Re){var Me=ie(Re);function ke(Se,He){var je=Me((Se=S(Se)).r,(He=S(He)).r),at=Me(Se.g,He.g),Ze=Me(Se.b,He.b),$e=K(Se.opacity,He.opacity);return function(ut){return Se.r=je(ut),Se.g=at(ut),Se.b=Ze(ut),Se.opacity=$e(ut),Se+""}}return ke.gamma=Te,ke}(1);function X(Te,Re){var Me=Re?Re.length:0,ke=Te?Math.min(Me,Te.length):0,Se=new Array(ke),He=new Array(Me),je;for(je=0;je<ke;++je)Se[je]=Oe(Te[je],Re[je]);for(;je<Me;++je)He[je]=Re[je];return function(at){for(je=0;je<ke;++je)He[je]=Se[je](at);return He}}function Q(Te,Re){var Me=new Date;return Te=+Te,Re=+Re,function(ke){return Me.setTime(Te*(1-ke)+Re*ke),Me}}function se(Te,Re){return Te=+Te,Re=+Re,function(Me){return Te*(1-Me)+Re*Me}}function J(Te){"@babel/helpers - typeof";return J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},J(Te)}function G(Te,Re){var Me={},ke={},Se;(Te===null||J(Te)!=="object")&&(Te={}),(Re===null||J(Re)!=="object")&&(Re={});for(Se in Re)Se in Te?Me[Se]=Oe(Te[Se],Re[Se]):ke[Se]=Re[Se];return function(He){for(Se in Me)ke[Se]=Me[Se](He);return ke}}var oe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,te=new RegExp(oe.source,"g");function fe(Te){return function(){return Te}}function ge(Te){return function(Re){return Te(Re)+""}}function we(Te,Re){var Me=oe.lastIndex=te.lastIndex=0,ke,Se,He,je=-1,at=[],Ze=[];for(Te=Te+"",Re=Re+"";(ke=oe.exec(Te))&&(Se=te.exec(Re));)(He=Se.index)>Me&&(He=Re.slice(Me,He),at[je]?at[je]+=He:at[++je]=He),(ke=ke[0])===(Se=Se[0])?at[je]?at[je]+=Se:at[++je]=Se:(at[++je]=null,Ze.push({i:je,x:se(ke,Se)})),Me=te.lastIndex;return Me<Re.length&&(He=Re.slice(Me),at[je]?at[je]+=He:at[++je]=He),at.length<2?Ze[0]?ge(Ze[0].x):fe(Re):(Re=Ze.length,function($e){for(var ut=0,ht;ut<Re;++ut)at[(ht=Ze[ut]).i]=ht.x($e);return at.join("")})}function xe(Te,Re){Re||(Re=[]);var Me=Te?Math.min(Re.length,Te.length):0,ke=Re.slice(),Se;return function(He){for(Se=0;Se<Me;++Se)ke[Se]=Te[Se]*(1-He)+Re[Se]*He;return ke}}function Ce(Te){return ArrayBuffer.isView(Te)&&!(Te instanceof DataView)}function De(Te){"@babel/helpers - typeof";return De=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},De(Te)}function Oe(Te,Re){var Me=De(Re),ke;return Re==null||Me==="boolean"?q(Re):(Me==="number"?se:Me==="string"?(ke=x(Re))?(Re=ke,$):we:Re instanceof x?$:Re instanceof Date?Q:Ce(Re)?xe:Array.isArray(Re)?X:typeof Re.valueOf!="function"&&typeof Re.toString!="function"||isNaN(Re)?G:se)(Te,Re)}},30584:function(Y){Y.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},7294:function(Y){Y.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},47916:function(Y){Y.exports=JSON.parse('["normal","italic","oblique"]')},2904:function(Y){Y.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},68194:function(Y){Y.exports=JSON.parse('["inherit","initial","unset"]')},3748:function(Y){Y.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},Ne={};function ot(Y){var V=Ne[Y];if(V!==void 0)return V.exports;var e=Ne[Y]={exports:{}};return me[Y].call(e.exports,e,e.exports,ot),e.exports}(function(){ot.n=function(Y){var V=Y&&Y.__esModule?function(){return Y.default}:function(){return Y};return ot.d(V,{a:V}),V}})(),function(){ot.d=function(Y,V){for(var e in V)ot.o(V,e)&&!ot.o(Y,e)&&Object.defineProperty(Y,e,{enumerable:!0,get:V[e]})}}(),function(){ot.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){ot.o=function(Y,V){return Object.prototype.hasOwnProperty.call(Y,V)}}(),function(){ot.r=function(Y){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Y,"__esModule",{value:!0})}}();var mt=ot(13792);return mt}()})})(xw);var uA=xw.exports;(function(H){Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var ae=Ne(dw),me=Ne(uA);function Ne(Y){return Y&&Y.__esModule?Y:{default:Y}}var ot=(0,ae.default)(me.default),mt=ot;H.default=mt})(vw);const fA=w0(vw);function cA({plotParams:H}){const[ae,me]=Wa.useState(null),[Ne,ot]=Wa.useState({});return Wa.useEffect(()=>{(async()=>{if(!(H!=null&&H.xDataCol&&(H!=null&&H.yDataCol)))return;const V=await(await fetch(`http://127.0.0.1:8000/api/v1/columns-data?x_col=${H==null?void 0:H.xDataCol}&y_col=${H==null?void 0:H.yDataCol}`)).json();me([{x:V[H==null?void 0:H.xDataCol],y:V[H==null?void 0:H.yDataCol],mode:"lines+markers",type:"scatter"}])})()},[H==null?void 0:H.xDataCol,H==null?void 0:H.yDataCol]),Wa.useEffect(()=>{ot({title:H!=null&&H.plotTitle?H==null?void 0:H.plotTitle:`${H==null?void 0:H.yDataCol} VS ${H==null?void 0:H.xDataCol}`,xaxis:{title:H!=null&&H.xlable?H==null?void 0:H.xlable:H==null?void 0:H.xDataCol},yaxis:{title:H!=null&&H.ylable?H==null?void 0:H.ylable:H==null?void 0:H.yDataCol}})},[H]),H&&ae&&Ha.jsx(fA,{data:ae,layout:Ne})}const hA=["as","disabled"];function vA(H,ae){if(H==null)return{};var me={},Ne=Object.keys(H),ot,mt;for(mt=0;mt<Ne.length;mt++)ot=Ne[mt],!(ae.indexOf(ot)>=0)&&(me[ot]=H[ot]);return me}function dA(H){return!H||H.trim()==="#"}function bw({tagName:H,disabled:ae,href:me,target:Ne,rel:ot,role:mt,onClick:Y,tabIndex:V=0,type:e}){H||(me!=null||Ne!=null||ot!=null?H="a":H="button");const b={tagName:H};if(H==="button")return[{type:e||"button",disabled:ae},b];const P=L=>{if((ae||H==="a"&&dA(me))&&L.preventDefault(),ae){L.stopPropagation();return}Y==null||Y(L)},s=L=>{L.key===" "&&(L.preventDefault(),P(L))};return H==="a"&&(me||(me="#"),ae&&(me=void 0)),[{role:mt??"button",disabled:void 0,tabIndex:ae?void 0:V,href:me,target:H==="a"?Ne:void 0,"aria-disabled":ae||void 0,rel:H==="a"?ot:void 0,onClick:P,onKeyDown:s},b]}const pA=Wa.forwardRef((H,ae)=>{let{as:me,disabled:Ne}=H,ot=vA(H,hA);const[mt,{tagName:Y}]=bw(Object.assign({tagName:me,disabled:Ne},ot));return Ha.jsx(Y,Object.assign({},ot,mt,{ref:ae}))});pA.displayName="Button";const R1=Wa.forwardRef(({as:H,bsPrefix:ae,variant:me="primary",size:Ne,active:ot=!1,disabled:mt=!1,className:Y,...V},e)=>{const b=Fs(ae,"btn"),[P,{tagName:s}]=bw({tagName:H,disabled:mt,...V}),L=s;return Ha.jsx(L,{...P,...V,ref:e,disabled:mt,className:ls(Y,b,ot&&"active",me&&`${b}-${me}`,Ne&&`${b}-${Ne}`,V.href&&mt&&"disabled")})});R1.displayName="Button";const gA={type:Av.string,tooltip:Av.bool,as:Av.elementType},B0=Wa.forwardRef(({as:H="div",className:ae,type:me="valid",tooltip:Ne=!1,...ot},mt)=>Ha.jsx(H,{...ot,ref:mt,className:ls(ae,`${me}-${Ne?"tooltip":"feedback"}`)}));B0.displayName="Feedback";B0.propTypes=gA;const Vf=Wa.createContext({}),D1=Wa.forwardRef(({id:H,bsPrefix:ae,className:me,type:Ne="checkbox",isValid:ot=!1,isInvalid:mt=!1,as:Y="input",...V},e)=>{const{controlId:b}=Wa.useContext(Vf);return ae=Fs(ae,"form-check-input"),Ha.jsx(Y,{...V,ref:e,type:Ne,id:H||b,className:ls(me,ae,ot&&"is-valid",mt&&"is-invalid")})});D1.displayName="FormCheckInput";const x0=Wa.forwardRef(({bsPrefix:H,className:ae,htmlFor:me,...Ne},ot)=>{const{controlId:mt}=Wa.useContext(Vf);return H=Fs(H,"form-check-label"),Ha.jsx("label",{...Ne,ref:ot,htmlFor:me||mt,className:ls(ae,H)})});x0.displayName="FormCheckLabel";function yA(H,ae){return Wa.Children.toArray(H).some(me=>Wa.isValidElement(me)&&me.type===ae)}const ww=Wa.forwardRef(({id:H,bsPrefix:ae,bsSwitchPrefix:me,inline:Ne=!1,reverse:ot=!1,disabled:mt=!1,isValid:Y=!1,isInvalid:V=!1,feedbackTooltip:e=!1,feedback:b,feedbackType:P,className:s,style:L,title:M="",type:v="checkbox",label:p,children:r,as:t="input",...o},n)=>{ae=Fs(ae,"form-check"),me=Fs(me,"form-switch");const{controlId:l}=Wa.useContext(Vf),u=Wa.useMemo(()=>({controlId:H||l}),[l,H]),f=!r&&p!=null&&p!==!1||yA(r,x0),g=Ha.jsx(D1,{...o,type:v==="switch"?"checkbox":v,ref:n,isValid:Y,isInvalid:V,disabled:mt,as:t});return Ha.jsx(Vf.Provider,{value:u,children:Ha.jsx("div",{style:L,className:ls(s,f&&ae,Ne&&`${ae}-inline`,ot&&`${ae}-reverse`,v==="switch"&&me),children:r||Ha.jsxs(Ha.Fragment,{children:[g,f&&Ha.jsx(x0,{title:M,children:p}),b&&Ha.jsx(B0,{type:P,tooltip:e,children:b})]})})})});ww.displayName="FormCheck";const b0=Object.assign(ww,{Input:D1,Label:x0}),Tw=Wa.forwardRef(({bsPrefix:H,type:ae,size:me,htmlSize:Ne,id:ot,className:mt,isValid:Y=!1,isInvalid:V=!1,plaintext:e,readOnly:b,as:P="input",...s},L)=>{const{controlId:M}=Wa.useContext(Vf);return H=Fs(H,"form-control"),Ha.jsx(P,{...s,type:ae,size:Ne,ref:L,readOnly:b,id:ot||M,className:ls(mt,e?`${H}-plaintext`:H,me&&`${H}-${me}`,ae==="color"&&`${H}-color`,Y&&"is-valid",V&&"is-invalid")})});Tw.displayName="FormControl";const mA=Object.assign(Tw,{Feedback:B0}),Aw=Wa.forwardRef(({className:H,bsPrefix:ae,as:me="div",...Ne},ot)=>(ae=Fs(ae,"form-floating"),Ha.jsx(me,{ref:ot,className:ls(H,ae),...Ne})));Aw.displayName="FormFloating";const I1=Wa.forwardRef(({controlId:H,as:ae="div",...me},Ne)=>{const ot=Wa.useMemo(()=>({controlId:H}),[H]);return Ha.jsx(Vf.Provider,{value:ot,children:Ha.jsx(ae,{...me,ref:Ne})})});I1.displayName="FormGroup";const Mw=Wa.forwardRef(({as:H="label",bsPrefix:ae,column:me=!1,visuallyHidden:Ne=!1,className:ot,htmlFor:mt,...Y},V)=>{const{controlId:e}=Wa.useContext(Vf);ae=Fs(ae,"form-label");let b="col-form-label";typeof me=="string"&&(b=`${b} ${b}-${me}`);const P=ls(ot,ae,Ne&&"visually-hidden",me&&b);return mt=mt||e,me?Ha.jsx(m0,{ref:V,as:"label",className:P,htmlFor:mt,...Y}):Ha.jsx(H,{ref:V,className:P,htmlFor:mt,...Y})});Mw.displayName="FormLabel";const Sw=Wa.forwardRef(({bsPrefix:H,className:ae,id:me,...Ne},ot)=>{const{controlId:mt}=Wa.useContext(Vf);return H=Fs(H,"form-range"),Ha.jsx("input",{...Ne,type:"range",ref:ot,className:ls(ae,H),id:me||mt})});Sw.displayName="FormRange";const Ew=Wa.forwardRef(({bsPrefix:H,size:ae,htmlSize:me,className:Ne,isValid:ot=!1,isInvalid:mt=!1,id:Y,...V},e)=>{const{controlId:b}=Wa.useContext(Vf);return H=Fs(H,"form-select"),Ha.jsx("select",{...V,size:me,ref:e,className:ls(Ne,H,ae&&`${H}-${ae}`,ot&&"is-valid",mt&&"is-invalid"),id:Y||b})});Ew.displayName="FormSelect";const Cw=Wa.forwardRef(({bsPrefix:H,className:ae,as:me="small",muted:Ne,...ot},mt)=>(H=Fs(H,"form-text"),Ha.jsx(me,{...ot,ref:mt,className:ls(ae,H,Ne&&"text-muted")})));Cw.displayName="FormText";const Lw=Wa.forwardRef((H,ae)=>Ha.jsx(b0,{...H,ref:ae,type:"switch"}));Lw.displayName="Switch";const xA=Object.assign(Lw,{Input:b0.Input,Label:b0.Label}),Pw=Wa.forwardRef(({bsPrefix:H,className:ae,children:me,controlId:Ne,label:ot,...mt},Y)=>(H=Fs(H,"form-floating"),Ha.jsxs(I1,{ref:Y,className:ls(ae,H),controlId:Ne,...mt,children:[me,Ha.jsx("label",{htmlFor:Ne,children:ot})]})));Pw.displayName="FloatingLabel";const bA={_ref:Av.any,validated:Av.bool,as:Av.elementType},k1=Wa.forwardRef(({className:H,validated:ae,as:me="form",...Ne},ot)=>Ha.jsx(me,{...Ne,ref:ot,className:ls(H,ae&&"was-validated")}));k1.displayName="Form";k1.propTypes=bA;const qs=Object.assign(k1,{Group:I1,Control:mA,Floating:Aw,Check:b0,Switch:xA,Label:Mw,Text:Cw,Range:Sw,Select:Ew,FloatingLabel:Pw}),wA=({className:H,updatePlotParams:ae})=>{const[me,Ne]=Wa.useState([]),[ot,mt]=Wa.useState(""),[Y,V]=Wa.useState(""),[e,b]=Wa.useState(null),[P,s]=Wa.useState(""),[L,M]=Wa.useState(null);Wa.useEffect(()=>{(async()=>{const t=await(await fetch("http://127.0.0.1:8000/api/v1/columns")).json();Ne(t)})()},[]);const v=p=>{p.preventDefault(),ae({plotTitle:ot,xlable:Y,xDataCol:e,ylable:P,yDataCol:L})};return Ha.jsxs(qs,{className:`mt-5 ${H}`,children:[Ha.jsx(qs.Group,{className:"mt-3 mb-3",children:Ha.jsx(qs.Control,{type:"text",placeholder:"Plot Title",value:ot,onChange:p=>mt(p.target.value)})}),Ha.jsx(qs.Group,{className:"mb-3",children:Ha.jsxs(qs.Select,{defaultValue:"x-Data",id:"x-data-src","aria-label":"x-Data",onChange:p=>b(p.target.value),children:[Ha.jsx("option",{value:"x-Data",disabled:!0,children:"x-Data"}),me&&me.map(p=>Ha.jsx("option",{value:p,children:p},p))]})}),Ha.jsx(qs.Group,{className:"mb-3",children:Ha.jsx(qs.Control,{type:"text",id:"x-axis-label",placeholder:"x-Axis Label",value:Y,onChange:p=>V(p.target.value)})}),Ha.jsx(qs.Group,{className:"mb-3",children:Ha.jsxs(qs.Select,{defaultValue:"y-Data",id:"y-data-src","aria-label":"y-Data",onChange:p=>M(p.target.value),children:[Ha.jsx("option",{value:"y-Data",disabled:!0,children:"y-Data"}),me&&me.map(p=>Ha.jsx("option",{value:p,children:p},p))]})}),Ha.jsx(qs.Group,{className:"mb-3",children:Ha.jsx(qs.Control,{type:"text",id:"y-axis-label",placeholder:"y-Axis Label",value:P,onChange:p=>s(p.target.value)})}),Ha.jsx(R1,{className:"submit-btn",variant:"primary",type:"submit",onClick:v,children:"Submit"})]})},TA=()=>{const[H,ae]=Wa.useState(null),me=async Ne=>{if(!H)return;Ne.preventDefault();let ot=new FormData;ot.append("file",H);const Y=await(await fetch("http://127.0.0.1:8000/api/v1/upload-csv",{method:"POST",body:ot})).json();ae(null),console.log(Y)};return Ha.jsxs(qs,{className:"mt-5",children:[Ha.jsx(qs.Group,{className:"mt-3 mb-3",children:Ha.jsx(qs.Control,{type:"file",placeholder:"csv file to upload",onChange:Ne=>{console.log(Ne.target.files[0]),ae(Ne.target.files[0])}})}),Ha.jsx(R1,{className:"submit-btn",variant:"primary",type:"submit",onClick:me,children:"Upload"})]})};function AA(){const[H,ae]=Wa.useState(null);return Ha.jsxs(hw,{fluid:"md",children:[Ha.jsx(_y,{children:Ha.jsx(TA,{})}),Ha.jsxs(_y,{children:[Ha.jsx(m0,{md:"4",children:Ha.jsx(wA,{className:"form",updatePlotParams:ae})}),Ha.jsx(m0,{md:"8",className:"plot-container",children:Ha.jsx(cA,{plotParams:H})})]})]})}Vg.createRoot(document.getElementById("root")).render(Ha.jsx(GT.StrictMode,{children:Ha.jsx(AA,{})}));
